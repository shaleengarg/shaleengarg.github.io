<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: btrfs/extent-tree.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('extent-tree_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">extent-tree.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/sched/signal.h&gt;</code><br />
<code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &lt;linux/blkdev.h&gt;</code><br />
<code>#include &lt;linux/sort.h&gt;</code><br />
<code>#include &lt;linux/rcupdate.h&gt;</code><br />
<code>#include &lt;linux/kthread.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/ratelimit.h&gt;</code><br />
<code>#include &lt;linux/percpu_counter.h&gt;</code><br />
<code>#include &lt;linux/lockdep.h&gt;</code><br />
<code>#include &lt;linux/crc32c.h&gt;</code><br />
<code>#include &quot;<a class="el" href="tree-log_8h_source.html">tree-log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disk-io_8h_source.html">disk-io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="print-tree_8h_source.html">print-tree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="volumes_8h_source.html">volumes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="raid56_8h_source.html">raid56.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="locking_8h_source.html">locking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="free-space-cache_8h_source.html">free-space-cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="free-space-tree_8h_source.html">free-space-tree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="math_8h_source.html">math.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btrfs_2sysfs_8h_source.html">sysfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qgroup_8h_source.html">qgroup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ref-verify_8h_source.html">ref-verify.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for extent-tree.c:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c__incl.png" border="0" usemap="#btrfs_2extent-tree_8c" alt=""/></div>
<map name="btrfs_2extent-tree_8c" id="btrfs_2extent-tree_8c">
<area shape="rect" id="node15" href="tree-log_8h.html" title="tree&#45;log.h" alt="" coords="1679,80,1755,107"/>
<area shape="rect" id="node37" href="disk-io_8h.html" title="disk&#45;io.h" alt="" coords="3173,80,3244,107"/>
<area shape="rect" id="node38" href="print-tree_8h.html" title="print&#45;tree.h" alt="" coords="3268,80,3352,107"/>
<area shape="rect" id="node39" href="volumes_8h.html" title="volumes.h" alt="" coords="2078,80,2161,107"/>
<area shape="rect" id="node41" href="raid56_8h.html" title="raid56.h" alt="" coords="3376,80,3444,107"/>
<area shape="rect" id="node42" href="locking_8h.html" title="locking.h" alt="" coords="3469,80,3543,107"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html" title="free&#45;space&#45;cache.h" alt="" coords="3567,80,3701,107"/>
<area shape="rect" id="node44" href="free-space-tree_8h.html" title="free&#45;space&#45;tree.h" alt="" coords="3725,80,3845,107"/>
<area shape="rect" id="node45" href="math_8h.html" title="math.h" alt="" coords="3869,80,3932,107"/>
<area shape="rect" id="node47" href="btrfs_2sysfs_8h.html" title="sysfs.h" alt="" coords="3956,80,4021,107"/>
<area shape="rect" id="node48" href="qgroup_8h.html" title="qgroup.h" alt="" coords="1830,80,1902,107"/>
<area shape="rect" id="node50" href="ref-verify_8h.html" title="ref&#45;verify.h" alt="" coords="4045,80,4129,107"/>
<area shape="rect" id="node16" href="ctree_8h.html" title="ctree.h" alt="" coords="1599,229,1661,256"/>
<area shape="rect" id="node35" href="transaction_8h.html" title="transaction.h" alt="" coords="1668,155,1765,181"/>
<area shape="rect" id="node34" href="async-thread_8h.html" title="async&#45;thread.h" alt="" coords="2677,304,2785,331"/>
<area shape="rect" id="node36" href="delayed-ref_8h.html" title="delayed&#45;ref.h" alt="" coords="1720,229,1817,256"/>
<area shape="rect" id="node49" href="ulist_8h.html" title="ulist.h" alt="" coords="1841,155,1899,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structasync__delayed__refs.html">async_delayed_refs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreserve__ticket.html">reserve_ticket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwalk__control.html">walk_control</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1977fdcd00b52c8c3819bf8e8ecac09d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1977fdcd00b52c8c3819bf8e8ecac09d">in_range</a>(b,  first,  <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)&#160;&#160;&#160;((b) &gt;= (first) &amp;&amp; (b) &lt; (first) + (<a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>))</td></tr>
<tr class="separator:a1977fdcd00b52c8c3819bf8e8ecac09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a2cdcb3978a6a478bf8359b5ac67e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a77a2cdcb3978a6a478bf8359b5ac67e0">EXTENT_SIZE_PER_ITEM</a>&#160;&#160;&#160;SZ_256K</td></tr>
<tr class="separator:a77a2cdcb3978a6a478bf8359b5ac67e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc4a8af9d1e3b19698b223a4c43cbc1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aabc4a8af9d1e3b19698b223a4c43cbc1">DROP_REFERENCE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aabc4a8af9d1e3b19698b223a4c43cbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4183095b702f730680c7add99dd8b1bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a4183095b702f730680c7add99dd8b1bc">UPDATE_BACKREF</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a4183095b702f730680c7add99dd8b1bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a77867ab4129f63159b37bca3b652a798"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="extent-tree_8c.html#a77867ab4129f63159b37bca3b652a798a09ae9b708521bf8160df18116d72dd41">CHUNK_ALLOC_NO_FORCE</a> = 0, 
<a class="el" href="extent-tree_8c.html#a77867ab4129f63159b37bca3b652a798aa4889934ef9b6df327145991e97d497a">CHUNK_ALLOC_LIMITED</a> = 1, 
<a class="el" href="extent-tree_8c.html#a77867ab4129f63159b37bca3b652a798a75b83f065d766a9a8fc762acfc71b81a">CHUNK_ALLOC_FORCE</a> = 2
 }</td></tr>
<tr class="separator:a77867ab4129f63159b37bca3b652a798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a375bc01a97f749d3f5931246b41ee0da"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a375bc01a97f749d3f5931246b41ee0da">btrfs_loop_type</a> { <a class="el" href="extent-tree_8c.html#a375bc01a97f749d3f5931246b41ee0daafd69c3a8e21915445bebb024f31944cd">LOOP_CACHING_NOWAIT</a> = 0, 
<a class="el" href="extent-tree_8c.html#a375bc01a97f749d3f5931246b41ee0daaa45e9f6c5ace6fa10950a3b4b6946c54">LOOP_CACHING_WAIT</a> = 1, 
<a class="el" href="extent-tree_8c.html#a375bc01a97f749d3f5931246b41ee0daa5e27fb1ef9c280a1b923da8484cd08bd">LOOP_ALLOC_CHUNK</a> = 2, 
<a class="el" href="extent-tree_8c.html#a375bc01a97f749d3f5931246b41ee0daa8158232d59cde977fafa199b25f16ea5">LOOP_NO_EMPTY_SIZE</a> = 3
 }</td></tr>
<tr class="separator:a375bc01a97f749d3f5931246b41ee0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af3eb8e3c0d7540ac3f9568eec93bdadc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc">__btrfs_free_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *node, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 owner_objectid, u64 owner_offset, int refs_to_drop, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extra_op)</td></tr>
<tr class="separator:af3eb8e3c0d7540ac3f9568eec93bdadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4512e3030b8eac9bff49664cc9913a4f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f">__run_delayed_extent_op</a> (struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *leaf, struct btrfs_extent_item *ei)</td></tr>
<tr class="separator:a4512e3030b8eac9bff49664cc9913a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735d547e038812ae2135a36963b971a4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4">alloc_reserved_file_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="structflags.html">flags</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, struct btrfs_key *ins, int ref_mod)</td></tr>
<tr class="separator:a735d547e038812ae2135a36963b971a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc111291e723d83e611898a92a0aa4a9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9">alloc_reserved_tree_block</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="structflags.html">flags</a>, struct btrfs_disk_key *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, struct btrfs_key *ins)</td></tr>
<tr class="separator:afc111291e723d83e611898a92a0aa4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6ccd3bca85f0802e3ed439b8cc1dea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea">do_chunk_alloc</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="structflags.html">flags</a>, int force)</td></tr>
<tr class="separator:a1a6ccd3bca85f0802e3ed439b8cc1dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3eed0c6b455d426e16705b580a4e01f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f">find_next_key</a> (struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, struct btrfs_key *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:af3eed0c6b455d426e16705b580a4e01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7f6e48fc93a32e56023f21639d9aa5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5">dump_space_info</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *info, u64 bytes, int dump_block_groups)</td></tr>
<tr class="separator:aac7f6e48fc93a32e56023f21639d9aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238bc256e167bfe52b474496bab70e2a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a">block_rsv_use_bytes</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u64 num_bytes)</td></tr>
<tr class="separator:a238bc256e167bfe52b474496bab70e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0e7a8e834b66bac9c1783da85fddb0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0">space_info_add_new_bytes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 num_bytes)</td></tr>
<tr class="separator:afe0e7a8e834b66bac9c1783da85fddb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa">space_info_add_old_bytes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 num_bytes)</td></tr>
<tr class="separator:a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d5f0e32ea32a77e17155937cdd487e"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e">block_group_cache_done</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:ac3d5f0e32ea32a77e17155937cdd487e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2544a4a7d14b038817834ad57e5328"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aeb2544a4a7d14b038817834ad57e5328">block_group_bits</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, u64 bits)</td></tr>
<tr class="separator:aeb2544a4a7d14b038817834ad57e5328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace85feeb22eab4716a3ad00746ef5817"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817">btrfs_get_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:ace85feeb22eab4716a3ad00746ef5817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c1db724e5d0cda79ae1b3e4e7ba743"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743">btrfs_put_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:a58c1db724e5d0cda79ae1b3e4e7ba743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ebbf7fefd63e6e7c97ca63112438e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad9ebbf7fefd63e6e7c97ca63112438e2">btrfs_add_block_group_cache</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:ad9ebbf7fefd63e6e7c97ca63112438e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeaa2e156294739421220cde258a3db2"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2">block_group_cache_tree_search</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, int contains)</td></tr>
<tr class="separator:aeeaa2e156294739421220cde258a3db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8d1dcec08d810d825734e98ca35e46"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46">add_excluded_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 num_bytes)</td></tr>
<tr class="separator:a7b8d1dcec08d810d825734e98ca35e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88fcda7a7a85adc5fb8c20070cfc827"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827">free_excluded_extents</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:aa88fcda7a7a85adc5fb8c20070cfc827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598ec202df7c623262253ae2ea1e6956"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956">exclude_super_stripes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:a598ec202df7c623262253ae2ea1e6956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bb3f85aff7cd45fbfb5d75da039e3a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a">get_caching_control</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:a67bb3f85aff7cd45fbfb5d75da039e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c1b4ba0d9c46420b6b0b34dff77385"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385">put_caching_control</a> (struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *ctl)</td></tr>
<tr class="separator:ab5c1b4ba0d9c46420b6b0b34dff77385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23810d890561f72d6e81b0a807ded999"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999">add_new_free_space</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 end)</td></tr>
<tr class="separator:a23810d890561f72d6e81b0a807ded999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a8f87c92803f428390002dc6b1cb2b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b">load_extent_tree_free</a> (struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *caching_ctl)</td></tr>
<tr class="separator:a13a8f87c92803f428390002dc6b1cb2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9df55452408c9f40ce3eec0b3b3ea5a"><td class="memItemLeft" align="right" valign="top">static noinline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a">caching_thread</a> (struct <a class="el" href="structbtrfs__work.html">btrfs_work</a> *work)</td></tr>
<tr class="separator:ab9df55452408c9f40ce3eec0b3b3ea5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9646e1c701dfae4177534747d32c7d6f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f">cache_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, int load_cache_only)</td></tr>
<tr class="separator:a9646e1c701dfae4177534747d32c7d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fab7e34aa123a0ddf6bbb75dcd5c260"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260">btrfs_lookup_first_block_group</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a7fab7e34aa123a0ddf6bbb75dcd5c260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ea7458615bced8e4c446085efee976"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976">btrfs_lookup_block_group</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:ab9ea7458615bced8e4c446085efee976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b75b50b8296c727405cbbd69a1a2c0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0">__find_space_info</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:ab5b75b50b8296c727405cbbd69a1a2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a03b46ba34257238b4b04a3a71eea29"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29">add_pinned_bytes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, s64 num_bytes, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>)</td></tr>
<tr class="separator:a5a03b46ba34257238b4b04a3a71eea29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24393d1a65f62a058b4a9dc7ad3ce42a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a24393d1a65f62a058b4a9dc7ad3ce42a">btrfs_clear_space_info_full</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info)</td></tr>
<tr class="separator:a24393d1a65f62a058b4a9dc7ad3ce42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b703dc5bb638ed6e6375073cf4cf6dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1b703dc5bb638ed6e6375073cf4cf6dd">btrfs_lookup_data_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a1b703dc5bb638ed6e6375073cf4cf6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf50db6f0c334b7307bc8ffeebc91e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2">btrfs_lookup_extent_info</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int metadata, u64 *refs, u64 *<a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:aebf50db6f0c334b7307bc8ffeebc91e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdc354034afcb91ceb7c2281073d57c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c">convert_extent_item_v0</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u32 extra_size)</td></tr>
<tr class="separator:adfdc354034afcb91ceb7c2281073d57c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a78461cbfe3cc3900e6548a0c333fef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef">btrfs_get_extent_inline_ref_type</a> (const struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb, struct btrfs_extent_inline_ref *iref, enum <a class="el" href="ctree_8h.html#a44c1296e6f3ed79d86ca47e8c1ebfdbe">btrfs_inline_ref_type</a> is_data)</td></tr>
<tr class="separator:a5a78461cbfe3cc3900e6548a0c333fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbe5a5e06ec6a5bd187134407d78700"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700">hash_extent_data_ref</a> (u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a5fbe5a5e06ec6a5bd187134407d78700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9b9ca53a252d6fdc009132cdf0a951"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aba9b9ca53a252d6fdc009132cdf0a951">hash_extent_data_ref_item</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *leaf, struct btrfs_extent_data_ref *ref)</td></tr>
<tr class="separator:aba9b9ca53a252d6fdc009132cdf0a951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e120210b07d3749c513027982d72931"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931">match_extent_data_ref</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *leaf, struct btrfs_extent_data_ref *ref, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a0e120210b07d3749c513027982d72931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162171ec8243beab5288ac61fb4cbddd"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd">lookup_extent_data_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a162171ec8243beab5288ac61fb4cbddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c5a39bb02ca446ac87cf4b085b5ef2c"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a3c5a39bb02ca446ac87cf4b085b5ef2c">insert_extent_data_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int refs_to_add)</td></tr>
<tr class="separator:a3c5a39bb02ca446ac87cf4b085b5ef2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d57d05fcd8243fab58757f0cc1f02a"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a00d57d05fcd8243fab58757f0cc1f02a">remove_extent_data_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, int refs_to_drop, int *last_ref)</td></tr>
<tr class="separator:a00d57d05fcd8243fab58757f0cc1f02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c938c9a797972d706531786b28c86b6"><td class="memItemLeft" align="right" valign="top">static noinline u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6">extent_data_ref_count</a> (struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_extent_inline_ref *iref)</td></tr>
<tr class="separator:a2c938c9a797972d706531786b28c86b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28901581af8d1ea71c55bb02dd46697"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697">lookup_tree_block_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>)</td></tr>
<tr class="separator:ae28901581af8d1ea71c55bb02dd46697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c934aea8391ab8a503abd106494e5c"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a50c934aea8391ab8a503abd106494e5c">insert_tree_block_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>)</td></tr>
<tr class="separator:a50c934aea8391ab8a503abd106494e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fe0fd796b0c0b5ec8d23ebe99d9338"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a12fe0fd796b0c0b5ec8d23ebe99d9338">extent_ref_type</a> (u64 parent, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>)</td></tr>
<tr class="separator:a12fe0fd796b0c0b5ec8d23ebe99d9338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f9145b443bc0b2a38bead52f7f7ad8"><td class="memItemLeft" align="right" valign="top">static noinline_for_stack int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8">lookup_inline_extent_backref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_extent_inline_ref **ref_ret, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int insert)</td></tr>
<tr class="separator:ac1f9145b443bc0b2a38bead52f7f7ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec9fdbe8ebafbc9aee8eca71c1d5a89"><td class="memItemLeft" align="right" valign="top">static noinline_for_stack void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89">setup_inline_extent_backref</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_extent_inline_ref *iref, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int refs_to_add, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op)</td></tr>
<tr class="separator:abec9fdbe8ebafbc9aee8eca71c1d5a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92921030679dd91b8150152bfd52ced1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1">lookup_extent_backref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_extent_inline_ref **ref_ret, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a92921030679dd91b8150152bfd52ced1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9fef6dab28ed49a8ba8a56ab4eb9bc"><td class="memItemLeft" align="right" valign="top">static noinline_for_stack void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc">update_inline_extent_backref</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_extent_inline_ref *iref, int refs_to_mod, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op, int *last_ref)</td></tr>
<tr class="separator:afe9fef6dab28ed49a8ba8a56ab4eb9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8660121c6ebe1f43253b73103660590"><td class="memItemLeft" align="right" valign="top">static noinline_for_stack int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590">insert_inline_extent_backref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int refs_to_add, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op)</td></tr>
<tr class="separator:ae8660121c6ebe1f43253b73103660590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3765736cd72cc46ae00b8c1d7102aa38"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38">insert_extent_backref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int refs_to_add)</td></tr>
<tr class="separator:a3765736cd72cc46ae00b8c1d7102aa38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35acd71362afb7707c60e3dcf1fab879"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879">remove_extent_backref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_extent_inline_ref *iref, int refs_to_drop, int is_data, int *last_ref)</td></tr>
<tr class="separator:a35acd71362afb7707c60e3dcf1fab879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96348d13a074b86a55eca5ff696447a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a">btrfs_issue_discard</a> (struct block_device *bdev, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, u64 *discarded_bytes)</td></tr>
<tr class="separator:ab96348d13a074b86a55eca5ff696447a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb5efae18fa3654d1cefbe4b8ee2217"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217">btrfs_discard_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 *actual_bytes)</td></tr>
<tr class="separator:aebb5efae18fa3654d1cefbe4b8ee2217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7090e03dcf937f73e3defbb2cb64eb9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f">btrfs_inc_extent_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a7090e03dcf937f73e3defbb2cb64eb9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980ad4ba4d6e5b8a8afd47f1fcbe5dd8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8">__btrfs_inc_extent_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *node, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int refs_to_add, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op)</td></tr>
<tr class="separator:a980ad4ba4d6e5b8a8afd47f1fcbe5dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ebdc0ca58091867b6424fa14f678823"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823">run_delayed_data_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *node, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op, int insert_reserved)</td></tr>
<tr class="separator:a9ebdc0ca58091867b6424fa14f678823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39848de1809ef7931b18488989b303af"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af">run_delayed_extent_op</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op)</td></tr>
<tr class="separator:a39848de1809ef7931b18488989b303af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f454317c92fcafe6d59ae2aebb1d640"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640">run_delayed_tree_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *node, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op, int insert_reserved)</td></tr>
<tr class="separator:a8f454317c92fcafe6d59ae2aebb1d640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859f3d3ef247b5b0d0247ffa502c3179"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179">run_one_delayed_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *node, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op, int insert_reserved)</td></tr>
<tr class="separator:a859f3d3ef247b5b0d0247ffa502c3179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bc63d000532e47f08dcf8318d11bd2"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a76bc63d000532e47f08dcf8318d11bd2">select_delayed_ref</a> (struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head)</td></tr>
<tr class="separator:a76bc63d000532e47f08dcf8318d11bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a571db94bf78cafcc058fb222fe75a3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3">unselect_delayed_ref_head</a> (struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head)</td></tr>
<tr class="separator:a4a571db94bf78cafcc058fb222fe75a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f199942e0a905e1b437365e22a1e58"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58">cleanup_extent_op</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head)</td></tr>
<tr class="separator:a76f199942e0a905e1b437365e22a1e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5184640b93397015f3da1946b3d154fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa">cleanup_ref_head</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head)</td></tr>
<tr class="separator:a5184640b93397015f3da1946b3d154fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c05c78bd1cd2a89981c7f3f11fdd9ce"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce">__btrfs_run_delayed_refs</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, unsigned long nr)</td></tr>
<tr class="separator:a4c05c78bd1cd2a89981c7f3f11fdd9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad892acc76b8e8be495319c6bd06bb0d"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aad892acc76b8e8be495319c6bd06bb0d">heads_to_leaves</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 heads)</td></tr>
<tr class="separator:aad892acc76b8e8be495319c6bd06bb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d26d64ee10ff5e2f0119729665ea2b"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b">btrfs_csum_bytes_to_leaves</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 csum_bytes)</td></tr>
<tr class="separator:a19d26d64ee10ff5e2f0119729665ea2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015def9bee2b1099427293a76b4d9dac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a015def9bee2b1099427293a76b4d9dac">btrfs_check_space_for_delayed_refs</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a015def9bee2b1099427293a76b4d9dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb20595513c36f0512690d5523aadcd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6eb20595513c36f0512690d5523aadcd">btrfs_should_throttle_delayed_refs</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a6eb20595513c36f0512690d5523aadcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0036c5b3686f83778537ab61f515fecb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structasync__delayed__refs.html">async_delayed_refs</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0036c5b3686f83778537ab61f515fecb">to_async_delayed_refs</a> (struct <a class="el" href="structbtrfs__work.html">btrfs_work</a> *work)</td></tr>
<tr class="separator:a0036c5b3686f83778537ab61f515fecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2dff8b8137364269478739101093c0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0">delayed_ref_async_start</a> (struct <a class="el" href="structbtrfs__work.html">btrfs_work</a> *work)</td></tr>
<tr class="separator:ace2dff8b8137364269478739101093c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace543e517c4e9638c0b8914390df3d2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f">btrfs_async_run_delayed_refs</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, unsigned long <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>, u64 transid, int wait)</td></tr>
<tr class="separator:ace543e517c4e9638c0b8914390df3d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c4792a0fa4d5bcdcc893196580f716"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716">btrfs_run_delayed_refs</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, unsigned long <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>)</td></tr>
<tr class="separator:ad7c4792a0fa4d5bcdcc893196580f716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2575f73cc334986f6cf0795278edf5d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4">btrfs_set_disk_extent_flags</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 <a class="el" href="structflags.html">flags</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int is_data)</td></tr>
<tr class="separator:a2575f73cc334986f6cf0795278edf5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3afc1b70be9f07a784b42718425b106a"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a">check_delayed_ref</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="btrfs_2export_8h.html#a76394a29da9f78441e8fc3d7a3cbf660">objectid</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a3afc1b70be9f07a784b42718425b106a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac975f6e8b7b026a13939fb9655b43968"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac975f6e8b7b026a13939fb9655b43968">check_committed_ref</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="btrfs_2export_8h.html#a76394a29da9f78441e8fc3d7a3cbf660">objectid</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:ac975f6e8b7b026a13939fb9655b43968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8834945cdbad2bed4f5e54c0dc4bf4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4">btrfs_cross_ref_exist</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 <a class="el" href="btrfs_2export_8h.html#a76394a29da9f78441e8fc3d7a3cbf660">objectid</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a0e8834945cdbad2bed4f5e54c0dc4bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9708909148bdab4ba21561b6c63015c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c">__btrfs_mod_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *buf, int full_backref, int inc)</td></tr>
<tr class="separator:aa9708909148bdab4ba21561b6c63015c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6201d3d49ef1ea5cecafd8b0215f7883"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883">btrfs_inc_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *buf, int full_backref)</td></tr>
<tr class="separator:a6201d3d49ef1ea5cecafd8b0215f7883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8356881002980ed9b5559c711f40aee3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3">btrfs_dec_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *buf, int full_backref)</td></tr>
<tr class="separator:a8356881002980ed9b5559c711f40aee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ce6a61ceafda77cdb7aca1b86d2280"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a75ce6a61ceafda77cdb7aca1b86d2280">write_one_cache_group</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:a75ce6a61ceafda77cdb7aca1b86d2280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d340e1c5d27e966cbeef647de953c7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7">next_block_group</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:ac4d340e1c5d27e966cbeef647de953c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d1eff4281362f0fd82cfe3d875f36d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d">cache_save_setup</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a98d1eff4281362f0fd82cfe3d875f36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1b91a265cecbb96209a3d552369472"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472">btrfs_setup_space_cache</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a6a1b91a265cecbb96209a3d552369472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f068f9d47114874cc93df9070ff355"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355">btrfs_start_dirty_block_groups</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans)</td></tr>
<tr class="separator:ad3f068f9d47114874cc93df9070ff355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa3a9e381f4b137b7b746750446fdc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8">btrfs_write_dirty_block_groups</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a2aa3a9e381f4b137b7b746750446fdc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76997d3ed3b79189dae0c8e198b56c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af76997d3ed3b79189dae0c8e198b56c5">btrfs_extent_readonly</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:af76997d3ed3b79189dae0c8e198b56c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76483eecba3166ce54113a8b1103b92c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a76483eecba3166ce54113a8b1103b92c">btrfs_inc_nocow_writers</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a76483eecba3166ce54113a8b1103b92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b89d293c884b9014958a872e807f461"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7b89d293c884b9014958a872e807f461">btrfs_dec_nocow_writers</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a7b89d293c884b9014958a872e807f461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed66043c7227815a391ec5c94f0a130c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aed66043c7227815a391ec5c94f0a130c">btrfs_wait_nocow_writers</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *bg)</td></tr>
<tr class="separator:aed66043c7227815a391ec5c94f0a130c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3477a79f1fe1ff7a32a7babaf304d719"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a3477a79f1fe1ff7a32a7babaf304d719">alloc_name</a> (u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:a3477a79f1fe1ff7a32a7babaf304d719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b415ce607865d97e9e385d9b572e6f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a17b415ce607865d97e9e385d9b572e6f">create_space_info</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="structflags.html">flags</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> **new)</td></tr>
<tr class="separator:a17b415ce607865d97e9e385d9b572e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe237c9268ec98ee009ae4b0e493bfc7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#abe237c9268ec98ee009ae4b0e493bfc7">update_space_info</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="structflags.html">flags</a>, u64 <a class="el" href="ctree_8h.html#a3c7a1640dcb176e33a85b9bd5a09c143">total_bytes</a>, u64 <a class="el" href="ctree_8h.html#a18c09ec5a7682f243bbc38dbb28901c5">bytes_used</a>, u64 bytes_readonly, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> **space_info)</td></tr>
<tr class="separator:abe237c9268ec98ee009ae4b0e493bfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c4a95c46dc315cec16d7ab190fc99d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a74c4a95c46dc315cec16d7ab190fc99d">set_avail_alloc_bits</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:a74c4a95c46dc315cec16d7ab190fc99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6fd06b907338ed8748602d3ea9d5dc"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc">get_restripe_target</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:a2d6fd06b907338ed8748602d3ea9d5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5467485aa7250c63dc40050d97bde86"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86">btrfs_reduce_alloc_profile</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:af5467485aa7250c63dc40050d97bde86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3fc5eec559f710720299d9d909ea425"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425">get_alloc_profile</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 orig_flags)</td></tr>
<tr class="separator:aa3fc5eec559f710720299d9d909ea425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e508943d0e877bfd1f3f7f2d1f5c99"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a75e508943d0e877bfd1f3f7f2d1f5c99">get_alloc_profile_by_root</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, int <a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a75e508943d0e877bfd1f3f7f2d1f5c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fb96e7db9951f59ff16284f410f3ae"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae">btrfs_data_alloc_profile</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:ac1fb96e7db9951f59ff16284f410f3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef9af87070c1a268c635a5f92cf75c89"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89">btrfs_metadata_alloc_profile</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:aef9af87070c1a268c635a5f92cf75c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4e63c8fc9a1293dce589e186c9dcae"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae">btrfs_system_alloc_profile</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a5d4e63c8fc9a1293dce589e186c9dcae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b7d9c3ff801b90a5a078f917b12de0"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0">btrfs_space_info_used</a> (struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *s_info, bool may_use_included)</td></tr>
<tr class="separator:a81b7d9c3ff801b90a5a078f917b12de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba9cb027c5a8665658584634f8ff4c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0">btrfs_alloc_data_chunk_ondemand</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 bytes)</td></tr>
<tr class="separator:a6ba9cb027c5a8665658584634f8ff4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a9875d64caffffe287261a4fc6cbe3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3">btrfs_check_data_free_space</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structextent__changeset.html">extent_changeset</a> **<a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a66a9875d64caffffe287261a4fc6cbe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6298454047d06ed58559cb27578ab8b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2">btrfs_free_reserved_data_space_noquota</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a6298454047d06ed58559cb27578ab8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5493ecbdd23a2cf646a8cc4c2836229"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af5493ecbdd23a2cf646a8cc4c2836229">btrfs_free_reserved_data_space</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structextent__changeset.html">extent_changeset</a> *<a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:af5493ecbdd23a2cf646a8cc4c2836229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e339606cc4f72495a2568d912abfad4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4">force_metadata_allocation</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info)</td></tr>
<tr class="separator:a9e339606cc4f72495a2568d912abfad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce5a906dee944f5d5b6cd7d03e2d3b2"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2">calc_global_rsv_need_space</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *global)</td></tr>
<tr class="separator:a1ce5a906dee944f5d5b6cd7d03e2d3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090197caaeb3acc23a31aafbb4f2c97c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c">should_alloc_chunk</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *sinfo, int force)</td></tr>
<tr class="separator:a090197caaeb3acc23a31aafbb4f2c97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ea76da07dad6d2aba1d75a681c4d4d"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae1ea76da07dad6d2aba1d75a681c4d4d">get_profile_num_devs</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:ae1ea76da07dad6d2aba1d75a681c4d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d31c696747764aef99241c8b3720053"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053">check_system_chunk</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:a3d31c696747764aef99241c8b3720053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d94bb221a36fd6f234b8cd2026ec85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85">can_overcommit</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 bytes, enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a> flush, bool system_chunk)</td></tr>
<tr class="separator:a54d94bb221a36fd6f234b8cd2026ec85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584451b4263814bb7f9e15b7d8e6f85c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c">btrfs_writeback_inodes_sb_nr</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, unsigned long nr_pages, int nr_items)</td></tr>
<tr class="separator:a584451b4263814bb7f9e15b7d8e6f85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd9f81f8cb152f2d3923593f8bd269b"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b">calc_reclaim_items_nr</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 to_reclaim)</td></tr>
<tr class="separator:a5bd9f81f8cb152f2d3923593f8bd269b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04be10db9095dcf842ee74e56a11165f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f">shrink_delalloc</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 to_reclaim, u64 orig, bool wait_ordered)</td></tr>
<tr class="separator:a04be10db9095dcf842ee74e56a11165f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7092568d9913bd50a53eace932ede4e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6">may_commit_transaction</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info)</td></tr>
<tr class="separator:a7092568d9913bd50a53eace932ede4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab985a4ed46cdbc8c2855ea0397884b0c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c">flush_space</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 num_bytes, int state)</td></tr>
<tr class="separator:ab985a4ed46cdbc8c2855ea0397884b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa507d20cc361860f8d2cc6f728b66f9b"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b">btrfs_calc_reclaim_metadata_size</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, bool system_chunk)</td></tr>
<tr class="separator:aa507d20cc361860f8d2cc6f728b66f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06352c1004d84fdc049345080f75d049"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049">need_do_async_reclaim</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 used, bool system_chunk)</td></tr>
<tr class="separator:a06352c1004d84fdc049345080f75d049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4da5e54727044428ab6cc112f5d7cdc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa4da5e54727044428ab6cc112f5d7cdc">wake_all_tickets</a> (struct list_head *head)</td></tr>
<tr class="separator:aa4da5e54727044428ab6cc112f5d7cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2e60542a18601bad6d984dee749a44"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44">btrfs_async_reclaim_metadata_space</a> (struct work_struct *work)</td></tr>
<tr class="separator:a5a2e60542a18601bad6d984dee749a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fedac953d08b5bd61953f25f52024aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa">btrfs_init_async_reclaim_work</a> (struct work_struct *work)</td></tr>
<tr class="separator:a2fedac953d08b5bd61953f25f52024aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3accc68b6f4187ae91cdb10c1e47963f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f">priority_reclaim_metadata_space</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, struct <a class="el" href="structreserve__ticket.html">reserve_ticket</a> *ticket)</td></tr>
<tr class="separator:a3accc68b6f4187ae91cdb10c1e47963f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f70cde934e64d454403b795bad25a3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3">wait_reserve_ticket</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, struct <a class="el" href="structreserve__ticket.html">reserve_ticket</a> *ticket, u64 orig_bytes)</td></tr>
<tr class="separator:a10f70cde934e64d454403b795bad25a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6df4b6f0075b6b84fb418f8fdc78bc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc">__reserve_metadata_bytes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 orig_bytes, enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a> flush, bool system_chunk)</td></tr>
<tr class="separator:a1a6df4b6f0075b6b84fb418f8fdc78bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6799b77c53b912f294f61b60a257de54"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54">reserve_metadata_bytes</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u64 orig_bytes, enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a> flush)</td></tr>
<tr class="separator:a6799b77c53b912f294f61b60a257de54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40dc3e9a3bc092e3925c200e26837042"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a40dc3e9a3bc092e3925c200e26837042">get_block_rsv</a> (const struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, const struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a40dc3e9a3bc092e3925c200e26837042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05980f1583539687dd2b1125d0918508"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508">block_rsv_add_bytes</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u64 num_bytes, int update_size)</td></tr>
<tr class="separator:a05980f1583539687dd2b1125d0918508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87dfb0f672cf49fd6434160985bdb302"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a87dfb0f672cf49fd6434160985bdb302">btrfs_cond_migrate_bytes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *dest, u64 num_bytes, int min_factor)</td></tr>
<tr class="separator:a87dfb0f672cf49fd6434160985bdb302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f422cbedfd26c2bd1da66d24873e109"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109">block_rsv_release_bytes</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *dest, u64 num_bytes, u64 *qgroup_to_release_ret)</td></tr>
<tr class="separator:a0f422cbedfd26c2bd1da66d24873e109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af755f49433b189063477d03d75de00f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af755f49433b189063477d03d75de00f9">btrfs_block_rsv_migrate</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *src, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *dst, u64 num_bytes, int update_size)</td></tr>
<tr class="separator:af755f49433b189063477d03d75de00f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628d6cb779fbf248f09a33ed84e8aa26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a628d6cb779fbf248f09a33ed84e8aa26">btrfs_init_block_rsv</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv, unsigned short <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:a628d6cb779fbf248f09a33ed84e8aa26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c414d3f60fe337268a503a5ac67fae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a06c414d3f60fe337268a503a5ac67fae">btrfs_init_metadata_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv, unsigned short <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:a06c414d3f60fe337268a503a5ac67fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4fa53d8f83f56d50e0fe18f189751c0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac4fa53d8f83f56d50e0fe18f189751c0">btrfs_alloc_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, unsigned short <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:ac4fa53d8f83f56d50e0fe18f189751c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2881165c601bfce62c1bb9e1629d37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#abc2881165c601bfce62c1bb9e1629d37">btrfs_free_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv)</td></tr>
<tr class="separator:abc2881165c601bfce62c1bb9e1629d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a99ce18c3fe67d4841057816429e7f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a4a99ce18c3fe67d4841057816429e7f0">__btrfs_free_block_rsv</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv)</td></tr>
<tr class="separator:a4a99ce18c3fe67d4841057816429e7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6a9da7492ca4f1fbf607dc7556ad89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89">btrfs_block_rsv_add</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u64 num_bytes, enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a> flush)</td></tr>
<tr class="separator:a7a6a9da7492ca4f1fbf607dc7556ad89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10346a1168d5ac1e5728bd4eb48ae026"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a10346a1168d5ac1e5728bd4eb48ae026">btrfs_block_rsv_check</a> (struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, int min_factor)</td></tr>
<tr class="separator:a10346a1168d5ac1e5728bd4eb48ae026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089cda8b8a4583ae5d675f6631db4a52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52">btrfs_block_rsv_refill</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u64 min_reserved, enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a> flush)</td></tr>
<tr class="separator:a089cda8b8a4583ae5d675f6631db4a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7697d14eb5cdc543f5e1b85fd1ea628f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f">btrfs_inode_rsv_refill</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a> flush)</td></tr>
<tr class="separator:a7697d14eb5cdc543f5e1b85fd1ea628f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7629606ec50e45fe8b1b71044f8d95"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95">btrfs_inode_rsv_release</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, bool qgroup_free)</td></tr>
<tr class="separator:aac7629606ec50e45fe8b1b71044f8d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d496c5284955c0b0a2d8d1d4f30588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588">btrfs_block_rsv_release</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u64 num_bytes)</td></tr>
<tr class="separator:a24d496c5284955c0b0a2d8d1d4f30588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba606a6e189a200353ea592a5aee2121"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121">update_global_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:aba606a6e189a200353ea592a5aee2121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd07a2a420a89d0939bd73d25cdb728b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#afd07a2a420a89d0939bd73d25cdb728b">init_global_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:afd07a2a420a89d0939bd73d25cdb728b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c83101ca3011c39a20fe176a51c665d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d">release_global_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a1c83101ca3011c39a20fe176a51c665d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ef139cc3fe19dda799f88d91803c1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d">btrfs_trans_release_chunk_metadata</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans)</td></tr>
<tr class="separator:ae9ef139cc3fe19dda799f88d91803c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab611987577664f0b44cf4905ba63ee7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aab611987577664f0b44cf4905ba63ee7">btrfs_orphan_reserve_metadata</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:aab611987577664f0b44cf4905ba63ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5edf32b8cb542d087b7dd877b248545"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac5edf32b8cb542d087b7dd877b248545">btrfs_orphan_release_metadata</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:ac5edf32b8cb542d087b7dd877b248545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed3e0ab13ab2802e96f06986131a2f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0">btrfs_subvolume_reserve_metadata</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv, int <a class="el" href="ctree_8h.html#ae8c0408f4b175177726d57dab2364f08">items</a>, u64 *qgroup_reserved, bool use_global_rsv)</td></tr>
<tr class="separator:abed3e0ab13ab2802e96f06986131a2f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7946e6ccff762079188782872dd504e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7946e6ccff762079188782872dd504e8">btrfs_subvolume_release_metadata</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv)</td></tr>
<tr class="separator:a7946e6ccff762079188782872dd504e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ca5b0ce308e37a6f6b04725f2c1a30"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30">btrfs_calculate_inode_block_rsv_size</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a14ca5b0ce308e37a6f6b04725f2c1a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218114d622e5d36a5a15bfe77acbc927"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927">btrfs_delalloc_reserve_metadata</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 num_bytes)</td></tr>
<tr class="separator:a218114d622e5d36a5a15bfe77acbc927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8cfb606b59e7400b722b0101cd7ff7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7">btrfs_delalloc_release_metadata</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 num_bytes, bool qgroup_free)</td></tr>
<tr class="separator:a0c8cfb606b59e7400b722b0101cd7ff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6370dfd93e82cb93d6344859133b4467"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467">btrfs_delalloc_release_extents</a> (struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 num_bytes, bool qgroup_free)</td></tr>
<tr class="separator:a6370dfd93e82cb93d6344859133b4467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65c77e665d28664c6c98b6b603d3e12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12">btrfs_delalloc_reserve_space</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structextent__changeset.html">extent_changeset</a> **<a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:ab65c77e665d28664c6c98b6b603d3e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802b991282328074f769f877ed5a4c47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47">btrfs_delalloc_release_space</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structextent__changeset.html">extent_changeset</a> *<a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, bool qgroup_free)</td></tr>
<tr class="separator:a802b991282328074f769f877ed5a4c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9888719405c3e0d3977a4eb7424241a4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4">update_block_group</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, int alloc)</td></tr>
<tr class="separator:a9888719405c3e0d3977a4eb7424241a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec869495d820ac58f20dba0f76cf91fc"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc">first_logical_byte</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 search_start)</td></tr>
<tr class="separator:aec869495d820ac58f20dba0f76cf91fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61acca1ed78a89370c00c0ee8865e97"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97">pin_down_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, int <a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>)</td></tr>
<tr class="separator:aa61acca1ed78a89370c00c0ee8865e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc21b2cf2c1cd918a9a106f2cbeba4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f">btrfs_pin_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, int <a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>)</td></tr>
<tr class="separator:aefc21b2cf2c1cd918a9a106f2cbeba4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52400725399f28cef8500a46d91aa73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73">btrfs_pin_extent_for_log_replay</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes)</td></tr>
<tr class="separator:ad52400725399f28cef8500a46d91aa73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3aa7fbd123ef86874580d6eeff2dd8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8">__exclude_logged_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 num_bytes)</td></tr>
<tr class="separator:acf3aa7fbd123ef86874580d6eeff2dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88dd0c6f13ef8cc1fe40d9e8e0349a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0">btrfs_exclude_logged_extents</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:ac88dd0c6f13ef8cc1fe40d9e8e0349a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad75caca319f92d40c7aa97644a0792"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9ad75caca319f92d40c7aa97644a0792">btrfs_inc_block_group_reservations</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *bg)</td></tr>
<tr class="separator:a9ad75caca319f92d40c7aa97644a0792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5042430ff0e2b119a9e0757957990fe2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2">btrfs_dec_block_group_reservations</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, const u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>)</td></tr>
<tr class="separator:a5042430ff0e2b119a9e0757957990fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0168e2588b90442367ccc0a720842a31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0168e2588b90442367ccc0a720842a31">btrfs_wait_block_group_reservations</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *bg)</td></tr>
<tr class="separator:a0168e2588b90442367ccc0a720842a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18a0295de9ab0f947036266d49de4a0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae18a0295de9ab0f947036266d49de4a0">btrfs_add_reserved_bytes</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, u64 ram_bytes, u64 num_bytes, int delalloc)</td></tr>
<tr class="separator:ae18a0295de9ab0f947036266d49de4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfc265000250b53e31d1b0c836c54db"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db">btrfs_free_reserved_bytes</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, u64 num_bytes, int delalloc)</td></tr>
<tr class="separator:a0cfc265000250b53e31d1b0c836c54db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0e8d10e204f6ea41d87e5e470d0f6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aff0e8d10e204f6ea41d87e5e470d0f6e">btrfs_prepare_extent_commit</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:aff0e8d10e204f6ea41d87e5e470d0f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5237a87cb32541134aa6e06c8dad37"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5a5237a87cb32541134aa6e06c8dad37">fetch_cluster_info</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *space_info, u64 *empty_cluster)</td></tr>
<tr class="separator:a5a5237a87cb32541134aa6e06c8dad37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70403a550d3febe56fc502d3cd9cb1dc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc">unpin_extent_range</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 end, const bool return_free_space)</td></tr>
<tr class="separator:a70403a550d3febe56fc502d3cd9cb1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bba8c3e2e47bfb50d184445a98fbd0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c">btrfs_finish_extent_commit</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans)</td></tr>
<tr class="separator:a1bba8c3e2e47bfb50d184445a98fbd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6728061b98190f0902a955b2af4f0ca9"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9">check_ref_cleanup</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a6728061b98190f0902a955b2af4f0ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ecc2de50d231cb187b31872f570bf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5">btrfs_free_tree_block</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *buf, u64 parent, int last_ref)</td></tr>
<tr class="separator:ac8ecc2de50d231cb187b31872f570bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0f17d42f330fe7529598d6dda3e175"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175">btrfs_free_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:acf0f17d42f330fe7529598d6dda3e175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3e36ec743780601e2334117b0cdd3c"><td class="memItemLeft" align="right" valign="top">static noinline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c">wait_block_group_cache_progress</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, u64 num_bytes)</td></tr>
<tr class="separator:a4a3e36ec743780601e2334117b0cdd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28d2d23f4ade75c59ecc2bb5c5a4bb4"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4">wait_block_group_cache_done</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:ac28d2d23f4ade75c59ecc2bb5c5a4bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698b4c6b5b3ccec1ca8541351c8baaa3"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a698b4c6b5b3ccec1ca8541351c8baaa3">get_raid_name</a> (enum btrfs_raid_types <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:a698b4c6b5b3ccec1ca8541351c8baaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1452635bf39f5e3ec26111e211a3c56f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a1452635bf39f5e3ec26111e211a3c56f">btrfs_lock_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, int delalloc)</td></tr>
<tr class="separator:a1452635bf39f5e3ec26111e211a3c56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77ed64692f14b06a4125c249989eb41"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad77ed64692f14b06a4125c249989eb41">btrfs_grab_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, int delalloc)</td></tr>
<tr class="separator:ad77ed64692f14b06a4125c249989eb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff60feb90fd1f63375e119400995084"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a8ff60feb90fd1f63375e119400995084">btrfs_lock_cluster</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *cluster, int delalloc)</td></tr>
<tr class="separator:a8ff60feb90fd1f63375e119400995084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61469f487e02397d8c8f61c237edd7f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa61469f487e02397d8c8f61c237edd7f">btrfs_release_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, int delalloc)</td></tr>
<tr class="separator:aa61469f487e02397d8c8f61c237edd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39e207a175a739ff2c0153cd0923c5c"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c">find_free_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 ram_bytes, u64 num_bytes, u64 empty_size, u64 hint_byte, struct btrfs_key *ins, u64 <a class="el" href="structflags.html">flags</a>, int delalloc)</td></tr>
<tr class="separator:ad39e207a175a739ff2c0153cd0923c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9132354ded0de07d9d0fd39278c3ad40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40">btrfs_reserve_extent</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 ram_bytes, u64 num_bytes, u64 min_alloc_size, u64 empty_size, u64 hint_byte, struct btrfs_key *ins, int is_data, int delalloc)</td></tr>
<tr class="separator:a9132354ded0de07d9d0fd39278c3ad40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ae18aeb4da88eeb0ac336f84a5445d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d">__btrfs_free_reserved_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int pin, int delalloc)</td></tr>
<tr class="separator:a92ae18aeb4da88eeb0ac336f84a5445d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac787eabdc24ddb5afae4b9efa44e8ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec">btrfs_free_reserved_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int delalloc)</td></tr>
<tr class="separator:aac787eabdc24ddb5afae4b9efa44e8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9815bbc6a05bd4217bdf7d952cba739"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739">btrfs_free_and_pin_reserved_extent</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:ad9815bbc6a05bd4217bdf7d952cba739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19718f01b1cf94cd7c13ad34e4a78e4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b">btrfs_alloc_reserved_file_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 ram_bytes, struct btrfs_key *ins)</td></tr>
<tr class="separator:a19718f01b1cf94cd7c13ad34e4a78e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8563ae8cff18a6462dbaf79e5e58a2c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4">btrfs_alloc_logged_file_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, struct btrfs_key *ins)</td></tr>
<tr class="separator:a8563ae8cff18a6462dbaf79e5e58a2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ddb7df98f98a19cb3e0852d2968f3f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a56ddb7df98f98a19cb3e0852d2968f3f">btrfs_init_new_buffer</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>)</td></tr>
<tr class="separator:a56ddb7df98f98a19cb3e0852d2968f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9540d72213e26589ac33214c3643d61"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61">use_block_rsv</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u32 blocksize)</td></tr>
<tr class="separator:ae9540d72213e26589ac33214c3643d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78024c5c297ff55941389856b699827e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e">unuse_block_rsv</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, u32 blocksize)</td></tr>
<tr class="separator:a78024c5c297ff55941389856b699827e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4f90901004cca9e0c39e49435c758f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f">btrfs_alloc_tree_block</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 parent, u64 <a class="el" href="btrfs_2export_8h.html#a964301201368ffe289fc3dd745b194d8">root_objectid</a>, const struct btrfs_disk_key *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, u64 hint, u64 empty_size)</td></tr>
<tr class="separator:a2a4f90901004cca9e0c39e49435c758f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee66511988f4c6c45f83282c99e3d0f3"><td class="memItemLeft" align="right" valign="top">static noinline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3">reada_walk_down</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structwalk__control.html">walk_control</a> *wc, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:aee66511988f4c6c45f83282c99e3d0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52f470b2311259ab72386c02af04460"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460">walk_down_proc</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="structwalk__control.html">walk_control</a> *wc, int lookup_info)</td></tr>
<tr class="separator:af52f470b2311259ab72386c02af04460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217c1835aaf5d08b470c532f9e6a0ad9"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9">do_walk_down</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="structwalk__control.html">walk_control</a> *wc, int *lookup_info)</td></tr>
<tr class="separator:a217c1835aaf5d08b470c532f9e6a0ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c72eab61de613bbcc9548d80709f72"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72">walk_up_proc</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="structwalk__control.html">walk_control</a> *wc)</td></tr>
<tr class="separator:a19c72eab61de613bbcc9548d80709f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270fca781c23a42970e6eb430c44808e"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e">walk_down_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="structwalk__control.html">walk_control</a> *wc)</td></tr>
<tr class="separator:a270fca781c23a42970e6eb430c44808e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ebfa069d32a7ccf980f7859f430d7a"><td class="memItemLeft" align="right" valign="top">static noinline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a">walk_up_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="structwalk__control.html">walk_control</a> *wc, int max_level)</td></tr>
<tr class="separator:a80ebfa069d32a7ccf980f7859f430d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34af2e19d77a9657425ef22567849277"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277">btrfs_drop_snapshot</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *block_rsv, int update_ref, int for_reloc)</td></tr>
<tr class="separator:a34af2e19d77a9657425ef22567849277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a272e20ec5084fc8b055816fc2d37ba80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80">btrfs_drop_subtree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *node, struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *parent)</td></tr>
<tr class="separator:a272e20ec5084fc8b055816fc2d37ba80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae638007eb4e012626fb35cd21c0387b6"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ae638007eb4e012626fb35cd21c0387b6">update_block_group_flags</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:ae638007eb4e012626fb35cd21c0387b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47f591a2bfcb0b9eea6110945d3c617"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa47f591a2bfcb0b9eea6110945d3c617">inc_block_group_ro</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache, int force)</td></tr>
<tr class="separator:aa47f591a2bfcb0b9eea6110945d3c617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83232a2f89abef64e258bbc96ad47527"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527">btrfs_inc_block_group_ro</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:a83232a2f89abef64e258bbc96ad47527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e717a3e151b2371209d5f979d8345e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e">btrfs_force_chunk_alloc</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:a67e717a3e151b2371209d5f979d8345e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5e7ca27af289b8d9f68432d06d6bd7"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#acd5e7ca27af289b8d9f68432d06d6bd7">btrfs_account_ro_block_groups_free_space</a> (struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *sinfo)</td></tr>
<tr class="separator:acd5e7ca27af289b8d9f68432d06d6bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ccbcd275eeabfbf20ae1e9467a9474"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab5ccbcd275eeabfbf20ae1e9467a9474">btrfs_dec_block_group_ro</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:ab5ccbcd275eeabfbf20ae1e9467a9474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b53c7f62479834a9aefd4a088a9a8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c">btrfs_can_relocate</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a87b53c7f62479834a9aefd4a088a9a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f278c06a6d46aa1e7ec8f152950ca8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a46f278c06a6d46aa1e7ec8f152950ca8">find_first_block_group</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct btrfs_key *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a46f278c06a6d46aa1e7ec8f152950ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad34759a183b31aa9ba4274a72bf15a4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad34759a183b31aa9ba4274a72bf15a4d">btrfs_put_block_group_cache</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info)</td></tr>
<tr class="separator:ad34759a183b31aa9ba4274a72bf15a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2d13383a026f29ff3e3af7d13d3cb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3">btrfs_free_block_groups</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info)</td></tr>
<tr class="separator:a9c2d13383a026f29ff3e3af7d13d3cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e43e018484a4032a1bd12a9e452606a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a7e43e018484a4032a1bd12a9e452606a">btrfs_add_raid_kobjects</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a7e43e018484a4032a1bd12a9e452606a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f6e534fc526dd8feb800dc84586385"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad1f6e534fc526dd8feb800dc84586385">link_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:ad1f6e534fc526dd8feb800dc84586385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fecf81cbed11a3223cd24040fde860"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a97fecf81cbed11a3223cd24040fde860">btrfs_create_block_group_cache</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a97fecf81cbed11a3223cd24040fde860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fa34d4fc30d4b2bd1eec36af81b558"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558">btrfs_read_block_groups</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *info)</td></tr>
<tr class="separator:aa4fa34d4fc30d4b2bd1eec36af81b558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf93feeb3925fb87a313806cf9132865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865">btrfs_create_pending_block_groups</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans)</td></tr>
<tr class="separator:adf93feeb3925fb87a313806cf9132865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695ce8cf0b806dd2ac6162fa621f00ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce">btrfs_make_block_group</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="ctree_8h.html#a18c09ec5a7682f243bbc38dbb28901c5">bytes_used</a>, u64 <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, u64 chunk_offset, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a695ce8cf0b806dd2ac6162fa621f00ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208fc4437af17e2a0b1af0c9e0760020"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a208fc4437af17e2a0b1af0c9e0760020">clear_avail_alloc_bits</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:a208fc4437af17e2a0b1af0c9e0760020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c7b396cc81f9b2e38821b3349d1f32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32">btrfs_remove_block_group</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 group_start, struct <a class="el" href="structextent__map.html">extent_map</a> *em)</td></tr>
<tr class="separator:a93c7b396cc81f9b2e38821b3349d1f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc98880d81b8272ddf52723622eaf8df"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#afc98880d81b8272ddf52723622eaf8df">btrfs_start_trans_remove_block_group</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, const u64 chunk_offset)</td></tr>
<tr class="separator:afc98880d81b8272ddf52723622eaf8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176ad7182ebd534973397cf2b1c8b739"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739">btrfs_delete_unused_bgs</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a176ad7182ebd534973397cf2b1c8b739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5075fd56a2745dd4e404b917b3b6962f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a5075fd56a2745dd4e404b917b3b6962f">btrfs_init_space_info</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a5075fd56a2745dd4e404b917b3b6962f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2f296762a971312733aa1c2edb2c33"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33">btrfs_error_unpin_extent_range</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 end)</td></tr>
<tr class="separator:a2d2f296762a971312733aa1c2edb2c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298a9e3c3aa5dd4e96bd9d9a2330cc31"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31">btrfs_trim_free_extents</a> (struct <a class="el" href="structbtrfs__device.html">btrfs_device</a> *device, u64 minlen, u64 *trimmed)</td></tr>
<tr class="separator:a298a9e3c3aa5dd4e96bd9d9a2330cc31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ce844c7f9821079d66aaad5fdd6d46"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46">btrfs_trim_fs</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct fstrim_range *range)</td></tr>
<tr class="separator:a16ce844c7f9821079d66aaad5fdd6d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad960c659e6062aeeeb929487f8299b9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ad960c659e6062aeeeb929487f8299b9c">btrfs_end_write_no_snapshotting</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:ad960c659e6062aeeeb929487f8299b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66e7a4e1b38ac03c24f54c01304510b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#ab66e7a4e1b38ac03c24f54c01304510b">btrfs_start_write_no_snapshotting</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:ab66e7a4e1b38ac03c24f54c01304510b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa63d42bb00d618600620e59657d1ccd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#afa63d42bb00d618600620e59657d1ccd">btrfs_wait_for_snapshot_creation</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:afa63d42bb00d618600620e59657d1ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0e2e54587e87a3b970618568f6bd4cc3"><td class="memItemLeft" align="right" valign="top">enum  { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a0e2e54587e87a3b970618568f6bd4cc3">__attribute__</a></td></tr>
<tr class="separator:a0e2e54587e87a3b970618568f6bd4cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303a70686af6aabb077a9a95b1a3a903"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extent-tree_8c.html#a303a70686af6aabb077a9a95b1a3a903">btrfs_raid_type_names</a> [BTRFS_NR_RAID_TYPES]</td></tr>
<tr class="separator:a303a70686af6aabb077a9a95b1a3a903"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aabc4a8af9d1e3b19698b223a4c43cbc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc4a8af9d1e3b19698b223a4c43cbc1">&#9670;&nbsp;</a></span>DROP_REFERENCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DROP_REFERENCE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a77a2cdcb3978a6a478bf8359b5ac67e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a2cdcb3978a6a478bf8359b5ac67e0">&#9670;&nbsp;</a></span>EXTENT_SIZE_PER_ITEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTENT_SIZE_PER_ITEM&#160;&#160;&#160;SZ_256K</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1977fdcd00b52c8c3819bf8e8ecac09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1977fdcd00b52c8c3819bf8e8ecac09d">&#9670;&nbsp;</a></span>in_range</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define in_range</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">first, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((b) &gt;= (first) &amp;&amp; (b) &lt; (first) + (<a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4183095b702f730680c7add99dd8b1bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4183095b702f730680c7add99dd8b1bc">&#9670;&nbsp;</a></span>UPDATE_BACKREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPDATE_BACKREF&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a77867ab4129f63159b37bca3b652a798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77867ab4129f63159b37bca3b652a798">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a77867ab4129f63159b37bca3b652a798a09ae9b708521bf8160df18116d72dd41"></a>CHUNK_ALLOC_NO_FORCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a77867ab4129f63159b37bca3b652a798aa4889934ef9b6df327145991e97d497a"></a>CHUNK_ALLOC_LIMITED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a77867ab4129f63159b37bca3b652a798a75b83f065d766a9a8fc762acfc71b81a"></a>CHUNK_ALLOC_FORCE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a375bc01a97f749d3f5931246b41ee0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a375bc01a97f749d3f5931246b41ee0da">&#9670;&nbsp;</a></span>btrfs_loop_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="extent-tree_8c.html#a375bc01a97f749d3f5931246b41ee0da">btrfs_loop_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a375bc01a97f749d3f5931246b41ee0daafd69c3a8e21915445bebb024f31944cd"></a>LOOP_CACHING_NOWAIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a375bc01a97f749d3f5931246b41ee0daaa45e9f6c5ace6fa10950a3b4b6946c54"></a>LOOP_CACHING_WAIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a375bc01a97f749d3f5931246b41ee0daa5e27fb1ef9c280a1b923da8484cd08bd"></a>LOOP_ALLOC_CHUNK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a375bc01a97f749d3f5931246b41ee0daa8158232d59cde977fafa199b25f16ea5"></a>LOOP_NO_EMPTY_SIZE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4a99ce18c3fe67d4841057816429e7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a99ce18c3fe67d4841057816429e7f0">&#9670;&nbsp;</a></span>__btrfs_free_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __btrfs_free_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4a99ce18c3fe67d4841057816429e7f0_icgraph.png" border="0" usemap="#extent-tree_8c_a4a99ce18c3fe67d4841057816429e7f0_icgraph" alt=""/></div>
<map name="extent-tree_8c_a4a99ce18c3fe67d4841057816429e7f0_icgraph" id="extent-tree_8c_a4a99ce18c3fe67d4841057816429e7f0_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="208,527,297,553"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="345,451,457,477"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="525,501,632,528"/>
<area shape="rect" id="node8" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="358,627,445,653"/>
<area shape="rect" id="node9" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="524,552,633,579"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="505,451,652,477"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1189,29,1309,56"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1436,29,1547,56"/>
<area shape="rect" id="node10" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="700,898,881,939"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="723,561,859,602"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="729,355,853,381"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="731,304,851,331"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="715,1021,867,1048"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="723,456,858,483"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="741,733,841,760"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="713,131,869,157"/>
<area shape="rect" id="node11" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="929,1072,1111,1099"/>
<area shape="rect" id="node12" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1199,1173,1300,1200"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="947,568,1093,595"/>
<area shape="rect" id="node17" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="933,685,1107,712"/>
<area shape="rect" id="node15" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1171,568,1328,595"/>
<area shape="rect" id="node16" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1413,568,1569,595"/>
<area shape="rect" id="node18" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1192,685,1307,712"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1457,685,1526,712"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1176,737,1323,778"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1162,619,1337,661"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1651,732,1802,759"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1643,783,1811,809"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1675,681,1779,708"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1647,627,1806,653"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="962,304,1078,331"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1407,509,1576,536"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1196,232,1303,259"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="938,1123,1102,1149"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="938,1021,1102,1048"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1388,1123,1595,1149"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1180,1072,1319,1099"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="950,452,1090,479"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="942,377,1098,404"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1185,502,1314,543"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1175,385,1323,426"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1203,451,1296,477"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1202,333,1297,360"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="963,912,1077,939"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1201,1021,1297,1048"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1159,905,1340,946"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1190,971,1309,997"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="935,29,1105,56"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="957,80,1083,107"/>
</map>
</div>

</div>
</div>
<a id="af3eb8e3c0d7540ac3f9568eec93bdadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3eb8e3c0d7540ac3f9568eec93bdadc">&#9670;&nbsp;</a></span>__btrfs_free_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __btrfs_free_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extra_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_cgraph.png" border="0" usemap="#extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_cgraph" alt=""/></div>
<map name="extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_cgraph" id="extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="623,1991,737,2018"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="188,1029,341,1055"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="833,1054,956,1081"/>
<area shape="rect" id="node15" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1271,303,1401,330"/>
<area shape="rect" id="node28" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1485,2067,1614,2094"/>
<area shape="rect" id="node31" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1259,2067,1413,2094"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="599,1941,761,1967"/>
<area shape="rect" id="node34" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="817,2346,973,2373"/>
<area shape="rect" id="node35" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1061,2346,1169,2373"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="391,2422,549,2449"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="809,2557,980,2583"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="189,2079,340,2106"/>
<area shape="rect" id="node46" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="625,1687,735,1714"/>
<area shape="rect" id="node47" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="411,1865,529,1891"/>
<area shape="rect" id="node48" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="625,1181,735,1207"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="389,1814,551,1841"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="195,2615,334,2642"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="400,1477,540,1519"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697" title="lookup_tree_block_ref" alt="" coords="605,101,755,127"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="601,1029,759,1055"/>
<area shape="rect" id="node6" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1054,1586,1177,1613"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1266,1282,1406,1309"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1280,1130,1392,1157"/>
<area shape="rect" id="node9" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1028,1231,1203,1258"/>
<area shape="rect" id="node10" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1259,1181,1413,1207"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1486,1079,1613,1106"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1044,1079,1187,1106"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1282,1029,1390,1055"/>
<area shape="rect" id="node14" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1271,1586,1401,1613"/>
<area shape="rect" id="node16" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1478,455,1621,482"/>
<area shape="rect" id="node17" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1469,658,1629,685"/>
<area shape="rect" id="node18" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1057,1535,1174,1562"/>
<area shape="rect" id="node19" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1251,709,1421,735"/>
<area shape="rect" id="node20" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1071,810,1160,837"/>
<area shape="rect" id="node21" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1033,658,1197,685"/>
<area shape="rect" id="node22" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1295,455,1377,482"/>
<area shape="rect" id="node23" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1039,759,1192,786"/>
<area shape="rect" id="node24" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1033,911,1198,938"/>
<area shape="rect" id="node25" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1045,963,1185,1004"/>
<area shape="rect" id="node26" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1263,1535,1409,1562"/>
<area shape="rect" id="node27" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1078,1383,1153,1410"/>
<area shape="rect" id="node30" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1495,1637,1603,1663"/>
<area shape="rect" id="node29" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1677,1814,1776,1841"/>
<area shape="rect" id="node32" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1473,2325,1626,2351"/>
<area shape="rect" id="node36" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1271,2397,1401,2439"/>
<area shape="rect" id="node37" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1275,2346,1397,2373"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="609,2499,751,2540"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a00d57d05fcd8243fab58757f0cc1f02a" title="remove_extent_data_ref" alt="" coords="599,2397,761,2423"/>
<area shape="rect" id="node44" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="843,2447,947,2474"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_icgraph.png" border="0" usemap="#extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_icgraph" alt=""/></div>
<map name="extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_icgraph" id="extent-tree_8c_af3eb8e3c0d7540ac3f9568eec93bdadc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="188,405,335,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="190,455,333,482"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="383,430,525,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="573,430,741,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="789,430,944,457"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1509,137,1649,179"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1476,361,1683,387"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1006,197,1170,223"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1255,532,1405,573"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2175,609,2344,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1011,423,1165,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1252,478,1408,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1731,507,1901,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="992,291,1184,318"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2427,61,2548,87"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1765,238,1867,265"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1751,5,1881,47"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1754,71,1878,112"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1761,137,1871,163"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1741,339,1891,366"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1732,391,1900,432"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1232,153,1428,179"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2434,279,2541,306"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2427,330,2548,357"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2437,381,2538,407"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2442,431,2533,458"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2631,507,2789,534"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2397,533,2577,559"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2402,583,2573,610"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2430,634,2545,661"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2419,685,2555,711"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2419,735,2556,762"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2409,787,2565,828"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2403,853,2571,879"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2392,903,2583,930"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2396,954,2579,981"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2436,1005,2539,1031"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2428,1055,2547,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2427,1106,2548,1133"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2425,1157,2549,1199"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2418,1223,2557,1250"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2404,1275,2571,1316"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2413,111,2562,138"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2408,162,2567,189"/>
<area shape="rect" id="node41" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2417,213,2557,255"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1492,507,1667,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1949,507,2127,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1260,321,1400,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1245,255,1415,296"/>
</map>
</div>

</div>
</div>
<a id="a92ae18aeb4da88eeb0ac336f84a5445d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ae18aeb4da88eeb0ac336f84a5445d">&#9670;&nbsp;</a></span>__btrfs_free_reserved_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __btrfs_free_reserved_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_cgraph.png" border="0" usemap="#extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_cgraph" alt=""/></div>
<map name="extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_cgraph" id="extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="211,27,342,68"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="217,134,337,161"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="207,269,347,295"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="203,611,350,638"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="209,663,344,704"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="201,729,352,755"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="403,5,566,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="624,13,775,39"/>
<area shape="rect" id="node6" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="427,71,542,98"/>
<area shape="rect" id="node7" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="647,71,751,98"/>
<area shape="rect" id="node9" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="411,224,558,265"/>
<area shape="rect" id="node10" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="624,223,775,250"/>
<area shape="rect" id="node12" href="volumes_8c.html#a806da0ebe2985a4eaea08e3d6ed4d4ac" title="btrfs_map_block" alt="" coords="425,122,544,149"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="417,173,552,199"/>
<area shape="rect" id="node16" href="volumes_8c.html#a2b27c3f73a9f1490121abcde8ab4b319" title="btrfs_put_bbio" alt="" coords="433,290,537,317"/>
<area shape="rect" id="node11" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="829,122,980,149"/>
<area shape="rect" id="node13" href="volumes_8c.html#a7944ddf1ce0e72fdb6e881f706550c6f" title="__btrfs_map_block" alt="" coords="633,122,765,149"/>
<area shape="rect" id="node15" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="645,173,754,199"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="619,999,780,1026"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="400,485,569,511"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="414,1116,555,1157"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="400,1051,569,1092"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="415,789,555,831"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="638,680,761,721"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="405,535,564,562"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="617,274,781,301"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="411,586,558,613"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="404,637,565,663"/>
<area shape="rect" id="node47" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="417,965,552,1007"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="407,738,562,765"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1036,1009,1187,1035"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="841,933,969,959"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="840,1085,969,1111"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="848,831,961,858"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1243,426,1373,453"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1245,857,1371,883"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1052,451,1171,478"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="627,527,771,554"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="851,578,958,605"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="843,629,967,655"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="859,781,950,807"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="624,1116,775,1157"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="625,1051,773,1092"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="642,477,757,503"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="619,949,780,975"/>
<area shape="rect" id="node39" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="877,679,932,706"/>
<area shape="rect" id="node42" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="857,173,952,199"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1028,223,1195,250"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="831,274,978,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_icgraph.png" border="0" usemap="#extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_icgraph" alt=""/></div>
<map name="extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_icgraph" id="extent-tree_8c_a92ae18aeb4da88eeb0ac336f84a5445d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="201,378,336,419"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="204,1055,333,1097"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="602,5,791,32"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="410,95,519,121"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="620,224,773,251"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="384,344,545,371"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="395,419,534,461"/>
<area shape="rect" id="node26" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="593,661,800,688"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="390,839,539,865"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="865,5,999,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1067,5,1218,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1273,77,1404,104"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1456,187,1631,213"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1075,107,1211,133"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="871,216,993,243"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1269,296,1408,323"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#aac5aef8a21ce5455c61f13972f3a402b" title="btrfs_writepage_end\l_io_hook" alt="" coords="1269,150,1408,191"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a8bdc721b2c1931ee9b25e8d3ee83aa92" title="__endio_write_update\l_ordered" alt="" coords="1069,209,1217,250"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1285,216,1393,243"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1064,275,1221,301"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="635,419,759,461"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="635,537,759,578"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="873,427,991,453"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1091,401,1195,428"/>
<area shape="rect" id="node22" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="865,478,999,519"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1077,599,1208,625"/>
<area shape="rect" id="node25" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="857,595,1007,621"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="871,712,993,739"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="881,763,983,789"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="857,813,1007,840"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="848,646,1016,687"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1069,712,1216,739"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1069,763,1216,789"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1094,813,1191,840"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="641,712,753,739"/>
<area shape="rect" id="node36" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="631,763,762,789"/>
<area shape="rect" id="node37" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="639,864,754,891"/>
<area shape="rect" id="node38" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="891,864,973,891"/>
<area shape="rect" id="node39" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="895,915,969,941"/>
<area shape="rect" id="node40" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="637,965,757,992"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="645,1016,748,1043"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="645,1067,748,1093"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="397,1026,532,1067"/>
<area shape="rect" id="node46" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="395,1143,535,1169"/>
<area shape="rect" id="node47" href="tree-log_8c.html#a9f37fe1648eade27cb6d159fb2fbe93c" title="walk_log_tree" alt="" coords="645,1168,748,1195"/>
<area shape="rect" id="node50" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="403,1193,526,1220"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="625,1117,768,1144"/>
<area shape="rect" id="node48" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="883,1143,981,1169"/>
<area shape="rect" id="node49" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="853,1193,1011,1220"/>
</map>
</div>

</div>
</div>
<a id="a980ad4ba4d6e5b8a8afd47f1fcbe5dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8">&#9670;&nbsp;</a></span>__btrfs_inc_extent_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __btrfs_inc_extent_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_cgraph.png" border="0" usemap="#extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_cgraph" alt=""/></div>
<map name="extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_cgraph" id="extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="214,5,329,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="204,1266,339,1307"/>
<area shape="rect" id="node10" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1043,259,1172,285"/>
<area shape="rect" id="node13" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1649,664,1804,691"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1029,1339,1185,1365"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="585,1643,756,1669"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="387,208,533,235"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="217,107,326,133"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="390,682,530,723"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="389,1407,531,1449"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="393,1715,527,1757"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a12fe0fd796b0c0b5ec8d23ebe99d9338" title="extent_ref_type" alt="" coords="615,1592,727,1619"/>
<area shape="rect" id="node6" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="1876,1846,2004,1887"/>
<area shape="rect" id="node8" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="831,461,953,488"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1875,1339,2005,1365"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="590,765,751,792"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="1245,817,1399,858"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="815,613,969,640"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aba9b9ca53a252d6fdc009132cdf0a951" title="hash_extent_data_ref_item" alt="" coords="581,512,760,539"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="819,563,965,589"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="1476,512,1579,539"/>
<area shape="rect" id="node40" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="1034,309,1181,336"/>
<area shape="rect" id="node7" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="2098,1824,2153,1851"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1663,411,1790,437"/>
<area shape="rect" id="node11" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1251,309,1393,336"/>
<area shape="rect" id="node12" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1653,917,1800,944"/>
<area shape="rect" id="node14" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1886,765,1994,792"/>
<area shape="rect" id="node16" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1863,896,2017,923"/>
<area shape="rect" id="node15" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="2076,1225,2175,1252"/>
<area shape="rect" id="node19" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="829,1491,955,1517"/>
<area shape="rect" id="node20" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1473,1161,1581,1188"/>
<area shape="rect" id="node26" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="1024,1643,1191,1669"/>
<area shape="rect" id="node21" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1662,969,1791,1010"/>
<area shape="rect" id="node22" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1665,1187,1788,1213"/>
<area shape="rect" id="node23" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1868,1175,2012,1201"/>
<area shape="rect" id="node24" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1852,1111,2028,1137"/>
<area shape="rect" id="node25" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1660,1237,1793,1264"/>
<area shape="rect" id="node28" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1283,1288,1361,1315"/>
<area shape="rect" id="node29" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1239,1339,1405,1365"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1245,1491,1399,1517"/>
<area shape="rect" id="node33" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1239,1085,1405,1112"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1453,1440,1601,1467"/>
<area shape="rect" id="node32" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1461,1491,1593,1517"/>
<area shape="rect" id="node34" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1485,563,1570,589"/>
<area shape="rect" id="node45" href="ctree_8c.html#a4716b18f6ca1f05f3b3f095533b8bf06" title="btrfs_truncate_item" alt="" coords="825,1120,959,1147"/>
<area shape="rect" id="node43" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="808,1643,976,1669"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="1032,917,1183,944"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a50c934aea8391ab8a503abd106494e5c" title="insert_tree_block_ref" alt="" coords="821,208,963,235"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a3c5a39bb02ca446ac87cf4b085b5ef2c" title="insert_extent_data_ref" alt="" coords="595,613,746,640"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_icgraph.png" border="0" usemap="#extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_icgraph" alt=""/></div>
<map name="extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_icgraph" id="extent-tree_8c_a980ad4ba4d6e5b8a8afd47f1fcbe5dd8_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="204,405,351,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="206,455,349,482"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="399,430,541,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="589,430,757,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="805,430,960,457"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1525,137,1665,179"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1492,361,1699,387"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1022,197,1186,223"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1271,532,1421,573"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2191,609,2360,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1027,423,1181,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1268,478,1424,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1747,507,1917,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1008,291,1200,318"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2443,61,2564,87"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1781,238,1883,265"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1767,5,1897,47"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1770,71,1894,112"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1777,137,1887,163"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1757,339,1907,366"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1748,391,1916,432"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1248,153,1444,179"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2450,279,2557,306"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2443,330,2564,357"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2453,381,2554,407"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2458,431,2549,458"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2647,507,2805,534"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2413,533,2593,559"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2418,583,2589,610"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2446,634,2561,661"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2435,685,2571,711"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2435,735,2572,762"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2425,787,2581,828"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2419,853,2587,879"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2408,903,2599,930"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2412,954,2595,981"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2452,1005,2555,1031"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2444,1055,2563,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2443,1106,2564,1133"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2441,1157,2565,1199"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2434,1223,2573,1250"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2420,1275,2587,1316"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2429,111,2578,138"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2424,162,2583,189"/>
<area shape="rect" id="node41" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2433,213,2573,255"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1508,507,1683,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1965,507,2143,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1276,321,1416,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1261,255,1431,296"/>
</map>
</div>

</div>
</div>
<a id="aa9708909148bdab4ba21561b6c63015c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9708909148bdab4ba21561b6c63015c">&#9670;&nbsp;</a></span>__btrfs_mod_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __btrfs_mod_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_backref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_cgraph.png" border="0" usemap="#extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_cgraph" id="extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="408,127,519,153"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="178,429,315,456"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="187,379,307,405"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="169,581,324,608"/>
<area shape="rect" id="node50" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="179,632,315,659"/>
<area shape="rect" id="node4" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="398,644,529,671"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="374,303,553,329"/>
<area shape="rect" id="node31" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="372,379,555,405"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="400,429,527,456"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="819,796,957,823"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="620,543,737,569"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="829,635,947,661"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="615,897,743,924"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="829,847,947,873"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="611,644,746,671"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="623,695,735,721"/>
<area shape="rect" id="node15" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="616,745,741,772"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="824,584,952,611"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="1035,796,1171,823"/>
<area shape="rect" id="node14" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="847,695,929,721"/>
<area shape="rect" id="node17" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="852,299,924,325"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="603,441,755,468"/>
<area shape="rect" id="node23" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="605,239,752,265"/>
<area shape="rect" id="node28" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="613,173,744,214"/>
<area shape="rect" id="node19" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="823,467,953,509"/>
<area shape="rect" id="node20" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="843,533,933,560"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="803,416,973,443"/>
<area shape="rect" id="node22" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1039,409,1168,450"/>
<area shape="rect" id="node24" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="821,182,955,223"/>
<area shape="rect" id="node25" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="824,248,952,275"/>
<area shape="rect" id="node26" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="1062,223,1145,249"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1043,273,1164,300"/>
<area shape="rect" id="node29" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="822,131,954,157"/>
<area shape="rect" id="node30" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1021,131,1185,157"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="604,391,753,417"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="821,350,955,391"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="615,492,742,519"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="406,177,521,204"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="613,107,744,149"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="619,5,739,32"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="603,56,754,83"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="807,65,969,106"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1028,72,1179,99"/>
<area shape="rect" id="node42" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="831,5,945,32"/>
<area shape="rect" id="node43" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="1051,5,1155,32"/>
<area shape="rect" id="node46" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="409,695,517,721"/>
<area shape="rect" id="node49" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="387,745,540,772"/>
<area shape="rect" id="node47" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="629,948,728,975"/>
<area shape="rect" id="node48" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="819,948,957,975"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_icgraph.png" border="0" usemap="#extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_icgraph" id="extent-tree_8c_aa9708909148bdab4ba21561b6c63015c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="169,548,264,575"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="319,599,417,625"/>
<area shape="rect" id="node3" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="312,144,424,171"/>
<area shape="rect" id="node17" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="507,653,643,680"/>
<area shape="rect" id="node35" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="472,456,679,483"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="516,552,635,579"/>
<area shape="rect" id="node4" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="514,68,637,95"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1165,144,1336,171"/>
<area shape="rect" id="node5" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="743,17,879,44"/>
<area shape="rect" id="node16" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="943,43,1117,69"/>
<area shape="rect" id="node6" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2061,43,2157,69"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a67821409432253554a84057cbb28ff69" title="record_root_in_trans" alt="" coords="960,93,1100,120"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1384,144,1561,171"/>
<area shape="rect" id="node10" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1609,245,1779,272"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1847,220,1968,247"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1848,499,1967,525"/>
<area shape="rect" id="node14" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1827,296,1988,323"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2036,220,2183,247"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2066,397,2153,424"/>
<area shape="rect" id="node18" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="745,659,876,685"/>
<area shape="rect" id="node19" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="971,616,1089,643"/>
<area shape="rect" id="node34" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1187,996,1315,1023"/>
<area shape="rect" id="node20" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1200,489,1301,516"/>
<area shape="rect" id="node21" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="1174,591,1327,617"/>
<area shape="rect" id="node22" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1189,540,1312,567"/>
<area shape="rect" id="node27" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1425,629,1521,656"/>
<area shape="rect" id="node28" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1633,629,1755,656"/>
<area shape="rect" id="node29" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1423,692,1522,719"/>
<area shape="rect" id="node31" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="1195,743,1306,769"/>
<area shape="rect" id="node32" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="1199,439,1302,465"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1395,245,1551,272"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1399,448,1546,475"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1403,844,1543,871"/>
<area shape="rect" id="node30" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1405,945,1541,972"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1626,499,1762,525"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1830,397,1985,424"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="759,440,862,467"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="736,321,885,348"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="727,491,895,533"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="981,397,1079,424"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="974,245,1086,272"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1167,253,1334,280"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="960,347,1100,373"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="965,499,1095,525"/>
<area shape="rect" id="node44" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="963,550,1097,591"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="972,844,1088,871"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="1185,895,1316,921"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="524,603,627,629"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="981,895,1079,921"/>
</map>
</div>

</div>
</div>
<a id="a4c05c78bd1cd2a89981c7f3f11fdd9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c05c78bd1cd2a89981c7f3f11fdd9ce">&#9670;&nbsp;</a></span>__btrfs_run_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int __btrfs_run_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_cgraph.png" border="0" usemap="#extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_cgraph" alt=""/></div>
<map name="extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_cgraph" id="extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="280,5,335,32"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="234,267,381,293"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="231,368,384,395"/>
<area shape="rect" id="node15" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1351,81,1497,108"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="221,161,393,188"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a76bc63d000532e47f08dcf8318d11bd2" title="select_delayed_ref" alt="" coords="242,756,373,783"/>
<area shape="rect" id="node20" href="delayed-ref_8c.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="222,807,393,833"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="450,427,630,453"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="245,579,369,605"/>
<area shape="rect" id="node27" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="718,563,847,605"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="236,705,379,732"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="481,5,599,32"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="1174,317,1274,344"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="449,360,631,387"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="693,360,872,387"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="691,411,874,437"/>
<area shape="rect" id="node10" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="687,259,879,285"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="697,157,869,184"/>
<area shape="rect" id="node16" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="948,310,1076,351"/>
<area shape="rect" id="node17" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="706,309,859,336"/>
<area shape="rect" id="node12" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="972,132,1052,159"/>
<area shape="rect" id="node13" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1183,157,1265,184"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1163,107,1285,133"/>
<area shape="rect" id="node22" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="699,512,866,539"/>
<area shape="rect" id="node23" href="delayed-ref_8h.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="939,376,1085,403"/>
<area shape="rect" id="node24" href="delayed-ref_8h.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="927,427,1097,453"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="475,629,605,656"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="477,579,603,605"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="483,781,597,808"/>
<area shape="rect" id="node40" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="723,731,842,757"/>
<area shape="rect" id="node46" href="qgroup_8h.html#a2f5a26f07d0b3b4018632b799f02c9a7" title="btrfs_qgroup_free_delayed_ref" alt="" coords="441,680,639,707"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="705,629,861,656"/>
<area shape="rect" id="node29" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="955,731,1069,757"/>
<area shape="rect" id="node30" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="951,629,1073,656"/>
<area shape="rect" id="node31" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1159,579,1289,605"/>
<area shape="rect" id="node32" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="935,680,1089,707"/>
<area shape="rect" id="node33" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1159,972,1289,999"/>
<area shape="rect" id="node34" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="957,528,1067,555"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="717,782,848,823"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="723,848,843,875"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="707,899,858,925"/>
<area shape="rect" id="node41" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="1145,1048,1303,1075"/>
<area shape="rect" id="node42" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="957,832,1067,859"/>
<area shape="rect" id="node43" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="933,883,1091,909"/>
<area shape="rect" id="node44" href="ctree_8c.html#a1f69123fedb08e3bce503893359ea3fd" title="btrfs_split_item" alt="" coords="957,933,1067,960"/>
<area shape="rect" id="node45" href="file-item_8c.html#a3635df1a176dd45a7cad182170599e3e" title="truncate_one_csum" alt="" coords="944,1035,1080,1061"/>
<area shape="rect" id="node47" href="qgroup_8h.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="699,680,866,707"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="469,832,611,859"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="467,883,613,909"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_icgraph.png" border="0" usemap="#extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_icgraph" alt=""/></div>
<map name="extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_icgraph" id="extent-tree_8c_a4c05c78bd1cd2a89981c7f3f11fdd9ce_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="221,512,376,539"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="941,222,1081,263"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="908,407,1115,433"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="438,356,602,383"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="687,509,837,550"/>
<area shape="rect" id="node15" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1607,655,1776,681"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="443,614,597,655"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="684,655,840,681"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1163,680,1333,707"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="424,280,616,307"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1859,5,1980,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1197,305,1299,332"/>
<area shape="rect" id="node6" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1183,73,1313,114"/>
<area shape="rect" id="node7" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1186,138,1310,179"/>
<area shape="rect" id="node8" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1193,204,1303,231"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1173,407,1323,433"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1164,458,1332,499"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="664,356,860,383"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1866,325,1973,352"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1859,376,1980,403"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1869,427,1970,453"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1874,477,1965,504"/>
<area shape="rect" id="node20" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2063,199,2221,225"/>
<area shape="rect" id="node21" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1829,224,2009,251"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1834,629,2005,656"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1862,680,1977,707"/>
<area shape="rect" id="node24" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1851,731,1987,757"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1851,781,1988,808"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1841,833,1997,874"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1835,899,2003,925"/>
<area shape="rect" id="node28" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1824,949,2015,976"/>
<area shape="rect" id="node29" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1828,1000,2011,1027"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1868,1051,1971,1077"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1860,1101,1979,1128"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1859,1152,1980,1179"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1857,1203,1981,1245"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1850,1269,1989,1296"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1836,1321,2003,1362"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1845,1387,1994,1413"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1840,1437,1999,1464"/>
<area shape="rect" id="node38" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1849,57,1989,98"/>
<area shape="rect" id="node39" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1849,123,1989,149"/>
<area shape="rect" id="node40" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1856,579,1983,605"/>
<area shape="rect" id="node41" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="2069,528,2215,555"/>
<area shape="rect" id="node42" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1851,528,1987,555"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="924,680,1099,707"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1381,680,1559,707"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="692,255,832,281"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="677,189,847,230"/>
</map>
</div>

</div>
</div>
<a id="acf3aa7fbd123ef86874580d6eeff2dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf3aa7fbd123ef86874580d6eeff2dd8">&#9670;&nbsp;</a></span>__exclude_logged_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __exclude_logged_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_cgraph.png" border="0" usemap="#extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_cgraph" alt=""/></div>
<map name="extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_cgraph" id="extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="242,81,373,123"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="240,249,375,275"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="661,477,799,503"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="859,502,1029,529"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="655,325,805,351"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="238,578,377,605"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="223,629,392,655"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46" title="add_excluded_extent" alt="" coords="235,679,380,706"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="440,5,603,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="655,54,805,81"/>
<area shape="rect" id="node6" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="468,223,575,250"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="466,375,577,402"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="653,274,807,301"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="651,134,809,161"/>
<area shape="rect" id="node45" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="459,173,584,199"/>
<area shape="rect" id="node8" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="657,426,803,453"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="657,375,803,402"/>
<area shape="rect" id="node9" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="887,401,1001,427"/>
<area shape="rect" id="node10" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="889,350,999,377"/>
<area shape="rect" id="node13" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="883,274,1005,301"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1506,307,1637,334"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1512,257,1631,283"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1872,690,1999,717"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1705,383,1819,410"/>
<area shape="rect" id="node22" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="1079,586,1225,613"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1499,757,1643,783"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="2047,690,2188,717"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1874,383,1997,410"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1491,358,1652,385"/>
<area shape="rect" id="node24" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1273,409,1443,435"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1287,831,1429,872"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="1273,948,1443,989"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="1501,625,1641,667"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1510,691,1633,732"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1279,459,1437,486"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1276,510,1440,537"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="1285,561,1431,587"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="1277,611,1439,638"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="1291,713,1425,755"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="1281,779,1435,806"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1709,791,1815,818"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1700,639,1824,666"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1717,741,1807,767"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="859,46,1029,73"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="857,147,1031,174"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1081,89,1223,131"/>
<area shape="rect" id="node44" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="923,198,965,225"/>
<area shape="rect" id="node46" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="661,185,799,211"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a0f26c20721fdb99360a587accb5b5ec1" title="set_extent_bits" alt="" coords="466,679,577,706"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_icgraph.png" border="0" usemap="#extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_icgraph" alt=""/></div>
<map name="extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_icgraph" id="extent-tree_8c_acf3aa7fbd123ef86874580d6eeff2dd8_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="223,531,368,572"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="232,466,359,507"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="416,357,623,384"/>
<area shape="rect" id="node41" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="451,876,587,902"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1535,520,1657,546"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1109,33,1211,60"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="680,521,829,548"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="671,164,839,206"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1733,520,1880,546"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1305,33,1451,60"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1329,84,1427,110"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1528,109,1664,136"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1747,160,1866,186"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1943,298,2029,325"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1729,84,1884,110"/>
<area shape="rect" id="node12" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1515,298,1677,325"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1550,210,1642,237"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="901,648,1013,674"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1077,572,1243,598"/>
<area shape="rect" id="node25" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="887,489,1027,516"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1518,690,1674,731"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1114,673,1206,700"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1103,724,1217,750"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1080,622,1240,649"/>
<area shape="rect" id="node21" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1309,404,1447,446"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1511,570,1681,597"/>
<area shape="rect" id="node22" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1525,413,1667,440"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1077,420,1243,446"/>
<area shape="rect" id="node27" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1125,521,1195,548"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="891,281,1022,308"/>
<area shape="rect" id="node39" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="889,164,1024,206"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1075,302,1245,329"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1085,354,1235,395"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1083,236,1237,278"/>
<area shape="rect" id="node32" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1293,521,1463,548"/>
<area shape="rect" id="node33" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1517,825,1675,852"/>
<area shape="rect" id="node34" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1749,697,1864,724"/>
<area shape="rect" id="node35" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1741,1036,1872,1078"/>
<area shape="rect" id="node36" href="tree-log_8c.html#acb71bf66afc77a465b0c8e96e0dda086" title="start_log_trans" alt="" coords="1932,1094,2040,1121"/>
<area shape="rect" id="node37" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1933,1044,2039,1070"/>
<area shape="rect" id="node40" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1089,185,1231,212"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="706,985,803,1012"/>
<area shape="rect" id="node43" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="906,985,1007,1012"/>
<area shape="rect" id="node47" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1081,1044,1239,1070"/>
<area shape="rect" id="node44" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="1091,978,1229,1019"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1101,926,1219,953"/>
<area shape="rect" id="node45" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="1313,985,1443,1012"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="455,589,583,616"/>
<area shape="rect" id="node50" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="692,726,817,753"/>
</map>
</div>

</div>
</div>
<a id="ab5b75b50b8296c727405cbbd69a1a2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b75b50b8296c727405cbbd69a1a2c0">&#9670;&nbsp;</a></span>__find_space_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a>* __find_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab5b75b50b8296c727405cbbd69a1a2c0_icgraph.png" border="0" usemap="#extent-tree_8c_ab5b75b50b8296c727405cbbd69a1a2c0_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab5b75b50b8296c727405cbbd69a1a2c0_icgraph" id="extent-tree_8c_ab5b75b50b8296c727405cbbd69a1a2c0_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="201,411,327,437"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="867,765,1016,792"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1078,917,1190,944"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="1471,1265,1609,1306"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1278,1035,1393,1061"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1469,831,1611,857"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="202,968,326,995"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#abe237c9268ec98ee009ae4b0e493bfc7" title="update_space_info" alt="" coords="199,613,329,640"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="398,613,562,640"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="887,1221,995,1248"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a06c414d3f60fe337268a503a5ac67fae" title="btrfs_init_metadata\l_block_rsv" alt="" coords="197,1019,331,1061"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#afd07a2a420a89d0939bd73d25cdb728b" title="init_global_block_rsv" alt="" coords="193,563,335,589"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="180,1138,348,1179"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a7e43e018484a4032a1bd12a9e452606a" title="btrfs_add_raid_kobjects" alt="" coords="184,715,344,741"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="411,259,549,285"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="408,461,552,488"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="420,360,540,387"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="643,411,787,437"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="629,208,802,235"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="642,56,789,83"/>
<area shape="rect" id="node7" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="612,563,819,589"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="657,259,773,285"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="672,107,759,133"/>
<area shape="rect" id="node30" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="646,309,785,336"/>
<area shape="rect" id="node31" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="667,360,763,387"/>
<area shape="rect" id="node32" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="666,157,765,184"/>
<area shape="rect" id="node33" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="651,5,779,32"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1252,867,1419,893"/>
<area shape="rect" id="node26" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1064,765,1204,792"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1257,918,1413,959"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1289,1221,1381,1248"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1255,984,1415,1011"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="1661,1272,1860,1299"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1908,1047,2097,1073"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1706,957,1815,984"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1680,801,1841,828"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1691,853,1830,894"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1686,595,1835,621"/>
<area shape="rect" id="node21" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1937,531,2068,557"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1951,659,2054,685"/>
<area shape="rect" id="node25" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1467,945,1613,986"/>
<area shape="rect" id="node27" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1264,740,1407,767"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="396,968,564,995"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="398,563,562,589"/>
<area shape="rect" id="node41" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="646,613,785,640"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#aca4351c60d0a69aec44c5b83c58eeab1" title="btrfs_alloc_inode" alt="" coords="420,1019,540,1045"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ac4fa53d8f83f56d50e0fe18f189751c0" title="btrfs_alloc_block_rsv" alt="" coords="407,1069,553,1096"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="421,1120,539,1147"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="398,1171,562,1197"/>
</map>
</div>

</div>
</div>
<a id="a1a6df4b6f0075b6b84fb418f8fdc78bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a6df4b6f0075b6b84fb418f8fdc78bc">&#9670;&nbsp;</a></span>__reserve_metadata_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __reserve_metadata_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>orig_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a>&#160;</td>
          <td class="paramname"><em>flush</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>system_chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reserve_metadata_bytes - try to reserve bytes from the block_rsv's space  - the root we're allocating for  - the space info we want to allocate from  - the number of bytes we want  - whether or not we can flush to make our reservation</p>
<p>This will reserve orig_bytes number of bytes from the space info associated with the block_rsv. If there is not enough space it will make an attempt to flush out space to make room. It will do this by flushing delalloc if possible or committing the transaction. If flush is 0 then no attempts to regain reservations will be made and this will fail if there is not enough space already. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_cgraph.png" border="0" usemap="#extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_cgraph" alt=""/></div>
<map name="extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_cgraph" id="extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1081,81,1235,108"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="881,144,1000,171"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="412,245,575,272"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="211,296,346,323"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="193,179,364,221"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1092,335,1224,377"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1087,270,1229,311"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1085,133,1231,174"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1333,311,1449,337"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1552,303,1680,345"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1753,311,1883,337"/>
<area shape="rect" id="node11" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1105,199,1211,225"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="650,179,778,221"/>
<area shape="rect" id="node13" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="657,296,771,323"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="447,848,539,875"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="865,851,1017,877"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="867,1019,1014,1045"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1543,1287,1689,1313"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="623,793,805,820"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="660,899,768,925"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="658,523,770,549"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="630,1019,798,1045"/>
<area shape="rect" id="node18" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1288,683,1495,709"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1099,1003,1217,1029"/>
<area shape="rect" id="node21" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1319,1119,1463,1161"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1309,1185,1473,1212"/>
<area shape="rect" id="node23" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1322,733,1461,760"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1317,784,1466,811"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1327,835,1456,861"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="1335,885,1448,912"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1307,1236,1476,1263"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="1323,937,1460,978"/>
<area shape="rect" id="node31" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1311,1003,1471,1029"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="1312,1054,1471,1095"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1737,1261,1899,1288"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="871,785,1010,826"/>
<area shape="rect" id="node35" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1131,733,1185,760"/>
<area shape="rect" id="node36" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1101,784,1215,811"/>
<area shape="rect" id="node37" href="delayed-inode_8c.html#a871e0ca3f52c069d5a57f09c72d9e117" title="btrfs_first_delayed_node" alt="" coords="1076,835,1240,861"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1095,683,1221,709"/>
<area shape="rect" id="node40" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1093,937,1223,978"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="863,902,1019,943"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="873,93,1009,120"/>
<area shape="rect" id="node44" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="861,413,1021,440"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="853,464,1028,491"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="866,581,1015,608"/>
<area shape="rect" id="node47" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1096,632,1220,659"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="869,515,1012,557"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="874,347,1007,389"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_icgraph.png" border="0" usemap="#extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_icgraph" id="extent-tree_8c_a1a6df4b6f0075b6b84fb418f8fdc78bc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="193,765,359,792"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="409,673,547,700"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="811,141,954,168"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="407,1048,549,1075"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="425,917,531,944"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="597,229,751,256"/>
<area shape="rect" id="node8" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="605,695,743,737"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="599,81,749,108"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="799,891,967,933"/>
<area shape="rect" id="node19" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1025,1187,1175,1213"/>
<area shape="rect" id="node21" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="626,768,722,795"/>
<area shape="rect" id="node24" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1037,259,1163,285"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="615,469,733,496"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1015,979,1185,1005"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="813,193,953,234"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1039,208,1161,235"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1249,208,1395,235"/>
<area shape="rect" id="node9" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="809,695,956,737"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="827,40,939,67"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1017,5,1183,32"/>
<area shape="rect" id="node14" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="813,91,953,117"/>
<area shape="rect" id="node13" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1652,150,1791,191"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1049,899,1151,925"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1041,780,1159,807"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1018,595,1182,621"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1263,1187,1381,1213"/>
<area shape="rect" id="node22" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="819,761,947,802"/>
<area shape="rect" id="node23" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="815,826,950,867"/>
<area shape="rect" id="node25" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1459,284,1604,311"/>
<area shape="rect" id="node27" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="807,411,959,437"/>
<area shape="rect" id="node30" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="1024,411,1176,453"/>
<area shape="rect" id="node31" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="809,259,956,285"/>
<area shape="rect" id="node33" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="809,527,956,569"/>
<area shape="rect" id="node34" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="801,593,964,620"/>
<area shape="rect" id="node35" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="801,462,964,503"/>
<area shape="rect" id="node28" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1039,309,1161,336"/>
<area shape="rect" id="node29" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1257,309,1387,336"/>
<area shape="rect" id="node32" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1032,157,1168,184"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1233,979,1411,1005"/>
<area shape="rect" id="node39" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1016,56,1184,83"/>
<area shape="rect" id="node40" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1255,56,1389,83"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="599,1241,749,1282"/>
<area shape="rect" id="node43" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="807,1277,958,1304"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="808,1211,957,1253"/>
<area shape="rect" id="node45" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1255,1293,1389,1334"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="599,1008,749,1035"/>
<area shape="rect" id="node48" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="827,1008,939,1035"/>
<area shape="rect" id="node49" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="817,1059,948,1085"/>
<area shape="rect" id="node50" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="825,1109,940,1136"/>
</map>
</div>

</div>
</div>
<a id="a4512e3030b8eac9bff49664cc9913a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4512e3030b8eac9bff49664cc9913a4f">&#9670;&nbsp;</a></span>__run_delayed_extent_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __run_delayed_extent_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>leaf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_item *&#160;</td>
          <td class="paramname"><em>ei</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_cgraph.png" border="0" usemap="#extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_cgraph" id="extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="224,645,392,672"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="440,493,591,520"/>
<area shape="rect" id="node22" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1482,743,1537,769"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="996,493,1151,520"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="639,398,792,439"/>
<area shape="rect" id="node5" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1238,528,1346,555"/>
<area shape="rect" id="node8" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1215,477,1369,504"/>
<area shape="rect" id="node6" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1460,376,1559,403"/>
<area shape="rect" id="node7" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1635,376,1774,403"/>
<area shape="rect" id="node10" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="840,376,948,403"/>
<area shape="rect" id="node11" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1000,275,1147,301"/>
<area shape="rect" id="node15" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1009,427,1138,469"/>
<area shape="rect" id="node17" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1012,629,1135,656"/>
<area shape="rect" id="node18" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1227,579,1357,605"/>
<area shape="rect" id="node20" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1220,747,1364,773"/>
<area shape="rect" id="node24" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1204,107,1380,133"/>
<area shape="rect" id="node26" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1007,15,1140,41"/>
<area shape="rect" id="node27" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1029,65,1118,92"/>
<area shape="rect" id="node47" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1020,195,1127,221"/>
<area shape="rect" id="node49" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1018,325,1129,352"/>
<area shape="rect" id="node12" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1199,275,1385,301"/>
<area shape="rect" id="node13" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1232,224,1352,251"/>
<area shape="rect" id="node14" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1438,199,1581,225"/>
<area shape="rect" id="node16" href="ctree_8h.html#a713d9e8ab85dd576211f29c7adfd1901" title="btrfs_dir_item_key" alt="" coords="1227,427,1357,453"/>
<area shape="rect" id="node19" href="ctree_8h.html#af629a64daf06e6689e0aed2d0655b060" title="btrfs_tree_block_key" alt="" coords="1221,629,1363,656"/>
<area shape="rect" id="node21" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="1228,681,1356,722"/>
<area shape="rect" id="node23" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1645,743,1764,769"/>
<area shape="rect" id="node25" href="ctree_8h.html#ad8e455ffd90235ec505392037ceb69f6" title="btrfs_file_extent_inline\l_item_len" alt="" coords="1433,107,1585,149"/>
<area shape="rect" id="node28" href="ctree_8h.html#a468f209ce619d17a76cc9c3a78f24cc6" title="btrfs_stripe_devid_nr" alt="" coords="1221,56,1363,83"/>
<area shape="rect" id="node46" href="ctree_8h.html#aeef125c97ae680c4a601d4680597c18b" title="btrfs_stripe_offset_nr" alt="" coords="1219,5,1365,32"/>
<area shape="rect" id="node29" href="ctree_8h.html#a7d5478338408ba3c40f5bcd0d57c385f" title="btrfs_stripe_nr" alt="" coords="1457,5,1562,32"/>
<area shape="rect" id="node30" href="reiserfs_2bitmap_8c.html#a4c333bf541847de63408a6b717bb070f" title="block_group_used" alt="" coords="1446,56,1573,83"/>
<area shape="rect" id="node31" href="reiserfs_2bitmap_8c.html#a63c7e66c5a6ae382eacd56fcf1868de7" title="bmap_hash_id" alt="" coords="1651,40,1758,67"/>
<area shape="rect" id="node35" href="reiserfs_2bitmap_8c.html#abea185527d26799785fd032bfa486849" title="reiserfs_read_bitmap\l_block" alt="" coords="1633,293,1776,334"/>
<area shape="rect" id="node32" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1875,31,1926,57"/>
<area shape="rect" id="node33" href="hashes_8c.html#aa44a685c4821172e3c0b89df950c3898" title="keyed_hash" alt="" coords="1855,81,1947,108"/>
<area shape="rect" id="node34" href="reiserfs_8h.html#a11723b717ae0e6ca3ad3c2c7d911f569" title="reiserfs_bmap_count" alt="" coords="2212,148,2355,175"/>
<area shape="rect" id="node36" href="reiserfs_8h.html#a0e265314d75fff703a39c90e48f4462b" title="REISERFS_SB" alt="" coords="2037,373,2152,400"/>
<area shape="rect" id="node37" href="reiserfs_2bitmap_8c.html#a07606fb68673f63ac428d55149dd8842" title="scan_bitmap" alt="" coords="1853,249,1949,276"/>
<area shape="rect" id="node41" href="reiserfs_2lock_8c.html#acffafbcd9e9d400a9018c23375afed69" title="reiserfs_write_unlock\l_nested" alt="" coords="1828,301,1973,342"/>
<area shape="rect" id="node42" href="buffer_8c.html#ac2f21d8452ec8e7f51270bacf8df7e59" title="__wait_on_buffer" alt="" coords="1840,483,1961,509"/>
<area shape="rect" id="node44" href="reiserfs_2lock_8c.html#a340707d69035995c991dfd2de6693360" title="reiserfs_write_lock\l_nested" alt="" coords="1835,366,1966,407"/>
<area shape="rect" id="node45" href="reiserfs_2bitmap_8c.html#aa21a34a7d4c6cc8ae4b868dbdab8d726" title="reiserfs_cache_bitmap\l_metadata" alt="" coords="1824,183,1977,225"/>
<area shape="rect" id="node38" href="reiserfs_2bitmap_8c.html#a8e081c0a2844294713d6621752beb22f" title="get_bit_address" alt="" coords="2037,300,2152,327"/>
<area shape="rect" id="node39" href="reiserfs_2bitmap_8c.html#aa55bcddedd67e4f5feea0773c3c6ab64" title="scan_bitmap_block" alt="" coords="2027,148,2162,175"/>
<area shape="rect" id="node40" href="reiserfs_2bitmap_8c.html#abaebb6f67e5594a48236521efad82e46" title="is_block_in_journal" alt="" coords="2217,224,2349,251"/>
<area shape="rect" id="node43" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2025,483,2164,509"/>
<area shape="rect" id="node48" href="ctree_8h.html#a26204c078cfb39ea1bc22b5e3029361f" title="btrfs_device_total\l_bytes" alt="" coords="1229,158,1355,199"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="1227,325,1357,352"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_icgraph.png" border="0" usemap="#extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_icgraph" id="extent-tree_8c_a4512e3030b8eac9bff49664cc9913a4f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="227,321,362,363"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="620,343,771,370"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="224,387,365,428"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="628,398,763,425"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="415,503,571,530"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="425,332,560,373"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="819,347,965,374"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="821,398,963,425"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1013,398,1156,425"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1204,430,1372,457"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1420,430,1575,457"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2140,137,2280,179"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2107,361,2313,387"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1637,197,1801,223"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1885,532,2036,573"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2805,550,2975,577"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1642,423,1795,464"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1883,478,2039,505"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2361,507,2532,534"/>
<area shape="rect" id="node41" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1623,291,1815,318"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3057,195,3179,222"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2395,238,2498,265"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2381,5,2512,47"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2385,71,2509,112"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2391,137,2502,163"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2372,339,2521,366"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2363,391,2531,432"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1863,153,2059,179"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="3065,398,3171,425"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="3057,449,3179,475"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3067,499,3169,526"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3073,550,3163,577"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3261,626,3420,653"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="3028,651,3208,678"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="3033,702,3203,729"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="3061,753,3175,779"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="3050,803,3186,830"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="3049,854,3187,881"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3040,905,3196,947"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="3034,246,3202,273"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3023,297,3213,323"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="3027,347,3209,374"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2123,507,2297,534"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2580,507,2757,534"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1891,321,2031,347"/>
<area shape="rect" id="node43" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1876,255,2045,296"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="413,398,572,425"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="630,493,761,519"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1023,455,1147,482"/>
</map>
</div>

</div>
</div>
<a id="a7b8d1dcec08d810d825734e98ca35e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8d1dcec08d810d825734e98ca35e46">&#9670;&nbsp;</a></span>add_excluded_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_excluded_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_cgraph.png" border="0" usemap="#extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_cgraph" id="extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_cgraph">
<area shape="rect" id="node2" href="extent__io_8h.html#a0f26c20721fdb99360a587accb5b5ec1" title="set_extent_bits" alt="" coords="199,342,309,369"/>
<area shape="rect" id="node3" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="357,342,461,369"/>
<area shape="rect" id="node4" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="509,342,628,369"/>
<area shape="rect" id="node5" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="882,26,1010,53"/>
<area shape="rect" id="node6" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1267,153,1407,180"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="676,469,827,496"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="687,48,815,90"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a2a35e48a00317a8f13a19f3ba1caecaa" title="insert_state" alt="" coords="706,368,797,394"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="894,418,998,445"/>
<area shape="rect" id="node41" href="extent__io_8c.html#a0e9df311badff8a81168b49e10e47db7" title="merge_state" alt="" coords="899,368,993,394"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1081,229,1203,256"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="680,520,823,546"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a1a855576f67d424c4b8024553802ef4a" title="cache_state" alt="" coords="705,570,798,597"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="710,621,793,648"/>
<area shape="rect" id="node49" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="710,266,793,293"/>
<area shape="rect" id="node7" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1481,128,1575,154"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1455,178,1601,205"/>
<area shape="rect" id="node10" href="extent__io_8c.html#abe467271d634b8343246cb5501b8baa5" title="__etree_search" alt="" coords="891,469,1001,496"/>
<area shape="rect" id="node40" href="extent__io_8c.html#af958ea152d9987cc5689861b43c9d595" title="tree_insert" alt="" coords="905,317,987,344"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a9978f793a333445e07eb82b0c69ebdd8" title="set_state_cb" alt="" coords="1093,418,1191,445"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a0faa12cb962bf387a41fc563285a13cf" title="add_extent_changeset" alt="" coords="1065,469,1219,496"/>
<area shape="rect" id="node16" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1299,444,1374,470"/>
<area shape="rect" id="node20" href="extent__io_8c.html#a552b62b75391793157f27eda7bdfea10" title="flush_write_bio" alt="" coords="1282,494,1391,521"/>
<area shape="rect" id="node17" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1469,444,1587,470"/>
<area shape="rect" id="node18" href="ulist_8c.html#a4a2f46d31727a215a17d74ce60594523" title="ulist_rbtree_search" alt="" coords="1649,444,1781,470"/>
<area shape="rect" id="node19" href="ulist_8c.html#a9e22aa0917a164df2a7ab11359e3ce62" title="ulist_rbtree_insert" alt="" coords="1653,393,1778,420"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a4506724f341b037ca5b7b8b03e6fd705" title="submit_one_bio" alt="" coords="1471,494,1585,521"/>
<area shape="rect" id="node22" href="check-integrity_8c.html#a4bfa0549f2775a3bc6d773760cd26675" title="btrfsic_submit_bio" alt="" coords="1651,494,1779,521"/>
<area shape="rect" id="node23" href="check-integrity_8c.html#a74c52fdf4a7fbd9e1938d58d029aa597" title="__btrfsic_submit_bio" alt="" coords="1829,494,1972,521"/>
<area shape="rect" id="node24" href="check-integrity_8c.html#a07a895bba82e1eb8815ae3607571b964" title="btrfsic_dev_state_lookup" alt="" coords="2020,261,2187,288"/>
<area shape="rect" id="node26" href="check-integrity_8c.html#a8cfffe5e77b1ca9935913415b43bed23" title="btrfsic_process_written\l_block" alt="" coords="2025,487,2182,528"/>
<area shape="rect" id="node37" href="check-integrity_8c.html#a4502cb107f60b235507231cabbde55a3" title="btrfsic_bio_end_io" alt="" coords="2264,818,2391,845"/>
<area shape="rect" id="node25" href="check-integrity_8c.html#af4360a68d86db1b044975aec13ca2d3e" title="btrfsic_dev_state_hashtable\l_lookup" alt="" coords="2235,78,2420,119"/>
<area shape="rect" id="node27" href="check-integrity_8c.html#afc9ef680e9d32ac761621933fb553a49" title="btrfsic_test_for_metadata" alt="" coords="2242,377,2413,404"/>
<area shape="rect" id="node28" href="check-integrity_8c.html#a11b3a1db3cff95578e283184cc3a6a22" title="btrfsic_block_hashtable\l_lookup" alt="" coords="2248,428,2407,470"/>
<area shape="rect" id="node29" href="check-integrity_8c.html#a58106b5dd38700df8d6aa846ef47872b" title="btrfsic_dump_tree_sub" alt="" coords="2651,650,2805,677"/>
<area shape="rect" id="node30" href="check-integrity_8c.html#a0b93c221b44fdb6909d7f8e1790e1160" title="btrfsic_get_block_type" alt="" coords="2853,676,3007,702"/>
<area shape="rect" id="node31" href="check-integrity_8c.html#a73e87f56320d63a7acb87a1ecdad896f" title="btrfsic_cmp_log_and\l_dev_bytenr" alt="" coords="2256,195,2399,236"/>
<area shape="rect" id="node32" href="check-integrity_8c.html#ad5a4ec49c477da69fef9ddfeea01d52f" title="btrfsic_is_block_ref\l_by_superblock" alt="" coords="2468,702,2603,743"/>
<area shape="rect" id="node33" href="check-integrity_8c.html#aa449a14259bf71df56aaa703255dbb9d" title="btrfsic_dump_tree" alt="" coords="2472,600,2599,626"/>
<area shape="rect" id="node34" href="check-integrity_8c.html#aa72a68ac2487b56154dbb3bce6fdd3ce" title="btrfsic_print_rem_link" alt="" coords="2655,760,2801,786"/>
<area shape="rect" id="node35" href="check-integrity_8c.html#af21e3c8b277726772f6d8013f446397d" title="btrfsic_block_link\l_hashtable_remove" alt="" coords="2260,260,2395,302"/>
<area shape="rect" id="node36" href="check-integrity_8c.html#a645781dc1cbf00b7d5460d2f80ec62b7" title="btrfsic_block_link_free" alt="" coords="2251,326,2403,353"/>
<area shape="rect" id="node38" href="check-integrity_8c.html#a820b000473e5915dfdd96cc6403dac00" title="btrfsic_bh_end_io" alt="" coords="2473,220,2597,246"/>
<area shape="rect" id="node39" href="check-integrity_8c.html#afc022ccb70a3c3643e2ec73c5a0cbafa" title="btrfsic_process_written\l_superblock" alt="" coords="2249,596,2406,638"/>
<area shape="rect" id="node42" href="extent__io_8c.html#ad00187c1eb74f8f0ab88e909f9a01709" title="merge_cb" alt="" coords="1103,368,1181,394"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a320be295294cb256f23fe5d3e74d8fea" title="tree_fs_info" alt="" coords="901,520,991,546"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="875,570,1017,597"/>
<area shape="rect" id="node50" href="extent__io_8c.html#ad8c520dcd5197ddf9a219ad61bb09447" title="split_cb" alt="" coords="913,216,979,242"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_icgraph.png" border="0" usemap="#extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_icgraph" id="extent-tree_8c_a7b8d1dcec08d810d825734e98ca35e46_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="207,317,359,344"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="199,401,368,428"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="416,343,580,369"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="416,292,580,319"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="628,343,835,369"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1539,461,1625,488"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="906,271,1027,297"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="915,427,1018,453"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1697,157,1847,184"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="883,335,1051,377"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1105,259,1251,285"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1105,427,1251,453"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1129,563,1227,589"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1318,309,1454,336"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1523,284,1641,311"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1309,360,1463,387"/>
<area shape="rect" id="node24" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1305,411,1467,437"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1719,579,1825,605"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1717,436,1827,463"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2147,451,2267,477"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1895,462,2076,503"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1917,527,2053,569"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1923,593,2047,620"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1925,309,2045,336"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1918,360,2053,387"/>
<area shape="rect" id="node20" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1935,411,2035,437"/>
<area shape="rect" id="node21" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1907,259,2063,285"/>
<area shape="rect" id="node22" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2173,81,2242,108"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1340,563,1432,589"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1929,157,2041,184"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2124,183,2291,209"/>
<area shape="rect" id="node30" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1915,107,2055,133"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1113,376,1243,403"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1111,310,1245,351"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1317,107,1455,133"/>
<area shape="rect" id="node36" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1520,107,1644,133"/>
<area shape="rect" id="node37" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="1515,31,1649,57"/>
<area shape="rect" id="node38" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1698,5,1846,32"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="425,394,571,435"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="435,459,561,501"/>
<area shape="rect" id="node41" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="663,563,799,589"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="918,664,1015,691"/>
<area shape="rect" id="node46" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1099,613,1257,640"/>
<area shape="rect" id="node43" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1127,715,1229,741"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1099,664,1257,691"/>
<area shape="rect" id="node44" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1321,665,1451,706"/>
<area shape="rect" id="node47" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1329,613,1443,640"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="667,613,795,640"/>
<area shape="rect" id="node50" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="904,613,1029,640"/>
</map>
</div>

</div>
</div>
<a id="a23810d890561f72d6e81b0a807ded999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23810d890561f72d6e81b0a807ded999">&#9670;&nbsp;</a></span>add_new_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 add_new_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a23810d890561f72d6e81b0a807ded999_cgraph.png" border="0" usemap="#extent-tree_8c_a23810d890561f72d6e81b0a807ded999_cgraph" alt=""/></div>
<map name="extent-tree_8c_a23810d890561f72d6e81b0a807ded999_cgraph" id="extent-tree_8c_a23810d890561f72d6e81b0a807ded999_cgraph">
<area shape="rect" id="node2" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="410,122,546,149"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="199,853,345,879"/>
<area shape="rect" id="node3" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="840,122,980,149"/>
<area shape="rect" id="node6" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="634,122,757,149"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a0d209b399b57dc10932618d6624d82d4" title="find_first_extent_bit\l_state" alt="" coords="627,5,763,47"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="624,71,767,98"/>
<area shape="rect" id="node4" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1076,153,1171,179"/>
<area shape="rect" id="node5" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1050,102,1197,129"/>
<area shape="rect" id="node8" href="extent__io_8c.html#a69da98b4b5fc8b28b435f40f0b3ae3d7" title="tree_search" alt="" coords="865,13,955,39"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="1048,13,1199,39"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="615,1369,776,1395"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="611,609,780,635"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="407,1199,549,1240"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="393,1411,563,1452"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="408,972,548,1013"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="849,913,971,955"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="399,777,557,803"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="828,173,992,199"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="405,1477,551,1503"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="397,827,559,854"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="411,1565,545,1607"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="618,406,773,433"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1048,1470,1199,1497"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="846,1217,974,1243"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1263,1267,1377,1294"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="845,1470,975,1497"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1255,381,1385,407"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1257,989,1383,1015"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1433,1166,1575,1193"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1261,685,1379,711"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1050,1267,1197,1294"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1063,1217,1183,1243"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="838,710,982,737"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1070,710,1177,737"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1061,659,1185,686"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1078,913,1169,939"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="835,1572,985,1613"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="621,1565,769,1607"/>
<area shape="rect" id="node32" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="835,1689,985,1715"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="853,862,967,889"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="615,1318,776,1345"/>
<area shape="rect" id="node37" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1096,811,1151,838"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1040,203,1207,230"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1050,305,1197,331"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="829,761,991,787"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="835,289,985,331"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1068,355,1179,382"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="861,507,959,534"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="835,224,985,265"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a23810d890561f72d6e81b0a807ded999_icgraph.png" border="0" usemap="#extent-tree_8c_a23810d890561f72d6e81b0a807ded999_icgraph" alt=""/></div>
<map name="extent-tree_8c_a23810d890561f72d6e81b0a807ded999_icgraph" id="extent-tree_8c_a23810d890561f72d6e81b0a807ded999_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="417,631,564,657"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="2737,631,2901,657"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="2737,707,2901,733"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="199,732,369,759"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="201,681,367,708"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="612,631,723,657"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="771,505,905,532"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="953,476,1092,503"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="3730,5,3845,32"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1361,531,1499,573"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="1140,585,1309,612"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="975,425,1070,452"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1157,417,1292,444"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1159,469,1290,510"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1157,351,1292,393"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1367,466,1493,507"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1551,539,1757,565"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1829,437,1950,464"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1838,513,1941,540"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="3319,93,3468,120"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1805,615,1973,657"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2021,412,2168,439"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2021,463,2168,489"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="2046,513,2143,540"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2216,448,2303,475"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2352,237,2459,264"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2351,408,2460,435"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2759,144,2879,171"/>
<area shape="rect" id="node18" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2508,373,2689,414"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2531,438,2667,479"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2537,504,2661,531"/>
<area shape="rect" id="node21" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2539,220,2659,247"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2523,555,2675,581"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2531,271,2666,297"/>
<area shape="rect" id="node36" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2549,321,2649,348"/>
<area shape="rect" id="node37" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="2521,169,2677,196"/>
<area shape="rect" id="node25" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2949,296,3088,323"/>
<area shape="rect" id="node26" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="3141,144,3265,171"/>
<area shape="rect" id="node33" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="3136,296,3271,323"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="3530,43,3642,69"/>
<area shape="rect" id="node32" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="3753,220,3822,247"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="3704,81,3871,108"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="3516,144,3656,171"/>
<area shape="rect" id="node34" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="3319,296,3467,323"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="2029,615,2160,641"/>
<area shape="rect" id="node41" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="2027,666,2162,707"/>
<area shape="rect" id="node44" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1586,596,1722,623"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="1357,597,1503,638"/>
<area shape="rect" id="node49" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="417,681,564,708"/>
</map>
</div>

</div>
</div>
<a id="a5a03b46ba34257238b4b04a3a71eea29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a03b46ba34257238b4b04a3a71eea29">&#9670;&nbsp;</a></span>add_pinned_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void add_pinned_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_cgraph.png" border="0" usemap="#extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_cgraph" id="extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="180,5,307,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_icgraph.png" border="0" usemap="#extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_icgraph" id="extent-tree_8c_a5a03b46ba34257238b4b04a3a71eea29_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="183,879,321,906"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="180,195,324,222"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="192,550,312,577"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="834,499,978,526"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1273,1063,1420,1090"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1303,1151,1390,1178"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1283,634,1411,661"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="819,819,993,846"/>
<area shape="rect" id="node18" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="803,727,1009,754"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="405,677,521,703"/>
<area shape="rect" id="node28" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="394,575,533,602"/>
<area shape="rect" id="node34" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1299,259,1395,286"/>
<area shape="rect" id="node36" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1297,322,1396,349"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a20c090844c67ac58992e0e415b3a979c" title="btrfs_drop_extents" alt="" coords="1076,575,1207,602"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="1081,373,1202,399"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="1068,423,1215,450"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1279,517,1414,559"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a7ca07330eb9bbc96b69ca30dbfa8f1bb" title="log_one_extent" alt="" coords="1086,474,1197,501"/>
<area shape="rect" id="node12" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1487,609,1613,635"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#afda8cc4035a3698daf6c5215423d2890" title="relink_file_extents" alt="" coords="1487,1063,1613,1090"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="1680,1013,1833,1039"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1485,1177,1615,1203"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1491,1126,1609,1153"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1081,743,1202,770"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1090,693,1193,719"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1067,861,1216,887"/>
<area shape="rect" id="node22" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1057,795,1225,836"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="631,727,726,754"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="629,474,728,501"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="855,322,957,349"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1092,322,1191,349"/>
<area shape="rect" id="node29" href="relocation_8c.html#a9c0768208e7f7df3d067b31cfdd72ba4" title="btrfs_reloc_cow_block" alt="" coords="603,322,755,349"/>
<area shape="rect" id="node30" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="841,195,971,222"/>
<area shape="rect" id="node31" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1083,170,1200,197"/>
<area shape="rect" id="node39" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1077,221,1205,247"/>
<area shape="rect" id="node32" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1296,58,1397,85"/>
<area shape="rect" id="node35" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1489,234,1611,261"/>
<area shape="rect" id="node33" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1468,58,1632,85"/>
<area shape="rect" id="node37" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="1501,285,1599,311"/>
<area shape="rect" id="node38" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1483,335,1617,362"/>
<area shape="rect" id="node41" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="413,373,513,399"/>
<area shape="rect" id="node45" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="372,119,555,146"/>
<area shape="rect" id="node47" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="396,170,531,197"/>
<area shape="rect" id="node42" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="623,575,734,602"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="836,627,976,668"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1076,627,1207,668"/>
<area shape="rect" id="node46" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="635,119,722,146"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="609,170,748,197"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="409,474,517,501"/>
</map>
</div>

</div>
</div>
<a id="a3477a79f1fe1ff7a32a7babaf304d719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3477a79f1fe1ff7a32a7babaf304d719">&#9670;&nbsp;</a></span>alloc_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* alloc_name </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3477a79f1fe1ff7a32a7babaf304d719_icgraph.png" border="0" usemap="#extent-tree_8c_a3477a79f1fe1ff7a32a7babaf304d719_icgraph" alt=""/></div>
<map name="extent-tree_8c_a3477a79f1fe1ff7a32a7babaf304d719_icgraph" id="extent-tree_8c_a3477a79f1fe1ff7a32a7babaf304d719_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a17b415ce607865d97e9e385d9b572e6f" title="create_space_info" alt="" coords="141,623,269,649"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a5075fd56a2745dd4e404b917b3b6962f" title="btrfs_init_space_info" alt="" coords="317,623,460,649"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="508,623,595,649"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="644,165,751,192"/>
<area shape="rect" id="node8" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="643,623,752,649"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1289,27,1409,53"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1536,27,1647,53"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="800,1097,981,1138"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="823,455,959,497"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="829,673,953,700"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="831,572,951,599"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="815,849,967,876"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="823,724,958,751"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="841,983,941,1009"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="813,128,969,155"/>
<area shape="rect" id="node10" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1029,1144,1211,1171"/>
<area shape="rect" id="node11" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1299,1220,1400,1247"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1047,463,1193,489"/>
<area shape="rect" id="node17" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1033,339,1207,365"/>
<area shape="rect" id="node14" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1271,463,1428,489"/>
<area shape="rect" id="node15" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1513,512,1669,539"/>
<area shape="rect" id="node16" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1504,461,1679,488"/>
<area shape="rect" id="node18" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1292,229,1407,256"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1557,280,1626,307"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1276,331,1423,373"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1262,397,1437,438"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1751,331,1902,357"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1743,229,1911,256"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1775,280,1879,307"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1747,592,1906,619"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1062,572,1178,599"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1507,592,1676,619"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1296,564,1403,591"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1038,900,1202,927"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1038,849,1202,876"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1488,900,1695,927"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1280,849,1419,876"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1050,703,1190,729"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1042,776,1198,803"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1285,615,1414,657"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1275,733,1423,774"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1303,681,1396,708"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1302,799,1397,825"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1063,1068,1177,1095"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1301,1119,1397,1145"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1259,1002,1440,1043"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1290,1068,1409,1095"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1035,27,1205,53"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="1057,77,1183,104"/>
</map>
</div>

</div>
</div>
<a id="a735d547e038812ae2135a36963b971a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735d547e038812ae2135a36963b971a4">&#9670;&nbsp;</a></span>alloc_reserved_file_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int alloc_reserved_file_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>ins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ref_mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a735d547e038812ae2135a36963b971a4_cgraph.png" border="0" usemap="#extent-tree_8c_a735d547e038812ae2135a36963b971a4_cgraph" alt=""/></div>
<map name="extent-tree_8c_a735d547e038812ae2135a36963b971a4_cgraph" id="extent-tree_8c_a735d547e038812ae2135a36963b971a4_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="1492,9,1620,50"/>
<area shape="rect" id="node5" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="449,1396,563,1423"/>
<area shape="rect" id="node6" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="202,945,365,972"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="835,195,991,221"/>
<area shape="rect" id="node40" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="451,1615,561,1641"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="184,1472,383,1499"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="214,1955,353,1981"/>
<area shape="rect" id="node3" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1728,16,1783,43"/>
<area shape="rect" id="node4" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1875,16,1993,43"/>
<area shape="rect" id="node7" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="441,710,571,751"/>
<area shape="rect" id="node33" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="452,945,560,972"/>
<area shape="rect" id="node37" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="859,384,967,411"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="641,1427,773,1453"/>
<area shape="rect" id="node8" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1065,819,1187,845"/>
<area shape="rect" id="node18" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="629,515,784,541"/>
<area shape="rect" id="node9" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1273,1275,1413,1301"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1692,945,1819,972"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1491,1300,1621,1327"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1684,1579,1827,1605"/>
<area shape="rect" id="node13" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1476,1021,1636,1048"/>
<area shape="rect" id="node14" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1257,1021,1428,1048"/>
<area shape="rect" id="node15" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1302,1629,1383,1656"/>
<area shape="rect" id="node16" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1266,1072,1419,1099"/>
<area shape="rect" id="node17" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1269,565,1416,592"/>
<area shape="rect" id="node19" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1072,405,1180,432"/>
<area shape="rect" id="node20" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1885,397,1983,424"/>
<area shape="rect" id="node21" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1479,347,1633,373"/>
<area shape="rect" id="node23" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1278,449,1407,490"/>
<area shape="rect" id="node24" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1281,296,1404,323"/>
<area shape="rect" id="node22" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1701,347,1809,373"/>
<area shape="rect" id="node26" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1087,144,1165,171"/>
<area shape="rect" id="node27" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1043,195,1209,221"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1049,93,1203,120"/>
<area shape="rect" id="node31" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1043,43,1209,69"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1269,144,1417,171"/>
<area shape="rect" id="node30" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1277,93,1409,120"/>
<area shape="rect" id="node32" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1300,43,1385,69"/>
<area shape="rect" id="node34" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="641,945,773,972"/>
<area shape="rect" id="node35" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="840,1376,987,1403"/>
<area shape="rect" id="node36" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="832,1173,995,1200"/>
<area shape="rect" id="node38" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1081,355,1171,381"/>
<area shape="rect" id="node42" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="441,1549,571,1590"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="636,1559,777,1601"/>
<area shape="rect" id="node44" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="431,1497,581,1524"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="441,1918,571,1959"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="439,1984,573,2011"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="631,2035,782,2061"/>
<area shape="rect" id="node49" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="449,2085,563,2112"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="431,1867,581,1893"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a735d547e038812ae2135a36963b971a4_icgraph.png" border="0" usemap="#extent-tree_8c_a735d547e038812ae2135a36963b971a4_icgraph" alt=""/></div>
<map name="extent-tree_8c_a735d547e038812ae2135a36963b971a4_icgraph" id="extent-tree_8c_a735d547e038812ae2135a36963b971a4_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="184,532,331,559"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1795,579,1922,621"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="379,487,521,513"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="569,440,737,467"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="785,327,940,353"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1228,214,1368,255"/>
<area shape="rect" id="node21" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1992,360,2199,387"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2017,473,2173,500"/>
<area shape="rect" id="node39" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2247,579,2416,605"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1783,294,1934,335"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1782,411,1935,453"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1002,149,1166,176"/>
<area shape="rect" id="node46" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="988,200,1180,227"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="999,352,1169,379"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2483,184,2604,211"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2280,655,2383,681"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1416,214,1547,255"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2681,107,2827,133"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2470,795,2617,821"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="2495,680,2592,707"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="2686,781,2822,808"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2911,731,3030,757"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2927,908,3014,935"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="2677,832,2831,859"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="2673,933,2835,960"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="2708,680,2800,707"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1595,352,1725,379"/>
<area shape="rect" id="node36" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="2476,71,2611,113"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1773,360,1944,387"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2257,360,2406,387"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2247,193,2415,234"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2487,411,2599,437"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2671,309,2837,336"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2473,247,2613,273"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2676,513,2832,554"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2708,360,2800,387"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2697,411,2811,437"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2674,461,2834,488"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2901,91,3040,133"/>
<area shape="rect" id="node30" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2885,444,3056,471"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3104,128,3247,155"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2671,259,2837,285"/>
<area shape="rect" id="node34" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2719,208,2789,235"/>
<area shape="rect" id="node37" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="2683,5,2825,32"/>
<area shape="rect" id="node40" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="2464,977,2623,1004"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="2697,1051,2811,1077"/>
<area shape="rect" id="node42" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="2689,985,2819,1026"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="2031,864,2159,891"/>
<area shape="rect" id="node50" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="2269,940,2394,967"/>
</map>
</div>

</div>
</div>
<a id="afc111291e723d83e611898a92a0aa4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc111291e723d83e611898a92a0aa4a9">&#9670;&nbsp;</a></span>alloc_reserved_tree_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int alloc_reserved_tree_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_disk_key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>ins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_cgraph.png" border="0" usemap="#extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_cgraph" alt=""/></div>
<map name="extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_cgraph" id="extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="461,1401,576,1428"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="223,2061,352,2102"/>
<area shape="rect" id="node12" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="206,853,369,880"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="857,1623,1013,1649"/>
<area shape="rect" id="node39" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="464,1107,573,1133"/>
<area shape="rect" id="node40" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="435,1689,603,1716"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="188,1304,387,1331"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="449,1888,588,1915"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="445,2074,593,2115"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="663,1965,793,2006"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="668,2081,788,2108"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="658,2132,798,2159"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="655,2183,801,2209"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="661,2234,795,2275"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="653,2031,803,2057"/>
<area shape="rect" id="node7" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="877,1997,992,2024"/>
<area shape="rect" id="node13" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="453,905,584,946"/>
<area shape="rect" id="node32" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="465,600,573,627"/>
<area shape="rect" id="node36" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="881,1385,989,1412"/>
<area shape="rect" id="node38" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="662,803,794,829"/>
<area shape="rect" id="node14" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1086,701,1209,728"/>
<area shape="rect" id="node23" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="651,1623,805,1649"/>
<area shape="rect" id="node15" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1294,600,1434,627"/>
<area shape="rect" id="node16" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1713,955,1840,981"/>
<area shape="rect" id="node17" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1513,955,1642,981"/>
<area shape="rect" id="node18" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1705,245,1848,272"/>
<area shape="rect" id="node19" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1497,549,1657,576"/>
<area shape="rect" id="node20" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1279,448,1449,475"/>
<area shape="rect" id="node21" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1323,195,1405,221"/>
<area shape="rect" id="node22" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1287,904,1441,931"/>
<area shape="rect" id="node24" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1093,1765,1201,1792"/>
<area shape="rect" id="node25" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1287,1461,1441,1488"/>
<area shape="rect" id="node26" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1523,1487,1631,1513"/>
<area shape="rect" id="node28" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1109,1563,1186,1589"/>
<area shape="rect" id="node29" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1065,1613,1230,1640"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1070,1664,1225,1691"/>
<area shape="rect" id="node31" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1064,1715,1231,1741"/>
<area shape="rect" id="node33" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="662,448,794,475"/>
<area shape="rect" id="node34" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="861,397,1008,424"/>
<area shape="rect" id="node35" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="853,651,1016,677"/>
<area shape="rect" id="node37" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1103,1411,1192,1437"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="653,1757,803,1784"/>
<area shape="rect" id="node43" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="701,1689,755,1716"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="858,1750,1011,1791"/>
<area shape="rect" id="node45" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="453,1285,584,1326"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1293,1158,1435,1199"/>
<area shape="rect" id="node47" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="443,1351,594,1377"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="661,1812,795,1839"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="859,1867,1010,1893"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_icgraph.png" border="0" usemap="#extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_icgraph" alt=""/></div>
<map name="extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_icgraph" id="extent-tree_8c_afc111291e723d83e611898a92a0aa4a9_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="188,427,331,454"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="379,427,521,454"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="569,427,737,454"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="785,427,940,454"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1505,136,1645,177"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1472,354,1679,381"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1002,194,1166,221"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1251,529,1401,571"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2171,609,2340,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1007,420,1161,461"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1248,475,1404,502"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1727,507,1897,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="988,289,1180,315"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2423,35,2544,62"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1761,238,1863,265"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1747,5,1877,47"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1750,71,1874,112"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1757,137,1867,163"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1737,339,1887,366"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1728,391,1896,432"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1228,150,1424,177"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2430,254,2537,281"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2423,305,2544,331"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2433,355,2534,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2438,406,2529,433"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2627,482,2785,509"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2393,507,2573,534"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2398,558,2569,585"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2426,609,2541,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2415,659,2551,686"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2415,710,2552,737"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2405,761,2561,803"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2399,827,2567,854"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2388,878,2579,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2392,929,2575,955"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2432,979,2535,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2424,1030,2543,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2423,1081,2544,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2421,1132,2545,1173"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2414,1198,2553,1225"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2400,1249,2567,1291"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2409,1315,2558,1342"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2404,86,2563,113"/>
<area shape="rect" id="node41" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2413,137,2553,179"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2413,203,2553,230"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1488,507,1663,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1945,507,2123,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1256,318,1396,345"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1241,252,1411,293"/>
</map>
</div>

</div>
</div>
<a id="aeb2544a4a7d14b038817834ad57e5328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2544a4a7d14b038817834ad57e5328">&#9670;&nbsp;</a></span>block_group_bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int block_group_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aeb2544a4a7d14b038817834ad57e5328_icgraph.png" border="0" usemap="#extent-tree_8c_aeb2544a4a7d14b038817834ad57e5328_icgraph" alt=""/></div>
<map name="extent-tree_8c_aeb2544a4a7d14b038817834ad57e5328_icgraph" id="extent-tree_8c_aeb2544a4a7d14b038817834ad57e5328_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="173,577,288,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="336,766,477,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="743,996,933,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="551,1021,661,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="525,838,687,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="537,759,675,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="735,533,941,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="531,280,681,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1006,996,1141,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1215,996,1366,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1442,1021,1573,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1639,984,1813,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="770,1097,906,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1212,945,1369,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1453,958,1561,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="776,807,900,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="776,719,900,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1014,894,1133,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1239,836,1343,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1006,828,1141,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1225,726,1356,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="999,726,1148,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1013,406,1134,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1022,558,1125,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="999,508,1148,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="989,610,1157,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1217,356,1364,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1653,381,1799,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1242,609,1339,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1235,406,1347,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1424,432,1591,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1221,508,1361,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1223,660,1358,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="782,254,894,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="773,102,903,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="781,153,895,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1033,204,1114,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1253,102,1328,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="778,356,898,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="787,406,889,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="787,305,889,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1012,305,1135,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1205,204,1376,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1015,153,1132,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1009,52,1137,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1446,153,1569,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1659,128,1793,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1209,254,1373,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1013,356,1133,382"/>
</map>
</div>

</div>
</div>
<a id="ac3d5f0e32ea32a77e17155937cdd487e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d5f0e32ea32a77e17155937cdd487e">&#9670;&nbsp;</a></span>block_group_cache_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int block_group_cache_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac3d5f0e32ea32a77e17155937cdd487e_icgraph.png" border="0" usemap="#extent-tree_8c_ac3d5f0e32ea32a77e17155937cdd487e_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac3d5f0e32ea32a77e17155937cdd487e_icgraph" id="extent-tree_8c_ac3d5f0e32ea32a77e17155937cdd487e_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="471,35,640,62"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="690,303,831,344"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c" title="wait_block_group_cache\l_progress" alt="" coords="240,137,405,179"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="498,135,613,162"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4" title="wait_block_group_cache_done" alt="" coords="223,203,423,230"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="508,253,603,279"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="688,71,833,112"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="697,5,824,47"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="881,133,1088,159"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="917,78,1053,105"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1171,183,1292,210"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1180,82,1283,109"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1157,133,1306,159"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1147,16,1315,57"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="921,13,1049,39"/>
<area shape="rect" id="node13" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="900,966,1069,993"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1178,1109,1285,1135"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1171,1159,1292,1186"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1181,1210,1282,1237"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1186,1261,1277,1287"/>
<area shape="rect" id="node18" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1375,1337,1533,1363"/>
<area shape="rect" id="node19" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1141,1311,1321,1338"/>
<area shape="rect" id="node20" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1146,1413,1317,1439"/>
<area shape="rect" id="node21" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1174,1463,1289,1490"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1163,1514,1299,1541"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1163,1565,1300,1591"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1153,1616,1309,1657"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1147,1682,1315,1709"/>
<area shape="rect" id="node26" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1136,1733,1327,1759"/>
<area shape="rect" id="node27" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1140,1783,1323,1810"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1180,234,1283,261"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1172,285,1291,311"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1171,335,1292,362"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1169,387,1293,428"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1162,453,1301,479"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1148,504,1315,545"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1157,570,1306,597"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1152,621,1311,647"/>
<area shape="rect" id="node36" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1161,672,1301,713"/>
<area shape="rect" id="node37" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1161,738,1301,765"/>
<area shape="rect" id="node38" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1168,789,1295,815"/>
<area shape="rect" id="node39" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1381,839,1527,866"/>
<area shape="rect" id="node40" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1163,839,1299,866"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1151,941,1312,967"/>
<area shape="rect" id="node42" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1146,991,1317,1018"/>
<area shape="rect" id="node43" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1158,1043,1305,1084"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="690,137,831,163"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="487,187,623,228"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="703,251,818,278"/>
</map>
</div>

</div>
</div>
<a id="aeeaa2e156294739421220cde258a3db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeaa2e156294739421220cde258a3db2">&#9670;&nbsp;</a></span>block_group_cache_tree_search()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a>* block_group_cache_tree_search </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>contains</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aeeaa2e156294739421220cde258a3db2_cgraph.png" border="0" usemap="#extent-tree_8c_aeeaa2e156294739421220cde258a3db2_cgraph" alt=""/></div>
<map name="extent-tree_8c_aeeaa2e156294739421220cde258a3db2_cgraph" id="extent-tree_8c_aeeaa2e156294739421220cde258a3db2_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="216,13,367,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aeeaa2e156294739421220cde258a3db2_icgraph.png" border="0" usemap="#extent-tree_8c_aeeaa2e156294739421220cde258a3db2_icgraph" alt=""/></div>
<map name="extent-tree_8c_aeeaa2e156294739421220cde258a3db2_icgraph" id="extent-tree_8c_aeeaa2e156294739421220cde258a3db2_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="216,123,339,165"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="387,825,517,866"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7" title="next_block_group" alt="" coords="390,80,514,107"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ad34759a183b31aa9ba4274a72bf15a4d" title="btrfs_put_block_group\l_cache" alt="" coords="589,33,740,74"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="617,120,712,147"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc" title="first_logical_byte" alt="" coords="392,181,512,208"/>
<area shape="rect" id="node5" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1074,29,1161,56"/>
<area shape="rect" id="node6" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="857,55,946,81"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="844,120,959,147"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="607,171,722,197"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a8e0553eb25043cc6aa26d38aab969b57" title="btrfs_release_delalloc\l_bytes" alt="" coords="591,542,739,583"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1244,933,1451,960"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#af76997d3ed3b79189dae0c8e198b56c5" title="btrfs_extent_readonly" alt="" coords="591,781,738,808"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="820,832,983,859"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="818,933,985,960"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="595,1136,734,1163"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1054,1231,1181,1273"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="607,1369,722,1396"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1049,1522,1186,1563"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="817,1319,986,1345"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="1041,563,1194,605"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="597,1471,732,1497"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1045,629,1189,656"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="591,1522,739,1563"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="1053,680,1182,707"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="1049,985,1185,1026"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="565,1187,764,1213"/>
<area shape="rect" id="node42" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="584,1085,745,1112"/>
<area shape="rect" id="node43" href="reada_8c.html#a7901f795118e73af3985df93700bba1b" title="reada_find_zone" alt="" coords="606,1588,723,1615"/>
<area shape="rect" id="node44" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="595,1639,734,1681"/>
<area shape="rect" id="node45" href="btrfs_2scrub_8c.html#a70e9118ccdd9e7df069bccdb8843fa8f" title="lock_full_stripe" alt="" coords="610,221,719,248"/>
<area shape="rect" id="node46" href="btrfs_2scrub_8c.html#ab35a297e841d2906e62fe3a9195b2cfb" title="unlock_full_stripe" alt="" coords="603,272,726,299"/>
<area shape="rect" id="node47" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="579,323,750,349"/>
<area shape="rect" id="node48" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="591,374,738,415"/>
<area shape="rect" id="node49" href="volumes_8c.html#a4c0da42ece3b9f2a5d6adbcae1656c03" title="chunk_usage_range_filter" alt="" coords="579,440,750,467"/>
<area shape="rect" id="node50" href="volumes_8c.html#a0f52112f660ae0e2e5f684e0771104e6" title="chunk_usage_filter" alt="" coords="599,491,730,517"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="825,528,978,555"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1522,857,1643,884"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1531,908,1634,935"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1508,959,1657,985"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1499,1010,1667,1051"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1049,781,1185,808"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="836,883,967,909"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1039,883,1196,909"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="834,1085,969,1112"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="836,1202,967,1243"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="834,1137,969,1178"/>
<area shape="rect" id="node31" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="812,1369,991,1396"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="830,1420,973,1447"/>
</map>
</div>

</div>
</div>
<a id="a05980f1583539687dd2b1125d0918508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05980f1583539687dd2b1125d0918508">&#9670;&nbsp;</a></span>block_rsv_add_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void block_rsv_add_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>update_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a05980f1583539687dd2b1125d0918508_icgraph.png" border="0" usemap="#extent-tree_8c_a05980f1583539687dd2b1125d0918508_icgraph" alt=""/></div>
<map name="extent-tree_8c_a05980f1583539687dd2b1125d0918508_icgraph" id="extent-tree_8c_a05980f1583539687dd2b1125d0918508_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a87dfb0f672cf49fd6434160985bdb302" title="btrfs_cond_migrate\l_bytes" alt="" coords="203,1099,337,1140"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af755f49433b189063477d03d75de00f9" title="btrfs_block_rsv_migrate" alt="" coords="393,305,554,331"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="201,773,339,799"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="199,999,341,1026"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="199,1262,341,1289"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e" title="unuse_block_rsv" alt="" coords="210,595,330,622"/>
<area shape="rect" id="node3" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="617,1077,769,1119"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a22dde7d715615755a3552b2e80c61bef" title="__unlink_start_trans" alt="" coords="842,1137,981,1163"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#afc98880d81b8272ddf52723622eaf8df" title="btrfs_start_trans_remove\l_block_group" alt="" coords="828,1071,995,1112"/>
<area shape="rect" id="node6" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="831,1007,991,1034"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1043,823,1213,850"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="632,137,753,163"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="851,305,972,331"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="860,254,963,281"/>
<area shape="rect" id="node17" href="delayed-inode_8c.html#a35411c9565664b94e5c692ae509c6760" title="btrfs_delayed_item\l_reserve_metadata" alt="" coords="626,71,759,112"/>
<area shape="rect" id="node20" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="623,591,762,632"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aab611987577664f0b44cf4905ba63ee7" title="btrfs_orphan_reserve\l_metadata" alt="" coords="621,188,765,229"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="609,473,777,515"/>
<area shape="rect" id="node27" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="605,422,780,449"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="859,137,963,163"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1055,305,1201,331"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1055,203,1201,230"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1079,254,1177,281"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1261,305,1380,331"/>
<area shape="rect" id="node18" href="delayed-inode_8h.html#a1044fc2c89c8e2dbebab0f23729acc6a" title="btrfs_insert_delayed\l_dir_index" alt="" coords="842,71,981,112"/>
<area shape="rect" id="node19" href="delayed-inode_8h.html#a2d70f684d1a548552b2bbb32f2cf003e" title="btrfs_delete_delayed\l_dir_index" alt="" coords="840,5,983,47"/>
<area shape="rect" id="node21" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="838,609,985,651"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="850,203,973,230"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="860,558,963,585"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="829,507,993,534"/>
<area shape="rect" id="node28" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="863,355,959,382"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="397,417,550,443"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="399,874,548,901"/>
<area shape="rect" id="node36" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="399,722,548,749"/>
<area shape="rect" id="node38" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="425,671,521,698"/>
<area shape="rect" id="node40" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="410,925,537,951"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="414,1026,533,1053"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="623,356,763,397"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="637,925,749,951"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="828,931,995,958"/>
<area shape="rect" id="node35" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="623,874,763,901"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="633,722,752,749"/>
<area shape="rect" id="node39" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="629,656,757,697"/>
<area shape="rect" id="node41" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="620,1026,765,1053"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="412,1127,535,1154"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="389,1178,557,1205"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="405,1077,541,1103"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="399,1280,548,1321"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="618,539,767,566"/>
</map>
</div>

</div>
</div>
<a id="a0f422cbedfd26c2bd1da66d24873e109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f422cbedfd26c2bd1da66d24873e109">&#9670;&nbsp;</a></span>block_rsv_release_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 block_rsv_release_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>qgroup_to_release_ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_cgraph.png" border="0" usemap="#extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_cgraph" alt=""/></div>
<map name="extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_cgraph" id="extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="220,31,357,73"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="572,5,725,32"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="405,64,524,91"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="583,57,715,98"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="577,122,720,163"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="575,187,722,229"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="773,97,889,124"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="937,90,1065,131"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1113,97,1244,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_icgraph.png" border="0" usemap="#extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_icgraph" id="extent-tree_8c_a0f422cbedfd26c2bd1da66d24873e109_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="224,367,384,393"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="645,827,805,853"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d" title="release_global_block_rsv" alt="" coords="220,249,388,276"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="871,1317,1004,1358"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e" title="unuse_block_rsv" alt="" coords="244,928,364,955"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="442,390,591,431"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="443,262,591,303"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467" title="btrfs_delalloc_release\l_extents" alt="" coords="651,327,799,369"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="862,145,1013,172"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="651,393,800,434"/>
<area shape="rect" id="node20" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="870,517,1005,558"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="864,399,1011,441"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="867,297,1007,324"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="883,247,991,273"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="869,348,1005,375"/>
<area shape="rect" id="node18" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="863,465,1012,492"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="853,196,1021,223"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1104,633,1207,660"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1297,583,1443,609"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1321,633,1419,660"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1514,735,1650,761"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1713,1011,1832,1037"/>
<area shape="rect" id="node12" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1729,557,1816,584"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1505,532,1659,559"/>
<area shape="rect" id="node14" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1501,684,1663,711"/>
<area shape="rect" id="node21" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1509,785,1655,812"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="656,160,795,187"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="651,262,799,303"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1" title="btrfs_write_out_ino\l_cache" alt="" coords="659,458,791,499"/>
<area shape="rect" id="node26" href="ordered-data_8h.html#a7556f4c1b2c1b0a82daff84a80b56452" title="btrfs_remove_ordered\l_extent" alt="" coords="651,94,799,135"/>
<area shape="rect" id="node29" href="delayed-inode_8c.html#a91b69e1c7087dedaf021b3f736639bdf" title="btrfs_delayed_item\l_release_metadata" alt="" coords="871,929,1003,970"/>
<area shape="rect" id="node35" href="delayed-inode_8c.html#a9cab63e8380b2239c230412487c1a665" title="btrfs_delayed_inode\l_release_metadata" alt="" coords="868,1043,1007,1085"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#abc2881165c601bfce62c1bb9e1629d37" title="btrfs_free_block_rsv" alt="" coords="867,801,1007,828"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ac5edf32b8cb542d087b7dd877b248545" title="btrfs_orphan_release\l_metadata" alt="" coords="866,735,1009,777"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a7946e6ccff762079188782872dd504e8" title="btrfs_subvolume_release\l_metadata" alt="" coords="1499,1371,1665,1413"/>
<area shape="rect" id="node39" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="889,684,985,711"/>
<area shape="rect" id="node40" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1307,1160,1433,1187"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1311,1059,1429,1085"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="871,1237,1004,1278"/>
<area shape="rect" id="node30" href="delayed-inode_8c.html#a736176c83e7ceb01eb8f1517c42ba87b" title="btrfs_batch_insert\l_items" alt="" coords="1092,967,1219,1009"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#a923f0073394c156a357d63822477b19d" title="btrfs_insert_delayed_item" alt="" coords="1070,1033,1241,1060"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#ae402d8ec9601c06e554747b9d5a1ffe6" title="btrfs_batch_delete\l_items" alt="" coords="1091,837,1220,878"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#a8278d5befc72f9714742595d05306106" title="btrfs_delete_delayed\l_insertion_item" alt="" coords="1084,902,1227,943"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a2ecc7e9e0839827bec20c5feaf32ac2e" title="__btrfs_kill_delayed_node" alt="" coords="1069,1084,1241,1111"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1289,1312,1451,1339"/>
<area shape="rect" id="node44" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1071,1236,1240,1263"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="436,101,597,128"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1099,1388,1211,1415"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="442,928,591,955"/>
</map>
</div>

</div>
</div>
<a id="a238bc256e167bfe52b474496bab70e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a238bc256e167bfe52b474496bab70e2a">&#9670;&nbsp;</a></span>block_rsv_use_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int block_rsv_use_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a238bc256e167bfe52b474496bab70e2a_icgraph.png" border="0" usemap="#extent-tree_8c_a238bc256e167bfe52b474496bab70e2a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a238bc256e167bfe52b474496bab70e2a_icgraph" id="extent-tree_8c_a238bc256e167bfe52b474496bab70e2a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="199,601,364,627"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="430,867,537,894"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#af755f49433b189063477d03d75de00f9" title="btrfs_block_rsv_migrate" alt="" coords="606,193,767,219"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="414,538,553,565"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="412,817,555,843"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="412,357,555,383"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="610,614,763,641"/>
<area shape="rect" id="node12" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="853,371,991,412"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1084,859,1233,886"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="838,305,1006,347"/>
<area shape="rect" id="node19" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="612,462,761,489"/>
<area shape="rect" id="node20" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="639,513,735,539"/>
<area shape="rect" id="node21" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="623,715,750,742"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="627,411,746,438"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1073,483,1244,510"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="852,599,992,640"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1098,693,1219,719"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1107,585,1210,611"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1292,693,1439,719"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1292,254,1439,281"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1317,203,1414,230"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1487,279,1605,306"/>
<area shape="rect" id="node13" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="1085,407,1232,448"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1309,859,1421,886"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1107,534,1210,561"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1077,355,1241,382"/>
<area shape="rect" id="node22" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="849,715,995,742"/>
<area shape="rect" id="node26" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="625,969,748,995"/>
<area shape="rect" id="node27" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="603,918,771,945"/>
<area shape="rect" id="node28" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="619,817,755,843"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="612,244,761,285"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="612,1019,761,1046"/>
<area shape="rect" id="node33" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="866,766,978,793"/>
<area shape="rect" id="node34" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="857,969,987,995"/>
<area shape="rect" id="node35" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="865,1070,979,1097"/>
<area shape="rect" id="node36" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1118,1146,1199,1173"/>
<area shape="rect" id="node37" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1121,1019,1196,1046"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="819,918,1025,945"/>
<area shape="rect" id="node39" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="862,1121,982,1147"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="871,1171,973,1198"/>
<area shape="rect" id="node42" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="861,137,983,163"/>
<area shape="rect" id="node44" href="delayed-inode_8c.html#a35411c9565664b94e5c692ae509c6760" title="btrfs_delayed_item\l_reserve_metadata" alt="" coords="855,71,989,112"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#aab611987577664f0b44cf4905ba63ee7" title="btrfs_orphan_reserve\l_metadata" alt="" coords="850,188,994,229"/>
<area shape="rect" id="node49" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="835,254,1009,281"/>
<area shape="rect" id="node43" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1107,137,1211,163"/>
<area shape="rect" id="node45" href="delayed-inode_8h.html#a1044fc2c89c8e2dbebab0f23729acc6a" title="btrfs_insert_delayed\l_dir_index" alt="" coords="1089,71,1228,112"/>
<area shape="rect" id="node46" href="delayed-inode_8h.html#a2d70f684d1a548552b2bbb32f2cf003e" title="btrfs_delete_delayed\l_dir_index" alt="" coords="1087,5,1230,47"/>
<area shape="rect" id="node48" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="1097,203,1220,230"/>
<area shape="rect" id="node50" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1111,254,1207,281"/>
</map>
</div>

</div>
</div>
<a id="acd5e7ca27af289b8d9f68432d06d6bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5e7ca27af289b8d9f68432d06d6bd7">&#9670;&nbsp;</a></span>btrfs_account_ro_block_groups_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_account_ro_block_groups_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>sinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_acd5e7ca27af289b8d9f68432d06d6bd7_icgraph.png" border="0" usemap="#extent-tree_8c_acd5e7ca27af289b8d9f68432d06d6bd7_icgraph" alt=""/></div>
<map name="extent-tree_8c_acd5e7ca27af289b8d9f68432d06d6bd7_icgraph" id="extent-tree_8c_acd5e7ca27af289b8d9f68432d06d6bd7_icgraph">
<area shape="rect" id="node2" href="btrfs_2super_8c.html#a4687f4645de8ce48e74aeb960f6a19bb" title="btrfs_statfs" alt="" coords="211,13,299,39"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="347,13,493,39"/>
</map>
</div>

</div>
</div>
<a id="ad9ebbf7fefd63e6e7c97ca63112438e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ebbf7fefd63e6e7c97ca63112438e2">&#9670;&nbsp;</a></span>btrfs_add_block_group_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_add_block_group_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad9ebbf7fefd63e6e7c97ca63112438e2_icgraph.png" border="0" usemap="#extent-tree_8c_ad9ebbf7fefd63e6e7c97ca63112438e2_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad9ebbf7fefd63e6e7c97ca63112438e2_icgraph" id="extent-tree_8c_ad9ebbf7fefd63e6e7c97ca63112438e2_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="207,661,371,688"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1856,741,2020,768"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="419,535,625,561"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1319,119,1405,145"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="697,447,818,473"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="706,345,809,372"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2437,580,2587,607"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="673,498,841,539"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="889,447,1036,473"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="889,220,1036,247"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="914,345,1011,372"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1101,296,1237,323"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1303,271,1421,297"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1092,93,1247,120"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1089,195,1250,221"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1471,93,1577,120"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1469,287,1579,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1878,184,1998,211"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1627,246,1808,287"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1649,311,1785,353"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1655,377,1779,404"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1657,93,1777,120"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1641,716,1793,743"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1650,144,1785,171"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1667,195,1767,221"/>
<area shape="rect" id="node39" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1639,428,1795,455"/>
<area shape="rect" id="node20" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2068,631,2207,657"/>
<area shape="rect" id="node21" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2260,631,2384,657"/>
<area shape="rect" id="node35" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2255,529,2389,556"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2649,681,2761,708"/>
<area shape="rect" id="node34" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2871,420,2941,447"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2823,572,2989,599"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2635,344,2775,371"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2828,674,2984,715"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2860,740,2952,767"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2849,791,2963,817"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2826,623,2986,649"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3053,489,3192,530"/>
<area shape="rect" id="node30" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="3037,572,3208,599"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3256,427,3399,453"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2823,159,2989,185"/>
<area shape="rect" id="node36" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2438,529,2586,556"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1123,347,1215,373"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="897,615,1028,641"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="895,498,1030,539"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1084,713,1255,740"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1094,581,1245,622"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1093,646,1246,687"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1098,529,1241,556"/>
</map>
</div>

</div>
</div>
<a id="a7e43e018484a4032a1bd12a9e452606a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e43e018484a4032a1bd12a9e452606a">&#9670;&nbsp;</a></span>btrfs_add_raid_kobjects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_add_raid_kobjects </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_cgraph.png" border="0" usemap="#extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_cgraph" id="extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="241,53,336,79"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="225,103,352,130"/>
<area shape="rect" id="node4" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="213,155,364,196"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a698b4c6b5b3ccec1ca8541351c8baaa3" title="get_raid_name" alt="" coords="235,221,342,247"/>
<area shape="rect" id="node5" href="volumes_8h.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="431,5,575,47"/>
<area shape="rect" id="node6" href="volumes_8h.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="431,71,575,112"/>
<area shape="rect" id="node7" href="volumes_8h.html#adc39e837a05fc36ea825560e65bc7c50" title="btrfs_get_fs_uuids" alt="" coords="438,137,567,163"/>
<area shape="rect" id="node8" href="volumes_8h.html#a782e890c25ad1f492beab5e7ba18416a" title="btrfs_set_fs_info_ptr" alt="" coords="432,187,573,214"/>
<area shape="rect" id="node9" href="volumes_8h.html#ac51cd3c4a04fa86a53432c9b4f9beeba" title="btrfs_reset_fs_info_ptr" alt="" coords="427,238,579,265"/>
<area shape="rect" id="node10" href="volumes_8h.html#a16661efc32c170ed84aedc88f8b28e46" title="btrfs_check_rw_degradable" alt="" coords="412,289,593,315"/>
<area shape="rect" id="node11" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="643,195,802,222"/>
<area shape="rect" id="node15" href="btrfs_2extent__map_8h.html#a2ea46678c185fd0d0fdb91c1284cf0fb" title="extent_map_end" alt="" coords="1225,209,1344,235"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a538acc468c4602e97cbefe73c83a9914" title="btrfs_get_num_tolerated\l_disk_barrier_failures" alt="" coords="641,311,804,352"/>
<area shape="rect" id="node17" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="663,377,782,403"/>
<area shape="rect" id="node12" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="852,170,1025,197"/>
<area shape="rect" id="node13" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="1084,107,1167,134"/>
<area shape="rect" id="node14" href="btrfs_2extent__map_8c.html#abe5fa1b21db40e4c1ca4226364e4cc80" title="__tree_search" alt="" coords="1073,158,1177,185"/>
<area shape="rect" id="node18" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="871,377,1007,403"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_icgraph.png" border="0" usemap="#extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_icgraph" id="extent-tree_8c_a7e43e018484a4032a1bd12a9e452606a_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="213,651,420,677"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1740,1081,1904,1108"/>
<area shape="rect" id="node30" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1318,104,1461,131"/>
<area shape="rect" id="node41" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1316,393,1463,434"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="491,727,613,753"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="501,777,603,804"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="477,255,627,281"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="468,458,636,499"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="684,727,831,753"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="684,955,831,981"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="709,777,806,804"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="896,879,1032,905"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1123,904,1242,931"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1139,1005,1226,1032"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="887,1031,1041,1057"/>
<area shape="rect" id="node20" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="883,1081,1045,1108"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1336,1043,1443,1069"/>
<area shape="rect" id="node12" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1335,921,1444,948"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1541,1081,1661,1108"/>
<area shape="rect" id="node13" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1511,849,1692,890"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1533,914,1669,955"/>
<area shape="rect" id="node15" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1539,980,1663,1007"/>
<area shape="rect" id="node16" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1541,797,1661,824"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1525,1031,1677,1057"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="918,777,1010,804"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="701,283,813,309"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="881,200,1047,227"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="687,99,827,125"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="886,302,1042,343"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="918,368,1010,395"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="907,251,1021,277"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1103,447,1263,473"/>
<area shape="rect" id="node29" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1113,226,1252,267"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1097,175,1268,201"/>
<area shape="rect" id="node31" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1537,86,1666,127"/>
<area shape="rect" id="node34" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1765,255,1879,281"/>
<area shape="rect" id="node36" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1534,164,1669,191"/>
<area shape="rect" id="node32" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1952,52,2100,79"/>
<area shape="rect" id="node33" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2148,103,2217,129"/>
<area shape="rect" id="node35" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1976,229,2076,256"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1761,204,1883,231"/>
<area shape="rect" id="node38" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1969,103,2083,129"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="881,149,1047,176"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="692,575,823,601"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="690,458,825,499"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="879,571,1049,597"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="889,622,1039,663"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="887,687,1041,729"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="893,520,1035,547"/>
</map>
</div>

</div>
</div>
<a id="ae18a0295de9ab0f947036266d49de4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18a0295de9ab0f947036266d49de4a0">&#9670;&nbsp;</a></span>btrfs_add_reserved_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_add_reserved_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ram_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>btrfs_add_reserved_bytes - update the block_group and space info counters : The cache we are manipulating : The number of bytes of file content, and will be same to  except for the compress path. : The number of bytes in question : The blocks are allocated for the delalloc write</p>
<p>This is called by the allocator when it reserves space. If this is a reservation and the block group has become read only we cannot make the reservation and return -EAGAIN, otherwise this function always succeeds. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae18a0295de9ab0f947036266d49de4a0_icgraph.png" border="0" usemap="#extent-tree_8c_ae18a0295de9ab0f947036266d49de4a0_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae18a0295de9ab0f947036266d49de4a0_icgraph" id="extent-tree_8c_ae18a0295de9ab0f947036266d49de4a0_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="187,577,301,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="349,766,491,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="757,996,946,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="565,1021,674,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="539,838,700,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="550,759,689,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="748,533,955,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="545,280,694,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1019,996,1154,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1229,996,1379,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1455,1021,1586,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1652,984,1827,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="783,1097,919,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1225,945,1383,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1467,958,1575,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="789,807,913,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="789,719,913,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1027,894,1146,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1252,836,1356,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1019,828,1154,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1239,726,1369,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1012,726,1161,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1026,406,1147,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1035,558,1138,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1012,508,1161,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1003,610,1171,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1231,356,1377,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1666,381,1813,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1255,609,1353,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1248,406,1360,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1437,432,1604,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1234,508,1374,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1237,660,1371,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="795,254,907,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="786,102,917,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="794,153,909,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1046,204,1127,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1267,102,1341,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="791,356,911,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="800,406,903,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="800,305,903,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1025,305,1148,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1219,204,1389,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1028,153,1145,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1023,52,1151,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1459,153,1582,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1672,128,1807,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1222,254,1386,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1027,356,1147,382"/>
</map>
</div>

</div>
</div>
<a id="ac4fa53d8f83f56d50e0fe18f189751c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4fa53d8f83f56d50e0fe18f189751c0">&#9670;&nbsp;</a></span>btrfs_alloc_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a>* btrfs_alloc_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_cgraph.png" border="0" usemap="#extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_cgraph" id="extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a06c414d3f60fe337268a503a5ac67fae" title="btrfs_init_metadata\l_block_rsv" alt="" coords="199,23,332,65"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a628d6cb779fbf248f09a33ed84e8aa26" title="btrfs_init_block_rsv" alt="" coords="380,5,515,32"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="384,56,511,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_icgraph.png" border="0" usemap="#extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_icgraph" id="extent-tree_8c_ac4fa53d8f83f56d50e0fe18f189751c0_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="206,165,327,192"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="205,317,328,344"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="854,793,975,820"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="863,419,966,445"/>
<area shape="rect" id="node49" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="199,576,335,603"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="403,64,507,91"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1047,419,1193,445"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="635,161,724,188"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="1078,216,1162,243"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1071,317,1169,344"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="406,115,505,141"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="632,84,727,111"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="387,529,523,570"/>
<area shape="rect" id="node47" href="relocation_8c.html#aafc372d1d9b506be64cd48ee274a439f" title="create_reloc_inode" alt="" coords="390,607,521,633"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1257,296,1393,323"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1460,347,1579,373"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1675,493,1761,520"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1247,425,1402,452"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1244,540,1405,567"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1473,245,1566,272"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1667,397,1769,424"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1631,119,1805,145"/>
<area shape="rect" id="node9" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1860,119,1957,145"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1853,372,1964,399"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1855,597,1962,624"/>
<area shape="rect" id="node16" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1854,471,1963,497"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2043,673,2163,700"/>
<area shape="rect" id="node17" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2012,339,2193,381"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2035,405,2171,446"/>
<area shape="rect" id="node19" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2041,471,2165,497"/>
<area shape="rect" id="node20" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2043,521,2163,548"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2027,572,2179,599"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2035,623,2170,649"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2053,288,2153,315"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1468,616,1571,643"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1456,398,1583,439"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1645,707,1791,733"/>
<area shape="rect" id="node29" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1471,700,1567,727"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1473,195,1565,221"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#acf4169a1b179f406bc39c7a1a4e6a137" title="btrfs_rename2" alt="" coords="627,20,732,47"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="576,536,783,563"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1050,637,1190,664"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="840,587,989,613"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="831,470,999,511"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1241,591,1408,617"/>
<area shape="rect" id="node44" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1253,692,1396,719"/>
<area shape="rect" id="node45" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1290,641,1359,668"/>
<area shape="rect" id="node48" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="610,689,749,730"/>
<area shape="rect" id="node50" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="383,683,528,709"/>
</map>
</div>

</div>
</div>
<a id="a6ba9cb027c5a8665658584634f8ff4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ba9cb027c5a8665658584634f8ff4c0">&#9670;&nbsp;</a></span>btrfs_alloc_data_chunk_ondemand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_alloc_data_chunk_ondemand </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_cgraph.png" border="0" usemap="#extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_cgraph" id="extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_cgraph">
<area shape="rect" id="node2" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="219,653,355,695"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="644,1477,797,1503"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae" title="btrfs_data_alloc_profile" alt="" coords="209,1847,365,1874"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="214,1122,361,1149"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="636,770,805,797"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="869,65,1015,91"/>
<area shape="rect" id="node25" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1095,1485,1224,1527"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="231,1535,343,1562"/>
<area shape="rect" id="node49" href="ctree_8h.html#a33577d99eaa44bca8e96beccd1197c13" title="btrfs_start_delalloc\l_roots" alt="" coords="1093,1568,1225,1609"/>
<area shape="rect" id="node3" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="465,661,537,687"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="443,1847,559,1874"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="441,1021,560,1047"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1301,141,1434,183"/>
<area shape="rect" id="node13" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1296,352,1439,393"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1292,439,1443,466"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1295,501,1439,527"/>
<area shape="rect" id="node16" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1082,871,1237,898"/>
<area shape="rect" id="node18" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1084,1149,1235,1191"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="883,653,1001,679"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1090,501,1229,527"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a08a2e4a01f8eb487096e1422ec973cfc" title="btrfs_start_delalloc\l_flush" alt="" coords="876,704,1008,745"/>
<area shape="rect" id="node22" href="delayed-inode_8c.html#a8c6861e7722b06f9ded04e45b83fbc15" title="btrfs_run_delayed_items" alt="" coords="860,770,1024,797"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a1927d5ec2842a9ad39826e170bf35cbb" title="extwriter_counter_read" alt="" coords="865,821,1019,847"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#af3ea5a04e5165da96fdabc2dcef4b02f" title="btrfs_wait_delalloc\l_flush" alt="" coords="877,1427,1007,1468"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a01e6add3100b59f57f27ce881b3681b6" title="btrfs_wait_pending\l_ordered" alt="" coords="877,923,1007,964"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8c8878169667452f2b9a132fd1d00ccb" title="btrfs_scrub_pause" alt="" coords="877,989,1007,1015"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="853,1039,1031,1066"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#aa3c1a109907f5b8348989d763d488224" title="btrfs_assert_delayed\l_root_empty" alt="" coords="871,1091,1013,1132"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="883,1207,1001,1234"/>
<area shape="rect" id="node34" href="ctree_8h.html#a647e0a8ba8803131c2ed3235c7d9aab3" title="btrfs_set_root_node" alt="" coords="1091,1270,1228,1297"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a488c6eb8e7572d555ec64393c23564f0" title="btrfs_apply_pending\l_changes" alt="" coords="873,1259,1011,1300"/>
<area shape="rect" id="node36" href="tree-log_8c.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="863,115,1021,142"/>
<area shape="rect" id="node37" href="qgroup_8c.html#ac3a7ca77bc497d7a51bad0fd4c5a7bff" title="btrfs_qgroup_account\l_extents" alt="" coords="869,167,1015,208"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="864,602,1020,629"/>
<area shape="rect" id="node39" href="ctree_8h.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="871,232,1013,273"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a530799217731333b6bf18b4fae041f9e" title="switch_commit_roots" alt="" coords="869,298,1015,325"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1079,399,1240,426"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1296,1149,1439,1191"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a7799bb617dfee4586b621a3d8580f5a6" title="btrfs_grab_fs_root" alt="" coords="1304,1509,1431,1535"/>
<area shape="rect" id="node27" href="ordered-data_8c.html#a9cd5807e6f35c9a6e8543d2140143f40" title="btrfs_wait_ordered\l_extents" alt="" coords="1303,1443,1432,1484"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1307,1559,1427,1586"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="657,1619,784,1646"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="433,1426,569,1453"/>
<area shape="rect" id="node44" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="421,1746,581,1773"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="413,1477,588,1503"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="426,1594,575,1621"/>
<area shape="rect" id="node47" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="659,1683,783,1710"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="434,1528,567,1569"/>
<area shape="rect" id="node50" href="btrfs_2inode_8c.html#affd890d71c0dcc87e10f1848efa49567" title="__start_delalloc_inodes" alt="" coords="1288,1610,1447,1637"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_icgraph.png" border="0" usemap="#extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_icgraph" id="extent-tree_8c_a6ba9cb027c5a8665658584634f8ff4c0_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="868,53,987,80"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1116,104,1220,130"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="209,426,360,467"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="615,433,766,460"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="417,608,548,634"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="408,308,557,350"/>
<area shape="rect" id="node48" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="415,687,550,728"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="859,424,995,450"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1102,424,1234,450"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="605,549,776,576"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="615,666,766,707"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="614,600,767,642"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="824,677,1031,704"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="849,576,1005,602"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1340,873,1461,900"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1117,474,1219,501"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1093,626,1243,653"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1084,728,1252,770"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1081,525,1255,552"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1083,576,1253,602"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1347,265,1454,292"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1340,316,1461,342"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1350,366,1451,393"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1355,417,1446,444"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1552,594,1711,621"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1311,620,1491,646"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1315,670,1486,697"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1343,721,1458,748"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1333,772,1469,798"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1332,822,1469,849"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1317,164,1485,190"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1305,214,1496,241"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1309,468,1492,494"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1349,518,1452,545"/>
<area shape="rect" id="node33" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1328,924,1473,950"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1544,113,1719,140"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="854,307,1001,348"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="621,180,761,206"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1114,46,1222,73"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="623,265,759,292"/>
<area shape="rect" id="node44" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="616,489,765,516"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="607,370,775,397"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="1079,234,1257,261"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="867,154,988,181"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="863,205,992,232"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="868,525,987,552"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="870,373,985,400"/>
<area shape="rect" id="node49" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="860,866,995,907"/>
<area shape="rect" id="node50" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="1097,924,1239,950"/>
</map>
</div>

</div>
</div>
<a id="a8563ae8cff18a6462dbaf79e5e58a2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8563ae8cff18a6462dbaf79e5e58a2c4">&#9670;&nbsp;</a></span>btrfs_alloc_logged_file_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_alloc_logged_file_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>ins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_cgraph.png" border="0" usemap="#extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_cgraph" alt=""/></div>
<map name="extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_cgraph" id="extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="373,1232,543,1259"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="625,878,755,920"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1043,1156,1193,1183"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="180,426,311,468"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="623,944,757,971"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="1049,1080,1187,1107"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="1251,1207,1420,1234"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="621,1435,759,1462"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="605,1232,775,1259"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46" title="add_excluded_extent" alt="" coords="617,1334,763,1360"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="823,508,985,549"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1043,523,1193,550"/>
<area shape="rect" id="node7" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="851,979,957,1006"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="849,928,959,955"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="1041,827,1195,854"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="825,726,983,752"/>
<area shape="rect" id="node27" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="841,878,967,904"/>
<area shape="rect" id="node9" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="1045,878,1191,904"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="1045,928,1191,955"/>
<area shape="rect" id="node10" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1278,776,1393,803"/>
<area shape="rect" id="node11" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1281,606,1390,632"/>
<area shape="rect" id="node12" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1477,347,1606,374"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1476,1131,1607,1158"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1482,1182,1601,1208"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1478,1232,1605,1259"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1485,1283,1598,1310"/>
<area shape="rect" id="node21" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="1468,1334,1615,1360"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1469,1080,1613,1107"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="1033,574,1203,600"/>
<area shape="rect" id="node26" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1297,486,1374,512"/>
<area shape="rect" id="node31" href="extent__io_8h.html#a0f26c20721fdb99360a587accb5b5ec1" title="set_extent_bits" alt="" coords="849,1334,959,1360"/>
<area shape="rect" id="node33" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="394,120,522,161"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="1037,102,1199,128"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="380,228,536,255"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="359,488,557,515"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="389,831,527,858"/>
<area shape="rect" id="node34" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="663,51,717,78"/>
<area shape="rect" id="node36" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="1270,65,1401,106"/>
<area shape="rect" id="node37" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="1281,131,1389,158"/>
<area shape="rect" id="node38" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1281,190,1389,216"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1269,279,1401,306"/>
<area shape="rect" id="node41" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="607,203,773,230"/>
<area shape="rect" id="node42" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="613,254,767,280"/>
<area shape="rect" id="node43" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="607,304,773,331"/>
<area shape="rect" id="node44" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="636,102,744,128"/>
<area shape="rect" id="node46" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="625,508,755,549"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="833,340,975,381"/>
<area shape="rect" id="node48" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="615,574,765,600"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="633,776,747,803"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_icgraph.png" border="0" usemap="#extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_icgraph" alt=""/></div>
<map name="extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_icgraph" id="extent-tree_8c_a8563ae8cff18a6462dbaf79e5e58a2c4_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="180,608,387,635"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="219,405,347,432"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="449,557,570,584"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="458,304,561,331"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="435,767,584,793"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="632,1014,800,1055"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1295,507,1442,533"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="643,304,789,331"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="667,253,765,280"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="863,173,999,200"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1089,35,1207,61"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1723,304,1809,331"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="854,304,1009,331"/>
<area shape="rect" id="node22" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="851,431,1012,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1101,203,1195,229"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1317,123,1420,149"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1281,249,1456,276"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1534,123,1645,149"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1859,279,1965,305"/>
<area shape="rect" id="node15" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1857,329,1967,356"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1097,456,1199,483"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1085,137,1211,178"/>
<area shape="rect" id="node19" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1289,9,1448,36"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1532,5,1647,32"/>
<area shape="rect" id="node21" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1524,57,1655,98"/>
<area shape="rect" id="node23" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1321,736,1417,763"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1102,253,1194,280"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="660,887,772,913"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="848,811,1015,837"/>
<area shape="rect" id="node43" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="646,735,786,761"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="853,1079,1009,1121"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="885,861,977,888"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="874,912,989,939"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="851,963,1011,989"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1089,1029,1207,1056"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1317,1004,1421,1031"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1073,1081,1223,1122"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1303,1088,1434,1115"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1504,979,1675,1005"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1514,1135,1665,1177"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1513,809,1666,850"/>
<area shape="rect" id="node39" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1079,862,1217,903"/>
<area shape="rect" id="node41" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1063,811,1233,837"/>
<area shape="rect" id="node40" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1297,841,1440,868"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="848,507,1015,533"/>
<area shape="rect" id="node45" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="897,709,966,736"/>
<area shape="rect" id="node47" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="864,1014,999,1055"/>
<area shape="rect" id="node48" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1077,928,1219,955"/>
<area shape="rect" id="node50" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="447,119,572,145"/>
</map>
</div>

</div>
</div>
<a id="a19718f01b1cf94cd7c13ad34e4a78e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19718f01b1cf94cd7c13ad34e4a78e4b">&#9670;&nbsp;</a></span>btrfs_alloc_reserved_file_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_alloc_reserved_file_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ram_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>ins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_cgraph.png" border="0" usemap="#extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_cgraph" alt=""/></div>
<map name="extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_cgraph" id="extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_cgraph">
<area shape="rect" id="node2" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="218,208,349,235"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="192,461,375,488"/>
<area shape="rect" id="node3" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="639,5,777,32"/>
<area shape="rect" id="node4" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="440,208,557,235"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="649,259,767,285"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="435,157,563,184"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="649,107,767,133"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="431,309,566,336"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="443,360,555,387"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="436,56,561,83"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="644,208,772,235"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="855,81,991,108"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="667,360,749,387"/>
<area shape="rect" id="node15" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="887,385,959,412"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="423,760,575,787"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="633,461,783,488"/>
<area shape="rect" id="node31" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="433,614,564,655"/>
<area shape="rect" id="node17" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="643,723,773,765"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="663,789,753,816"/>
<area shape="rect" id="node19" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="623,891,793,917"/>
<area shape="rect" id="node20" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="859,1086,988,1127"/>
<area shape="rect" id="node22" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1470,530,1605,571"/>
<area shape="rect" id="node23" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="859,436,987,463"/>
<area shape="rect" id="node24" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="1076,436,1159,463"/>
<area shape="rect" id="node29" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1057,385,1178,412"/>
<area shape="rect" id="node25" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1279,436,1362,463"/>
<area shape="rect" id="node26" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="1481,413,1593,440"/>
<area shape="rect" id="node27" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1470,465,1605,506"/>
<area shape="rect" id="node28" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="1480,363,1595,389"/>
<area shape="rect" id="node30" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1247,385,1394,412"/>
<area shape="rect" id="node32" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="642,647,774,673"/>
<area shape="rect" id="node33" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="841,1035,1005,1061"/>
<area shape="rect" id="node34" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1497,1129,1577,1156"/>
<area shape="rect" id="node36" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1500,1187,1575,1213"/>
<area shape="rect" id="node38" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1053,832,1181,859"/>
<area shape="rect" id="node50" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1498,1067,1577,1093"/>
<area shape="rect" id="node35" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1675,1129,1745,1156"/>
<area shape="rect" id="node37" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1663,1187,1757,1213"/>
<area shape="rect" id="node39" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1263,1009,1378,1036"/>
<area shape="rect" id="node40" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1259,959,1382,985"/>
<area shape="rect" id="node41" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1473,933,1602,960"/>
<area shape="rect" id="node42" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1257,690,1385,731"/>
<area shape="rect" id="node43" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1229,756,1412,783"/>
<area shape="rect" id="node44" href="backref_8c.html#a2adc471a0f6cc0341b6587a4e42e6ef1" title="add_delayed_refs" alt="" coords="1259,537,1383,564"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1460,723,1615,749"/>
<area shape="rect" id="node46" href="backref_8c.html#aeef3cd1f89e33b0970d748bcb59005ca" title="add_inline_refs" alt="" coords="1266,857,1375,884"/>
<area shape="rect" id="node47" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1263,807,1378,833"/>
<area shape="rect" id="node48" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="1255,588,1386,615"/>
<area shape="rect" id="node49" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1249,1111,1392,1137"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_icgraph.png" border="0" usemap="#extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_icgraph" alt=""/></div>
<map name="extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_icgraph" id="extent-tree_8c_a19718f01b1cf94cd7c13ad34e4a78e4b_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="192,767,327,808"/>
<area shape="rect" id="node20" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1149,745,1356,771"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="1411,187,1565,214"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="375,767,513,808"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="1633,187,1754,214"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1624,133,1763,159"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#aac5aef8a21ce5455c61f13972f3a402b" title="btrfs_writepage_end\l_io_hook" alt="" coords="1829,181,1967,223"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a8bdc721b2c1931ee9b25e8d3ee83aa92" title="__endio_write_update\l_ordered" alt="" coords="1824,64,1972,105"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="2029,189,2204,215"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a5db744a220382da7c1850ae3b19afe66" title="btrfs_cleanup_ordered\l_extents" alt="" coords="2041,123,2192,164"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acc6adf2450d675bc04d364f12e4e87c1" title="btrfs_endio_direct\l_write" alt="" coords="2054,5,2179,47"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="2257,42,2390,69"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="1836,1073,1960,1115"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="561,737,685,779"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="2057,1030,2176,1057"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="2271,1030,2375,1057"/>
<area shape="rect" id="node16" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="2049,1132,2184,1173"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="743,745,873,771"/>
<area shape="rect" id="node50" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="733,694,883,721"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="931,745,1101,771"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="941,796,1091,837"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="939,679,1093,720"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1427,865,1549,891"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1437,399,1539,426"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1413,767,1563,794"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1404,633,1572,675"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1620,906,1767,933"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1620,399,1767,426"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1645,298,1742,325"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1830,450,1966,477"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2057,475,2176,502"/>
<area shape="rect" id="node27" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2073,349,2160,375"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1821,349,1975,375"/>
<area shape="rect" id="node29" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1817,399,1979,426"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1852,247,1944,274"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1637,855,1749,882"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1815,805,1981,831"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1623,754,1763,781"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1820,1008,1976,1049"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1852,855,1944,882"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1841,906,1955,933"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1818,957,1978,983"/>
<area shape="rect" id="node38" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2047,653,2186,695"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2031,805,2202,831"/>
<area shape="rect" id="node39" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2252,631,2395,658"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1815,703,1981,730"/>
<area shape="rect" id="node44" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1863,754,1933,781"/>
<area shape="rect" id="node46" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1626,633,1761,675"/>
<area shape="rect" id="node47" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1827,551,1969,578"/>
</map>
</div>

</div>
</div>
<a id="a2a4f90901004cca9e0c39e49435c758f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4f90901004cca9e0c39e49435c758f">&#9670;&nbsp;</a></span>btrfs_alloc_tree_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextent__buffer.html">extent_buffer</a>* btrfs_alloc_tree_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct btrfs_disk_key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>empty_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_cgraph.png" border="0" usemap="#extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_cgraph" id="extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="703,5,814,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a56ddb7df98f98a19cb3e0852d2968f3f" title="btrfs_init_new_buffer" alt="" coords="221,272,363,299"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="239,617,345,644"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="221,887,363,913"/>
<area shape="rect" id="node27" href="delayed-ref_8h.html#a6f200b01d9f90ffef4dbb4db8931ee1d" title="btrfs_alloc_delayed\l_extent_op" alt="" coords="225,1150,359,1191"/>
<area shape="rect" id="node28" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="227,1216,357,1243"/>
<area shape="rect" id="node37" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="203,1444,381,1471"/>
<area shape="rect" id="node42" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="227,1495,357,1537"/>
<area shape="rect" id="node43" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="229,1637,355,1664"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="225,1714,359,1755"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e" title="unuse_block_rsv" alt="" coords="232,1805,352,1832"/>
<area shape="rect" id="node4" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="455,54,603,95"/>
<area shape="rect" id="node7" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="446,323,611,365"/>
<area shape="rect" id="node8" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="475,389,583,416"/>
<area shape="rect" id="node9" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="469,440,589,467"/>
<area shape="rect" id="node11" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="679,331,838,357"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a7287fa383523fd330773dafb2ff08a59" title="set_extent_buffer_uptodate" alt="" coords="439,120,619,147"/>
<area shape="rect" id="node13" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="471,171,586,197"/>
<area shape="rect" id="node14" href="extent__io_8h.html#a2fbccb6891267e933f13e5be9f665eea" title="set_extent_new" alt="" coords="471,221,586,248"/>
<area shape="rect" id="node5" href="extent__io_8h.html#a29abd63bd8d61dbce1e013e2d13f9e8e" title="alloc_test_extent_buffer" alt="" coords="678,111,839,137"/>
<area shape="rect" id="node6" href="extent__io_8c.html#a4974facd69d3453e3768855c44ba3ee9" title="alloc_extent_buffer" alt="" coords="693,60,825,87"/>
<area shape="rect" id="node10" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="676,440,841,467"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a40dc3e9a3bc092e3925c200e26837042" title="get_block_rsv" alt="" coords="477,541,580,568"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="686,541,831,568"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121" title="update_global_block_rsv" alt="" coords="446,643,611,669"/>
<area shape="rect" id="node19" href="xfs__buf__item_8c.html#af6a33219aa7a7e8db49d413525f90919" title="DEFINE_RATELIMIT_STATE" alt="" coords="429,693,628,720"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="446,592,611,619"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="697,701,821,728"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a75e508943d0e877bfd1f3f7f2d1f5c99" title="get_alloc_profile_by_root" alt="" coords="445,861,612,888"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="471,912,586,939"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="695,937,822,964"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="452,745,605,786"/>
<area shape="rect" id="node29" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="689,1089,828,1116"/>
<area shape="rect" id="node30" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="470,1317,587,1344"/>
<area shape="rect" id="node31" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="699,1343,818,1369"/>
<area shape="rect" id="node32" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="465,1267,593,1293"/>
<area shape="rect" id="node33" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="699,1241,818,1268"/>
<area shape="rect" id="node34" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="461,1064,596,1091"/>
<area shape="rect" id="node35" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="473,1115,585,1141"/>
<area shape="rect" id="node36" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="466,1013,591,1040"/>
<area shape="rect" id="node38" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="723,1444,795,1471"/>
<area shape="rect" id="node39" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="453,1469,605,1496"/>
<area shape="rect" id="node40" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="455,1520,602,1547"/>
<area shape="rect" id="node41" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="463,1571,594,1613"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="451,1637,606,1664"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="455,1688,602,1715"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="455,1739,603,1781"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="456,1805,601,1832"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="445,1856,612,1883"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_icgraph.png" border="0" usemap="#extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_icgraph" id="extent-tree_8c_a2a4f90901004cca9e0c39e49435c758f_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="212,107,324,133"/>
<area shape="rect" id="node8" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="203,676,333,703"/>
<area shape="rect" id="node31" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="887,689,969,716"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="891,537,965,564"/>
<area shape="rect" id="node37" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="650,664,765,691"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1463,1085,1669,1112"/>
<area shape="rect" id="node41" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="208,955,328,981"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="217,1107,319,1133"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="217,1183,319,1209"/>
<area shape="rect" id="node3" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="415,56,538,83"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="843,107,1013,133"/>
<area shape="rect" id="node4" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="639,5,775,32"/>
<area shape="rect" id="node5" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="620,56,795,83"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1061,107,1239,133"/>
<area shape="rect" id="node9" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="418,461,535,488"/>
<area shape="rect" id="node36" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1287,816,1415,843"/>
<area shape="rect" id="node10" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="877,613,979,640"/>
<area shape="rect" id="node12" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1289,613,1412,640"/>
<area shape="rect" id="node26" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1518,309,1614,336"/>
<area shape="rect" id="node27" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1740,309,1863,336"/>
<area shape="rect" id="node28" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1517,360,1615,387"/>
<area shape="rect" id="node30" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="631,715,784,741"/>
<area shape="rect" id="node32" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="652,512,763,539"/>
<area shape="rect" id="node34" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="656,563,759,589"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="629,461,785,488"/>
<area shape="rect" id="node11" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1068,613,1232,640"/>
<area shape="rect" id="node13" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="1517,832,1615,859"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1479,883,1653,909"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1529,933,1603,960"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1498,984,1634,1011"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1493,512,1639,539"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="1488,563,1644,589"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1933,719,2080,745"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1496,766,1636,807"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="1486,664,1646,691"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="1505,715,1627,741"/>
<area shape="rect" id="node25" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1499,411,1633,437"/>
<area shape="rect" id="node29" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1498,1035,1634,1061"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1741,773,1862,800"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1750,824,1853,851"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1727,1056,1876,1083"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1717,1107,1885,1149"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="647,1107,767,1133"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="381,1056,572,1083"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="411,904,543,931"/>
<area shape="rect" id="node45" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="401,955,552,981"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="399,1107,554,1133"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="412,1157,541,1184"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="421,1208,532,1235"/>
</map>
</div>

</div>
</div>
<a id="a5a2e60542a18601bad6d984dee749a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a2e60542a18601bad6d984dee749a44">&#9670;&nbsp;</a></span>btrfs_async_reclaim_metadata_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_async_reclaim_metadata_space </td>
          <td>(</td>
          <td class="paramtype">struct work_struct *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_cgraph.png" border="0" usemap="#extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_cgraph" id="extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="841,430,967,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="386,195,514,236"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="205,882,297,909"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#aa4da5e54727044428ab6cc112f5d7cdc" title="wake_all_tickets" alt="" coords="192,933,311,959"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="617,101,736,127"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="827,202,981,229"/>
<area shape="rect" id="node10" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="851,253,957,279"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="838,136,970,177"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="833,5,975,47"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="831,71,977,112"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1089,78,1205,105"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="601,907,753,934"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="603,1059,750,1086"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1299,958,1445,985"/>
<area shape="rect" id="node29" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="359,1219,541,1246"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="396,857,504,883"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="394,514,506,541"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="366,1009,534,1035"/>
<area shape="rect" id="node13" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1044,907,1251,934"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="845,1161,963,1187"/>
<area shape="rect" id="node16" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1075,1393,1219,1435"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1065,1459,1229,1486"/>
<area shape="rect" id="node18" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1078,1510,1217,1537"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1073,1059,1222,1086"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1083,1161,1212,1187"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="1091,1211,1204,1238"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1063,1009,1232,1035"/>
<area shape="rect" id="node26" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1884,1081,2044,1107"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="1079,1328,1216,1369"/>
<area shape="rect" id="node28" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="1068,1263,1227,1304"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1703,1044,1836,1085"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1493,1009,1655,1035"/>
<area shape="rect" id="node30" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="607,1347,746,1388"/>
<area shape="rect" id="node31" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="877,1481,931,1507"/>
<area shape="rect" id="node32" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="847,1531,961,1558"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#a871e0ca3f52c069d5a57f09c72d9e117" title="btrfs_first_delayed_node" alt="" coords="822,1211,986,1238"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a0aa39e6040d1f30d10c52f051b81916c" title="__btrfs_commit_inode\l_delayed_items" alt="" coords="829,1263,979,1304"/>
<area shape="rect" id="node35" href="delayed-inode_8c.html#ae41987e5af596d25876eee9105ba4fd4" title="btrfs_release_delayed_node" alt="" coords="812,1329,996,1355"/>
<area shape="rect" id="node36" href="delayed-inode_8c.html#a7426853484f2890a68efa2657db95a99" title="btrfs_next_delayed_node" alt="" coords="821,1379,987,1406"/>
<area shape="rect" id="node37" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="849,1430,959,1457"/>
<area shape="rect" id="node39" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="839,816,969,857"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="599,791,755,832"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="609,202,745,229"/>
<area shape="rect" id="node43" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="597,638,757,665"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="589,689,764,715"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="602,303,751,330"/>
<area shape="rect" id="node46" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="842,354,966,381"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="605,507,748,548"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="610,572,743,613"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_icgraph.png" border="0" usemap="#extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_icgraph" id="extent-tree_8c_a5a2e60542a18601bad6d984dee749a44_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="192,796,391,823"/>
<area shape="rect" id="node3" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="439,796,525,823"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="575,847,681,873"/>
<area shape="rect" id="node7" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="573,536,683,563"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1220,669,1340,696"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1467,669,1577,696"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="731,613,912,654"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="753,730,889,771"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="759,267,883,293"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="761,317,881,344"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="745,65,897,92"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="754,419,889,445"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="771,501,871,528"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="743,561,899,588"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="960,745,1141,772"/>
<area shape="rect" id="node10" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1229,821,1331,848"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="977,796,1124,823"/>
<area shape="rect" id="node16" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="963,948,1138,975"/>
<area shape="rect" id="node13" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1201,720,1359,747"/>
<area shape="rect" id="node14" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1444,771,1600,797"/>
<area shape="rect" id="node15" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1435,720,1609,747"/>
<area shape="rect" id="node17" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1223,1056,1337,1083"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1487,939,1557,965"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1207,990,1353,1031"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1193,873,1367,914"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1447,1056,1597,1083"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1682,964,1833,991"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1673,1015,1841,1041"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1705,913,1809,940"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1678,619,1837,645"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="993,267,1109,293"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1437,225,1607,252"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1227,116,1333,143"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="969,15,1133,41"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="969,65,1133,92"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1419,15,1625,41"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1211,65,1349,92"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="981,343,1121,369"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="973,412,1129,439"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1215,218,1345,259"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1206,283,1354,325"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1233,349,1327,376"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1233,400,1327,427"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="993,492,1108,519"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1232,501,1328,528"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1189,553,1371,594"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1221,451,1339,477"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="965,593,1136,620"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="988,644,1113,671"/>
</map>
</div>

</div>
</div>
<a id="ace543e517c4e9638c0b8914390df3d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace543e517c4e9638c0b8914390df3d2f">&#9670;&nbsp;</a></span>btrfs_async_run_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_async_run_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>transid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_cgraph.png" border="0" usemap="#extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_cgraph" alt=""/></div>
<map name="extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_cgraph" id="extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_cgraph">
<area shape="rect" id="node2" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="278,568,385,594"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="249,618,413,645"/>
<area shape="rect" id="node48" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="269,694,394,721"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a0036c5b3686f83778537ab61f515fecb" title="to_async_delayed_refs" alt="" coords="461,492,617,518"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#ac1f8aa5c474522b9dc026d090ef4e325" title="btrfs_transaction_blocked" alt="" coords="665,124,836,150"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="466,593,613,620"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1143,562,1289,589"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1345,701,1499,728"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a81ce638f8b88051647dcba5e9c37c761" title="is_transaction_blocked" alt="" coords="1139,14,1293,41"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="691,334,810,361"/>
<area shape="rect" id="node9" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="915,91,1059,132"/>
<area shape="rect" id="node10" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="884,157,1091,184"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="905,208,1069,234"/>
<area shape="rect" id="node12" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="918,258,1057,285"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="913,309,1062,336"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="923,40,1052,66"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="931,360,1044,386"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="903,461,1072,488"/>
<area shape="rect" id="node20" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1773,416,1933,442"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="919,512,1056,554"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="908,578,1067,619"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1568,462,1701,503"/>
<area shape="rect" id="node21" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1563,527,1706,568"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1341,524,1503,550"/>
<area shape="rect" id="node22" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="2019,530,2137,557"/>
<area shape="rect" id="node23" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="1789,523,1917,564"/>
<area shape="rect" id="node24" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1778,588,1927,630"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1551,984,1719,1010"/>
<area shape="rect" id="node32" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1987,857,2169,884"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1563,614,1706,655"/>
<area shape="rect" id="node29" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1825,756,1880,782"/>
<area shape="rect" id="node30" href="delayed-ref_8c.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="1779,806,1926,833"/>
<area shape="rect" id="node31" href="delayed-ref_8c.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1776,857,1929,884"/>
<area shape="rect" id="node39" href="delayed-ref_8c.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="1767,1009,1939,1036"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a76bc63d000532e47f08dcf8318d11bd2" title="select_delayed_ref" alt="" coords="1787,1060,1918,1086"/>
<area shape="rect" id="node41" href="delayed-ref_8c.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="1767,1110,1938,1137"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="1988,933,2168,960"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1791,908,1915,934"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1781,1161,1924,1188"/>
<area shape="rect" id="node45" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1788,1212,1917,1254"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1779,1278,1926,1305"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="2224,705,2403,732"/>
<area shape="rect" id="node34" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="2222,756,2405,782"/>
<area shape="rect" id="node35" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="2217,806,2409,833"/>
<area shape="rect" id="node36" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="2227,857,2399,884"/>
<area shape="rect" id="node37" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="2249,908,2377,950"/>
<area shape="rect" id="node38" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="2237,974,2390,1001"/>
<area shape="rect" id="node49" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="470,745,609,772"/>
<area shape="rect" id="node50" href="async-thread_8c.html#a90a6f075cab66793ab82f810bdf4dbce" title="thresh_queue_hook" alt="" coords="683,745,818,772"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_icgraph.png" border="0" usemap="#extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_icgraph" alt=""/></div>
<map name="extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_icgraph" id="extent-tree_8c_ace543e517c4e9638c0b8914390df3d2f_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="283,225,423,267"/>
<area shape="rect" id="node18" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="249,447,456,474"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="272,1214,433,1241"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="987,553,1108,579"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="767,1990,869,2017"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="523,145,653,187"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="526,65,650,107"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="992,51,1103,78"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1179,553,1325,579"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="974,1399,1121,1426"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="999,1889,1096,1915"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="753,153,883,179"/>
<area shape="rect" id="node10" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="743,102,893,129"/>
<area shape="rect" id="node11" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="751,204,885,245"/>
<area shape="rect" id="node13" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="729,51,907,78"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1180,51,1324,78"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1373,102,1516,129"/>
<area shape="rect" id="node17" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1564,51,1717,78"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="513,346,663,373"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="504,211,672,252"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="762,321,874,347"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="964,321,1131,347"/>
<area shape="rect" id="node22" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="748,371,888,398"/>
<area shape="rect" id="node25" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="515,1214,661,1241"/>
<area shape="rect" id="node50" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="515,1367,661,1408"/>
<area shape="rect" id="node26" href="btrfs_2xattr_8h.html#a434058b03ecb1c530e21db56b2f845b1" title="btrfs_setxattr" alt="" coords="769,1838,867,1865"/>
<area shape="rect" id="node27" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="765,1889,871,1915"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="757,1939,879,1966"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a291cd889b30fc8af2903498fc3214137" title="btrfs_fallocate_update\l_isize" alt="" coords="743,692,893,733"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="745,758,891,785"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="745,809,891,835"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="741,859,895,886"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="773,910,863,937"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="776,1011,860,1038"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="753,1062,883,1089"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a224684e56fe0a3af1b6890569b9efd02" title="btrfs_dirty_inode" alt="" coords="759,1113,877,1139"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="771,1163,865,1190"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="773,1214,863,1241"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a6e36c66b6129e28e2b0da486c58d8aaf" title="btrfs_link" alt="" coords="781,1265,855,1291"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="775,1315,861,1342"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a9052833ef2921ef39ec55c8c38d8ddf5" title="btrfs_rename_exchange" alt="" coords="737,1366,899,1393"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="769,1417,867,1443"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="768,1467,868,1494"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="749,1519,887,1560"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="771,1585,865,1611"/>
<area shape="rect" id="node46" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="750,1635,886,1662"/>
<area shape="rect" id="node47" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="745,1686,891,1713"/>
<area shape="rect" id="node48" href="delayed-inode_8h.html#a939acd50fb9a2b17cbe6bb468eab072e" title="btrfs_commit_inode\l_delayed_inode" alt="" coords="750,575,886,616"/>
<area shape="rect" id="node49" href="delayed-inode_8c.html#a498f560bc5df864cc95116d29a834a11" title="btrfs_async_run_delayed_root" alt="" coords="720,1737,916,1763"/>
</map>
</div>

</div>
</div>
<a id="a7a6a9da7492ca4f1fbf607dc7556ad89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6a9da7492ca4f1fbf607dc7556ad89">&#9670;&nbsp;</a></span>btrfs_block_rsv_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_block_rsv_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a>&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_cgraph.png" border="0" usemap="#extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_cgraph" id="extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="192,423,357,449"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="1931,17,2077,44"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="408,969,548,1010"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="1493,464,1617,491"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="405,448,551,475"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1703,975,1856,1001"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1287,1153,1405,1180"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="817,1271,980,1297"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="617,951,751,977"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="599,885,769,926"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1489,1102,1621,1143"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1483,1285,1626,1326"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1481,1167,1628,1209"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1721,1200,1837,1227"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1940,1193,2068,1234"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="2141,1200,2271,1227"/>
<area shape="rect" id="node13" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1501,1351,1608,1377"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="1055,1234,1183,1275"/>
<area shape="rect" id="node15" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="1062,1300,1177,1327"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="853,347,945,373"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="1270,296,1422,323"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1273,195,1419,221"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1931,261,2077,288"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="1028,347,1211,373"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="1065,549,1173,576"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1063,768,1175,795"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1035,245,1203,272"/>
<area shape="rect" id="node20" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1676,363,1883,389"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1495,195,1614,221"/>
<area shape="rect" id="node23" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1707,246,1851,287"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1697,144,1861,171"/>
<area shape="rect" id="node25" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1710,43,1849,69"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1705,195,1854,221"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1695,312,1864,339"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2125,287,2287,313"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="1485,347,1624,389"/>
<area shape="rect" id="node33" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1977,439,2031,465"/>
<area shape="rect" id="node34" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="2147,439,2265,465"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1491,565,1618,592"/>
<area shape="rect" id="node37" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1490,634,1619,675"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="1268,651,1424,693"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="1278,1103,1414,1129"/>
<area shape="rect" id="node41" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="1266,951,1426,977"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="1259,768,1433,795"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1271,448,1421,475"/>
<area shape="rect" id="node46" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1493,709,1617,736"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1275,819,1417,861"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1279,885,1413,926"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1700,464,1859,491"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_icgraph.png" border="0" usemap="#extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_icgraph" id="extent-tree_8c_a7a6a9da7492ca4f1fbf607dc7556ad89_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="192,599,345,626"/>
<area shape="rect" id="node7" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="968,710,1117,737"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1555,761,1725,787"/>
<area shape="rect" id="node17" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2649,761,2776,787"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="2231,361,2350,387"/>
<area shape="rect" id="node36" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="199,673,338,715"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2216,1233,2365,1259"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="2413,5,2581,47"/>
<area shape="rect" id="node47" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="221,971,317,998"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="595,456,735,497"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2652,659,2773,686"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2661,507,2764,534"/>
<area shape="rect" id="node6" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="789,543,920,584"/>
<area shape="rect" id="node34" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="793,324,917,365"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="799,390,910,417"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1165,710,1284,737"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1332,761,1507,787"/>
<area shape="rect" id="node12" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1999,710,2168,737"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1773,761,1951,787"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2635,1015,2791,1056"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2661,122,2764,149"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2653,173,2772,199"/>
<area shape="rect" id="node18" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="2857,786,3002,813"/>
<area shape="rect" id="node21" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2844,1157,3015,1183"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="2874,147,2985,174"/>
<area shape="rect" id="node19" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3063,1099,3201,1140"/>
<area shape="rect" id="node20" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3249,1233,3392,1259"/>
<area shape="rect" id="node23" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="2421,223,2573,250"/>
<area shape="rect" id="node26" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="2637,275,2789,316"/>
<area shape="rect" id="node27" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="2424,862,2571,889"/>
<area shape="rect" id="node31" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="2424,391,2571,432"/>
<area shape="rect" id="node32" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="2416,457,2579,483"/>
<area shape="rect" id="node33" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="2416,325,2579,367"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="2631,42,2795,69"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="2890,42,2969,69"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2667,913,2759,939"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2655,963,2770,990"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2629,1131,2796,1158"/>
<area shape="rect" id="node37" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="393,652,540,693"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#acd1b3b36bf1526ea1987f8265c141d2e" title="btrfs_update_inode" alt="" coords="599,659,731,686"/>
<area shape="rect" id="node39" href="delayed-inode_8h.html#a4d171a4ea235f941d75d4cad68c0c7e2" title="btrfs_init_delayed_root" alt="" coords="588,609,741,635"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2441,1051,2553,1078"/>
<area shape="rect" id="node43" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2427,1283,2567,1310"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2633,1081,2793,1107"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2629,1283,2796,1310"/>
<area shape="rect" id="node45" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2678,1233,2747,1259"/>
<area shape="rect" id="node48" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="403,964,531,1005"/>
<area shape="rect" id="node50" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="399,1029,534,1071"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#ab2e376bfad5fe1288e6a7ca1ec6f1170" title="btrfs_new_inode" alt="" coords="606,971,723,998"/>
</map>
</div>

</div>
</div>
<a id="a10346a1168d5ac1e5728bd4eb48ae026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10346a1168d5ac1e5728bd4eb48ae026">&#9670;&nbsp;</a></span>btrfs_block_rsv_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_block_rsv_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_cgraph.png" border="0" usemap="#extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_cgraph" alt=""/></div>
<map name="extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_cgraph" id="extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_cgraph">
<area shape="rect" id="node2" href="math_8h.html#a1e995188eb1e88b353d2dfe473f4b868" title="div_factor" alt="" coords="207,5,285,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_icgraph.png" border="0" usemap="#extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_icgraph" alt=""/></div>
<map name="extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_icgraph" id="extent-tree_8c_a10346a1168d5ac1e5728bd4eb48ae026_icgraph">
<area shape="rect" id="node2" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="207,2007,365,2033"/>
<area shape="rect" id="node3" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="413,2032,605,2059"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="429,1977,590,2004"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="657,1865,797,1906"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="876,2091,1016,2117"/>
<area shape="rect" id="node16" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="861,2025,1031,2066"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1113,1573,1234,1600"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="895,1843,997,1869"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="881,1959,1011,2001"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="884,1894,1008,1935"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1118,1679,1229,1705"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1100,1755,1247,1781"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1125,1831,1222,1857"/>
<area shape="rect" id="node13" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1117,2120,1229,2147"/>
<area shape="rect" id="node14" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1109,2171,1238,2197"/>
<area shape="rect" id="node15" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1092,2054,1255,2095"/>
<area shape="rect" id="node17" href="qgroup_8c.html#ae762c40e14a95c1f8b20878d26892140" title="qgroup_check_limits" alt="" coords="1103,2003,1244,2029"/>
<area shape="rect" id="node19" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="653,899,800,925"/>
<area shape="rect" id="node50" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="653,1970,800,2011"/>
<area shape="rect" id="node20" href="btrfs_2xattr_8h.html#a434058b03ecb1c530e21db56b2f845b1" title="btrfs_setxattr" alt="" coords="897,325,995,352"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="893,376,999,403"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="885,427,1007,453"/>
<area shape="rect" id="node23" href="btrfs_2file_8c.html#a291cd889b30fc8af2903498fc3214137" title="btrfs_fallocate_update\l_isize" alt="" coords="871,478,1021,519"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="873,544,1019,571"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="873,595,1019,621"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="869,645,1023,672"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="901,696,991,723"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="904,747,988,773"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="881,797,1011,824"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a224684e56fe0a3af1b6890569b9efd02" title="btrfs_dirty_inode" alt="" coords="887,848,1005,875"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="899,899,993,925"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="901,949,991,976"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a6e36c66b6129e28e2b0da486c58d8aaf" title="btrfs_link" alt="" coords="909,1000,983,1027"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="903,1051,989,1077"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a9052833ef2921ef39ec55c8c38d8ddf5" title="btrfs_rename_exchange" alt="" coords="865,1101,1027,1128"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="897,1152,995,1179"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="896,1203,996,1229"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="877,1254,1015,1295"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="899,1320,993,1347"/>
<area shape="rect" id="node40" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="878,1371,1014,1397"/>
<area shape="rect" id="node41" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="873,1421,1019,1448"/>
<area shape="rect" id="node42" href="delayed-inode_8h.html#a939acd50fb9a2b17cbe6bb468eab072e" title="btrfs_commit_inode\l_delayed_inode" alt="" coords="878,1625,1014,1666"/>
<area shape="rect" id="node43" href="delayed-inode_8c.html#a498f560bc5df864cc95116d29a834a11" title="btrfs_async_run_delayed_root" alt="" coords="848,1472,1044,1499"/>
<area shape="rect" id="node44" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="878,1523,1014,1549"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="864,5,1028,32"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="868,57,1024,98"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="900,123,992,149"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="889,173,1003,200"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="863,224,1029,251"/>
</map>
</div>

</div>
</div>
<a id="af755f49433b189063477d03d75de00f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af755f49433b189063477d03d75de00f9">&#9670;&nbsp;</a></span>btrfs_block_rsv_migrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_block_rsv_migrate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>update_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af755f49433b189063477d03d75de00f9_cgraph.png" border="0" usemap="#extent-tree_8c_af755f49433b189063477d03d75de00f9_cgraph" alt=""/></div>
<map name="extent-tree_8c_af755f49433b189063477d03d75de00f9_cgraph" id="extent-tree_8c_af755f49433b189063477d03d75de00f9_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="215,5,360,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="215,56,360,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af755f49433b189063477d03d75de00f9_icgraph.png" border="0" usemap="#extent-tree_8c_af755f49433b189063477d03d75de00f9_icgraph" alt=""/></div>
<map name="extent-tree_8c_af755f49433b189063477d03d75de00f9_icgraph" id="extent-tree_8c_af755f49433b189063477d03d75de00f9_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="808,123,929,149"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="419,1111,541,1137"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="817,275,920,301"/>
<area shape="rect" id="node27" href="delayed-inode_8c.html#a35411c9565664b94e5c692ae509c6760" title="btrfs_delayed_item\l_reserve_metadata" alt="" coords="220,529,353,570"/>
<area shape="rect" id="node40" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="217,463,356,505"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aab611987577664f0b44cf4905ba63ee7" title="btrfs_orphan_reserve\l_metadata" alt="" coords="215,257,359,298"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="993,717,1161,758"/>
<area shape="rect" id="node50" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="1209,1035,1384,1061"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1025,5,1129,32"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1621,1136,1767,1163"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1004,629,1151,656"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1029,275,1126,301"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1229,629,1365,656"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1436,781,1555,808"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1651,512,1737,539"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1219,680,1374,707"/>
<area shape="rect" id="node22" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1216,781,1377,808"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1449,411,1542,437"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1643,725,1745,752"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1607,233,1781,260"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1863,752,1973,779"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1865,487,1971,513"/>
<area shape="rect" id="node16" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1863,537,1973,564"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1444,832,1547,859"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1432,715,1559,757"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1609,984,1779,1011"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1829,984,2007,1011"/>
<area shape="rect" id="node23" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1447,1085,1543,1112"/>
<area shape="rect" id="node24" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1620,1085,1768,1112"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1251,208,1343,235"/>
<area shape="rect" id="node28" href="delayed-inode_8h.html#a1044fc2c89c8e2dbebab0f23729acc6a" title="btrfs_insert_delayed\l_dir_index" alt="" coords="411,622,549,663"/>
<area shape="rect" id="node34" href="delayed-inode_8h.html#a2d70f684d1a548552b2bbb32f2cf003e" title="btrfs_delete_delayed\l_dir_index" alt="" coords="601,486,744,527"/>
<area shape="rect" id="node29" href="delayed-inode_8h.html#a4d171a4ea235f941d75d4cad68c0c7e2" title="btrfs_init_delayed_root" alt="" coords="792,629,945,656"/>
<area shape="rect" id="node30" href="dir-item_8c.html#a86be5ecbb997fc4195109eb13d437a17" title="btrfs_insert_dir_item" alt="" coords="603,811,743,837"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a5899d528d30b55a294f4833e0438ea8f" title="btrfs_add_link" alt="" coords="817,579,920,605"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="823,811,914,837"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="1028,427,1127,453"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a079fd8e7d3bd0e4d139ceb23c8d9738b" title="__btrfs_unlink_inode" alt="" coords="798,477,939,504"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a6aadb5660e37670b39f8719de99cb86b" title="btrfs_unlink_subvol" alt="" coords="801,376,936,403"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="1035,325,1119,352"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1215,376,1379,403"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1456,309,1535,336"/>
<area shape="rect" id="node41" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="407,463,553,505"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#acd1b3b36bf1526ea1987f8265c141d2e" title="btrfs_update_inode" alt="" coords="607,427,739,453"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="1030,56,1125,83"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="807,224,930,251"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="1252,132,1341,159"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="1009,158,1145,199"/>
<area shape="rect" id="node48" href="relocation_8c.html#aafc372d1d9b506be64cd48ee274a439f" title="create_reloc_inode" alt="" coords="1012,224,1143,251"/>
</map>
</div>

</div>
</div>
<a id="a089cda8b8a4583ae5d675f6631db4a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089cda8b8a4583ae5d675f6631db4a52">&#9670;&nbsp;</a></span>btrfs_block_rsv_refill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_block_rsv_refill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>min_reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a>&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_cgraph.png" border="0" usemap="#extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_cgraph" alt=""/></div>
<map name="extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_cgraph" id="extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="196,629,361,656"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="1935,17,2081,44"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="412,1262,552,1303"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="1497,785,1621,812"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="409,1328,555,1355"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1707,1029,1860,1056"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1291,1168,1409,1195"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="821,1320,984,1347"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="621,1269,755,1296"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="603,1203,773,1245"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1493,1106,1625,1147"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1487,1289,1630,1330"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1485,1171,1632,1213"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1725,1204,1841,1231"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1944,1197,2072,1238"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="2145,1204,2275,1231"/>
<area shape="rect" id="node13" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1505,1355,1612,1381"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="1059,1254,1187,1295"/>
<area shape="rect" id="node15" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="1066,1371,1181,1397"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="857,448,949,475"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="1274,360,1426,387"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1277,203,1423,229"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1935,144,2081,171"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="1032,932,1215,959"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="1069,448,1177,475"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1067,797,1179,824"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1039,203,1207,229"/>
<area shape="rect" id="node20" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1680,363,1887,389"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1499,203,1618,229"/>
<area shape="rect" id="node23" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1711,195,1855,237"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1701,261,1865,288"/>
<area shape="rect" id="node25" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1714,43,1853,69"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1709,144,1858,171"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1699,93,1868,120"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2129,119,2291,145"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="1489,938,1628,979"/>
<area shape="rect" id="node33" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1981,867,2035,893"/>
<area shape="rect" id="node34" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="2151,867,2269,893"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1495,579,1622,605"/>
<area shape="rect" id="node37" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1494,442,1623,483"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="1272,411,1428,453"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="1282,1117,1418,1144"/>
<area shape="rect" id="node41" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="1270,747,1430,773"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="1263,797,1437,824"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1275,848,1425,875"/>
<area shape="rect" id="node46" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1497,887,1621,913"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1279,899,1421,941"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1283,681,1417,722"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1704,813,1863,840"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_icgraph.png" border="0" usemap="#extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_icgraph" alt=""/></div>
<map name="extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_icgraph" id="extent-tree_8c_a089cda8b8a4583ae5d675f6631db4a52_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="419,264,540,291"/>
<area shape="rect" id="node4" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="219,391,341,417"/>
<area shape="rect" id="node6" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="793,492,939,519"/>
<area shape="rect" id="node47" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="196,441,364,468"/>
<area shape="rect" id="node50" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="212,492,348,519"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1181,239,1328,265"/>
<area shape="rect" id="node5" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="601,391,731,417"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="785,391,947,417"/>
<area shape="rect" id="node7" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="995,661,1133,702"/>
<area shape="rect" id="node8" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1207,668,1303,695"/>
<area shape="rect" id="node10" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1183,744,1326,771"/>
<area shape="rect" id="node9" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1393,668,1541,695"/>
<area shape="rect" id="node11" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1631,610,1761,651"/>
<area shape="rect" id="node19" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1639,828,1753,855"/>
<area shape="rect" id="node23" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1399,769,1534,796"/>
<area shape="rect" id="node12" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1835,727,1983,753"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="2039,727,2173,753"/>
<area shape="rect" id="node15" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2071,575,2141,601"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="2274,727,2353,753"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2238,499,2389,525"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2229,549,2397,576"/>
<area shape="rect" id="node18" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2261,600,2365,627"/>
<area shape="rect" id="node20" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1859,828,1959,855"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a1c67a45d01e21c34466033026965435d" title="btrfs_ioctl_balance" alt="" coords="2041,828,2171,855"/>
<area shape="rect" id="node22" href="volumes_8c.html#a7fef684404203359cc17ef9c199a8781" title="balance_kthread" alt="" coords="2047,879,2165,905"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1848,777,1969,804"/>
<area shape="rect" id="node25" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1851,676,1966,703"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="2031,676,2181,703"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="2041,625,2171,652"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1013,289,1115,316"/>
<area shape="rect" id="node32" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1021,391,1107,417"/>
<area shape="rect" id="node30" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1209,289,1300,316"/>
<area shape="rect" id="node31" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1853,53,1964,80"/>
<area shape="rect" id="node33" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1201,340,1308,367"/>
<area shape="rect" id="node35" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1200,391,1309,417"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1636,79,1756,105"/>
<area shape="rect" id="node36" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1376,383,1557,425"/>
<area shape="rect" id="node38" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1399,551,1535,593"/>
<area shape="rect" id="node41" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1405,500,1529,527"/>
<area shape="rect" id="node42" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1407,180,1527,207"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1391,231,1543,257"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1399,281,1534,308"/>
<area shape="rect" id="node45" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1417,332,1517,359"/>
<area shape="rect" id="node46" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1389,129,1545,156"/>
<area shape="rect" id="node37" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1605,391,1787,417"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1623,508,1769,535"/>
<area shape="rect" id="node40" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1609,559,1783,585"/>
<area shape="rect" id="node48" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="412,441,547,468"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="595,441,737,468"/>
</map>
</div>

</div>
</div>
<a id="a24d496c5284955c0b0a2d8d1d4f30588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24d496c5284955c0b0a2d8d1d4f30588">&#9670;&nbsp;</a></span>btrfs_block_rsv_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_block_rsv_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_cgraph.png" border="0" usemap="#extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_cgraph" alt=""/></div>
<map name="extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_cgraph" id="extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="213,39,380,65"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="428,31,565,73"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="780,5,933,32"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="613,64,732,91"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="791,57,923,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="785,122,928,163"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="783,187,930,229"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="981,97,1097,124"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1145,90,1273,131"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1321,97,1452,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_icgraph.png" border="0" usemap="#extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_icgraph" alt=""/></div>
<map name="extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_icgraph" id="extent-tree_8c_a24d496c5284955c0b0a2d8d1d4f30588_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1667,650,1813,677"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1485,473,1588,499"/>
<area shape="rect" id="node15" href="delayed-inode_8c.html#a91b69e1c7087dedaf021b3f736639bdf" title="btrfs_delayed_item\l_release_metadata" alt="" coords="222,156,354,197"/>
<area shape="rect" id="node21" href="delayed-inode_8c.html#a9cab63e8380b2239c230412487c1a665" title="btrfs_delayed_inode\l_release_metadata" alt="" coords="219,305,357,347"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#abc2881165c601bfce62c1bb9e1629d37" title="btrfs_free_block_rsv" alt="" coords="218,838,358,865"/>
<area shape="rect" id="node29" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1473,1030,1600,1057"/>
<area shape="rect" id="node30" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1667,1174,1813,1201"/>
<area shape="rect" id="node32" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1052,1157,1171,1183"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ac5edf32b8cb542d087b7dd877b248545" title="btrfs_orphan_release\l_metadata" alt="" coords="1040,524,1183,565"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a7946e6ccff762079188782872dd504e8" title="btrfs_subvolume_release\l_metadata" alt="" coords="1240,1607,1407,1648"/>
<area shape="rect" id="node46" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="213,1117,363,1143"/>
<area shape="rect" id="node47" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="240,1530,336,1557"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="632,1241,765,1283"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1874,1115,2010,1142"/>
<area shape="rect" id="node6" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2071,1233,2189,1259"/>
<area shape="rect" id="node7" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2087,675,2173,702"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1865,675,2019,702"/>
<area shape="rect" id="node12" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1861,777,2023,803"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="2083,1115,2177,1142"/>
<area shape="rect" id="node5" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2079,1603,2181,1630"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2239,650,2345,677"/>
<area shape="rect" id="node9" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2237,701,2347,727"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="2079,751,2181,778"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1691,701,1789,727"/>
<area shape="rect" id="node16" href="delayed-inode_8c.html#a736176c83e7ceb01eb8f1517c42ba87b" title="btrfs_batch_insert\l_items" alt="" coords="434,5,561,47"/>
<area shape="rect" id="node17" href="delayed-inode_8c.html#a923f0073394c156a357d63822477b19d" title="btrfs_insert_delayed_item" alt="" coords="412,71,583,98"/>
<area shape="rect" id="node18" href="delayed-inode_8c.html#ae402d8ec9601c06e554747b9d5a1ffe6" title="btrfs_batch_delete\l_items" alt="" coords="433,123,562,164"/>
<area shape="rect" id="node19" href="delayed-inode_8c.html#a8278d5befc72f9714742595d05306106" title="btrfs_delete_delayed\l_insertion_item" alt="" coords="426,188,569,229"/>
<area shape="rect" id="node20" href="delayed-inode_8c.html#a2ecc7e9e0839827bec20c5feaf32ac2e" title="__btrfs_kill_delayed_node" alt="" coords="411,254,583,281"/>
<area shape="rect" id="node22" href="delayed-inode_8c.html#ade5cf6047909b53374b7197277c0ff2f" title="__btrfs_update_delayed\l_inode" alt="" coords="417,305,577,347"/>
<area shape="rect" id="node24" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="1476,1081,1597,1107"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a9f519da4aab67c46bc3d8c18294f74cc" title="btrfs_orphan_commit_root" alt="" coords="411,965,584,991"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1476,625,1597,651"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="1475,574,1598,601"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a183ade15bf6f13734cdb0613d817e2b4" title="free_fs_root" alt="" coords="452,914,543,941"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="639,1117,758,1143"/>
<area shape="rect" id="node27" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="813,1249,983,1275"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1031,1451,1192,1478"/>
<area shape="rect" id="node31" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1873,1167,2011,1208"/>
<area shape="rect" id="node33" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="1247,1299,1399,1326"/>
<area shape="rect" id="node35" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="1461,1335,1613,1376"/>
<area shape="rect" id="node36" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1250,777,1397,803"/>
<area shape="rect" id="node37" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="1250,1183,1397,1224"/>
<area shape="rect" id="node38" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="1242,1066,1405,1093"/>
<area shape="rect" id="node39" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="1242,1117,1405,1159"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1455,1553,1619,1579"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a7f9c96fbfd21610243efd9fc0a1364d7" title="btrfs_orphan_del" alt="" coords="1264,523,1383,550"/>
<area shape="rect" id="node48" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="433,1523,561,1564"/>
<area shape="rect" id="node49" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="430,1588,565,1629"/>
</map>
</div>

</div>
</div>
<a id="aa507d20cc361860f8d2cc6f728b66f9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa507d20cc361860f8d2cc6f728b66f9b">&#9670;&nbsp;</a></span>btrfs_calc_reclaim_metadata_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 btrfs_calc_reclaim_metadata_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>system_chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_cgraph.png" border="0" usemap="#extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_cgraph" id="extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="181,143,300,170"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="348,202,501,229"/>
<area shape="rect" id="node10" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="187,249,294,275"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="359,5,491,47"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="353,71,496,112"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="351,136,498,177"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="549,46,665,73"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="713,39,841,80"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="889,46,1020,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_icgraph.png" border="0" usemap="#extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_icgraph" id="extent-tree_8c_aa507d20cc361860f8d2cc6f728b66f9b_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="185,695,348,721"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="197,770,336,811"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="181,629,352,670"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="429,629,569,670"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="647,611,812,637"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="862,359,1001,385"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="860,745,1003,772"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="860,611,1003,637"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="878,144,985,171"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1065,232,1218,259"/>
<area shape="rect" id="node9" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1072,486,1211,527"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1067,181,1216,208"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1057,89,1225,130"/>
<area shape="rect" id="node19" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1067,384,1216,411"/>
<area shape="rect" id="node21" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1093,435,1189,461"/>
<area shape="rect" id="node24" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1078,552,1205,579"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1082,283,1201,309"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1056,333,1227,360"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1292,310,1432,351"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1515,595,1636,621"/>
<area shape="rect" id="node10" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="1289,558,1435,599"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1306,208,1418,235"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1492,183,1659,209"/>
<area shape="rect" id="node14" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1292,259,1432,285"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1311,5,1413,32"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1303,107,1421,133"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1280,56,1444,83"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1303,376,1421,403"/>
<area shape="rect" id="node22" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="1298,427,1426,469"/>
<area shape="rect" id="node23" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="1295,493,1429,534"/>
<area shape="rect" id="node25" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1289,669,1435,696"/>
<area shape="rect" id="node29" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1080,821,1203,848"/>
<area shape="rect" id="node30" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1057,720,1225,747"/>
<area shape="rect" id="node31" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1073,771,1209,797"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1067,603,1216,645"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1067,16,1216,43"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="400,825,599,852"/>
<area shape="rect" id="node38" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="686,923,773,949"/>
<area shape="rect" id="node39" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="878,923,985,949"/>
<area shape="rect" id="node41" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="877,1155,986,1181"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1302,948,1422,975"/>
<area shape="rect" id="node42" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1051,1177,1232,1218"/>
<area shape="rect" id="node43" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1073,1242,1209,1283"/>
<area shape="rect" id="node44" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1079,1308,1203,1335"/>
<area shape="rect" id="node45" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1081,1359,1201,1385"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1065,1024,1217,1051"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1074,1075,1209,1101"/>
<area shape="rect" id="node48" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1091,1125,1191,1152"/>
<area shape="rect" id="node49" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1063,973,1219,1000"/>
</map>
</div>

</div>
</div>
<a id="a14ca5b0ce308e37a6f6b04725f2c1a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ca5b0ce308e37a6f6b04725f2c1a30">&#9670;&nbsp;</a></span>btrfs_calculate_inode_block_rsv_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_calculate_inode_block_rsv_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_cgraph.png" border="0" usemap="#extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_cgraph" alt=""/></div>
<map name="extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_cgraph" id="extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="199,5,405,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="230,57,374,98"/>
<area shape="rect" id="node4" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="453,39,632,65"/>
<area shape="rect" id="node6" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="464,89,621,116"/>
<area shape="rect" id="node5" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="680,39,867,65"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_icgraph.png" border="0" usemap="#extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_icgraph" alt=""/></div>
<map name="extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_icgraph" id="extent-tree_8c_a14ca5b0ce308e37a6f6b04725f2c1a30_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="199,391,348,433"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="199,457,347,498"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467" title="btrfs_delalloc_release\l_extents" alt="" coords="397,326,545,367"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="602,639,753,665"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="396,391,545,433"/>
<area shape="rect" id="node34" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="610,117,745,158"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="813,639,949,665"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1021,655,1153,681"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="604,285,751,326"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="607,452,747,479"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1258,705,1366,732"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="609,401,745,428"/>
<area shape="rect" id="node22" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="603,183,752,209"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="593,351,761,377"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="1223,419,1401,445"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1449,807,1624,833"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1695,807,1792,833"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="820,335,941,361"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1035,401,1139,428"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="821,385,940,412"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="816,537,945,564"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="829,487,932,513"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1039,503,1136,529"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1029,553,1146,580"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1014,452,1161,479"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="821,132,940,159"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1000,132,1175,159"/>
<area shape="rect" id="node25" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1003,81,1172,108"/>
<area shape="rect" id="node26" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1239,31,1385,57"/>
<area shape="rect" id="node27" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1467,23,1606,65"/>
<area shape="rect" id="node28" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1695,5,1791,32"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1672,56,1815,83"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="823,284,938,311"/>
<area shape="rect" id="node32" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="1022,285,1153,326"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="1026,351,1149,377"/>
<area shape="rect" id="node35" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="809,56,952,83"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="1243,807,1381,833"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="397,457,545,498"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1" title="btrfs_write_out_ino\l_cache" alt="" coords="405,242,537,283"/>
<area shape="rect" id="node40" href="ordered-data_8h.html#a7556f4c1b2c1b0a82daff84a80b56452" title="btrfs_remove_ordered\l_extent" alt="" coords="397,934,545,975"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="601,916,754,943"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a172104c6e25b34821b4b087249fe414b" title="btrfs_destroy_inode" alt="" coords="609,967,745,993"/>
<area shape="rect" id="node48" href="ordered-data_8h.html#ad20568759956e45d96b5e95a067f4eb1" title="btrfs_ordered_inode\l_tree_init" alt="" coords="609,1018,745,1059"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="820,873,941,900"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1243,924,1381,951"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#aac5aef8a21ce5455c61f13972f3a402b" title="btrfs_writepage_end\l_io_hook" alt="" coords="1243,858,1381,899"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a8bdc721b2c1931ee9b25e8d3ee83aa92" title="__endio_write_update\l_ordered" alt="" coords="1013,757,1161,798"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1014,1000,1161,1027"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#aca4351c60d0a69aec44c5b83c58eeab1" title="btrfs_alloc_inode" alt="" coords="821,1025,941,1052"/>
</map>
</div>

</div>
</div>
<a id="a87b53c7f62479834a9aefd4a088a9a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b53c7f62479834a9aefd4a088a9a8c">&#9670;&nbsp;</a></span>btrfs_can_relocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_can_relocate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_cgraph.png" border="0" usemap="#extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_cgraph" id="extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_cgraph">
<area shape="rect" id="node2" href="jffs2_2scan_8c.html#a5f7fc12bed473eb0baa863315bce50c9" title="min_free" alt="" coords="223,77,295,103"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="194,128,325,169"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="183,194,336,221"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="194,245,325,271"/>
<area shape="rect" id="node8" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="184,296,335,337"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="186,471,333,498"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="872,993,1019,1019"/>
<area shape="rect" id="node39" href="volumes_8c.html#a547c348d46474240665359d539f5a19f" title="find_free_dev_extent" alt="" coords="188,1001,331,1027"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="184,1051,335,1078"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="393,5,556,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="641,13,792,39"/>
<area shape="rect" id="node9" href="volumes_8h.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="403,71,547,112"/>
<area shape="rect" id="node10" href="volumes_8h.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="403,136,547,177"/>
<area shape="rect" id="node11" href="volumes_8h.html#adc39e837a05fc36ea825560e65bc7c50" title="btrfs_get_fs_uuids" alt="" coords="410,202,539,229"/>
<area shape="rect" id="node12" href="volumes_8h.html#a782e890c25ad1f492beab5e7ba18416a" title="btrfs_set_fs_info_ptr" alt="" coords="404,253,545,279"/>
<area shape="rect" id="node13" href="volumes_8h.html#ac51cd3c4a04fa86a53432c9b4f9beeba" title="btrfs_reset_fs_info_ptr" alt="" coords="399,303,551,330"/>
<area shape="rect" id="node14" href="volumes_8h.html#a16661efc32c170ed84aedc88f8b28e46" title="btrfs_check_rw_degradable" alt="" coords="384,354,565,381"/>
<area shape="rect" id="node15" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="637,230,796,257"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a538acc468c4602e97cbefe73c83a9914" title="btrfs_get_num_tolerated\l_disk_barrier_failures" alt="" coords="635,281,798,323"/>
<area shape="rect" id="node17" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="657,129,776,155"/>
<area shape="rect" id="node18" href="btrfs_2extent__map_8h.html#a2ea46678c185fd0d0fdb91c1284cf0fb" title="extent_map_end" alt="" coords="657,179,776,206"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="415,605,534,631"/>
<area shape="rect" id="node21" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="645,412,789,453"/>
<area shape="rect" id="node22" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="613,478,820,505"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="635,529,799,555"/>
<area shape="rect" id="node24" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="647,579,786,606"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="642,630,791,657"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="652,681,781,707"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="660,731,773,758"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="632,833,801,859"/>
<area shape="rect" id="node32" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1487,762,1647,789"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="648,884,785,925"/>
<area shape="rect" id="node38" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="637,347,796,388"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1293,784,1426,825"/>
<area shape="rect" id="node33" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1288,849,1431,891"/>
<area shape="rect" id="node35" href="ctree_8h.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1293,1032,1426,1073"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1071,891,1232,918"/>
<area shape="rect" id="node34" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="1289,967,1429,1008"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="1280,915,1439,942"/>
<area shape="rect" id="node40" href="volumes_8c.html#a004845fb889f20261d86e3f05d1ac28d" title="find_free_dev_extent\l_start" alt="" coords="403,1171,546,1212"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="678,1305,755,1331"/>
<area shape="rect" id="node42" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="659,1355,774,1382"/>
<area shape="rect" id="node43" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="655,1001,778,1027"/>
<area shape="rect" id="node44" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="881,1051,1010,1078"/>
<area shape="rect" id="node45" href="ctree_8c.html#ad91b96ba60ae7f985cf821fcaf931bfa" title="btrfs_previous_item" alt="" coords="649,1153,785,1179"/>
<area shape="rect" id="node46" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="868,1279,1023,1306"/>
<area shape="rect" id="node47" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="663,1203,771,1230"/>
<area shape="rect" id="node48" href="volumes_8c.html#a55427f444353101339ffdb323965d5cf" title="contains_pending_extent" alt="" coords="633,1254,800,1281"/>
<area shape="rect" id="node49" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="662,1051,771,1078"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_icgraph.png" border="0" usemap="#extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_icgraph" id="extent-tree_8c_a87b53c7f62479834a9aefd4a088a9a8c_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="183,739,389,765"/>
<area shape="rect" id="node22" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1285,735,1428,761"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="461,477,582,504"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="470,259,573,285"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="447,579,596,605"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="437,731,605,773"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="653,427,800,453"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="653,132,800,159"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="678,259,775,285"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="865,5,1001,32"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1093,56,1211,83"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1109,157,1195,184"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="856,107,1011,133"/>
<area shape="rect" id="node12" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="853,157,1014,184"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1105,5,1199,32"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="887,259,979,285"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="671,477,783,504"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="850,528,1017,555"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="657,604,797,631"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="855,310,1011,351"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="887,376,979,403"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="876,427,991,453"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="853,477,1013,504"/>
<area shape="rect" id="node21" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1083,723,1221,765"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1067,528,1237,555"/>
<area shape="rect" id="node23" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1479,673,1608,714"/>
<area shape="rect" id="node31" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1662,832,1777,859"/>
<area shape="rect" id="node35" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1476,739,1611,765"/>
<area shape="rect" id="node24" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1828,680,1976,707"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="2032,680,2167,707"/>
<area shape="rect" id="node27" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2065,629,2134,656"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="2267,781,2346,808"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2231,655,2382,681"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2223,705,2391,732"/>
<area shape="rect" id="node30" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2255,604,2359,631"/>
<area shape="rect" id="node32" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1852,883,1952,909"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a1c67a45d01e21c34466033026965435d" title="btrfs_ioctl_balance" alt="" coords="2034,933,2165,960"/>
<area shape="rect" id="node34" href="volumes_8c.html#a7fef684404203359cc17ef9c199a8781" title="balance_kthread" alt="" coords="2041,883,2158,909"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1659,781,1780,808"/>
<area shape="rect" id="node37" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1845,731,1959,757"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="2024,781,2175,808"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="2035,731,2164,757"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="850,680,1017,707"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="661,848,792,875"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="659,731,794,773"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="848,899,1019,925"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="858,950,1009,991"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="857,833,1010,874"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="862,781,1005,808"/>
</map>
</div>

</div>
</div>
<a id="a66a9875d64caffffe287261a4fc6cbe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66a9875d64caffffe287261a4fc6cbe3">&#9670;&nbsp;</a></span>btrfs_check_data_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_check_data_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__changeset.html">extent_changeset</a> **&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_cgraph.png" border="0" usemap="#extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_cgraph" alt=""/></div>
<map name="extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_cgraph" id="extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="481,367,550,394"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="214,662,370,704"/>
<area shape="rect" id="node41" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="477,1355,554,1382"/>
<area shape="rect" id="node42" href="qgroup_8c.html#abb0bbb66578b8196c713bf7ad50846e9" title="btrfs_qgroup_reserve_data" alt="" coords="204,1507,380,1534"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2" title="btrfs_free_reserved\l_data_space_noquota" alt="" coords="217,508,367,549"/>
<area shape="rect" id="node4" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="447,418,583,460"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="881,984,1035,1011"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae" title="btrfs_data_alloc_profile" alt="" coords="437,568,593,595"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="442,670,589,696"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="873,498,1043,524"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1099,76,1246,103"/>
<area shape="rect" id="node27" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1319,709,1448,750"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="459,1035,571,1062"/>
<area shape="rect" id="node39" href="ctree_8h.html#a33577d99eaa44bca8e96beccd1197c13" title="btrfs_start_delalloc\l_roots" alt="" coords="1317,846,1449,888"/>
<area shape="rect" id="node5" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="702,426,774,452"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="680,568,796,595"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="679,670,797,696"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1525,45,1658,86"/>
<area shape="rect" id="node15" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1520,212,1663,253"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1516,324,1667,351"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1519,498,1663,524"/>
<area shape="rect" id="node18" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1095,731,1250,758"/>
<area shape="rect" id="node20" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1097,665,1248,706"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="1113,178,1232,204"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1314,548,1453,575"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a08a2e4a01f8eb487096e1422ec973cfc" title="btrfs_start_delalloc\l_flush" alt="" coords="1107,229,1239,270"/>
<area shape="rect" id="node24" href="delayed-inode_8c.html#a8c6861e7722b06f9ded04e45b83fbc15" title="btrfs_run_delayed_items" alt="" coords="1091,346,1255,372"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a1927d5ec2842a9ad39826e170bf35cbb" title="extwriter_counter_read" alt="" coords="1095,396,1250,423"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#af3ea5a04e5165da96fdabc2dcef4b02f" title="btrfs_wait_delalloc\l_flush" alt="" coords="1107,600,1238,641"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1303,270,1464,296"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1312,774,1455,816"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a7799bb617dfee4586b621a3d8580f5a6" title="btrfs_grab_fs_root" alt="" coords="1528,818,1655,844"/>
<area shape="rect" id="node29" href="ordered-data_8c.html#a9cd5807e6f35c9a6e8543d2140143f40" title="btrfs_wait_ordered\l_extents" alt="" coords="1527,701,1656,742"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1531,767,1651,794"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="895,1068,1021,1095"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="670,984,806,1011"/>
<area shape="rect" id="node34" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="658,1254,818,1280"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="651,934,825,960"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="663,1152,813,1179"/>
<area shape="rect" id="node37" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="896,1178,1020,1204"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="671,1086,805,1128"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#affd890d71c0dcc87e10f1848efa49567" title="__start_delalloc_inodes" alt="" coords="1512,868,1671,895"/>
<area shape="rect" id="node43" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="702,1507,774,1534"/>
<area shape="rect" id="node44" href="extent__io_8h.html#a0f81d64581837f5e58413446c4c8fdf0" title="extent_changeset_alloc" alt="" coords="436,1507,595,1534"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a3a9187bda80397c1b3fb9df12b5d5be2" title="set_record_extent_bits" alt="" coords="438,1558,593,1584"/>
<area shape="rect" id="node46" href="qgroup_8c.html#a19fb0d4d29407e3e159f137f46b262d6" title="qgroup_reserve" alt="" coords="460,1608,571,1635"/>
<area shape="rect" id="node47" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="699,1634,777,1660"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="458,1710,573,1736"/>
<area shape="rect" id="node49" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="428,1406,603,1432"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_icgraph.png" border="0" usemap="#extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_icgraph" alt=""/></div>
<map name="extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_icgraph" id="extent-tree_8c_a66a9875d64caffffe287261a4fc6cbe3_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1121,5,1272,32"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="213,309,344,336"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="204,754,353,795"/>
<area shape="rect" id="node48" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="211,1019,346,1061"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1359,56,1495,83"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1563,56,1695,83"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="401,251,572,277"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="411,367,562,409"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="410,302,563,343"/>
<area shape="rect" id="node7" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="620,224,827,251"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="645,344,801,371"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1136,107,1257,133"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1376,436,1479,463"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="889,123,1039,149"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="880,57,1048,98"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="877,512,1051,539"/>
<area shape="rect" id="node14" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="879,461,1049,488"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1143,933,1250,960"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1136,309,1257,336"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1146,360,1247,387"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1151,411,1242,437"/>
<area shape="rect" id="node20" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1348,208,1507,235"/>
<area shape="rect" id="node21" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1107,259,1287,285"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1111,512,1282,539"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1139,563,1254,589"/>
<area shape="rect" id="node24" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1129,613,1265,640"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1128,664,1265,691"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1119,867,1275,909"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1113,715,1281,741"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1101,765,1292,792"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1105,208,1288,235"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1145,461,1248,488"/>
<area shape="rect" id="node33" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1124,1085,1269,1112"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1340,984,1515,1011"/>
<area shape="rect" id="node27" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1368,867,1487,893"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1577,816,1681,843"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="650,826,797,867"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="1127,816,1267,843"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="669,979,777,1005"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="419,787,555,813"/>
<area shape="rect" id="node44" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="412,567,561,593"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="403,736,571,763"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="875,837,1053,864"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="1367,765,1488,792"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="1363,715,1492,741"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="664,512,783,539"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="666,736,781,763"/>
<area shape="rect" id="node49" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="656,1078,791,1119"/>
<area shape="rect" id="node50" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="893,1136,1035,1163"/>
</map>
</div>

</div>
</div>
<a id="a015def9bee2b1099427293a76b4d9dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015def9bee2b1099427293a76b4d9dac">&#9670;&nbsp;</a></span>btrfs_check_space_for_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_check_space_for_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_cgraph.png" border="0" usemap="#extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_cgraph" alt=""/></div>
<map name="extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_cgraph" id="extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="208,5,415,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aad892acc76b8e8be495319c6bd06bb0d" title="heads_to_leaves" alt="" coords="492,56,612,83"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="239,107,383,149"/>
<area shape="rect" id="node4" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="689,81,876,108"/>
<area shape="rect" id="node6" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="463,107,641,133"/>
<area shape="rect" id="node7" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="473,157,631,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_icgraph.png" border="0" usemap="#extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_icgraph" alt=""/></div>
<map name="extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_icgraph" id="extent-tree_8c_a015def9bee2b1099427293a76b4d9dac_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1113,922,1234,948"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="415,402,621,428"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="217,957,357,998"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="208,1023,367,1050"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1323,922,1469,948"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1122,871,1225,898"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="669,446,819,472"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="867,333,1035,374"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1323,846,1469,872"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1347,770,1445,796"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1542,744,1678,771"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1751,770,1869,796"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1767,896,1853,923"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1533,947,1687,974"/>
<area shape="rect" id="node11" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1529,846,1691,872"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1564,694,1656,720"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="895,532,1007,559"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1090,450,1257,476"/>
<area shape="rect" id="node24" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="881,142,1021,168"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1095,653,1251,694"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1127,551,1219,578"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1116,602,1231,628"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1093,500,1253,527"/>
<area shape="rect" id="node20" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1327,392,1465,433"/>
<area shape="rect" id="node22" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1311,458,1481,484"/>
<area shape="rect" id="node21" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1539,399,1681,426"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1090,180,1257,207"/>
<area shape="rect" id="node26" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1139,130,1208,156"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1108,231,1239,258"/>
<area shape="rect" id="node32" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1106,333,1241,374"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1311,60,1481,87"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1321,176,1471,217"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1319,258,1473,300"/>
<area shape="rect" id="node33" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1325,340,1467,367"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="674,957,814,998"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="437,1019,599,1046"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="886,398,1017,440"/>
<area shape="rect" id="node38" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="889,957,1013,998"/>
<area shape="rect" id="node40" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1341,1023,1451,1050"/>
<area shape="rect" id="node37" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1099,399,1248,426"/>
<area shape="rect" id="node39" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="1084,972,1263,999"/>
<area shape="rect" id="node41" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1538,1048,1682,1075"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1739,998,1881,1024"/>
<area shape="rect" id="node43" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1929,1048,2083,1075"/>
<area shape="rect" id="node45" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="878,671,1025,698"/>
<area shape="rect" id="node46" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="671,1176,817,1217"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="881,1124,1021,1151"/>
<area shape="rect" id="node48" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="867,1205,1036,1246"/>
<area shape="rect" id="node50" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="422,1124,614,1151"/>
</map>
</div>

</div>
</div>
<a id="a24393d1a65f62a058b4a9dc7ad3ce42a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24393d1a65f62a058b4a9dc7ad3ce42a">&#9670;&nbsp;</a></span>btrfs_clear_space_info_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_clear_space_info_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a24393d1a65f62a058b4a9dc7ad3ce42a_icgraph.png" border="0" usemap="#extent-tree_8c_a24393d1a65f62a058b4a9dc7ad3ce42a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a24393d1a65f62a058b4a9dc7ad3ce42a_icgraph" id="extent-tree_8c_a24393d1a65f62a058b4a9dc7ad3ce42a_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="231,2264,437,2291"/>
<area shape="rect" id="node6" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="733,2348,873,2375"/>
<area shape="rect" id="node8" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="249,1133,419,1160"/>
<area shape="rect" id="node45" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="507,2112,655,2139"/>
<area shape="rect" id="node50" href="volumes_8h.html#af5f1e81f6207fe00c4b00d81d8afafcb" title="btrfs_grow_device" alt="" coords="270,2213,398,2240"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="520,2163,641,2189"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="529,2381,632,2408"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="506,2264,655,2291"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="497,2315,665,2357"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="527,1488,634,1515"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="520,1539,641,1565"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="530,1589,631,1616"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="535,1640,626,1667"/>
<area shape="rect" id="node13" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="724,839,883,865"/>
<area shape="rect" id="node14" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="491,864,671,891"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="495,1792,666,1819"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="523,1843,638,1869"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="513,1893,649,1920"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="512,1944,649,1971"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="503,1995,659,2037"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="497,5,665,32"/>
<area shape="rect" id="node21" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="485,56,676,83"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="489,107,672,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="529,157,632,184"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="521,208,640,235"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="743,2061,864,2088"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="519,310,643,351"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="511,376,650,403"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="497,427,664,469"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="506,493,655,520"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="501,544,660,571"/>
<area shape="rect" id="node31" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="511,595,651,637"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="511,661,651,688"/>
<area shape="rect" id="node33" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="517,259,644,285"/>
<area shape="rect" id="node34" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="731,712,876,739"/>
<area shape="rect" id="node35" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="513,712,649,739"/>
<area shape="rect" id="node36" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="500,915,661,941"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="495,965,666,992"/>
<area shape="rect" id="node38" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="507,1017,654,1058"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="521,1083,640,1109"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="500,1133,661,1160"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="517,1184,645,1211"/>
<area shape="rect" id="node42" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="501,1235,661,1261"/>
<area shape="rect" id="node43" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="501,1285,660,1312"/>
<area shape="rect" id="node44" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="515,1336,646,1363"/>
<area shape="rect" id="node46" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="511,1387,650,1413"/>
<area shape="rect" id="node47" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="519,1437,642,1464"/>
<area shape="rect" id="node48" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="505,1741,656,1768"/>
<area shape="rect" id="node49" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="513,2061,648,2088"/>
</map>
</div>

</div>
</div>
<a id="a87dfb0f672cf49fd6434160985bdb302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87dfb0f672cf49fd6434160985bdb302">&#9670;&nbsp;</a></span>btrfs_cond_migrate_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_cond_migrate_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_cgraph.png" border="0" usemap="#extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_cgraph" alt=""/></div>
<map name="extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_cgraph" id="extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_cgraph">
<area shape="rect" id="node2" href="math_8h.html#a1e995188eb1e88b353d2dfe473f4b868" title="div_factor" alt="" coords="220,5,299,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="187,56,332,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_icgraph.png" border="0" usemap="#extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_icgraph" alt=""/></div>
<map name="extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_icgraph" id="extent-tree_8c_a87dfb0f672cf49fd6434160985bdb302_icgraph">
<area shape="rect" id="node2" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="187,295,339,337"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a22dde7d715615755a3552b2e80c61bef" title="__unlink_start_trans" alt="" coords="1094,56,1233,83"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#afc98880d81b8272ddf52723622eaf8df" title="btrfs_start_trans_remove\l_block_group" alt="" coords="387,295,553,337"/>
<area shape="rect" id="node47" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="625,361,785,388"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="1340,5,1429,32"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="1343,56,1427,83"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1517,5,1692,32"/>
<area shape="rect" id="node6" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1765,5,1863,32"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="601,307,808,333"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1301,259,1468,285"/>
<area shape="rect" id="node35" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1313,731,1456,757"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1544,512,1665,539"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="890,157,993,184"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="867,604,1016,631"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="857,462,1025,503"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1936,368,2083,395"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1311,183,1458,209"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1115,107,1212,133"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1537,56,1673,83"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1755,107,1873,133"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1771,333,1857,360"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1527,309,1682,336"/>
<area shape="rect" id="node22" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1524,360,1685,387"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1956,255,2063,281"/>
<area shape="rect" id="node18" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1955,173,2064,200"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1763,384,1865,411"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1964,419,2055,445"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1339,107,1431,133"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1107,629,1219,656"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1301,524,1468,551"/>
<area shape="rect" id="node30" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1093,680,1233,707"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1527,563,1683,605"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1339,625,1431,652"/>
<area shape="rect" id="node38" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2131,731,2200,757"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1547,461,1662,488"/>
<area shape="rect" id="node33" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1560,208,1649,235"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1758,259,1870,285"/>
<area shape="rect" id="node36" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1540,883,1669,925"/>
<area shape="rect" id="node39" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1757,680,1871,707"/>
<area shape="rect" id="node41" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1537,731,1672,757"/>
<area shape="rect" id="node37" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1740,883,1888,909"/>
<area shape="rect" id="node40" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1959,680,2059,707"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1753,832,1875,859"/>
<area shape="rect" id="node43" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1952,731,2067,757"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1098,528,1229,555"/>
<area shape="rect" id="node46" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1096,462,1231,503"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="856,360,1027,387"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1075,360,1252,387"/>
<area shape="rect" id="node50" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1300,465,1469,492"/>
</map>
</div>

</div>
</div>
<a id="a97fecf81cbed11a3223cd24040fde860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97fecf81cbed11a3223cd24040fde860">&#9670;&nbsp;</a></span>btrfs_create_block_group_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a>* btrfs_create_block_group_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_cgraph.png" border="0" usemap="#extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_cgraph" alt=""/></div>
<map name="extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_cgraph" id="extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_cgraph">
<area shape="rect" id="node2" href="volumes_8c.html#a642197693d4a9cdedd078bd5c875a06f" title="btrfs_full_stripe_len" alt="" coords="197,107,332,133"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#a016a16cb724e64ea614bab6c9e3cb164" title="set_free_space_tree\l_thresholds" alt="" coords="195,158,335,199"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#aec209aee64785809739538d21193bd63" title="btrfs_init_free_space_ctl" alt="" coords="183,224,347,251"/>
<area shape="rect" id="node15" href="ctree_8h.html#a1ce679168ad9e9c43d77bad222ccb41e" title="btrfs_init_full_stripe\l_locks_tree" alt="" coords="197,275,332,317"/>
<area shape="rect" id="node3" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="411,56,525,83"/>
<area shape="rect" id="node9" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="609,107,728,133"/>
<area shape="rect" id="node11" href="raid56_8h.html#ac5988ea3c9438abdbcc1ff6ca6547381" title="nr_data_stripes" alt="" coords="413,157,523,184"/>
<area shape="rect" id="node4" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="589,56,748,83"/>
<area shape="rect" id="node5" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="796,56,969,83"/>
<area shape="rect" id="node6" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="1028,5,1111,32"/>
<area shape="rect" id="node7" href="btrfs_2extent__map_8c.html#abe5fa1b21db40e4c1ca4226364e4cc80" title="__tree_search" alt="" coords="1017,56,1121,83"/>
<area shape="rect" id="node8" href="btrfs_2extent__map_8h.html#a2ea46678c185fd0d0fdb91c1284cf0fb" title="extent_map_end" alt="" coords="1169,81,1288,108"/>
<area shape="rect" id="node10" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="815,107,951,133"/>
<area shape="rect" id="node12" href="raid56_8h.html#a6c806eda513b3229c0487e00a0959cbc" title="nr_parity_stripes" alt="" coords="609,157,728,184"/>
<area shape="rect" id="node16" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="395,217,541,258"/>
<area shape="rect" id="node18" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="807,257,958,284"/>
<area shape="rect" id="node19" href="ctree_8h.html#a367f73adcc70644e6872b0a7ee3d6c16" title="btrfs_bio_counter_inc\l_noblocked" alt="" coords="395,334,541,375"/>
<area shape="rect" id="node17" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="593,228,744,255"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_icgraph.png" border="0" usemap="#extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_icgraph" alt=""/></div>
<map name="extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_icgraph" id="extent-tree_8c_a97fecf81cbed11a3223cd24040fde860_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="183,661,347,688"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1832,741,1996,768"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="395,535,601,561"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1295,119,1381,145"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="673,447,794,473"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="682,345,785,372"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2413,580,2563,607"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="649,498,817,539"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="865,447,1012,473"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="865,220,1012,247"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="890,345,987,372"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1077,296,1213,323"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1279,271,1397,297"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1068,93,1223,120"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1065,195,1226,221"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1447,93,1553,120"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1445,287,1555,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1854,184,1974,211"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1603,246,1784,287"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1625,311,1761,353"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1631,377,1755,404"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1633,93,1753,120"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1617,716,1769,743"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1626,144,1761,171"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1643,195,1743,221"/>
<area shape="rect" id="node39" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1615,428,1771,455"/>
<area shape="rect" id="node20" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2044,631,2183,657"/>
<area shape="rect" id="node21" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2236,631,2360,657"/>
<area shape="rect" id="node35" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2231,529,2365,556"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2625,681,2737,708"/>
<area shape="rect" id="node34" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2847,420,2917,447"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2799,572,2965,599"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2611,344,2751,371"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2804,674,2960,715"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2836,740,2928,767"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2825,791,2939,817"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2802,623,2962,649"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3029,489,3168,530"/>
<area shape="rect" id="node30" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="3013,572,3184,599"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3232,427,3375,453"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2799,159,2965,185"/>
<area shape="rect" id="node36" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2414,529,2562,556"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1099,347,1191,373"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="873,615,1004,641"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="871,498,1006,539"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1060,713,1231,740"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1070,581,1221,622"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1069,646,1222,687"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1074,529,1217,556"/>
</map>
</div>

</div>
</div>
<a id="adf93feeb3925fb87a313806cf9132865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf93feeb3925fb87a313806cf9132865">&#9670;&nbsp;</a></span>btrfs_create_pending_block_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_create_pending_block_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_adf93feeb3925fb87a313806cf9132865_cgraph.png" border="0" usemap="#extent-tree_8c_adf93feeb3925fb87a313806cf9132865_cgraph" alt=""/></div>
<map name="extent-tree_8c_adf93feeb3925fb87a313806cf9132865_cgraph" id="extent-tree_8c_adf93feeb3925fb87a313806cf9132865_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="632,1325,751,1352"/>
<area shape="rect" id="node37" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="411,1550,539,1591"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="196,1377,345,1418"/>
<area shape="rect" id="node3" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="851,1477,965,1504"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="827,1216,989,1243"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1459,1655,1615,1681"/>
<area shape="rect" id="node35" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="841,1275,975,1301"/>
<area shape="rect" id="node36" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="853,1376,963,1403"/>
<area shape="rect" id="node5" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="1056,1267,1187,1309"/>
<area shape="rect" id="node28" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="1067,1165,1175,1192"/>
<area shape="rect" id="node32" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1483,1380,1591,1407"/>
<area shape="rect" id="node34" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1265,772,1397,799"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1689,924,1811,951"/>
<area shape="rect" id="node15" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1253,1680,1408,1707"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1897,671,2037,697"/>
<area shape="rect" id="node8" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2316,1152,2443,1179"/>
<area shape="rect" id="node9" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="2115,569,2245,596"/>
<area shape="rect" id="node10" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="2308,417,2451,444"/>
<area shape="rect" id="node11" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="2100,975,2260,1001"/>
<area shape="rect" id="node12" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1881,1127,2052,1153"/>
<area shape="rect" id="node13" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1926,367,2007,393"/>
<area shape="rect" id="node14" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1890,823,2043,849"/>
<area shape="rect" id="node16" href="ctree_8h.html#ab7220679f7abf5384e50ac3ab6bf11ea" title="btrfs_cpu_key_to_disk" alt="" coords="1461,1759,1614,1785"/>
<area shape="rect" id="node17" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1696,1836,1804,1863"/>
<area shape="rect" id="node18" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="2103,1544,2257,1571"/>
<area shape="rect" id="node19" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="2325,1456,2433,1483"/>
<area shape="rect" id="node21" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1711,1684,1789,1711"/>
<area shape="rect" id="node22" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1667,1735,1833,1761"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1673,1785,1827,1812"/>
<area shape="rect" id="node26" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1667,1633,1833,1660"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1893,1735,2041,1761"/>
<area shape="rect" id="node25" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1901,1785,2033,1812"/>
<area shape="rect" id="node27" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1924,1633,2009,1660"/>
<area shape="rect" id="node29" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1265,1025,1397,1052"/>
<area shape="rect" id="node30" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1464,772,1611,799"/>
<area shape="rect" id="node31" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="1456,975,1619,1001"/>
<area shape="rect" id="node33" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1705,1431,1795,1457"/>
<area shape="rect" id="node38" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="634,1696,749,1723"/>
<area shape="rect" id="node40" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="849,1696,967,1723"/>
<area shape="rect" id="node42" href="ctree_8h.html#aed5f70301afe4c17a15967e6488789c2" title="btrfs_chunk_item_size" alt="" coords="615,1629,768,1656"/>
<area shape="rect" id="node43" href="volumes_8c.html#a49a8ed4d8c18b4851285e5bacaed3d1f" title="btrfs_update_device" alt="" coords="622,1528,761,1555"/>
<area shape="rect" id="node45" href="volumes_8c.html#a656758cbaddd89b14f7bdb7edd7d590b" title="btrfs_alloc_dev_extent" alt="" coords="615,1427,768,1453"/>
<area shape="rect" id="node46" href="volumes_8c.html#a4863395140c4214c33329273b40e8314" title="btrfs_add_system_chunk" alt="" coords="1037,1771,1205,1797"/>
<area shape="rect" id="node39" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="829,1747,987,1773"/>
<area shape="rect" id="node41" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="1053,1696,1189,1723"/>
<area shape="rect" id="node44" href="ctree_8h.html#aee246031e30a3c186cff4aebe5d458b7" title="btrfs_set_device_total\l_bytes" alt="" coords="833,1630,983,1671"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="393,1082,556,1123"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="605,1115,778,1141"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="604,1064,779,1091"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_adf93feeb3925fb87a313806cf9132865_icgraph.png" border="0" usemap="#extent-tree_8c_adf93feeb3925fb87a313806cf9132865_icgraph" alt=""/></div>
<map name="extent-tree_8c_adf93feeb3925fb87a313806cf9132865_icgraph" id="extent-tree_8c_adf93feeb3925fb87a313806cf9132865_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="617,744,824,771"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1345,1765,1457,1792"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="196,568,351,595"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="409,762,559,803"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="872,879,1041,905"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1099,296,1260,323"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1568,220,1689,247"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1577,93,1680,120"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1105,1816,1254,1843"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="873,930,1041,971"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1545,1765,1712,1792"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1551,1598,1707,1639"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1583,1664,1675,1691"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1571,1335,1686,1361"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1549,1816,1709,1843"/>
<area shape="rect" id="node12" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1772,963,1917,989"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="887,78,1027,119"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1547,17,1711,44"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="407,645,561,686"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="643,652,799,679"/>
<area shape="rect" id="node49" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="625,313,817,340"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="399,492,569,519"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1575,971,1682,997"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1119,1107,1240,1133"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1129,1157,1230,1184"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1134,1208,1225,1235"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1322,1157,1481,1184"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1089,1056,1269,1083"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1094,1360,1265,1387"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1122,1411,1237,1437"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1561,1021,1697,1048"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1111,1461,1248,1488"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1317,1664,1485,1691"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1533,443,1724,469"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1537,552,1720,579"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1128,1563,1231,1589"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1120,499,1239,525"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1119,549,1240,576"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1567,634,1691,675"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1110,651,1249,677"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1545,741,1712,782"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1105,752,1254,779"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1100,803,1259,829"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1559,905,1699,946"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1109,904,1249,931"/>
<area shape="rect" id="node42" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1565,1072,1692,1099"/>
<area shape="rect" id="node43" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1333,363,1469,389"/>
<area shape="rect" id="node45" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1328,853,1475,880"/>
<area shape="rect" id="node46" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="1328,297,1475,338"/>
</map>
</div>

</div>
</div>
<a id="a0e8834945cdbad2bed4f5e54c0dc4bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8834945cdbad2bed4f5e54c0dc4bf4">&#9670;&nbsp;</a></span>btrfs_cross_ref_exist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_cross_ref_exist </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_cgraph.png" border="0" usemap="#extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_cgraph" alt=""/></div>
<map name="extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_cgraph" id="extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="213,355,328,381"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac975f6e8b7b026a13939fb9655b43968" title="check_committed_ref" alt="" coords="197,552,344,579"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="205,405,336,432"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="216,1092,325,1119"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="422,1201,545,1228"/>
<area shape="rect" id="node27" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="883,577,1013,604"/>
<area shape="rect" id="node30" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="871,468,1025,495"/>
<area shape="rect" id="node32" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="419,633,547,674"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="407,515,560,557"/>
<area shape="rect" id="node5" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="657,1201,780,1228"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="878,1113,1018,1140"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="892,1252,1004,1279"/>
<area shape="rect" id="node8" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="631,1151,806,1177"/>
<area shape="rect" id="node9" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="871,1056,1025,1083"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1098,1240,1225,1267"/>
<area shape="rect" id="node11" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="647,1303,790,1329"/>
<area shape="rect" id="node12" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="894,1353,1002,1380"/>
<area shape="rect" id="node13" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="883,973,1013,1000"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="883,1505,1013,1532"/>
<area shape="rect" id="node15" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1090,1809,1233,1836"/>
<area shape="rect" id="node16" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1081,1632,1241,1659"/>
<area shape="rect" id="node17" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="660,999,777,1025"/>
<area shape="rect" id="node18" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="863,1657,1033,1684"/>
<area shape="rect" id="node19" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="674,1708,763,1735"/>
<area shape="rect" id="node20" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="637,1607,801,1633"/>
<area shape="rect" id="node21" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="907,1860,989,1887"/>
<area shape="rect" id="node22" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="642,1404,795,1431"/>
<area shape="rect" id="node23" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="636,831,801,857"/>
<area shape="rect" id="node24" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="649,882,789,923"/>
<area shape="rect" id="node25" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="875,729,1021,756"/>
<area shape="rect" id="node26" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="681,679,756,705"/>
<area shape="rect" id="node29" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1107,476,1215,503"/>
<area shape="rect" id="node28" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1289,527,1388,553"/>
<area shape="rect" id="node31" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1085,425,1238,452"/>
<area shape="rect" id="node33" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="691,628,746,655"/>
<area shape="rect" id="node35" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="665,527,773,553"/>
<area shape="rect" id="node37" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="419,23,547,65"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="411,347,555,373"/>
<area shape="rect" id="node43" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="392,169,575,196"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="416,398,551,439"/>
<area shape="rect" id="node38" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="898,5,998,32"/>
<area shape="rect" id="node40" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="889,333,1007,360"/>
<area shape="rect" id="node41" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="643,297,794,338"/>
<area shape="rect" id="node42" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="643,413,794,440"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="629,93,808,120"/>
<area shape="rect" id="node45" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="627,144,810,171"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="623,195,815,221"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="633,245,805,272"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="655,27,783,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_icgraph.png" border="0" usemap="#extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_icgraph" id="extent-tree_8c_a0e8834945cdbad2bed4f5e54c0dc4bf4_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="233,183,369,209"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="235,107,366,133"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="197,1076,404,1103"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="471,183,601,209"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1304,208,1479,235"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1533,208,1630,235"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="471,107,601,133"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="457,19,615,45"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="668,81,819,108"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1105,81,1237,108"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="884,81,1020,108"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1117,5,1225,32"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="475,1076,597,1103"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="485,436,587,463"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="461,859,611,885"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="452,1127,620,1169"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1318,891,1465,917"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="670,436,817,463"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="695,321,792,348"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="884,335,1020,361"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1111,385,1230,412"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1348,524,1435,551"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="875,524,1029,551"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="871,604,1033,631"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1124,284,1217,311"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1340,377,1443,404"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1528,549,1635,576"/>
<area shape="rect" id="node24" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1527,499,1636,525"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1119,655,1222,681"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1107,487,1234,529"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1125,233,1217,260"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="687,896,799,923"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="869,807,1035,833"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="673,744,813,771"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="874,959,1030,1001"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="906,1025,998,1052"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="895,857,1009,884"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="872,908,1032,935"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1101,833,1240,874"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1085,781,1256,808"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1320,760,1463,787"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="869,655,1035,681"/>
<area shape="rect" id="node43" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="917,756,987,783"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="678,1244,809,1271"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="676,1127,811,1169"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="867,1228,1037,1255"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="877,1279,1027,1321"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="875,1345,1029,1386"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="881,1127,1023,1153"/>
</map>
</div>

</div>
</div>
<a id="a19d26d64ee10ff5e2f0119729665ea2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19d26d64ee10ff5e2f0119729665ea2b">&#9670;&nbsp;</a></span>btrfs_csum_bytes_to_leaves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_csum_bytes_to_leaves </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>csum_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_cgraph.png" border="0" usemap="#extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_cgraph" alt=""/></div>
<map name="extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_cgraph" id="extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="197,5,376,32"/>
<area shape="rect" id="node4" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="208,56,365,83"/>
<area shape="rect" id="node3" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="424,5,611,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_icgraph.png" border="0" usemap="#extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_icgraph" alt=""/></div>
<map name="extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_icgraph" id="extent-tree_8c_a19d26d64ee10ff5e2f0119729665ea2b_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="198,544,351,571"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="197,426,352,467"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="202,1095,347,1137"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="880,537,1020,578"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1125,157,1247,184"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1135,544,1237,571"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1121,427,1251,469"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1124,595,1248,637"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1573,636,1684,663"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1335,157,1481,184"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1335,460,1481,487"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1359,543,1457,569"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1343,405,1473,432"/>
<area shape="rect" id="node11" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1333,987,1483,1013"/>
<area shape="rect" id="node12" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1341,310,1475,351"/>
<area shape="rect" id="node14" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="1319,607,1497,633"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1760,636,1904,663"/>
<area shape="rect" id="node17" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1952,585,2095,612"/>
<area shape="rect" id="node18" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="2143,636,2296,663"/>
<area shape="rect" id="node20" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="847,321,1053,348"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="409,426,549,467"/>
<area shape="rect" id="node32" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="400,492,559,519"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1111,81,1261,108"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1102,310,1270,351"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1352,5,1464,32"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1545,56,1712,83"/>
<area shape="rect" id="node24" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1338,107,1478,133"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="622,489,783,516"/>
<area shape="rect" id="node28" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="877,376,1023,403"/>
<area shape="rect" id="node29" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="877,646,1023,687"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1116,712,1256,739"/>
<area shape="rect" id="node31" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1101,763,1271,805"/>
<area shape="rect" id="node33" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="607,653,799,680"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="405,1125,554,1166"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="405,1277,553,1318"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467" title="btrfs_delalloc_release\l_extents" alt="" coords="629,1066,777,1107"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="875,1196,1025,1223"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="628,935,777,977"/>
<area shape="rect" id="node44" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="883,1247,1017,1289"/>
<area shape="rect" id="node37" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1118,1196,1254,1223"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="877,877,1023,918"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="880,943,1020,969"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="896,1044,1004,1071"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="882,993,1018,1020"/>
<area shape="rect" id="node43" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="866,1095,1034,1121"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="633,1401,772,1428"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="629,1001,777,1042"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1" title="btrfs_write_out_ino\l_cache" alt="" coords="637,1335,769,1377"/>
<area shape="rect" id="node49" href="ordered-data_8h.html#a7556f4c1b2c1b0a82daff84a80b56452" title="btrfs_remove_ordered\l_extent" alt="" coords="629,1453,777,1494"/>
</map>
</div>

</div>
</div>
<a id="ac1fb96e7db9951f59ff16284f410f3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1fb96e7db9951f59ff16284f410f3ae">&#9670;&nbsp;</a></span>btrfs_data_alloc_profile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_data_alloc_profile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_cgraph.png" border="0" usemap="#extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_cgraph" id="extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="209,13,325,39"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="373,5,501,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="549,13,680,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_icgraph.png" border="0" usemap="#extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_icgraph" id="extent-tree_8c_ac1fb96e7db9951f59ff16284f410f3ae_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1093,879,1261,905"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a38da2d78b24b145ef3d4ced0fa2cb04d" title="btrfs_calc_avail_data\l_space" alt="" coords="240,162,385,203"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="209,391,416,417"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="883,134,1039,175"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="1319,851,1453,877"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1541,597,1649,624"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="2312,560,2487,587"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a4687f4645de8ce48e74aeb960f6a19bb" title="btrfs_statfs" alt="" coords="495,99,583,125"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="672,124,819,151"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="478,149,599,176"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1743,484,1845,511"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="464,735,613,761"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="661,442,829,483"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1908,420,2055,447"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1933,521,2030,548"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="2115,445,2251,472"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2340,484,2459,511"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2356,344,2443,371"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="2106,344,2261,371"/>
<area shape="rect" id="node17" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="2103,395,2264,421"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="2137,547,2229,573"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="689,696,801,723"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="877,777,1044,804"/>
<area shape="rect" id="node45" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="675,835,815,861"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="915,625,1007,652"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="903,676,1018,703"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="881,727,1041,753"/>
<area shape="rect" id="node23" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1735,211,1853,237"/>
<area shape="rect" id="node24" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1929,211,2033,237"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1102,302,1253,343"/>
<area shape="rect" id="node26" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1311,95,1461,121"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1321,368,1451,395"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="1311,470,1461,511"/>
<area shape="rect" id="node37" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1319,302,1453,343"/>
<area shape="rect" id="node27" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1527,95,1663,121"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1728,69,1860,96"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1509,328,1680,355"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1519,197,1670,238"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1518,262,1671,303"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="1521,430,1668,471"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="1525,379,1665,405"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="1527,496,1663,523"/>
<area shape="rect" id="node41" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1108,711,1247,753"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1092,777,1263,804"/>
<area shape="rect" id="node42" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1315,745,1457,772"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="877,929,1044,956"/>
<area shape="rect" id="node47" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="926,879,995,905"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="893,559,1028,601"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1106,567,1249,593"/>
</map>
</div>

</div>
</div>
<a id="a5042430ff0e2b119a9e0757957990fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5042430ff0e2b119a9e0757957990fe2">&#9670;&nbsp;</a></span>btrfs_dec_block_group_reservations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_dec_block_group_reservations </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u64&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_cgraph.png" border="0" usemap="#extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_cgraph" id="extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="217,5,347,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="207,71,357,98"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="405,5,568,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="616,13,767,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_icgraph.png" border="0" usemap="#extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_icgraph" id="extent-tree_8c_a5042430ff0e2b119a9e0757957990fe2_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="605,108,795,134"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="422,84,531,110"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="396,185,557,212"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="407,439,546,480"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1259,548,1465,574"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="207,236,348,262"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="850,102,985,129"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1050,92,1201,118"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1297,41,1427,68"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1513,66,1688,93"/>
<area shape="rect" id="node7" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1761,66,1858,93"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="632,46,768,73"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="621,164,779,190"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="863,158,971,185"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="638,690,762,731"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="638,439,762,480"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="858,672,977,698"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1073,722,1177,749"/>
<area shape="rect" id="node17" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="850,774,985,815"/>
<area shape="rect" id="node18" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1058,774,1193,815"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="852,548,983,574"/>
<area shape="rect" id="node40" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="843,442,992,469"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1040,489,1211,516"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1050,540,1201,582"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1049,606,1202,647"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1540,401,1661,428"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1549,453,1652,480"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1526,552,1675,578"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1517,663,1685,704"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1736,352,1883,378"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1736,402,1883,429"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1761,453,1858,480"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1946,314,2082,341"/>
<area shape="rect" id="node29" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2153,393,2240,420"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1937,428,2091,454"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2145,300,2248,326"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1753,504,1865,530"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1931,529,2097,556"/>
<area shape="rect" id="node35" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1739,605,1879,632"/>
<area shape="rect" id="node37" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1742,663,1877,704"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1066,438,1185,465"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1051,286,1200,313"/>
<area shape="rect" id="node44" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1306,396,1418,422"/>
<area shape="rect" id="node45" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1297,446,1427,473"/>
<area shape="rect" id="node46" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1305,345,1419,372"/>
<area shape="rect" id="node47" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1560,349,1641,376"/>
<area shape="rect" id="node48" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1563,245,1638,272"/>
<area shape="rect" id="node49" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1302,244,1422,270"/>
<area shape="rect" id="node50" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1311,294,1413,321"/>
</map>
</div>

</div>
</div>
<a id="ab5ccbcd275eeabfbf20ae1e9467a9474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ccbcd275eeabfbf20ae1e9467a9474">&#9670;&nbsp;</a></span>btrfs_dec_block_group_ro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_dec_block_group_ro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab5ccbcd275eeabfbf20ae1e9467a9474_icgraph.png" border="0" usemap="#extent-tree_8c_ab5ccbcd275eeabfbf20ae1e9467a9474_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab5ccbcd275eeabfbf20ae1e9467a9474_icgraph" id="extent-tree_8c_ab5ccbcd275eeabfbf20ae1e9467a9474_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="224,353,391,380"/>
<area shape="rect" id="node34" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1335,723,1473,765"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1319,543,1489,569"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1136,441,1239,468"/>
<area shape="rect" id="node7" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="439,429,645,456"/>
<area shape="rect" id="node48" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="485,188,599,215"/>
<area shape="rect" id="node49" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="938,239,1027,265"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1789,441,1879,468"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1331,391,1477,417"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1985,392,2095,419"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="717,441,838,468"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="726,391,829,417"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="703,580,852,607"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="693,687,861,729"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="909,340,1056,367"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="934,391,1031,417"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1144,239,1231,265"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1351,289,1457,316"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1349,208,1459,235"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1774,391,1894,417"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1537,259,1719,301"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1560,325,1696,366"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1566,56,1690,83"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1568,107,1688,133"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1552,157,1704,184"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1561,208,1695,235"/>
<area shape="rect" id="node21" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1578,492,1678,519"/>
<area shape="rect" id="node28" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1550,5,1706,32"/>
<area shape="rect" id="node22" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1777,525,1891,552"/>
<area shape="rect" id="node23" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1992,663,2088,689"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1961,561,2119,588"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1949,445,2131,486"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1981,511,2099,537"/>
<area shape="rect" id="node24" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="2179,663,2327,689"/>
<area shape="rect" id="node29" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2375,739,2444,765"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="927,543,1039,569"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1104,568,1271,595"/>
<area shape="rect" id="node44" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1117,655,1257,681"/>
<area shape="rect" id="node35" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1557,731,1699,757"/>
<area shape="rect" id="node36" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1769,862,1899,903"/>
<area shape="rect" id="node38" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1983,713,2097,740"/>
<area shape="rect" id="node40" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1767,764,1901,791"/>
<area shape="rect" id="node37" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2179,903,2327,929"/>
<area shape="rect" id="node39" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="2203,713,2303,740"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1979,815,2101,841"/>
<area shape="rect" id="node42" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="2195,827,2310,853"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="917,695,1048,721"/>
<area shape="rect" id="node47" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1120,737,1255,778"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1131,340,1243,367"/>
</map>
</div>

</div>
</div>
<a id="a7b89d293c884b9014958a872e807f461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b89d293c884b9014958a872e807f461">&#9670;&nbsp;</a></span>btrfs_dec_nocow_writers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_dec_nocow_writers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7b89d293c884b9014958a872e807f461_cgraph.png" border="0" usemap="#extent-tree_8c_a7b89d293c884b9014958a872e807f461_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7b89d293c884b9014958a872e807f461_cgraph" id="extent-tree_8c_a7b89d293c884b9014958a872e807f461_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="230,5,361,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="220,71,371,98"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="419,5,581,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="629,13,780,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7b89d293c884b9014958a872e807f461_icgraph.png" border="0" usemap="#extent-tree_8c_a7b89d293c884b9014958a872e807f461_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7b89d293c884b9014958a872e807f461_icgraph" id="extent-tree_8c_a7b89d293c884b9014958a872e807f461_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="255,5,391,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="245,56,402,83"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="220,680,427,707"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="484,5,615,32"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1321,81,1496,108"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1581,81,1678,108"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="495,56,603,83"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="489,629,610,656"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="498,309,601,336"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="475,781,624,808"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="672,1101,840,1142"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1335,579,1482,605"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="683,309,829,336"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="707,195,805,221"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="903,208,1039,235"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1129,259,1247,285"/>
<area shape="rect" id="node18" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1365,397,1452,424"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="894,412,1049,439"/>
<area shape="rect" id="node24" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="891,492,1052,519"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1141,157,1235,184"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1357,208,1460,235"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1574,233,1685,260"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1576,423,1683,449"/>
<area shape="rect" id="node20" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1575,372,1684,399"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1137,528,1239,555"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1125,361,1251,402"/>
<area shape="rect" id="node25" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1361,759,1457,785"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1142,107,1234,133"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="700,908,812,935"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="888,832,1055,859"/>
<area shape="rect" id="node45" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="686,731,826,757"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="893,1035,1049,1077"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="925,933,1017,960"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="914,984,1029,1011"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="891,883,1051,909"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1129,948,1247,975"/>
<area shape="rect" id="node32" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1357,973,1461,1000"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1113,1050,1263,1091"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1343,1167,1474,1193"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1544,1188,1715,1215"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1554,1250,1705,1291"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1553,897,1706,938"/>
<area shape="rect" id="node41" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1119,882,1257,923"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1103,831,1273,857"/>
<area shape="rect" id="node42" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1337,863,1480,889"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="888,579,1055,605"/>
<area shape="rect" id="node47" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="937,731,1006,757"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="904,1101,1039,1142"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1117,1116,1259,1143"/>
</map>
</div>

</div>
</div>
<a id="a8356881002980ed9b5559c711f40aee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8356881002980ed9b5559c711f40aee3">&#9670;&nbsp;</a></span>btrfs_dec_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_dec_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_backref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8356881002980ed9b5559c711f40aee3_cgraph.png" border="0" usemap="#extent-tree_8c_a8356881002980ed9b5559c711f40aee3_cgraph" alt=""/></div>
<map name="extent-tree_8c_a8356881002980ed9b5559c711f40aee3_cgraph" id="extent-tree_8c_a8356881002980ed9b5559c711f40aee3_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="152,429,268,456"/>
<area shape="rect" id="node3" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="555,127,665,153"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="325,429,462,456"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="333,379,453,405"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="316,581,471,608"/>
<area shape="rect" id="node50" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="325,632,461,659"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="545,644,675,671"/>
<area shape="rect" id="node17" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="521,303,699,329"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="519,379,701,405"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="547,429,673,456"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="965,796,1104,823"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="767,543,884,569"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="975,635,1094,661"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="761,897,889,924"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="975,847,1094,873"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="758,644,893,671"/>
<area shape="rect" id="node14" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="769,695,881,721"/>
<area shape="rect" id="node16" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="763,745,888,772"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="971,584,1099,611"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="1182,796,1318,823"/>
<area shape="rect" id="node15" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="993,695,1076,721"/>
<area shape="rect" id="node18" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="999,299,1071,325"/>
<area shape="rect" id="node19" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="749,441,901,468"/>
<area shape="rect" id="node24" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="752,239,899,265"/>
<area shape="rect" id="node29" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="760,173,891,214"/>
<area shape="rect" id="node20" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="969,467,1100,509"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="989,533,1080,560"/>
<area shape="rect" id="node22" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="949,416,1120,443"/>
<area shape="rect" id="node23" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1185,409,1315,450"/>
<area shape="rect" id="node25" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="967,182,1102,223"/>
<area shape="rect" id="node26" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="971,248,1099,275"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="1209,273,1291,300"/>
<area shape="rect" id="node28" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1189,223,1311,249"/>
<area shape="rect" id="node30" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="969,131,1101,157"/>
<area shape="rect" id="node31" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1168,131,1332,157"/>
<area shape="rect" id="node33" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="751,391,900,417"/>
<area shape="rect" id="node34" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="967,350,1102,391"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="762,492,889,519"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="553,177,667,204"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="760,107,891,149"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="765,5,885,32"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="750,56,901,83"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="953,65,1116,106"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1175,72,1325,99"/>
<area shape="rect" id="node43" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="977,5,1092,32"/>
<area shape="rect" id="node46" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="556,695,664,721"/>
<area shape="rect" id="node49" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="533,745,687,772"/>
<area shape="rect" id="node47" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="776,948,875,975"/>
<area shape="rect" id="node48" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="965,948,1104,975"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8356881002980ed9b5559c711f40aee3_icgraph.png" border="0" usemap="#extent-tree_8c_a8356881002980ed9b5559c711f40aee3_icgraph" alt=""/></div>
<map name="extent-tree_8c_a8356881002980ed9b5559c711f40aee3_icgraph" id="extent-tree_8c_a8356881002980ed9b5559c711f40aee3_icgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="187,359,323,385"/>
<area shape="rect" id="node25" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="152,817,359,844"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="196,245,315,272"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="204,163,307,189"/>
<area shape="rect" id="node3" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="425,375,556,401"/>
<area shape="rect" id="node4" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="637,375,755,401"/>
<area shape="rect" id="node24" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="632,535,760,561"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="852,231,953,257"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="826,332,979,359"/>
<area shape="rect" id="node7" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="841,585,964,612"/>
<area shape="rect" id="node15" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1073,433,1169,460"/>
<area shape="rect" id="node16" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1274,433,1397,460"/>
<area shape="rect" id="node17" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1072,281,1171,308"/>
<area shape="rect" id="node20" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="847,433,958,460"/>
<area shape="rect" id="node21" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="851,484,954,511"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="825,535,981,561"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="817,180,988,207"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1048,687,1195,713"/>
<area shape="rect" id="node13" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1255,585,1416,612"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1051,79,1191,105"/>
<area shape="rect" id="node18" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1036,1007,1207,1033"/>
<area shape="rect" id="node19" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1053,636,1189,663"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1267,737,1403,764"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1464,763,1583,789"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1480,636,1567,663"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1258,687,1413,713"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="430,1083,551,1109"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="439,737,542,764"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="416,981,565,1008"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="407,839,575,881"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="623,1108,769,1135"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="647,737,745,764"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="857,737,949,764"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="640,1057,752,1084"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="819,1007,986,1033"/>
<area shape="rect" id="node40" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="626,956,766,983"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="825,1109,981,1150"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="857,1175,949,1201"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="845,1225,960,1252"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="823,1057,983,1084"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1052,1058,1191,1099"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1264,1011,1407,1037"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="819,796,986,823"/>
<area shape="rect" id="node42" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="868,905,937,932"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="631,839,761,865"/>
<area shape="rect" id="node45" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="629,890,763,931"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="638,79,754,105"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="837,28,968,55"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="647,28,745,55"/>
</map>
</div>

</div>
</div>
<a id="a6370dfd93e82cb93d6344859133b4467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6370dfd93e82cb93d6344859133b4467">&#9670;&nbsp;</a></span>btrfs_delalloc_release_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_delalloc_release_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>qgroup_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>btrfs_delalloc_release_extents - release our outstanding_extents : the inode to balance the reservation for. : the number of bytes we originally reserved with : do we need to free qgroup meta reservation or convert them.</p>
<p>When we reserve space we increase outstanding_extents for the extents we may add. Once we've set the range as delalloc or created our ordered extents we have outstanding_extents to track the real usage, so we use this to free our temporarily tracked outstanding_extents. This <em>must</em> be used in conjunction with btrfs_delalloc_reserve_metadata. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_cgraph.png" border="0" usemap="#extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_cgraph" id="extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="247,383,316,409"/>
<area shape="rect" id="node3" href="ctree_8h.html#a9008b08bd86bea90e107049f3b23b06b" title="count_max_extents" alt="" coords="213,433,349,460"/>
<area shape="rect" id="node4" href="btrfs__inode_8h.html#a36a6c94cdf8beaf463c2743f6112633d" title="btrfs_mod_outstanding\l_extents" alt="" coords="204,485,359,526"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="209,657,354,698"/>
<area shape="rect" id="node13" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="226,723,337,749"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="201,551,361,577"/>
<area shape="rect" id="node5" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="445,354,581,395"/>
<area shape="rect" id="node6" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="717,361,789,388"/>
<area shape="rect" id="node8" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="409,689,616,716"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="441,866,585,907"/>
<area shape="rect" id="node10" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="664,873,843,900"/>
<area shape="rect" id="node12" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="675,924,832,951"/>
<area shape="rect" id="node11" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="891,912,1077,939"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="429,521,596,548"/>
<area shape="rect" id="node23" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="433,573,592,614"/>
<area shape="rect" id="node50" href="qgroup_8c.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="681,786,825,827"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="685,413,822,454"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1125,5,1279,32"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="925,129,1043,156"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1136,122,1268,163"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1131,187,1273,229"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1129,57,1275,98"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1339,163,1455,189"/>
<area shape="rect" id="node24" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="667,717,840,744"/>
<area shape="rect" id="node38" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="674,638,833,679"/>
<area shape="rect" id="node39" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="681,573,825,614"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="685,478,821,519"/>
<area shape="rect" id="node25" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1166,811,1238,837"/>
<area shape="rect" id="node26" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="917,811,1051,837"/>
<area shape="rect" id="node27" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="901,608,1067,635"/>
<area shape="rect" id="node28" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="1149,507,1255,533"/>
<area shape="rect" id="node29" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="1161,709,1243,736"/>
<area shape="rect" id="node32" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1165,760,1239,787"/>
<area shape="rect" id="node34" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="1149,557,1255,584"/>
<area shape="rect" id="node35" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1163,405,1241,432"/>
<area shape="rect" id="node36" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="1127,608,1277,635"/>
<area shape="rect" id="node37" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="1135,659,1269,685"/>
<area shape="rect" id="node30" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1349,487,1444,513"/>
<area shape="rect" id="node31" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1361,633,1432,660"/>
<area shape="rect" id="node33" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1338,760,1455,787"/>
<area shape="rect" id="node40" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="911,557,1057,584"/>
<area shape="rect" id="node41" href="qgroup_8c.html#aa5412fcf70bd70125313f34bbd217989" title="qgroup_rsv_add" alt="" coords="1145,456,1259,483"/>
<area shape="rect" id="node43" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="909,456,1059,483"/>
<area shape="rect" id="node44" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="902,405,1066,432"/>
<area shape="rect" id="node48" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="945,355,1023,381"/>
<area shape="rect" id="node49" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="897,304,1071,331"/>
<area shape="rect" id="node45" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="1138,253,1266,280"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1333,233,1461,260"/>
<area shape="rect" id="node47" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1327,284,1467,311"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_icgraph.png" border="0" usemap="#extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_icgraph" id="extent-tree_8c_a6370dfd93e82cb93d6344859133b4467_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="210,56,361,83"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="212,259,359,301"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="215,381,355,408"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="231,140,339,167"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="217,432,353,459"/>
<area shape="rect" id="node27" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="211,559,360,585"/>
<area shape="rect" id="node45" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="201,761,369,788"/>
<area shape="rect" id="node49" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="439,1163,574,1205"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="439,5,575,32"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="665,56,797,83"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="417,183,596,209"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1095,208,1269,235"/>
<area shape="rect" id="node8" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1317,208,1415,235"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="446,483,567,509"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="679,457,783,484"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="447,432,566,459"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="442,268,571,295"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="455,331,558,357"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="683,268,780,295"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="673,211,790,237"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="911,259,1003,285"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="882,208,1031,235"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="658,407,805,433"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="889,411,1025,437"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1123,411,1241,437"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1139,613,1225,640"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="879,563,1034,589"/>
<area shape="rect" id="node24" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="876,613,1037,640"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="447,816,566,843"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="644,867,819,893"/>
<area shape="rect" id="node31" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="647,816,816,843"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="871,1171,1042,1197"/>
<area shape="rect" id="node32" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="903,360,1010,387"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="896,664,1017,691"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="896,715,1017,741"/>
<area shape="rect" id="node35" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="906,765,1007,792"/>
<area shape="rect" id="node36" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="911,816,1002,843"/>
<area shape="rect" id="node37" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1103,1069,1261,1096"/>
<area shape="rect" id="node38" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="867,1120,1047,1147"/>
<area shape="rect" id="node39" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="871,917,1042,944"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="899,867,1014,893"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="889,968,1025,995"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="888,1069,1025,1096"/>
<area shape="rect" id="node43" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="884,1221,1029,1248"/>
<area shape="rect" id="node44" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1113,1214,1251,1255"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="449,917,564,944"/>
<area shape="rect" id="node47" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="666,969,797,1010"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="670,917,793,944"/>
<area shape="rect" id="node50" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="660,1221,803,1248"/>
</map>
</div>

</div>
</div>
<a id="a0c8cfb606b59e7400b722b0101cd7ff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c8cfb606b59e7400b722b0101cd7ff7">&#9670;&nbsp;</a></span>btrfs_delalloc_release_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_delalloc_release_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>qgroup_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>btrfs_delalloc_release_metadata - release a metadata reservation for an inode : the inode to release the reservation for. : the number of bytes we are releasing. : free qgroup reservation or convert it to per-trans reservation</p>
<p>This will release the metadata reservation for an inode. This can be called once we complete IO for a given set of bytes to release their metadata reservations, or on error for the same reason. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_cgraph.png" border="0" usemap="#extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_cgraph" alt=""/></div>
<map name="extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_cgraph" id="extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="247,29,316,56"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="209,81,354,122"/>
<area shape="rect" id="node9" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="226,147,337,173"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="201,364,361,391"/>
<area shape="rect" id="node4" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="409,29,616,56"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="441,81,585,122"/>
<area shape="rect" id="node6" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="664,19,843,45"/>
<area shape="rect" id="node8" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="675,88,832,115"/>
<area shape="rect" id="node7" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="891,5,1077,32"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="429,415,596,441"/>
<area shape="rect" id="node19" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="477,465,549,492"/>
<area shape="rect" id="node20" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="433,295,592,337"/>
<area shape="rect" id="node50" href="qgroup_8c.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="681,361,825,402"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="685,799,822,841"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1125,912,1279,939"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="925,807,1043,833"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1136,781,1268,822"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1131,846,1273,887"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1129,715,1275,757"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1333,835,1449,861"/>
<area shape="rect" id="node21" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="667,244,840,271"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="674,178,833,219"/>
<area shape="rect" id="node36" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="681,295,825,337"/>
<area shape="rect" id="node39" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="685,467,821,509"/>
<area shape="rect" id="node22" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1166,107,1238,133"/>
<area shape="rect" id="node23" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="917,309,1051,336"/>
<area shape="rect" id="node24" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="901,259,1067,285"/>
<area shape="rect" id="node25" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="1149,157,1255,184"/>
<area shape="rect" id="node26" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="1161,360,1243,387"/>
<area shape="rect" id="node29" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1165,208,1239,235"/>
<area shape="rect" id="node31" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="1149,259,1255,285"/>
<area shape="rect" id="node32" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1163,512,1241,539"/>
<area shape="rect" id="node33" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="1127,309,1277,336"/>
<area shape="rect" id="node34" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="1135,411,1269,437"/>
<area shape="rect" id="node27" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1343,487,1438,513"/>
<area shape="rect" id="node28" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1355,411,1426,437"/>
<area shape="rect" id="node30" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1332,208,1449,235"/>
<area shape="rect" id="node37" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="911,360,1057,387"/>
<area shape="rect" id="node38" href="qgroup_8c.html#aa5412fcf70bd70125313f34bbd217989" title="qgroup_rsv_add" alt="" coords="1145,461,1259,488"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="909,424,1059,451"/>
<area shape="rect" id="node41" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="902,659,1066,685"/>
<area shape="rect" id="node48" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="945,475,1023,501"/>
<area shape="rect" id="node49" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="897,601,1071,628"/>
<area shape="rect" id="node42" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="1138,664,1266,691"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1327,715,1455,741"/>
<area shape="rect" id="node44" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1503,664,1643,691"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1329,765,1452,792"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a69da98b4b5fc8b28b435f40f0b3ae3d7" title="tree_search" alt="" coords="1345,613,1436,640"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="1349,664,1432,691"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_icgraph.png" border="0" usemap="#extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_icgraph" id="extent-tree_8c_a0c8cfb606b59e7400b722b0101cd7ff7_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="406,107,557,133"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="206,536,345,563"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="201,335,349,377"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1" title="btrfs_write_out_ino\l_cache" alt="" coords="209,759,341,801"/>
<area shape="rect" id="node39" href="ordered-data_8h.html#a7556f4c1b2c1b0a82daff84a80b56452" title="btrfs_remove_ordered\l_extent" alt="" coords="201,647,349,689"/>
<area shape="rect" id="node49" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="614,849,749,890"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="613,5,749,32"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="819,56,951,83"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1223,477,1397,504"/>
<area shape="rect" id="node7" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1468,477,1565,504"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="411,233,551,260"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1043,477,1151,504"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="413,317,549,344"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="397,368,565,395"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="621,157,742,184"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="833,157,937,184"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="622,208,741,235"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="617,107,746,133"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="630,309,733,336"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="836,259,933,285"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="826,107,943,133"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1051,368,1143,395"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="1023,107,1172,133"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="811,208,958,235"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1029,309,1165,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1251,309,1369,336"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1267,183,1353,209"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1020,157,1175,184"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="624,368,739,395"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="819,310,950,351"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="823,376,946,403"/>
<area shape="rect" id="node31" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="407,797,556,824"/>
<area shape="rect" id="node32" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="622,797,741,824"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="797,797,972,824"/>
<area shape="rect" id="node34" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="800,747,969,773"/>
<area shape="rect" id="node35" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1025,848,1170,875"/>
<area shape="rect" id="node36" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1241,841,1379,882"/>
<area shape="rect" id="node37" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1469,873,1565,900"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1445,823,1588,849"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="405,629,558,656"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a172104c6e25b34821b4b087249fe414b" title="btrfs_destroy_inode" alt="" coords="413,747,549,773"/>
<area shape="rect" id="node47" href="ordered-data_8h.html#ad20568759956e45d96b5e95a067f4eb1" title="btrfs_ordered_inode\l_tree_init" alt="" coords="413,681,549,722"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="621,595,742,621"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1028,645,1167,672"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#aac5aef8a21ce5455c61f13972f3a402b" title="btrfs_writepage_end\l_io_hook" alt="" coords="1028,529,1167,570"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a8bdc721b2c1931ee9b25e8d3ee83aa92" title="__endio_write_update\l_ordered" alt="" coords="811,529,959,570"/>
<area shape="rect" id="node46" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="811,696,958,723"/>
<area shape="rect" id="node48" href="btrfs_2inode_8c.html#aca4351c60d0a69aec44c5b83c58eeab1" title="btrfs_alloc_inode" alt="" coords="621,696,741,723"/>
<area shape="rect" id="node50" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="813,899,956,925"/>
</map>
</div>

</div>
</div>
<a id="a802b991282328074f769f877ed5a4c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802b991282328074f769f877ed5a4c47">&#9670;&nbsp;</a></span>btrfs_delalloc_release_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_delalloc_release_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__changeset.html">extent_changeset</a> *&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>qgroup_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>btrfs_delalloc_release_space - release data and metadata space for delalloc : inode we're releasing space for : start position of the space already reserved : the len of the space already reserved : the len of the space we consumed or didn't use</p>
<p>This function will release the metadata space that was not used and will decrement -&gt;delalloc_bytes and remove it from the fs_info delalloc_inodes list if there are no delalloc bytes left. Also it will handle the qgroup reserved space. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a802b991282328074f769f877ed5a4c47_cgraph.png" border="0" usemap="#extent-tree_8c_a802b991282328074f769f877ed5a4c47_cgraph" alt=""/></div>
<map name="extent-tree_8c_a802b991282328074f769f877ed5a4c47_cgraph" id="extent-tree_8c_a802b991282328074f769f877ed5a4c47_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="201,530,349,571"/>
<area shape="rect" id="node43" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1141,93,1219,120"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#af5493ecbdd23a2cf646a8cc4c2836229" title="btrfs_free_reserved\l_data_space" alt="" coords="208,199,343,241"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="674,340,743,367"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="405,755,550,797"/>
<area shape="rect" id="node10" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="422,537,533,564"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="397,600,557,627"/>
<area shape="rect" id="node5" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="605,763,812,789"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="637,847,781,889"/>
<area shape="rect" id="node7" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="860,855,1039,881"/>
<area shape="rect" id="node9" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="871,905,1028,932"/>
<area shape="rect" id="node8" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1087,876,1273,903"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="625,651,792,677"/>
<area shape="rect" id="node19" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="673,701,745,728"/>
<area shape="rect" id="node20" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="629,529,788,570"/>
<area shape="rect" id="node45" href="qgroup_8c.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="877,653,1021,694"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="881,767,1018,809"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1321,899,1475,925"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1121,775,1239,801"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1332,833,1464,874"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1327,702,1469,743"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1325,767,1471,809"/>
<area shape="rect" id="node21" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="863,536,1036,563"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="870,470,1029,511"/>
<area shape="rect" id="node36" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="877,587,1021,629"/>
<area shape="rect" id="node39" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="881,297,1017,338"/>
<area shape="rect" id="node22" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1362,651,1434,677"/>
<area shape="rect" id="node23" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="1113,600,1247,627"/>
<area shape="rect" id="node24" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="1097,397,1263,424"/>
<area shape="rect" id="node25" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="1345,549,1451,576"/>
<area shape="rect" id="node26" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="1357,397,1439,424"/>
<area shape="rect" id="node29" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1361,448,1435,475"/>
<area shape="rect" id="node31" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="1345,499,1451,525"/>
<area shape="rect" id="node32" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1359,245,1437,272"/>
<area shape="rect" id="node33" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="1323,296,1473,323"/>
<area shape="rect" id="node34" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="1331,347,1465,373"/>
<area shape="rect" id="node27" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1534,157,1629,184"/>
<area shape="rect" id="node28" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1546,335,1617,361"/>
<area shape="rect" id="node30" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1523,448,1640,475"/>
<area shape="rect" id="node37" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="1107,448,1253,475"/>
<area shape="rect" id="node38" href="qgroup_8c.html#aa5412fcf70bd70125313f34bbd217989" title="qgroup_rsv_add" alt="" coords="1341,600,1455,627"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="1105,296,1255,323"/>
<area shape="rect" id="node41" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="1098,195,1262,221"/>
<area shape="rect" id="node44" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="1093,144,1267,171"/>
<area shape="rect" id="node42" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="1334,144,1462,171"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2" title="btrfs_free_reserved\l_data_space_noquota" alt="" coords="403,281,552,322"/>
<area shape="rect" id="node48" href="qgroup_8c.html#aac782519743d0904887086fb774622b7" title="btrfs_qgroup_free_data" alt="" coords="400,207,555,233"/>
<area shape="rect" id="node49" href="qgroup_8c.html#a3e109c3974d11e0175260a7396be7ec1" title="__btrfs_qgroup_release_data" alt="" coords="614,207,803,233"/>
<area shape="rect" id="node50" href="qgroup_8c.html#ad44309312efd0179f52911e94e5fa1e3" title="qgroup_free_reserved_data" alt="" coords="860,245,1039,272"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a802b991282328074f769f877ed5a4c47_icgraph.png" border="0" usemap="#extent-tree_8c_a802b991282328074f769f877ed5a4c47_icgraph" alt=""/></div>
<map name="extent-tree_8c_a802b991282328074f769f877ed5a4c47_icgraph" id="extent-tree_8c_a802b991282328074f769f877ed5a4c47_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="210,99,361,125"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="215,276,355,303"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="231,457,339,484"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="217,508,353,535"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="201,407,369,433"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="417,99,553,125"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="609,99,741,125"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="425,149,546,176"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="623,200,727,227"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="426,200,545,227"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="421,301,550,328"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="434,352,537,379"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="626,352,723,379"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="616,251,733,277"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="831,487,923,513"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1180,621,1355,648"/>
<area shape="rect" id="node13" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1435,621,1532,648"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="802,5,951,32"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="601,301,748,328"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="809,301,945,328"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1009,200,1128,227"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1775,360,1861,387"/>
<area shape="rect" id="node35" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="799,251,954,277"/>
<area shape="rect" id="node43" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="796,385,957,412"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1022,469,1115,496"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1216,309,1319,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1428,233,1539,260"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1911,248,2017,275"/>
<area shape="rect" id="node26" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1909,385,2019,412"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2296,185,2416,212"/>
<area shape="rect" id="node27" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2067,313,2248,354"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2089,378,2225,419"/>
<area shape="rect" id="node29" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2095,444,2219,471"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2097,495,2217,521"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2081,545,2233,572"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2090,596,2225,623"/>
<area shape="rect" id="node33" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2107,261,2207,288"/>
<area shape="rect" id="node34" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="2079,211,2235,237"/>
<area shape="rect" id="node36" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1017,251,1120,277"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1005,353,1132,394"/>
<area shape="rect" id="node37" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1222,208,1313,235"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1194,259,1341,285"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="1202,411,1333,453"/>
<area shape="rect" id="node41" href="btrfs_2file_8c.html#a66337bd0af5a1ea31b51ec2d4f4df377" title="btrfs_run_defrag_inodes" alt="" coords="1403,415,1564,441"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1612,413,1727,440"/>
<area shape="rect" id="node44" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1021,520,1117,547"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="617,621,732,648"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="815,672,938,699"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1029,672,1108,699"/>
</map>
</div>

</div>
</div>
<a id="a218114d622e5d36a5a15bfe77acbc927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a218114d622e5d36a5a15bfe77acbc927">&#9670;&nbsp;</a></span>btrfs_delalloc_reserve_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_delalloc_reserve_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_cgraph.png" border="0" usemap="#extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_cgraph" alt=""/></div>
<map name="extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_cgraph" id="extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="248,84,317,111"/>
<area shape="rect" id="node3" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="446,55,582,97"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#aa99097bef905d7c2ec959edcd9d9f6ed" title="btrfs_transaction_in\l_commit" alt="" coords="215,426,351,467"/>
<area shape="rect" id="node6" href="ctree_8h.html#a9008b08bd86bea90e107049f3b23b06b" title="count_max_extents" alt="" coords="215,492,351,519"/>
<area shape="rect" id="node7" href="btrfs__inode_8h.html#a36a6c94cdf8beaf463c2743f6112633d" title="btrfs_mod_outstanding\l_extents" alt="" coords="205,186,360,227"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="210,797,355,838"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="211,324,354,351"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="203,375,363,401"/>
<area shape="rect" id="node4" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="727,119,799,145"/>
<area shape="rect" id="node9" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="411,804,617,831"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="442,1058,586,1099"/>
<area shape="rect" id="node11" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="673,1163,852,1189"/>
<area shape="rect" id="node13" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="684,1065,841,1092"/>
<area shape="rect" id="node12" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="908,1187,1095,1213"/>
<area shape="rect" id="node15" href="qgroup_8h.html#a71ec3f08b811ab3f74b12653d26ad4a8" title="btrfs_qgroup_reserve\l_meta_prealloc" alt="" coords="442,470,586,511"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="431,324,597,351"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="441,223,587,249"/>
<area shape="rect" id="node38" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="435,573,593,614"/>
<area shape="rect" id="node16" href="qgroup_8h.html#aae8e4d4d33f79ca4ab6c4db32947ad61" title="__btrfs_qgroup_reserve_meta" alt="" coords="665,477,860,504"/>
<area shape="rect" id="node24" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="676,609,849,636"/>
<area shape="rect" id="node17" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1183,629,1255,656"/>
<area shape="rect" id="node18" href="qgroup_8c.html#a19fb0d4d29407e3e159f137f46b262d6" title="qgroup_reserve" alt="" coords="946,731,1057,757"/>
<area shape="rect" id="node23" href="qgroup_8c.html#adff9e44760042a00a479101ac7d3a71e" title="add_root_meta_rsv" alt="" coords="935,427,1068,453"/>
<area shape="rect" id="node19" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="1166,731,1273,757"/>
<area shape="rect" id="node20" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="1179,781,1260,808"/>
<area shape="rect" id="node21" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1182,832,1257,859"/>
<area shape="rect" id="node22" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1180,883,1259,909"/>
<area shape="rect" id="node25" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="935,832,1068,859"/>
<area shape="rect" id="node26" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="918,781,1085,808"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="693,271,833,313"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="690,220,835,247"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="701,169,825,196"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1143,300,1296,327"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="942,325,1061,352"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="920,107,1083,133"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="934,157,1069,184"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="916,209,1087,250"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="922,5,1081,32"/>
<area shape="rect" id="node39" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="683,543,842,585"/>
<area shape="rect" id="node40" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="691,689,835,730"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="695,977,831,1018"/>
<area shape="rect" id="node41" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="928,883,1075,909"/>
<area shape="rect" id="node43" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="927,984,1076,1011"/>
<area shape="rect" id="node44" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="919,1035,1083,1061"/>
<area shape="rect" id="node45" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="963,1085,1040,1112"/>
<area shape="rect" id="node46" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="914,933,1089,960"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="431,375,597,401"/>
<area shape="rect" id="node50" href="qgroup_8c.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="691,810,835,851"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="694,367,831,409"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_icgraph.png" border="0" usemap="#extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_icgraph" alt=""/></div>
<map name="extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_icgraph" id="extent-tree_8c_a218114d622e5d36a5a15bfe77acbc927_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="409,56,559,83"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="203,349,352,390"/>
<area shape="rect" id="node49" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="638,926,773,967"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="637,56,773,83"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="864,5,996,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="411,386,557,427"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="414,325,554,352"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="430,469,538,496"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="416,224,552,251"/>
<area shape="rect" id="node29" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="409,596,559,623"/>
<area shape="rect" id="node45" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="400,275,568,301"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="616,427,795,453"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1293,452,1468,479"/>
<area shape="rect" id="node9" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1539,452,1636,479"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="645,325,766,352"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="878,325,982,352"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="646,376,765,403"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="641,224,770,251"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="654,173,757,200"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="881,224,979,251"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="871,275,989,301"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1109,224,1201,251"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="1081,275,1230,301"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="857,173,1003,200"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1087,21,1223,48"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1321,72,1440,99"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1337,173,1424,200"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1078,123,1233,149"/>
<area shape="rect" id="node25" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1075,376,1236,403"/>
<area shape="rect" id="node26" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1539,608,1635,635"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="646,680,765,707"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="843,807,1017,833"/>
<area shape="rect" id="node33" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="845,680,1015,707"/>
<area shape="rect" id="node32" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1070,933,1241,960"/>
<area shape="rect" id="node34" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1102,528,1209,555"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1095,629,1216,656"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1095,680,1216,707"/>
<area shape="rect" id="node37" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1105,781,1206,808"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1110,832,1201,859"/>
<area shape="rect" id="node39" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1301,779,1460,805"/>
<area shape="rect" id="node40" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1065,883,1245,909"/>
<area shape="rect" id="node41" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1070,579,1241,605"/>
<area shape="rect" id="node42" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1083,984,1228,1011"/>
<area shape="rect" id="node43" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1311,927,1450,969"/>
<area shape="rect" id="node44" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1516,935,1659,961"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="648,115,763,141"/>
<area shape="rect" id="node47" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="865,107,995,149"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="869,56,991,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="859,933,1001,960"/>
</map>
</div>

</div>
</div>
<a id="ab65c77e665d28664c6c98b6b603d3e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65c77e665d28664c6c98b6b603d3e12">&#9670;&nbsp;</a></span>btrfs_delalloc_reserve_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_delalloc_reserve_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__changeset.html">extent_changeset</a> **&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>btrfs_delalloc_reserve_space - reserve data and metadata space for delalloc : inode we're writing to : start range we are writing to : how long the range we are writing to : mandatory parameter, record actually reserved qgroup ranges of current reservation.</p>
<p>This will do the following things</p>
<p>o reserve space in data space info for num bytes and reserve precious corresponding qgroup space (Done in check_data_free_space)</p>
<p>o reserve space for metadata space, based on the number of outstanding extents and how much csums will be needed also reserve metadata space in a per root over-reserve method. o add to the inodes-&gt;delalloc_bytes o add it to the fs_info's delalloc inodes list. (Above 3 all done in delalloc_reserve_metadata)</p>
<p>Return 0 for success Return &lt;0 for error(-ENOSPC or -EQUOT) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_cgraph.png" border="0" usemap="#extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_cgraph" id="extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="203,897,353,938"/>
<area shape="rect" id="node24" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="891,1035,969,1061"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="405,1191,554,1233"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#af5493ecbdd23a2cf646a8cc4c2836229" title="btrfs_free_reserved\l_data_space" alt="" coords="211,1014,345,1055"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="665,945,735,972"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="401,414,557,455"/>
<area shape="rect" id="node25" href="qgroup_8c.html#abb0bbb66578b8196c713bf7ad50846e9" title="btrfs_qgroup_reserve_data" alt="" coords="612,781,788,808"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2" title="btrfs_free_reserved\l_data_space_noquota" alt="" coords="405,985,554,1026"/>
<area shape="rect" id="node5" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="862,1103,998,1145"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1092,107,1245,133"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae" title="btrfs_data_alloc_profile" alt="" coords="622,5,778,32"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="627,512,773,539"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1084,512,1253,539"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1320,461,1467,488"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="644,259,756,285"/>
<area shape="rect" id="node22" href="ctree_8h.html#a33577d99eaa44bca8e96beccd1197c13" title="btrfs_start_delalloc\l_roots" alt="" coords="634,381,766,422"/>
<area shape="rect" id="node23" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="635,446,765,487"/>
<area shape="rect" id="node6" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="1133,1228,1205,1255"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="872,5,988,32"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="871,461,989,488"/>
<area shape="rect" id="node12" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1065,461,1272,488"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1105,183,1232,209"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="862,107,998,133"/>
<area shape="rect" id="node18" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="850,309,1010,336"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="843,259,1017,285"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="855,208,1005,235"/>
<area shape="rect" id="node21" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1107,284,1231,311"/>
<area shape="rect" id="node26" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1133,883,1205,909"/>
<area shape="rect" id="node27" href="extent__io_8h.html#a0f81d64581837f5e58413446c4c8fdf0" title="extent_changeset_alloc" alt="" coords="851,680,1009,707"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a3a9187bda80397c1b3fb9df12b5d5be2" title="set_record_extent_bits" alt="" coords="853,731,1007,757"/>
<area shape="rect" id="node29" href="qgroup_8c.html#a19fb0d4d29407e3e159f137f46b262d6" title="qgroup_reserve" alt="" coords="875,883,985,909"/>
<area shape="rect" id="node30" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1129,933,1208,960"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="873,781,987,808"/>
<area shape="rect" id="node32" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="843,984,1017,1011"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#aa99097bef905d7c2ec959edcd9d9f6ed" title="btrfs_transaction_in\l_commit" alt="" coords="632,1367,768,1409"/>
<area shape="rect" id="node36" href="ctree_8h.html#a9008b08bd86bea90e107049f3b23b06b" title="count_max_extents" alt="" coords="632,1148,768,1175"/>
<area shape="rect" id="node37" href="btrfs__inode_8h.html#a36a6c94cdf8beaf463c2743f6112633d" title="btrfs_mod_outstanding\l_extents" alt="" coords="623,1250,777,1291"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="627,614,773,655"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="629,1491,771,1517"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="620,1316,780,1343"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="858,614,1002,655"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a71ec3f08b811ab3f74b12653d26ad4a8" title="btrfs_qgroup_reserve\l_meta_prealloc" alt="" coords="858,1454,1002,1495"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="847,1571,1013,1597"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="857,1621,1003,1648"/>
<area shape="rect" id="node44" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="851,1389,1009,1430"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="847,1337,1013,1364"/>
<area shape="rect" id="node47" href="qgroup_8c.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="858,1221,1002,1262"/>
<area shape="rect" id="node49" href="qgroup_8c.html#aac782519743d0904887086fb774622b7" title="btrfs_qgroup_free_data" alt="" coords="402,1051,557,1077"/>
<area shape="rect" id="node50" href="qgroup_8c.html#a3e109c3974d11e0175260a7396be7ec1" title="__btrfs_qgroup_release_data" alt="" coords="605,996,795,1023"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_icgraph.png" border="0" usemap="#extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_icgraph" id="extent-tree_8c_ab65c77e665d28664c6c98b6b603d3e12_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="213,47,360,89"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="217,309,357,336"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="233,161,341,188"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="219,411,355,437"/>
<area shape="rect" id="node26" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="212,360,361,387"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="203,1056,371,1083"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="419,5,597,32"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1107,56,1281,83"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1333,56,1430,83"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="447,360,569,387"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1329,360,1433,387"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1135,1483,1253,1509"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="443,259,573,285"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="457,309,559,336"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="667,208,799,235"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="684,259,781,285"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="674,157,791,184"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="917,208,1009,235"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="889,157,1038,184"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="659,487,806,513"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="895,461,1031,488"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1135,461,1253,488"/>
<area shape="rect" id="node21" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1151,816,1237,843"/>
<area shape="rect" id="node22" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="886,563,1041,589"/>
<area shape="rect" id="node23" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="883,613,1044,640"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1143,627,1245,653"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="449,664,567,691"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="645,664,820,691"/>
<area shape="rect" id="node30" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="648,1044,817,1071"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="878,664,1049,691"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="910,259,1017,285"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="903,1272,1024,1299"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="903,1323,1024,1349"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="913,1541,1014,1568"/>
<area shape="rect" id="node35" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="918,917,1009,944"/>
<area shape="rect" id="node36" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1115,1375,1273,1401"/>
<area shape="rect" id="node37" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="873,1424,1053,1451"/>
<area shape="rect" id="node38" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="878,1019,1049,1045"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="906,1221,1021,1248"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="895,867,1031,893"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="895,1069,1032,1096"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="885,1475,1041,1517"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="879,1120,1047,1147"/>
<area shape="rect" id="node44" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="868,968,1059,995"/>
<area shape="rect" id="node45" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="872,816,1055,843"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="903,1171,1024,1197"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="451,1651,565,1677"/>
<area shape="rect" id="node49" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="667,1643,798,1685"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="671,1709,794,1736"/>
</map>
</div>

</div>
</div>
<a id="a176ad7182ebd534973397cf2b1c8b739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176ad7182ebd534973397cf2b1c8b739">&#9670;&nbsp;</a></span>btrfs_delete_unused_bgs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_delete_unused_bgs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_cgraph.png" border="0" usemap="#extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_cgraph" alt=""/></div>
<map name="extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_cgraph" id="extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="225,5,385,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1149,372,1300,399"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aa47f591a2bfcb0b9eea6110945d3c617" title="inc_block_group_ro" alt="" coords="449,629,583,656"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#afc98880d81b8272ddf52723622eaf8df" title="btrfs_start_trans_remove\l_block_group" alt="" coords="222,289,389,330"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="671,325,818,352"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab5ccbcd275eeabfbf20ae1e9467a9474" title="btrfs_dec_block_group_ro" alt="" coords="220,553,391,580"/>
<area shape="rect" id="node19" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="245,489,366,516"/>
<area shape="rect" id="node25" href="ctree_8h.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="909,883,1060,925"/>
<area shape="rect" id="node26" href="volumes_8c.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="235,1009,375,1036"/>
<area shape="rect" id="node37" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="909,949,1060,990"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="230,1060,381,1087"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="908,832,1061,859"/>
<area shape="rect" id="node7" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="1145,579,1304,605"/>
<area shape="rect" id="node9" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1165,781,1284,808"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="440,183,592,225"/>
<area shape="rect" id="node8" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="1376,579,1549,605"/>
<area shape="rect" id="node10" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="1395,781,1531,808"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="925,165,1044,192"/>
<area shape="rect" id="node13" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1121,165,1328,192"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="669,107,821,133"/>
<area shape="rect" id="node15" href="ctree_8h.html#a87dfb0f672cf49fd6434160985bdb302" title="btrfs_cond_migrate\l_bytes" alt="" coords="678,158,811,199"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="904,325,1065,352"/>
<area shape="rect" id="node20" href="extent__io_8h.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="459,528,573,555"/>
<area shape="rect" id="node22" href="extent__io_8h.html#a3a9187bda80397c1b3fb9df12b5d5be2" title="set_record_extent_bits" alt="" coords="439,477,593,504"/>
<area shape="rect" id="node24" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="464,427,568,453"/>
<area shape="rect" id="node21" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="681,477,809,504"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="685,427,804,453"/>
<area shape="rect" id="node27" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="927,579,1042,605"/>
<area shape="rect" id="node28" href="ctree_8h.html#a9dd8ddb8b18e00e98cf51841f22a219f" title="check_system_chunk" alt="" coords="441,1009,591,1036"/>
<area shape="rect" id="node32" href="ctree_8h.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="917,1095,1053,1137"/>
<area shape="rect" id="node39" href="ctree_8h.html#a24393d1a65f62a058b4a9dc7ad3ce42a" title="btrfs_clear_space_info_full" alt="" coords="896,1195,1073,1221"/>
<area shape="rect" id="node44" href="volumes_8c.html#a7fd3c8916dca944c22054524b0f06f9c" title="btrfs_free_dev_extent" alt="" coords="911,1439,1059,1465"/>
<area shape="rect" id="node47" href="volumes_8c.html#a49a8ed4d8c18b4851285e5bacaed3d1f" title="btrfs_update_device" alt="" coords="915,1363,1054,1389"/>
<area shape="rect" id="node48" href="volumes_8c.html#ab45f1aa9a9eec1ac72d42899a4e36f26" title="btrfs_free_chunk" alt="" coords="925,1312,1044,1339"/>
<area shape="rect" id="node49" href="volumes_8c.html#a387eec4e8557480d5d73c3f8ed25828c" title="btrfs_del_sys_chunk" alt="" coords="445,959,587,985"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="681,984,808,1011"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ae1ea76da07dad6d2aba1d75a681c4d4d" title="get_profile_num_devs" alt="" coords="670,1035,819,1061"/>
<area shape="rect" id="node31" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="641,1085,848,1112"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="683,883,807,909"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="679,1137,811,1178"/>
<area shape="rect" id="node42" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="683,1203,807,1229"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="675,933,814,960"/>
<area shape="rect" id="node33" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1167,1299,1282,1325"/>
<area shape="rect" id="node34" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1163,1349,1286,1376"/>
<area shape="rect" id="node35" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1398,1349,1527,1376"/>
<area shape="rect" id="node36" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="1143,1049,1307,1076"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1154,949,1295,990"/>
<area shape="rect" id="node45" href="ctree_8c.html#ad91b96ba60ae7f985cf821fcaf931bfa" title="btrfs_previous_item" alt="" coords="1157,1451,1293,1477"/>
<area shape="rect" id="node46" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1385,1476,1540,1503"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_icgraph.png" border="0" usemap="#extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_icgraph" alt=""/></div>
<map name="extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_icgraph" id="extent-tree_8c_a176ad7182ebd534973397cf2b1c8b739_icgraph">
<area shape="rect" id="node2" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1138,448,1241,475"/>
<area shape="rect" id="node6" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="220,777,427,804"/>
<area shape="rect" id="node48" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="266,397,381,424"/>
<area shape="rect" id="node49" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="926,245,1015,272"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1792,492,1883,519"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1323,441,1469,468"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1976,441,2087,468"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="498,651,619,677"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="507,701,610,728"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="484,1180,633,1207"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="475,955,643,997"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="691,473,837,500"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="715,701,813,728"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="903,600,1039,627"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1130,549,1249,576"/>
<area shape="rect" id="node12" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1146,384,1233,411"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="893,448,1048,475"/>
<area shape="rect" id="node27" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="890,397,1051,424"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1343,384,1449,411"/>
<area shape="rect" id="node15" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1341,231,1451,257"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1777,391,1897,417"/>
<area shape="rect" id="node16" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1517,158,1699,199"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1540,223,1676,265"/>
<area shape="rect" id="node19" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1546,289,1670,316"/>
<area shape="rect" id="node20" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1548,340,1668,367"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1532,5,1684,32"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1541,56,1675,83"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1558,107,1658,133"/>
<area shape="rect" id="node24" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1530,441,1686,468"/>
<area shape="rect" id="node17" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1747,165,1928,192"/>
<area shape="rect" id="node25" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1803,441,1872,468"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="925,701,1017,728"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="708,1167,820,1193"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="887,1255,1054,1281"/>
<area shape="rect" id="node40" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="694,1273,834,1300"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="893,1189,1049,1230"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="925,1036,1017,1063"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="913,1087,1028,1113"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="891,1137,1051,1164"/>
<area shape="rect" id="node36" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1120,1189,1259,1230"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1104,1255,1275,1281"/>
<area shape="rect" id="node37" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1325,1251,1467,1277"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="699,853,829,880"/>
<area shape="rect" id="node46" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="697,955,831,997"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="885,752,1056,779"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="895,803,1046,845"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="894,869,1047,910"/>
<area shape="rect" id="node47" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="899,935,1042,961"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1133,309,1245,336"/>
</map>
</div>

</div>
</div>
<a id="aebb5efae18fa3654d1cefbe4b8ee2217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb5efae18fa3654d1cefbe4b8ee2217">&#9670;&nbsp;</a></span>btrfs_discard_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_discard_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>actual_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_cgraph.png" border="0" usemap="#extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_cgraph" alt=""/></div>
<map name="extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_cgraph" id="extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="193,534,340,575"/>
<area shape="rect" id="node3" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="388,483,539,509"/>
<area shape="rect" id="node5" href="volumes_8c.html#a806da0ebe2985a4eaea08e3d6ed4d4ac" title="btrfs_map_block" alt="" coords="207,600,326,627"/>
<area shape="rect" id="node21" href="volumes_8c.html#a2b27c3f73a9f1490121abcde8ab4b319" title="btrfs_put_bbio" alt="" coords="854,981,958,1008"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="199,1272,334,1299"/>
<area shape="rect" id="node4" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="605,5,756,32"/>
<area shape="rect" id="node6" href="volumes_8c.html#a7944ddf1ce0e72fdb6e881f706550c6f" title="__btrfs_map_block" alt="" coords="397,567,529,593"/>
<area shape="rect" id="node7" href="volumes_8c.html#aeae230298ba2524968a14fb79280300c" title="__btrfs_map_block_for\l_discard" alt="" coords="603,225,758,266"/>
<area shape="rect" id="node8" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="849,189,963,216"/>
<area shape="rect" id="node10" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1057,567,1176,593"/>
<area shape="rect" id="node12" href="volumes_8c.html#a07aeded98990ca0f98b2c024f0722edf" title="alloc_btrfs_bio" alt="" coords="853,291,959,317"/>
<area shape="rect" id="node13" href="raid56_8h.html#ac5988ea3c9438abdbcc1ff6ca6547381" title="nr_data_stripes" alt="" coords="625,392,736,419"/>
<area shape="rect" id="node14" href="raid56_8h.html#a6c806eda513b3229c0487e00a0959cbc" title="nr_parity_stripes" alt="" coords="847,367,965,393"/>
<area shape="rect" id="node15" href="dev-replace_8c.html#a022dc7a96036278a7cd3746b803bc695" title="btrfs_dev_replace_read_lock" alt="" coords="587,443,775,469"/>
<area shape="rect" id="node16" href="dev-replace_8c.html#ac77efc46e4ef2b0bad8768f676c5f36b" title="btrfs_dev_replace_is\l_ongoing" alt="" coords="609,494,752,535"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#abcb3502b46c1d2f16a4fd52541459f3e" title="btrfs_dev_replace_read\l_unlock" alt="" coords="602,559,759,601"/>
<area shape="rect" id="node18" href="dev-replace_8c.html#ad4ef98a4361594123dba4ed161bf1f59" title="btrfs_dev_replace_set\l_lock_blocking" alt="" coords="605,625,756,666"/>
<area shape="rect" id="node19" href="volumes_8c.html#a723df263d46774bb5acea57e6ba8614e" title="need_full_stripe" alt="" coords="624,691,737,717"/>
<area shape="rect" id="node20" href="volumes_8c.html#a0c07f7caae92eca563d7b4b33241bf39" title="get_extra_mirror_from\l_replace" alt="" coords="606,945,755,986"/>
<area shape="rect" id="node22" href="volumes_8c.html#ab48173c6ec845e3aba6edc1f30a9057f" title="find_live_mirror" alt="" coords="625,741,736,768"/>
<area shape="rect" id="node23" href="volumes_8c.html#a48c588e7e3d722ee005b00d53421a248" title="btrfs_chunk_max_errors" alt="" coords="599,792,762,819"/>
<area shape="rect" id="node24" href="volumes_8c.html#a022136c3a55141a44f0ec0d003517979" title="sort_parity_stripes" alt="" coords="616,843,745,869"/>
<area shape="rect" id="node26" href="volumes_8c.html#a38f83e6304a8488c0da65705ffbe5e88" title="handle_ops_on_dev_replace" alt="" coords="587,56,774,83"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a87a7d9376a47e69b7c6de0029374579e" title="btrfs_dev_replace_clear\l_lock_blocking" alt="" coords="601,107,761,149"/>
<area shape="rect" id="node9" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="1037,189,1196,216"/>
<area shape="rect" id="node11" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="1244,567,1380,593"/>
<area shape="rect" id="node25" href="volumes_8c.html#a4dd138f9f9d294ff91754dd5fe3ba9cf" title="parity_smaller" alt="" coords="855,843,957,869"/>
<area shape="rect" id="node29" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="409,1483,518,1509"/>
<area shape="rect" id="node30" href="disk-io_8h.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="623,1432,738,1459"/>
<area shape="rect" id="node35" href="disk-io_8h.html#a95ecad9833224c4d4a39bde4533d529f" title="readahead_tree_block" alt="" coords="606,1483,755,1509"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a57321c2d30f0e195ad845fe1bde29555" title="reada_tree_block_flagged" alt="" coords="595,1213,766,1240"/>
<area shape="rect" id="node37" href="disk-io_8h.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="607,1315,755,1357"/>
<area shape="rect" id="node38" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="621,1381,741,1408"/>
<area shape="rect" id="node39" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="637,1163,724,1189"/>
<area shape="rect" id="node40" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="861,1061,951,1088"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="623,1533,739,1560"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="607,1584,754,1611"/>
<area shape="rect" id="node43" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="613,1635,749,1677"/>
<area shape="rect" id="node44" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="612,1701,749,1728"/>
<area shape="rect" id="node45" href="disk-io_8h.html#ab428bbb1f4037e1d48162bce47a1f41c" title="btrfs_read_fs_root" alt="" coords="617,1752,744,1779"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a3ed74b56709d68f7e90f153ecac7c347" title="btrfs_init_fs_root" alt="" coords="621,1803,740,1829"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a77e367c4e91efe6cedbcffafa5b29d83" title="btrfs_lookup_fs_root" alt="" coords="611,1853,751,1880"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a9fca74bcf57d341ed480c5b7ee581890" title="btrfs_insert_fs_root" alt="" coords="613,1904,748,1931"/>
<area shape="rect" id="node49" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="615,1264,746,1291"/>
<area shape="rect" id="node50" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="621,1112,741,1139"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="832,1421,980,1462"/>
<area shape="rect" id="node32" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="823,1355,989,1397"/>
<area shape="rect" id="node34" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="843,1264,969,1291"/>
<area shape="rect" id="node33" href="extent__io_8c.html#aa7c3981789599b3376ee73c3ae64bf8d" title="read_extent_buffer\l_pages" alt="" coords="1051,1355,1182,1397"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_icgraph.png" border="0" usemap="#extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_icgraph" alt=""/></div>
<map name="extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_icgraph" id="extent-tree_8c_aebb5efae18fa3654d1cefbe4b8ee2217_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="392,1854,521,1895"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="193,1967,341,2009"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="221,2051,314,2077"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="572,1960,779,1987"/>
<area shape="rect" id="node8" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="591,959,760,985"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="861,1909,983,1936"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="871,1960,973,1987"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="847,2011,997,2037"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="838,2062,1006,2103"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="869,208,975,235"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="861,259,983,285"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="871,309,973,336"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="877,360,967,387"/>
<area shape="rect" id="node13" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1065,436,1224,463"/>
<area shape="rect" id="node14" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="832,461,1012,488"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="837,512,1007,539"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="865,563,979,589"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="854,613,990,640"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="853,664,991,691"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="844,715,1000,757"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="838,781,1006,808"/>
<area shape="rect" id="node21" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="827,832,1017,859"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="831,883,1013,909"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="871,933,973,960"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="863,984,981,1011"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="861,1035,983,1061"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="860,1086,984,1127"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="853,1152,991,1179"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="839,1203,1005,1245"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="847,1269,997,1296"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="843,1320,1001,1347"/>
<area shape="rect" id="node31" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="852,1371,992,1413"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="852,1437,992,1464"/>
<area shape="rect" id="node33" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="859,1488,985,1515"/>
<area shape="rect" id="node34" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1072,1539,1217,1565"/>
<area shape="rect" id="node35" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="854,1589,990,1616"/>
<area shape="rect" id="node36" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="841,1640,1003,1667"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="837,1691,1007,1717"/>
<area shape="rect" id="node38" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="849,1742,995,1783"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="863,1808,981,1835"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="841,1859,1003,1885"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="858,5,986,32"/>
<area shape="rect" id="node42" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="842,56,1002,83"/>
<area shape="rect" id="node43" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="843,107,1001,133"/>
<area shape="rect" id="node44" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="857,157,987,184"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="389,1985,524,2026"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="392,1919,521,1961"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="401,2101,512,2128"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="408,2051,505,2077"/>
</map>
</div>

</div>
</div>
<a id="a34af2e19d77a9657425ef22567849277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34af2e19d77a9657425ef22567849277">&#9670;&nbsp;</a></span>btrfs_drop_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_drop_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>update_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_reloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a34af2e19d77a9657425ef22567849277_cgraph.png" border="0" usemap="#extent-tree_8c_a34af2e19d77a9657425ef22567849277_cgraph" alt=""/></div>
<map name="extent-tree_8c_a34af2e19d77a9657425ef22567849277_cgraph" id="extent-tree_8c_a34af2e19d77a9657425ef22567849277_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="453,1263,568,1289"/>
<area shape="rect" id="node3" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="456,984,565,1011"/>
<area shape="rect" id="node4" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="885,512,1015,539"/>
<area shape="rect" id="node6" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1116,1136,1243,1163"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="213,5,365,32"/>
<area shape="rect" id="node9" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="652,1693,795,1720"/>
<area shape="rect" id="node11" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="896,1845,1004,1872"/>
<area shape="rect" id="node12" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="889,1795,1011,1821"/>
<area shape="rect" id="node13" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="871,1744,1029,1771"/>
<area shape="rect" id="node15" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="647,208,800,235"/>
<area shape="rect" id="node16" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="449,1085,572,1112"/>
<area shape="rect" id="node27" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="859,817,1041,858"/>
<area shape="rect" id="node30" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="877,411,1023,437"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="207,1035,371,1061"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="231,1339,347,1365"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="901,461,999,488"/>
<area shape="rect" id="node40" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="234,1440,345,1467"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="193,1491,385,1517"/>
<area shape="rect" id="node42" href="ctree_8h.html#af4968e7e809635e132a6720212e44bc8" title="btrfs_need_cleaner\l_sleep" alt="" coords="223,1542,355,1583"/>
<area shape="rect" id="node43" href="ctree_8h.html#aec5158a71cf7611e5b0e246f83131c1d" title="btrfs_update_root" alt="" coords="228,1237,351,1264"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="216,1659,363,1701"/>
<area shape="rect" id="node45" href="ctree_8h.html#a9a7fd6bb8da654fdf6ef692296f966fb" title="btrfs_del_root" alt="" coords="239,1136,340,1163"/>
<area shape="rect" id="node46" href="ctree_8h.html#a15cf96e2e0009f46c278e6d53e0fdbf2" title="btrfs_find_root" alt="" coords="237,436,342,463"/>
<area shape="rect" id="node47" href="ctree_8h.html#a89d6e6fa43cf12c6b58081d8367674a7" title="btrfs_del_orphan_item" alt="" coords="214,1085,365,1112"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#ac9515622689f7f5439d14d1b3457c635" title="btrfs_add_dropped_root" alt="" coords="210,1908,369,1935"/>
<area shape="rect" id="node49" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="229,1959,349,1985"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a39d1765689f636375489f968fa27240a" title="btrfs_add_dead_root" alt="" coords="219,2009,359,2036"/>
<area shape="rect" id="node5" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1108,461,1251,488"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="451,5,570,32"/>
<area shape="rect" id="node10" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="894,1541,1006,1568"/>
<area shape="rect" id="node14" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1089,1744,1269,1771"/>
<area shape="rect" id="node17" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="662,832,785,859"/>
<area shape="rect" id="node18" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="880,1389,1020,1416"/>
<area shape="rect" id="node19" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="636,1440,811,1467"/>
<area shape="rect" id="node20" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="873,1491,1027,1517"/>
<area shape="rect" id="node21" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="885,1085,1015,1112"/>
<area shape="rect" id="node22" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1099,984,1259,1011"/>
<area shape="rect" id="node23" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="665,1085,782,1112"/>
<area shape="rect" id="node24" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="865,1136,1035,1163"/>
<area shape="rect" id="node25" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="679,933,768,960"/>
<area shape="rect" id="node26" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="641,984,805,1011"/>
<area shape="rect" id="node28" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="683,664,764,691"/>
<area shape="rect" id="node29" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="647,563,800,589"/>
<area shape="rect" id="node31" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="641,715,806,741"/>
<area shape="rect" id="node32" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="653,766,793,807"/>
<area shape="rect" id="node33" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="877,1187,1023,1213"/>
<area shape="rect" id="node34" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="686,1237,761,1264"/>
<area shape="rect" id="node35" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="885,1339,1015,1365"/>
<area shape="rect" id="node37" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="433,309,588,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a34af2e19d77a9657425ef22567849277_icgraph.png" border="0" usemap="#extent-tree_8c_a34af2e19d77a9657425ef22567849277_icgraph" alt=""/></div>
<map name="extent-tree_8c_a34af2e19d77a9657425ef22567849277_icgraph" id="extent-tree_8c_a34af2e19d77a9657425ef22567849277_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="219,335,331,361"/>
<area shape="rect" id="node41" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="210,765,339,792"/>
<area shape="rect" id="node47" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="193,678,356,719"/>
<area shape="rect" id="node3" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="433,259,546,285"/>
<area shape="rect" id="node10" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="653,208,767,235"/>
<area shape="rect" id="node11" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="404,593,575,620"/>
<area shape="rect" id="node18" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="404,309,575,336"/>
<area shape="rect" id="node21" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="406,360,573,387"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="405,411,573,437"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="626,531,794,557"/>
<area shape="rect" id="node27" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="423,56,555,83"/>
<area shape="rect" id="node30" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="417,107,562,133"/>
<area shape="rect" id="node34" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="438,157,541,184"/>
<area shape="rect" id="node37" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="414,461,565,488"/>
<area shape="rect" id="node4" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="643,259,777,285"/>
<area shape="rect" id="node5" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="869,259,1012,285"/>
<area shape="rect" id="node6" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1084,233,1212,260"/>
<area shape="rect" id="node7" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1277,284,1407,311"/>
<area shape="rect" id="node8" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1260,183,1424,209"/>
<area shape="rect" id="node9" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1274,233,1410,260"/>
<area shape="rect" id="node12" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="845,613,1036,640"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1105,588,1191,615"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1289,588,1395,615"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1287,537,1397,564"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1472,475,1592,501"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1640,449,1751,476"/>
<area shape="rect" id="node19" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="637,309,783,336"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="885,309,996,336"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="667,411,753,437"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="875,461,1006,488"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="882,411,999,437"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="641,56,779,83"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="901,5,980,32"/>
<area shape="rect" id="node31" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="655,107,765,133"/>
<area shape="rect" id="node32" href="send_8c.html#a6bc185b66fea4d78d945cf421a2966e3" title="process_all_extents" alt="" coords="871,107,1010,133"/>
<area shape="rect" id="node33" href="send_8c.html#a311a90aa6261c938d10db62c6d17e1dc" title="changed_extent" alt="" coords="883,56,998,83"/>
<area shape="rect" id="node35" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="663,157,757,184"/>
<area shape="rect" id="node36" href="send_8c.html#a63f24a806681201190dbe5f61f82f8dc" title="btrfs_ioctl_send" alt="" coords="883,157,998,184"/>
<area shape="rect" id="node38" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="1297,424,1387,451"/>
<area shape="rect" id="node39" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="623,468,797,495"/>
<area shape="rect" id="node40" href="volumes_8h.html#a9d446ee3197aac70c768d8013ad0699b" title="btrfs_check_uuid_tree" alt="" coords="865,512,1016,539"/>
<area shape="rect" id="node42" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="417,820,562,847"/>
<area shape="rect" id="node45" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="629,765,791,792"/>
<area shape="rect" id="node43" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="641,817,779,858"/>
<area shape="rect" id="node44" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="893,820,989,847"/>
<area shape="rect" id="node46" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="889,765,992,792"/>
<area shape="rect" id="node48" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="432,664,547,691"/>
<area shape="rect" id="node49" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="409,715,569,741"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="625,715,795,741"/>
</map>
</div>

</div>
</div>
<a id="a272e20ec5084fc8b055816fc2d37ba80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a272e20ec5084fc8b055816fc2d37ba80">&#9670;&nbsp;</a></span>btrfs_drop_subtree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_drop_subtree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_cgraph.png" border="0" usemap="#extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_cgraph" alt=""/></div>
<map name="extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_cgraph" id="extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="995,499,1109,525"/>
<area shape="rect" id="node3" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="997,596,1107,623"/>
<area shape="rect" id="node7" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1764,911,1929,937"/>
<area shape="rect" id="node13" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1197,312,1319,339"/>
<area shape="rect" id="node14" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="728,1006,911,1047"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="184,1224,300,1251"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="193,1620,291,1647"/>
<area shape="rect" id="node4" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1193,955,1323,981"/>
<area shape="rect" id="node5" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1371,1401,1513,1428"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1379,752,1505,779"/>
<area shape="rect" id="node6" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1577,1372,1700,1399"/>
<area shape="rect" id="node8" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1561,1423,1716,1465"/>
<area shape="rect" id="node9" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1561,1321,1716,1348"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1561,727,1716,753"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1565,777,1712,804"/>
<area shape="rect" id="node15" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="959,1056,1145,1083"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="348,1337,467,1364"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="353,709,461,736"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="737,955,901,981"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="550,1392,645,1419"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="548,1443,647,1469"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="524,1275,671,1317"/>
<area shape="rect" id="node19" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="991,1005,1113,1032"/>
<area shape="rect" id="node21" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="975,1363,1129,1389"/>
<area shape="rect" id="node22" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="987,787,1117,813"/>
<area shape="rect" id="node23" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="988,838,1116,879"/>
<area shape="rect" id="node24" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="961,904,1143,931"/>
<area shape="rect" id="node20" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1204,1123,1312,1149"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="761,1337,877,1364"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="992,1228,1112,1255"/>
<area shape="rect" id="node28" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="984,693,1120,720"/>
<area shape="rect" id="node32" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="733,701,905,728"/>
<area shape="rect" id="node33" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="741,752,898,779"/>
<area shape="rect" id="node34" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="534,651,661,677"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="978,195,1126,237"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="515,702,680,743"/>
<area shape="rect" id="node37" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="740,1747,899,1773"/>
<area shape="rect" id="node38" href="ctree_8c.html#a5583fb14c86f35ee9dc82ba7538bba77" title="btrfs_comp_cpu_keys" alt="" coords="744,853,895,880"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="525,920,670,947"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="742,904,897,931"/>
<area shape="rect" id="node41" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1381,144,1503,171"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="534,768,661,795"/>
<area shape="rect" id="node43" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="762,245,877,272"/>
<area shape="rect" id="node44" href="qgroup_8c.html#a4273e8a52c184af0a427768658a62eef" title="btrfs_qgroup_trace\l_subtree" alt="" coords="532,409,663,450"/>
<area shape="rect" id="node45" href="qgroup_8c.html#a76b5289b0371fe79c4fab5b38aa2d98e" title="btrfs_qgroup_trace\l_leaf_items" alt="" coords="754,1439,885,1481"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="356,1671,459,1697"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="546,1493,649,1520"/>
<area shape="rect" id="node49" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="537,1899,657,1925"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="525,1797,669,1824"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_icgraph.png" border="0" usemap="#extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_icgraph" alt=""/></div>
<map name="extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_icgraph" id="extent-tree_8c_a272e20ec5084fc8b055816fc2d37ba80_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="184,291,296,317"/>
<area shape="rect" id="node45" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="191,613,289,640"/>
<area shape="rect" id="node3" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="373,56,486,83"/>
<area shape="rect" id="node13" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="601,107,715,133"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="344,159,515,185"/>
<area shape="rect" id="node21" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="344,417,515,444"/>
<area shape="rect" id="node25" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="346,367,513,393"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="345,316,513,343"/>
<area shape="rect" id="node30" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="574,208,742,235"/>
<area shape="rect" id="node31" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="363,475,495,501"/>
<area shape="rect" id="node34" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="357,537,502,564"/>
<area shape="rect" id="node38" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="378,5,481,32"/>
<area shape="rect" id="node41" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="354,265,505,292"/>
<area shape="rect" id="node4" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="591,56,725,83"/>
<area shape="rect" id="node5" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="805,56,948,83"/>
<area shape="rect" id="node6" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1009,81,1137,108"/>
<area shape="rect" id="node7" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1210,132,1341,159"/>
<area shape="rect" id="node9" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1193,81,1357,108"/>
<area shape="rect" id="node11" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1207,31,1343,57"/>
<area shape="rect" id="node8" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="1405,132,1552,159"/>
<area shape="rect" id="node10" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="1413,81,1545,108"/>
<area shape="rect" id="node12" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="1427,31,1531,57"/>
<area shape="rect" id="node15" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="563,157,753,184"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1029,208,1116,235"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1222,259,1329,285"/>
<area shape="rect" id="node20" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1221,208,1330,235"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1419,259,1539,285"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1600,284,1711,311"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="585,417,731,444"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="821,461,932,488"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="1005,461,1140,488"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="615,360,701,387"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="811,411,942,437"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="818,360,935,387"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="589,493,727,520"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="837,512,916,539"/>
<area shape="rect" id="node35" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="603,563,713,589"/>
<area shape="rect" id="node36" href="send_8c.html#a6bc185b66fea4d78d945cf421a2966e3" title="process_all_extents" alt="" coords="807,613,946,640"/>
<area shape="rect" id="node37" href="send_8c.html#a311a90aa6261c938d10db62c6d17e1dc" title="changed_extent" alt="" coords="819,563,934,589"/>
<area shape="rect" id="node39" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="611,5,705,32"/>
<area shape="rect" id="node40" href="send_8c.html#a63f24a806681201190dbe5f61f82f8dc" title="btrfs_ioctl_send" alt="" coords="819,5,934,32"/>
<area shape="rect" id="node42" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="1230,309,1321,336"/>
<area shape="rect" id="node43" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="571,259,745,285"/>
<area shape="rect" id="node44" href="volumes_8h.html#a9d446ee3197aac70c768d8013ad0699b" title="btrfs_check_uuid_tree" alt="" coords="801,259,952,285"/>
<area shape="rect" id="node46" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="380,613,479,640"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="362,664,497,691"/>
<area shape="rect" id="node47" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="585,613,731,640"/>
<area shape="rect" id="node48" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="805,664,948,691"/>
<area shape="rect" id="node49" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1000,664,1145,691"/>
</map>
</div>

</div>
</div>
<a id="ad960c659e6062aeeeb929487f8299b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad960c659e6062aeeeb929487f8299b9c">&#9670;&nbsp;</a></span>btrfs_end_write_no_snapshotting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_end_write_no_snapshotting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad960c659e6062aeeeb929487f8299b9c_icgraph.png" border="0" usemap="#extent-tree_8c_ad960c659e6062aeeeb929487f8299b9c_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad960c659e6062aeeeb929487f8299b9c_icgraph" id="extent-tree_8c_ad960c659e6062aeeeb929487f8299b9c_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="386,72,517,99"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="580,22,731,48"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="383,240,519,267"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="607,182,704,208"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ab66e7a4e1b38ac03c24f54c01304510b" title="btrfs_start_write_no\l_snapshotting" alt="" coords="185,174,323,216"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="984,22,1116,48"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="779,22,915,48"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="781,232,912,259"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="963,207,1137,234"/>
<area shape="rect" id="node9" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1185,207,1283,234"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="801,182,893,208"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#afa63d42bb00d618600620e59657d1ccd" title="btrfs_wait_for_snapshot\l_creation" alt="" coords="371,174,532,216"/>
</map>
</div>

</div>
</div>
<a id="a2d2f296762a971312733aa1c2edb2c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2f296762a971312733aa1c2edb2c33">&#9670;&nbsp;</a></span>btrfs_error_unpin_extent_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_error_unpin_extent_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_cgraph.png" border="0" usemap="#extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_cgraph" alt=""/></div>
<map name="extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_cgraph" id="extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="216,385,351,411"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="399,267,549,294"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="409,319,539,360"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a5a5237a87cb32541134aa6e06c8dad37" title="fetch_cluster_info" alt="" coords="411,385,537,411"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="401,725,547,751"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0" title="space_info_add_new\l_bytes" alt="" coords="402,776,546,817"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="601,5,763,47"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="824,13,975,39"/>
<area shape="rect" id="node8" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="602,71,762,98"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="819,337,980,363"/>
<area shape="rect" id="node21" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="815,795,984,822"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="611,1289,753,1331"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="597,717,767,759"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="612,1092,752,1133"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1053,1151,1175,1192"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="603,993,761,1019"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1032,55,1196,82"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="609,666,755,693"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="819,879,980,906"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="615,224,749,265"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="822,615,977,642"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1252,187,1403,214"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1050,359,1178,386"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1467,795,1581,822"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1049,207,1179,234"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1459,353,1589,379"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1461,1182,1587,1209"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1637,747,1779,774"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1465,643,1583,670"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1254,339,1401,366"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1267,542,1387,569"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1042,998,1186,1025"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1274,947,1381,974"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1265,998,1389,1025"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1282,1207,1373,1234"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="1039,1369,1189,1411"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="825,224,973,265"/>
<area shape="rect" id="node30" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1039,106,1189,133"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1057,846,1171,873"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="819,387,980,414"/>
<area shape="rect" id="node35" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1300,1050,1355,1077"/>
<area shape="rect" id="node38" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1280,86,1375,113"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1244,35,1411,62"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1254,137,1401,163"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1033,947,1195,974"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1039,577,1189,619"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1272,694,1383,721"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1065,897,1163,923"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1039,512,1189,553"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_icgraph.png" border="0" usemap="#extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_icgraph" id="extent-tree_8c_a2d2f296762a971312733aa1c2edb2c33_icgraph">
<area shape="rect" id="node2" href="disk-io_8c.html#a104a95a524285e86c8267045ff366cf7" title="btrfs_destroy_pinned\l_extent" alt="" coords="216,347,359,389"/>
<area shape="rect" id="node3" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="1276,413,1407,440"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="407,355,605,381"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a9b98b810aff8bb1aea735ec7667cc06f" title="btrfs_cleanup_transaction" alt="" coords="1057,111,1228,137"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1711,211,1798,237"/>
<area shape="rect" id="node7" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1900,413,2009,440"/>
<area shape="rect" id="node28" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1497,312,1586,339"/>
<area shape="rect" id="node31" href="btrfs-tests_8c.html#aab5de5cb02c19933790dc9e2bba522d2" title="btrfs_free_dummy_fs_info" alt="" coords="1455,603,1628,629"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1901,245,2008,272"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2559,144,2679,171"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2076,566,2257,607"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2099,347,2235,389"/>
<area shape="rect" id="node13" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2105,733,2229,760"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2107,632,2227,659"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2091,413,2243,440"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2099,464,2234,491"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2117,515,2217,541"/>
<area shape="rect" id="node26" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="2089,144,2245,171"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="2305,604,2487,631"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="2323,245,2469,272"/>
<area shape="rect" id="node12" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="2309,351,2483,377"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="2338,683,2454,709"/>
<area shape="rect" id="node15" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2535,683,2704,709"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2752,43,2888,69"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="2314,299,2478,325"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="2314,401,2478,428"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="2326,452,2466,479"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="2318,503,2474,529"/>
<area shape="rect" id="node25" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="2339,553,2453,580"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="2311,195,2481,221"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1699,312,1811,339"/>
<area shape="rect" id="node30" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1881,347,2028,373"/>
<area shape="rect" id="node32" href="extent-buffer-tests_8c.html#a93782dcacfd18a444e234b01e0c77330" title="test_btrfs_split_item" alt="" coords="1685,515,1825,541"/>
<area shape="rect" id="node33" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="1681,566,1829,607"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1720,632,1789,659"/>
<area shape="rect" id="node35" href="inode-tests_8c.html#aca53f2dd19054eabddf1ca2bbab9a6ee" title="test_btrfs_get_extent" alt="" coords="1682,683,1827,709"/>
<area shape="rect" id="node36" href="inode-tests_8c.html#a4b5ad34c8028b3af99e81e1658ba1ea9" title="test_hole_first" alt="" coords="1703,733,1807,760"/>
<area shape="rect" id="node37" href="inode-tests_8c.html#a976689efd00cf939a84f9945d76e1da5" title="test_extent_accounting" alt="" coords="1676,784,1833,811"/>
<area shape="rect" id="node38" href="qgroup-tests_8c.html#ac421b3348dd5a86e74f3b009bad00481" title="btrfs_test_qgroups" alt="" coords="1689,464,1820,491"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="663,355,783,381"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="653,721,792,748"/>
<area shape="rect" id="node41" href="disk-io_8c.html#ac724733d2429d9abdb42adf34592f560" title="btrfs_error_commit\l_super" alt="" coords="1276,283,1407,325"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a33577d99eaa44bca8e96beccd1197c13" title="btrfs_start_delalloc\l_roots" alt="" coords="859,377,991,418"/>
<area shape="rect" id="node44" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="1074,318,1211,359"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a183ade15bf6f13734cdb0613d817e2b4" title="free_fs_root" alt="" coords="879,275,970,301"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1065,219,1220,245"/>
<area shape="rect" id="node47" href="disk-io_8c.html#aa34dbc1fb87cfdf7d06c5f40d9077f81" title="btrfs_destroy_all_delalloc\l_inodes" alt="" coords="840,158,1009,199"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="855,493,995,520"/>
<area shape="rect" id="node49" href="ordered-data_8h.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="860,545,989,586"/>
</map>
</div>

</div>
</div>
<a id="ac88dd0c6f13ef8cc1fe40d9e8e0349a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88dd0c6f13ef8cc1fe40d9e8e0349a0">&#9670;&nbsp;</a></span>btrfs_exclude_logged_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_exclude_logged_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_cgraph.png" border="0" usemap="#extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_cgraph" id="extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1060,56,1215,83"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="199,512,368,539"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1295,31,1403,57"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1272,81,1425,108"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1509,31,1607,57"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1693,31,1832,57"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="435,563,566,605"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="433,335,568,361"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="854,461,993,488"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="1053,859,1222,885"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="848,208,999,235"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="431,680,570,707"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="416,731,585,757"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46" title="add_excluded_extent" alt="" coords="428,107,573,133"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="633,563,796,605"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="848,567,999,593"/>
<area shape="rect" id="node12" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="661,360,768,387"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="659,157,770,184"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="847,56,1000,83"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="844,259,1003,285"/>
<area shape="rect" id="node45" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="652,309,777,336"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="850,157,997,184"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="850,107,997,133"/>
<area shape="rect" id="node15" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1080,107,1195,133"/>
<area shape="rect" id="node16" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1083,157,1192,184"/>
<area shape="rect" id="node19" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="1077,5,1198,32"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1697,1055,1828,1081"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1703,1105,1822,1132"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1699,853,1826,880"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1706,633,1819,660"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="1275,739,1422,765"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1691,953,1835,980"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1883,853,2024,880"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1892,633,2015,660"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1477,528,1639,555"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1473,928,1643,955"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1487,862,1629,903"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="1473,462,1643,503"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="1488,797,1628,838"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1497,731,1619,773"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1479,579,1637,605"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1476,629,1640,656"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="1485,680,1631,707"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="1053,259,1222,285"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="1051,360,1224,387"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1278,294,1419,335"/>
<area shape="rect" id="node44" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1116,208,1159,235"/>
<area shape="rect" id="node46" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="854,309,993,336"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a0f26c20721fdb99360a587accb5b5ec1" title="set_extent_bits" alt="" coords="659,56,770,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_icgraph.png" border="0" usemap="#extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_icgraph" id="extent-tree_8c_ac88dd0c6f13ef8cc1fe40d9e8e0349a0_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="199,492,405,519"/>
<area shape="rect" id="node44" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="234,224,370,251"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1318,275,1439,301"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="688,441,791,468"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="463,800,612,827"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="453,543,621,585"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1516,275,1663,301"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="869,443,1016,469"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="894,493,991,520"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1093,528,1229,555"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1319,427,1438,453"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1725,305,1812,332"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1512,376,1667,403"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1298,325,1459,352"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1332,579,1425,605"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1327,477,1430,504"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1872,305,1979,332"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1871,243,1980,269"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1115,645,1207,672"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="683,839,795,865"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="859,763,1026,789"/>
<area shape="rect" id="node28" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="669,1028,809,1055"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1301,743,1457,785"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="897,864,989,891"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="885,915,1000,941"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="863,965,1023,992"/>
<area shape="rect" id="node24" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1091,697,1230,738"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1293,528,1464,555"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1307,969,1450,996"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="859,1117,1026,1144"/>
<area shape="rect" id="node30" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="908,1016,977,1043"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="674,547,805,573"/>
<area shape="rect" id="node42" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="672,661,807,702"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="857,544,1028,571"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="867,377,1018,418"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="866,595,1019,637"/>
<area shape="rect" id="node35" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1076,325,1245,352"/>
<area shape="rect" id="node36" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1299,224,1458,251"/>
<area shape="rect" id="node37" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1532,224,1647,251"/>
<area shape="rect" id="node38" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1524,49,1655,90"/>
<area shape="rect" id="node39" href="tree-log_8c.html#acb71bf66afc77a465b0c8e96e0dda086" title="start_log_trans" alt="" coords="1715,5,1823,32"/>
<area shape="rect" id="node40" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1715,56,1822,83"/>
<area shape="rect" id="node43" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="871,661,1014,688"/>
<area shape="rect" id="node45" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="489,165,586,192"/>
<area shape="rect" id="node46" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="689,165,790,192"/>
<area shape="rect" id="node50" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="863,108,1022,135"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="1092,158,1229,199"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="883,325,1002,352"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="1524,171,1655,197"/>
</map>
</div>

</div>
</div>
<a id="af76997d3ed3b79189dae0c8e198b56c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76997d3ed3b79189dae0c8e198b56c5">&#9670;&nbsp;</a></span>btrfs_extent_readonly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_extent_readonly </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_cgraph.png" border="0" usemap="#extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_cgraph" alt=""/></div>
<map name="extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_cgraph" id="extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="210,5,341,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="200,71,351,98"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="399,5,561,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="609,13,760,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_icgraph.png" border="0" usemap="#extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_icgraph" alt=""/></div>
<map name="extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_icgraph" id="extent-tree_8c_af76997d3ed3b79189dae0c8e198b56c5_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="235,183,371,209"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="238,107,369,133"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="200,1076,407,1103"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="473,183,604,209"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1307,208,1481,235"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1535,208,1633,235"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="473,107,604,133"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="460,19,617,45"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="671,81,821,108"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1107,81,1239,108"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="887,81,1023,108"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1119,5,1227,32"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="478,1076,599,1103"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="487,436,590,463"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="464,859,613,885"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="455,1127,623,1169"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1321,891,1467,917"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="673,436,819,463"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="697,321,795,348"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="887,335,1023,361"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1114,385,1233,412"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1351,524,1437,551"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="877,524,1032,551"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="874,604,1035,631"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1127,284,1220,311"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1343,377,1445,404"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1531,549,1637,576"/>
<area shape="rect" id="node24" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1529,499,1639,525"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1122,655,1225,681"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1110,487,1237,529"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1127,233,1219,260"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="690,896,802,923"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="871,807,1038,833"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="676,744,816,771"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="877,959,1033,1001"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="909,1025,1001,1052"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="897,857,1012,884"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="875,908,1035,935"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1104,833,1243,874"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1088,781,1259,808"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1323,760,1465,787"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="871,655,1038,681"/>
<area shape="rect" id="node43" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="920,756,989,783"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="681,1244,811,1271"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="679,1127,813,1169"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="869,1228,1040,1255"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="879,1279,1030,1321"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="878,1345,1031,1386"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="883,1127,1026,1153"/>
</map>
</div>

</div>
</div>
<a id="a1bba8c3e2e47bfb50d184445a98fbd0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bba8c3e2e47bfb50d184445a98fbd0c">&#9670;&nbsp;</a></span>btrfs_finish_extent_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_finish_extent_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_cgraph.png" border="0" usemap="#extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_cgraph" id="extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_cgraph">
<area shape="rect" id="node2" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="395,711,531,737"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="188,904,328,931"/>
<area shape="rect" id="node21" href="extent__io_8h.html#ab4a271bc601f3e87e69c8ceac477ce2d" title="clear_extent_dirty" alt="" coords="195,389,321,416"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="191,1300,325,1327"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="388,1249,539,1276"/>
<area shape="rect" id="node46" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="183,1103,333,1145"/>
<area shape="rect" id="node50" href="ctree_8h.html#a0201dfec4b6a12ca8cddaee371a1e9ba" title="btrfs_decode_error" alt="" coords="193,1351,323,1377"/>
<area shape="rect" id="node3" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1208,120,1348,147"/>
<area shape="rect" id="node6" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1023,120,1146,147"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a0d209b399b57dc10932618d6624d82d4" title="find_first_extent_bit\l_state" alt="" coords="610,581,746,622"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="1013,707,1156,733"/>
<area shape="rect" id="node4" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1422,95,1517,121"/>
<area shape="rect" id="node5" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1396,145,1543,172"/>
<area shape="rect" id="node8" href="extent__io_8c.html#a69da98b4b5fc8b28b435f40f0b3ae3d7" title="tree_search" alt="" coords="841,491,931,517"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="1009,465,1160,492"/>
<area shape="rect" id="node12" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="390,813,537,854"/>
<area shape="rect" id="node13" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="603,929,753,956"/>
<area shape="rect" id="node15" href="volumes_8c.html#a806da0ebe2985a4eaea08e3d6ed4d4ac" title="btrfs_map_block" alt="" coords="404,980,523,1007"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="396,761,531,788"/>
<area shape="rect" id="node20" href="volumes_8c.html#a2b27c3f73a9f1490121abcde8ab4b319" title="btrfs_put_bbio" alt="" coords="411,879,515,905"/>
<area shape="rect" id="node14" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="811,929,961,956"/>
<area shape="rect" id="node16" href="volumes_8c.html#a7944ddf1ce0e72fdb6e881f706550c6f" title="__btrfs_map_block" alt="" coords="612,980,744,1007"/>
<area shape="rect" id="node17" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="827,1005,945,1032"/>
<area shape="rect" id="node19" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="623,845,733,872"/>
<area shape="rect" id="node22" href="extent__io_8h.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="406,255,521,281"/>
<area shape="rect" id="node29" href="extent__io_8h.html#ad1ce48f8d0ad0eb3063802d5bab80567" title="convert_extent_bit" alt="" coords="613,389,743,416"/>
<area shape="rect" id="node23" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="614,171,742,197"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1021,331,1149,357"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="822,323,950,365"/>
<area shape="rect" id="node26" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="845,221,927,248"/>
<area shape="rect" id="node27" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="815,171,957,197"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a297b8b86f599aea09760477a533be51a" title="clear_state_bit" alt="" coords="833,69,939,96"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a2a35e48a00317a8f13a19f3ba1caecaa" title="insert_state" alt="" coords="841,643,931,669"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="1033,631,1137,657"/>
<area shape="rect" id="node32" href="extent__io_8c.html#a1a855576f67d424c4b8024553802ef4a" title="cache_state" alt="" coords="839,693,933,720"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="398,1446,529,1487"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a5a5237a87cb32541134aa6e06c8dad37" title="fetch_cluster_info" alt="" coords="401,1512,526,1539"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="390,1300,537,1327"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0" title="space_info_add_new\l_bytes" alt="" coords="391,1351,535,1393"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="597,1461,759,1502"/>
<area shape="rect" id="node38" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="598,1527,758,1553"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="597,1409,759,1436"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="593,1161,763,1188"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="607,1213,749,1254"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="593,1278,763,1319"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="608,1343,748,1385"/>
<area shape="rect" id="node47" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="384,1199,543,1225"/>
<area shape="rect" id="node48" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="381,1081,545,1108"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="393,1133,534,1174"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_icgraph.png" border="0" usemap="#extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_icgraph" id="extent-tree_8c_a1bba8c3e2e47bfb50d184445a98fbd0c_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="183,123,389,149"/>
<area shape="rect" id="node11" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="201,1228,371,1255"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="472,300,593,327"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="481,123,584,149"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="458,5,607,32"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="449,57,617,98"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="682,645,829,672"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="682,199,829,225"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="904,173,1023,200"/>
<area shape="rect" id="node8" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="883,224,1044,251"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="479,1076,586,1103"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="472,519,593,545"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="482,772,583,799"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="487,1025,578,1052"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="676,1152,835,1179"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="443,1127,623,1153"/>
<area shape="rect" id="node18" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="447,1279,618,1305"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="475,1329,590,1356"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="465,1380,601,1407"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="464,1431,601,1457"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="455,1482,611,1523"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="449,1548,617,1575"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="437,1599,628,1625"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="441,1649,624,1676"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="481,1700,584,1727"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="695,1489,816,1516"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="471,1802,595,1843"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="463,1868,602,1895"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="449,1919,616,1961"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="458,1985,607,2012"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="453,2036,612,2063"/>
<area shape="rect" id="node33" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="463,2087,603,2129"/>
<area shape="rect" id="node34" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="463,2153,603,2180"/>
<area shape="rect" id="node35" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="469,2204,596,2231"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="683,2255,828,2281"/>
<area shape="rect" id="node37" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="465,2305,601,2332"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="447,2356,618,2383"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="459,351,606,393"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="473,417,592,444"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="452,468,613,495"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="469,569,597,596"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="453,620,613,647"/>
<area shape="rect" id="node44" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="453,671,612,697"/>
<area shape="rect" id="node45" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="467,721,598,748"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="459,823,607,849"/>
<area shape="rect" id="node47" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="463,873,602,900"/>
<area shape="rect" id="node48" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="471,924,594,951"/>
<area shape="rect" id="node49" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="457,975,608,1001"/>
<area shape="rect" id="node50" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="465,1228,600,1255"/>
</map>
</div>

</div>
</div>
<a id="a67e717a3e151b2371209d5f979d8345e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e717a3e151b2371209d5f979d8345e">&#9670;&nbsp;</a></span>btrfs_force_chunk_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_force_chunk_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_cgraph.png" border="0" usemap="#extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_cgraph" alt=""/></div>
<map name="extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_cgraph" id="extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="891,20,1007,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="213,268,325,295"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1134,13,1262,54"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1359,20,1489,47"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="636,268,763,295"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="631,218,767,244"/>
<area shape="rect" id="node12" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="381,319,541,346"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="373,370,548,396"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="386,420,535,447"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1127,250,1269,292"/>
<area shape="rect" id="node45" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="637,1592,761,1619"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="394,38,527,80"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="872,319,1025,346"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="875,152,1022,193"/>
<area shape="rect" id="node10" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="895,218,1002,244"/>
<area shape="rect" id="node11" href="math_8h.html#a1e995188eb1e88b353d2dfe473f4b868" title="div_factor" alt="" coords="1159,832,1237,859"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ae1ea76da07dad6d2aba1d75a681c4d4d" title="get_profile_num_devs" alt="" coords="625,471,774,498"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="596,867,803,894"/>
<area shape="rect" id="node19" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1095,1512,1301,1539"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="637,319,761,346"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="633,152,765,193"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="630,370,769,396"/>
<area shape="rect" id="node17" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="879,1228,1019,1269"/>
<area shape="rect" id="node18" href="ctree_8h.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="871,1476,1026,1517"/>
<area shape="rect" id="node20" href="ctree_8h.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="872,1293,1025,1334"/>
<area shape="rect" id="node21" href="ctree_8h.html#a0168e2588b90442367ccc0a720842a31" title="btrfs_wait_block_group\l_reservations" alt="" coords="871,1358,1027,1400"/>
<area shape="rect" id="node22" href="ctree_8h.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="867,1424,1030,1451"/>
<area shape="rect" id="node23" href="ctree_8h.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="865,420,1032,447"/>
<area shape="rect" id="node24" href="ctree_8h.html#aed66043c7227815a391ec5c94f0a130c" title="btrfs_wait_nocow_writers" alt="" coords="863,471,1034,498"/>
<area shape="rect" id="node25" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="873,522,1024,548"/>
<area shape="rect" id="node26" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="871,370,1026,396"/>
<area shape="rect" id="node31" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="921,572,976,599"/>
<area shape="rect" id="node32" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="851,623,1047,650"/>
<area shape="rect" id="node33" href="ctree_8h.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="865,674,1033,700"/>
<area shape="rect" id="node34" href="ctree_8h.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="867,724,1031,751"/>
<area shape="rect" id="node35" href="ctree_8h.html#aa4746d6ccfd60a85e71f8491cf16c80e" title="btrfs_pin_extent" alt="" coords="891,775,1006,802"/>
<area shape="rect" id="node36" href="ctree_8h.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="880,826,1017,868"/>
<area shape="rect" id="node37" href="ctree_8h.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="876,892,1021,933"/>
<area shape="rect" id="node38" href="ctree_8h.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="877,958,1021,984"/>
<area shape="rect" id="node39" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="883,1009,1014,1050"/>
<area shape="rect" id="node40" href="ctree_8h.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="873,1075,1024,1102"/>
<area shape="rect" id="node41" href="ctree_8h.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="874,1126,1023,1152"/>
<area shape="rect" id="node42" href="ctree_8h.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="877,1176,1021,1203"/>
<area shape="rect" id="node28" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="1547,255,1665,282"/>
<area shape="rect" id="node29" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="1360,185,1488,226"/>
<area shape="rect" id="node30" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1349,250,1499,292"/>
<area shape="rect" id="node46" href="volumes_8c.html#a74e7997dabf8dcf8bff58a1ff1b77302" title="find_next_chunk" alt="" coords="890,1643,1007,1670"/>
<area shape="rect" id="node47" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="879,1592,1018,1619"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="616,46,783,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_icgraph.png" border="0" usemap="#extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_icgraph" alt=""/></div>
<map name="extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_icgraph" id="extent-tree_8c_a67e717a3e151b2371209d5f979d8345e_icgraph">
<area shape="rect" id="node2" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="213,461,359,488"/>
<area shape="rect" id="node50" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="593,399,740,441"/>
<area shape="rect" id="node3" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="407,458,545,499"/>
<area shape="rect" id="node4" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="619,520,715,547"/>
<area shape="rect" id="node6" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="595,465,738,492"/>
<area shape="rect" id="node5" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="788,553,936,580"/>
<area shape="rect" id="node7" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="797,487,927,529"/>
<area shape="rect" id="node32" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="987,335,1102,361"/>
<area shape="rect" id="node45" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="795,436,929,463"/>
<area shape="rect" id="node8" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1153,689,1301,716"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="1357,689,1492,716"/>
<area shape="rect" id="node13" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1763,411,1833,437"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1584,613,1663,640"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="3180,411,3355,437"/>
<area shape="rect" id="node12" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="3403,335,3500,361"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2981,284,3132,311"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2583,659,2751,685"/>
<area shape="rect" id="node18" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1919,411,2023,437"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="2800,609,2933,636"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="3003,560,3111,587"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ac463e9eb3de91a98c3f48a70f1e3bbf2" title="btrfs_submit_bio_done" alt="" coords="2117,461,2271,488"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a2615d016ca805afc39763902e5c4f0c6" title="btrfs_submit_bio_hook" alt="" coords="2362,411,2515,437"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a4d73952fef577a94cb0d88a7d2bc3ba6" title="btrfs_submit_dio_bio" alt="" coords="2367,629,2510,656"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a001246b2047e20a19740fea1dd447ac3" title="submit_dio_repair_bio" alt="" coords="2120,579,2268,605"/>
<area shape="rect" id="node26" href="compression_8h.html#a5ac02908a7c42f70ee09319b3333c144" title="btrfs_submit_compressed\l_write" alt="" coords="2108,513,2280,554"/>
<area shape="rect" id="node29" href="compression_8h.html#ac2ce470a41c2a2d7b1514fdc30729d7b" title="btrfs_submit_compressed_read" alt="" coords="2092,360,2296,387"/>
<area shape="rect" id="node30" href="disk-io_8c.html#aa71a4ee86defa688fce99ab93f1aba60" title="btree_submit_bio_done" alt="" coords="2116,309,2272,336"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a5c8a6960b9eb2eefd752fde872397524" title="btree_submit_bio_hook" alt="" coords="2361,309,2517,336"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#af38a0884b76e0891620ccec7cea059ab" title="dio_read_error" alt="" coords="2387,579,2491,605"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a847bbb00b70fe02bd119aa7093fdd209" title="__btrfs_correct_data\l_nocsum" alt="" coords="2596,593,2737,634"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#ac0d378b13b766fbe5ee506793a834007" title="__btrfs_subio_endio_read" alt="" coords="2581,541,2752,568"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2344,505,2533,532"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2599,491,2734,517"/>
<area shape="rect" id="node33" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1177,335,1277,361"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a1c67a45d01e21c34466033026965435d" title="btrfs_ioctl_balance" alt="" coords="1359,487,1490,513"/>
<area shape="rect" id="node35" href="volumes_8c.html#a7fef684404203359cc17ef9c199a8781" title="balance_kthread" alt="" coords="1366,280,1483,307"/>
<area shape="rect" id="node36" href="volumes_8h.html#a4524f321f22012ba6b027ef6e523156d" title="btrfs_resume_balance\l_async" alt="" coords="1548,210,1699,251"/>
<area shape="rect" id="node37" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1747,56,1849,83"/>
<area shape="rect" id="node41" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1755,157,1841,184"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1925,56,2016,83"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1897,5,2044,32"/>
<area shape="rect" id="node39" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2383,81,2494,108"/>
<area shape="rect" id="node42" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1917,107,2024,133"/>
<area shape="rect" id="node44" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1916,157,2025,184"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2134,107,2254,133"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="984,524,1105,551"/>
<area shape="rect" id="node47" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1170,487,1285,513"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1349,588,1500,615"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1360,537,1489,564"/>
</map>
</div>

</div>
</div>
<a id="ad9815bbc6a05bd4217bdf7d952cba739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9815bbc6a05bd4217bdf7d952cba739">&#9670;&nbsp;</a></span>btrfs_free_and_pin_reserved_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_free_and_pin_reserved_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_cgraph.png" border="0" usemap="#extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_cgraph" id="extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="183,443,331,484"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="389,27,519,68"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="394,134,514,161"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="384,269,524,295"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="381,635,527,662"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="387,687,521,728"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="379,753,529,779"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="581,5,743,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="800,13,951,39"/>
<area shape="rect" id="node7" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="605,71,719,98"/>
<area shape="rect" id="node8" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="823,71,927,98"/>
<area shape="rect" id="node10" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="589,173,735,215"/>
<area shape="rect" id="node11" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="800,210,951,237"/>
<area shape="rect" id="node13" href="volumes_8c.html#a806da0ebe2985a4eaea08e3d6ed4d4ac" title="btrfs_map_block" alt="" coords="603,122,721,149"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="595,341,729,367"/>
<area shape="rect" id="node17" href="volumes_8c.html#a2b27c3f73a9f1490121abcde8ab4b319" title="btrfs_put_bbio" alt="" coords="610,290,714,317"/>
<area shape="rect" id="node12" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="1004,210,1155,237"/>
<area shape="rect" id="node14" href="volumes_8c.html#a7944ddf1ce0e72fdb6e881f706550c6f" title="__btrfs_map_block" alt="" coords="809,122,941,149"/>
<area shape="rect" id="node16" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="821,290,930,317"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="795,509,956,535"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="577,1011,747,1038"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="591,945,733,987"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="577,763,747,804"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="592,880,732,921"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="814,763,937,804"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="583,509,741,535"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="580,391,744,418"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="589,559,735,586"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="581,610,743,637"/>
<area shape="rect" id="node47" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="595,443,729,484"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="585,711,739,738"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1211,534,1361,561"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1015,610,1143,637"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1015,458,1144,485"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1023,661,1136,687"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1417,610,1548,637"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1419,1091,1546,1118"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1227,965,1345,991"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="803,879,947,906"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1026,863,1133,890"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1017,813,1141,839"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1034,1015,1125,1042"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="800,1032,951,1073"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="801,443,949,484"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="818,930,933,957"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="795,559,956,586"/>
<area shape="rect" id="node40" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1052,711,1107,738"/>
<area shape="rect" id="node43" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="828,391,923,418"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1203,413,1369,439"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_icgraph.png" border="0" usemap="#extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_icgraph" id="extent-tree_8c_ad9815bbc6a05bd4217bdf7d952cba739_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="371,535,577,561"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="185,1011,320,1053"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="183,859,323,885"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a9f37fe1648eade27cb6d159fb2fbe93c" title="walk_log_tree" alt="" coords="423,911,525,937"/>
<area shape="rect" id="node50" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="191,909,314,936"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1518,716,1639,743"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1091,5,1194,32"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="635,361,784,388"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="625,469,793,510"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1716,716,1863,743"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1287,111,1434,137"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1312,5,1409,32"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1511,161,1647,188"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1730,161,1849,188"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1915,335,2001,361"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1712,276,1867,303"/>
<area shape="rect" id="node11" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1498,335,1659,361"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1533,5,1625,32"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="869,335,981,361"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1059,411,1226,437"/>
<area shape="rect" id="node24" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="855,151,995,177"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1501,475,1657,517"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1097,309,1189,336"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1085,208,1200,235"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1063,259,1223,285"/>
<area shape="rect" id="node20" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1291,411,1430,453"/>
<area shape="rect" id="node22" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1493,561,1664,588"/>
<area shape="rect" id="node21" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1507,415,1650,441"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1059,56,1226,83"/>
<area shape="rect" id="node26" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1108,107,1177,133"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="860,585,991,612"/>
<area shape="rect" id="node36" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="858,469,993,510"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1057,563,1228,589"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1067,679,1218,721"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1066,614,1219,655"/>
<area shape="rect" id="node31" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1276,687,1445,713"/>
<area shape="rect" id="node32" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1499,845,1658,872"/>
<area shape="rect" id="node33" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1732,836,1847,863"/>
<area shape="rect" id="node34" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1724,906,1855,947"/>
<area shape="rect" id="node37" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1071,512,1214,539"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="403,1019,545,1045"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="638,1019,781,1045"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="841,1019,1009,1045"/>
<area shape="rect" id="node44" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="661,911,758,937"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="875,859,976,885"/>
<area shape="rect" id="node49" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1063,913,1222,940"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="1074,847,1211,889"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1083,796,1202,823"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="1295,855,1426,881"/>
</map>
</div>

</div>
</div>
<a id="a9c2d13383a026f29ff3e3af7d13d3cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c2d13383a026f29ff3e3af7d13d3cb3">&#9670;&nbsp;</a></span>btrfs_free_block_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_free_block_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_cgraph.png" border="0" usemap="#extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_cgraph" alt=""/></div>
<map name="extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_cgraph" id="extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="229,1015,368,1041"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="223,964,374,991"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="222,1128,375,1155"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="851,129,1020,170"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d" title="release_global_block_rsv" alt="" coords="215,1204,383,1231"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="873,1065,997,1092"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="431,913,600,940"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1717,761,1848,788"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1723,681,1842,708"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1896,441,2023,468"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1525,441,1639,468"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="652,564,799,591"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1510,289,1654,316"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="2071,829,2212,856"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1721,467,1844,493"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1068,505,1229,532"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1277,464,1447,491"/>
<area shape="rect" id="node21" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="865,63,1006,105"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="851,527,1020,569"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="1292,130,1432,171"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1301,297,1423,338"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1069,863,1228,889"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="853,593,1017,620"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="862,644,1009,671"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="855,695,1016,721"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="868,797,1003,838"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="858,745,1013,772"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1507,812,1657,839"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1297,597,1427,624"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="1495,593,1669,620"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="1509,645,1655,686"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1721,391,1845,417"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1737,239,1828,265"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1729,289,1836,316"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="1073,63,1224,105"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="1075,590,1223,631"/>
<area shape="rect" id="node25" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1287,773,1437,800"/>
<area shape="rect" id="node28" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1555,863,1609,889"/>
<area shape="rect" id="node37" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="455,1148,576,1175"/>
<area shape="rect" id="node38" href="extent__io_8h.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="668,1116,783,1143"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a3a9187bda80397c1b3fb9df12b5d5be2" title="set_record_extent_bits" alt="" coords="648,1167,803,1193"/>
<area shape="rect" id="node42" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="673,1217,777,1244"/>
<area shape="rect" id="node39" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="871,1116,999,1143"/>
<area shape="rect" id="node41" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="876,1171,995,1197"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="432,1228,599,1255"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="657,1269,794,1310"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1072,1225,1225,1252"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="876,1225,995,1252"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1283,1015,1441,1041"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_icgraph.png" border="0" usemap="#extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_icgraph" id="extent-tree_8c_a9c2d13383a026f29ff3e3af7d13d3cb3_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="215,585,421,612"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1339,788,1425,815"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1133,640,1222,667"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="493,412,614,439"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="704,847,807,873"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="479,237,628,264"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="469,519,637,561"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1501,467,1648,493"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="885,897,1032,924"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="910,847,1007,873"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1109,999,1245,1025"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1323,948,1441,975"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1100,796,1255,823"/>
<area shape="rect" id="node27" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1097,847,1258,873"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1521,809,1628,836"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1520,625,1629,652"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1956,835,2076,861"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2155,835,2265,861"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1696,322,1877,363"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1719,642,1855,683"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1725,708,1849,735"/>
<area shape="rect" id="node21" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1727,388,1847,415"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1711,439,1863,465"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1719,540,1854,567"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1737,591,1837,617"/>
<area shape="rect" id="node25" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1709,809,1865,836"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1925,329,2107,356"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1943,624,2089,651"/>
<area shape="rect" id="node18" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1929,675,2103,701"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2175,675,2245,701"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1131,695,1223,721"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="699,132,811,159"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="875,5,1042,32"/>
<area shape="rect" id="node40" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="685,316,825,343"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="881,209,1037,250"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="913,56,1005,83"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="901,107,1016,133"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="879,157,1039,184"/>
<area shape="rect" id="node36" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1108,293,1247,334"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1092,5,1263,32"/>
<area shape="rect" id="node37" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1311,329,1453,356"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="875,460,1042,487"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1326,524,1438,551"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="690,636,821,663"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="688,519,823,561"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="873,679,1044,705"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="883,730,1034,771"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="882,613,1035,654"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="887,561,1030,588"/>
</map>
</div>

</div>
</div>
<a id="abc2881165c601bfce62c1bb9e1629d37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2881165c601bfce62c1bb9e1629d37">&#9670;&nbsp;</a></span>btrfs_free_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_free_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_cgraph.png" border="0" usemap="#extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_cgraph" alt=""/></div>
<map name="extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_cgraph" id="extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="193,39,353,65"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="401,39,568,65"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="616,31,753,73"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="968,5,1121,32"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="801,64,920,91"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="979,57,1111,98"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="973,122,1116,163"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="971,187,1118,229"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1169,97,1285,124"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1333,90,1461,131"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1509,97,1640,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_icgraph.png" border="0" usemap="#extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_icgraph" alt=""/></div>
<map name="extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_icgraph" id="extent-tree_8c_abc2881165c601bfce62c1bb9e1629d37_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="219,107,341,133"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a9f519da4aab67c46bc3d8c18294f74cc" title="btrfs_orphan_commit_root" alt="" coords="193,613,367,640"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1291,411,1412,437"/>
<area shape="rect" id="node17" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1279,613,1424,640"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="219,280,341,307"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="875,512,978,539"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a183ade15bf6f13734cdb0613d817e2b4" title="free_fs_root" alt="" coords="437,1013,528,1040"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="431,5,535,32"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="867,613,986,640"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1048,664,1223,691"/>
<area shape="rect" id="node8" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1051,512,1220,539"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1703,939,1873,965"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1298,309,1405,336"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1291,461,1412,488"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1301,512,1402,539"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1306,563,1397,589"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1508,765,1627,792"/>
<area shape="rect" id="node21" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1271,917,1432,944"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1480,183,1655,209"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1494,487,1641,513"/>
<area shape="rect" id="node18" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1498,653,1637,694"/>
<area shape="rect" id="node19" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1740,764,1836,791"/>
<area shape="rect" id="node20" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1717,511,1859,537"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1745,1120,1831,1147"/>
<area shape="rect" id="node23" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1921,1221,2031,1248"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1062,895,1209,921"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="657,56,747,83"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="885,107,969,133"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1087,280,1184,307"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="433,163,532,189"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="435,224,530,251"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="415,353,551,394"/>
<area shape="rect" id="node40" href="relocation_8c.html#aafc372d1d9b506be64cd48ee274a439f" title="create_reloc_inode" alt="" coords="1286,715,1417,741"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1283,816,1419,843"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1274,1120,1429,1147"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1504,1003,1631,1045"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1305,259,1397,285"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#acf4169a1b179f406bc39c7a1a4e6a137" title="btrfs_rename2" alt="" coords="649,157,755,184"/>
<area shape="rect" id="node37" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="599,411,805,437"/>
<area shape="rect" id="node39" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="632,360,772,387"/>
<area shape="rect" id="node42" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="867,1059,987,1085"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="633,966,771,1007"/>
<area shape="rect" id="node49" href="disk-io_8h.html#a3a7cc81666581b1ddc4c93426fc0c881" title="btrfs_free_fs_root" alt="" coords="1289,1069,1413,1096"/>
<area shape="rect" id="node43" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="1068,1069,1203,1096"/>
<area shape="rect" id="node44" href="relocation_8c.html#ac8040f19c795141fa9385abd1f130a3d" title="read_fs_root" alt="" coords="1088,844,1183,871"/>
<area shape="rect" id="node45" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1093,1120,1178,1147"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="1502,1272,1633,1299"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a530799217731333b6bf18b4fae041f9e" title="switch_commit_roots" alt="" coords="853,664,1000,691"/>
<area shape="rect" id="node50" href="root-tree_8c.html#a75538964811d50c5ca5b9f5348fb1cf0" title="btrfs_find_orphan_roots" alt="" coords="1488,1069,1647,1096"/>
</map>
</div>

</div>
</div>
<a id="acf0f17d42f330fe7529598d6dda3e175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0f17d42f330fe7529598d6dda3e175">&#9670;&nbsp;</a></span>btrfs_free_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_free_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_cgraph.png" border="0" usemap="#extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_cgraph" alt=""/></div>
<map name="extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_cgraph" id="extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="209,173,320,200"/>
<area shape="rect" id="node3" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="199,224,330,250"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="207,493,322,520"/>
<area shape="rect" id="node25" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="175,628,354,654"/>
<area shape="rect" id="node47" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="173,737,356,764"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="201,842,328,869"/>
<area shape="rect" id="node4" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="620,300,759,326"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="421,97,539,124"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="630,148,749,174"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="416,46,544,73"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="630,46,749,73"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="413,198,547,225"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="424,249,536,276"/>
<area shape="rect" id="node14" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="417,350,543,377"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="625,97,753,124"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="837,198,973,225"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="648,249,731,276"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="415,402,545,443"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="420,468,540,494"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="405,518,555,545"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="608,402,771,443"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="829,409,980,436"/>
<area shape="rect" id="node20" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="632,468,747,494"/>
<area shape="rect" id="node21" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="853,464,957,490"/>
<area shape="rect" id="node22" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="1049,464,1167,490"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1233,464,1361,490"/>
<area shape="rect" id="node26" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="653,737,725,764"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="404,577,556,604"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="407,628,553,654"/>
<area shape="rect" id="node40" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="415,730,545,771"/>
<area shape="rect" id="node28" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="624,570,755,611"/>
<area shape="rect" id="node29" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="644,636,735,662"/>
<area shape="rect" id="node30" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="604,518,775,545"/>
<area shape="rect" id="node31" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="840,515,969,556"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1229,704,1364,746"/>
<area shape="rect" id="node34" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="625,788,753,814"/>
<area shape="rect" id="node35" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="863,737,946,764"/>
<area shape="rect" id="node38" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="844,788,965,814"/>
<area shape="rect" id="node36" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1067,737,1149,764"/>
<area shape="rect" id="node37" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1229,888,1364,930"/>
<area shape="rect" id="node39" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1035,788,1181,814"/>
<area shape="rect" id="node41" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="623,864,755,890"/>
<area shape="rect" id="node42" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="823,889,987,916"/>
<area shape="rect" id="node43" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1068,990,1148,1017"/>
<area shape="rect" id="node44" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1071,838,1145,865"/>
<area shape="rect" id="node45" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1044,889,1172,916"/>
<area shape="rect" id="node46" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1069,940,1147,966"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="405,846,555,873"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="417,897,543,924"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_icgraph.png" border="0" usemap="#extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_icgraph" alt=""/></div>
<map name="extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_icgraph" id="extent-tree_8c_acf0f17d42f330fe7529598d6dda3e175_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="188,401,332,428"/>
<area shape="rect" id="node26" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="173,140,347,167"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="628,674,768,715"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="595,816,801,843"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="202,779,318,805"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="206,836,314,863"/>
<area shape="rect" id="node47" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="191,899,329,925"/>
<area shape="rect" id="node49" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="212,975,308,1001"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a20c090844c67ac58992e0e415b3a979c" title="btrfs_drop_extents" alt="" coords="405,351,536,377"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="410,224,531,251"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="397,553,544,580"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="403,82,538,123"/>
<area shape="rect" id="node20" href="tree-log_8c.html#a7ca07330eb9bbc96b69ca30dbfa8f1bb" title="log_one_extent" alt="" coords="415,452,526,479"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="625,452,771,479"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="633,249,763,276"/>
<area shape="rect" id="node6" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="614,199,782,225"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="890,249,977,276"/>
<area shape="rect" id="node8" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="634,351,762,377"/>
<area shape="rect" id="node9" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="871,376,996,403"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="646,148,750,175"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a4bcdf8fa7529d080b3d88d0f5ae67abd" title="compress_file_range" alt="" coords="627,553,769,580"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="643,604,753,631"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="621,31,775,57"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="629,82,767,123"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="873,5,994,32"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="864,56,1003,83"/>
<area shape="rect" id="node21" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="1065,548,1244,575"/>
<area shape="rect" id="node22" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1292,573,1403,600"/>
<area shape="rect" id="node23" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1451,573,1595,600"/>
<area shape="rect" id="node24" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1643,624,1785,651"/>
<area shape="rect" id="node25" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1833,573,1987,600"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="873,875,994,901"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="882,688,985,715"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="868,743,999,785"/>
<area shape="rect" id="node37" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="871,554,995,595"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1081,919,1228,945"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1081,649,1228,676"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1106,700,1203,727"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1089,868,1220,895"/>
<area shape="rect" id="node35" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1080,751,1229,777"/>
<area shape="rect" id="node36" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1087,802,1222,843"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="859,947,1008,973"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="849,809,1017,850"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1099,969,1211,996"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="423,779,518,805"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="421,829,520,856"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="413,880,529,907"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9c0768208e7f7df3d067b31cfdd72ba4" title="btrfs_reloc_cow_block" alt="" coords="395,931,547,957"/>
<area shape="rect" id="node50" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="409,981,532,1008"/>
</map>
</div>

</div>
</div>
<a id="a0cfc265000250b53e31d1b0c836c54db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfc265000250b53e31d1b0c836c54db">&#9670;&nbsp;</a></span>btrfs_free_reserved_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_free_reserved_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>btrfs_free_reserved_bytes - update the block_group and space info counters : The cache we are manipulating : The number of bytes in question : The blocks are allocated for the delalloc write</p>
<p>This is called by somebody who is freeing space that was never actually used on disk. For example if you reserve some space for a new leaf in transaction A and before transaction A commits you free that leaf, you call this with reserve set to 0 in order to clear the reservation. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0cfc265000250b53e31d1b0c836c54db_icgraph.png" border="0" usemap="#extent-tree_8c_a0cfc265000250b53e31d1b0c836c54db_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0cfc265000250b53e31d1b0c836c54db_icgraph" id="extent-tree_8c_a0cfc265000250b53e31d1b0c836c54db_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="575,304,719,331"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="188,526,336,567"/>
<area shape="rect" id="node3" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="814,333,945,360"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1281,195,1383,221"/>
<area shape="rect" id="node29" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1497,633,1597,660"/>
<area shape="rect" id="node30" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="776,701,983,728"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="828,60,931,87"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="788,132,971,159"/>
<area shape="rect" id="node37" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="812,196,947,223"/>
<area shape="rect" id="node4" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1056,347,1173,373"/>
<area shape="rect" id="node28" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1677,68,1805,95"/>
<area shape="rect" id="node7" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1680,220,1803,247"/>
<area shape="rect" id="node15" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1892,93,1988,120"/>
<area shape="rect" id="node16" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="2090,144,2213,171"/>
<area shape="rect" id="node17" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1891,245,1989,272"/>
<area shape="rect" id="node19" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="1255,397,1409,424"/>
<area shape="rect" id="node20" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="1492,481,1603,508"/>
<area shape="rect" id="node25" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="1496,565,1599,592"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1254,499,1410,525"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1247,549,1417,576"/>
<area shape="rect" id="node6" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1465,195,1629,221"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1853,296,2027,323"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1870,499,2010,541"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="2084,397,2219,424"/>
<area shape="rect" id="node14" href="file-item_8c.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="1881,397,1999,424"/>
<area shape="rect" id="node18" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1872,43,2008,69"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="2075,43,2228,69"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2091,769,2212,796"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2100,620,2203,647"/>
<area shape="rect" id="node21" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1686,549,1797,576"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1868,683,2012,709"/>
<area shape="rect" id="node23" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="1888,565,1992,592"/>
<area shape="rect" id="node24" href="delayed-inode_8c.html#ae402d8ec9601c06e554747b9d5a1ffe6" title="btrfs_batch_delete\l_items" alt="" coords="1875,617,2005,658"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1040,752,1189,779"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1031,803,1199,845"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1065,45,1164,72"/>
<area shape="rect" id="node36" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1071,120,1158,147"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1045,171,1184,197"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="384,526,519,567"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="387,821,516,862"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="785,752,974,779"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="593,651,702,677"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="567,533,728,560"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="578,585,717,626"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="573,432,722,459"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="580,955,715,997"/>
<area shape="rect" id="node48" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="577,803,717,829"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a9f37fe1648eade27cb6d159fb2fbe93c" title="walk_log_tree" alt="" coords="828,853,931,880"/>
<area shape="rect" id="node50" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="586,853,709,880"/>
</map>
</div>

</div>
</div>
<a id="af5493ecbdd23a2cf646a8cc4c2836229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5493ecbdd23a2cf646a8cc4c2836229">&#9670;&nbsp;</a></span>btrfs_free_reserved_data_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_free_reserved_data_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__changeset.html">extent_changeset</a> *&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_cgraph.png" border="0" usemap="#extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_cgraph" alt=""/></div>
<map name="extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_cgraph" id="extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_cgraph">
<area shape="rect" id="node2" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="903,588,981,615"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2" title="btrfs_free_reserved\l_data_space_noquota" alt="" coords="191,737,340,778"/>
<area shape="rect" id="node5" href="qgroup_8c.html#aac782519743d0904887086fb774622b7" title="btrfs_qgroup_free_data" alt="" coords="188,685,343,712"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="451,744,520,771"/>
<area shape="rect" id="node6" href="qgroup_8c.html#a3e109c3974d11e0175260a7396be7ec1" title="__btrfs_qgroup_release_data" alt="" coords="391,689,580,716"/>
<area shape="rect" id="node7" href="qgroup_8c.html#ad44309312efd0179f52911e94e5fa1e3" title="qgroup_free_reserved_data" alt="" coords="628,740,807,767"/>
<area shape="rect" id="node8" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="867,689,1017,716"/>
<area shape="rect" id="node11" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="855,841,1029,868"/>
<area shape="rect" id="node13" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="860,639,1024,665"/>
<area shape="rect" id="node44" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="859,791,1025,817"/>
<area shape="rect" id="node10" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1113,664,1191,691"/>
<area shape="rect" id="node9" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1311,791,1381,817"/>
<area shape="rect" id="node12" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1299,968,1393,995"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="1088,432,1216,459"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1477,461,1605,488"/>
<area shape="rect" id="node16" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1841,385,1981,412"/>
<area shape="rect" id="node19" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1664,385,1787,412"/>
<area shape="rect" id="node20" href="extent__io_8c.html#a69da98b4b5fc8b28b435f40f0b3ae3d7" title="tree_search" alt="" coords="1301,19,1391,45"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="1499,107,1582,133"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="1282,454,1410,495"/>
<area shape="rect" id="node25" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="1305,571,1387,597"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="1275,81,1417,108"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a297b8b86f599aea09760477a533be51a" title="clear_state_bit" alt="" coords="1293,259,1399,285"/>
<area shape="rect" id="node17" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="2062,360,2157,387"/>
<area shape="rect" id="node18" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="2036,411,2183,437"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="1465,5,1616,32"/>
<area shape="rect" id="node22" href="extent__io_8c.html#abe467271d634b8343246cb5501b8baa5" title="__etree_search" alt="" coords="1670,5,1781,32"/>
<area shape="rect" id="node26" href="extent__io_8c.html#ad8c520dcd5197ddf9a219ad61bb09447" title="split_cb" alt="" coords="1507,613,1574,640"/>
<area shape="rect" id="node27" href="extent__io_8c.html#af958ea152d9987cc5689861b43c9d595" title="tree_insert" alt="" coords="1499,563,1582,589"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a320be295294cb256f23fe5d3e74d8fea" title="tree_fs_info" alt="" coords="1495,56,1586,83"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a89495b143c7ce6783b81100b60f2a0b3" title="clear_state_cb" alt="" coords="1487,208,1594,235"/>
<area shape="rect" id="node34" href="extent__io_8c.html#a0faa12cb962bf387a41fc563285a13cf" title="add_extent_changeset" alt="" coords="1835,183,1988,209"/>
<area shape="rect" id="node42" href="extent__io_8c.html#a0e9df311badff8a81168b49e10e47db7" title="merge_state" alt="" coords="1493,309,1588,336"/>
<area shape="rect" id="node32" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="1673,208,1777,235"/>
<area shape="rect" id="node33" href="extent__io_8c.html#a9978f793a333445e07eb82b0c69ebdd8" title="set_state_cb" alt="" coords="1863,233,1960,260"/>
<area shape="rect" id="node35" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="2072,613,2147,640"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a552b62b75391793157f27eda7bdfea10" title="flush_write_bio" alt="" coords="2055,183,2164,209"/>
<area shape="rect" id="node36" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="2231,613,2348,640"/>
<area shape="rect" id="node37" href="ulist_8c.html#a4a2f46d31727a215a17d74ce60594523" title="ulist_rbtree_search" alt="" coords="2396,588,2528,615"/>
<area shape="rect" id="node38" href="ulist_8c.html#a9e22aa0917a164df2a7ab11359e3ce62" title="ulist_rbtree_insert" alt="" coords="2399,639,2525,665"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a4506724f341b037ca5b7b8b03e6fd705" title="submit_one_bio" alt="" coords="2233,183,2346,209"/>
<area shape="rect" id="node41" href="check-integrity_8c.html#a4bfa0549f2775a3bc6d773760cd26675" title="btrfsic_submit_bio" alt="" coords="2398,183,2526,209"/>
<area shape="rect" id="node43" href="extent__io_8c.html#ad00187c1eb74f8f0ab88e909f9a01709" title="merge_cb" alt="" coords="1686,309,1765,336"/>
<area shape="rect" id="node45" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1116,968,1188,995"/>
<area shape="rect" id="node46" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="1099,1019,1205,1045"/>
<area shape="rect" id="node47" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="1111,816,1193,843"/>
<area shape="rect" id="node48" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="1099,765,1205,792"/>
<area shape="rect" id="node49" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="1077,867,1227,893"/>
<area shape="rect" id="node50" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="1085,917,1219,944"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_icgraph.png" border="0" usemap="#extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_icgraph" alt=""/></div>
<map name="extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_icgraph" id="extent-tree_8c_af5493ecbdd23a2cf646a8cc4c2836229_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="394,91,545,118"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="617,274,735,301"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="832,355,936,382"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="193,208,332,249"/>
<area shape="rect" id="node9" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="609,5,743,47"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="188,480,337,521"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="189,389,337,431"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="608,122,744,149"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="818,117,950,143"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="407,143,531,184"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="407,208,531,249"/>
<area shape="rect" id="node10" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1053,75,1188,116"/>
<area shape="rect" id="node11" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="1288,82,1431,109"/>
<area shape="rect" id="node12" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1511,133,1657,159"/>
<area shape="rect" id="node13" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1733,125,1871,167"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="611,173,741,199"/>
<area shape="rect" id="node34" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="601,578,751,605"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="799,299,969,326"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="809,168,959,209"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="807,233,961,275"/>
<area shape="rect" id="node17" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1017,243,1224,270"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1043,298,1199,325"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1308,447,1411,474"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1511,394,1657,421"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1535,571,1633,598"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1734,470,1870,497"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1959,470,2077,497"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1975,318,2061,345"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1725,318,1879,345"/>
<area shape="rect" id="node24" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1721,267,1883,294"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1756,625,1848,651"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1931,735,2105,762"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="2153,735,2251,762"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1272,510,1447,537"/>
<area shape="rect" id="node31" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1275,294,1444,321"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1061,517,1180,543"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="1286,787,1433,828"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="399,437,539,463"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="415,589,523,615"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="401,386,537,413"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="385,538,553,565"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="1495,790,1673,817"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="615,426,737,453"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="611,477,741,503"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="825,415,943,442"/>
<area shape="rect" id="node43" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="1046,415,1195,442"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="619,629,733,655"/>
<area shape="rect" id="node48" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="819,619,949,660"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="823,685,945,711"/>
</map>
</div>

</div>
</div>
<a id="a6298454047d06ed58559cb27578ab8b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6298454047d06ed58559cb27578ab8b2">&#9670;&nbsp;</a></span>btrfs_free_reserved_data_space_noquota()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_free_reserved_data_space_noquota </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_cgraph.png" border="0" usemap="#extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_cgraph" id="extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="203,13,272,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_icgraph.png" border="0" usemap="#extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_icgraph" id="extent-tree_8c_a6298454047d06ed58559cb27578ab8b2_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="413,5,552,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="203,153,360,180"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="206,285,357,326"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#af5493ecbdd23a2cf646a8cc4c2836229" title="btrfs_free_reserved\l_data_space" alt="" coords="214,497,349,538"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1943,81,2117,108"/>
<area shape="rect" id="node4" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="2165,81,2263,108"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="635,201,743,228"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="614,471,765,497"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="831,201,961,228"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="408,285,557,326"/>
<area shape="rect" id="node43" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="829,759,963,801"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="828,353,964,380"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1038,441,1170,468"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1019,340,1189,367"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1029,209,1179,250"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1027,274,1181,315"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1237,239,1444,265"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1263,340,1419,367"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1744,188,1865,215"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1528,467,1631,493"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1505,275,1654,301"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1495,158,1663,199"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1492,391,1667,417"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1495,340,1664,367"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1751,239,1858,265"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1744,391,1865,417"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1754,289,1855,316"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1759,340,1850,367"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1951,467,2109,493"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1715,441,1895,468"/>
<area shape="rect" id="node27" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1732,593,1877,620"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="616,135,763,177"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="619,521,759,548"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="621,353,757,380"/>
<area shape="rect" id="node39" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="821,303,971,329"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="605,252,773,279"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="1251,56,1430,83"/>
<area shape="rect" id="node34" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="835,607,957,633"/>
<area shape="rect" id="node35" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1052,632,1156,659"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="837,657,955,684"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="831,455,961,481"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1281,391,1400,417"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="839,252,953,279"/>
<area shape="rect" id="node44" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1273,637,1408,678"/>
<area shape="rect" id="node45" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="1508,644,1651,671"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="413,467,552,509"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="409,350,557,391"/>
<area shape="rect" id="node48" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="627,650,751,691"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="627,405,751,446"/>
</map>
</div>

</div>
</div>
<a id="aac787eabdc24ddb5afae4b9efa44e8ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac787eabdc24ddb5afae4b9efa44e8ec">&#9670;&nbsp;</a></span>btrfs_free_reserved_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_free_reserved_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_cgraph.png" border="0" usemap="#extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_cgraph" alt=""/></div>
<map name="extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_cgraph" id="extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="188,443,336,484"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="394,27,525,68"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="399,134,519,161"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="389,269,529,295"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="386,635,533,662"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="392,687,527,728"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="384,753,535,779"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="586,5,749,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="805,13,956,39"/>
<area shape="rect" id="node7" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="610,71,725,98"/>
<area shape="rect" id="node8" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="829,71,933,98"/>
<area shape="rect" id="node10" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="594,173,741,215"/>
<area shape="rect" id="node11" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="805,210,956,237"/>
<area shape="rect" id="node13" href="volumes_8c.html#a806da0ebe2985a4eaea08e3d6ed4d4ac" title="btrfs_map_block" alt="" coords="608,122,727,149"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="600,341,735,367"/>
<area shape="rect" id="node17" href="volumes_8c.html#a2b27c3f73a9f1490121abcde8ab4b319" title="btrfs_put_bbio" alt="" coords="615,290,719,317"/>
<area shape="rect" id="node12" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="1009,210,1160,237"/>
<area shape="rect" id="node14" href="volumes_8c.html#a7944ddf1ce0e72fdb6e881f706550c6f" title="__btrfs_map_block" alt="" coords="815,122,947,149"/>
<area shape="rect" id="node16" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="826,290,935,317"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="800,509,961,535"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="583,1011,752,1038"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="597,945,738,987"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="583,763,752,804"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="597,880,737,921"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="819,763,942,804"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="588,509,747,535"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="585,391,749,418"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="594,559,741,586"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="587,610,748,637"/>
<area shape="rect" id="node47" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="600,443,735,484"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="590,711,745,738"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1216,534,1367,561"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1021,610,1149,637"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1020,458,1149,485"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1028,661,1141,687"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1423,610,1553,637"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1425,1091,1551,1118"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1232,965,1351,991"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="809,879,953,906"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1031,863,1138,890"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1023,813,1147,839"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1039,1015,1130,1042"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="805,1032,956,1073"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="807,443,955,484"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="823,930,938,957"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="800,559,961,586"/>
<area shape="rect" id="node40" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1057,711,1112,738"/>
<area shape="rect" id="node43" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="833,391,928,418"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1208,413,1375,439"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_icgraph.png" border="0" usemap="#extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_icgraph" alt=""/></div>
<map name="extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_icgraph" id="extent-tree_8c_aac787eabdc24ddb5afae4b9efa44e8ec_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="406,5,595,32"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="214,95,323,121"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="424,216,577,243"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="188,271,349,297"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="199,365,338,406"/>
<area shape="rect" id="node25" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="397,683,604,709"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="194,1024,343,1051"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="669,5,803,32"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="878,5,1029,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1105,77,1235,104"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1301,179,1476,205"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="433,107,569,133"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="675,216,797,243"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1101,149,1239,176"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#aac5aef8a21ce5455c61f13972f3a402b" title="btrfs_writepage_end\l_io_hook" alt="" coords="1101,201,1239,242"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a8bdc721b2c1931ee9b25e8d3ee83aa92" title="__endio_write_update\l_ordered" alt="" coords="879,259,1027,301"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1116,267,1224,293"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="875,325,1032,352"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="439,365,563,406"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="439,482,563,523"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="677,321,795,348"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="901,376,1005,403"/>
<area shape="rect" id="node21" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="669,423,803,465"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="888,540,1019,567"/>
<area shape="rect" id="node24" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="661,489,811,516"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="675,657,797,684"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="685,708,787,735"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="661,796,811,823"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="652,591,820,633"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="880,657,1027,684"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="880,759,1027,785"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="905,708,1002,735"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="897,911,1009,937"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1087,860,1253,887"/>
<area shape="rect" id="node34" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="883,860,1023,887"/>
<area shape="rect" id="node36" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="886,591,1021,633"/>
<area shape="rect" id="node38" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="445,897,557,924"/>
<area shape="rect" id="node41" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="435,948,566,975"/>
<area shape="rect" id="node44" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="443,1049,558,1076"/>
<area shape="rect" id="node45" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="695,1049,777,1076"/>
<area shape="rect" id="node47" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="699,1100,773,1127"/>
<area shape="rect" id="node48" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="441,1151,561,1177"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="449,1201,552,1228"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="449,1252,552,1279"/>
<area shape="rect" id="node39" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="675,897,797,924"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="868,973,1039,1000"/>
<area shape="rect" id="node42" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="677,999,795,1025"/>
<area shape="rect" id="node43" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="672,948,800,975"/>
<area shape="rect" id="node46" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="871,1049,1035,1076"/>
</map>
</div>

</div>
</div>
<a id="ac8ecc2de50d231cb187b31872f570bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ecc2de50d231cb187b31872f570bf5">&#9670;&nbsp;</a></span>btrfs_free_tree_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_free_tree_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_cgraph.png" border="0" usemap="#extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_cgraph" id="extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_cgraph">
<area shape="rect" id="node2" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="221,208,352,235"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="197,587,376,613"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="221,871,352,897"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="221,951,352,993"/>
<area shape="rect" id="node31" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="225,1017,348,1044"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="227,1068,347,1095"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="211,1119,362,1145"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="213,1352,360,1379"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="219,1403,354,1445"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="223,1617,350,1644"/>
<area shape="rect" id="node3" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="671,360,809,387"/>
<area shape="rect" id="node4" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="457,208,574,235"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="681,132,799,159"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="451,5,579,32"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="681,56,799,83"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="448,157,583,184"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="459,259,571,285"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="453,309,578,336"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="676,208,804,235"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="873,183,1009,209"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="699,259,781,285"/>
<area shape="rect" id="node15" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="704,528,776,555"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="439,663,591,689"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="442,477,589,504"/>
<area shape="rect" id="node24" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="450,579,581,621"/>
<area shape="rect" id="node17" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="675,731,805,773"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="695,629,785,656"/>
<area shape="rect" id="node19" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="655,680,825,707"/>
<area shape="rect" id="node20" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="877,731,1006,773"/>
<area shape="rect" id="node22" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="673,411,807,453"/>
<area shape="rect" id="node23" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="676,477,804,504"/>
<area shape="rect" id="node25" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="674,579,806,605"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="451,849,579,890"/>
<area shape="rect" id="node28" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="424,915,607,941"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="434,966,597,1007"/>
<area shape="rect" id="node33" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="458,1032,573,1059"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="435,1403,596,1429"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="431,1453,600,1480"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="445,1505,586,1546"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="431,1570,600,1611"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="445,1635,585,1677"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="454,1701,577,1742"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="436,1083,595,1109"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="433,1133,597,1160"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="442,1184,589,1211"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="435,1235,596,1261"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="448,1286,583,1327"/>
<area shape="rect" id="node47" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="438,1352,593,1379"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="452,1767,579,1793"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_icgraph.png" border="0" usemap="#extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_icgraph" id="extent-tree_8c_ac8ecc2de50d231cb187b31872f570bf5_icgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="197,863,328,890"/>
<area shape="rect" id="node4" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="576,686,677,712"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1403,492,1585,519"/>
<area shape="rect" id="node20" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1427,208,1561,235"/>
<area shape="rect" id="node40" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="213,592,313,619"/>
<area shape="rect" id="node41" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1148,1192,1355,1219"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="211,1243,314,1270"/>
<area shape="rect" id="node3" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="376,863,493,890"/>
<area shape="rect" id="node39" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="972,1142,1100,1168"/>
<area shape="rect" id="node6" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="975,796,1097,823"/>
<area shape="rect" id="node22" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1203,990,1299,1016"/>
<area shape="rect" id="node23" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1433,887,1555,914"/>
<area shape="rect" id="node24" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1202,1040,1301,1067"/>
<area shape="rect" id="node27" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="550,787,703,814"/>
<area shape="rect" id="node28" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="787,652,897,679"/>
<area shape="rect" id="node36" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="791,592,893,619"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="549,1040,705,1067"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="541,1091,712,1118"/>
<area shape="rect" id="node5" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="760,736,924,763"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1165,720,1338,747"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1633,822,1780,848"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1181,924,1321,965"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1427,619,1561,646"/>
<area shape="rect" id="node16" href="file-item_8c.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="1192,619,1311,646"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a0889f0179a51c5b0f0fc4e8f377d5f76" title="clear_free_space_tree" alt="" coords="1176,518,1327,544"/>
<area shape="rect" id="node19" href="qgroup_8c.html#acf66c4b80bd92dc1b7d96bda3fc579e0" title="btrfs_clean_quota_tree" alt="" coords="1174,467,1329,494"/>
<area shape="rect" id="node25" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1183,1142,1319,1168"/>
<area shape="rect" id="node26" href="tree-log_8c.html#acb2c43d975037170dfecf3ff04d7db5f" title="drop_objectid_items" alt="" coords="1182,670,1321,696"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1868,543,1955,570"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1433,1003,1555,1030"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1443,938,1545,964"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1633,1003,1780,1030"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1658,938,1755,964"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1637,208,1776,235"/>
<area shape="rect" id="node29" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="981,526,1091,552"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1179,234,1323,260"/>
<area shape="rect" id="node31" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="1199,284,1303,311"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#ae402d8ec9601c06e554747b9d5a1ffe6" title="btrfs_batch_delete\l_items" alt="" coords="1187,336,1316,377"/>
<area shape="rect" id="node33" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="1183,401,1319,442"/>
<area shape="rect" id="node34" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="1183,102,1319,144"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a19dd18b81a929d28d3a897478c7684a7" title="remove_block_group\l_free_space" alt="" coords="1180,168,1323,209"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1419,1159,1569,1186"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1410,1236,1578,1277"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1651,1134,1763,1160"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1828,1108,1995,1135"/>
<area shape="rect" id="node45" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1637,1184,1777,1211"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1641,1302,1772,1328"/>
<area shape="rect" id="node48" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1639,1236,1774,1277"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="385,1243,484,1270"/>
</map>
</div>

</div>
</div>
<a id="ace85feeb22eab4716a3ad00746ef5817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace85feeb22eab4716a3ad00746ef5817">&#9670;&nbsp;</a></span>btrfs_get_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_get_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ace85feeb22eab4716a3ad00746ef5817_icgraph.png" border="0" usemap="#extent-tree_8c_ace85feeb22eab4716a3ad00746ef5817_icgraph" alt=""/></div>
<map name="extent-tree_8c_ace85feeb22eab4716a3ad00746ef5817_icgraph" id="extent-tree_8c_ace85feeb22eab4716a3ad00746ef5817_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="815,475,1021,501"/>
<area shape="rect" id="node13" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1905,292,2076,319"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1473,663,1640,689"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1481,335,1632,377"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="204,901,367,942"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7" title="next_block_group" alt="" coords="620,1321,744,1348"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="613,1372,751,1399"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="415,1068,549,1095"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ad77ed64692f14b06a4125c249989eb41" title="btrfs_grab_block_group" alt="" coords="207,1531,364,1557"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a8ff60feb90fd1f63375e119400995084" title="btrfs_lock_cluster" alt="" coords="223,1480,348,1507"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="600,815,764,841"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1930,343,2051,369"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1102,825,1205,852"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1079,536,1228,563"/>
<area shape="rect" id="node20" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1069,445,1237,486"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2124,423,2271,449"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1699,876,1846,903"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1307,825,1404,852"/>
<area shape="rect" id="node7" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2154,825,2241,852"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1299,561,1411,588"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1473,511,1640,537"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1285,612,1425,639"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1499,1117,1614,1144"/>
<area shape="rect" id="node14" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="2140,292,2255,319"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1721,612,1824,639"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1933,663,2048,689"/>
<area shape="rect" id="node19" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1728,825,1817,852"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1290,393,1421,420"/>
<area shape="rect" id="node24" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1288,445,1423,486"/>
<area shape="rect" id="node23" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1688,343,1857,369"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="421,1213,543,1254"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="417,574,547,615"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ad34759a183b31aa9ba4274a72bf15a4d" title="btrfs_put_block_group\l_cache" alt="" coords="1078,1306,1229,1347"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="871,1140,965,1167"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc" title="first_logical_byte" alt="" coords="1093,1188,1213,1215"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a8e0553eb25043cc6aa26d38aab969b57" title="btrfs_release_delalloc\l_bytes" alt="" coords="608,363,756,405"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#af76997d3ed3b79189dae0c8e198b56c5" title="btrfs_extent_readonly" alt="" coords="609,480,755,507"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="601,531,763,557"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="599,581,765,608"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="625,195,739,221"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="613,749,751,790"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="597,967,767,993"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="605,246,759,287"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="615,632,749,659"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="610,312,754,339"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="608,683,756,725"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="851,1431,985,1457"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="853,1482,983,1523"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="851,1365,985,1406"/>
</map>
</div>

</div>
</div>
<a id="a5a78461cbfe3cc3900e6548a0c333fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a78461cbfe3cc3900e6548a0c333fef">&#9670;&nbsp;</a></span>btrfs_get_extent_inline_ref_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_get_extent_inline_ref_type </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref *&#160;</td>
          <td class="paramname"><em>iref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a44c1296e6f3ed79d86ca47e8c1ebfdbe">btrfs_inline_ref_type</a>&#160;</td>
          <td class="paramname"><em>is_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_cgraph.png" border="0" usemap="#extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_cgraph" id="extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_cgraph">
<area shape="rect" id="node2" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="207,401,315,427"/>
<area shape="rect" id="node3" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="367,114,513,141"/>
<area shape="rect" id="node7" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="827,165,925,191"/>
<area shape="rect" id="node9" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="363,258,517,285"/>
<area shape="rect" id="node12" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="375,309,505,351"/>
<area shape="rect" id="node14" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="379,426,501,453"/>
<area shape="rect" id="node15" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="594,367,723,394"/>
<area shape="rect" id="node17" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="587,535,731,562"/>
<area shape="rect" id="node21" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="571,13,747,39"/>
<area shape="rect" id="node23" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="373,527,507,554"/>
<area shape="rect" id="node24" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="395,586,485,613"/>
<area shape="rect" id="node47" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="387,653,493,679"/>
<area shape="rect" id="node49" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="385,737,495,763"/>
<area shape="rect" id="node4" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="565,63,752,90"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="599,114,719,141"/>
<area shape="rect" id="node6" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="805,93,947,119"/>
<area shape="rect" id="node8" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1002,165,1141,191"/>
<area shape="rect" id="node10" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="605,215,713,242"/>
<area shape="rect" id="node11" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="582,266,735,293"/>
<area shape="rect" id="node13" href="ctree_8h.html#a713d9e8ab85dd576211f29c7adfd1901" title="btrfs_dir_item_key" alt="" coords="594,317,723,343"/>
<area shape="rect" id="node16" href="ctree_8h.html#af629a64daf06e6689e0aed2d0655b060" title="btrfs_tree_block_key" alt="" coords="587,485,730,511"/>
<area shape="rect" id="node18" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="595,419,723,460"/>
<area shape="rect" id="node19" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="849,426,903,453"/>
<area shape="rect" id="node20" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1012,426,1131,453"/>
<area shape="rect" id="node22" href="ctree_8h.html#ad8e455ffd90235ec505392037ceb69f6" title="btrfs_file_extent_inline\l_item_len" alt="" coords="800,5,952,47"/>
<area shape="rect" id="node25" href="ctree_8h.html#a468f209ce619d17a76cc9c3a78f24cc6" title="btrfs_stripe_devid_nr" alt="" coords="587,586,730,613"/>
<area shape="rect" id="node46" href="ctree_8h.html#aeef125c97ae680c4a601d4680597c18b" title="btrfs_stripe_offset_nr" alt="" coords="586,637,731,663"/>
<area shape="rect" id="node26" href="ctree_8h.html#a7d5478338408ba3c40f5bcd0d57c385f" title="btrfs_stripe_nr" alt="" coords="823,637,929,663"/>
<area shape="rect" id="node27" href="reiserfs_2bitmap_8c.html#a4c333bf541847de63408a6b717bb070f" title="block_group_used" alt="" coords="813,586,939,613"/>
<area shape="rect" id="node28" href="reiserfs_2bitmap_8c.html#a63c7e66c5a6ae382eacd56fcf1868de7" title="bmap_hash_id" alt="" coords="1018,531,1125,558"/>
<area shape="rect" id="node32" href="reiserfs_2bitmap_8c.html#abea185527d26799785fd032bfa486849" title="reiserfs_read_bitmap\l_block" alt="" coords="1000,747,1143,788"/>
<area shape="rect" id="node29" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1242,506,1293,533"/>
<area shape="rect" id="node30" href="hashes_8c.html#aa44a685c4821172e3c0b89df950c3898" title="keyed_hash" alt="" coords="1221,557,1313,583"/>
<area shape="rect" id="node31" href="reiserfs_8h.html#a11723b717ae0e6ca3ad3c2c7d911f569" title="reiserfs_bmap_count" alt="" coords="1592,510,1735,537"/>
<area shape="rect" id="node33" href="reiserfs_8h.html#a0e265314d75fff703a39c90e48f4462b" title="REISERFS_SB" alt="" coords="1404,849,1519,875"/>
<area shape="rect" id="node34" href="reiserfs_2bitmap_8c.html#a07606fb68673f63ac428d55149dd8842" title="scan_bitmap" alt="" coords="1219,725,1315,751"/>
<area shape="rect" id="node41" href="reiserfs_2lock_8c.html#acffafbcd9e9d400a9018c23375afed69" title="reiserfs_write_unlock\l_nested" alt="" coords="1195,776,1340,817"/>
<area shape="rect" id="node42" href="buffer_8c.html#ac2f21d8452ec8e7f51270bacf8df7e59" title="__wait_on_buffer" alt="" coords="1207,958,1328,985"/>
<area shape="rect" id="node44" href="reiserfs_2lock_8c.html#a340707d69035995c991dfd2de6693360" title="reiserfs_write_lock\l_nested" alt="" coords="1202,841,1333,883"/>
<area shape="rect" id="node45" href="reiserfs_2bitmap_8c.html#aa21a34a7d4c6cc8ae4b868dbdab8d726" title="reiserfs_cache_bitmap\l_metadata" alt="" coords="1191,659,1344,700"/>
<area shape="rect" id="node35" href="reiserfs_2bitmap_8c.html#a8e081c0a2844294713d6621752beb22f" title="get_bit_address" alt="" coords="1404,775,1519,802"/>
<area shape="rect" id="node36" href="reiserfs_2bitmap_8c.html#aa55bcddedd67e4f5feea0773c3c6ab64" title="scan_bitmap_block" alt="" coords="1394,654,1529,681"/>
<area shape="rect" id="node37" href="reiserfs_2bitmap_8c.html#abaebb6f67e5594a48236521efad82e46" title="is_block_in_journal" alt="" coords="1597,743,1729,770"/>
<area shape="rect" id="node38" href="reiserfs_2journal_8c.html#a2d47ffd3c3461f4d675a8b5915ea4a21" title="reiserfs_prepare_for\l_journal" alt="" coords="1595,561,1732,603"/>
<area shape="rect" id="node39" href="reiserfs_2journal_8c.html#a82524a79c6960bcaf9d86e42b955583c" title="reiserfs_restore_prepared\l_buffer" alt="" coords="1579,627,1748,668"/>
<area shape="rect" id="node40" href="reiserfs_2journal_8c.html#a40f13687a2adeec6d25d2962395663eb" title="journal_mark_dirty" alt="" coords="1599,693,1727,719"/>
<area shape="rect" id="node43" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1392,958,1531,985"/>
<area shape="rect" id="node48" href="ctree_8h.html#a26204c078cfb39ea1bc22b5e3029361f" title="btrfs_device_total\l_bytes" alt="" coords="596,688,721,729"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="593,754,724,781"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_icgraph.png" border="0" usemap="#extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_icgraph" id="extent-tree_8c_a5a78461cbfe3cc3900e6548a0c333fef_icgraph">
<area shape="rect" id="node2" href="backref_8c.html#aeef3cd1f89e33b0970d748bcb59005ca" title="add_inline_refs" alt="" coords="227,147,337,173"/>
<area shape="rect" id="node14" href="backref_8c.html#a5abced41ee12f940476d0f3bc8c19450" title="get_extent_inline_ref" alt="" coords="211,244,353,271"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="207,609,357,636"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="889,310,1031,351"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="890,543,1030,585"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#ac975f6e8b7b026a13939fb9655b43968" title="check_committed_ref" alt="" coords="209,711,355,737"/>
<area shape="rect" id="node44" href="relocation_8c.html#a92c4c93ad2b553f864ee0ef237295217" title="build_backref_tree" alt="" coords="218,812,346,839"/>
<area shape="rect" id="node50" href="relocation_8c.html#a8d59bead8199a5cfd091257d6afa16d4" title="add_data_references" alt="" coords="418,805,561,832"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="425,81,553,108"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="659,107,790,133"/>
<area shape="rect" id="node10" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="643,56,807,83"/>
<area shape="rect" id="node12" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="657,5,793,32"/>
<area shape="rect" id="node5" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="887,107,1033,133"/>
<area shape="rect" id="node6" href="backref_8h.html#a34ffb69c11fcc3c8068ba9767f665962" title="iterate_inodes_from\l_logical" alt="" coords="1103,41,1239,82"/>
<area shape="rect" id="node7" href="btrfs_2scrub_8c.html#ad165d490fb742950a77edd54b4c50000" title="scrub_print_warning" alt="" coords="1102,157,1241,184"/>
<area shape="rect" id="node9" href="send_8c.html#a8e7a52bade7c301cf5bcd4f203aa01b8" title="find_extent_clone" alt="" coords="1109,107,1233,133"/>
<area shape="rect" id="node8" href="btrfs_2scrub_8c.html#a220dbacd4df74820ca01555499309a59" title="scrub_handle_errored\l_block" alt="" coords="1301,150,1447,191"/>
<area shape="rect" id="node11" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="894,56,1026,83"/>
<area shape="rect" id="node13" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="908,5,1012,32"/>
<area shape="rect" id="node15" href="backref_8h.html#af97057cdea540b14663ba764d679cd6c" title="tree_backref_for_extent" alt="" coords="410,219,569,245"/>
<area shape="rect" id="node17" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="405,383,573,409"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1307,463,1441,489"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="639,383,810,409"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1307,266,1441,307"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="893,375,1027,417"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="1299,383,1449,409"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="882,441,1038,468"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="1104,375,1239,417"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1497,433,1644,460"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1499,383,1642,409"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1692,408,1835,435"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="1092,320,1251,347"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="1095,547,1248,573"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="417,725,561,752"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="657,711,793,737"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="659,761,790,788"/>
<area shape="rect" id="node39" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="621,872,828,899"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="895,660,1025,687"/>
<area shape="rect" id="node37" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="895,761,1025,788"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="881,711,1039,737"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="899,879,1021,905"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="909,929,1011,956"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="885,980,1035,1007"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="876,813,1044,854"/>
<area shape="rect" id="node45" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="418,915,561,941"/>
<area shape="rect" id="node46" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="652,923,797,949"/>
<area shape="rect" id="node47" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="891,1031,1029,1073"/>
<area shape="rect" id="node48" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1123,1013,1219,1040"/>
<area shape="rect" id="node49" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1100,1064,1243,1091"/>
</map>
</div>

</div>
</div>
<a id="ad77ed64692f14b06a4125c249989eb41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad77ed64692f14b06a4125c249989eb41">&#9670;&nbsp;</a></span>btrfs_grab_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_grab_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_cgraph.png" border="0" usemap="#extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_cgraph" id="extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="211,5,361,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_icgraph.png" border="0" usemap="#extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_icgraph" id="extent-tree_8c_ad77ed64692f14b06a4125c249989eb41_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="211,577,325,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="373,766,515,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="781,996,970,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="589,1021,698,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="563,838,724,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="574,759,713,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="772,533,979,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="569,280,718,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1043,996,1178,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1253,996,1403,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1479,1021,1610,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1676,984,1851,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="807,1097,943,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1249,945,1407,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1491,958,1599,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="813,807,937,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="813,719,937,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1051,894,1170,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1276,836,1380,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1043,828,1178,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1263,726,1393,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1036,726,1185,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1050,406,1171,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1059,558,1162,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1036,508,1185,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1027,610,1195,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1255,356,1401,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1690,381,1837,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1279,609,1377,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1272,406,1384,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1461,432,1628,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1258,508,1398,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1261,660,1395,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="819,254,931,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="810,102,941,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="818,153,933,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1070,204,1151,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1291,102,1365,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="815,356,935,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="824,406,927,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="824,305,927,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1049,305,1172,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1243,204,1413,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1052,153,1169,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1047,52,1175,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1483,153,1606,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1696,128,1831,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1246,254,1410,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1051,356,1171,382"/>
</map>
</div>

</div>
</div>
<a id="a9ad75caca319f92d40c7aa97644a0792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad75caca319f92d40c7aa97644a0792">&#9670;&nbsp;</a></span>btrfs_inc_block_group_reservations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_inc_block_group_reservations </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>bg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9ad75caca319f92d40c7aa97644a0792_icgraph.png" border="0" usemap="#extent-tree_8c_a9ad75caca319f92d40c7aa97644a0792_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9ad75caca319f92d40c7aa97644a0792_icgraph" id="extent-tree_8c_a9ad75caca319f92d40c7aa97644a0792_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="203,577,317,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="365,766,507,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="773,996,962,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="581,1021,690,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="555,838,716,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="566,759,705,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="764,533,971,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="561,280,710,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1035,996,1170,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1245,996,1395,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1471,1021,1602,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1668,984,1843,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="799,1097,935,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1241,945,1399,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1483,958,1591,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="805,807,929,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="805,719,929,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1043,894,1162,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1268,836,1372,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1035,828,1170,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1255,726,1385,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1028,726,1177,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1042,406,1163,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1051,558,1154,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1028,508,1177,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1019,610,1187,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1247,356,1393,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1682,381,1829,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1271,609,1369,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1264,406,1376,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1453,432,1620,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1250,508,1390,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1253,660,1387,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="811,254,923,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="802,102,933,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="810,153,925,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1062,204,1143,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1283,102,1357,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="807,356,927,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="816,406,919,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="816,305,919,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1041,305,1164,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1235,204,1405,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1044,153,1161,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1039,52,1167,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1475,153,1598,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1688,128,1823,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1238,254,1402,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1043,356,1163,382"/>
</map>
</div>

</div>
</div>
<a id="a83232a2f89abef64e258bbc96ad47527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83232a2f89abef64e258bbc96ad47527">&#9670;&nbsp;</a></span>btrfs_inc_block_group_ro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_inc_block_group_ro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_cgraph.png" border="0" usemap="#extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_cgraph" alt=""/></div>
<map name="extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_cgraph" id="extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_cgraph">
<area shape="rect" id="node2" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="220,414,367,440"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="895,62,1042,88"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a214dc0d78ccc5f51be76ece589f09a1f" title="btrfs_wait_for_commit" alt="" coords="665,563,816,590"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ae638007eb4e012626fb35cd21c0387b6" title="update_block_group\l_flags" alt="" coords="224,1253,363,1294"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="237,867,349,894"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="427,715,577,742"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="911,1202,1027,1228"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#aa47f591a2bfcb0b9eea6110945d3c617" title="inc_block_group_ro" alt="" coords="226,1035,361,1062"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="443,294,561,320"/>
<area shape="rect" id="node4" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="669,446,813,488"/>
<area shape="rect" id="node5" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="637,614,844,640"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="659,62,823,88"/>
<area shape="rect" id="node7" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="671,112,810,139"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="666,163,815,190"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1132,575,1261,602"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="684,264,797,291"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="656,214,825,240"/>
<area shape="rect" id="node19" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1592,150,1752,176"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="672,316,809,357"/>
<area shape="rect" id="node29" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="661,381,820,422"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1374,630,1518,656"/>
<area shape="rect" id="node11" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1800,616,1919,643"/>
<area shape="rect" id="node12" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="1597,580,1747,621"/>
<area shape="rect" id="node13" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1597,528,1747,555"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1379,281,1513,322"/>
<area shape="rect" id="node20" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1375,412,1517,453"/>
<area shape="rect" id="node22" href="ctree_8h.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1379,164,1513,205"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1371,62,1521,88"/>
<area shape="rect" id="node25" href="ctree_8h.html#acb05996b4d1a67ecfaac02c8a6270e3a" title="btrfs_run_delayed_iputs" alt="" coords="1366,112,1526,139"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="909,495,1028,522"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1116,264,1277,291"/>
<area shape="rect" id="node21" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="1376,346,1516,388"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="1367,230,1525,256"/>
<area shape="rect" id="node26" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1348,478,1544,504"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1381,1231,1511,1258"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="677,984,804,1011"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="434,1100,570,1127"/>
<area shape="rect" id="node37" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="422,867,582,894"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="415,918,589,944"/>
<area shape="rect" id="node46" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="679,1035,803,1062"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="431,969,573,1010"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="435,1034,569,1076"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="892,980,1045,1007"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ae1ea76da07dad6d2aba1d75a681c4d4d" title="get_profile_num_devs" alt="" coords="666,766,815,792"/>
<area shape="rect" id="node41" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1093,419,1300,446"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="679,867,803,894"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="675,918,807,960"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="671,715,810,742"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1133,1194,1261,1236"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_icgraph.png" border="0" usemap="#extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_icgraph" alt=""/></div>
<map name="extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_icgraph" id="extent-tree_8c_a83232a2f89abef64e258bbc96ad47527_icgraph">
<area shape="rect" id="node2" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="236,518,375,559"/>
<area shape="rect" id="node42" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="220,584,391,611"/>
<area shape="rect" id="node3" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="855,527,951,553"/>
<area shape="rect" id="node5" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="439,451,581,477"/>
<area shape="rect" id="node4" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1041,527,1189,553"/>
<area shape="rect" id="node6" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="632,262,761,303"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="845,476,960,503"/>
<area shape="rect" id="node37" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="629,425,764,452"/>
<area shape="rect" id="node7" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1041,172,1189,199"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="1257,324,1392,351"/>
<area shape="rect" id="node12" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1699,261,1769,288"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1508,489,1587,516"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="3113,312,3288,339"/>
<area shape="rect" id="node11" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="3336,177,3433,204"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2915,127,3065,153"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2517,388,2685,415"/>
<area shape="rect" id="node17" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1855,261,1959,288"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="2733,363,2867,389"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="2936,363,3044,389"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ac463e9eb3de91a98c3f48a70f1e3bbf2" title="btrfs_submit_bio_done" alt="" coords="2053,363,2207,389"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a2615d016ca805afc39763902e5c4f0c6" title="btrfs_submit_bio_hook" alt="" coords="2298,312,2451,339"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a4d73952fef577a94cb0d88a7d2bc3ba6" title="btrfs_submit_dio_bio" alt="" coords="2303,388,2446,415"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a001246b2047e20a19740fea1dd447ac3" title="submit_dio_repair_bio" alt="" coords="2056,144,2204,171"/>
<area shape="rect" id="node23" href="compression_8h.html#a5ac02908a7c42f70ee09319b3333c144" title="btrfs_submit_compressed\l_write" alt="" coords="2044,195,2216,237"/>
<area shape="rect" id="node25" href="compression_8h.html#ac2ce470a41c2a2d7b1514fdc30729d7b" title="btrfs_submit_compressed_read" alt="" coords="2028,261,2232,288"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa71a4ee86defa688fce99ab93f1aba60" title="btree_submit_bio_done" alt="" coords="2052,93,2208,120"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a5c8a6960b9eb2eefd752fde872397524" title="btree_submit_bio_hook" alt="" coords="2297,93,2453,120"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#af38a0884b76e0891620ccec7cea059ab" title="dio_read_error" alt="" coords="2323,144,2427,171"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2280,203,2469,229"/>
<area shape="rect" id="node29" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1065,476,1165,503"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a1c67a45d01e21c34466033026965435d" title="btrfs_ioctl_balance" alt="" coords="1259,527,1390,553"/>
<area shape="rect" id="node31" href="volumes_8c.html#a7fef684404203359cc17ef9c199a8781" title="balance_kthread" alt="" coords="1266,729,1383,756"/>
<area shape="rect" id="node32" href="volumes_8h.html#a4524f321f22012ba6b027ef6e523156d" title="btrfs_resume_balance\l_async" alt="" coords="1472,707,1623,749"/>
<area shape="rect" id="node33" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1683,776,1785,803"/>
<area shape="rect" id="node36" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1691,721,1777,748"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1861,751,1952,777"/>
<area shape="rect" id="node35" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1833,801,1980,828"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1055,425,1176,452"/>
<area shape="rect" id="node39" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1058,375,1173,401"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1249,375,1400,401"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1260,425,1389,452"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="639,584,754,611"/>
<area shape="rect" id="node44" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="823,645,982,672"/>
<area shape="rect" id="node47" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="812,718,993,759"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="843,581,962,608"/>
<area shape="rect" id="node45" href="dev-replace_8h.html#aee8b85317e3ad1d404bc9fb6ed0f038b" title="btrfs_dev_replace_by\l_ioctl" alt="" coords="1042,650,1189,691"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#aab9a7c9e43e79a823629589545e795b0" title="btrfs_ioctl_dev_replace" alt="" coords="1247,679,1403,705"/>
<area shape="rect" id="node48" href="dev-replace_8c.html#a283213ceb4a9175db2f0d86b1632ec3b" title="btrfs_dev_replace_kthread" alt="" coords="1237,780,1412,807"/>
<area shape="rect" id="node49" href="dev-replace_8h.html#adf74ffc1af68771caf609f55172ae5b3" title="btrfs_resume_dev_replace\l_async" alt="" coords="1460,773,1635,814"/>
</map>
</div>

</div>
</div>
<a id="a7090e03dcf937f73e3defbb2cb64eb9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7090e03dcf937f73e3defbb2cb64eb9f">&#9670;&nbsp;</a></span>btrfs_inc_extent_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_inc_extent_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_cgraph.png" border="0" usemap="#extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_cgraph" id="extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_cgraph">
<area shape="rect" id="node2" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="217,208,347,235"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="193,553,371,580"/>
<area shape="rect" id="node47" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="191,604,373,631"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="219,705,345,732"/>
<area shape="rect" id="node3" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="637,157,776,184"/>
<area shape="rect" id="node4" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="439,56,556,83"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="647,5,766,32"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="433,309,561,336"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="647,259,766,285"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="430,107,565,133"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="441,360,553,387"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="435,208,560,235"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="643,56,771,83"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="854,208,990,235"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="665,360,748,387"/>
<area shape="rect" id="node15" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="671,604,743,631"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="421,705,573,732"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="424,503,571,529"/>
<area shape="rect" id="node31" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="432,437,563,478"/>
<area shape="rect" id="node17" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="641,757,772,798"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="661,823,752,849"/>
<area shape="rect" id="node19" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="621,705,792,732"/>
<area shape="rect" id="node20" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="857,706,987,747"/>
<area shape="rect" id="node22" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1477,509,1612,550"/>
<area shape="rect" id="node23" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="643,553,771,580"/>
<area shape="rect" id="node24" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="881,553,963,580"/>
<area shape="rect" id="node29" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="861,604,983,631"/>
<area shape="rect" id="node25" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1297,705,1379,732"/>
<area shape="rect" id="node26" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="1489,705,1601,732"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="1487,756,1602,783"/>
<area shape="rect" id="node28" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1477,639,1612,681"/>
<area shape="rect" id="node30" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1052,604,1199,631"/>
<area shape="rect" id="node32" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="641,427,773,453"/>
<area shape="rect" id="node33" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="840,259,1004,285"/>
<area shape="rect" id="node34" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1085,69,1165,96"/>
<area shape="rect" id="node36" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1088,145,1163,172"/>
<area shape="rect" id="node38" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1061,297,1189,324"/>
<area shape="rect" id="node46" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1086,247,1165,273"/>
<area shape="rect" id="node35" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1303,44,1373,71"/>
<area shape="rect" id="node37" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1291,95,1385,121"/>
<area shape="rect" id="node39" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1281,348,1395,375"/>
<area shape="rect" id="node40" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1277,196,1399,223"/>
<area shape="rect" id="node41" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1480,171,1609,197"/>
<area shape="rect" id="node42" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1274,450,1402,491"/>
<area shape="rect" id="node43" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1247,247,1429,273"/>
<area shape="rect" id="node44" href="backref_8c.html#a2adc471a0f6cc0341b6587a4e42e6ef1" title="add_delayed_refs" alt="" coords="1276,399,1400,425"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1261,297,1415,324"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="423,655,572,681"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="434,756,561,783"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_icgraph.png" border="0" usemap="#extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_icgraph" id="extent-tree_8c_a7090e03dcf937f73e3defbb2cb64eb9f_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="205,547,349,573"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="642,49,789,76"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="907,404,994,431"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="651,100,779,127"/>
<area shape="rect" id="node25" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="191,5,364,32"/>
<area shape="rect" id="node26" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="612,749,819,776"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="219,775,335,801"/>
<area shape="rect" id="node44" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="208,837,347,864"/>
<area shape="rect" id="node46" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="229,913,325,940"/>
<area shape="rect" id="node48" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="228,977,327,1004"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a20c090844c67ac58992e0e415b3a979c" title="btrfs_drop_extents" alt="" coords="423,201,553,228"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="427,623,549,649"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="415,521,561,548"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="421,405,555,446"/>
<area shape="rect" id="node23" href="tree-log_8c.html#a7ca07330eb9bbc96b69ca30dbfa8f1bb" title="log_one_extent" alt="" coords="433,572,543,599"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="650,303,781,329"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="631,201,799,228"/>
<area shape="rect" id="node15" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="888,125,1013,152"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#afda8cc4035a3698daf6c5215423d2890" title="relink_file_extents" alt="" coords="887,49,1014,76"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="1083,49,1236,76"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="1307,75,1428,101"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1298,24,1437,51"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1094,429,1225,456"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1101,379,1218,405"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="663,623,767,649"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a4bcdf8fa7529d080b3d88d0f5ae67abd" title="compress_file_range" alt="" coords="644,521,787,548"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="661,471,770,497"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="646,405,785,446"/>
<area shape="rect" id="node24" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="626,572,805,599"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="890,724,1011,751"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="899,775,1002,801"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="876,899,1025,925"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="867,658,1035,699"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1086,721,1233,748"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1086,823,1233,849"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1111,772,1208,799"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1103,873,1215,900"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1284,899,1451,925"/>
<area shape="rect" id="node35" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1089,975,1229,1001"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1094,667,1225,693"/>
<area shape="rect" id="node38" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1092,601,1227,642"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="441,825,535,852"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="439,775,537,801"/>
<area shape="rect" id="node41" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="659,851,771,877"/>
<area shape="rect" id="node42" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="647,800,783,827"/>
<area shape="rect" id="node45" href="relocation_8c.html#a9c0768208e7f7df3d067b31cfdd72ba4" title="btrfs_reloc_cow_block" alt="" coords="412,876,564,903"/>
<area shape="rect" id="node47" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="427,927,549,953"/>
<area shape="rect" id="node49" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="439,977,537,1004"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="421,1028,555,1055"/>
</map>
</div>

</div>
</div>
<a id="a76483eecba3166ce54113a8b1103b92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76483eecba3166ce54113a8b1103b92c">&#9670;&nbsp;</a></span>btrfs_inc_nocow_writers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool btrfs_inc_nocow_writers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_cgraph.png" border="0" usemap="#extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_cgraph" id="extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="226,5,357,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="216,71,367,98"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="415,5,577,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="625,13,776,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_icgraph.png" border="0" usemap="#extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_icgraph" id="extent-tree_8c_a76483eecba3166ce54113a8b1103b92c_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="251,5,387,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="241,56,398,83"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="216,680,423,707"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="480,5,611,32"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1317,81,1492,108"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1577,81,1674,108"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="491,56,599,83"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="485,629,606,656"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="494,309,597,336"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="471,781,620,808"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="668,1101,836,1142"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1331,579,1478,605"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="679,309,825,336"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="703,195,801,221"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="899,208,1035,235"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1125,259,1243,285"/>
<area shape="rect" id="node18" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1361,397,1448,424"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="890,412,1045,439"/>
<area shape="rect" id="node24" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="887,492,1048,519"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1137,157,1231,184"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1353,208,1456,235"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1570,233,1681,260"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1572,423,1679,449"/>
<area shape="rect" id="node20" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1571,372,1680,399"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1133,528,1235,555"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1121,361,1247,402"/>
<area shape="rect" id="node25" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1357,759,1453,785"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1138,107,1230,133"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="696,908,808,935"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="884,832,1051,859"/>
<area shape="rect" id="node45" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="682,731,822,757"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="889,1035,1045,1077"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="921,933,1013,960"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="910,984,1025,1011"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="887,883,1047,909"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1125,948,1243,975"/>
<area shape="rect" id="node32" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1353,973,1457,1000"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1109,1050,1259,1091"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1339,1167,1470,1193"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1540,1188,1711,1215"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1550,1250,1701,1291"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1549,897,1702,938"/>
<area shape="rect" id="node41" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1115,882,1253,923"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1099,831,1269,857"/>
<area shape="rect" id="node42" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1333,863,1476,889"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="884,579,1051,605"/>
<area shape="rect" id="node47" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="933,731,1002,757"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="900,1101,1035,1142"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1113,1116,1255,1143"/>
</map>
</div>

</div>
</div>
<a id="a6201d3d49ef1ea5cecafd8b0215f7883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6201d3d49ef1ea5cecafd8b0215f7883">&#9670;&nbsp;</a></span>btrfs_inc_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_inc_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_backref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_cgraph.png" border="0" usemap="#extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_cgraph" id="extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="148,429,264,456"/>
<area shape="rect" id="node3" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="551,127,661,153"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="321,429,458,456"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="329,379,449,405"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="312,581,467,608"/>
<area shape="rect" id="node50" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="321,632,457,659"/>
<area shape="rect" id="node5" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="541,644,671,671"/>
<area shape="rect" id="node17" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="517,303,695,329"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="515,379,697,405"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="543,429,669,456"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#aaf71872dcfcf7f47d29ce7409706381a" title="__save_stack_trace" alt="" coords="961,796,1100,823"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#aeacc18173a366d7ecd0a22c18d000c9d" title="add_block_entry" alt="" coords="763,543,880,569"/>
<area shape="rect" id="node9" href="ref-verify_8c.html#a55fdcbe1a0bb35c18ddf1aff8bca1fde" title="insert_root_entry" alt="" coords="971,635,1090,661"/>
<area shape="rect" id="node10" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="757,897,885,924"/>
<area shape="rect" id="node11" href="ref-verify_8c.html#a1995545d49f91a070f3f035a98bf33ba" title="dump_ref_action" alt="" coords="971,847,1090,873"/>
<area shape="rect" id="node13" href="ref-verify_8c.html#a8d548f67a6e02af84d150a0e4e4633f1" title="lookup_block_entry" alt="" coords="754,644,889,671"/>
<area shape="rect" id="node14" href="ref-verify_8c.html#a955803c5d0385e3f420a549ebcf7e6d9" title="insert_ref_entry" alt="" coords="765,695,877,721"/>
<area shape="rect" id="node16" href="ref-verify_8c.html#a1a7457792ac75dad2b685f031d5364b0" title="lookup_root_entry" alt="" coords="759,745,884,772"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#a947a57760ecef298345b3546497ea110" title="insert_block_entry" alt="" coords="967,584,1095,611"/>
<area shape="rect" id="node12" href="ref-verify_8c.html#afb8d8ed2b452f30cedcdcd7d8d69ae75" title="__print_stack_trace" alt="" coords="1178,796,1314,823"/>
<area shape="rect" id="node15" href="ref-verify_8c.html#a8900e178285251a18693393846fbbd31" title="comp_refs" alt="" coords="989,695,1072,721"/>
<area shape="rect" id="node18" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="995,299,1067,325"/>
<area shape="rect" id="node19" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="745,441,897,468"/>
<area shape="rect" id="node24" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="748,239,895,265"/>
<area shape="rect" id="node29" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="756,173,887,214"/>
<area shape="rect" id="node20" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="965,467,1096,509"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="985,533,1076,560"/>
<area shape="rect" id="node22" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="945,416,1116,443"/>
<area shape="rect" id="node23" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1181,409,1311,450"/>
<area shape="rect" id="node25" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="963,182,1098,223"/>
<area shape="rect" id="node26" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="967,248,1095,275"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="1205,273,1287,300"/>
<area shape="rect" id="node28" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1185,223,1307,249"/>
<area shape="rect" id="node30" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="965,131,1097,157"/>
<area shape="rect" id="node31" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1164,131,1328,157"/>
<area shape="rect" id="node33" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="747,391,896,417"/>
<area shape="rect" id="node34" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="963,350,1098,391"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="758,492,885,519"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="549,177,663,204"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="756,107,887,149"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="761,5,881,32"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="746,56,897,83"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="949,65,1112,106"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1171,72,1321,99"/>
<area shape="rect" id="node43" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="973,5,1088,32"/>
<area shape="rect" id="node46" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="552,695,660,721"/>
<area shape="rect" id="node49" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="529,745,683,772"/>
<area shape="rect" id="node47" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="772,948,871,975"/>
<area shape="rect" id="node48" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="961,948,1100,975"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_icgraph.png" border="0" usemap="#extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_icgraph" id="extent-tree_8c_a6201d3d49ef1ea5cecafd8b0215f7883_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="160,144,272,171"/>
<area shape="rect" id="node17" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="148,600,284,627"/>
<area shape="rect" id="node35" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="909,752,1116,779"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="157,651,275,677"/>
<area shape="rect" id="node3" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="332,93,455,120"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="927,93,1098,120"/>
<area shape="rect" id="node4" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="503,43,639,69"/>
<area shape="rect" id="node16" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="687,93,861,120"/>
<area shape="rect" id="node5" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1847,43,1943,69"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a67821409432253554a84057cbb28ff69" title="record_root_in_trans" alt="" coords="704,43,844,69"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1164,195,1341,221"/>
<area shape="rect" id="node9" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1389,549,1559,576"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1629,600,1751,627"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1612,651,1768,693"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1835,499,1954,525"/>
<area shape="rect" id="node14" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1609,296,1771,323"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1821,600,1968,627"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1851,347,1938,373"/>
<area shape="rect" id="node18" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="505,600,636,627"/>
<area shape="rect" id="node19" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="715,347,833,373"/>
<area shape="rect" id="node34" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="710,600,838,627"/>
<area shape="rect" id="node20" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="962,245,1063,272"/>
<area shape="rect" id="node21" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="936,296,1089,323"/>
<area shape="rect" id="node22" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="951,347,1074,373"/>
<area shape="rect" id="node27" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1205,245,1301,272"/>
<area shape="rect" id="node28" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1413,245,1535,272"/>
<area shape="rect" id="node29" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1203,499,1302,525"/>
<area shape="rect" id="node31" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="957,397,1068,424"/>
<area shape="rect" id="node32" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="961,448,1064,475"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1175,549,1331,576"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1401,397,1547,424"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1183,600,1323,627"/>
<area shape="rect" id="node30" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1185,448,1321,475"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1622,499,1758,525"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1613,397,1767,424"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1201,651,1304,677"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1178,785,1327,812"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1169,930,1337,971"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1425,785,1523,812"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1644,869,1736,896"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1418,735,1530,761"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1607,819,1773,845"/>
<area shape="rect" id="node44" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1404,836,1544,863"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1644,717,1736,744"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1633,768,1747,795"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1409,937,1539,964"/>
<area shape="rect" id="node47" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1407,989,1541,1030"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="716,651,832,677"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="947,651,1078,677"/>
</map>
</div>

</div>
</div>
<a id="a2fedac953d08b5bd61953f25f52024aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fedac953d08b5bd61953f25f52024aa">&#9670;&nbsp;</a></span>btrfs_init_async_reclaim_work()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_init_async_reclaim_work </td>
          <td>(</td>
          <td class="paramtype">struct work_struct *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_cgraph.png" border="0" usemap="#extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_cgraph" alt=""/></div>
<map name="extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_cgraph" id="extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="252,513,391,555"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1087,507,1214,534"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="633,168,761,209"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="452,738,544,765"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#aa4da5e54727044428ab6cc112f5d7cdc" title="wake_all_tickets" alt="" coords="439,789,557,815"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="864,74,983,101"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1074,137,1227,163"/>
<area shape="rect" id="node11" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1097,254,1204,281"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1085,188,1217,229"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1079,5,1222,47"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1077,71,1224,112"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1336,105,1452,131"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="847,713,999,739"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="850,814,997,841"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1545,555,1692,582"/>
<area shape="rect" id="node29" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="605,966,788,993"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="643,1017,751,1043"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="641,487,753,514"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="613,763,781,790"/>
<area shape="rect" id="node14" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1291,454,1497,481"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1091,814,1210,841"/>
<area shape="rect" id="node17" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1322,672,1466,713"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1312,738,1476,765"/>
<area shape="rect" id="node19" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1325,789,1463,815"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1319,839,1469,866"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1329,890,1459,917"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="1337,941,1451,967"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1309,505,1479,531"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="1325,992,1463,1033"/>
<area shape="rect" id="node27" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1314,555,1474,582"/>
<area shape="rect" id="node28" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="1315,607,1473,648"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1740,530,1901,557"/>
<area shape="rect" id="node30" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="854,1085,993,1127"/>
<area shape="rect" id="node31" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1123,1118,1178,1145"/>
<area shape="rect" id="node32" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1093,1169,1208,1195"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#a871e0ca3f52c069d5a57f09c72d9e117" title="btrfs_first_delayed_node" alt="" coords="1069,1219,1233,1246"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a0aa39e6040d1f30d10c52f051b81916c" title="__btrfs_commit_inode\l_delayed_items" alt="" coords="1075,1271,1226,1312"/>
<area shape="rect" id="node35" href="delayed-inode_8c.html#ae41987e5af596d25876eee9105ba4fd4" title="btrfs_release_delayed_node" alt="" coords="1059,966,1243,993"/>
<area shape="rect" id="node36" href="delayed-inode_8c.html#a7426853484f2890a68efa2657db95a99" title="btrfs_next_delayed_node" alt="" coords="1067,1017,1234,1043"/>
<area shape="rect" id="node37" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1096,1067,1205,1094"/>
<area shape="rect" id="node39" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1086,1336,1215,1377"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="845,1283,1001,1324"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="855,175,991,202"/>
<area shape="rect" id="node43" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="843,662,1003,689"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="836,378,1011,405"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="849,277,998,303"/>
<area shape="rect" id="node46" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1089,411,1213,438"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="852,480,995,521"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="857,545,990,587"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_icgraph.png" border="0" usemap="#extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_icgraph" id="extent-tree_8c_a2fedac953d08b5bd61953f25f52024aa_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="252,589,339,616"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="388,292,495,319"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="387,589,496,616"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1033,245,1153,272"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1280,224,1391,251"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="544,742,725,783"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="567,523,703,565"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="573,691,697,717"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="575,640,695,667"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="559,888,711,915"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="567,957,702,984"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="585,140,685,167"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="557,368,713,395"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="773,752,955,779"/>
<area shape="rect" id="node9" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1043,753,1144,780"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="791,471,937,497"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="777,531,951,557"/>
<area shape="rect" id="node12" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1015,317,1172,344"/>
<area shape="rect" id="node13" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1257,275,1413,301"/>
<area shape="rect" id="node14" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1248,325,1423,352"/>
<area shape="rect" id="node16" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1036,368,1151,395"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1301,535,1370,561"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1020,535,1167,577"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1006,470,1181,511"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1260,376,1411,403"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1271,427,1400,453"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1495,484,1646,511"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1487,535,1655,561"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1519,585,1623,612"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1491,433,1650,460"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="806,652,922,679"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1251,703,1420,729"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1040,652,1147,679"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="782,1059,946,1085"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="782,888,946,915"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1232,921,1439,948"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1024,804,1163,831"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="794,957,934,984"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="786,1008,942,1035"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1029,855,1158,897"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1019,973,1167,1014"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1047,1039,1140,1065"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1046,1089,1141,1116"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="807,115,921,141"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1045,56,1141,83"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1003,107,1184,149"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1034,5,1153,32"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="779,317,949,344"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="801,368,927,395"/>
</map>
</div>

</div>
</div>
<a id="a628d6cb779fbf248f09a33ed84e8aa26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628d6cb779fbf248f09a33ed84e8aa26">&#9670;&nbsp;</a></span>btrfs_init_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_init_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a628d6cb779fbf248f09a33ed84e8aa26_icgraph.png" border="0" usemap="#extent-tree_8c_a628d6cb779fbf248f09a33ed84e8aa26_icgraph" alt=""/></div>
<map name="extent-tree_8c_a628d6cb779fbf248f09a33ed84e8aa26_icgraph" id="extent-tree_8c_a628d6cb779fbf248f09a33ed84e8aa26_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1016,506,1103,532"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a06c414d3f60fe337268a503a5ac67fae" title="btrfs_init_metadata\l_block_rsv" alt="" coords="203,893,337,934"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1000,742,1119,768"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="219,590,321,616"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="188,691,352,718"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1197,34,1303,60"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1195,490,1305,516"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1812,338,1932,364"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1980,338,2091,364"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1353,204,1535,245"/>
<area shape="rect" id="node9" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1376,584,1512,625"/>
<area shape="rect" id="node13" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1382,532,1506,559"/>
<area shape="rect" id="node15" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1384,482,1504,508"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1368,135,1520,162"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1377,287,1511,314"/>
<area shape="rect" id="node22" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1394,751,1494,778"/>
<area shape="rect" id="node24" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1366,380,1522,407"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1583,186,1764,212"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1600,650,1747,676"/>
<area shape="rect" id="node11" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1586,591,1761,618"/>
<area shape="rect" id="node12" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1837,540,1907,567"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1615,540,1731,567"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1591,84,1755,111"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1591,135,1755,162"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1603,236,1743,263"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1595,287,1751,314"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1616,751,1731,778"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1588,338,1759,364"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="1611,439,1736,466"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#aca4351c60d0a69aec44c5b83c58eeab1" title="btrfs_alloc_inode" alt="" coords="413,1052,533,1079"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ac4fa53d8f83f56d50e0fe18f189751c0" title="btrfs_alloc_block_rsv" alt="" coords="400,900,545,927"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="777,1163,924,1190"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="601,966,722,992"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="600,900,723,927"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="601,1046,722,1072"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="610,792,713,819"/>
<area shape="rect" id="node47" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="593,850,729,876"/>
<area shape="rect" id="node32" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="799,1112,903,1139"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="777,742,924,768"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="806,894,895,920"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="809,1062,893,1088"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="802,792,899,819"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="801,944,900,971"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="803,843,898,870"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="783,996,919,1037"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1195,751,1305,778"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#ad21b72862d0f4ebfdcdf3c8d6cb2548a" title="btrfs_ioctl_snap_create\l_transid" alt="" coords="1365,802,1523,844"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="972,868,1147,895"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="433,691,512,718"/>
</map>
</div>

</div>
</div>
<a id="a06c414d3f60fe337268a503a5ac67fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c414d3f60fe337268a503a5ac67fae">&#9670;&nbsp;</a></span>btrfs_init_metadata_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_init_metadata_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_cgraph.png" border="0" usemap="#extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_cgraph" alt=""/></div>
<map name="extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_cgraph" id="extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a628d6cb779fbf248f09a33ed84e8aa26" title="btrfs_init_block_rsv" alt="" coords="187,5,321,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="191,56,317,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_icgraph.png" border="0" usemap="#extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_icgraph" alt=""/></div>
<map name="extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_icgraph" id="extent-tree_8c_a06c414d3f60fe337268a503a5ac67fae_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#aca4351c60d0a69aec44c5b83c58eeab1" title="btrfs_alloc_inode" alt="" coords="199,56,319,83"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ac4fa53d8f83f56d50e0fe18f189751c0" title="btrfs_alloc_block_rsv" alt="" coords="187,169,332,196"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1826,43,1973,69"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="387,93,509,120"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="387,608,509,635"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1035,93,1157,120"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1045,397,1147,424"/>
<area shape="rect" id="node49" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="380,195,516,221"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="585,93,689,120"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1228,363,1375,389"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="816,667,905,693"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="1259,768,1343,795"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1253,717,1350,744"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="587,549,686,576"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="813,819,908,845"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="569,601,705,642"/>
<area shape="rect" id="node47" href="relocation_8c.html#aafc372d1d9b506be64cd48ee274a439f" title="create_reloc_inode" alt="" coords="571,245,702,272"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1438,464,1574,491"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1641,464,1760,491"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1856,275,1943,301"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1429,300,1583,327"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1425,195,1587,221"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1654,515,1747,541"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1848,413,1951,440"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1812,692,1987,719"/>
<area shape="rect" id="node12" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="2041,692,2139,719"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="2035,449,2145,476"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2037,235,2143,261"/>
<area shape="rect" id="node19" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2035,315,2145,341"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2224,155,2344,181"/>
<area shape="rect" id="node20" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2193,307,2375,349"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2216,373,2352,414"/>
<area shape="rect" id="node22" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2222,439,2346,465"/>
<area shape="rect" id="node23" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2224,205,2344,232"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2208,256,2360,283"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1649,195,1752,221"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1637,297,1764,338"/>
<area shape="rect" id="node29" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1653,93,1749,120"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1655,717,1747,744"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#acf4169a1b179f406bc39c7a1a4e6a137" title="btrfs_rename2" alt="" coords="808,557,913,584"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="757,423,964,449"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1231,616,1371,643"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1021,448,1171,475"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1012,499,1180,541"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1423,245,1589,272"/>
<area shape="rect" id="node44" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1435,565,1577,592"/>
<area shape="rect" id="node45" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1471,616,1541,643"/>
<area shape="rect" id="node48" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="791,213,930,254"/>
<area shape="rect" id="node50" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="564,195,709,221"/>
</map>
</div>

</div>
</div>
<a id="a56ddb7df98f98a19cb3e0852d2968f3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ddb7df98f98a19cb3e0852d2968f3f">&#9670;&nbsp;</a></span>btrfs_init_new_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structextent__buffer.html">extent_buffer</a>* btrfs_init_new_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_cgraph.png" border="0" usemap="#extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_cgraph" id="extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_cgraph">
<area shape="rect" id="node2" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="205,328,353,369"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a7287fa383523fd330773dafb2ff08a59" title="set_extent_buffer_uptodate" alt="" coords="1261,336,1441,363"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="196,520,361,561"/>
<area shape="rect" id="node20" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="225,586,333,612"/>
<area shape="rect" id="node21" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="219,636,339,663"/>
<area shape="rect" id="node23" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="409,671,568,698"/>
<area shape="rect" id="node27" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="221,738,336,764"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a2fbccb6891267e933f13e5be9f665eea" title="set_extent_new" alt="" coords="221,788,336,815"/>
<area shape="rect" id="node3" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="433,208,544,235"/>
<area shape="rect" id="node4" href="extent__io_8h.html#a29abd63bd8d61dbce1e013e2d13f9e8e" title="alloc_test_extent_buffer" alt="" coords="846,418,1007,444"/>
<area shape="rect" id="node5" href="extent__io_8c.html#a4974facd69d3453e3768855c44ba3ee9" title="alloc_extent_buffer" alt="" coords="423,259,555,286"/>
<area shape="rect" id="node6" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1493,387,1625,414"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="643,259,769,286"/>
<area shape="rect" id="node8" href="extent__io_8c.html#a8f8971b21a75989268a2f29358acdc99" title="mark_extent_buffer\l_accessed" alt="" coords="859,68,994,109"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1061,126,1209,152"/>
<area shape="rect" id="node12" href="extent__io_8c.html#af29fb6d60c0351dc356c9693e3b73d28" title="__alloc_extent_buffer" alt="" coords="1278,184,1425,211"/>
<area shape="rect" id="node15" href="extent__io_8c.html#aff53638991957d47ed7598815c2bada2" title="btrfs_release_extent\l_buffer" alt="" coords="857,301,997,342"/>
<area shape="rect" id="node18" href="extent__io_8c.html#aef4568c59eeab1fcb0320ce93b13a7fb" title="attach_extent_buffer_page" alt="" coords="618,134,794,160"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a4260e72c84f6e638112280d3d1f459f7" title="alloc_dummy_extent\l_buffer" alt="" coords="855,236,998,277"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a5c3e12883e4c0c238d99d23f19bb1df3" title="__alloc_dummy_extent\l_buffer" alt="" coords="1057,236,1213,277"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ae5972708be74df23a5a9cafdd514b7c8" title="__free_extent_buffer" alt="" coords="1281,286,1422,312"/>
<area shape="rect" id="node16" href="extent__io_8c.html#a664832bdb9196f366f7bae8d23fe6491" title="btrfs_release_extent\l_buffer_page" alt="" coords="1065,422,1205,464"/>
<area shape="rect" id="node17" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1274,387,1429,414"/>
<area shape="rect" id="node22" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="844,612,1009,639"/>
<area shape="rect" id="node26" href="extent__io_8c.html#a5d6d3672069a2fb3866e895fec76db34" title="clear_extent_buffer\l_dirty" alt="" coords="639,552,773,593"/>
<area shape="rect" id="node24" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="616,671,796,698"/>
<area shape="rect" id="node25" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="851,664,1003,705"/>
<area shape="rect" id="node28" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="437,788,541,815"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="647,999,765,1026"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1071,759,1199,786"/>
<area shape="rect" id="node31" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1489,974,1629,1000"/>
<area shape="rect" id="node34" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="851,847,1002,874"/>
<area shape="rect" id="node36" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="863,781,991,822"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a2a35e48a00317a8f13a19f3ba1caecaa" title="insert_state" alt="" coords="881,1050,972,1076"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="1083,948,1187,975"/>
<area shape="rect" id="node42" href="extent__io_8c.html#a0e9df311badff8a81168b49e10e47db7" title="merge_state" alt="" coords="1088,999,1183,1026"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1290,1075,1413,1102"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="855,1151,998,1178"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a1a855576f67d424c4b8024553802ef4a" title="cache_state" alt="" coords="880,1202,973,1228"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="885,1252,968,1279"/>
<area shape="rect" id="node49" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="885,1100,968,1127"/>
<area shape="rect" id="node32" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1703,948,1798,975"/>
<area shape="rect" id="node33" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1677,999,1824,1026"/>
<area shape="rect" id="node35" href="extent__io_8c.html#abe467271d634b8343246cb5501b8baa5" title="__etree_search" alt="" coords="1080,847,1191,874"/>
<area shape="rect" id="node41" href="extent__io_8c.html#af958ea152d9987cc5689861b43c9d595" title="tree_insert" alt="" coords="1094,1050,1177,1076"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a9978f793a333445e07eb82b0c69ebdd8" title="set_state_cb" alt="" coords="1303,948,1400,975"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a0faa12cb962bf387a41fc563285a13cf" title="add_extent_changeset" alt="" coords="1275,999,1428,1026"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a320be295294cb256f23fe5d3e74d8fea" title="tree_fs_info" alt="" coords="1090,1151,1181,1178"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="1064,1202,1207,1228"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_icgraph.png" border="0" usemap="#extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_icgraph" id="extent-tree_8c_a56ddb7df98f98a19cb3e0852d2968f3f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="196,791,345,817"/>
<area shape="rect" id="node3" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="403,107,515,133"/>
<area shape="rect" id="node9" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="393,689,524,716"/>
<area shape="rect" id="node31" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1078,689,1159,716"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1081,537,1156,564"/>
<area shape="rect" id="node37" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="841,664,955,691"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1653,1035,1860,1061"/>
<area shape="rect" id="node41" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="399,943,519,969"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="407,1095,510,1121"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="407,1171,510,1197"/>
<area shape="rect" id="node4" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="606,56,729,83"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1033,107,1204,133"/>
<area shape="rect" id="node5" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="830,5,966,32"/>
<area shape="rect" id="node6" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="811,56,985,83"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1252,107,1429,133"/>
<area shape="rect" id="node10" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="609,461,726,488"/>
<area shape="rect" id="node36" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1477,816,1605,843"/>
<area shape="rect" id="node11" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1068,613,1169,640"/>
<area shape="rect" id="node13" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1480,613,1603,640"/>
<area shape="rect" id="node26" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1709,360,1805,387"/>
<area shape="rect" id="node27" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1931,360,2053,387"/>
<area shape="rect" id="node28" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1707,309,1806,336"/>
<area shape="rect" id="node30" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="821,715,975,741"/>
<area shape="rect" id="node32" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="843,512,953,539"/>
<area shape="rect" id="node34" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="847,563,949,589"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="820,461,976,488"/>
<area shape="rect" id="node12" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1259,613,1423,640"/>
<area shape="rect" id="node14" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="1707,832,1806,859"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1670,883,1843,909"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1720,933,1793,960"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1689,512,1825,539"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1683,563,1830,589"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="1679,613,1835,640"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2124,744,2271,771"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1687,766,1827,807"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="1677,715,1837,741"/>
<area shape="rect" id="node25" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1689,411,1824,437"/>
<area shape="rect" id="node29" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1689,984,1825,1011"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1931,773,2053,800"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1941,824,2043,851"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1917,1005,2067,1032"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1908,1057,2076,1098"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="838,1095,958,1121"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="572,1044,763,1071"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="601,892,733,919"/>
<area shape="rect" id="node45" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="592,943,743,969"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="590,1095,745,1121"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="603,1145,732,1172"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="612,1196,723,1223"/>
</map>
</div>

</div>
</div>
<a id="a5075fd56a2745dd4e404b917b3b6962f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5075fd56a2745dd4e404b917b3b6962f">&#9670;&nbsp;</a></span>btrfs_init_space_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_init_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_cgraph.png" border="0" usemap="#extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_cgraph" id="extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a17b415ce607865d97e9e385d9b572e6f" title="create_space_info" alt="" coords="196,5,324,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a3477a79f1fe1ff7a32a7babaf304d719" title="alloc_name" alt="" coords="372,5,460,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_icgraph.png" border="0" usemap="#extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_icgraph" id="extent-tree_8c_a5075fd56a2745dd4e404b917b3b6962f_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="196,589,283,616"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="332,292,439,319"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="331,589,440,616"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="977,245,1097,272"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1224,224,1335,251"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="488,742,669,783"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="511,523,647,565"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="517,691,641,717"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="519,640,639,667"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="503,888,655,915"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="511,957,646,984"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="529,140,629,167"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="501,368,657,395"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="717,752,899,779"/>
<area shape="rect" id="node9" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="987,753,1088,780"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="735,471,881,497"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="721,531,895,557"/>
<area shape="rect" id="node12" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="959,317,1116,344"/>
<area shape="rect" id="node13" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1201,275,1357,301"/>
<area shape="rect" id="node14" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1192,325,1367,352"/>
<area shape="rect" id="node16" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="980,368,1095,395"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1245,535,1314,561"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="964,535,1111,577"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="950,470,1125,511"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1204,376,1355,403"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1215,427,1344,453"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1439,484,1590,511"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1431,535,1599,561"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1463,585,1567,612"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1435,433,1594,460"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="750,652,866,679"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1195,703,1364,729"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="984,652,1091,679"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="726,1059,890,1085"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="726,888,890,915"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1176,921,1383,948"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="968,804,1107,831"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="738,957,878,984"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="730,1008,886,1035"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="973,855,1102,897"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="963,973,1111,1014"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="991,1039,1084,1065"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="990,1089,1085,1116"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="751,115,865,141"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="989,56,1085,83"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="947,107,1128,149"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="978,5,1097,32"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="723,317,893,344"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="745,368,871,395"/>
</map>
</div>

</div>
</div>
<a id="a7697d14eb5cdc543f5e1b85fd1ea628f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7697d14eb5cdc543f5e1b85fd1ea628f">&#9670;&nbsp;</a></span>btrfs_inode_rsv_refill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_inode_rsv_refill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a>&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>btrfs_inode_rsv_refill - refill the inode block rsv.  - the inode we are refilling.  - the flusing restriction.</p>
<p>Essentially the same as btrfs_block_rsv_refill, except it uses the block_rsv-&gt;size as the minimum size. We'll either refill the missing amount or return if we already have enough space. This will also handle the resreve tracepoint for the reserved amount. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_cgraph.png" border="0" usemap="#extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_cgraph" id="extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_cgraph">
<area shape="rect" id="node2" href="qgroup_8h.html#a71ec3f08b811ab3f74b12653d26ad4a8" title="btrfs_qgroup_reserve\l_meta_prealloc" alt="" coords="207,167,351,209"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="196,849,361,876"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="206,900,351,927"/>
<area shape="rect" id="node40" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="243,951,315,977"/>
<area shape="rect" id="node41" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="199,387,358,429"/>
<area shape="rect" id="node3" href="qgroup_8h.html#aae8e4d4d33f79ca4ab6c4db32947ad61" title="__btrfs_qgroup_reserve_meta" alt="" coords="409,83,604,109"/>
<area shape="rect" id="node17" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="420,175,593,201"/>
<area shape="rect" id="node4" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="913,107,985,133"/>
<area shape="rect" id="node5" href="qgroup_8c.html#a19fb0d4d29407e3e159f137f46b262d6" title="qgroup_reserve" alt="" coords="684,360,795,387"/>
<area shape="rect" id="node16" href="qgroup_8c.html#adff9e44760042a00a479101ac7d3a71e" title="add_root_meta_rsv" alt="" coords="673,5,806,32"/>
<area shape="rect" id="node6" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="896,259,1003,285"/>
<area shape="rect" id="node7" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="909,461,990,488"/>
<area shape="rect" id="node10" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="912,309,987,336"/>
<area shape="rect" id="node11" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="896,360,1003,387"/>
<area shape="rect" id="node12" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="910,563,989,589"/>
<area shape="rect" id="node13" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="875,411,1024,437"/>
<area shape="rect" id="node14" href="qgroup_8c.html#ae762c40e14a95c1f8b20878d26892140" title="qgroup_check_limits" alt="" coords="879,208,1020,235"/>
<area shape="rect" id="node15" href="qgroup_8c.html#aa5412fcf70bd70125313f34bbd217989" title="qgroup_rsv_add" alt="" coords="892,512,1007,539"/>
<area shape="rect" id="node8" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1084,537,1179,564"/>
<area shape="rect" id="node9" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1096,385,1167,412"/>
<area shape="rect" id="node18" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="673,157,806,184"/>
<area shape="rect" id="node19" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="656,411,823,437"/>
<area shape="rect" id="node20" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="882,613,1017,640"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="437,842,577,883"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="434,1047,579,1073"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="445,996,569,1023"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1239,956,1392,983"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1072,765,1191,792"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="658,921,821,948"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="672,715,807,741"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="654,842,825,883"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1249,753,1381,794"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1244,818,1387,859"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1242,687,1389,729"/>
<area shape="rect" id="node29" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1078,931,1185,957"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="885,867,1013,909"/>
<area shape="rect" id="node31" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="892,984,1007,1011"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1085,820,1177,847"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="660,1136,819,1163"/>
<area shape="rect" id="node38" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="922,1136,977,1163"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="427,387,586,429"/>
<area shape="rect" id="node43" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="435,258,579,299"/>
<area shape="rect" id="node45" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="439,505,575,546"/>
<area shape="rect" id="node44" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="666,461,813,488"/>
<area shape="rect" id="node46" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="665,309,814,336"/>
<area shape="rect" id="node47" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="657,613,821,640"/>
<area shape="rect" id="node49" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="701,512,778,539"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="652,664,827,691"/>
<area shape="rect" id="node48" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="885,664,1013,691"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_icgraph.png" border="0" usemap="#extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_icgraph" id="extent-tree_8c_a7697d14eb5cdc543f5e1b85fd1ea628f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="196,518,345,559"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="599,56,750,83"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="393,518,543,559"/>
<area shape="rect" id="node49" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="829,910,963,951"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="828,5,964,32"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1055,56,1187,83"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="601,489,748,530"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="605,233,745,260"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="621,416,729,443"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="607,555,743,581"/>
<area shape="rect" id="node30" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="600,605,749,632"/>
<area shape="rect" id="node45" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="591,715,759,741"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="807,501,985,528"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1484,475,1659,501"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1729,475,1827,501"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="835,107,957,133"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1069,157,1173,184"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="837,208,955,235"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="831,259,961,285"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="845,309,947,336"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1072,309,1169,336"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1062,208,1179,235"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1300,360,1392,387"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="1271,56,1421,83"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1047,259,1194,285"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1278,259,1414,285"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1512,259,1631,285"/>
<area shape="rect" id="node24" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1528,157,1615,184"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1269,107,1423,133"/>
<area shape="rect" id="node26" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1265,309,1427,336"/>
<area shape="rect" id="node27" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1730,348,1826,375"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="837,605,955,632"/>
<area shape="rect" id="node32" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1033,584,1208,611"/>
<area shape="rect" id="node34" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1036,689,1205,716"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1261,563,1431,589"/>
<area shape="rect" id="node35" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1293,613,1399,640"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1285,816,1407,843"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1285,867,1407,893"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1295,664,1397,691"/>
<area shape="rect" id="node39" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1301,765,1391,792"/>
<area shape="rect" id="node40" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1492,812,1651,839"/>
<area shape="rect" id="node41" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1256,917,1436,944"/>
<area shape="rect" id="node42" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1273,968,1419,995"/>
<area shape="rect" id="node43" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1502,911,1641,953"/>
<area shape="rect" id="node44" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1707,919,1849,945"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="839,748,953,775"/>
<area shape="rect" id="node47" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="1055,741,1186,782"/>
<area shape="rect" id="node48" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="1059,807,1182,833"/>
<area shape="rect" id="node50" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="1049,968,1192,995"/>
</map>
</div>

</div>
</div>
<a id="aac7629606ec50e45fe8b1b71044f8d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7629606ec50e45fe8b1b71044f8d95">&#9670;&nbsp;</a></span>btrfs_inode_rsv_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_inode_rsv_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>qgroup_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>btrfs_inode_rsv_release - release any excessive reservation.  - the inode we need to release from.  - free or convert qgroup meta. Unlike normal operation, qgroup meta reservation needs to know if we are freeing qgroup reservation or just converting it into per-trans. Normally  is true for error handling, and false for normal release.</p>
<p>This is the same as btrfs_block_rsv_release, except that it handles the tracepoint for the reservation. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_cgraph.png" border="0" usemap="#extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_cgraph" alt=""/></div>
<map name="extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_cgraph" id="extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="213,404,380,431"/>
<area shape="rect" id="node11" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="261,759,333,785"/>
<area shape="rect" id="node12" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="217,810,376,851"/>
<area shape="rect" id="node50" href="qgroup_8c.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="443,898,587,939"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="446,103,583,145"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="872,5,1025,32"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="677,111,796,137"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="883,122,1015,163"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="877,187,1020,229"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="875,57,1022,98"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1087,129,1203,156"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1266,122,1394,163"/>
<area shape="rect" id="node13" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="428,847,601,873"/>
<area shape="rect" id="node29" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="435,963,594,1005"/>
<area shape="rect" id="node30" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="443,781,587,822"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="447,594,583,635"/>
<area shape="rect" id="node14" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="913,1007,985,1033"/>
<area shape="rect" id="node15" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="670,905,803,932"/>
<area shape="rect" id="node16" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="653,804,820,831"/>
<area shape="rect" id="node17" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="895,956,1002,983"/>
<area shape="rect" id="node18" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="908,703,989,729"/>
<area shape="rect" id="node21" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="911,753,986,780"/>
<area shape="rect" id="node25" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="895,804,1002,831"/>
<area shape="rect" id="node26" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="909,652,988,679"/>
<area shape="rect" id="node27" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="874,855,1023,881"/>
<area shape="rect" id="node28" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="881,905,1016,932"/>
<area shape="rect" id="node19" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1097,703,1192,729"/>
<area shape="rect" id="node20" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1109,652,1180,679"/>
<area shape="rect" id="node22" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1086,753,1203,780"/>
<area shape="rect" id="node23" href="ulist_8c.html#a4a2f46d31727a215a17d74ce60594523" title="ulist_rbtree_search" alt="" coords="1264,779,1396,805"/>
<area shape="rect" id="node24" href="ulist_8c.html#a9e22aa0917a164df2a7ab11359e3ce62" title="ulist_rbtree_insert" alt="" coords="1267,728,1393,755"/>
<area shape="rect" id="node31" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="663,753,810,780"/>
<area shape="rect" id="node32" href="qgroup_8c.html#aa5412fcf70bd70125313f34bbd217989" title="qgroup_rsv_add" alt="" coords="891,601,1006,628"/>
<area shape="rect" id="node34" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="662,500,811,527"/>
<area shape="rect" id="node35" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="655,416,819,443"/>
<area shape="rect" id="node48" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="698,551,775,577"/>
<area shape="rect" id="node49" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="649,601,824,628"/>
<area shape="rect" id="node36" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="885,399,1013,425"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1266,547,1394,573"/>
<area shape="rect" id="node38" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1444,383,1584,409"/>
<area shape="rect" id="node41" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1269,332,1391,359"/>
<area shape="rect" id="node42" href="extent__io_8c.html#a69da98b4b5fc8b28b435f40f0b3ae3d7" title="tree_search" alt="" coords="1099,551,1190,577"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="1289,235,1371,261"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="1081,485,1209,526"/>
<area shape="rect" id="node45" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="1103,332,1186,359"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="1073,281,1216,308"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a297b8b86f599aea09760477a533be51a" title="clear_state_bit" alt="" coords="1091,383,1198,409"/>
<area shape="rect" id="node39" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1658,357,1753,384"/>
<area shape="rect" id="node40" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1632,408,1779,435"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_icgraph.png" border="0" usemap="#extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_icgraph" alt=""/></div>
<map name="extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_icgraph" id="extent-tree_8c_aac7629606ec50e45fe8b1b71044f8d95_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="213,391,363,433"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="214,457,362,498"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467" title="btrfs_delalloc_release\l_extents" alt="" coords="411,326,559,367"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="617,639,767,665"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="411,391,560,433"/>
<area shape="rect" id="node34" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="625,117,759,158"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="827,639,963,665"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1036,655,1168,681"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="619,285,765,326"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="622,452,762,479"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1273,705,1381,732"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="624,401,760,428"/>
<area shape="rect" id="node22" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="617,183,767,209"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="608,351,776,377"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a30836f0e634bb2c93829f6213f243777" title="btrfs_writepage_start_hook" alt="" coords="1237,419,1416,445"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1464,807,1639,833"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1709,807,1807,833"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="835,335,956,361"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1050,401,1154,428"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="836,385,955,412"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="831,537,960,564"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="844,487,947,513"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1053,503,1151,529"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1043,553,1161,580"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1029,452,1175,479"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="836,132,955,159"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1015,132,1189,159"/>
<area shape="rect" id="node25" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1017,81,1187,108"/>
<area shape="rect" id="node26" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1254,31,1399,57"/>
<area shape="rect" id="node27" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1482,23,1621,65"/>
<area shape="rect" id="node28" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1710,5,1806,32"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1687,56,1829,83"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="838,284,953,311"/>
<area shape="rect" id="node32" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="1037,285,1167,326"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="1041,351,1163,377"/>
<area shape="rect" id="node35" href="relocation_8c.html#aff0a62913490db1a01de9ed1fd4e3a04" title="relocate_data_extent" alt="" coords="824,56,967,83"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="1257,807,1396,833"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="411,457,559,498"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1" title="btrfs_write_out_ino\l_cache" alt="" coords="419,242,551,283"/>
<area shape="rect" id="node40" href="ordered-data_8h.html#a7556f4c1b2c1b0a82daff84a80b56452" title="btrfs_remove_ordered\l_extent" alt="" coords="411,934,559,975"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="615,916,769,943"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a172104c6e25b34821b4b087249fe414b" title="btrfs_destroy_inode" alt="" coords="624,967,760,993"/>
<area shape="rect" id="node48" href="ordered-data_8h.html#ad20568759956e45d96b5e95a067f4eb1" title="btrfs_ordered_inode\l_tree_init" alt="" coords="624,1018,760,1059"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#ac9a663983999041a75604d9ffa128a4c" title="finish_ordered_fn" alt="" coords="835,873,956,900"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a1c5f84733c334b647fefa2f6c07785b4" title="btrfs_invalidatepage" alt="" coords="1257,924,1396,951"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#aac5aef8a21ce5455c61f13972f3a402b" title="btrfs_writepage_end\l_io_hook" alt="" coords="1257,858,1396,899"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a8bdc721b2c1931ee9b25e8d3ee83aa92" title="__endio_write_update\l_ordered" alt="" coords="1028,757,1176,798"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1029,1000,1175,1027"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#aca4351c60d0a69aec44c5b83c58eeab1" title="btrfs_alloc_inode" alt="" coords="835,1025,955,1052"/>
</map>
</div>

</div>
</div>
<a id="ab96348d13a074b86a55eca5ff696447a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96348d13a074b86a55eca5ff696447a">&#9670;&nbsp;</a></span>btrfs_issue_discard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_issue_discard </td>
          <td>(</td>
          <td class="paramtype">struct block_device *&#160;</td>
          <td class="paramname"><em>bdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>discarded_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_cgraph.png" border="0" usemap="#extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_cgraph" id="extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_cgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="188,1065,297,1092"/>
<area shape="rect" id="node3" href="disk-io_8h.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="373,209,488,236"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a95ecad9833224c4d4a39bde4533d529f" title="readahead_tree_block" alt="" coords="356,264,505,291"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a57321c2d30f0e195ad845fe1bde29555" title="reada_tree_block_flagged" alt="" coords="345,404,516,431"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="589,15,737,57"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="371,939,491,965"/>
<area shape="rect" id="node20" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="387,888,474,915"/>
<area shape="rect" id="node40" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="386,989,475,1016"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="373,1040,489,1067"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="357,1091,504,1117"/>
<area shape="rect" id="node43" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="363,1142,499,1183"/>
<area shape="rect" id="node44" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="362,1208,499,1235"/>
<area shape="rect" id="node45" href="disk-io_8h.html#ab428bbb1f4037e1d48162bce47a1f41c" title="btrfs_read_fs_root" alt="" coords="367,1259,494,1285"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a3ed74b56709d68f7e90f153ecac7c347" title="btrfs_init_fs_root" alt="" coords="371,1309,490,1336"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a77e367c4e91efe6cedbcffafa5b29d83" title="btrfs_lookup_fs_root" alt="" coords="361,1360,501,1387"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a9fca74bcf57d341ed480c5b7ee581890" title="btrfs_insert_fs_root" alt="" coords="363,1411,498,1437"/>
<area shape="rect" id="node49" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="365,340,496,367"/>
<area shape="rect" id="node50" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="371,1461,491,1488"/>
<area shape="rect" id="node4" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="589,81,737,122"/>
<area shape="rect" id="node8" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="580,198,747,239"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="600,315,727,341"/>
<area shape="rect" id="node5" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="836,107,947,133"/>
<area shape="rect" id="node6" href="extent__io_8h.html#a29abd63bd8d61dbce1e013e2d13f9e8e" title="alloc_test_extent_buffer" alt="" coords="811,5,972,32"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a4974facd69d3453e3768855c44ba3ee9" title="alloc_extent_buffer" alt="" coords="825,56,957,83"/>
<area shape="rect" id="node9" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="853,340,930,367"/>
<area shape="rect" id="node10" href="extent__io_8c.html#aa7c3981789599b3376ee73c3ae64bf8d" title="read_extent_buffer\l_pages" alt="" coords="826,198,957,239"/>
<area shape="rect" id="node14" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="586,467,741,493"/>
<area shape="rect" id="node17" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="581,1579,746,1605"/>
<area shape="rect" id="node18" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="584,1629,743,1656"/>
<area shape="rect" id="node19" href="extent__io_8c.html#a5d6d3672069a2fb3866e895fec76db34" title="clear_extent_buffer\l_dirty" alt="" coords="597,1513,730,1554"/>
<area shape="rect" id="node21" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="629,1107,698,1133"/>
<area shape="rect" id="node22" href="free-space-tree_8c.html#a0889f0179a51c5b0f0fc4e8f377d5f76" title="clear_free_space_tree" alt="" coords="588,1157,739,1184"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a60b993ca96d10a0f2d1ad36ec5dbcda2" title="btrfs_alloc_root" alt="" coords="608,1259,719,1285"/>
<area shape="rect" id="node24" href="disk-io_8c.html#aacf54ca19f7cbab49b46ec618d893dec" title="__setup_root" alt="" coords="843,1259,940,1285"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a970fa44d8f72a23cdd8778cd2e683c1c" title="extent_io_tree_init" alt="" coords="1020,1208,1148,1235"/>
<area shape="rect" id="node26" href="volumes_8c.html#acb6194ebbcc67a1cb1a20efecc2c1c21" title="btrfs_mapping_init" alt="" coords="599,1360,727,1387"/>
<area shape="rect" id="node27" href="ctree_8h.html#a628d6cb779fbf248f09a33ed84e8aa26" title="btrfs_init_block_rsv" alt="" coords="596,1411,731,1437"/>
<area shape="rect" id="node28" href="ref-verify_8h.html#a64b466c86caea5858af7e9adf95a2300" title="btrfs_init_ref_verify" alt="" coords="597,1461,730,1488"/>
<area shape="rect" id="node29" href="inode_8c.html#ae03a9f08d4efbf91ff44e29c1369314e" title="new_inode" alt="" coords="621,517,705,544"/>
<area shape="rect" id="node30" href="delayed-inode_8h.html#a4d171a4ea235f941d75d4cad68c0c7e2" title="btrfs_init_delayed_root" alt="" coords="587,568,740,595"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a3bdb16eb602b5b125666a016fdeb46fc" title="btrfs_init_scrub" alt="" coords="608,619,719,645"/>
<area shape="rect" id="node32" href="disk-io_8c.html#aa5794934b3036327d0f5d6122bd1a83b" title="btrfs_init_balance" alt="" coords="601,669,725,696"/>
<area shape="rect" id="node33" href="ctree_8h.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="564,720,763,747"/>
<area shape="rect" id="node34" href="disk-io_8c.html#a57f2a76118201d63d63ff8780f1646ba" title="btrfs_init_btree_inode" alt="" coords="590,1056,737,1083"/>
<area shape="rect" id="node35" href="disk-io_8c.html#ad13adfc5d08f85ea9f17cea71f0fb46b" title="btrfs_init_dev_replace\l_locks" alt="" coords="589,771,738,813"/>
<area shape="rect" id="node36" href="disk-io_8c.html#a88e79a92a016ddd53241c8d583b11ab3" title="btrfs_init_qgroup" alt="" coords="604,837,723,864"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="590,888,737,915"/>
<area shape="rect" id="node38" href="raid56_8c.html#a6f8fd3cf925a015bbecaa5ff9ac3cefa" title="btrfs_alloc_stripe\l_hash_table" alt="" coords="603,939,724,981"/>
<area shape="rect" id="node39" href="block__dev_8c.html#acf9d0cf99603ebd247a2b90d077ee6de" title="invalidate_bdev" alt="" coords="607,1005,719,1032"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_icgraph.png" border="0" usemap="#extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_icgraph" id="extent-tree_8c_ab96348d13a074b86a55eca5ff696447a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="196,1693,336,1720"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="188,1748,344,1775"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="591,1651,720,1693"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="392,1717,540,1758"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="419,1600,513,1627"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="771,1757,977,1784"/>
<area shape="rect" id="node9" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="789,873,959,900"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1060,1707,1181,1733"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1069,1757,1172,1784"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1046,1808,1195,1835"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1037,1859,1205,1901"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1067,224,1174,251"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1060,275,1181,301"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1070,325,1171,352"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1075,376,1166,403"/>
<area shape="rect" id="node14" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1264,452,1423,479"/>
<area shape="rect" id="node15" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1031,477,1211,504"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1035,528,1206,555"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1063,579,1178,605"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1053,629,1189,656"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1052,680,1189,707"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1043,731,1199,773"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1037,797,1205,824"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1025,848,1216,875"/>
<area shape="rect" id="node23" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1029,899,1212,925"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1069,949,1172,976"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1061,1000,1180,1027"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1060,1051,1181,1077"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1059,1102,1183,1143"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1051,1168,1190,1195"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1037,1219,1204,1261"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1046,1285,1195,1312"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1041,1336,1200,1363"/>
<area shape="rect" id="node32" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1051,1387,1191,1429"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1051,1453,1191,1480"/>
<area shape="rect" id="node34" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1057,1504,1184,1531"/>
<area shape="rect" id="node35" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1271,1555,1416,1581"/>
<area shape="rect" id="node36" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1053,1605,1189,1632"/>
<area shape="rect" id="node37" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1040,1656,1201,1683"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1035,5,1206,32"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1047,57,1194,98"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1061,123,1180,149"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1040,173,1201,200"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="588,1717,723,1758"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="591,1782,720,1823"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="600,1549,711,1576"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="607,1600,704,1627"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="419,1815,513,1841"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="598,1848,713,1875"/>
</map>
</div>

</div>
</div>
<a id="a1452635bf39f5e3ec26111e211a3c56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1452635bf39f5e3ec26111e211a3c56f">&#9670;&nbsp;</a></span>btrfs_lock_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_lock_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1452635bf39f5e3ec26111e211a3c56f_icgraph.png" border="0" usemap="#extent-tree_8c_a1452635bf39f5e3ec26111e211a3c56f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1452635bf39f5e3ec26111e211a3c56f_icgraph" id="extent-tree_8c_a1452635bf39f5e3ec26111e211a3c56f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="209,577,324,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="372,766,513,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="779,996,969,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="587,1021,697,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="561,838,723,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="573,759,711,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="771,533,977,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="567,280,717,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1042,996,1177,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1251,996,1402,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1478,1021,1609,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1675,984,1849,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="806,1097,942,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1248,945,1405,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1489,958,1597,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="812,807,936,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="812,719,936,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1050,894,1169,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1275,836,1379,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1042,828,1177,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1261,726,1392,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1035,726,1184,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1049,406,1170,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1058,558,1161,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1035,508,1184,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1025,610,1193,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1253,356,1400,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1689,381,1835,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1278,609,1375,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1271,406,1383,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1460,432,1627,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1257,508,1397,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1259,660,1394,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="818,254,930,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="809,102,939,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="817,153,931,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1069,204,1150,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1289,102,1364,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="814,356,934,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="823,406,925,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="823,305,925,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1048,305,1171,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1241,204,1412,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1051,153,1168,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1045,52,1173,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1482,153,1605,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1695,128,1829,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1245,254,1409,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1049,356,1169,382"/>
</map>
</div>

</div>
</div>
<a id="a8ff60feb90fd1f63375e119400995084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff60feb90fd1f63375e119400995084">&#9670;&nbsp;</a></span>btrfs_lock_cluster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a>* btrfs_lock_cluster </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *&#160;</td>
          <td class="paramname"><em>cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8ff60feb90fd1f63375e119400995084_cgraph.png" border="0" usemap="#extent-tree_8c_a8ff60feb90fd1f63375e119400995084_cgraph" alt=""/></div>
<map name="extent-tree_8c_a8ff60feb90fd1f63375e119400995084_cgraph" id="extent-tree_8c_a8ff60feb90fd1f63375e119400995084_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="179,5,329,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="179,56,329,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8ff60feb90fd1f63375e119400995084_icgraph.png" border="0" usemap="#extent-tree_8c_a8ff60feb90fd1f63375e119400995084_icgraph" alt=""/></div>
<map name="extent-tree_8c_a8ff60feb90fd1f63375e119400995084_icgraph" id="extent-tree_8c_a8ff60feb90fd1f63375e119400995084_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="179,577,293,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="341,766,483,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="749,996,938,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="557,1021,666,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="531,838,692,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="542,759,681,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="740,533,947,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="537,280,686,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1011,996,1146,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1221,996,1371,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1447,1021,1578,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1644,984,1819,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="775,1097,911,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1217,945,1375,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1459,958,1567,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="781,807,905,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="781,719,905,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1019,894,1138,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1244,836,1348,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1011,828,1146,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1231,726,1361,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1004,726,1153,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1018,406,1139,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1027,558,1130,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1004,508,1153,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="995,610,1163,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1223,356,1369,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1658,381,1805,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1247,609,1345,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1240,406,1352,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1429,432,1596,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1226,508,1366,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1229,660,1363,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="787,254,899,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="778,102,909,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="786,153,901,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1038,204,1119,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1259,102,1333,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="783,356,903,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="792,406,895,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="792,305,895,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1017,305,1140,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1211,204,1381,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1020,153,1137,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1015,52,1143,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1451,153,1574,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1664,128,1799,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1214,254,1378,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1019,356,1139,382"/>
</map>
</div>

</div>
</div>
<a id="ab9ea7458615bced8e4c446085efee976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ea7458615bced8e4c446085efee976">&#9670;&nbsp;</a></span>btrfs_lookup_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a>* btrfs_lookup_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab9ea7458615bced8e4c446085efee976_cgraph.png" border="0" usemap="#extent-tree_8c_ab9ea7458615bced8e4c446085efee976_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab9ea7458615bced8e4c446085efee976_cgraph" id="extent-tree_8c_ab9ea7458615bced8e4c446085efee976_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="184,5,347,47"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="395,13,545,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab9ea7458615bced8e4c446085efee976_icgraph.png" border="0" usemap="#extent-tree_8c_ab9ea7458615bced8e4c446085efee976_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab9ea7458615bced8e4c446085efee976_icgraph" id="extent-tree_8c_ab9ea7458615bced8e4c446085efee976_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a8e0553eb25043cc6aa26d38aab969b57" title="btrfs_release_delalloc\l_bytes" alt="" coords="209,5,357,47"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="885,602,1092,629"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#af76997d3ed3b79189dae0c8e198b56c5" title="btrfs_extent_readonly" alt="" coords="210,299,357,326"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="434,122,597,149"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="432,173,599,199"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="214,957,353,983"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="679,907,806,948"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="458,711,573,738"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="674,1128,811,1169"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="431,1057,600,1083"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="207,507,360,548"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="216,906,351,933"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="671,1077,815,1103"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="226,1007,341,1034"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="209,1059,357,1100"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="678,71,807,98"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="447,645,583,687"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="236,1226,331,1253"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="184,855,383,882"/>
<area shape="rect" id="node42" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="203,1125,364,1151"/>
<area shape="rect" id="node43" href="reada_8c.html#a7901f795118e73af3985df93700bba1b" title="reada_find_zone" alt="" coords="225,1378,342,1405"/>
<area shape="rect" id="node44" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="214,1429,353,1471"/>
<area shape="rect" id="node45" href="btrfs_2scrub_8c.html#a70e9118ccdd9e7df069bccdb8843fa8f" title="lock_full_stripe" alt="" coords="229,1495,338,1522"/>
<area shape="rect" id="node46" href="btrfs_2scrub_8c.html#ab35a297e841d2906e62fe3a9195b2cfb" title="unlock_full_stripe" alt="" coords="222,1546,345,1573"/>
<area shape="rect" id="node47" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="198,1597,369,1623"/>
<area shape="rect" id="node48" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="210,1648,357,1689"/>
<area shape="rect" id="node49" href="volumes_8c.html#a4c0da42ece3b9f2a5d6adbcae1656c03" title="chunk_usage_range_filter" alt="" coords="198,1714,369,1741"/>
<area shape="rect" id="node50" href="volumes_8c.html#a0f52112f660ae0e2e5f684e0771104e6" title="chunk_usage_filter" alt="" coords="218,1765,349,1791"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="439,13,592,39"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1163,526,1285,553"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1173,577,1275,603"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1149,627,1299,654"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1140,679,1308,720"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="675,274,811,301"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="450,223,581,250"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="664,223,821,250"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="448,1006,583,1033"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="450,875,581,916"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="448,940,583,981"/>
<area shape="rect" id="node21" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="653,703,832,730"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="671,754,814,781"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="681,805,805,831"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="683,653,803,679"/>
<area shape="rect" id="node26" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="921,1077,1057,1103"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="670,1011,815,1052"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="648,442,837,469"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="461,426,570,453"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="435,375,596,402"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="446,477,585,519"/>
</map>
</div>

</div>
</div>
<a id="a1b703dc5bb638ed6e6375073cf4cf6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b703dc5bb638ed6e6375073cf4cf6dd">&#9670;&nbsp;</a></span>btrfs_lookup_data_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_lookup_data_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_cgraph.png" border="0" usemap="#extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_cgraph" alt=""/></div>
<map name="extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_cgraph" id="extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="225,836,340,863"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="221,887,344,913"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="228,1292,337,1319"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1315,340,1437,367"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="630,431,770,457"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="644,380,756,407"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="392,633,567,660"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="623,988,777,1015"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1313,771,1439,797"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="408,380,551,407"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="875,239,983,265"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1097,76,1227,103"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="635,1495,765,1521"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="857,1587,1000,1613"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="849,1672,1009,1699"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="870,441,987,468"/>
<area shape="rect" id="node29" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="615,1748,785,1775"/>
<area shape="rect" id="node31" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="435,836,524,863"/>
<area shape="rect" id="node34" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="397,1089,561,1116"/>
<area shape="rect" id="node43" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="439,1503,520,1529"/>
<area shape="rect" id="node44" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="403,1241,556,1268"/>
<area shape="rect" id="node46" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="397,1343,562,1369"/>
<area shape="rect" id="node47" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="409,1394,549,1435"/>
<area shape="rect" id="node48" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="627,735,773,761"/>
<area shape="rect" id="node49" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="442,696,517,723"/>
<area shape="rect" id="node9" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1300,1534,1452,1575"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1500,745,1655,772"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1504,796,1651,823"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1315,441,1437,468"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1321,51,1431,77"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1315,101,1437,128"/>
<area shape="rect" id="node21" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1101,1629,1223,1656"/>
<area shape="rect" id="node22" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1085,1563,1239,1605"/>
<area shape="rect" id="node23" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1085,1512,1239,1539"/>
<area shape="rect" id="node25" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1072,1680,1252,1707"/>
<area shape="rect" id="node27" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1083,492,1241,519"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1097,441,1227,468"/>
<area shape="rect" id="node30" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="833,1723,1024,1749"/>
<area shape="rect" id="node32" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="641,785,759,812"/>
<area shape="rect" id="node33" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="629,836,771,863"/>
<area shape="rect" id="node35" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="837,949,1020,990"/>
<area shape="rect" id="node36" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="636,1140,764,1167"/>
<area shape="rect" id="node41" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="659,937,741,964"/>
<area shape="rect" id="node42" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="649,532,751,559"/>
<area shape="rect" id="node37" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="861,1065,997,1092"/>
<area shape="rect" id="node38" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="843,1292,1015,1319"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="865,1191,992,1217"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="856,1241,1001,1268"/>
<area shape="rect" id="node45" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="621,1393,779,1420"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_icgraph.png" border="0" usemap="#extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_icgraph" id="extent-tree_8c_a1b703dc5bb638ed6e6375073cf4cf6dd_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="221,608,428,635"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="261,405,389,432"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="490,557,611,584"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="499,304,602,331"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="476,767,625,793"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="673,1014,841,1055"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1337,507,1483,533"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="684,304,831,331"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="709,253,806,280"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="905,173,1041,200"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1130,35,1249,61"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1764,304,1851,331"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="895,304,1050,331"/>
<area shape="rect" id="node22" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="892,431,1053,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1143,203,1236,229"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1359,123,1461,149"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1323,249,1497,276"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1575,123,1686,149"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1900,279,2007,305"/>
<area shape="rect" id="node15" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1899,329,2008,356"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1138,456,1241,483"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1126,137,1253,178"/>
<area shape="rect" id="node19" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1331,9,1489,36"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1573,5,1688,32"/>
<area shape="rect" id="node21" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1565,57,1696,98"/>
<area shape="rect" id="node23" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1362,736,1458,763"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1143,253,1235,280"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="701,887,813,913"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="889,811,1056,837"/>
<area shape="rect" id="node43" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="687,735,827,761"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="895,1079,1051,1121"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="927,861,1019,888"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="915,912,1030,939"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="893,963,1053,989"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1130,1029,1249,1056"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1358,1004,1462,1031"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1114,1081,1265,1122"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1345,1088,1475,1115"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1545,979,1716,1005"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1555,1135,1706,1177"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1554,809,1707,850"/>
<area shape="rect" id="node39" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1120,862,1259,903"/>
<area shape="rect" id="node41" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1104,811,1275,837"/>
<area shape="rect" id="node40" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1339,841,1481,868"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="889,507,1056,533"/>
<area shape="rect" id="node45" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="938,709,1007,736"/>
<area shape="rect" id="node47" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="905,1014,1040,1055"/>
<area shape="rect" id="node48" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1118,928,1261,955"/>
<area shape="rect" id="node50" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="488,119,613,145"/>
</map>
</div>

</div>
</div>
<a id="aebf50db6f0c334b7307bc8ffeebc91e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf50db6f0c334b7307bc8ffeebc91e2">&#9670;&nbsp;</a></span>btrfs_lookup_extent_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_lookup_extent_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_cgraph.png" border="0" usemap="#extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_cgraph" alt=""/></div>
<map name="extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_cgraph" id="extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="251,166,366,192"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="247,672,370,699"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="709,267,838,294"/>
<area shape="rect" id="node38" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="937,1246,1067,1272"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="231,1246,386,1272"/>
<area shape="rect" id="node41" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="245,1398,373,1440"/>
<area shape="rect" id="node43" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="217,1575,400,1602"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="254,216,363,243"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="941,706,1063,732"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="703,942,843,968"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="717,992,829,1019"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="457,942,631,968"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="696,520,851,547"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="939,840,1065,867"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="473,1094,615,1120"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="719,731,827,758"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="709,571,838,598"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="931,115,1073,142"/>
<area shape="rect" id="node21" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="922,280,1082,307"/>
<area shape="rect" id="node23" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="485,891,603,918"/>
<area shape="rect" id="node28" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="688,14,859,40"/>
<area shape="rect" id="node30" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="499,571,589,598"/>
<area shape="rect" id="node31" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="462,166,626,192"/>
<area shape="rect" id="node32" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="733,115,814,142"/>
<area shape="rect" id="node33" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="467,419,621,446"/>
<area shape="rect" id="node34" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="461,774,627,800"/>
<area shape="rect" id="node35" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="474,825,614,866"/>
<area shape="rect" id="node36" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="929,1144,1075,1171"/>
<area shape="rect" id="node37" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="736,1195,811,1222"/>
<area shape="rect" id="node9" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1373,374,1525,416"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1158,866,1313,892"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1162,815,1309,842"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="941,1094,1063,1120"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="947,596,1057,623"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="941,546,1063,572"/>
<area shape="rect" id="node22" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1145,280,1325,307"/>
<area shape="rect" id="node24" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="694,790,853,816"/>
<area shape="rect" id="node25" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="708,891,839,918"/>
<area shape="rect" id="node26" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="948,1195,1056,1222"/>
<area shape="rect" id="node27" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1186,1220,1285,1247"/>
<area shape="rect" id="node29" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="907,14,1097,40"/>
<area shape="rect" id="node40" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="467,1296,621,1323"/>
<area shape="rect" id="node42" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="723,1528,823,1555"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="455,1718,633,1744"/>
<area shape="rect" id="node45" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="453,1448,635,1475"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="448,1499,640,1526"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="458,1550,630,1576"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="480,1652,608,1693"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="467,1600,621,1627"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_icgraph.png" border="0" usemap="#extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_icgraph" alt=""/></div>
<map name="extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_icgraph" id="extent-tree_8c_aebf50db6f0c334b7307bc8ffeebc91e2_icgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="227,99,363,125"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1105,655,1245,681"/>
<area shape="rect" id="node31" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="420,443,627,469"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="231,680,358,707"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="469,680,577,707"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="235,731,354,757"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="243,781,346,808"/>
<area shape="rect" id="node50" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="217,165,372,192"/>
<area shape="rect" id="node3" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="458,81,589,108"/>
<area shape="rect" id="node4" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="700,31,817,57"/>
<area shape="rect" id="node30" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="695,81,823,108"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="917,5,1018,32"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="891,56,1044,83"/>
<area shape="rect" id="node7" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="906,249,1029,276"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1102,399,1249,425"/>
<area shape="rect" id="node9" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1522,348,1683,375"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="1519,524,1687,551"/>
<area shape="rect" id="node24" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1530,247,1675,273"/>
<area shape="rect" id="node28" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1104,195,1247,221"/>
<area shape="rect" id="node11" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1332,777,1444,804"/>
<area shape="rect" id="node23" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1323,297,1453,324"/>
<area shape="rect" id="node25" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1307,458,1469,499"/>
<area shape="rect" id="node12" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="1546,929,1659,956"/>
<area shape="rect" id="node13" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1545,980,1660,1007"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="1517,1031,1688,1057"/>
<area shape="rect" id="node15" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="1517,575,1688,601"/>
<area shape="rect" id="node16" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="1519,625,1686,652"/>
<area shape="rect" id="node18" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="1519,676,1687,703"/>
<area shape="rect" id="node19" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="1537,727,1669,753"/>
<area shape="rect" id="node20" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="1530,777,1675,804"/>
<area shape="rect" id="node21" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="1551,828,1654,855"/>
<area shape="rect" id="node22" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="1527,879,1678,905"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1545,469,1660,496"/>
<area shape="rect" id="node27" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="1523,419,1683,445"/>
<area shape="rect" id="node29" href="relocation_8c.html#a8d59bead8199a5cfd091257d6afa16d4" title="add_data_references" alt="" coords="1317,196,1459,223"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="698,375,819,401"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="707,443,810,469"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="684,528,833,555"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="675,301,843,342"/>
<area shape="rect" id="node33" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="894,351,1041,377"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="919,401,1016,428"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="911,553,1023,580"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1092,589,1259,616"/>
<area shape="rect" id="node39" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="897,503,1037,529"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="902,300,1033,327"/>
<area shape="rect" id="node42" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="900,183,1035,225"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="701,705,817,732"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="902,807,1033,833"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="709,781,808,808"/>
</map>
</div>

</div>
</div>
<a id="a7fab7e34aa123a0ddf6bbb75dcd5c260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fab7e34aa123a0ddf6bbb75dcd5c260">&#9670;&nbsp;</a></span>btrfs_lookup_first_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a>* btrfs_lookup_first_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_cgraph.png" border="0" usemap="#extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_cgraph" id="extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="176,5,339,47"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="387,13,537,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_icgraph.png" border="0" usemap="#extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_icgraph" id="extent-tree_8c_a7fab7e34aa123a0ddf6bbb75dcd5c260_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7" title="next_block_group" alt="" coords="176,847,300,873"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad34759a183b31aa9ba4274a72bf15a4d" title="btrfs_put_block_group\l_cache" alt="" coords="348,890,499,931"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="376,796,471,823"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc" title="first_logical_byte" alt="" coords="178,687,298,713"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="773,972,860,999"/>
<area shape="rect" id="node17" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="573,897,662,924"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="995,1023,1102,1049"/>
<area shape="rect" id="node8" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="994,972,1103,999"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1457,1259,1577,1285"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1652,1259,1763,1285"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1200,1167,1381,1209"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1223,847,1359,889"/>
<area shape="rect" id="node11" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1229,913,1353,940"/>
<area shape="rect" id="node12" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1231,964,1351,991"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1215,1015,1367,1041"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1223,1065,1358,1092"/>
<area shape="rect" id="node15" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1241,1116,1341,1143"/>
<area shape="rect" id="node16" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1213,1233,1369,1260"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="761,847,873,873"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1443,571,1590,597"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="560,796,675,823"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="777,796,856,823"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1429,737,1604,764"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="366,629,481,656"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="547,512,688,539"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="954,512,1143,539"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="762,563,871,589"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="736,107,897,133"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="747,665,886,706"/>
<area shape="rect" id="node37" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="945,461,1152,488"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="742,284,891,311"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1223,563,1358,589"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="981,613,1117,640"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1225,613,1356,640"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="970,5,1127,32"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="987,665,1111,706"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="987,730,1111,771"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1230,512,1351,539"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1239,461,1342,488"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1216,344,1365,371"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1207,395,1375,437"/>
<area shape="rect" id="node43" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="993,107,1105,133"/>
<area shape="rect" id="node44" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="983,157,1114,184"/>
<area shape="rect" id="node45" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="991,259,1106,285"/>
<area shape="rect" id="node46" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1250,284,1331,311"/>
<area shape="rect" id="node47" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1253,216,1328,243"/>
<area shape="rect" id="node48" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="989,309,1109,336"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="997,360,1100,387"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="997,56,1100,83"/>
</map>
</div>

</div>
</div>
<a id="a695ce8cf0b806dd2ac6162fa621f00ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695ce8cf0b806dd2ac6162fa621f00ce">&#9670;&nbsp;</a></span>btrfs_make_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_make_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes_used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>chunk_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_cgraph.png" border="0" usemap="#extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_cgraph" alt=""/></div>
<map name="extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_cgraph" id="extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_cgraph">
<area shape="rect" id="node2" href="tree-log_8h.html#a8a03e2a5defae795eb9af044aa3807e9" title="btrfs_set_log_full\l_commit" alt="" coords="241,782,363,823"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a97fecf81cbed11a3223cd24040fde860" title="btrfs_create_block\l_group_cache" alt="" coords="237,1001,367,1042"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="226,848,378,875"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="225,1132,379,1159"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="227,1183,377,1209"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="229,1233,375,1260"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="453,1284,580,1311"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ad9ebbf7fefd63e6e7c97ca63112438e2" title="btrfs_add_block_group\l_cache" alt="" coords="225,1386,379,1427"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="217,1451,387,1493"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#abe237c9268ec98ee009ae4b0e493bfc7" title="update_space_info" alt="" coords="237,1335,367,1361"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121" title="update_global_block_rsv" alt="" coords="219,1517,385,1544"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ad1f6e534fc526dd8feb800dc84586385" title="link_block_group" alt="" coords="243,1568,361,1595"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a74c4a95c46dc315cec16d7ab190fc99d" title="set_avail_alloc_bits" alt="" coords="234,1619,370,1645"/>
<area shape="rect" id="node4" href="volumes_8c.html#a642197693d4a9cdedd078bd5c875a06f" title="btrfs_full_stripe_len" alt="" coords="449,899,584,925"/>
<area shape="rect" id="node8" href="free-space-tree_8c.html#a016a16cb724e64ea614bab6c9e3cb164" title="set_free_space_tree\l_thresholds" alt="" coords="447,1066,587,1107"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#aec209aee64785809739538d21193bd63" title="btrfs_init_free_space_ctl" alt="" coords="435,949,599,976"/>
<area shape="rect" id="node10" href="ctree_8h.html#a1ce679168ad9e9c43d77bad222ccb41e" title="btrfs_init_full_stripe\l_locks_tree" alt="" coords="449,1001,584,1042"/>
<area shape="rect" id="node5" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="675,848,789,875"/>
<area shape="rect" id="node6" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="865,823,984,849"/>
<area shape="rect" id="node7" href="raid56_8h.html#ac5988ea3c9438abdbcc1ff6ca6547381" title="nr_data_stripes" alt="" coords="677,899,787,925"/>
<area shape="rect" id="node11" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="659,1051,805,1093"/>
<area shape="rect" id="node12" href="ctree_8h.html#a367f73adcc70644e6872b0a7ee3d6c16" title="btrfs_bio_counter_inc\l_noblocked" alt="" coords="659,1117,805,1158"/>
<area shape="rect" id="node13" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="657,1000,807,1027"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46" title="add_excluded_extent" alt="" coords="444,772,589,799"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="462,351,571,377"/>
<area shape="rect" id="node32" href="volumes_8c.html#ac25a3865fdfa80949ee3fd1e609707b1" title="btrfs_rmap_block" alt="" coords="455,848,578,875"/>
<area shape="rect" id="node16" href="extent__io_8h.html#a0f26c20721fdb99360a587accb5b5ec1" title="set_extent_bits" alt="" coords="677,747,787,773"/>
<area shape="rect" id="node18" href="disk-io_8h.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="675,325,789,352"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a95ecad9833224c4d4a39bde4533d529f" title="readahead_tree_block" alt="" coords="657,376,807,403"/>
<area shape="rect" id="node20" href="disk-io_8h.html#a57321c2d30f0e195ad845fe1bde29555" title="reada_tree_block_flagged" alt="" coords="647,427,817,453"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="658,478,806,519"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="672,544,792,571"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="689,595,775,621"/>
<area shape="rect" id="node24" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="687,696,777,723"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="674,645,790,672"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="659,5,805,32"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="664,57,800,98"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="663,123,801,149"/>
<area shape="rect" id="node29" href="disk-io_8h.html#ab428bbb1f4037e1d48162bce47a1f41c" title="btrfs_read_fs_root" alt="" coords="669,173,795,200"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a3ed74b56709d68f7e90f153ecac7c347" title="btrfs_init_fs_root" alt="" coords="673,224,791,251"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a77e367c4e91efe6cedbcffafa5b29d83" title="btrfs_lookup_fs_root" alt="" coords="662,275,802,301"/>
<area shape="rect" id="node34" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="456,1132,577,1159"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="449,1183,585,1209"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="443,1233,590,1260"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="443,1401,591,1442"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="441,1466,592,1507"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0" title="space_info_add_new\l_bytes" alt="" coords="445,1335,589,1377"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="440,1532,593,1559"/>
<area shape="rect" id="node49" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="441,1583,592,1625"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_icgraph.png" border="0" usemap="#extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_icgraph" alt=""/></div>
<map name="extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_icgraph" id="extent-tree_8c_a695ce8cf0b806dd2ac6162fa621f00ce_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="404,521,611,548"/>
<area shape="rect" id="node46" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="217,808,356,835"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="682,521,803,548"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="691,572,794,599"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="668,745,817,772"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="659,445,827,486"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1521,467,1667,493"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="875,315,1021,341"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="899,593,997,620"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1087,239,1223,265"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1314,71,1433,97"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1551,315,1637,341"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1077,289,1232,316"/>
<area shape="rect" id="node19" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1074,391,1235,417"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1327,239,1420,265"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1543,121,1645,148"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1507,543,1681,569"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1729,96,1840,123"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1731,340,1838,367"/>
<area shape="rect" id="node15" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1730,289,1839,316"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1322,441,1425,468"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1310,173,1437,214"/>
<area shape="rect" id="node20" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1546,623,1642,649"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1327,543,1419,569"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="892,808,1004,835"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1071,695,1238,721"/>
<area shape="rect" id="node33" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="878,745,1018,772"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1077,797,1233,838"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1109,863,1201,889"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1097,913,1212,940"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1075,964,1235,991"/>
<area shape="rect" id="node29" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1304,645,1443,686"/>
<area shape="rect" id="node31" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1288,711,1459,737"/>
<area shape="rect" id="node30" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1523,728,1665,755"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1071,644,1238,671"/>
<area shape="rect" id="node35" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1120,1015,1189,1041"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1298,761,1449,788"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1289,964,1457,991"/>
<area shape="rect" id="node38" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1321,1015,1425,1041"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="883,127,1013,153"/>
<area shape="rect" id="node44" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="881,445,1015,486"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1069,5,1240,32"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1079,57,1230,98"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1078,122,1231,163"/>
<area shape="rect" id="node45" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1083,441,1226,468"/>
<area shape="rect" id="node47" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="445,808,569,835"/>
<area shape="rect" id="node48" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="440,884,575,911"/>
<area shape="rect" id="node49" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="669,945,817,972"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="881,945,1015,972"/>
</map>
</div>

</div>
</div>
<a id="aef9af87070c1a268c635a5f92cf75c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9af87070c1a268c635a5f92cf75c89">&#9670;&nbsp;</a></span>btrfs_metadata_alloc_profile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_metadata_alloc_profile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_cgraph.png" border="0" usemap="#extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_cgraph" alt=""/></div>
<map name="extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_cgraph" id="extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="196,13,312,39"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="360,5,488,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="536,13,667,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_icgraph.png" border="0" usemap="#extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_icgraph" alt=""/></div>
<map name="extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_icgraph" id="extent-tree_8c_aef9af87070c1a268c635a5f92cf75c89_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="196,231,403,258"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="894,609,986,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="677,921,796,947"/>
<area shape="rect" id="node48" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="232,811,367,838"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1943,751,2064,778"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="889,187,991,214"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="460,441,609,467"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="451,115,619,156"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2112,751,2259,778"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1085,187,1232,214"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1110,249,1207,275"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1323,86,1459,113"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1562,111,1681,138"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1578,263,1665,290"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1314,187,1469,214"/>
<area shape="rect" id="node11" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1311,238,1472,265"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1345,339,1437,366"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="681,441,793,467"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="857,339,1023,366"/>
<area shape="rect" id="node33" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="667,710,807,737"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="862,492,1018,533"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="883,390,997,417"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="860,441,1020,467"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="1089,660,1228,701"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="1073,804,1244,845"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="1292,638,1491,665"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="1321,841,1461,883"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1539,827,1704,854"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1754,617,1893,643"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1752,777,1895,803"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="1752,827,1895,854"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="1770,878,1877,905"/>
<area shape="rect" id="node29" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1089,321,1228,363"/>
<area shape="rect" id="node31" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1073,387,1244,414"/>
<area shape="rect" id="node30" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1320,449,1463,475"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="857,761,1023,787"/>
<area shape="rect" id="node35" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="905,811,975,838"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="671,118,802,145"/>
<area shape="rect" id="node41" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="669,283,804,324"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="855,137,1025,163"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="865,5,1015,47"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="863,71,1017,112"/>
<area shape="rect" id="node42" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="869,238,1011,265"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="876,863,1004,904"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="871,980,1009,1021"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="1077,870,1240,897"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="1075,987,1242,1014"/>
<area shape="rect" id="node49" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="461,811,609,838"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="669,862,804,889"/>
</map>
</div>

</div>
</div>
<a id="ac5edf32b8cb542d087b7dd877b248545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5edf32b8cb542d087b7dd877b248545">&#9670;&nbsp;</a></span>btrfs_orphan_release_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_orphan_release_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_cgraph.png" border="0" usemap="#extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_cgraph" id="extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="265,5,334,32"/>
<area shape="rect" id="node3" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="196,56,403,83"/>
<area shape="rect" id="node4" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="263,107,335,133"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="219,157,379,184"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="451,157,617,184"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="665,150,803,191"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1017,124,1171,151"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="851,183,969,209"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1028,175,1160,217"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1023,241,1165,282"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1021,306,1167,347"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1219,216,1335,243"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1383,209,1511,250"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1559,216,1689,243"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_icgraph.png" border="0" usemap="#extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_icgraph" id="extent-tree_8c_ac5edf32b8cb542d087b7dd877b248545_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="196,735,319,761"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#a7f9c96fbfd21610243efd9fc0a1364d7" title="btrfs_orphan_del" alt="" coords="595,456,713,483"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1021,161,1168,188"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="609,937,699,964"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="393,836,477,863"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1046,735,1143,761"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="385,887,484,913"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="607,785,701,812"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="367,525,503,566"/>
<area shape="rect" id="node47" href="relocation_8c.html#aafc372d1d9b506be64cd48ee274a439f" title="create_reloc_inode" alt="" coords="369,659,500,685"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1231,89,1367,116"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1435,5,1553,32"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1649,199,1736,225"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1222,224,1377,251"/>
<area shape="rect" id="node29" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1219,325,1380,352"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1447,275,1541,301"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1641,56,1744,83"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1605,785,1780,812"/>
<area shape="rect" id="node7" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1835,785,1932,812"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1828,31,1939,57"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1830,115,1937,141"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1829,284,1938,311"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2216,117,2336,144"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1987,245,2168,286"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2009,310,2145,351"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2015,376,2139,403"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2017,427,2137,453"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2001,477,2153,504"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2010,92,2145,119"/>
<area shape="rect" id="node21" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2027,143,2127,169"/>
<area shape="rect" id="node22" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1999,193,2155,220"/>
<area shape="rect" id="node23" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2241,309,2311,336"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1443,376,1545,403"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1431,107,1557,149"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1647,376,1738,403"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1619,427,1766,453"/>
<area shape="rect" id="node30" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1446,477,1542,504"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1448,735,1540,761"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#acf4169a1b179f406bc39c7a1a4e6a137" title="btrfs_rename2" alt="" coords="601,887,707,913"/>
<area shape="rect" id="node39" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="551,376,757,403"/>
<area shape="rect" id="node43" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1025,528,1165,555"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="829,481,950,508"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="838,431,941,457"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="815,263,964,289"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="805,314,973,355"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1216,376,1383,403"/>
<area shape="rect" id="node45" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1228,579,1371,605"/>
<area shape="rect" id="node48" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1025,618,1164,659"/>
<area shape="rect" id="node50" href="btrfs_2inode_8c.html#a6e36c66b6129e28e2b0da486c58d8aaf" title="btrfs_link" alt="" coords="1057,684,1132,711"/>
</map>
</div>

</div>
</div>
<a id="aab611987577664f0b44cf4905ba63ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab611987577664f0b44cf4905ba63ee7">&#9670;&nbsp;</a></span>btrfs_orphan_reserve_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_orphan_reserve_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__inode.html">btrfs_inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_cgraph.png" border="0" usemap="#extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_cgraph" alt=""/></div>
<map name="extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_cgraph" id="extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="266,5,335,32"/>
<area shape="rect" id="node3" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="197,56,404,83"/>
<area shape="rect" id="node4" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="265,107,337,133"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af755f49433b189063477d03d75de00f9" title="btrfs_block_rsv_migrate" alt="" coords="220,157,381,184"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="452,132,597,159"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="452,183,597,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_icgraph.png" border="0" usemap="#extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_icgraph" alt=""/></div>
<map name="extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_icgraph" id="extent-tree_8c_aab611987577664f0b44cf4905ba63ee7_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="197,183,320,209"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1023,399,1169,425"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="611,56,700,83"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="613,107,697,133"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1047,208,1145,235"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="606,157,705,184"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="389,5,483,32"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="368,515,504,557"/>
<area shape="rect" id="node49" href="relocation_8c.html#aafc372d1d9b506be64cd48ee274a439f" title="create_reloc_inode" alt="" coords="371,661,501,688"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1233,313,1369,340"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1436,309,1555,336"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1651,528,1737,555"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1223,448,1378,475"/>
<area shape="rect" id="node31" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1220,579,1381,605"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1449,259,1542,285"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1643,336,1745,363"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1607,132,1781,159"/>
<area shape="rect" id="node7" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1836,132,1933,159"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="1829,311,1940,337"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1831,428,1938,455"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1830,520,1939,547"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2217,320,2337,347"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1988,447,2169,489"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2011,513,2147,554"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2017,579,2141,605"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2019,629,2139,656"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2003,680,2155,707"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2011,295,2146,321"/>
<area shape="rect" id="node21" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2029,345,2129,372"/>
<area shape="rect" id="node22" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="2001,396,2157,423"/>
<area shape="rect" id="node23" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2243,512,2312,539"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1444,629,1547,656"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="1432,411,1559,453"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1649,629,1739,656"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1621,680,1767,707"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="1629,387,1759,429"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1626,453,1762,480"/>
<area shape="rect" id="node32" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1447,680,1543,707"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1449,208,1541,235"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#acf4169a1b179f406bc39c7a1a4e6a137" title="btrfs_rename2" alt="" coords="838,157,943,184"/>
<area shape="rect" id="node41" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="552,523,759,549"/>
<area shape="rect" id="node45" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1026,640,1166,667"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1035,821,1157,848"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="839,348,942,375"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="816,523,965,549"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="807,574,975,615"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1217,629,1384,656"/>
<area shape="rect" id="node47" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1229,731,1372,757"/>
<area shape="rect" id="node50" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1027,734,1165,775"/>
</map>
</div>

</div>
</div>
<a id="aefc21b2cf2c1cd918a9a106f2cbeba4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc21b2cf2c1cd918a9a106f2cbeba4f">&#9670;&nbsp;</a></span>btrfs_pin_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_pin_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_cgraph.png" border="0" usemap="#extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_cgraph" alt=""/></div>
<map name="extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_cgraph" id="extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="178,276,309,318"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="183,342,303,369"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="168,393,319,420"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="367,276,529,318"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="577,284,728,310"/>
<area shape="rect" id="node6" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="391,342,505,369"/>
<area shape="rect" id="node7" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="601,342,705,369"/>
<area shape="rect" id="node8" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="776,342,895,369"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="1149,26,1277,53"/>
<area shape="rect" id="node10" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1533,153,1673,180"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="943,469,1093,496"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="954,48,1082,90"/>
<area shape="rect" id="node16" href="extent__io_8c.html#a2a35e48a00317a8f13a19f3ba1caecaa" title="insert_state" alt="" coords="973,368,1063,394"/>
<area shape="rect" id="node17" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="1161,418,1265,445"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a0e9df311badff8a81168b49e10e47db7" title="merge_state" alt="" coords="1165,368,1260,394"/>
<area shape="rect" id="node42" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1347,229,1470,256"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="947,520,1089,546"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a1a855576f67d424c4b8024553802ef4a" title="cache_state" alt="" coords="971,570,1065,597"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="977,621,1059,648"/>
<area shape="rect" id="node48" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="977,266,1059,293"/>
<area shape="rect" id="node11" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1747,128,1842,154"/>
<area shape="rect" id="node12" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1721,178,1868,205"/>
<area shape="rect" id="node14" href="extent__io_8c.html#abe467271d634b8343246cb5501b8baa5" title="__etree_search" alt="" coords="1157,469,1268,496"/>
<area shape="rect" id="node39" href="extent__io_8c.html#af958ea152d9987cc5689861b43c9d595" title="tree_insert" alt="" coords="1171,317,1254,344"/>
<area shape="rect" id="node18" href="extent__io_8c.html#a9978f793a333445e07eb82b0c69ebdd8" title="set_state_cb" alt="" coords="1360,418,1457,445"/>
<area shape="rect" id="node19" href="extent__io_8c.html#a0faa12cb962bf387a41fc563285a13cf" title="add_extent_changeset" alt="" coords="1332,469,1485,496"/>
<area shape="rect" id="node20" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1566,444,1641,470"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a552b62b75391793157f27eda7bdfea10" title="flush_write_bio" alt="" coords="1549,494,1658,521"/>
<area shape="rect" id="node21" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1736,444,1853,470"/>
<area shape="rect" id="node22" href="ulist_8c.html#a4a2f46d31727a215a17d74ce60594523" title="ulist_rbtree_search" alt="" coords="1916,444,2048,470"/>
<area shape="rect" id="node23" href="ulist_8c.html#a9e22aa0917a164df2a7ab11359e3ce62" title="ulist_rbtree_insert" alt="" coords="1919,393,2045,420"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a4506724f341b037ca5b7b8b03e6fd705" title="submit_one_bio" alt="" coords="1738,494,1851,521"/>
<area shape="rect" id="node26" href="check-integrity_8c.html#a4bfa0549f2775a3bc6d773760cd26675" title="btrfsic_submit_bio" alt="" coords="1918,494,2046,521"/>
<area shape="rect" id="node27" href="check-integrity_8c.html#a74c52fdf4a7fbd9e1938d58d029aa597" title="__btrfsic_submit_bio" alt="" coords="2096,494,2239,521"/>
<area shape="rect" id="node28" href="check-integrity_8c.html#a07a895bba82e1eb8815ae3607571b964" title="btrfsic_dev_state_lookup" alt="" coords="2287,326,2453,353"/>
<area shape="rect" id="node30" href="check-integrity_8c.html#a8cfffe5e77b1ca9935913415b43bed23" title="btrfsic_process_written\l_block" alt="" coords="2291,487,2449,528"/>
<area shape="rect" id="node38" href="check-integrity_8c.html#a4502cb107f60b235507231cabbde55a3" title="btrfsic_bio_end_io" alt="" coords="2531,692,2657,718"/>
<area shape="rect" id="node29" href="check-integrity_8c.html#af4360a68d86db1b044975aec13ca2d3e" title="btrfsic_dev_state_hashtable\l_lookup" alt="" coords="2501,239,2687,280"/>
<area shape="rect" id="node31" href="check-integrity_8c.html#afc9ef680e9d32ac761621933fb553a49" title="btrfsic_test_for_metadata" alt="" coords="2509,524,2679,550"/>
<area shape="rect" id="node32" href="check-integrity_8c.html#a11b3a1db3cff95578e283184cc3a6a22" title="btrfsic_block_hashtable\l_lookup" alt="" coords="2515,575,2673,616"/>
<area shape="rect" id="node33" href="check-integrity_8c.html#a58106b5dd38700df8d6aa846ef47872b" title="btrfsic_dump_tree_sub" alt="" coords="2735,356,2889,382"/>
<area shape="rect" id="node34" href="check-integrity_8c.html#a0b93c221b44fdb6909d7f8e1790e1160" title="btrfsic_get_block_type" alt="" coords="2937,528,3091,554"/>
<area shape="rect" id="node35" href="check-integrity_8c.html#a73e87f56320d63a7acb87a1ecdad896f" title="btrfsic_cmp_log_and\l_dev_bytenr" alt="" coords="2523,458,2665,499"/>
<area shape="rect" id="node36" href="check-integrity_8c.html#ad5a4ec49c477da69fef9ddfeea01d52f" title="btrfsic_is_block_ref\l_by_superblock" alt="" coords="2745,463,2879,504"/>
<area shape="rect" id="node37" href="check-integrity_8c.html#aa449a14259bf71df56aaa703255dbb9d" title="btrfsic_dump_tree" alt="" coords="2531,305,2657,332"/>
<area shape="rect" id="node41" href="extent__io_8c.html#ad00187c1eb74f8f0ab88e909f9a01709" title="merge_cb" alt="" coords="1369,368,1448,394"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a320be295294cb256f23fe5d3e74d8fea" title="tree_fs_info" alt="" coords="1167,520,1258,546"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="1141,570,1284,597"/>
<area shape="rect" id="node49" href="extent__io_8c.html#ad8c520dcd5197ddf9a219ad61bb09447" title="split_cb" alt="" coords="1179,216,1246,242"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_icgraph.png" border="0" usemap="#extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_icgraph" alt=""/></div>
<map name="extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_icgraph" id="extent-tree_8c_aefc21b2cf2c1cd918a9a106f2cbeba4f_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="819,309,1025,336"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="168,5,347,32"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="186,56,329,83"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="195,107,319,133"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="197,360,317,387"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1112,173,1233,200"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1121,356,1224,383"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1098,464,1247,491"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1089,290,1257,331"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1320,169,1467,196"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1320,337,1467,364"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1345,388,1442,415"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1532,337,1668,364"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1733,363,1852,389"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1749,211,1836,237"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1523,185,1677,212"/>
<area shape="rect" id="node11" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1519,236,1681,263"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1337,439,1449,465"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1517,464,1683,491"/>
<area shape="rect" id="node16" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1323,540,1463,567"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1328,287,1459,313"/>
<area shape="rect" id="node19" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1326,221,1461,262"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1073,5,1272,32"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a9b98b810aff8bb1aea735ec7667cc06f" title="btrfs_cleanup_transaction" alt="" coords="1515,76,1685,103"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1333,111,1453,137"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1324,56,1463,83"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="397,107,565,133"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="616,107,771,133"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="852,166,992,207"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1107,225,1238,266"/>
<area shape="rect" id="node30" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1111,57,1235,98"/>
<area shape="rect" id="node31" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1117,123,1228,149"/>
<area shape="rect" id="node34" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="409,584,553,611"/>
<area shape="rect" id="node41" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="395,676,568,703"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="423,411,539,437"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="427,811,535,837"/>
<area shape="rect" id="node47" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="412,259,551,285"/>
<area shape="rect" id="node49" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="433,360,529,387"/>
<area shape="rect" id="node35" href="btrfs_2file_8c.html#a20c090844c67ac58992e0e415b3a979c" title="btrfs_drop_extents" alt="" coords="628,563,759,589"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="633,613,754,640"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="620,664,767,691"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="626,715,761,757"/>
<area shape="rect" id="node40" href="tree-log_8c.html#a7ca07330eb9bbc96b69ca30dbfa8f1bb" title="log_one_extent" alt="" coords="638,512,749,539"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="845,752,999,779"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="646,411,741,437"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="644,461,743,488"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="635,832,751,859"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9c0768208e7f7df3d067b31cfdd72ba4" title="btrfs_reloc_cow_block" alt="" coords="617,259,769,285"/>
<area shape="rect" id="node50" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="632,360,755,387"/>
</map>
</div>

</div>
</div>
<a id="ad52400725399f28cef8500a46d91aa73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52400725399f28cef8500a46d91aa73">&#9670;&nbsp;</a></span>btrfs_pin_extent_for_log_replay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_pin_extent_for_log_replay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad52400725399f28cef8500a46d91aa73_cgraph.png" border="0" usemap="#extent-tree_8c_ad52400725399f28cef8500a46d91aa73_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad52400725399f28cef8500a46d91aa73_cgraph" id="extent-tree_8c_ad52400725399f28cef8500a46d91aa73_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="193,81,323,123"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="191,249,325,275"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="793,527,962,554"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="588,426,739,453"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="198,477,318,503"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="373,5,536,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="588,42,739,69"/>
<area shape="rect" id="node6" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="401,325,508,351"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="399,274,510,301"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="587,223,740,250"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="594,375,733,402"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="584,122,743,149"/>
<area shape="rect" id="node47" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="392,173,517,199"/>
<area shape="rect" id="node8" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="590,325,737,351"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="590,274,737,301"/>
<area shape="rect" id="node9" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="820,325,935,351"/>
<area shape="rect" id="node10" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="797,375,957,402"/>
<area shape="rect" id="node11" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="823,274,932,301"/>
<area shape="rect" id="node14" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="817,223,938,250"/>
<area shape="rect" id="node15" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="1033,223,1137,250"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1439,401,1570,427"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1445,451,1564,478"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1805,770,1932,797"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1639,426,1752,453"/>
<area shape="rect" id="node24" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="1012,666,1159,693"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1433,837,1577,863"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1980,770,2121,797"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1807,426,1930,453"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1424,350,1585,377"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1207,477,1376,503"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1221,797,1362,839"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="1207,863,1376,904"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="1435,705,1575,747"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1443,771,1566,812"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1212,979,1371,1006"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1209,1030,1373,1057"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="1218,527,1365,554"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="1211,578,1372,605"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="1224,629,1359,671"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="1214,695,1369,722"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1642,871,1749,898"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1633,719,1757,746"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1650,821,1741,847"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="793,122,962,149"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="791,173,964,199"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="1015,60,1156,101"/>
<area shape="rect" id="node46" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="856,71,899,98"/>
<area shape="rect" id="node48" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="594,173,733,199"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="397,477,512,503"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad52400725399f28cef8500a46d91aa73_icgraph.png" border="0" usemap="#extent-tree_8c_ad52400725399f28cef8500a46d91aa73_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad52400725399f28cef8500a46d91aa73_icgraph" id="extent-tree_8c_ad52400725399f28cef8500a46d91aa73_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="191,492,397,519"/>
<area shape="rect" id="node44" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="226,224,362,251"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1310,275,1431,301"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="680,441,783,468"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="455,800,604,827"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="445,543,613,585"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1508,275,1655,301"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="861,443,1008,469"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="886,493,983,520"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1085,528,1221,555"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1311,427,1430,453"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1717,305,1804,332"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1504,376,1659,403"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1290,325,1451,352"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1324,579,1417,605"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1319,477,1422,504"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1864,305,1971,332"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1863,243,1972,269"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1107,645,1199,672"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="675,839,787,865"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="851,763,1018,789"/>
<area shape="rect" id="node28" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="661,1028,801,1055"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1293,743,1449,785"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="889,864,981,891"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="877,915,992,941"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="855,965,1015,992"/>
<area shape="rect" id="node24" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1083,697,1222,738"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1285,528,1456,555"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1299,969,1442,996"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="851,1117,1018,1144"/>
<area shape="rect" id="node30" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="900,1016,969,1043"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="666,547,797,573"/>
<area shape="rect" id="node42" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="664,661,799,702"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="849,544,1020,571"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="859,377,1010,418"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="858,595,1011,637"/>
<area shape="rect" id="node35" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1068,325,1237,352"/>
<area shape="rect" id="node36" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1291,224,1450,251"/>
<area shape="rect" id="node37" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1524,224,1639,251"/>
<area shape="rect" id="node38" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1516,49,1647,90"/>
<area shape="rect" id="node39" href="tree-log_8c.html#acb71bf66afc77a465b0c8e96e0dda086" title="start_log_trans" alt="" coords="1707,5,1815,32"/>
<area shape="rect" id="node40" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1707,56,1814,83"/>
<area shape="rect" id="node43" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="863,661,1006,688"/>
<area shape="rect" id="node45" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="481,165,578,192"/>
<area shape="rect" id="node46" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="681,165,782,192"/>
<area shape="rect" id="node50" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="855,108,1014,135"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="1084,158,1221,199"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="875,325,994,352"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="1516,171,1647,197"/>
</map>
</div>

</div>
</div>
<a id="aff0e8d10e204f6ea41d87e5e470d0f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0e8d10e204f6ea41d87e5e470d0f6e">&#9670;&nbsp;</a></span>btrfs_prepare_extent_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_prepare_extent_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_cgraph.png" border="0" usemap="#extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_cgraph" alt=""/></div>
<map name="extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_cgraph" id="extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="195,423,364,449"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="210,473,349,500"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121" title="update_global_block_rsv" alt="" coords="197,524,362,551"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="412,473,581,500"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1675,347,1805,373"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1488,448,1607,475"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1677,1056,1803,1083"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1280,499,1393,525"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="629,699,776,725"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1051,1309,1195,1336"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1853,879,1995,905"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1486,397,1609,424"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1043,724,1204,751"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="824,673,993,700"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="838,1054,979,1095"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="824,775,993,817"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="839,966,979,1007"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1062,1193,1185,1234"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1468,1512,1627,1539"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1041,120,1205,147"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="835,623,982,649"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="828,1183,989,1209"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="841,447,976,489"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="831,513,986,540"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1472,701,1623,728"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1273,549,1401,576"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1272,701,1401,728"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1474,549,1621,576"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1283,1309,1390,1336"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1275,1411,1399,1437"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1291,1157,1382,1184"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1693,1321,1787,1348"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1690,1385,1790,1412"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1478,1411,1617,1437"/>
<area shape="rect" id="node24" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1713,1461,1767,1488"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="1048,1075,1199,1117"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="1049,506,1197,547"/>
<area shape="rect" id="node30" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1261,296,1412,323"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1066,973,1181,1000"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="1043,775,1204,801"/>
<area shape="rect" id="node37" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1289,144,1384,171"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1253,195,1420,221"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1263,93,1410,120"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1043,1411,1204,1437"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1048,389,1199,430"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1492,347,1603,373"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1075,913,1172,940"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1048,323,1199,365"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="420,524,573,551"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_icgraph.png" border="0" usemap="#extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_icgraph" alt=""/></div>
<map name="extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_icgraph" id="extent-tree_8c_aff0e8d10e204f6ea41d87e5e470d0f6e_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="195,123,401,149"/>
<area shape="rect" id="node11" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="213,1228,383,1255"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="484,300,605,327"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="493,123,596,149"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="470,5,619,32"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="461,57,629,98"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="694,645,841,672"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="694,199,841,225"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="916,173,1035,200"/>
<area shape="rect" id="node8" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="895,224,1056,251"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="491,1076,598,1103"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="484,519,605,545"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="494,772,595,799"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="499,1025,590,1052"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="688,1152,847,1179"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="455,1127,635,1153"/>
<area shape="rect" id="node18" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="459,1279,630,1305"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="487,1329,602,1356"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="477,1380,613,1407"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="476,1431,613,1457"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="467,1482,623,1523"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="461,1548,629,1575"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="449,1599,640,1625"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="453,1649,636,1676"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="493,1700,596,1727"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="707,1489,828,1516"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="483,1802,607,1843"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="475,1868,614,1895"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="461,1919,628,1961"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="470,1985,619,2012"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="465,2036,624,2063"/>
<area shape="rect" id="node33" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="475,2087,615,2129"/>
<area shape="rect" id="node34" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="475,2153,615,2180"/>
<area shape="rect" id="node35" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="481,2204,608,2231"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="695,2255,840,2281"/>
<area shape="rect" id="node37" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="477,2305,613,2332"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="459,2356,630,2383"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="471,351,618,393"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="485,417,604,444"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="464,468,625,495"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="481,569,609,596"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="465,620,625,647"/>
<area shape="rect" id="node44" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="465,671,624,697"/>
<area shape="rect" id="node45" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="479,721,610,748"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="471,823,619,849"/>
<area shape="rect" id="node47" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="475,873,614,900"/>
<area shape="rect" id="node48" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="483,924,606,951"/>
<area shape="rect" id="node49" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="469,975,620,1001"/>
<area shape="rect" id="node50" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="477,1228,612,1255"/>
</map>
</div>

</div>
</div>
<a id="a58c1db724e5d0cda79ae1b3e4e7ba743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c1db724e5d0cda79ae1b3e4e7ba743">&#9670;&nbsp;</a></span>btrfs_put_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_put_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a58c1db724e5d0cda79ae1b3e4e7ba743_icgraph.png" border="0" usemap="#extent-tree_8c_a58c1db724e5d0cda79ae1b3e4e7ba743_icgraph" alt=""/></div>
<map name="extent-tree_8c_a58c1db724e5d0cda79ae1b3e4e7ba743_icgraph" id="extent-tree_8c_a58c1db724e5d0cda79ae1b3e4e7ba743_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a8e0553eb25043cc6aa26d38aab969b57" title="btrfs_release_delalloc\l_bytes" alt="" coords="229,5,377,47"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="877,623,1084,650"/>
<area shape="rect" id="node6" href="disk-io_8c.html#af80c9e4093c9ba1c7c46e2ca0d408c99" title="btrfs_cleanup_bg_io" alt="" coords="234,274,373,301"/>
<area shape="rect" id="node7" href="disk-io_8h.html#ad3efbcea93e2ef07941076c7d6fb0bcc" title="btrfs_cleanup_dirty_bgs" alt="" coords="453,241,613,267"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="671,233,821,275"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="248,1506,359,1533"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7" title="next_block_group" alt="" coords="241,1607,365,1634"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad34759a183b31aa9ba4274a72bf15a4d" title="btrfs_put_block_group\l_cache" alt="" coords="457,1560,608,1601"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="485,1637,580,1663"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="669,317,823,359"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#af76997d3ed3b79189dae0c8e198b56c5" title="btrfs_extent_readonly" alt="" coords="673,383,819,410"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="665,434,827,461"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="663,485,829,511"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="234,1709,373,1735"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc" title="first_logical_byte" alt="" coords="473,1287,593,1314"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="689,1338,803,1365"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="475,527,590,554"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="677,587,815,628"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="219,679,388,706"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="469,644,596,685"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="456,709,609,751"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="236,831,371,858"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="468,775,597,816"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="674,809,818,835"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a8ff60feb90fd1f63375e119400995084" title="btrfs_lock_cluster" alt="" coords="470,1338,595,1365"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#aa61469f487e02397d8c8f61c237edd7f" title="btrfs_release_block\l_group" alt="" coords="465,1389,600,1431"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="229,1760,377,1801"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="468,933,597,959"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="665,922,827,949"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="451,1034,615,1061"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="664,1075,828,1102"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="678,1128,814,1169"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="663,71,829,98"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="238,1825,369,1867"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="229,1237,377,1279"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="465,1204,600,1245"/>
<area shape="rect" id="node40" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="204,1891,403,1918"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="223,1942,384,1969"/>
<area shape="rect" id="node42" href="reada_8c.html#a7901f795118e73af3985df93700bba1b" title="reada_find_zone" alt="" coords="245,1993,362,2019"/>
<area shape="rect" id="node43" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="234,2044,373,2085"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a70e9118ccdd9e7df069bccdb8843fa8f" title="lock_full_stripe" alt="" coords="249,2110,358,2137"/>
<area shape="rect" id="node45" href="btrfs_2scrub_8c.html#ab35a297e841d2906e62fe3a9195b2cfb" title="unlock_full_stripe" alt="" coords="242,2161,365,2187"/>
<area shape="rect" id="node46" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="218,2211,389,2238"/>
<area shape="rect" id="node47" href="transaction_8h.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="231,2262,375,2289"/>
<area shape="rect" id="node48" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="230,2313,377,2355"/>
<area shape="rect" id="node49" href="volumes_8c.html#a4c0da42ece3b9f2a5d6adbcae1656c03" title="chunk_usage_range_filter" alt="" coords="218,2379,389,2406"/>
<area shape="rect" id="node50" href="volumes_8c.html#a0f52112f660ae0e2e5f684e0771104e6" title="chunk_usage_filter" alt="" coords="238,2430,369,2457"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="456,13,609,39"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1132,623,1253,650"/>
</map>
</div>

</div>
</div>
<a id="ad34759a183b31aa9ba4274a72bf15a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad34759a183b31aa9ba4274a72bf15a4d">&#9670;&nbsp;</a></span>btrfs_put_block_group_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_put_block_group_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_cgraph.png" border="0" usemap="#extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_cgraph" id="extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="390,5,513,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7" title="next_block_group" alt="" coords="204,71,328,98"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="376,122,527,149"/>
<area shape="rect" id="node7" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="245,518,287,545"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="575,5,737,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="795,42,945,69"/>
<area shape="rect" id="node8" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="414,341,489,367"/>
<area shape="rect" id="node29" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1246,543,1385,570"/>
<area shape="rect" id="node9" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1264,147,1367,174"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="597,239,715,266"/>
<area shape="rect" id="node23" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="595,341,717,367"/>
<area shape="rect" id="node24" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="631,417,681,443"/>
<area shape="rect" id="node10" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1457,147,1584,174"/>
<area shape="rect" id="node12" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="791,239,949,266"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="801,189,939,215"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="1003,290,1185,317"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="1027,224,1161,265"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="1005,391,1183,418"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="1013,341,1175,367"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="1020,173,1168,199"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1271,231,1359,258"/>
<area shape="rect" id="node16" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1471,231,1570,258"/>
<area shape="rect" id="node17" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1645,231,1784,258"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1233,341,1397,367"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="811,391,929,418"/>
<area shape="rect" id="node26" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="809,493,931,519"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="785,290,955,317"/>
<area shape="rect" id="node28" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="1050,543,1138,570"/>
<area shape="rect" id="node30" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="832,594,908,621"/>
<area shape="rect" id="node33" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="832,341,908,367"/>
<area shape="rect" id="node34" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="819,442,921,469"/>
<area shape="rect" id="node31" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="1067,695,1121,722"/>
<area shape="rect" id="node32" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1246,695,1385,722"/>
<area shape="rect" id="node35" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1035,442,1153,469"/>
<area shape="rect" id="node40" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1054,493,1134,519"/>
<area shape="rect" id="node36" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1251,417,1379,443"/>
<area shape="rect" id="node37" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1234,467,1397,494"/>
<area shape="rect" id="node38" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1445,467,1596,494"/>
<area shape="rect" id="node39" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1644,467,1785,494"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_icgraph.png" border="0" usemap="#extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_icgraph" id="extent-tree_8c_ad34759a183b31aa9ba4274a72bf15a4d_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="354,390,441,417"/>
<area shape="rect" id="node48" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="204,316,293,342"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="521,193,628,220"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="520,462,629,489"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1185,320,1305,346"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1432,320,1543,346"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="696,782,877,823"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="719,295,855,336"/>
<area shape="rect" id="node23" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="725,614,849,641"/>
<area shape="rect" id="node27" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="727,513,847,540"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="711,974,863,1001"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="719,690,854,717"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="737,462,837,489"/>
<area shape="rect" id="node45" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="709,412,865,438"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="925,828,1107,854"/>
<area shape="rect" id="node9" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1195,924,1296,950"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="943,226,1089,253"/>
<area shape="rect" id="node14" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="929,101,1103,128"/>
<area shape="rect" id="node12" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1167,269,1324,296"/>
<area shape="rect" id="node13" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1409,269,1565,296"/>
<area shape="rect" id="node15" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1188,101,1303,128"/>
<area shape="rect" id="node16" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1453,101,1522,128"/>
<area shape="rect" id="node20" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1172,35,1319,76"/>
<area shape="rect" id="node21" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1158,203,1333,244"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1647,25,1798,52"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1639,76,1807,102"/>
<area shape="rect" id="node19" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1671,126,1775,153"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1643,538,1802,565"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="958,589,1074,616"/>
<area shape="rect" id="node25" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1403,589,1572,616"/>
<area shape="rect" id="node26" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1192,640,1299,666"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="934,1025,1098,1052"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="934,974,1098,1001"/>
<area shape="rect" id="node30" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1384,1025,1591,1052"/>
<area shape="rect" id="node32" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1176,974,1315,1001"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="946,768,1086,794"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="938,690,1094,717"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1181,742,1310,783"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1171,807,1319,848"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1199,873,1292,900"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1198,690,1293,717"/>
<area shape="rect" id="node41" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="959,480,1073,506"/>
<area shape="rect" id="node42" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1197,421,1293,448"/>
<area shape="rect" id="node43" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1155,472,1336,514"/>
<area shape="rect" id="node44" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1186,370,1305,397"/>
<area shape="rect" id="node46" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="931,429,1101,456"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="953,378,1079,405"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="341,161,453,188"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="501,142,648,169"/>
</map>
</div>

</div>
</div>
<a id="aa4fa34d4fc30d4b2bd1eec36af81b558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fa34d4fc30d4b2bd1eec36af81b558">&#9670;&nbsp;</a></span>btrfs_read_block_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_read_block_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_cgraph.png" border="0" usemap="#extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_cgraph" id="extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="245,5,359,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a46f278c06a6d46aa1e7ec8f152950ca8" title="find_first_block_group" alt="" coords="227,284,377,311"/>
<area shape="rect" id="node6" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="663,56,793,83"/>
<area shape="rect" id="node9" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="439,360,594,387"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a97fecf81cbed11a3223cd24040fde860" title="btrfs_create_block\l_group_cache" alt="" coords="237,527,367,569"/>
<area shape="rect" id="node20" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="237,768,367,795"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="226,667,378,693"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="225,819,379,845"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="227,869,377,896"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="229,920,375,947"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad9ebbf7fefd63e6e7c97ca63112438e2" title="btrfs_add_block_group\l_cache" alt="" coords="225,971,379,1013"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="217,1037,387,1078"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#abe237c9268ec98ee009ae4b0e493bfc7" title="update_space_info" alt="" coords="237,1103,367,1129"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad1f6e534fc526dd8feb800dc84586385" title="link_block_group" alt="" coords="243,1255,361,1281"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a74c4a95c46dc315cec16d7ab190fc99d" title="set_avail_alloc_bits" alt="" coords="234,1305,370,1332"/>
<area shape="rect" id="node41" href="volumes_8c.html#a765158c4d1a7d1bdbaf4effe476ea68a" title="btrfs_chunk_readonly" alt="" coords="443,796,590,823"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aa47f591a2bfcb0b9eea6110945d3c617" title="inc_block_group_ro" alt="" coords="235,1356,369,1383"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="227,1407,377,1433"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="244,1457,360,1484"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a7e43e018484a4032a1bd12a9e452606a" title="btrfs_add_raid_kobjects" alt="" coords="222,1204,382,1231"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#afd07a2a420a89d0939bd73d25cdb728b" title="init_global_block_rsv" alt="" coords="231,1153,373,1180"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="247,183,357,209"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="455,157,578,184"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="463,259,571,285"/>
<area shape="rect" id="node12" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="857,347,1016,373"/>
<area shape="rect" id="node13" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="877,536,996,563"/>
<area shape="rect" id="node5" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="873,69,1000,96"/>
<area shape="rect" id="node7" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="865,145,1008,172"/>
<area shape="rect" id="node10" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="674,360,782,387"/>
<area shape="rect" id="node11" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="651,411,805,437"/>
<area shape="rect" id="node15" href="volumes_8c.html#a642197693d4a9cdedd078bd5c875a06f" title="btrfs_full_stripe_len" alt="" coords="449,411,584,437"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a016a16cb724e64ea614bab6c9e3cb164" title="set_free_space_tree\l_thresholds" alt="" coords="447,527,587,569"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#aec209aee64785809739538d21193bd63" title="btrfs_init_free_space_ctl" alt="" coords="435,593,599,620"/>
<area shape="rect" id="node19" href="ctree_8h.html#a1ce679168ad9e9c43d77bad222ccb41e" title="btrfs_init_full_stripe\l_locks_tree" alt="" coords="449,462,584,503"/>
<area shape="rect" id="node16" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="671,536,785,563"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46" title="add_excluded_extent" alt="" coords="444,745,589,772"/>
<area shape="rect" id="node23" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="462,695,571,721"/>
<area shape="rect" id="node24" href="volumes_8c.html#ac25a3865fdfa80949ee3fd1e609707b1" title="btrfs_rmap_block" alt="" coords="455,644,578,671"/>
<area shape="rect" id="node26" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="456,847,577,873"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="449,897,585,924"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="443,948,590,975"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="443,999,591,1041"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="441,1065,592,1106"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="453,1196,580,1223"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0" title="space_info_add_new\l_bytes" alt="" coords="445,1130,589,1171"/>
<area shape="rect" id="node39" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="441,1247,592,1289"/>
<area shape="rect" id="node42" href="volumes_8c.html#a48c588e7e3d722ee005b00d53421a248" title="btrfs_chunk_max_errors" alt="" coords="647,796,809,823"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="440,1356,593,1383"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="453,1450,581,1491"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_icgraph.png" border="0" usemap="#extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_icgraph" id="extent-tree_8c_aa4fa34d4fc30d4b2bd1eec36af81b558_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="217,429,424,456"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1143,296,1230,323"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="495,353,617,380"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="505,296,607,323"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="481,888,631,915"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="472,506,640,547"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="688,353,835,380"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="688,296,835,323"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="713,220,810,247"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="900,195,1036,221"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1127,208,1246,235"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="891,347,1045,373"/>
<area shape="rect" id="node29" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="887,397,1049,424"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1338,195,1445,221"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1337,413,1446,440"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1771,183,1891,209"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1969,183,2080,209"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1511,438,1692,479"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1533,373,1669,414"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1539,707,1663,733"/>
<area shape="rect" id="node22" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1541,555,1661,581"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1525,93,1677,120"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1534,605,1669,632"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1551,656,1651,683"/>
<area shape="rect" id="node27" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1523,220,1679,247"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1740,445,1921,472"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1757,321,1904,348"/>
<area shape="rect" id="node18" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1743,380,1918,407"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1990,380,2059,407"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1773,555,1889,581"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1749,68,1913,95"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="922,144,1014,171"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="705,968,817,995"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="885,1111,1051,1137"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="691,812,831,839"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="890,1045,1046,1086"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="922,892,1014,919"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="911,943,1025,969"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="888,993,1048,1020"/>
<area shape="rect" id="node38" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1117,809,1256,850"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1101,1111,1272,1137"/>
<area shape="rect" id="node39" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1320,845,1463,872"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="885,732,1051,759"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="696,509,827,536"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="694,623,829,665"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="883,448,1053,475"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="893,499,1043,541"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="891,565,1045,606"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="897,631,1039,657"/>
</map>
</div>

</div>
</div>
<a id="af5467485aa7250c63dc40050d97bde86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5467485aa7250c63dc40050d97bde86">&#9670;&nbsp;</a></span>btrfs_reduce_alloc_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 btrfs_reduce_alloc_profile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af5467485aa7250c63dc40050d97bde86_cgraph.png" border="0" usemap="#extent-tree_8c_af5467485aa7250c63dc40050d97bde86_cgraph" alt=""/></div>
<map name="extent-tree_8c_af5467485aa7250c63dc40050d97bde86_cgraph" id="extent-tree_8c_af5467485aa7250c63dc40050d97bde86_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="181,13,312,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af5467485aa7250c63dc40050d97bde86_icgraph.png" border="0" usemap="#extent-tree_8c_af5467485aa7250c63dc40050d97bde86_icgraph" alt=""/></div>
<map name="extent-tree_8c_af5467485aa7250c63dc40050d97bde86_icgraph" id="extent-tree_8c_af5467485aa7250c63dc40050d97bde86_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="181,312,297,339"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a75e508943d0e877bfd1f3f7f2d1f5c99" title="get_alloc_profile_by_root" alt="" coords="345,257,512,284"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1617,207,1784,233"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1621,101,1781,128"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae" title="btrfs_data_alloc_profile" alt="" coords="752,312,908,339"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="759,635,901,677"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="764,570,896,611"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="347,459,511,485"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="560,253,701,280"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="967,119,1157,145"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="775,144,885,171"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="749,195,911,221"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="761,246,899,287"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="959,439,1165,465"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="755,413,905,440"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1237,359,1358,385"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1246,409,1349,436"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1223,527,1372,553"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1213,461,1381,502"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1443,257,1555,284"/>
<area shape="rect" id="node33" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1429,497,1569,524"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1623,301,1779,342"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1655,616,1747,643"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1858,345,1977,372"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="2069,371,2173,397"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1842,279,1993,321"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="1848,605,1987,646"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="1832,722,2003,763"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="2051,693,2191,734"/>
<area shape="rect" id="node23" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2051,221,2190,262"/>
<area shape="rect" id="node28" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1832,177,2003,204"/>
<area shape="rect" id="node24" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2264,177,2360,204"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2241,228,2383,255"/>
<area shape="rect" id="node26" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="2616,172,2731,199"/>
<area shape="rect" id="node27" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="2433,172,2568,199"/>
<area shape="rect" id="node29" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="2063,169,2178,196"/>
<area shape="rect" id="node31" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1845,127,1990,153"/>
<area shape="rect" id="node32" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="2239,111,2385,153"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="978,191,1146,217"/>
<area shape="rect" id="node39" href="btrfs_2super_8c.html#a38da2d78b24b145ef3d4ced0fa2cb04d" title="btrfs_calc_avail_data\l_space" alt="" coords="989,242,1135,283"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="1231,191,1364,217"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a4687f4645de8ce48e74aeb960f6a19bb" title="btrfs_statfs" alt="" coords="1253,249,1341,276"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1440,729,1559,756"/>
<area shape="rect" id="node45" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="995,628,1129,655"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="1637,722,1765,763"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="1632,787,1769,829"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1223,628,1371,655"/>
<area shape="rect" id="node49" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="587,533,674,560"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="777,519,883,545"/>
</map>
</div>

</div>
</div>
<a id="aa61469f487e02397d8c8f61c237edd7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61469f487e02397d8c8f61c237edd7f">&#9670;&nbsp;</a></span>btrfs_release_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_release_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_cgraph.png" border="0" usemap="#extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_cgraph" id="extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="188,13,339,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_icgraph.png" border="0" usemap="#extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_icgraph" id="extent-tree_8c_aa61469f487e02397d8c8f61c237edd7f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="188,577,303,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="351,766,492,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="758,996,947,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="566,1021,675,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="540,838,701,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="551,759,690,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="749,533,956,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="546,280,695,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1021,996,1155,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1230,996,1381,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1457,1021,1587,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1653,984,1828,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="785,1097,921,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1227,945,1384,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1468,958,1576,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="791,807,915,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="791,719,915,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1029,894,1147,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1253,836,1357,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1021,828,1155,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1240,726,1371,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1013,726,1163,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1027,406,1149,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1037,558,1139,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1013,508,1163,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1004,610,1172,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1232,356,1379,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1667,381,1814,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1257,609,1354,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1249,406,1361,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1439,432,1605,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1235,508,1375,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1238,660,1373,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="797,254,909,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="787,102,918,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="795,153,910,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1047,204,1129,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1268,102,1343,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="793,356,913,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="801,406,904,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="801,305,904,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1027,305,1149,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1220,204,1391,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1029,153,1147,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1024,52,1152,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1461,153,1583,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1673,128,1808,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1223,254,1387,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1028,356,1148,382"/>
</map>
</div>

</div>
</div>
<a id="a93c7b396cc81f9b2e38821b3349d1f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c7b396cc81f9b2e38821b3349d1f32">&#9670;&nbsp;</a></span>btrfs_remove_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_remove_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>group_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structextent__map.html">extent_map</a> *&#160;</td>
          <td class="paramname"><em>em</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_cgraph.png" border="0" usemap="#extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_cgraph" alt=""/></div>
<map name="extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_cgraph" id="extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="224,16,355,57"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="213,93,366,119"/>
<area shape="rect" id="node6" href="ref-verify_8c.html#aea65b69e371faf29751a5a25549e982f" title="btrfs_free_ref_tree\l_range" alt="" coords="225,165,353,207"/>
<area shape="rect" id="node9" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="214,391,365,432"/>
<area shape="rect" id="node16" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="683,533,801,559"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="222,671,357,712"/>
<area shape="rect" id="node20" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="685,901,799,927"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="205,1174,374,1201"/>
<area shape="rect" id="node25" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="681,1006,803,1033"/>
<area shape="rect" id="node26" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="870,951,999,978"/>
<area shape="rect" id="node27" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="721,1123,763,1150"/>
<area shape="rect" id="node28" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="703,1351,781,1378"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#aa8ce521464eebedfc2a4f39f1a6471c0" title="btrfs_wait_cache_io" alt="" coords="220,1377,359,1403"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="214,1529,365,1555"/>
<area shape="rect" id="node33" href="ctree_8h.html#a0da9d2923166a9f6e2272436a42fa69c" title="btrfs_orphan_add" alt="" coords="228,1478,351,1505"/>
<area shape="rect" id="node39" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="687,850,797,877"/>
<area shape="rect" id="node41" href="ctree_8h.html#af9e99f5f2da448db8a3b1a812e8271ff" title="btrfs_add_delayed_iput" alt="" coords="450,1427,606,1454"/>
<area shape="rect" id="node42" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="700,1250,784,1277"/>
<area shape="rect" id="node43" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="237,1579,341,1606"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a208fc4437af17e2a0b1af0c9e0760020" title="clear_avail_alloc_bits" alt="" coords="216,1630,363,1657"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="459,1813,597,1839"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4" title="wait_block_group_cache_done" alt="" coords="189,1791,389,1818"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="459,1863,597,1890"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="205,605,374,647"/>
<area shape="rect" id="node49" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="207,1893,371,1919"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a19dd18b81a929d28d3a897478c7684a7" title="remove_block_group\l_free_space" alt="" coords="457,940,599,981"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="447,5,609,47"/>
<area shape="rect" id="node5" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="467,71,589,98"/>
<area shape="rect" id="node7" href="ref-verify_8c.html#a90264c789aceac714f1f46941227bd19" title="dump_block_entry" alt="" coords="464,173,592,199"/>
<area shape="rect" id="node8" href="ref-verify_8c.html#abccfc8ef81350d06c3f93334c93f2d96" title="free_block_entry" alt="" coords="469,122,587,149"/>
<area shape="rect" id="node10" href="volumes_8h.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="456,325,600,367"/>
<area shape="rect" id="node11" href="volumes_8h.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="456,391,600,432"/>
<area shape="rect" id="node12" href="volumes_8h.html#adc39e837a05fc36ea825560e65bc7c50" title="btrfs_get_fs_uuids" alt="" coords="463,457,593,483"/>
<area shape="rect" id="node13" href="volumes_8h.html#a782e890c25ad1f492beab5e7ba18416a" title="btrfs_set_fs_info_ptr" alt="" coords="457,223,599,250"/>
<area shape="rect" id="node14" href="volumes_8h.html#ac51cd3c4a04fa86a53432c9b4f9beeba" title="btrfs_reset_fs_info_ptr" alt="" coords="452,274,604,301"/>
<area shape="rect" id="node15" href="volumes_8h.html#a16661efc32c170ed84aedc88f8b28e46" title="btrfs_check_rw_degradable" alt="" coords="437,507,619,534"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="454,612,602,653"/>
<area shape="rect" id="node19" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="667,649,817,675"/>
<area shape="rect" id="node22" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="717,1174,767,1201"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="455,1057,601,1099"/>
<area shape="rect" id="node23" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="865,1174,1004,1201"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a5044f52e85ef54f768760b146ff815ef" title="__btrfs_wait_cache_io" alt="" coords="452,1377,604,1403"/>
<area shape="rect" id="node31" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="707,1478,777,1505"/>
<area shape="rect" id="node34" href="ctree_8h.html#ac4fa53d8f83f56d50e0fe18f189751c0" title="btrfs_alloc_block_rsv" alt="" coords="455,1529,601,1555"/>
<area shape="rect" id="node35" href="ctree_8h.html#abc2881165c601bfce62c1bb9e1629d37" title="btrfs_free_block_rsv" alt="" coords="458,1579,598,1606"/>
<area shape="rect" id="node36" href="ctree_8h.html#aab611987577664f0b44cf4905ba63ee7" title="btrfs_orphan_reserve\l_metadata" alt="" coords="456,1696,600,1737"/>
<area shape="rect" id="node37" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="706,1703,778,1730"/>
<area shape="rect" id="node38" href="ctree_8h.html#aed42a661a99e28283238f4111df29b79" title="btrfs_insert_orphan_item" alt="" coords="445,889,611,915"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5edf32b8cb542d087b7dd877b248545" title="btrfs_orphan_release\l_metadata" alt="" coords="457,1631,599,1672"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_icgraph.png" border="0" usemap="#extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_icgraph" alt=""/></div>
<map name="extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_icgraph" id="extent-tree_8c_a93c7b396cc81f9b2e38821b3349d1f32_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="189,601,396,627"/>
<area shape="rect" id="node39" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="660,550,800,577"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="467,145,589,171"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="679,297,781,323"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="453,601,603,627"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="444,863,612,904"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1476,170,1623,197"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="860,170,1007,197"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="885,297,982,323"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1084,94,1220,121"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1297,69,1416,95"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1313,297,1400,323"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1075,145,1229,171"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1071,195,1233,222"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1496,322,1603,349"/>
<area shape="rect" id="node11" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1495,423,1604,450"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1305,195,1408,222"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1504,221,1595,247"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1106,297,1198,323"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="674,677,786,703"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="850,601,1017,627"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="855,753,1011,795"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="887,819,979,846"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="876,651,991,678"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="853,702,1013,729"/>
<area shape="rect" id="node24" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1083,652,1221,693"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1067,601,1237,627"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1285,639,1428,666"/>
<area shape="rect" id="node26" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1485,724,1614,765"/>
<area shape="rect" id="node32" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1674,550,1789,577"/>
<area shape="rect" id="node34" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1482,639,1617,666"/>
<area shape="rect" id="node27" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1840,727,1988,754"/>
<area shape="rect" id="node28" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2036,601,2105,627"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2162,525,2313,551"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2153,575,2321,602"/>
<area shape="rect" id="node31" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2185,626,2289,653"/>
<area shape="rect" id="node33" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1864,550,1964,577"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1671,702,1792,729"/>
<area shape="rect" id="node36" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1857,651,1971,678"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="850,449,1017,475"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1095,398,1209,425"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1107,449,1197,475"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1301,347,1413,374"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="665,985,795,1011"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="663,863,797,904"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="848,1038,1019,1065"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="858,1089,1009,1131"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="857,972,1010,1013"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="862,921,1005,947"/>
</map>
</div>

</div>
</div>
<a id="a9132354ded0de07d9d0fd39278c3ad40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9132354ded0de07d9d0fd39278c3ad40">&#9670;&nbsp;</a></span>btrfs_reserve_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_reserve_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ram_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>min_alloc_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>empty_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>hint_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>ins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_cgraph.png" border="0" usemap="#extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_cgraph" alt=""/></div>
<map name="extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_cgraph" id="extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a75e508943d0e877bfd1f3f7f2d1f5c99" title="get_alloc_profile_by_root" alt="" coords="195,565,361,591"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="221,986,335,1013"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="650,1545,777,1571"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="201,1636,355,1677"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="216,1803,340,1830"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="434,93,550,119"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="649,5,777,47"/>
<area shape="rect" id="node6" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="417,1367,567,1408"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a5a5237a87cb32541134aa6e06c8dad37" title="fetch_cluster_info" alt="" coords="429,1585,555,1611"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc" title="first_logical_byte" alt="" coords="432,1250,552,1277"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="858,658,1009,685"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="427,1636,557,1677"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aeb2544a4a7d14b038817834ad57e5328" title="block_group_bits" alt="" coords="432,746,552,773"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1452635bf39f5e3ec26111e211a3c56f" title="btrfs_lock_block_group" alt="" coords="414,797,570,823"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ad77ed64692f14b06a4125c249989eb41" title="btrfs_grab_block_group" alt="" coords="855,506,1012,533"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="629,594,798,621"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="425,249,559,275"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a8ff60feb90fd1f63375e119400995084" title="btrfs_lock_cluster" alt="" coords="651,746,776,773"/>
<area shape="rect" id="node34" href="config_8c.html#a9c6ee06690749a927c134e712a1b1ef5" title="release_cluster" alt="" coords="437,847,547,874"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="411,898,573,925"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aa61469f487e02397d8c8f61c237edd7f" title="btrfs_release_block\l_group" alt="" coords="646,477,781,519"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="425,949,559,991"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="410,1015,574,1042"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c" title="wait_block_group_cache\l_progress" alt="" coords="409,528,575,569"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="422,1067,562,1108"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="419,1133,565,1159"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ae18a0295de9ab0f947036266d49de4a0" title="btrfs_add_reserved\l_bytes" alt="" coords="425,1184,559,1225"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a9ad75caca319f92d40c7aa97644a0792" title="btrfs_inc_block_group\l_reservations" alt="" coords="417,1301,567,1343"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="419,1433,565,1459"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="436,1534,548,1561"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="419,375,565,402"/>
<area shape="rect" id="node7" href="volumes_8h.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="641,1413,785,1455"/>
<area shape="rect" id="node8" href="volumes_8h.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="641,1479,785,1520"/>
<area shape="rect" id="node9" href="volumes_8h.html#adc39e837a05fc36ea825560e65bc7c50" title="btrfs_get_fs_uuids" alt="" coords="649,1210,778,1237"/>
<area shape="rect" id="node10" href="volumes_8h.html#a782e890c25ad1f492beab5e7ba18416a" title="btrfs_set_fs_info_ptr" alt="" coords="643,1261,784,1287"/>
<area shape="rect" id="node11" href="volumes_8h.html#ac51cd3c4a04fa86a53432c9b4f9beeba" title="btrfs_reset_fs_info_ptr" alt="" coords="637,1311,789,1338"/>
<area shape="rect" id="node12" href="volumes_8h.html#a16661efc32c170ed84aedc88f8b28e46" title="btrfs_check_rw_degradable" alt="" coords="623,1362,804,1389"/>
<area shape="rect" id="node15" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="633,1595,793,1622"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="652,1144,775,1185"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="852,1144,1015,1185"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1063,574,1213,601"/>
<area shape="rect" id="node27" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="660,223,767,250"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="658,274,769,301"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="857,173,1010,199"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="864,325,1003,351"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="634,122,793,149"/>
<area shape="rect" id="node32" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="651,173,776,199"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="415,1803,569,1830"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="413,1854,571,1881"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_icgraph.png" border="0" usemap="#extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_icgraph" id="extent-tree_8c_a9132354ded0de07d9d0fd39278c3ad40_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="413,107,602,133"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="221,61,330,88"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="195,179,356,205"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="206,251,345,293"/>
<area shape="rect" id="node20" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="404,569,611,596"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="201,873,350,900"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="687,107,821,133"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="907,107,1058,133"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1134,69,1265,96"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1331,108,1505,135"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="439,5,575,32"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="904,157,1061,184"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1145,145,1253,172"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="445,251,569,293"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="445,369,569,410"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="695,208,813,235"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="931,233,1035,260"/>
<area shape="rect" id="node16" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="687,310,821,351"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="917,427,1048,453"/>
<area shape="rect" id="node19" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="679,376,829,403"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="693,544,815,571"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="703,595,805,621"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="679,696,829,723"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="670,478,838,519"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="909,544,1056,571"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1345,733,1491,760"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="934,595,1031,621"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="927,696,1039,723"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1116,747,1283,773"/>
<area shape="rect" id="node29" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="913,747,1053,773"/>
<area shape="rect" id="node31" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="915,478,1050,519"/>
<area shape="rect" id="node33" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="451,1203,563,1229"/>
<area shape="rect" id="node36" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="442,1000,573,1027"/>
<area shape="rect" id="node41" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="450,949,565,976"/>
<area shape="rect" id="node42" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="713,747,795,773"/>
<area shape="rect" id="node44" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="945,899,1020,925"/>
<area shape="rect" id="node45" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="447,1076,567,1103"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="456,848,559,875"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="456,899,559,925"/>
<area shape="rect" id="node34" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="693,1203,815,1229"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="897,1127,1068,1153"/>
<area shape="rect" id="node37" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="695,1000,813,1027"/>
<area shape="rect" id="node40" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="690,949,818,976"/>
<area shape="rect" id="node38" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1138,848,1261,875"/>
<area shape="rect" id="node39" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1351,873,1485,900"/>
<area shape="rect" id="node43" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="901,848,1065,875"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="694,1152,814,1179"/>
<area shape="rect" id="node47" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="659,1051,849,1077"/>
<area shape="rect" id="node48" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="688,1101,820,1128"/>
</map>
</div>

</div>
</div>
<a id="ad7c4792a0fa4d5bcdcc893196580f716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c4792a0fa4d5bcdcc893196580f716">&#9670;&nbsp;</a></span>btrfs_run_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_run_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_cgraph.png" border="0" usemap="#extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_cgraph" id="extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="208,435,376,461"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="651,435,834,461"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="221,961,363,1002"/>
<area shape="rect" id="node3" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="483,173,537,200"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="437,359,583,385"/>
<area shape="rect" id="node7" href="delayed-ref_8c.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="433,409,587,436"/>
<area shape="rect" id="node19" href="delayed-ref_8c.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="424,511,596,537"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a76bc63d000532e47f08dcf8318d11bd2" title="select_delayed_ref" alt="" coords="445,257,575,284"/>
<area shape="rect" id="node21" href="delayed-ref_8c.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="425,308,595,335"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="653,561,833,588"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="448,663,572,689"/>
<area shape="rect" id="node26" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="921,778,1050,819"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="439,107,581,133"/>
<area shape="rect" id="node36" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="437,460,583,487"/>
<area shape="rect" id="node4" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="683,107,802,133"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="1155,199,1255,225"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="896,308,1075,335"/>
<area shape="rect" id="node13" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="894,409,1077,436"/>
<area shape="rect" id="node14" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="889,359,1081,385"/>
<area shape="rect" id="node15" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="899,511,1071,537"/>
<area shape="rect" id="node17" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="921,242,1049,283"/>
<area shape="rect" id="node18" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="909,460,1062,487"/>
<area shape="rect" id="node10" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="1329,308,1401,335"/>
<area shape="rect" id="node11" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="1129,359,1281,385"/>
<area shape="rect" id="node12" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="1132,308,1279,335"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="1165,536,1245,563"/>
<area shape="rect" id="node23" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="902,612,1069,639"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="677,764,808,791"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="679,663,806,689"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="685,157,800,184"/>
<area shape="rect" id="node29" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="683,932,802,959"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a2f5a26f07d0b3b4018632b799f02c9a7" title="btrfs_qgroup_free_delayed_ref" alt="" coords="644,713,841,740"/>
<area shape="rect" id="node30" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="928,932,1043,959"/>
<area shape="rect" id="node31" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="931,983,1040,1009"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="671,5,814,32"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="669,56,816,83"/>
<area shape="rect" id="node38" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="683,1084,802,1111"/>
<area shape="rect" id="node42" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="446,1102,574,1143"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="668,866,817,907"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="904,1084,1067,1111"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="919,1135,1052,1161"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="907,1033,1063,1060"/>
<area shape="rect" id="node43" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="685,1287,800,1313"/>
<area shape="rect" id="node44" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="926,1236,1045,1263"/>
<area shape="rect" id="node45" href="ctree_8h.html#aed5f70301afe4c17a15967e6488789c2" title="btrfs_chunk_item_size" alt="" coords="666,1135,819,1161"/>
<area shape="rect" id="node46" href="volumes_8c.html#a49a8ed4d8c18b4851285e5bacaed3d1f" title="btrfs_update_device" alt="" coords="673,983,812,1009"/>
<area shape="rect" id="node47" href="volumes_8c.html#a656758cbaddd89b14f7bdb7edd7d590b" title="btrfs_alloc_dev_extent" alt="" coords="666,1033,819,1060"/>
<area shape="rect" id="node48" href="volumes_8c.html#a4863395140c4214c33329273b40e8314" title="btrfs_add_system_chunk" alt="" coords="659,1236,827,1263"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="904,866,1067,907"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_icgraph.png" border="0" usemap="#extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_icgraph" id="extent-tree_8c_ad7c4792a0fa4d5bcdcc893196580f716_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="725,191,865,233"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="692,409,899,436"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="222,249,386,276"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="471,585,621,626"/>
<area shape="rect" id="node14" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1391,664,1560,691"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="227,475,381,517"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="468,531,624,557"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="947,563,1117,589"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="208,344,400,371"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1643,5,1764,32"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="981,293,1083,320"/>
<area shape="rect" id="node5" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="967,61,1097,102"/>
<area shape="rect" id="node6" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="970,126,1094,167"/>
<area shape="rect" id="node7" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="977,192,1087,219"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="957,395,1107,421"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="948,446,1116,487"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="448,205,644,232"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1650,208,1757,235"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1643,259,1764,285"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1653,309,1754,336"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1658,360,1749,387"/>
<area shape="rect" id="node19" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1847,81,2005,108"/>
<area shape="rect" id="node20" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1613,107,1793,133"/>
<area shape="rect" id="node21" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1618,512,1789,539"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1646,563,1761,589"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1635,613,1771,640"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1635,664,1772,691"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1625,715,1781,757"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1619,781,1787,808"/>
<area shape="rect" id="node27" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1608,832,1799,859"/>
<area shape="rect" id="node28" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1612,883,1795,909"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1652,933,1755,960"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1644,984,1763,1011"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1643,1035,1764,1061"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1641,1086,1765,1127"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1634,1152,1773,1179"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1620,1203,1787,1245"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1629,1269,1778,1296"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1624,1320,1783,1347"/>
<area shape="rect" id="node37" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1633,1371,1773,1413"/>
<area shape="rect" id="node38" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1633,1437,1773,1464"/>
<area shape="rect" id="node39" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1640,461,1767,488"/>
<area shape="rect" id="node40" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1853,461,1999,488"/>
<area shape="rect" id="node41" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1635,411,1771,437"/>
<area shape="rect" id="node42" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1623,157,1784,184"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="708,563,883,589"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1165,563,1343,589"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="476,373,616,400"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="461,307,631,349"/>
</map>
</div>

</div>
</div>
<a id="a2575f73cc334986f6cf0795278edf5d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2575f73cc334986f6cf0795278edf5d4">&#9670;&nbsp;</a></span>btrfs_set_disk_extent_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_set_disk_extent_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_cgraph.png" border="0" usemap="#extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_cgraph" alt=""/></div>
<map name="extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_cgraph" id="extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a6f200b01d9f90ffef4dbb4db8931ee1d" title="btrfs_alloc_delayed\l_extent_op" alt="" coords="229,56,363,97"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="200,122,392,149"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="859,140,988,181"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="440,97,592,123"/>
<area shape="rect" id="node5" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="660,5,791,47"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="680,71,771,98"/>
<area shape="rect" id="node7" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="640,122,811,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_icgraph.png" border="0" usemap="#extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_icgraph" id="extent-tree_8c_a2575f73cc334986f6cf0795278edf5d4_icgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="235,528,371,555"/>
<area shape="rect" id="node25" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="200,904,407,931"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="244,364,363,391"/>
<area shape="rect" id="node3" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="473,528,604,555"/>
<area shape="rect" id="node4" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="685,360,803,387"/>
<area shape="rect" id="node24" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="680,556,808,583"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="900,259,1001,285"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="874,309,1027,336"/>
<area shape="rect" id="node7" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="889,411,1012,437"/>
<area shape="rect" id="node15" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1121,360,1217,387"/>
<area shape="rect" id="node16" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1322,360,1445,387"/>
<area shape="rect" id="node17" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1120,157,1219,184"/>
<area shape="rect" id="node20" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="895,461,1006,488"/>
<area shape="rect" id="node21" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="899,512,1002,539"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1091,740,1247,767"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="865,208,1036,235"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1096,563,1243,589"/>
<area shape="rect" id="node13" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1303,461,1464,488"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1099,5,1239,32"/>
<area shape="rect" id="node18" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1084,639,1255,665"/>
<area shape="rect" id="node19" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1101,512,1237,539"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1315,613,1451,640"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1512,639,1631,665"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1528,512,1615,539"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1306,563,1461,589"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="478,984,599,1011"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="487,715,590,741"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="464,1072,613,1099"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="455,867,623,909"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="671,984,817,1011"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="695,715,793,741"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="905,715,997,741"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="688,1085,800,1112"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="867,941,1034,968"/>
<area shape="rect" id="node40" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="674,1236,814,1263"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="873,1043,1029,1085"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="905,1109,997,1136"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="893,1160,1008,1187"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="871,992,1031,1019"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1100,934,1239,975"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1312,1101,1455,1128"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="867,1211,1034,1237"/>
<area shape="rect" id="node42" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="916,1312,985,1339"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="679,883,809,909"/>
<area shape="rect" id="node47" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="677,817,811,858"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="865,765,1036,792"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="875,875,1026,917"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="686,107,802,133"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="885,107,1016,133"/>
</map>
</div>

</div>
</div>
<a id="a6a1b91a265cecbb96209a3d552369472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1b91a265cecbb96209a3d552369472">&#9670;&nbsp;</a></span>btrfs_setup_space_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_setup_space_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_cgraph.png" border="0" usemap="#extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_cgraph" id="extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1127,1015,1242,1042"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="224,926,355,952"/>
<area shape="rect" id="node33" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1130,630,1239,656"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="637,339,807,366"/>
<area shape="rect" id="node12" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1320,478,1449,504"/>
<area shape="rect" id="node21" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1363,162,1406,188"/>
<area shape="rect" id="node23" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1346,964,1423,991"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a0235f9844515fab31ecaeb55b73204ff" title="create_free_space_inode" alt="" coords="403,478,570,504"/>
<area shape="rect" id="node27" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="656,796,788,823"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="403,1144,571,1185"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="421,918,552,960"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="647,1458,797,1500"/>
<area shape="rect" id="node48" href="ctree_8h.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="425,1540,549,1581"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a5c2bed3f6d2695df5a32f7926d63f211" title="extent_changeset_free" alt="" coords="409,1366,564,1392"/>
<area shape="rect" id="node5" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="936,22,987,48"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="889,289,1034,330"/>
<area shape="rect" id="node6" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1156,22,1213,48"/>
<area shape="rect" id="node7" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1499,35,1638,62"/>
<area shape="rect" id="node9" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1123,376,1246,403"/>
<area shape="rect" id="node17" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="1111,275,1258,302"/>
<area shape="rect" id="node18" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1108,326,1261,352"/>
<area shape="rect" id="node19" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="1147,123,1223,150"/>
<area shape="rect" id="node20" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1335,98,1434,124"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1505,376,1632,403"/>
<area shape="rect" id="node13" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1497,478,1640,504"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1688,376,1843,403"/>
<area shape="rect" id="node14" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1704,478,1827,504"/>
<area shape="rect" id="node15" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1688,529,1843,570"/>
<area shape="rect" id="node16" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1688,427,1843,454"/>
<area shape="rect" id="node22" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1531,162,1606,188"/>
<area shape="rect" id="node25" href="inode-map_8c.html#a41bab72612acf61c1a9a2b6a52fa861f" title="btrfs_find_free_objectid" alt="" coords="643,478,801,504"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a9f47f6aa2c59db2bf33f5dfbe3f19fd9" title="__create_free_space\l_inode" alt="" coords="651,412,793,453"/>
<area shape="rect" id="node28" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="1117,1066,1253,1108"/>
<area shape="rect" id="node29" href="ctree_8h.html#af48b91220eb6952623df9c867081a91b" title="btrfs_update_root_times" alt="" coords="880,782,1043,808"/>
<area shape="rect" id="node30" href="delayed-inode_8c.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="888,833,1035,874"/>
<area shape="rect" id="node31" href="transaction_8h.html#ad9769ba94f246562dd5eb3fc0a2d9512" title="btrfs_set_inode_last\l_trans" alt="" coords="1115,696,1254,737"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a612e16f16a54684bee0ffb2259083460" title="btrfs_update_inode_item" alt="" coords="879,731,1043,758"/>
<area shape="rect" id="node35" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="619,1151,825,1178"/>
<area shape="rect" id="node37" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="619,1202,825,1228"/>
<area shape="rect" id="node36" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="886,1167,1037,1194"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#aa8ce521464eebedfc2a4f39f1a6471c0" title="btrfs_wait_cache_io" alt="" coords="653,948,791,975"/>
<area shape="rect" id="node40" href="btrfs__inode_8h.html#aab2a70322d54998023e6d461d1e69276" title="btrfs_i_size_write" alt="" coords="660,999,784,1026"/>
<area shape="rect" id="node41" href="ctree_8h.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="891,898,1031,940"/>
<area shape="rect" id="node43" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="1150,1604,1219,1631"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="883,1320,1039,1361"/>
<area shape="rect" id="node45" href="qgroup_8c.html#abb0bbb66578b8196c713bf7ad50846e9" title="btrfs_qgroup_reserve_data" alt="" coords="873,1436,1049,1463"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2" title="btrfs_free_reserved\l_data_space_noquota" alt="" coords="887,1538,1036,1580"/>
<area shape="rect" id="node46" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="1097,1386,1272,1412"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="892,1656,1031,1697"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_icgraph.png" border="0" usemap="#extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_icgraph" id="extent-tree_8c_a6a1b91a265cecbb96209a3d552369472_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="224,275,431,301"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="485,931,641,957"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="952,275,1073,301"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="511,224,614,251"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="488,88,637,115"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="479,326,647,367"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1168,923,1315,949"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="709,173,855,200"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="733,224,831,251"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="953,123,1072,149"/>
<area shape="rect" id="node8" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="932,173,1093,200"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="726,63,838,89"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="929,5,1096,32"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="712,113,852,140"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="935,57,1091,98"/>
<area shape="rect" id="node14" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1156,115,1327,141"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="717,392,847,419"/>
<area shape="rect" id="node18" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="715,326,849,367"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="695,1395,869,1421"/>
<area shape="rect" id="node22" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="697,931,867,957"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="927,1808,1098,1835"/>
<area shape="rect" id="node23" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="959,1133,1066,1160"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="952,1083,1073,1109"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="962,813,1063,840"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="967,1032,1058,1059"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1162,1209,1321,1236"/>
<area shape="rect" id="node28" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="923,1235,1103,1261"/>
<area shape="rect" id="node29" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="927,1285,1098,1312"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="955,1336,1070,1363"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="945,1387,1081,1413"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="944,1437,1081,1464"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="929,1488,1097,1515"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="917,1539,1108,1565"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="921,1589,1104,1616"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="961,1640,1064,1667"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="952,1691,1073,1717"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="951,1742,1075,1783"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="943,376,1082,403"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="929,427,1096,469"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="938,493,1087,520"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="933,544,1092,571"/>
<area shape="rect" id="node43" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="943,595,1083,637"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="943,661,1083,688"/>
<area shape="rect" id="node45" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="949,763,1076,789"/>
<area shape="rect" id="node46" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1169,712,1314,739"/>
<area shape="rect" id="node47" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="945,325,1081,352"/>
<area shape="rect" id="node48" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="939,865,1086,906"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="953,931,1072,957"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="932,981,1093,1008"/>
</map>
</div>

</div>
</div>
<a id="a6eb20595513c36f0512690d5523aadcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb20595513c36f0512690d5523aadcd">&#9670;&nbsp;</a></span>btrfs_should_throttle_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_should_throttle_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_cgraph.png" border="0" usemap="#extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_cgraph" id="extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_cgraph">
<area shape="rect" id="node2" href="smb2pdu_8c.html#a1a8b6ea0b2622020f202d162d98e0ef2" title="num_entries" alt="" coords="224,5,317,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="193,57,348,98"/>
<area shape="rect" id="node4" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="396,13,603,40"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aad892acc76b8e8be495319c6bd06bb0d" title="heads_to_leaves" alt="" coords="680,64,800,91"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a19d26d64ee10ff5e2f0119729665ea2b" title="btrfs_csum_bytes_to\l_leaves" alt="" coords="427,115,571,157"/>
<area shape="rect" id="node6" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="877,89,1064,116"/>
<area shape="rect" id="node8" href="ctree_8h.html#a47d7d806719dc0e4c147c17365a6d1e8" title="BTRFS_MAX_ITEM_SIZE" alt="" coords="651,115,829,141"/>
<area shape="rect" id="node9" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="661,165,819,192"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_icgraph.png" border="0" usemap="#extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_icgraph" id="extent-tree_8c_a6eb20595513c36f0512690d5523aadcd_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="227,225,367,267"/>
<area shape="rect" id="node18" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="193,447,400,474"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="216,1214,377,1241"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="931,553,1052,579"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="711,1990,813,2017"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="467,145,597,187"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="470,65,594,107"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="936,51,1047,78"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1123,553,1269,579"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="918,1399,1065,1426"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="943,1889,1040,1915"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="697,153,827,179"/>
<area shape="rect" id="node10" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="687,102,837,129"/>
<area shape="rect" id="node11" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="695,204,829,245"/>
<area shape="rect" id="node13" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="673,51,851,78"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1124,51,1268,78"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1317,102,1460,129"/>
<area shape="rect" id="node17" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1508,51,1661,78"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="457,346,607,373"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="448,211,616,252"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="706,321,818,347"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="908,321,1075,347"/>
<area shape="rect" id="node22" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="692,371,832,398"/>
<area shape="rect" id="node25" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="459,1214,605,1241"/>
<area shape="rect" id="node50" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="459,1367,605,1408"/>
<area shape="rect" id="node26" href="btrfs_2xattr_8h.html#a434058b03ecb1c530e21db56b2f845b1" title="btrfs_setxattr" alt="" coords="713,1838,811,1865"/>
<area shape="rect" id="node27" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="709,1889,815,1915"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="701,1939,823,1966"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a291cd889b30fc8af2903498fc3214137" title="btrfs_fallocate_update\l_isize" alt="" coords="687,692,837,733"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="689,758,835,785"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="689,809,835,835"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="685,859,839,886"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="717,910,807,937"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="720,1011,804,1038"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="697,1062,827,1089"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a224684e56fe0a3af1b6890569b9efd02" title="btrfs_dirty_inode" alt="" coords="703,1113,821,1139"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="715,1163,809,1190"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="717,1214,807,1241"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a6e36c66b6129e28e2b0da486c58d8aaf" title="btrfs_link" alt="" coords="725,1265,799,1291"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="719,1315,805,1342"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a9052833ef2921ef39ec55c8c38d8ddf5" title="btrfs_rename_exchange" alt="" coords="681,1366,843,1393"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="713,1417,811,1443"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="712,1467,812,1494"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="693,1519,831,1560"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="715,1585,809,1611"/>
<area shape="rect" id="node46" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="694,1635,830,1662"/>
<area shape="rect" id="node47" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="689,1686,835,1713"/>
<area shape="rect" id="node48" href="delayed-inode_8h.html#a939acd50fb9a2b17cbe6bb468eab072e" title="btrfs_commit_inode\l_delayed_inode" alt="" coords="694,575,830,616"/>
<area shape="rect" id="node49" href="delayed-inode_8c.html#a498f560bc5df864cc95116d29a834a11" title="btrfs_async_run_delayed_root" alt="" coords="664,1737,860,1763"/>
</map>
</div>

</div>
</div>
<a id="a81b7d9c3ff801b90a5a078f917b12de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b7d9c3ff801b90a5a078f917b12de0">&#9670;&nbsp;</a></span>btrfs_space_info_used()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 btrfs_space_info_used </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>s_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>may_use_included</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a81b7d9c3ff801b90a5a078f917b12de0_icgraph.png" border="0" usemap="#extent-tree_8c_a81b7d9c3ff801b90a5a078f917b12de0_icgraph" alt=""/></div>
<map name="extent-tree_8c_a81b7d9c3ff801b90a5a078f917b12de0_icgraph" id="extent-tree_8c_a81b7d9c3ff801b90a5a078f917b12de0_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="559,224,715,265"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="207,467,343,494"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="1013,771,1153,812"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1657,543,1807,570"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="391,810,509,837"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="573,735,701,776"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="569,928,706,969"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121" title="update_global_block_rsv" alt="" coords="1444,1045,1609,1071"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="1021,938,1145,965"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#aa47f591a2bfcb0b9eea6110945d3c617" title="inc_block_group_ro" alt="" coords="1665,661,1799,687"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="2090,341,2219,367"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="791,239,910,266"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1031,239,1135,266"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="775,115,926,156"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1008,71,1159,98"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1018,122,1149,149"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="1009,173,1158,215"/>
<area shape="rect" id="node9" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1016,5,1151,47"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="394,442,506,469"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="591,602,683,629"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1855,458,2021,485"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="580,493,695,519"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="557,391,717,418"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="781,595,920,636"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="765,712,936,753"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="984,602,1183,629"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1231,795,1396,822"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1457,602,1596,629"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1455,813,1598,839"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="1455,762,1598,789"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="1679,965,1785,991"/>
<area shape="rect" id="node24" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1868,585,2008,611"/>
<area shape="rect" id="node21" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2085,392,2224,433"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2069,458,2240,485"/>
<area shape="rect" id="node22" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2320,399,2463,426"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2071,661,2238,687"/>
<area shape="rect" id="node27" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2120,610,2189,637"/>
<area shape="rect" id="node26" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2288,737,2495,763"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1243,711,1384,738"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="769,778,932,805"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="767,934,934,961"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="1003,837,1163,863"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1003,887,1163,914"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d" title="release_global_block_rsv" alt="" coords="999,989,1167,1015"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="1233,938,1394,965"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#afd07a2a420a89d0939bd73d25cdb728b" title="init_global_block_rsv" alt="" coords="1661,1015,1803,1042"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="1867,1085,2009,1127"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1856,987,2020,1014"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1856,762,2020,789"/>
</map>
</div>

</div>
</div>
<a id="ad3f068f9d47114874cc93df9070ff355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f068f9d47114874cc93df9070ff355">&#9670;&nbsp;</a></span>btrfs_start_dirty_block_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_start_dirty_block_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_cgraph.png" border="0" usemap="#extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_cgraph" id="extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1107,781,1202,808"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="648,294,791,335"/>
<area shape="rect" id="node5" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1311,461,1425,488"/>
<area shape="rect" id="node10" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1313,411,1423,437"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#aa8ce521464eebedfc2a4f39f1a6471c0" title="btrfs_wait_cache_io" alt="" coords="650,1000,789,1027"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="209,1152,359,1179"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="219,1051,349,1077"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a4882ca09e6b6af79cae4f84cf77c597f" title="btrfs_write_out_cache" alt="" coords="421,712,571,739"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a75ce6a61ceafda77cdb7aca1b86d2280" title="write_one_cache_group" alt="" coords="1075,107,1234,133"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="209,1203,359,1229"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="419,444,573,471"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a87cf534740ff28eff1d941805f45c66a" title="btrfs_cleanup_dirty_bgs" alt="" coords="204,1101,364,1128"/>
<area shape="rect" id="node4" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="1095,157,1214,184"/>
<area shape="rect" id="node12" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="877,225,1005,266"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1080,513,1229,554"/>
<area shape="rect" id="node6" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="1287,245,1449,272"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="1301,157,1435,184"/>
<area shape="rect" id="node8" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1290,335,1446,361"/>
<area shape="rect" id="node9" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1523,1187,1601,1213"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1497,705,1627,732"/>
<area shape="rect" id="node13" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="1097,5,1212,32"/>
<area shape="rect" id="node14" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1309,31,1427,57"/>
<area shape="rect" id="node15" href="ctree_8h.html#aed5f70301afe4c17a15967e6488789c2" title="btrfs_chunk_item_size" alt="" coords="1078,259,1231,285"/>
<area shape="rect" id="node16" href="volumes_8c.html#a49a8ed4d8c18b4851285e5bacaed3d1f" title="btrfs_update_device" alt="" coords="1085,461,1224,488"/>
<area shape="rect" id="node18" href="volumes_8c.html#a656758cbaddd89b14f7bdb7edd7d590b" title="btrfs_alloc_dev_extent" alt="" coords="1078,309,1231,336"/>
<area shape="rect" id="node19" href="volumes_8c.html#a4863395140c4214c33329273b40e8314" title="btrfs_add_system_chunk" alt="" coords="1071,208,1239,235"/>
<area shape="rect" id="node17" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1307,680,1429,707"/>
<area shape="rect" id="node21" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="1287,513,1449,554"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a5044f52e85ef54f768760b146ff815ef" title="__btrfs_wait_cache_io" alt="" coords="865,1136,1017,1163"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="1120,1237,1189,1264"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a38ff6ed161b1d598d4a67b7e348532ab" title="flush_dirty_cache" alt="" coords="1306,1187,1430,1213"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a84d7927bc7f5ffbc50cd7262b153c7aa" title="update_cache_item" alt="" coords="1087,984,1222,1011"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="1113,933,1196,960"/>
<area shape="rect" id="node28" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="1089,1389,1221,1416"/>
<area shape="rect" id="node29" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1133,883,1176,909"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="635,789,804,816"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a0235f9844515fab31ecaeb55b73204ff" title="create_free_space_inode" alt="" coords="413,1051,579,1077"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="412,1102,580,1143"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="431,1285,561,1326"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="865,1222,1016,1263"/>
<area shape="rect" id="node40" href="ctree_8h.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="434,1167,558,1209"/>
<area shape="rect" id="node41" href="extent__io_8h.html#a5c2bed3f6d2695df5a32f7926d63f211" title="extent_changeset_free" alt="" coords="419,1233,573,1260"/>
<area shape="rect" id="node33" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="915,731,966,757"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="868,782,1013,823"/>
<area shape="rect" id="node38" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="644,1491,795,1517"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a158f316f41724e25bb56338dec6028e4" title="__btrfs_write_out_cache" alt="" coords="859,1035,1023,1061"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="635,469,803,496"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="628,419,811,445"/>
<area shape="rect" id="node50" href="disk-io_8c.html#af80c9e4093c9ba1c7c46e2ca0d408c99" title="btrfs_cleanup_bg_io" alt="" coords="427,1541,565,1568"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_icgraph.png" border="0" usemap="#extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_icgraph" id="extent-tree_8c_ad3f068f9d47114874cc93df9070ff355_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="204,123,411,149"/>
<area shape="rect" id="node11" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="223,1228,392,1255"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="493,300,615,327"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="503,123,605,149"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="479,5,629,32"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="470,57,638,98"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="703,645,850,672"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="703,199,850,225"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="925,173,1044,200"/>
<area shape="rect" id="node8" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="904,224,1065,251"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="501,1076,607,1103"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="493,519,615,545"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="503,772,605,799"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="509,1025,599,1052"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="697,1152,856,1179"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="464,1127,644,1153"/>
<area shape="rect" id="node18" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="469,1279,639,1305"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="497,1329,611,1356"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="486,1380,622,1407"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="485,1431,623,1457"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="476,1482,632,1523"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="470,1548,638,1575"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="459,1599,649,1625"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="463,1649,645,1676"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="503,1700,605,1727"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="716,1489,837,1516"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="492,1802,616,1843"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="485,1868,623,1895"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="471,1919,637,1961"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="479,1985,629,2012"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="475,2036,633,2063"/>
<area shape="rect" id="node33" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="484,2087,624,2129"/>
<area shape="rect" id="node34" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="484,2153,624,2180"/>
<area shape="rect" id="node35" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="491,2204,617,2231"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="704,2255,849,2281"/>
<area shape="rect" id="node37" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="486,2305,622,2332"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="469,2356,639,2383"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="481,351,627,393"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="495,417,613,444"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="473,468,635,495"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="490,569,618,596"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="474,620,634,647"/>
<area shape="rect" id="node44" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="475,671,633,697"/>
<area shape="rect" id="node45" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="489,721,619,748"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="480,823,628,849"/>
<area shape="rect" id="node47" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="485,873,623,900"/>
<area shape="rect" id="node48" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="493,924,615,951"/>
<area shape="rect" id="node49" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="479,975,629,1001"/>
<area shape="rect" id="node50" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="487,1228,621,1255"/>
</map>
</div>

</div>
</div>
<a id="afc98880d81b8272ddf52723622eaf8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc98880d81b8272ddf52723622eaf8df">&#9670;&nbsp;</a></span>btrfs_start_trans_remove_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a>* btrfs_start_trans_remove_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u64&#160;</td>
          <td class="paramname"><em>chunk_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_cgraph.png" border="0" usemap="#extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_cgraph" alt=""/></div>
<map name="extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_cgraph" id="extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_cgraph">
<area shape="rect" id="node2" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="220,95,379,121"/>
<area shape="rect" id="node7" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1741,433,1859,460"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="223,350,375,391"/>
<area shape="rect" id="node3" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="427,69,600,96"/>
<area shape="rect" id="node4" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="666,5,749,32"/>
<area shape="rect" id="node5" href="btrfs_2extent__map_8c.html#abe5fa1b21db40e4c1ca4226364e4cc80" title="__tree_search" alt="" coords="655,107,759,133"/>
<area shape="rect" id="node6" href="btrfs_2extent__map_8h.html#a2ea46678c185fd0d0fdb91c1284cf0fb" title="extent_map_end" alt="" coords="859,81,977,108"/>
<area shape="rect" id="node8" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="1928,433,2064,460"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="648,499,767,525"/>
<area shape="rect" id="node13" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="815,259,1021,285"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1093,1649,1240,1676"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="437,403,589,429"/>
<area shape="rect" id="node49" href="ctree_8h.html#a87dfb0f672cf49fd6434160985bdb302" title="btrfs_cond_migrate\l_bytes" alt="" coords="447,257,580,298"/>
<area shape="rect" id="node11" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="846,361,990,402"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="836,608,1000,635"/>
<area shape="rect" id="node15" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="849,309,987,336"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="843,709,993,736"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="853,557,983,584"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="861,659,975,685"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="833,1191,1003,1217"/>
<area shape="rect" id="node30" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1720,1641,1880,1668"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="849,426,987,467"/>
<area shape="rect" id="node47" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="839,491,997,533"/>
<area shape="rect" id="node12" href="qgroup_8h.html#aae8e4d4d33f79ca4ab6c4db32947ad61" title="__btrfs_qgroup_reserve_meta" alt="" coords="1069,368,1264,395"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1084,309,1249,336"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="1094,233,1239,260"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a81ce638f8b88051647dcba5e9c37c761" title="is_transaction_blocked" alt="" coords="1089,507,1244,533"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1525,709,1669,736"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#abe2a1b010af17b2fcf0fa9d6285ddb4e" title="extwriter_counter_inc" alt="" coords="1093,557,1240,584"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#afcae6eca8bf7d4844f083402c8de7ce3" title="extwriter_counter_init" alt="" coords="1093,608,1240,635"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a970fa44d8f72a23cdd8778cd2e683c1c" title="extent_io_tree_init" alt="" coords="1103,659,1231,685"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1530,1526,1663,1567"/>
<area shape="rect" id="node31" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1525,1591,1668,1633"/>
<area shape="rect" id="node32" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1521,1679,1672,1705"/>
<area shape="rect" id="node33" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1089,1431,1244,1457"/>
<area shape="rect" id="node34" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1091,1482,1242,1523"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="1107,1548,1226,1575"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1323,760,1462,787"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a08a2e4a01f8eb487096e1422ec973cfc" title="btrfs_start_delalloc\l_flush" alt="" coords="1101,811,1233,853"/>
<area shape="rect" id="node38" href="delayed-inode_8c.html#a8c6861e7722b06f9ded04e45b83fbc15" title="btrfs_run_delayed_items" alt="" coords="1085,877,1249,904"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#a1927d5ec2842a9ad39826e170bf35cbb" title="extwriter_counter_read" alt="" coords="1089,928,1244,955"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#af3ea5a04e5165da96fdabc2dcef4b02f" title="btrfs_wait_delalloc\l_flush" alt="" coords="1101,979,1232,1021"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a01e6add3100b59f57f27ce881b3681b6" title="btrfs_wait_pending\l_ordered" alt="" coords="1101,1045,1232,1086"/>
<area shape="rect" id="node42" href="ctree_8h.html#a8c8878169667452f2b9a132fd1d00ccb" title="btrfs_scrub_pause" alt="" coords="1102,1111,1231,1137"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1078,1161,1255,1188"/>
<area shape="rect" id="node44" href="delayed-inode_8c.html#aa3c1a109907f5b8348989d763d488224" title="btrfs_assert_delayed\l_root_empty" alt="" coords="1095,1213,1238,1254"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1107,1279,1226,1305"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1312,1540,1473,1567"/>
<area shape="rect" id="node50" href="math_8h.html#a1e995188eb1e88b353d2dfe473f4b868" title="div_factor" alt="" coords="668,264,747,291"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_icgraph.png" border="0" usemap="#extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_icgraph" alt=""/></div>
<map name="extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_icgraph" id="extent-tree_8c_afc98880d81b8272ddf52723622eaf8df_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="220,765,427,792"/>
<area shape="rect" id="node28" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1316,700,1459,727"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="881,461,1047,488"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="498,385,619,412"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="709,157,812,184"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="484,673,633,700"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="475,1058,643,1099"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1507,259,1653,285"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="891,157,1037,184"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="915,56,1013,83"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1115,56,1251,83"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1328,81,1447,108"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1344,333,1431,360"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1105,208,1260,235"/>
<area shape="rect" id="node18" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1102,157,1263,184"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1527,333,1633,360"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1525,409,1635,436"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1732,308,1852,335"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1949,271,2060,297"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1701,402,1883,443"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1336,208,1439,235"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1535,208,1625,235"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1137,5,1229,32"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="705,715,817,741"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="881,613,1047,640"/>
<area shape="rect" id="node39" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="691,563,831,589"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="886,665,1042,706"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="918,731,1010,757"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="907,781,1021,808"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="884,832,1044,859"/>
<area shape="rect" id="node27" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1113,693,1252,734"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1097,613,1268,640"/>
<area shape="rect" id="node29" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1515,605,1645,646"/>
<area shape="rect" id="node32" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1735,789,1849,816"/>
<area shape="rect" id="node34" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1513,700,1647,727"/>
<area shape="rect" id="node30" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1931,587,2079,613"/>
<area shape="rect" id="node31" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2127,637,2196,664"/>
<area shape="rect" id="node33" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1955,776,2055,803"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1731,688,1853,715"/>
<area shape="rect" id="node36" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1947,700,2062,727"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1125,411,1240,437"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1138,461,1227,488"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1331,384,1443,411"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="695,956,826,983"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="693,1058,828,1099"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="879,1015,1049,1041"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="889,883,1039,925"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="887,949,1041,990"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="893,1116,1035,1143"/>
</map>
</div>

</div>
</div>
<a id="ab66e7a4e1b38ac03c24f54c01304510b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66e7a4e1b38ac03c24f54c01304510b">&#9670;&nbsp;</a></span>btrfs_start_write_no_snapshotting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_start_write_no_snapshotting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_cgraph.png" border="0" usemap="#extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_cgraph" id="extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad960c659e6062aeeeb929487f8299b9c" title="btrfs_end_write_no\l_snapshotting" alt="" coords="191,5,323,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_icgraph.png" border="0" usemap="#extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_icgraph" id="extent-tree_8c_ab66e7a4e1b38ac03c24f54c01304510b_icgraph">
<area shape="rect" id="node2" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="206,105,337,132"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="203,156,339,183"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#afa63d42bb00d618600620e59657d1ccd" title="btrfs_wait_for_snapshot\l_creation" alt="" coords="191,207,352,249"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="400,56,551,83"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="804,56,936,83"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="599,5,735,32"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="601,157,732,184"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="783,183,957,209"/>
<area shape="rect" id="node9" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1005,183,1103,209"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="427,211,524,237"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="621,209,713,236"/>
</map>
</div>

</div>
</div>
<a id="a7946e6ccff762079188782872dd504e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7946e6ccff762079188782872dd504e8">&#9670;&nbsp;</a></span>btrfs_subvolume_release_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_subvolume_release_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7946e6ccff762079188782872dd504e8_cgraph.png" border="0" usemap="#extent-tree_8c_a7946e6ccff762079188782872dd504e8_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7946e6ccff762079188782872dd504e8_cgraph" id="extent-tree_8c_a7946e6ccff762079188782872dd504e8_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="220,39,380,65"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="428,39,595,65"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="643,31,780,73"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="995,5,1148,32"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="828,64,947,91"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1005,57,1137,98"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1000,122,1143,163"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="998,187,1145,229"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1196,97,1312,124"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1360,90,1488,131"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1536,97,1667,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7946e6ccff762079188782872dd504e8_icgraph.png" border="0" usemap="#extent-tree_8c_a7946e6ccff762079188782872dd504e8_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7946e6ccff762079188782872dd504e8_icgraph" id="extent-tree_8c_a7946e6ccff762079188782872dd504e8_icgraph">
<area shape="rect" id="node2" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="228,5,331,32"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="220,56,339,83"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="387,107,551,133"/>
<area shape="rect" id="node3" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="413,27,524,53"/>
<area shape="rect" id="node4" href="btrfs_2ioctl_8c.html#ad21b72862d0f4ebfdcdf3c8d6cb2548a" title="btrfs_ioctl_snap_create\l_transid" alt="" coords="599,19,756,61"/>
<area shape="rect" id="node5" href="btrfs_2ioctl_8c.html#a274286b1dbb25f419e68e3fc31eaaaf0" title="btrfs_ioctl_snap_create" alt="" coords="815,5,972,32"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a34404ba763173c1240750bde89d592dc" title="btrfs_ioctl_snap_create_v2" alt="" coords="804,56,983,83"/>
<area shape="rect" id="node6" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1031,56,1109,83"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1157,56,1332,83"/>
<area shape="rect" id="node8" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1380,56,1477,83"/>
</map>
</div>

</div>
</div>
<a id="abed3e0ab13ab2802e96f06986131a2f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed3e0ab13ab2802e96f06986131a2f0">&#9670;&nbsp;</a></span>btrfs_subvolume_reserve_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_subvolume_reserve_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>qgroup_reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_global_rsv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_cgraph.png" border="0" usemap="#extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_cgraph" alt=""/></div>
<map name="extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_cgraph" id="extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_cgraph">
<area shape="rect" id="node2" href="qgroup_8h.html#a71ec3f08b811ab3f74b12653d26ad4a8" title="btrfs_qgroup_reserve\l_meta_prealloc" alt="" coords="253,135,397,176"/>
<area shape="rect" id="node24" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="221,558,428,585"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="261,609,388,636"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="255,845,394,872"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#af755f49433b189063477d03d75de00f9" title="btrfs_block_rsv_migrate" alt="" coords="244,896,405,922"/>
<area shape="rect" id="node41" href="qgroup_8h.html#acc5f94754fcc9c6d8ed7d040ddc83c4d" title="btrfs_qgroup_free_meta\l_prealloc" alt="" coords="245,318,404,359"/>
<area shape="rect" id="node3" href="qgroup_8h.html#aae8e4d4d33f79ca4ab6c4db32947ad61" title="__btrfs_qgroup_reserve_meta" alt="" coords="476,57,671,84"/>
<area shape="rect" id="node20" href="qgroup_8h.html#a3289fc7fe24f516b70c65be2716ef141" title="__btrfs_qgroup_free_meta" alt="" coords="487,142,660,169"/>
<area shape="rect" id="node4" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="991,81,1063,108"/>
<area shape="rect" id="node5" href="qgroup_8c.html#a19fb0d4d29407e3e159f137f46b262d6" title="qgroup_reserve" alt="" coords="751,284,861,310"/>
<area shape="rect" id="node19" href="qgroup_8c.html#adff9e44760042a00a479101ac7d3a71e" title="add_root_meta_rsv" alt="" coords="739,30,873,57"/>
<area shape="rect" id="node6" href="qgroup_8c.html#a1b51fdb3b6894fc0f9b31283e656ffb6" title="find_qgroup_rb" alt="" coords="973,334,1080,361"/>
<area shape="rect" id="node7" href="ulist_8c.html#ad5cf2908d7ac322efe2bb15db9a5f84a" title="ulist_reinit" alt="" coords="986,385,1067,412"/>
<area shape="rect" id="node10" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="989,284,1064,310"/>
<area shape="rect" id="node12" href="qgroup_8c.html#ad5d2c8c647f7a8eae8f073b3ac9c8937" title="qgroup_to_aux" alt="" coords="973,436,1080,462"/>
<area shape="rect" id="node13" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="987,486,1066,513"/>
<area shape="rect" id="node14" href="qgroup_8c.html#aca9adca70cb98df7608ad74a69f71b09" title="unode_aux_to_qgroup" alt="" coords="952,182,1101,209"/>
<area shape="rect" id="node15" href="qgroup_8c.html#ae762c40e14a95c1f8b20878d26892140" title="qgroup_check_limits" alt="" coords="956,132,1097,158"/>
<area shape="rect" id="node18" href="qgroup_8c.html#aa5412fcf70bd70125313f34bbd217989" title="qgroup_rsv_add" alt="" coords="969,233,1084,260"/>
<area shape="rect" id="node8" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1197,486,1292,513"/>
<area shape="rect" id="node9" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1209,558,1280,585"/>
<area shape="rect" id="node11" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1186,284,1303,310"/>
<area shape="rect" id="node16" href="qgroup_8c.html#ab404950224ebbf0bf25fd296ef220c9c" title="qgroup_rsv_total" alt="" coords="1185,102,1304,129"/>
<area shape="rect" id="node17" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1160,154,1329,195"/>
<area shape="rect" id="node21" href="qgroup_8c.html#aae3ff4c3efda3035625ef39a0745f327" title="sub_root_meta_rsv" alt="" coords="739,132,873,158"/>
<area shape="rect" id="node22" href="qgroup_8c.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="723,334,889,361"/>
<area shape="rect" id="node23" href="qgroup_8c.html#ab4557c176bd7fbf01e1a314a1a4de5bb" title="qgroup_rsv_release" alt="" coords="959,537,1094,564"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="491,845,656,872"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="501,896,646,922"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="736,834,876,875"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="733,950,879,977"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="744,900,868,926"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1168,958,1321,985"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="967,740,1086,766"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="945,790,1108,817"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="959,841,1094,868"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="941,892,1112,934"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1179,766,1311,807"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1173,700,1316,742"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="947,1009,1106,1036"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a0e71c60f80255f3af5be3f65a3e808eb" title="btrfs_qgroup_free_meta\l_all_pertrans" alt="" coords="494,318,653,359"/>
<area shape="rect" id="node43" href="qgroup_8h.html#ac9536aef3273522c398441c18bff099d" title="btrfs_qgroup_convert\l_reserved_meta" alt="" coords="501,214,645,255"/>
<area shape="rect" id="node45" href="qgroup_8h.html#a9c8a0675d323babd4bb7ccd3cd06d876" title="btrfs_qgroup_check\l_reserved_leak" alt="" coords="505,482,641,523"/>
<area shape="rect" id="node44" href="qgroup_8c.html#a96e24c313bd5aaedb10c64c10544c3f7" title="qgroup_convert_meta" alt="" coords="733,385,879,412"/>
<area shape="rect" id="node46" href="extent__io_8h.html#a6eaec92397aeab35f22f4b98b2969d4c" title="extent_changeset_init" alt="" coords="731,685,881,712"/>
<area shape="rect" id="node47" href="extent__io_8c.html#afa513c1391a2ddf0d62e9bcb66c8ba2b" title="clear_record_extent_bits" alt="" coords="724,609,888,636"/>
<area shape="rect" id="node49" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="767,438,845,465"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="719,546,893,573"/>
<area shape="rect" id="node48" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="963,638,1091,665"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_icgraph.png" border="0" usemap="#extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_icgraph" alt=""/></div>
<map name="extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_icgraph" id="extent-tree_8c_abed3e0ab13ab2802e96f06986131a2f0_icgraph">
<area shape="rect" id="node2" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="229,5,332,32"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="221,56,340,83"/>
<area shape="rect" id="node11" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="388,107,552,133"/>
<area shape="rect" id="node3" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="415,27,525,53"/>
<area shape="rect" id="node4" href="btrfs_2ioctl_8c.html#ad21b72862d0f4ebfdcdf3c8d6cb2548a" title="btrfs_ioctl_snap_create\l_transid" alt="" coords="600,19,757,61"/>
<area shape="rect" id="node5" href="btrfs_2ioctl_8c.html#a274286b1dbb25f419e68e3fc31eaaaf0" title="btrfs_ioctl_snap_create" alt="" coords="816,5,973,32"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a34404ba763173c1240750bde89d592dc" title="btrfs_ioctl_snap_create_v2" alt="" coords="805,56,984,83"/>
<area shape="rect" id="node6" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1032,56,1111,83"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1159,56,1333,83"/>
<area shape="rect" id="node8" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1381,56,1479,83"/>
</map>
</div>

</div>
</div>
<a id="a5d4e63c8fc9a1293dce589e186c9dcae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d4e63c8fc9a1293dce589e186c9dcae">&#9670;&nbsp;</a></span>btrfs_system_alloc_profile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_system_alloc_profile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_cgraph.png" border="0" usemap="#extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_cgraph" id="extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="185,13,301,39"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="349,5,477,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="525,13,656,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_icgraph.png" border="0" usemap="#extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_icgraph" id="extent-tree_8c_a5d4e63c8fc9a1293dce589e186c9dcae_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="185,439,392,465"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="440,716,589,743"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="651,1152,770,1179"/>
<area shape="rect" id="node48" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="221,767,356,793"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="454,312,575,339"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="463,261,566,288"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="832,347,1000,389"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="637,312,784,339"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="637,169,784,196"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="662,261,759,288"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="848,93,984,120"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1074,68,1193,95"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1090,195,1177,221"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="839,245,993,272"/>
<area shape="rect" id="node11" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="835,144,997,171"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="870,296,962,323"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="655,768,767,795"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="833,903,999,929"/>
<area shape="rect" id="node37" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="641,628,781,655"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="838,819,994,861"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="870,1020,962,1047"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="859,717,973,744"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="836,768,996,795"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1074,809,1193,836"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1286,835,1390,861"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1058,693,1209,734"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1273,363,1403,389"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1457,373,1628,400"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1467,446,1618,487"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1466,141,1619,182"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="1064,1078,1203,1119"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="1048,1013,1219,1054"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="1268,1137,1408,1178"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1460,1144,1625,1171"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1063,641,1204,668"/>
<area shape="rect" id="node32" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1269,697,1407,738"/>
<area shape="rect" id="node34" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1048,961,1219,988"/>
<area shape="rect" id="node33" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1471,647,1614,673"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1061,759,1206,785"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="833,565,999,592"/>
<area shape="rect" id="node39" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="881,667,951,693"/>
<area shape="rect" id="node41" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1066,297,1201,338"/>
<area shape="rect" id="node42" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1267,304,1409,331"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="852,1103,980,1145"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="847,1246,985,1287"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="1052,1144,1215,1171"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="1050,1253,1217,1280"/>
<area shape="rect" id="node49" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="441,767,589,793"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="643,869,778,896"/>
</map>
</div>

</div>
</div>
<a id="ae9ef139cc3fe19dda799f88d91803c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ef139cc3fe19dda799f88d91803c1d">&#9670;&nbsp;</a></span>btrfs_trans_release_chunk_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_trans_release_chunk_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_cgraph.png" border="0" usemap="#extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_cgraph" alt=""/></div>
<map name="extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_cgraph" id="extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="187,39,353,65"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="401,31,539,73"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="753,5,907,32"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="587,64,705,91"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="764,57,896,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="759,122,901,163"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="757,187,903,229"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="955,97,1071,124"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1119,90,1247,131"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1295,97,1425,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_icgraph.png" border="0" usemap="#extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_icgraph" id="extent-tree_8c_ae9ef139cc3fe19dda799f88d91803c1d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="413,104,525,130"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="187,1140,348,1166"/>
<area shape="rect" id="node22" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="591,1257,760,1284"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="825,91,981,132"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1080,258,1172,285"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="618,78,733,105"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="592,129,759,156"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="595,180,755,206"/>
<area shape="rect" id="node7" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="818,157,989,184"/>
<area shape="rect" id="node9" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1053,869,1199,896"/>
<area shape="rect" id="node11" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="396,661,543,688"/>
<area shape="rect" id="node50" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="396,1191,543,1232"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="850,360,957,386"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="843,410,964,437"/>
<area shape="rect" id="node14" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="835,461,971,488"/>
<area shape="rect" id="node15" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="808,512,999,538"/>
<area shape="rect" id="node16" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="812,562,995,589"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="841,614,965,655"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="820,679,987,720"/>
<area shape="rect" id="node19" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="833,744,973,786"/>
<area shape="rect" id="node20" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="840,810,967,837"/>
<area shape="rect" id="node21" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="830,862,977,903"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="823,2093,983,2120"/>
<area shape="rect" id="node44" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="824,2144,983,2170"/>
<area shape="rect" id="node45" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="838,2194,969,2221"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="829,2245,977,2272"/>
<area shape="rect" id="node49" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="828,2296,979,2322"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="843,978,964,1005"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="853,1029,954,1056"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="858,1080,949,1106"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1047,1156,1205,1182"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="813,1181,993,1208"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="818,1232,989,1258"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="846,1282,961,1309"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="835,1333,972,1360"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="819,1384,987,1410"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="852,1434,955,1461"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="844,1485,963,1512"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="843,1536,964,1562"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="834,1586,973,1613"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="829,1637,978,1664"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="824,1688,983,1714"/>
<area shape="rect" id="node38" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="833,1738,973,1765"/>
<area shape="rect" id="node39" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="835,1789,971,1816"/>
<area shape="rect" id="node40" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="823,1840,984,1866"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="844,1890,963,1917"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="839,1941,967,1968"/>
<area shape="rect" id="node47" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="834,1992,973,2018"/>
<area shape="rect" id="node48" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="842,2042,965,2069"/>
</map>
</div>

</div>
</div>
<a id="a298a9e3c3aa5dd4e96bd9d9a2330cc31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a298a9e3c3aa5dd4e96bd9d9a2330cc31">&#9670;&nbsp;</a></span>btrfs_trim_free_extents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_trim_free_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__device.html">btrfs_device</a> *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>minlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>trimmed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_cgraph.png" border="0" usemap="#extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_cgraph" alt=""/></div>
<map name="extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_cgraph" id="extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_cgraph">
<area shape="rect" id="node2" href="volumes_8c.html#a004845fb889f20261d86e3f05d1ac28d" title="find_free_dev_extent\l_start" alt="" coords="210,1145,353,1187"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="209,1787,353,1814"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="214,1871,349,1898"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="446,1114,523,1141"/>
<area shape="rect" id="node8" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="427,1013,542,1039"/>
<area shape="rect" id="node9" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="844,914,967,941"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1274,306,1403,333"/>
<area shape="rect" id="node33" href="ctree_8c.html#ad91b96ba60ae7f985cf821fcaf931bfa" title="btrfs_previous_item" alt="" coords="417,1266,553,1293"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="828,1639,983,1666"/>
<area shape="rect" id="node37" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="431,1063,539,1090"/>
<area shape="rect" id="node39" href="volumes_8c.html#a55427f444353101339ffdb323965d5cf" title="contains_pending_extent" alt="" coords="401,1405,568,1431"/>
<area shape="rect" id="node40" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="851,53,960,79"/>
<area shape="rect" id="node4" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="665,1139,731,1166"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="657,987,739,1014"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="646,1038,750,1065"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="653,1089,743,1115"/>
<area shape="rect" id="node10" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1057,1031,1179,1058"/>
<area shape="rect" id="node11" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1269,610,1409,637"/>
<area shape="rect" id="node12" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1283,762,1395,789"/>
<area shape="rect" id="node13" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1031,661,1205,687"/>
<area shape="rect" id="node14" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1261,711,1416,738"/>
<area shape="rect" id="node15" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1489,509,1615,535"/>
<area shape="rect" id="node16" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1047,813,1189,839"/>
<area shape="rect" id="node17" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1285,1070,1393,1097"/>
<area shape="rect" id="node18" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1274,1146,1403,1173"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1481,230,1623,257"/>
<area shape="rect" id="node21" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1472,1411,1632,1438"/>
<area shape="rect" id="node22" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1059,1133,1177,1159"/>
<area shape="rect" id="node23" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1253,1310,1424,1337"/>
<area shape="rect" id="node24" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1073,863,1163,890"/>
<area shape="rect" id="node25" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1036,1234,1200,1261"/>
<area shape="rect" id="node26" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1077,154,1159,181"/>
<area shape="rect" id="node27" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1041,407,1195,434"/>
<area shape="rect" id="node28" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1035,914,1201,941"/>
<area shape="rect" id="node29" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1048,965,1188,1007"/>
<area shape="rect" id="node30" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1265,1386,1412,1413"/>
<area shape="rect" id="node31" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1081,1437,1155,1463"/>
<area shape="rect" id="node32" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1285,1589,1393,1615"/>
<area shape="rect" id="node34" href="ctree_8c.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="644,1253,752,1279"/>
<area shape="rect" id="node36" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1041,1690,1195,1717"/>
<area shape="rect" id="node38" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="632,509,764,535"/>
<area shape="rect" id="node42" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="639,1791,757,1818"/>
<area shape="rect" id="node44" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="409,1839,560,1880"/>
<area shape="rect" id="node48" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="409,1737,560,1763"/>
<area shape="rect" id="node43" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="837,1791,973,1818"/>
<area shape="rect" id="node45" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="619,1959,777,1986"/>
<area shape="rect" id="node46" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="616,1842,780,1869"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="627,1893,769,1935"/>
<area shape="rect" id="node50" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="430,1905,539,1931"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_icgraph.png" border="0" usemap="#extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_icgraph" alt=""/></div>
<map name="extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_icgraph" id="extent-tree_8c_a298a9e3c3aa5dd4e96bd9d9a2330cc31_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="209,5,304,32"/>
<area shape="rect" id="node3" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="352,5,467,32"/>
<area shape="rect" id="node4" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="515,5,593,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="641,5,816,32"/>
<area shape="rect" id="node6" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="864,5,961,32"/>
</map>
</div>

</div>
</div>
<a id="a16ce844c7f9821079d66aaad5fdd6d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ce844c7f9821079d66aaad5fdd6d46">&#9670;&nbsp;</a></span>btrfs_trim_fs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_trim_fs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fstrim_range *&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_cgraph.png" border="0" usemap="#extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_cgraph" alt=""/></div>
<map name="extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_cgraph" id="extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="419,30,542,72"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="183,132,313,173"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="625,163,775,190"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="396,644,565,671"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="181,400,315,427"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4" title="wait_block_group_cache_done" alt="" coords="148,670,348,696"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="403,998,558,1024"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ac4d340e1c5d27e966cbeef647de953c7" title="next_block_group" alt="" coords="186,80,310,107"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="403,1179,559,1206"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="619,72,781,113"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="844,79,995,106"/>
<area shape="rect" id="node9" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="427,299,534,326"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="425,451,536,478"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="623,315,777,342"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="631,838,769,864"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="401,543,560,570"/>
<area shape="rect" id="node28" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="418,248,543,275"/>
<area shape="rect" id="node11" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="627,366,773,392"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="627,467,773,494"/>
<area shape="rect" id="node12" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="862,428,977,455"/>
<area shape="rect" id="node13" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="865,504,974,531"/>
<area shape="rect" id="node15" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="858,678,981,704"/>
<area shape="rect" id="node17" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="859,315,980,342"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="835,846,1004,872"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1052,896,1183,923"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1058,820,1177,847"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1054,1048,1181,1075"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="615,619,785,646"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="613,736,787,763"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="849,729,990,770"/>
<area shape="rect" id="node27" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="679,568,721,595"/>
<area shape="rect" id="node29" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="631,214,769,240"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="411,695,550,722"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="625,932,775,973"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="645,1124,755,1151"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="651,998,749,1024"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="625,1222,775,1264"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="873,1099,966,1126"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="866,947,973,974"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="857,998,981,1024"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="874,1048,965,1075"/>
<area shape="rect" id="node41" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="840,1251,999,1278"/>
<area shape="rect" id="node42" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="837,1302,1001,1328"/>
<area shape="rect" id="node43" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="860,1352,979,1379"/>
<area shape="rect" id="node46" href="volumes_8c.html#a004845fb889f20261d86e3f05d1ac28d" title="find_free_dev_extent\l_start" alt="" coords="629,670,771,712"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="628,1288,772,1315"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="633,1339,767,1366"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="881,627,958,654"/>
<area shape="rect" id="node48" href="ctree_8c.html#ad91b96ba60ae7f985cf821fcaf931bfa" title="btrfs_previous_item" alt="" coords="851,576,987,603"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_icgraph.png" border="0" usemap="#extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_icgraph" alt=""/></div>
<map name="extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_icgraph" id="extent-tree_8c_a16ce844c7f9821079d66aaad5fdd6d46_icgraph">
<area shape="rect" id="node2" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="148,5,263,32"/>
<area shape="rect" id="node3" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="311,5,389,32"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="437,5,612,32"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="660,5,757,32"/>
</map>
</div>

</div>
</div>
<a id="a0168e2588b90442367ccc0a720842a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0168e2588b90442367ccc0a720842a31">&#9670;&nbsp;</a></span>btrfs_wait_block_group_reservations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_wait_block_group_reservations </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>bg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0168e2588b90442367ccc0a720842a31_icgraph.png" border="0" usemap="#extent-tree_8c_a0168e2588b90442367ccc0a720842a31_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0168e2588b90442367ccc0a720842a31_icgraph" id="extent-tree_8c_a0168e2588b90442367ccc0a720842a31_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="209,498,416,524"/>
<area shape="rect" id="node23" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1109,918,1248,960"/>
<area shape="rect" id="node34" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1093,1010,1264,1036"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="487,556,609,583"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="497,236,599,263"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="473,723,623,750"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="464,490,632,532"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="680,556,827,583"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="680,110,827,136"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="705,236,802,263"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="892,186,1028,212"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1119,352,1238,379"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1135,34,1222,60"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="883,34,1037,60"/>
<area shape="rect" id="node12" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="879,84,1041,111"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1132,403,1225,430"/>
<area shape="rect" id="node13" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1545,926,1641,952"/>
<area shape="rect" id="node14" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1745,926,1893,952"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="914,236,1006,263"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="697,799,809,826"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="877,942,1043,968"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="683,666,823,692"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="882,876,1038,917"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="914,723,1006,750"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="903,774,1017,800"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="880,824,1040,851"/>
<area shape="rect" id="node24" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1312,672,1455,699"/>
<area shape="rect" id="node25" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1529,817,1658,858"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1762,672,1877,699"/>
<area shape="rect" id="node30" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1526,723,1661,750"/>
<area shape="rect" id="node26" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1955,850,2103,876"/>
<area shape="rect" id="node27" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2151,723,2220,750"/>
<area shape="rect" id="node29" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1979,672,2079,699"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1759,824,1880,851"/>
<area shape="rect" id="node33" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1971,774,2086,800"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1989,951,2068,978"/>
<area shape="rect" id="node35" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1326,1010,1441,1036"/>
<area shape="rect" id="node36" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1514,1094,1673,1120"/>
<area shape="rect" id="node38" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1503,1028,1684,1069"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1534,976,1653,1003"/>
<area shape="rect" id="node37" href="dev-replace_8h.html#aee8b85317e3ad1d404bc9fb6ed0f038b" title="btrfs_dev_replace_by\l_ioctl" alt="" coords="1746,1086,1893,1128"/>
<area shape="rect" id="node39" href="dev-replace_8c.html#a283213ceb4a9175db2f0d86b1632ec3b" title="btrfs_dev_replace_kthread" alt="" coords="1732,1035,1907,1062"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="877,571,1043,598"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="688,388,819,415"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="686,490,821,532"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="875,287,1045,314"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="885,338,1035,380"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="883,404,1037,445"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="889,470,1031,496"/>
</map>
</div>

</div>
</div>
<a id="afa63d42bb00d618600620e59657d1ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa63d42bb00d618600620e59657d1ccd">&#9670;&nbsp;</a></span>btrfs_wait_for_snapshot_creation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_wait_for_snapshot_creation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_cgraph.png" border="0" usemap="#extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_cgraph" alt=""/></div>
<map name="extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_cgraph" id="extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab66e7a4e1b38ac03c24f54c01304510b" title="btrfs_start_write_no\l_snapshotting" alt="" coords="215,5,352,47"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad960c659e6062aeeeb929487f8299b9c" title="btrfs_end_write_no\l_snapshotting" alt="" coords="400,5,532,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_icgraph.png" border="0" usemap="#extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_icgraph" alt=""/></div>
<map name="extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_icgraph" id="extent-tree_8c_afa63d42bb00d618600620e59657d1ccd_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="215,13,312,39"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="360,13,452,39"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="500,13,675,39"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="723,13,820,39"/>
</map>
</div>

</div>
</div>
<a id="aed66043c7227815a391ec5c94f0a130c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed66043c7227815a391ec5c94f0a130c">&#9670;&nbsp;</a></span>btrfs_wait_nocow_writers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_wait_nocow_writers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>bg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aed66043c7227815a391ec5c94f0a130c_icgraph.png" border="0" usemap="#extent-tree_8c_aed66043c7227815a391ec5c94f0a130c_icgraph" alt=""/></div>
<map name="extent-tree_8c_aed66043c7227815a391ec5c94f0a130c_icgraph" id="extent-tree_8c_aed66043c7227815a391ec5c94f0a130c_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="224,498,431,524"/>
<area shape="rect" id="node23" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1124,918,1263,960"/>
<area shape="rect" id="node34" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1108,1010,1279,1036"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="502,556,623,583"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="511,236,614,263"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="488,723,637,750"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="479,490,647,532"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="695,556,841,583"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="695,110,841,136"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="719,236,817,263"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="907,186,1043,212"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1134,352,1253,379"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1150,34,1237,60"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="897,34,1052,60"/>
<area shape="rect" id="node12" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="894,84,1055,111"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1147,403,1240,430"/>
<area shape="rect" id="node13" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1560,926,1656,952"/>
<area shape="rect" id="node14" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1760,926,1908,952"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="929,236,1021,263"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="712,799,824,826"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="891,942,1058,968"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="698,666,838,692"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="897,876,1053,917"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="929,723,1021,750"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="917,774,1032,800"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="895,824,1055,851"/>
<area shape="rect" id="node24" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1327,672,1469,699"/>
<area shape="rect" id="node25" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1543,817,1673,858"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1777,672,1891,699"/>
<area shape="rect" id="node30" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1541,723,1675,750"/>
<area shape="rect" id="node26" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1969,850,2117,876"/>
<area shape="rect" id="node27" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2165,723,2235,750"/>
<area shape="rect" id="node29" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1993,672,2093,699"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1773,824,1895,851"/>
<area shape="rect" id="node33" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1986,774,2101,800"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="2004,951,2083,978"/>
<area shape="rect" id="node35" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1341,1010,1455,1036"/>
<area shape="rect" id="node36" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1529,1094,1687,1120"/>
<area shape="rect" id="node38" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1517,1028,1699,1069"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1549,976,1667,1003"/>
<area shape="rect" id="node37" href="dev-replace_8h.html#aee8b85317e3ad1d404bc9fb6ed0f038b" title="btrfs_dev_replace_by\l_ioctl" alt="" coords="1761,1086,1907,1128"/>
<area shape="rect" id="node39" href="dev-replace_8c.html#a283213ceb4a9175db2f0d86b1632ec3b" title="btrfs_dev_replace_kthread" alt="" coords="1747,1035,1921,1062"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="891,571,1058,598"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="703,388,833,415"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="701,490,835,532"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="889,287,1060,314"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="899,338,1050,380"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="898,404,1051,445"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="903,470,1046,496"/>
</map>
</div>

</div>
</div>
<a id="a2aa3a9e381f4b137b7b746750446fdc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa3a9e381f4b137b7b746750446fdc8">&#9670;&nbsp;</a></span>btrfs_write_dirty_block_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_write_dirty_block_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_cgraph.png" border="0" usemap="#extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_cgraph" alt=""/></div>
<map name="extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_cgraph" id="extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1564,1131,1679,1158"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#aa8ce521464eebedfc2a4f39f1a6471c0" title="btrfs_wait_cache_io" alt="" coords="674,583,813,610"/>
<area shape="rect" id="node21" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1567,263,1676,290"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="209,1511,359,1538"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="219,887,349,914"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="207,1562,361,1588"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a4882ca09e6b6af79cae4f84cf77c597f" title="btrfs_write_out_cache" alt="" coords="425,355,576,382"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a75ce6a61ceafda77cdb7aca1b86d2280" title="write_one_cache_group" alt="" coords="1324,10,1483,36"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a5044f52e85ef54f768760b146ff815ef" title="__btrfs_wait_cache_io" alt="" coords="901,622,1053,648"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="1369,1191,1438,1218"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a38ff6ed161b1d598d4a67b7e348532ab" title="flush_dirty_cache" alt="" coords="1128,684,1252,711"/>
<area shape="rect" id="node7" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1783,820,1861,847"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a84d7927bc7f5ffbc50cd7262b153c7aa" title="update_cache_item" alt="" coords="1336,451,1471,478"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="1149,532,1231,559"/>
<area shape="rect" id="node15" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="1124,887,1256,914"/>
<area shape="rect" id="node22" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1169,380,1211,407"/>
<area shape="rect" id="node9" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1560,111,1683,138"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1757,212,1887,239"/>
<area shape="rect" id="node13" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1543,719,1699,746"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1943,124,2069,151"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1935,187,2077,214"/>
<area shape="rect" id="node16" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="1553,989,1689,1030"/>
<area shape="rect" id="node17" href="ctree_8h.html#af48b91220eb6952623df9c867081a91b" title="btrfs_update_root_times" alt="" coords="1322,887,1485,914"/>
<area shape="rect" id="node18" href="delayed-inode_8c.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="1548,1054,1695,1096"/>
<area shape="rect" id="node19" href="transaction_8h.html#ad9769ba94f246562dd5eb3fc0a2d9512" title="btrfs_set_inode_last\l_trans" alt="" coords="1552,872,1691,913"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a612e16f16a54684bee0ffb2259083460" title="btrfs_update_inode_item" alt="" coords="1321,786,1485,812"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="659,355,828,382"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#a0235f9844515fab31ecaeb55b73204ff" title="create_free_space_inode" alt="" coords="1107,1039,1273,1066"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="417,677,585,718"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="435,829,566,870"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1115,1297,1265,1338"/>
<area shape="rect" id="node41" href="ctree_8h.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="439,1238,563,1280"/>
<area shape="rect" id="node42" href="extent__io_8h.html#a5c2bed3f6d2695df5a32f7926d63f211" title="extent_changeset_free" alt="" coords="423,1355,578,1382"/>
<area shape="rect" id="node26" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="951,330,1002,356"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="904,213,1049,254"/>
<area shape="rect" id="node29" href="inode-map_8c.html#a41bab72612acf61c1a9a2b6a52fa861f" title="btrfs_find_free_objectid" alt="" coords="1325,1090,1482,1116"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a9f47f6aa2c59db2bf33f5dfbe3f19fd9" title="__create_free_space\l_inode" alt="" coords="1332,720,1475,761"/>
<area shape="rect" id="node32" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="640,684,847,711"/>
<area shape="rect" id="node34" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="640,532,847,559"/>
<area shape="rect" id="node33" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="901,698,1052,724"/>
<area shape="rect" id="node36" href="btrfs__inode_8h.html#aab2a70322d54998023e6d461d1e69276" title="btrfs_i_size_write" alt="" coords="681,836,805,863"/>
<area shape="rect" id="node37" href="ctree_8h.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1333,654,1473,696"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1325,1293,1481,1334"/>
<area shape="rect" id="node40" href="qgroup_8c.html#abb0bbb66578b8196c713bf7ad50846e9" title="btrfs_qgroup_reserve_data" alt="" coords="1533,1410,1709,1436"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="417,1562,585,1588"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="429,1613,572,1654"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="409,1511,592,1538"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a158f316f41724e25bb56338dec6028e4" title="__btrfs_write_out_cache" alt="" coords="895,532,1059,559"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="1555,10,1688,36"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_icgraph.png" border="0" usemap="#extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_icgraph" id="extent-tree_8c_a2aa3a9e381f4b137b7b746750446fdc8_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="207,275,413,301"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="467,931,623,957"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="935,275,1056,301"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="494,224,597,251"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="471,88,620,115"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="461,326,629,367"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1151,923,1297,949"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="691,173,838,200"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="716,224,813,251"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="936,123,1055,149"/>
<area shape="rect" id="node8" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="915,173,1076,200"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="709,63,821,89"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="912,5,1079,32"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="695,113,835,140"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="917,57,1073,98"/>
<area shape="rect" id="node14" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1139,115,1309,141"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="699,392,830,419"/>
<area shape="rect" id="node18" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="697,326,832,367"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="677,1395,852,1421"/>
<area shape="rect" id="node22" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="680,931,849,957"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="910,1808,1081,1835"/>
<area shape="rect" id="node23" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="942,1133,1049,1160"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="935,1083,1056,1109"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="945,813,1046,840"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="950,1032,1041,1059"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1145,1209,1303,1236"/>
<area shape="rect" id="node28" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="905,1235,1085,1261"/>
<area shape="rect" id="node29" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="910,1285,1081,1312"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="938,1336,1053,1363"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="927,1387,1063,1413"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="927,1437,1064,1464"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="911,1488,1079,1515"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="900,1539,1091,1565"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="904,1589,1087,1616"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="944,1640,1047,1667"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="935,1691,1056,1717"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="933,1742,1057,1783"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="926,376,1065,403"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="912,427,1079,469"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="921,493,1070,520"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="916,544,1075,571"/>
<area shape="rect" id="node43" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="925,595,1065,637"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="925,661,1065,688"/>
<area shape="rect" id="node45" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="932,763,1059,789"/>
<area shape="rect" id="node46" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1151,712,1297,739"/>
<area shape="rect" id="node47" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="927,325,1063,352"/>
<area shape="rect" id="node48" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="922,865,1069,906"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="936,931,1055,957"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="915,981,1076,1008"/>
</map>
</div>

</div>
</div>
<a id="a584451b4263814bb7f9e15b7d8e6f85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584451b4263814bb7f9e15b7d8e6f85c">&#9670;&nbsp;</a></span>btrfs_writeback_inodes_sb_nr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_writeback_inodes_sb_nr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_cgraph.png" border="0" usemap="#extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_cgraph" id="extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_cgraph">
<area shape="rect" id="node2" href="fs-writeback_8c.html#a5f14271630e6ec54ed1bb0d6d47eebb5" title="writeback_inodes_sb_nr" alt="" coords="209,308,372,335"/>
<area shape="rect" id="node13" href="ctree_8h.html#a33577d99eaa44bca8e96beccd1197c13" title="btrfs_start_delalloc\l_roots" alt="" coords="225,1094,357,1135"/>
<area shape="rect" id="node44" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="226,1159,355,1201"/>
<area shape="rect" id="node3" href="fs-writeback_8c.html#a887e7bd03820702e5bfe81228027bece" title="__writeback_inodes\l_sb_nr" alt="" coords="431,166,568,207"/>
<area shape="rect" id="node12" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="430,308,569,335"/>
<area shape="rect" id="node4" href="fs-writeback_8c.html#a99cd491fe2e02d08e80587039b69edd1" title="bdi_split_work_to_wbs" alt="" coords="897,5,1051,32"/>
<area shape="rect" id="node6" href="fs-writeback_8c.html#a84769132b734e8a29b0c09cdacfa676d" title="wb_wait_for_completion" alt="" coords="645,173,807,200"/>
<area shape="rect" id="node5" href="fs-writeback_8c.html#a369a7efc96a1b52c54cf24493d6a1671" title="wb_queue_work" alt="" coords="1123,89,1239,116"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="904,225,1044,266"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="885,291,1063,317"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="893,56,1055,83"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="907,107,1041,149"/>
<area shape="rect" id="node11" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="953,341,995,368"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a7799bb617dfee4586b621a3d8580f5a6" title="btrfs_grab_fs_root" alt="" coords="436,1167,563,1193"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#affd890d71c0dcc87e10f1848efa49567" title="__start_delalloc_inodes" alt="" coords="420,435,579,461"/>
<area shape="rect" id="node22" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="439,1116,559,1143"/>
<area shape="rect" id="node16" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="701,333,751,360"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ae28661572d1271ef39a2226eaf160d76" title="btrfs_alloc_delalloc_work" alt="" coords="642,384,810,411"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#af9e99f5f2da448db8a3b1a812e8271ff" title="btrfs_add_delayed_iput" alt="" coords="648,435,804,461"/>
<area shape="rect" id="node20" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="911,628,1037,655"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#acfb0955849c6d060337bd96b54f69f0e" title="btrfs_wait_and_free\l_delalloc_work" alt="" coords="658,486,794,527"/>
<area shape="rect" id="node18" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="921,577,1027,604"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="648,1040,804,1067"/>
<area shape="rect" id="node24" href="disk-io_8h.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="653,1091,799,1117"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a12d844363b833ecbd5b357019b5e8de7" title="btrfs_read_buffer" alt="" coords="666,1141,786,1168"/>
<area shape="rect" id="node26" href="disk-io_8h.html#afefd1a76d3df3a8f54251a3aa9ef057b" title="btrfs_csum_data" alt="" coords="667,1192,785,1219"/>
<area shape="rect" id="node27" href="disk-io_8h.html#af1c87f201f23dab002e655d9c571af52" title="btrfs_csum_final" alt="" coords="667,1243,785,1269"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a339e07ca1ff6ea55fb75089693ada0cb" title="btrfs_bio_wq_end_io" alt="" coords="655,1293,797,1320"/>
<area shape="rect" id="node29" href="disk-io_8h.html#ad2b8d2ea83bb57d87c27eb68aac21398" title="btrfs_wq_submit_bio" alt="" coords="655,603,797,629"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a09a02e471ea3bf28104b1ef64c651656" title="btrfs_write_tree_block" alt="" coords="651,1344,801,1371"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a8840cd89fd103472ec6328cb17829cdf" title="btrfs_wait_tree_block\l_writeback" alt="" coords="653,1395,799,1437"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="649,1461,803,1488"/>
<area shape="rect" id="node33" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="661,1512,791,1539"/>
<area shape="rect" id="node34" href="disk-io_8h.html#ad3efbcea93e2ef07941076c7d6fb0bcc" title="btrfs_cleanup_dirty_bgs" alt="" coords="646,1563,806,1589"/>
<area shape="rect" id="node35" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="627,1613,825,1640"/>
<area shape="rect" id="node36" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="666,1664,786,1691"/>
<area shape="rect" id="node37" href="disk-io_8h.html#a1b33a503c3b85a7b25d985024f4443b2" title="btree_lock_page_hook" alt="" coords="650,653,802,680"/>
<area shape="rect" id="node38" href="disk-io_8h.html#a4c0af808367ed0e0ae19fb598f9c535e" title="btree_get_extent" alt="" coords="667,704,785,731"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a538acc468c4602e97cbefe73c83a9914" title="btrfs_get_num_tolerated\l_disk_barrier_failures" alt="" coords="645,755,807,797"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a3f11c9c9297fd301138f47a22b66c3c7" title="btrfs_end_io_wq_init" alt="" coords="655,821,797,848"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a76e4e18949fca99b690c2ebc5bb2d3ce" title="btrfs_end_io_wq_exit" alt="" coords="653,872,799,899"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ab18a50e53ba1d8bb2bc7700a1ef131f3" title="btrfs_init_lockdep" alt="" coords="664,923,788,949"/>
<area shape="rect" id="node43" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="643,974,809,1015"/>
<area shape="rect" id="node45" href="ordered-data_8c.html#a9cd5807e6f35c9a6e8543d2140143f40" title="btrfs_wait_ordered\l_extents" alt="" coords="661,1715,791,1757"/>
<area shape="rect" id="node46" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="927,1723,1021,1749"/>
<area shape="rect" id="node47" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="947,1773,1001,1800"/>
<area shape="rect" id="node48" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="933,1824,1015,1851"/>
<area shape="rect" id="node49" href="ordered-data_8c.html#aa84a7115515d0edfbda72681a5704aa3" title="btrfs_run_ordered_extent_work" alt="" coords="873,1621,1075,1648"/>
<area shape="rect" id="node50" href="ordered-data_8c.html#a08fa2942c9d8616cd5327d7f99d883f3" title="btrfs_put_ordered_extent" alt="" coords="891,1672,1057,1699"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_icgraph.png" border="0" usemap="#extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_icgraph" id="extent-tree_8c_a584451b4263814bb7f9e15b7d8e6f85c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="209,751,317,777"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="365,751,457,777"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="521,486,660,527"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="505,775,676,817"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="724,381,923,408"/>
<area shape="rect" id="node6" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1010,325,1097,352"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1202,5,1309,32"/>
<area shape="rect" id="node10" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1201,325,1310,352"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1635,56,1755,83"/>
<area shape="rect" id="node9" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1833,56,1944,83"/>
<area shape="rect" id="node11" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1375,529,1556,570"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1397,209,1533,250"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1403,275,1527,301"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1405,325,1525,352"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1389,595,1541,621"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1398,427,1533,453"/>
<area shape="rect" id="node25" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1415,477,1515,504"/>
<area shape="rect" id="node27" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1387,107,1543,133"/>
<area shape="rect" id="node12" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1604,536,1785,563"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1621,157,1768,184"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1607,216,1782,243"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1637,325,1753,352"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1613,645,1777,672"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1613,595,1777,621"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1625,376,1765,403"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1617,427,1773,453"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1637,477,1752,504"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="753,1222,893,1263"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="971,1285,1136,1312"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1186,936,1325,963"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1184,1285,1327,1312"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="1184,1365,1327,1392"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="1202,1475,1309,1501"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1389,848,1542,875"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1396,899,1535,941"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1391,965,1540,992"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1381,1017,1549,1058"/>
<area shape="rect" id="node36" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1391,1083,1540,1109"/>
<area shape="rect" id="node37" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1417,696,1513,723"/>
<area shape="rect" id="node38" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1402,1133,1529,1160"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1406,747,1525,773"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1380,797,1551,824"/>
<area shape="rect" id="node39" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1622,1184,1767,1211"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1405,1235,1526,1261"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1404,1285,1527,1312"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1381,1336,1549,1363"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1397,1387,1533,1413"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1391,1438,1540,1479"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1391,1504,1540,1531"/>
</map>
</div>

</div>
</div>
<a id="a9646e1c701dfae4177534747d32c7d6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9646e1c701dfae4177534747d32c7d6f">&#9670;&nbsp;</a></span>cache_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cache_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>load_cache_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_cgraph.png" border="0" usemap="#extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_cgraph" id="extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_cgraph">
<area shape="rect" id="node2" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="214,525,321,552"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="212,576,323,603"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="405,664,558,691"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="412,588,551,615"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="188,797,347,824"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="192,848,343,875"/>
<area shape="rect" id="node49" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="205,1117,330,1144"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="408,537,555,564"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="408,233,555,260"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="406,487,557,513"/>
<area shape="rect" id="node5" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="644,613,759,640"/>
<area shape="rect" id="node6" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="621,563,781,589"/>
<area shape="rect" id="node9" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="616,309,787,336"/>
<area shape="rect" id="node11" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="618,360,785,387"/>
<area shape="rect" id="node12" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="647,411,756,437"/>
<area shape="rect" id="node7" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="855,739,977,765"/>
<area shape="rect" id="node8" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1048,739,1177,765"/>
<area shape="rect" id="node10" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="839,208,993,235"/>
<area shape="rect" id="node14" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="644,208,759,235"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="650,157,753,184"/>
<area shape="rect" id="node16" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="647,5,755,32"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="629,259,774,285"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="843,309,989,336"/>
<area shape="rect" id="node20" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="641,664,762,691"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="617,461,786,488"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="851,436,981,463"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="857,487,975,513"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="853,537,979,564"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="859,977,973,1004"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="844,588,988,615"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="397,823,566,849"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="895,852,937,879"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="395,1279,568,1305"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="631,985,772,1026"/>
<area shape="rect" id="node31" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="676,715,727,741"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="629,817,774,858"/>
<area shape="rect" id="node34" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="877,1177,955,1204"/>
<area shape="rect" id="node36" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="881,1279,951,1305"/>
<area shape="rect" id="node37" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="654,1405,749,1432"/>
<area shape="rect" id="node38" href="smb2pdu_8c.html#a1a8b6ea0b2622020f202d162d98e0ef2" title="num_entries" alt="" coords="655,1101,748,1128"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#a99080d8a1d00390eea46773ead320b8e" title="io_ctl_init" alt="" coords="663,1253,740,1280"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a1a1dc15c9cbe5e34c7bbf8ed101ccf46" title="readahead_cache" alt="" coords="639,1709,763,1736"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#aee15176f62c9a71d4de2ba052a50ac19" title="io_ctl_prepare_pages" alt="" coords="629,1203,774,1229"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#abfe2ae60d91acd1423b15b731f7faa57" title="io_ctl_check_crc" alt="" coords="856,1557,976,1584"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#ab04efc5914b94d4a23464c9704a3435f" title="io_ctl_unmap_page" alt="" coords="1045,1557,1180,1584"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a5c7bf522a1446d61d7697adfcb5c0ffc" title="io_ctl_check_generation" alt="" coords="835,1659,997,1685"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#afc79debd103a7e97fe862d155b3ef69b" title="io_ctl_read_entry" alt="" coords="641,1507,762,1533"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#afd68e242e26d3fbc55d5056ca266ace5" title="io_ctl_read_bitmap" alt="" coords="636,1608,767,1635"/>
<area shape="rect" id="node50" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="412,1329,551,1356"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_icgraph.png" border="0" usemap="#extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_icgraph" id="extent-tree_8c_a9646e1c701dfae4177534747d32c7d6f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="188,101,327,127"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1490,290,1605,317"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="597,384,734,425"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="375,271,544,298"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="210,394,305,421"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="392,71,527,98"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="394,123,525,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="392,5,527,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="592,97,739,123"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="594,46,737,73"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="819,71,961,98"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="602,253,729,295"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="787,326,993,353"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="826,406,954,433"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1065,46,1186,73"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1074,569,1177,595"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1051,334,1200,361"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1041,123,1209,164"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1263,21,1410,47"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1263,543,1410,570"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1288,594,1385,621"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1281,290,1393,317"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1464,366,1631,393"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1267,341,1407,367"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1679,290,1820,317"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2077,305,2267,331"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1894,355,2003,382"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1868,254,2029,281"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1879,188,2018,229"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1874,423,2023,450"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2315,305,2449,331"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2104,355,2240,382"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2317,381,2447,407"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="2093,254,2251,281"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="2110,188,2234,229"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="2110,123,2234,164"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="2317,101,2447,127"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1269,123,1404,164"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1063,467,1188,494"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1257,493,1416,519"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1490,493,1605,519"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1482,637,1613,679"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="822,486,958,513"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1077,645,1174,671"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1286,695,1387,722"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1257,645,1416,671"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="593,319,738,360"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="402,438,517,465"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="626,450,705,477"/>
</map>
</div>

</div>
</div>
<a id="a98d1eff4281362f0fd82cfe3d875f36d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d1eff4281362f0fd82cfe3d875f36d">&#9670;&nbsp;</a></span>cache_save_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cache_save_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_cgraph.png" border="0" usemap="#extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_cgraph" alt=""/></div>
<map name="extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_cgraph" id="extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="419,309,588,336"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1101,499,1231,525"/>
<area shape="rect" id="node20" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1145,119,1187,145"/>
<area shape="rect" id="node22" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1127,1021,1205,1048"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a0235f9844515fab31ecaeb55b73204ff" title="create_free_space_inode" alt="" coords="185,424,351,451"/>
<area shape="rect" id="node26" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="437,997,569,1024"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="184,577,352,618"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="203,805,333,846"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="428,1414,579,1455"/>
<area shape="rect" id="node48" href="ctree_8h.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="206,1291,330,1333"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a5c2bed3f6d2695df5a32f7926d63f211" title="extent_changeset_free" alt="" coords="191,1556,345,1583"/>
<area shape="rect" id="node3" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="717,93,768,120"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="670,293,815,334"/>
<area shape="rect" id="node4" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="937,93,995,120"/>
<area shape="rect" id="node5" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1281,56,1419,83"/>
<area shape="rect" id="node7" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="905,397,1027,424"/>
<area shape="rect" id="node16" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="893,296,1039,323"/>
<area shape="rect" id="node17" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="889,195,1043,221"/>
<area shape="rect" id="node18" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="928,245,1004,272"/>
<area shape="rect" id="node19" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1117,296,1215,323"/>
<area shape="rect" id="node8" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1287,499,1413,525"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1279,397,1421,424"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1469,549,1624,576"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1473,499,1620,525"/>
<area shape="rect" id="node13" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1485,381,1608,408"/>
<area shape="rect" id="node14" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1469,433,1624,474"/>
<area shape="rect" id="node15" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1469,331,1624,357"/>
<area shape="rect" id="node21" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1313,119,1387,145"/>
<area shape="rect" id="node24" href="inode-map_8c.html#a41bab72612acf61c1a9a2b6a52fa861f" title="btrfs_find_free_objectid" alt="" coords="425,365,582,392"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a9f47f6aa2c59db2bf33f5dfbe3f19fd9" title="__create_free_space\l_inode" alt="" coords="432,417,575,458"/>
<area shape="rect" id="node27" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="898,1158,1034,1199"/>
<area shape="rect" id="node28" href="ctree_8h.html#af48b91220eb6952623df9c867081a91b" title="btrfs_update_root_times" alt="" coords="661,1123,824,1149"/>
<area shape="rect" id="node29" href="delayed-inode_8c.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="669,1057,816,1098"/>
<area shape="rect" id="node30" href="transaction_8h.html#ad9769ba94f246562dd5eb3fc0a2d9512" title="btrfs_set_inode_last\l_trans" alt="" coords="897,955,1035,997"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a612e16f16a54684bee0ffb2259083460" title="btrfs_update_inode_item" alt="" coords="661,904,825,931"/>
<area shape="rect" id="node32" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="909,853,1023,880"/>
<area shape="rect" id="node33" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="911,701,1021,728"/>
<area shape="rect" id="node35" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="400,584,607,611"/>
<area shape="rect" id="node37" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="400,533,607,560"/>
<area shape="rect" id="node36" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="667,617,818,644"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#aa8ce521464eebedfc2a4f39f1a6471c0" title="btrfs_wait_cache_io" alt="" coords="434,787,573,813"/>
<area shape="rect" id="node40" href="btrfs__inode_8h.html#aab2a70322d54998023e6d461d1e69276" title="btrfs_i_size_write" alt="" coords="441,837,565,864"/>
<area shape="rect" id="node41" href="ctree_8h.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="673,737,813,778"/>
<area shape="rect" id="node43" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="931,1465,1001,1492"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="665,1275,821,1317"/>
<area shape="rect" id="node45" href="qgroup_8c.html#abb0bbb66578b8196c713bf7ad50846e9" title="btrfs_qgroup_reserve_data" alt="" coords="655,1575,831,1601"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a6298454047d06ed58559cb27578ab8b2" title="btrfs_free_reserved\l_data_space_noquota" alt="" coords="668,1458,817,1499"/>
<area shape="rect" id="node46" href="extent__io_8h.html#a025f025faf056fda36fdfce0f9b02a45" title="extent_changeset_release" alt="" coords="879,1600,1053,1627"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="673,1341,812,1382"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_icgraph.png" border="0" usemap="#extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_icgraph" alt=""/></div>
<map name="extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_icgraph" id="extent-tree_8c_a98d1eff4281362f0fd82cfe3d875f36d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="184,1080,355,1107"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="194,1131,345,1173"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="193,1014,346,1055"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="403,1123,609,1149"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="428,1021,584,1048"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="915,2011,1036,2037"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="693,1072,796,1099"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="670,1123,819,1149"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="661,1225,829,1266"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="657,971,832,997"/>
<area shape="rect" id="node10" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="660,1021,829,1048"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="922,107,1029,133"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="915,157,1036,184"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="925,208,1026,235"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="930,259,1021,285"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1119,335,1277,361"/>
<area shape="rect" id="node16" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="885,360,1065,387"/>
<area shape="rect" id="node17" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="890,411,1061,437"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="918,461,1033,488"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="907,512,1043,539"/>
<area shape="rect" id="node20" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="907,563,1044,589"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="897,614,1053,655"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="891,680,1059,707"/>
<area shape="rect" id="node23" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="880,731,1071,757"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="884,781,1067,808"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="924,832,1027,859"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="916,883,1035,909"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="915,933,1036,960"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="913,985,1037,1026"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="906,1051,1045,1077"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="892,1102,1059,1143"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="901,1168,1050,1195"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="896,1219,1055,1245"/>
<area shape="rect" id="node33" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="905,1270,1045,1311"/>
<area shape="rect" id="node34" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="905,1336,1045,1363"/>
<area shape="rect" id="node35" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="912,1387,1039,1413"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1125,1437,1271,1464"/>
<area shape="rect" id="node37" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="907,1488,1043,1515"/>
<area shape="rect" id="node38" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="895,1539,1056,1565"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="890,1589,1061,1616"/>
<area shape="rect" id="node40" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="902,1641,1049,1682"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="916,1707,1035,1733"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="895,1757,1056,1784"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="911,1808,1039,1835"/>
<area shape="rect" id="node44" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="895,1859,1055,1885"/>
<area shape="rect" id="node45" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="896,1909,1055,1936"/>
<area shape="rect" id="node46" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="910,1960,1041,1987"/>
<area shape="rect" id="node47" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="901,5,1049,32"/>
<area shape="rect" id="node48" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="906,56,1045,83"/>
</map>
</div>

</div>
</div>
<a id="ab9df55452408c9f40ce3eec0b3b3ea5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9df55452408c9f40ce3eec0b3b3ea5a">&#9670;&nbsp;</a></span>caching_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline void caching_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__work.html">btrfs_work</a> *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_cgraph.png" border="0" usemap="#extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_cgraph" id="extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="167,466,314,493"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="167,618,314,645"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="164,669,317,696"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="171,296,310,322"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="165,720,316,746"/>
<area shape="rect" id="node3" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="393,492,508,518"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="589,644,749,670"/>
<area shape="rect" id="node31" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="365,390,536,417"/>
<area shape="rect" id="node38" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="367,340,534,366"/>
<area shape="rect" id="node39" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="396,593,505,620"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="817,694,940,721"/>
<area shape="rect" id="node6" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1030,724,1153,750"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1242,876,1382,902"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1256,505,1368,532"/>
<area shape="rect" id="node9" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1004,774,1179,801"/>
<area shape="rect" id="node10" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1235,825,1389,852"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1462,774,1589,801"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1020,454,1163,481"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1258,404,1366,430"/>
<area shape="rect" id="node14" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1247,100,1377,126"/>
<area shape="rect" id="node15" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1247,1306,1377,1333"/>
<area shape="rect" id="node16" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1454,1458,1597,1485"/>
<area shape="rect" id="node17" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1445,1180,1605,1206"/>
<area shape="rect" id="node18" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1033,201,1150,228"/>
<area shape="rect" id="node19" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1227,1180,1397,1206"/>
<area shape="rect" id="node20" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1047,556,1136,582"/>
<area shape="rect" id="node21" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1009,1230,1173,1257"/>
<area shape="rect" id="node22" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1051,1484,1132,1510"/>
<area shape="rect" id="node23" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1015,1078,1168,1105"/>
<area shape="rect" id="node26" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1009,606,1174,633"/>
<area shape="rect" id="node27" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1021,658,1161,699"/>
<area shape="rect" id="node28" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1239,353,1385,380"/>
<area shape="rect" id="node29" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1054,302,1129,329"/>
<area shape="rect" id="node24" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="1233,201,1391,228"/>
<area shape="rect" id="node25" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1449,100,1602,126"/>
<area shape="rect" id="node30" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1258,150,1366,177"/>
<area shape="rect" id="node32" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="613,390,725,417"/>
<area shape="rect" id="node33" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="801,340,956,366"/>
<area shape="rect" id="node34" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="601,492,737,518"/>
<area shape="rect" id="node35" href="ctree_8h.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="596,289,741,316"/>
<area shape="rect" id="node36" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="811,289,947,316"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="805,238,952,265"/>
<area shape="rect" id="node41" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="393,796,508,822"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="617,593,720,620"/>
<area shape="rect" id="node43" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="397,745,505,772"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="596,238,741,265"/>
<area shape="rect" id="node44" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="603,1078,735,1105"/>
<area shape="rect" id="node47" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="390,1636,511,1662"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="584,188,753,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_icgraph.png" border="0" usemap="#extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_icgraph" id="extent-tree_8c_ab9df55452408c9f40ce3eec0b3b3ea5a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="164,305,299,331"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="347,101,485,127"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1649,471,1763,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="755,379,893,420"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="533,355,703,382"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="369,406,463,433"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="551,71,685,98"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="553,123,683,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="551,5,685,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="751,97,897,123"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="753,46,895,73"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="977,71,1120,98"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="761,313,887,355"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="945,386,1152,413"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="985,509,1113,535"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1223,361,1345,387"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1233,411,1335,438"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1209,534,1359,561"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1200,295,1368,336"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1422,357,1569,383"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1422,458,1569,485"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1447,407,1544,434"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1439,509,1551,535"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1623,547,1789,574"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1425,559,1565,586"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1837,471,1979,498"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2236,501,2425,527"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2053,551,2162,578"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2027,383,2188,410"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2038,435,2177,476"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2033,235,2182,262"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2473,501,2608,527"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2263,551,2399,578"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2475,577,2606,603"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="2252,383,2409,410"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="2269,435,2393,476"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1430,306,1561,333"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1428,240,1563,281"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1221,699,1347,726"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1416,734,1575,761"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1649,733,1763,759"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1641,784,1771,825"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="981,623,1117,650"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1235,801,1333,827"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1445,789,1546,815"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1416,839,1575,866"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="751,444,897,485"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="561,475,675,502"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="785,510,863,537"/>
</map>
</div>

</div>
</div>
<a id="a1ce5a906dee944f5d5b6cd7d03e2d3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ce5a906dee944f5d5b6cd7d03e2d3b2">&#9670;&nbsp;</a></span>calc_global_rsv_need_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 calc_global_rsv_need_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>global</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1ce5a906dee944f5d5b6cd7d03e2d3b2_icgraph.png" border="0" usemap="#extent-tree_8c_a1ce5a906dee944f5d5b6cd7d03e2d3b2_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1ce5a906dee944f5d5b6cd7d03e2d3b2_icgraph" id="extent-tree_8c_a1ce5a906dee944f5d5b6cd7d03e2d3b2_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="367,419,503,445"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="200,596,319,623"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1007,420,1119,447"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1191,126,1347,167"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1223,529,1315,556"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1885,504,2000,531"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2073,220,2240,247"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2077,428,2237,455"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1421,104,1539,131"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1661,43,1765,69"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1405,159,1555,201"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1637,225,1788,252"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1647,276,1778,303"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="1638,94,1787,135"/>
<area shape="rect" id="node11" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1645,159,1780,201"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="1411,522,1549,563"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="1395,639,1565,681"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="1613,529,1812,556"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="1643,694,1783,735"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1860,697,2025,724"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="2087,647,2226,673"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="2085,377,2228,404"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="2085,748,2228,775"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="2103,697,2210,724"/>
<area shape="rect" id="node20" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="2301,327,2446,353"/>
<area shape="rect" id="node21" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2541,271,2679,313"/>
<area shape="rect" id="node22" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2787,224,2883,251"/>
<area shape="rect" id="node23" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2763,279,2906,305"/>
<area shape="rect" id="node24" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="3139,328,3253,355"/>
<area shape="rect" id="node25" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="2956,328,3091,355"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2299,697,2448,724"/>
<area shape="rect" id="node29" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2507,660,2713,687"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="2086,537,2227,564"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2515,584,2705,611"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2319,428,2428,455"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2293,479,2454,505"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2304,530,2443,571"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2288,220,2459,247"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="2553,220,2667,247"/>
<area shape="rect" id="node40" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="2761,370,2908,411"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="1205,639,1333,681"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="367,530,504,571"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="1399,705,1561,732"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="552,516,719,543"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="771,545,931,572"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="983,327,1143,353"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d" title="release_global_block_rsv" alt="" coords="767,428,935,455"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="784,479,917,521"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e" title="unuse_block_rsv" alt="" coords="1003,592,1123,619"/>
</map>
</div>

</div>
</div>
<a id="a5bd9f81f8cb152f2d3923593f8bd269b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bd9f81f8cb152f2d3923593f8bd269b">&#9670;&nbsp;</a></span>calc_reclaim_items_nr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 calc_reclaim_items_nr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>to_reclaim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_cgraph.png" border="0" usemap="#extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_cgraph" id="extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="205,5,412,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_icgraph.png" border="0" usemap="#extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_icgraph" id="extent-tree_8c_a5bd9f81f8cb152f2d3923593f8bd269b_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="205,725,313,752"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="361,751,453,777"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="517,486,656,527"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="501,775,672,817"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="720,437,919,464"/>
<area shape="rect" id="node6" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1006,325,1093,352"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1198,5,1305,32"/>
<area shape="rect" id="node10" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1197,325,1306,352"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1631,56,1751,83"/>
<area shape="rect" id="node9" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1829,56,1940,83"/>
<area shape="rect" id="node11" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1371,529,1552,570"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1393,209,1529,250"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1399,275,1523,301"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1401,325,1521,352"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1385,595,1537,621"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1394,427,1529,453"/>
<area shape="rect" id="node25" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1411,477,1511,504"/>
<area shape="rect" id="node27" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1383,107,1539,133"/>
<area shape="rect" id="node12" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1600,536,1781,563"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1617,157,1764,184"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1603,216,1778,243"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1633,325,1749,352"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1609,645,1773,672"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1609,595,1773,621"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1621,376,1761,403"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1613,427,1769,453"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1633,477,1748,504"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="749,831,889,873"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="967,1285,1132,1312"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1182,936,1321,963"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1180,1285,1323,1312"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="1180,1365,1323,1392"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="1198,1475,1305,1501"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1385,848,1538,875"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1392,899,1531,941"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1387,965,1536,992"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1377,1017,1545,1058"/>
<area shape="rect" id="node36" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1387,1083,1536,1109"/>
<area shape="rect" id="node37" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1413,696,1509,723"/>
<area shape="rect" id="node38" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1398,1133,1525,1160"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1402,747,1521,773"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1376,797,1547,824"/>
<area shape="rect" id="node39" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1618,1184,1763,1211"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1401,1235,1522,1261"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1400,1285,1523,1312"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1377,1336,1545,1363"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1393,1387,1529,1413"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1387,1438,1536,1479"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1387,1504,1536,1531"/>
</map>
</div>

</div>
</div>
<a id="a54d94bb221a36fd6f234b8cd2026ec85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d94bb221a36fd6f234b8cd2026ec85">&#9670;&nbsp;</a></span>can_overcommit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int can_overcommit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a>&#160;</td>
          <td class="paramname"><em>flush</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>system_chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_cgraph.png" border="0" usemap="#extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_cgraph" alt=""/></div>
<map name="extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_cgraph" id="extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="183,5,315,47"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="177,71,320,112"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="172,137,325,163"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="175,188,322,229"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="373,46,489,73"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="537,39,665,80"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="713,46,844,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_icgraph.png" border="0" usemap="#extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_icgraph" alt=""/></div>
<map name="extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_icgraph" id="extent-tree_8c_a54d94bb221a36fd6f234b8cd2026ec85_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="177,257,305,298"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="605,290,745,331"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="172,425,309,466"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="361,297,524,324"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="373,118,512,159"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="357,231,528,273"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="823,297,989,324"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1053,247,1191,273"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1051,617,1193,644"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="1051,297,1193,324"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="1069,180,1175,207"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1263,131,1417,157"/>
<area shape="rect" id="node8" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1271,182,1409,223"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1265,364,1415,391"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1256,247,1424,289"/>
<area shape="rect" id="node12" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1265,735,1415,761"/>
<area shape="rect" id="node13" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1292,415,1388,441"/>
<area shape="rect" id="node14" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1277,836,1403,863"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1281,785,1399,812"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1255,313,1425,340"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1490,925,1602,952"/>
<area shape="rect" id="node15" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1473,1001,1619,1028"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1279,887,1401,913"/>
<area shape="rect" id="node20" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1279,583,1401,609"/>
<area shape="rect" id="node21" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1256,633,1424,660"/>
<area shape="rect" id="node22" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1272,988,1408,1015"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1265,466,1415,507"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1265,80,1415,107"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="576,28,775,55"/>
<area shape="rect" id="node29" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1503,29,1589,56"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="359,483,526,509"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="826,497,986,524"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="595,760,755,787"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d" title="release_global_block_rsv" alt="" coords="591,367,759,393"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="839,1070,973,1111"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e" title="unuse_block_rsv" alt="" coords="615,439,735,465"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="1048,450,1196,491"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467" title="btrfs_delalloc_release\l_extents" alt="" coords="1048,669,1196,710"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1267,532,1413,559"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1071,567,1173,593"/>
<area shape="rect" id="node39" href="delayed-inode_8c.html#a91b69e1c7087dedaf021b3f736639bdf" title="btrfs_delayed_item\l_release_metadata" alt="" coords="840,603,972,645"/>
<area shape="rect" id="node40" href="delayed-inode_8c.html#a9cab63e8380b2239c230412487c1a665" title="btrfs_delayed_inode\l_release_metadata" alt="" coords="837,669,975,710"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#abc2881165c601bfce62c1bb9e1629d37" title="btrfs_free_block_rsv" alt="" coords="836,1019,976,1045"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ac5edf32b8cb542d087b7dd877b248545" title="btrfs_orphan_release\l_metadata" alt="" coords="835,887,977,929"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a7946e6ccff762079188782872dd504e8" title="btrfs_subvolume_release\l_metadata" alt="" coords="823,953,989,994"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="839,1135,973,1177"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1259,1140,1421,1167"/>
<area shape="rect" id="node46" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1037,993,1207,1020"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="1041,29,1203,56"/>
</map>
</div>

</div>
</div>
<a id="ac975f6e8b7b026a13939fb9655b43968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac975f6e8b7b026a13939fb9655b43968">&#9670;&nbsp;</a></span>check_committed_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int check_committed_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_cgraph.png" border="0" usemap="#extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_cgraph" id="extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="215,738,338,765"/>
<area shape="rect" id="node44" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="651,1448,780,1474"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="638,1549,793,1576"/>
<area shape="rect" id="node47" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="213,1600,341,1642"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="200,1483,353,1524"/>
<area shape="rect" id="node3" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="889,1093,1011,1120"/>
<area shape="rect" id="node4" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="645,688,785,714"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="659,890,771,917"/>
<area shape="rect" id="node6" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="401,637,576,664"/>
<area shape="rect" id="node7" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="638,536,793,562"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="887,612,1013,638"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="417,1008,560,1034"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="661,1042,769,1069"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="651,1093,780,1120"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="651,434,780,461"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="879,174,1021,201"/>
<area shape="rect" id="node23" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="870,105,1030,132"/>
<area shape="rect" id="node25" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="430,1160,547,1186"/>
<area shape="rect" id="node30" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="630,13,801,40"/>
<area shape="rect" id="node32" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="444,789,533,816"/>
<area shape="rect" id="node35" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="407,329,571,356"/>
<area shape="rect" id="node38" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="448,114,529,141"/>
<area shape="rect" id="node39" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="412,434,565,461"/>
<area shape="rect" id="node40" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="406,890,571,917"/>
<area shape="rect" id="node41" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="419,942,559,983"/>
<area shape="rect" id="node42" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="642,1397,789,1424"/>
<area shape="rect" id="node43" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="451,1304,526,1330"/>
<area shape="rect" id="node8" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1321,167,1473,208"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1106,637,1261,664"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1110,586,1257,613"/>
<area shape="rect" id="node14" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="889,1245,1011,1272"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="895,1042,1005,1069"/>
<area shape="rect" id="node17" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="889,1144,1011,1170"/>
<area shape="rect" id="node20" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1122,254,1245,281"/>
<area shape="rect" id="node21" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1106,138,1261,179"/>
<area shape="rect" id="node22" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1106,204,1261,230"/>
<area shape="rect" id="node24" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1093,86,1273,113"/>
<area shape="rect" id="node26" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="636,1144,795,1170"/>
<area shape="rect" id="node27" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="650,1245,781,1272"/>
<area shape="rect" id="node28" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="896,1372,1004,1398"/>
<area shape="rect" id="node29" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1134,1448,1233,1474"/>
<area shape="rect" id="node31" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="855,54,1045,81"/>
<area shape="rect" id="node33" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="656,789,775,816"/>
<area shape="rect" id="node34" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="645,840,786,866"/>
<area shape="rect" id="node36" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="624,267,807,308"/>
<area shape="rect" id="node37" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="651,384,779,410"/>
<area shape="rect" id="node46" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="873,1549,1027,1576"/>
<area shape="rect" id="node48" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="461,1608,516,1634"/>
<area shape="rect" id="node50" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="435,1490,543,1517"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_icgraph.png" border="0" usemap="#extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_icgraph" id="extent-tree_8c_ac975f6e8b7b026a13939fb9655b43968_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="200,208,344,235"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="427,208,563,235"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="430,157,561,184"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="392,779,599,805"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="665,208,796,235"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1499,233,1673,260"/>
<area shape="rect" id="node6" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1721,233,1819,260"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="665,107,796,133"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="652,157,809,184"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="863,56,1013,83"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1299,56,1431,83"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1079,5,1215,32"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="884,157,992,184"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="670,687,791,713"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="679,448,782,475"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="656,981,805,1008"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="647,1033,815,1074"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1513,612,1659,639"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="865,448,1011,475"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="889,327,987,353"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1079,347,1215,373"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1306,411,1425,437"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1322,499,1409,525"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1069,549,1224,576"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1066,499,1227,525"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1319,309,1412,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1314,360,1417,387"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1533,448,1639,475"/>
<area shape="rect" id="node25" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1531,499,1641,525"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1314,575,1417,601"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1319,259,1411,285"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="882,1069,994,1096"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1063,1204,1230,1231"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="868,712,1008,739"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1069,1037,1225,1078"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1101,1103,1193,1129"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1089,1153,1204,1180"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1067,985,1227,1012"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1296,1226,1435,1267"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1280,1175,1451,1201"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1515,977,1657,1004"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1063,600,1230,627"/>
<area shape="rect" id="node43" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1112,701,1181,728"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="873,880,1003,907"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="871,1247,1005,1289"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1061,935,1232,961"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1071,803,1222,845"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1070,869,1223,910"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1075,1255,1218,1281"/>
</map>
</div>

</div>
</div>
<a id="a3afc1b70be9f07a784b42718425b106a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3afc1b70be9f07a784b42718425b106a">&#9670;&nbsp;</a></span>check_delayed_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int check_delayed_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_cgraph.png" border="0" usemap="#extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_cgraph" alt=""/></div>
<map name="extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_cgraph" id="extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="211,64,339,105"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="203,662,347,688"/>
<area shape="rect" id="node16" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="211,850,340,876"/>
<area shape="rect" id="node29" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="184,210,367,236"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1098,405,1233,446"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="687,16,787,43"/>
<area shape="rect" id="node5" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="677,748,796,775"/>
<area shape="rect" id="node7" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="435,625,586,666"/>
<area shape="rect" id="node15" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="435,691,586,718"/>
<area shape="rect" id="node6" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="885,748,1021,775"/>
<area shape="rect" id="node8" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="657,580,816,607"/>
<area shape="rect" id="node12" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="655,631,819,658"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="666,682,807,724"/>
<area shape="rect" id="node9" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="867,580,1040,607"/>
<area shape="rect" id="node10" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="1124,555,1207,582"/>
<area shape="rect" id="node11" href="btrfs_2extent__map_8c.html#abe5fa1b21db40e4c1ca4226364e4cc80" title="__tree_search" alt="" coords="1113,606,1217,632"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="878,682,1029,724"/>
<area shape="rect" id="node17" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="439,850,582,876"/>
<area shape="rect" id="node23" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="447,967,574,994"/>
<area shape="rect" id="node18" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="675,799,798,826"/>
<area shape="rect" id="node20" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="659,901,814,942"/>
<area shape="rect" id="node22" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="659,850,814,876"/>
<area shape="rect" id="node19" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="871,799,1036,826"/>
<area shape="rect" id="node21" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="877,876,1029,917"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1088,996,1243,1023"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="663,1058,810,1084"/>
<area shape="rect" id="node26" href="extent__io_8c.html#a664832bdb9196f366f7bae8d23fe6491" title="btrfs_release_extent\l_buffer_page" alt="" coords="883,1018,1023,1060"/>
<area shape="rect" id="node27" href="extent__io_8c.html#ae5972708be74df23a5a9cafdd514b7c8" title="__free_extent_buffer" alt="" coords="1095,1120,1236,1147"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a6f899034e3eb7e0649632be9a6cff7ba" title="btrfs_release_extent\l_buffer_rcu" alt="" coords="883,1084,1023,1125"/>
<area shape="rect" id="node30" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="421,286,600,312"/>
<area shape="rect" id="node42" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="419,362,602,388"/>
<area shape="rect" id="node45" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="415,235,607,262"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="425,134,597,160"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="447,68,575,109"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="434,184,587,211"/>
<area shape="rect" id="node31" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="917,362,989,388"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="661,210,813,236"/>
<area shape="rect" id="node36" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="663,260,810,287"/>
<area shape="rect" id="node40" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="671,413,802,454"/>
<area shape="rect" id="node33" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="888,144,1019,185"/>
<area shape="rect" id="node34" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="908,210,999,236"/>
<area shape="rect" id="node35" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="868,92,1039,119"/>
<area shape="rect" id="node37" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1098,88,1233,129"/>
<area shape="rect" id="node38" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="889,311,1017,338"/>
<area shape="rect" id="node39" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1105,259,1226,286"/>
<area shape="rect" id="node41" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="887,463,1019,490"/>
<area shape="rect" id="node43" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="662,362,811,388"/>
<area shape="rect" id="node47" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="697,67,777,94"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="912,42,995,68"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_icgraph.png" border="0" usemap="#extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_icgraph" id="extent-tree_8c_a3afc1b70be9f07a784b42718425b106a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="184,208,328,235"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="411,208,547,235"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="414,157,545,184"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="376,779,583,805"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="649,208,780,235"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1483,233,1657,260"/>
<area shape="rect" id="node6" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1705,233,1803,260"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#ab08b8285b4993c0f0343d7658b5c22ed" title="check_can_nocow" alt="" coords="649,107,780,133"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="636,157,793,184"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="847,56,997,83"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1283,56,1415,83"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1063,5,1199,32"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="868,157,976,184"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="654,687,775,713"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="663,448,766,475"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="640,981,789,1008"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="631,1033,799,1074"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1497,612,1643,639"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="849,448,995,475"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="873,327,971,353"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1063,347,1199,373"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1290,411,1409,437"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1306,499,1393,525"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1053,549,1208,576"/>
<area shape="rect" id="node28" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1050,499,1211,525"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a1fc73f76452ce032a83a9a17fea9095b" title="btrfs_lookup" alt="" coords="1303,309,1396,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1298,360,1401,387"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1517,448,1623,475"/>
<area shape="rect" id="node25" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1515,499,1625,525"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1298,575,1401,601"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1303,259,1395,285"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="866,1069,978,1096"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1047,1204,1214,1231"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="852,712,992,739"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1053,1037,1209,1078"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1085,1103,1177,1129"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1073,1153,1188,1180"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1051,985,1211,1012"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1280,1226,1419,1267"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1264,1175,1435,1201"/>
<area shape="rect" id="node38" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1499,977,1641,1004"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1047,600,1214,627"/>
<area shape="rect" id="node43" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1096,701,1165,728"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="857,880,987,907"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="855,1247,989,1289"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1045,935,1216,961"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1055,803,1206,845"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1054,869,1207,910"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1059,1255,1202,1281"/>
</map>
</div>

</div>
</div>
<a id="a6728061b98190f0902a955b2af4f0ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6728061b98190f0902a955b2af4f0ca9">&#9670;&nbsp;</a></span>check_ref_cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int check_ref_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_cgraph.png" border="0" usemap="#extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_cgraph" id="extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1487,5,1615,47"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1091,1019,1220,1060"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="184,671,367,698"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="1698,42,1798,69"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="421,799,600,826"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="419,858,602,885"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="415,722,607,749"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="425,963,597,990"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1295,212,1423,253"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="434,593,587,619"/>
<area shape="rect" id="node7" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="904,967,976,994"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="655,749,807,775"/>
<area shape="rect" id="node12" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="657,917,804,943"/>
<area shape="rect" id="node22" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="665,851,796,892"/>
<area shape="rect" id="node9" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="875,695,1005,736"/>
<area shape="rect" id="node10" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="895,761,985,787"/>
<area shape="rect" id="node11" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="855,811,1025,838"/>
<area shape="rect" id="node13" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1681,925,1815,967"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="876,1018,1004,1045"/>
<area shape="rect" id="node15" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="1114,967,1197,994"/>
<area shape="rect" id="node20" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1095,1085,1216,1111"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1317,1034,1400,1061"/>
<area shape="rect" id="node17" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="1495,1034,1607,1061"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="1494,1085,1609,1111"/>
<area shape="rect" id="node19" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1681,1128,1815,1169"/>
<area shape="rect" id="node21" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1285,1085,1432,1111"/>
<area shape="rect" id="node23" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="874,862,1006,889"/>
<area shape="rect" id="node24" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1073,781,1237,807"/>
<area shape="rect" id="node25" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1708,762,1788,789"/>
<area shape="rect" id="node27" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1711,825,1785,851"/>
<area shape="rect" id="node29" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1295,451,1423,478"/>
<area shape="rect" id="node42" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1709,705,1787,731"/>
<area shape="rect" id="node26" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1901,762,1972,789"/>
<area shape="rect" id="node28" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1889,825,1984,851"/>
<area shape="rect" id="node30" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1494,629,1609,655"/>
<area shape="rect" id="node31" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1490,173,1613,199"/>
<area shape="rect" id="node32" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1873,223,2000,250"/>
<area shape="rect" id="node33" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1683,122,1813,149"/>
<area shape="rect" id="node34" href="backref_8c.html#a2adc471a0f6cc0341b6587a4e42e6ef1" title="add_delayed_refs" alt="" coords="1489,882,1613,909"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1671,401,1825,427"/>
<area shape="rect" id="node36" href="backref_8c.html#aeef3cd1f89e33b0970d748bcb59005ca" title="add_inline_refs" alt="" coords="1497,426,1606,453"/>
<area shape="rect" id="node37" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1494,477,1609,503"/>
<area shape="rect" id="node38" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="1486,325,1617,351"/>
<area shape="rect" id="node39" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="1691,274,1805,301"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="1671,502,1825,529"/>
<area shape="rect" id="node41" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1480,730,1623,757"/>
<area shape="rect" id="node43" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1514,578,1589,605"/>
<area shape="rect" id="node45" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="656,1018,805,1045"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="900,1119,980,1146"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_icgraph.png" border="0" usemap="#extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_icgraph" id="extent-tree_8c_a6728061b98190f0902a955b2af4f0ca9_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="184,448,328,475"/>
<area shape="rect" id="node3" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="376,448,507,475"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="755,246,856,272"/>
<area shape="rect" id="node19" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1581,296,1764,323"/>
<area shape="rect" id="node21" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1605,246,1740,272"/>
<area shape="rect" id="node41" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="391,600,491,627"/>
<area shape="rect" id="node42" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1327,1183,1533,1210"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="390,803,493,830"/>
<area shape="rect" id="node4" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="555,398,672,424"/>
<area shape="rect" id="node40" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1151,702,1279,728"/>
<area shape="rect" id="node7" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1153,423,1276,450"/>
<area shape="rect" id="node23" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1382,195,1478,222"/>
<area shape="rect" id="node24" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1611,195,1734,222"/>
<area shape="rect" id="node25" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1381,144,1479,171"/>
<area shape="rect" id="node28" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="729,398,882,424"/>
<area shape="rect" id="node29" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="965,524,1076,551"/>
<area shape="rect" id="node37" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="969,600,1072,627"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="727,550,883,576"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="720,347,891,374"/>
<area shape="rect" id="node6" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="939,372,1103,399"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1343,600,1517,627"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1812,398,1959,424"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1360,702,1500,744"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1605,499,1740,526"/>
<area shape="rect" id="node17" href="file-item_8c.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="1371,499,1489,526"/>
<area shape="rect" id="node18" href="free-space-tree_8c.html#a0889f0179a51c5b0f0fc4e8f377d5f76" title="clear_free_space_tree" alt="" coords="1355,347,1505,374"/>
<area shape="rect" id="node20" href="qgroup_8c.html#acf66c4b80bd92dc1b7d96bda3fc579e0" title="btrfs_clean_quota_tree" alt="" coords="1353,296,1507,323"/>
<area shape="rect" id="node26" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1362,834,1498,860"/>
<area shape="rect" id="node27" href="tree-log_8c.html#acb2c43d975037170dfecf3ff04d7db5f" title="drop_objectid_items" alt="" coords="1361,550,1499,576"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2047,347,2133,374"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1612,906,1733,932"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1621,710,1724,736"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1812,906,1959,932"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1837,710,1934,736"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1816,246,1955,272"/>
<area shape="rect" id="node30" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1159,651,1270,678"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1358,1082,1502,1108"/>
<area shape="rect" id="node32" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="1378,1132,1482,1159"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#ae402d8ec9601c06e554747b9d5a1ffe6" title="btrfs_batch_delete\l_items" alt="" coords="1365,768,1495,809"/>
<area shape="rect" id="node34" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="1362,885,1498,926"/>
<area shape="rect" id="node35" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="1362,950,1498,992"/>
<area shape="rect" id="node36" href="free-space-tree_8h.html#a19dd18b81a929d28d3a897478c7684a7" title="remove_block_group\l_free_space" alt="" coords="1359,1016,1501,1057"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1598,1164,1747,1191"/>
<area shape="rect" id="node47" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1589,1226,1757,1268"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1829,1103,1941,1130"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2007,1128,2173,1155"/>
<area shape="rect" id="node46" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1815,1204,1955,1231"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1820,1255,1951,1282"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="564,803,663,830"/>
</map>
</div>

</div>
</div>
<a id="a3d31c696747764aef99241c8b3720053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d31c696747764aef99241c8b3720053">&#9670;&nbsp;</a></span>check_system_chunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_system_chunk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3d31c696747764aef99241c8b3720053_cgraph.png" border="0" usemap="#extent-tree_8c_a3d31c696747764aef99241c8b3720053_cgraph" alt=""/></div>
<map name="extent-tree_8c_a3d31c696747764aef99241c8b3720053_cgraph" id="extent-tree_8c_a3d31c696747764aef99241c8b3720053_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="741,90,868,117"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="956,166,1109,193"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ae1ea76da07dad6d2aba1d75a681c4d4d" title="get_profile_num_devs" alt="" coords="231,1308,381,1334"/>
<area shape="rect" id="node5" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="203,1257,409,1284"/>
<area shape="rect" id="node8" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="701,308,908,334"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="743,166,867,193"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="240,1359,372,1400"/>
<area shape="rect" id="node49" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="244,1425,368,1452"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="237,1476,375,1502"/>
<area shape="rect" id="node6" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="485,1151,625,1192"/>
<area shape="rect" id="node7" href="ctree_8h.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="478,502,633,543"/>
<area shape="rect" id="node9" href="ctree_8h.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="479,1216,632,1258"/>
<area shape="rect" id="node10" href="ctree_8h.html#a0168e2588b90442367ccc0a720842a31" title="btrfs_wait_block_group\l_reservations" alt="" coords="477,1282,633,1323"/>
<area shape="rect" id="node11" href="ctree_8h.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="474,1348,637,1374"/>
<area shape="rect" id="node12" href="ctree_8h.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="472,1398,639,1425"/>
<area shape="rect" id="node13" href="ctree_8h.html#aed66043c7227815a391ec5c94f0a130c" title="btrfs_wait_nocow_writers" alt="" coords="470,1449,641,1476"/>
<area shape="rect" id="node14" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="480,1500,631,1526"/>
<area shape="rect" id="node15" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="478,1550,633,1577"/>
<area shape="rect" id="node16" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="528,1601,583,1628"/>
<area shape="rect" id="node17" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="457,1652,653,1678"/>
<area shape="rect" id="node18" href="ctree_8h.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="471,1702,639,1729"/>
<area shape="rect" id="node19" href="ctree_8h.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="473,1753,637,1780"/>
<area shape="rect" id="node20" href="ctree_8h.html#aa4746d6ccfd60a85e71f8491cf16c80e" title="btrfs_pin_extent" alt="" coords="498,1804,613,1830"/>
<area shape="rect" id="node21" href="ctree_8h.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="487,1855,624,1896"/>
<area shape="rect" id="node22" href="ctree_8h.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="483,1920,628,1962"/>
<area shape="rect" id="node23" href="ctree_8h.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="483,1986,627,2013"/>
<area shape="rect" id="node24" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="490,2038,621,2079"/>
<area shape="rect" id="node25" href="ctree_8h.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="480,2104,631,2130"/>
<area shape="rect" id="node26" href="ctree_8h.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="481,2154,630,2181"/>
<area shape="rect" id="node27" href="ctree_8h.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="483,2205,627,2232"/>
<area shape="rect" id="node28" href="ctree_8h.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="486,2256,625,2298"/>
<area shape="rect" id="node29" href="ctree_8h.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="492,2322,619,2363"/>
<area shape="rect" id="node30" href="ctree_8h.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="485,166,626,193"/>
<area shape="rect" id="node32" href="ctree_8h.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="508,2388,603,2414"/>
<area shape="rect" id="node33" href="ctree_8h.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="506,2438,605,2465"/>
<area shape="rect" id="node34" href="ctree_8h.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="482,319,629,360"/>
<area shape="rect" id="node35" href="ctree_8h.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="495,385,615,412"/>
<area shape="rect" id="node36" href="ctree_8h.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="488,436,623,478"/>
<area shape="rect" id="node37" href="ctree_8h.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="491,567,620,608"/>
<area shape="rect" id="node38" href="ctree_8h.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="485,684,626,726"/>
<area shape="rect" id="node39" href="ctree_8h.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="491,750,620,791"/>
<area shape="rect" id="node40" href="ctree_8h.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="487,816,624,842"/>
<area shape="rect" id="node41" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="480,867,631,908"/>
<area shape="rect" id="node42" href="ctree_8h.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="479,932,632,974"/>
<area shape="rect" id="node43" href="ctree_8h.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="470,998,641,1025"/>
<area shape="rect" id="node44" href="ctree_8h.html#af76997d3ed3b79189dae0c8e198b56c5" title="btrfs_extent_readonly" alt="" coords="482,1049,629,1076"/>
<area shape="rect" id="node45" href="ctree_8h.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="475,268,636,294"/>
<area shape="rect" id="node46" href="ctree_8h.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="473,1100,637,1126"/>
<area shape="rect" id="node47" href="ctree_8h.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="740,541,869,568"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3d31c696747764aef99241c8b3720053_icgraph.png" border="0" usemap="#extent-tree_8c_a3d31c696747764aef99241c8b3720053_icgraph" alt=""/></div>
<map name="extent-tree_8c_a3d31c696747764aef99241c8b3720053_icgraph" id="extent-tree_8c_a3d31c696747764aef99241c8b3720053_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="203,649,315,676"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="363,887,529,913"/>
<area shape="rect" id="node44" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="593,781,733,808"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="368,78,524,119"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="400,355,492,381"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="389,621,503,648"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="366,836,526,863"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="603,56,722,83"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="843,5,947,32"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="587,107,738,149"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="820,56,971,83"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="830,107,961,133"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="821,158,970,199"/>
<area shape="rect" id="node10" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="828,223,963,265"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="593,282,732,323"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="577,347,748,389"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="796,289,995,316"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="825,341,965,382"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="592,567,733,593"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1051,432,1241,459"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="841,457,950,484"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="815,508,976,535"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="826,559,965,601"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1043,676,1249,703"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="821,676,970,703"/>
<area shape="rect" id="node25" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="826,879,965,921"/>
<area shape="rect" id="node36" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="577,1047,748,1073"/>
<area shape="rect" id="node26" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1098,1047,1194,1073"/>
<area shape="rect" id="node28" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1075,879,1217,905"/>
<area shape="rect" id="node27" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1297,1047,1445,1073"/>
<area shape="rect" id="node29" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1307,778,1436,819"/>
<area shape="rect" id="node30" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1493,895,1608,921"/>
<area shape="rect" id="node31" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1304,895,1439,921"/>
<area shape="rect" id="node32" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1516,971,1585,997"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1665,895,1815,921"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1656,945,1824,972"/>
<area shape="rect" id="node35" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1688,996,1792,1023"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="838,1097,953,1124"/>
<area shape="rect" id="node38" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1067,1097,1225,1124"/>
<area shape="rect" id="node39" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1055,1149,1237,1190"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1087,1215,1205,1241"/>
<area shape="rect" id="node42" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="590,836,735,863"/>
<area shape="rect" id="node43" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1073,930,1219,971"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="812,777,979,804"/>
<area shape="rect" id="node46" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1095,727,1197,753"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1089,777,1203,804"/>
<area shape="rect" id="node50" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1101,828,1191,855"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1326,676,1417,703"/>
<area shape="rect" id="node48" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1298,727,1445,753"/>
</map>
</div>

</div>
</div>
<a id="a76f199942e0a905e1b437365e22a1e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f199942e0a905e1b437365e22a1e58">&#9670;&nbsp;</a></span>cleanup_extent_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cleanup_extent_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_cgraph.png" border="0" usemap="#extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_cgraph" alt=""/></div>
<map name="extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_cgraph" id="extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="197,1562,327,1603"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="184,1628,340,1655"/>
<area shape="rect" id="node4" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="416,117,531,144"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="629,767,752,793"/>
<area shape="rect" id="node21" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1066,219,1195,245"/>
<area shape="rect" id="node34" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1282,1653,1411,1680"/>
<area shape="rect" id="node38" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1269,1831,1424,1857"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="393,1628,554,1655"/>
<area shape="rect" id="node44" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="832,1755,988,1781"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="388,2059,559,2085"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="419,669,528,696"/>
<area shape="rect" id="node6" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="849,792,971,819"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1061,741,1201,768"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1075,893,1187,920"/>
<area shape="rect" id="node9" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="823,843,997,869"/>
<area shape="rect" id="node10" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1053,843,1208,869"/>
<area shape="rect" id="node12" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1283,737,1410,764"/>
<area shape="rect" id="node15" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="839,995,981,1021"/>
<area shape="rect" id="node16" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1077,995,1185,1021"/>
<area shape="rect" id="node19" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1066,1045,1195,1072"/>
<area shape="rect" id="node22" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1275,320,1418,347"/>
<area shape="rect" id="node23" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1267,92,1427,119"/>
<area shape="rect" id="node24" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="851,1096,969,1123"/>
<area shape="rect" id="node25" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1045,16,1216,43"/>
<area shape="rect" id="node26" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="865,472,955,499"/>
<area shape="rect" id="node27" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="828,67,992,93"/>
<area shape="rect" id="node28" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="869,371,951,397"/>
<area shape="rect" id="node29" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="833,320,987,347"/>
<area shape="rect" id="node30" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="827,573,993,600"/>
<area shape="rect" id="node31" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="840,625,980,666"/>
<area shape="rect" id="node32" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1273,1425,1420,1452"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="873,1299,947,1325"/>
<area shape="rect" id="node11" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1271,835,1423,877"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1477,763,1632,789"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1481,712,1628,739"/>
<area shape="rect" id="node17" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1069,1147,1192,1173"/>
<area shape="rect" id="node18" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1264,1197,1429,1224"/>
<area shape="rect" id="node20" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1291,1045,1402,1072"/>
<area shape="rect" id="node36" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1501,1552,1609,1579"/>
<area shape="rect" id="node37" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="1051,1451,1210,1477"/>
<area shape="rect" id="node35" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1680,1577,1779,1604"/>
<area shape="rect" id="node39" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1478,1831,1631,1857"/>
<area shape="rect" id="node41" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="637,1704,745,1731"/>
<area shape="rect" id="node42" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="627,1603,754,1629"/>
<area shape="rect" id="node43" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1077,1603,1185,1629"/>
<area shape="rect" id="node45" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1092,1755,1169,1781"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1053,1805,1208,1832"/>
<area shape="rect" id="node47" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1047,1856,1214,1883"/>
<area shape="rect" id="node49" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="607,2059,775,2085"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_icgraph.png" border="0" usemap="#extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_icgraph" alt=""/></div>
<map name="extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_icgraph" id="extent-tree_8c_a76f199942e0a905e1b437365e22a1e58_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="184,427,308,454"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="356,427,524,454"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="572,427,727,454"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1292,136,1432,177"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1259,354,1465,381"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="789,194,953,221"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1037,529,1188,571"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1957,609,2127,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="794,420,947,461"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1035,475,1191,502"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1513,507,1684,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="775,289,967,315"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2209,10,2331,37"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1547,238,1650,265"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1533,5,1664,47"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1537,71,1661,112"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1543,137,1654,163"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1524,339,1673,366"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1515,391,1683,432"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1015,150,1211,177"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2217,229,2323,255"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2209,279,2331,306"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2219,330,2321,357"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2225,381,2315,407"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2413,457,2572,483"/>
<area shape="rect" id="node23" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2180,482,2360,509"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2185,533,2355,559"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2213,583,2327,610"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2202,634,2338,661"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2201,685,2339,711"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2192,736,2348,777"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2186,802,2354,829"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2175,853,2365,879"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2179,903,2361,930"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2219,954,2321,981"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2211,1005,2329,1031"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2209,1055,2331,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2208,1107,2332,1148"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2201,1173,2339,1199"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2187,1224,2353,1265"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2195,1290,2345,1317"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2191,1341,2349,1367"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2200,61,2340,103"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2200,127,2340,154"/>
<area shape="rect" id="node42" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2207,178,2333,205"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1275,507,1449,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1732,507,1909,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1043,318,1183,345"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1028,252,1197,293"/>
</map>
</div>

</div>
</div>
<a id="a5184640b93397015f3da1946b3d154fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5184640b93397015f3da1946b3d154fa">&#9670;&nbsp;</a></span>cleanup_ref_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cleanup_ref_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5184640b93397015f3da1946b3d154fa_cgraph.png" border="0" usemap="#extent-tree_8c_a5184640b93397015f3da1946b3d154fa_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5184640b93397015f3da1946b3d154fa_cgraph" id="extent-tree_8c_a5184640b93397015f3da1946b3d154fa_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="211,335,341,361"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="186,967,366,993"/>
<area shape="rect" id="node23" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="437,933,603,960"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="213,1017,339,1044"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="219,1068,333,1095"/>
<area shape="rect" id="node33" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="461,639,579,665"/>
<area shape="rect" id="node38" href="qgroup_8h.html#a2f5a26f07d0b3b4018632b799f02c9a7" title="btrfs_qgroup_free_delayed_ref" alt="" coords="177,1245,375,1272"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="185,1549,367,1576"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="455,269,585,310"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="442,335,598,361"/>
<area shape="rect" id="node5" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="693,461,808,488"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="902,107,1025,133"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1113,335,1243,361"/>
<area shape="rect" id="node15" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="886,259,1041,285"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="899,512,1028,539"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="670,309,831,336"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="885,411,1041,437"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="665,56,836,83"/>
<area shape="rect" id="node21" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="696,613,805,640"/>
<area shape="rect" id="node7" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1117,284,1239,311"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1321,5,1461,32"/>
<area shape="rect" id="node9" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1335,81,1447,108"/>
<area shape="rect" id="node10" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1091,81,1265,108"/>
<area shape="rect" id="node11" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1313,157,1468,184"/>
<area shape="rect" id="node12" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1327,233,1454,260"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1107,132,1249,159"/>
<area shape="rect" id="node18" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="884,360,1043,387"/>
<area shape="rect" id="node24" href="delayed-ref_8h.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="677,917,824,944"/>
<area shape="rect" id="node25" href="delayed-ref_8h.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="665,968,836,995"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="455,1002,585,1043"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="460,1068,580,1095"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="445,1119,595,1145"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="669,1019,832,1061"/>
<area shape="rect" id="node31" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="693,1085,808,1112"/>
<area shape="rect" id="node34" href="ctree_8h.html#ac2c048c08d98039688c6e1d3c216e44e" title="btrfs_super_csum_size" alt="" coords="885,791,1042,817"/>
<area shape="rect" id="node35" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="695,563,806,589"/>
<area shape="rect" id="node36" href="ctree_8c.html#a1f69123fedb08e3bce503893359ea3fd" title="btrfs_split_item" alt="" coords="695,664,806,691"/>
<area shape="rect" id="node37" href="file-item_8c.html#a3635df1a176dd45a7cad182170599e3e" title="truncate_one_csum" alt="" coords="683,765,819,792"/>
<area shape="rect" id="node39" href="qgroup_8h.html#ac4dfd4da6c5167e071ea8985e384f1ae" title="btrfs_qgroup_free_refroot" alt="" coords="437,1220,603,1247"/>
<area shape="rect" id="node40" href="qgroup_8h.html#a8e187203a0d4173afa4b6f15e4d5f559" title="btrfs_qgroup_reserve_data" alt="" coords="432,1271,608,1297"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a8c1e32019276b5167cb2674dcaf52d0e" title="btrfs_qgroup_release_data" alt="" coords="433,1321,607,1348"/>
<area shape="rect" id="node42" href="qgroup_8h.html#aac782519743d0904887086fb774622b7" title="btrfs_qgroup_free_data" alt="" coords="443,1372,597,1399"/>
<area shape="rect" id="node43" href="qgroup_8h.html#aae8e4d4d33f79ca4ab6c4db32947ad61" title="__btrfs_qgroup_reserve_meta" alt="" coords="423,1169,617,1196"/>
<area shape="rect" id="node45" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="431,1423,609,1449"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="429,1473,611,1500"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="424,1524,616,1551"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="434,1575,606,1601"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="456,1626,584,1667"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="443,1692,597,1719"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5184640b93397015f3da1946b3d154fa_icgraph.png" border="0" usemap="#extent-tree_8c_a5184640b93397015f3da1946b3d154fa_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5184640b93397015f3da1946b3d154fa_icgraph" id="extent-tree_8c_a5184640b93397015f3da1946b3d154fa_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="177,432,345,459"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="393,432,548,459"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1113,141,1253,182"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1080,359,1287,385"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="610,199,774,225"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="859,534,1009,575"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1779,613,1948,640"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="615,425,769,466"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="856,480,1012,507"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1335,512,1505,539"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="596,293,788,320"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2031,5,2152,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1369,243,1471,269"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1355,10,1485,51"/>
<area shape="rect" id="node8" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1358,75,1482,117"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1365,141,1475,168"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1345,344,1495,371"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1336,395,1504,437"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="836,155,1032,181"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2038,208,2145,235"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2031,259,2152,285"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2041,309,2142,336"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2046,360,2137,387"/>
<area shape="rect" id="node21" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2235,436,2393,463"/>
<area shape="rect" id="node22" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2001,461,2181,488"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2006,512,2177,539"/>
<area shape="rect" id="node24" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2034,563,2149,589"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2023,613,2159,640"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2023,664,2160,691"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2013,715,2169,757"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2007,781,2175,808"/>
<area shape="rect" id="node29" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1996,832,2187,859"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2000,883,2183,909"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2040,933,2143,960"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2032,984,2151,1011"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2031,1035,2152,1061"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2029,1086,2153,1127"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2022,1152,2161,1179"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2008,1203,2175,1245"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2017,1269,2166,1296"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2012,1320,2171,1347"/>
<area shape="rect" id="node39" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2021,1371,2161,1413"/>
<area shape="rect" id="node40" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2021,56,2161,83"/>
<area shape="rect" id="node41" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2028,107,2155,133"/>
<area shape="rect" id="node42" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="2023,157,2159,184"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1096,512,1271,539"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1553,512,1731,539"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="864,323,1004,349"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="849,257,1019,298"/>
</map>
</div>

</div>
</div>
<a id="a208fc4437af17e2a0b1af0c9e0760020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208fc4437af17e2a0b1af0c9e0760020">&#9670;&nbsp;</a></span>clear_avail_alloc_bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_avail_alloc_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a208fc4437af17e2a0b1af0c9e0760020_icgraph.png" border="0" usemap="#extent-tree_8c_a208fc4437af17e2a0b1af0c9e0760020_icgraph" alt=""/></div>
<map name="extent-tree_8c_a208fc4437af17e2a0b1af0c9e0760020_icgraph" id="extent-tree_8c_a208fc4437af17e2a0b1af0c9e0760020_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="200,517,336,559"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="384,601,591,627"/>
<area shape="rect" id="node39" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="855,550,995,577"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="662,145,783,171"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="873,297,976,323"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="648,601,797,627"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="639,863,807,904"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1671,170,1817,197"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1055,170,1201,197"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1079,297,1177,323"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1279,94,1415,121"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1492,69,1611,95"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1508,297,1595,323"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1269,145,1424,171"/>
<area shape="rect" id="node16" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1266,195,1427,222"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1691,322,1797,349"/>
<area shape="rect" id="node12" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1689,423,1799,450"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1500,195,1603,222"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1699,221,1789,247"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1301,297,1393,323"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="869,677,981,703"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1045,601,1211,627"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1050,753,1206,795"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1082,819,1174,846"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1071,651,1185,678"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1048,702,1208,729"/>
<area shape="rect" id="node25" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1277,652,1416,693"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1261,601,1432,627"/>
<area shape="rect" id="node26" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1480,601,1623,627"/>
<area shape="rect" id="node27" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1679,673,1809,715"/>
<area shape="rect" id="node33" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1869,550,1983,577"/>
<area shape="rect" id="node35" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1677,601,1811,627"/>
<area shape="rect" id="node28" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2035,702,2183,729"/>
<area shape="rect" id="node29" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2231,601,2300,627"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2357,525,2507,551"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2348,575,2516,602"/>
<area shape="rect" id="node32" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2380,626,2484,653"/>
<area shape="rect" id="node34" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="2059,575,2159,602"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1865,601,1987,627"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1045,449,1211,475"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1289,398,1404,425"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1302,449,1391,475"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1495,347,1607,374"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="859,985,990,1011"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="857,863,992,904"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1043,1038,1213,1065"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1053,1089,1203,1131"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1051,972,1205,1013"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1057,921,1199,947"/>
</map>
</div>

</div>
</div>
<a id="adfdc354034afcb91ceb7c2281073d57c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdc354034afcb91ceb7c2281073d57c">&#9670;&nbsp;</a></span>convert_extent_item_v0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int convert_extent_item_v0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>extra_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_cgraph.png" border="0" usemap="#extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_cgraph" alt=""/></div>
<map name="extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_cgraph" id="extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1223,1984,1353,2011"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="990,1756,1145,1783"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="215,747,323,773"/>
<area shape="rect" id="node10" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1223,347,1353,373"/>
<area shape="rect" id="node19" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="787,945,910,972"/>
<area shape="rect" id="node39" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="1209,1604,1367,1631"/>
<area shape="rect" id="node41" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="373,1984,500,2011"/>
<area shape="rect" id="node47" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="556,2263,712,2289"/>
<area shape="rect" id="node3" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1452,1984,1551,2011"/>
<area shape="rect" id="node4" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1637,1984,1776,2011"/>
<area shape="rect" id="node6" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1234,1731,1342,1757"/>
<area shape="rect" id="node7" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1211,1832,1365,1859"/>
<area shape="rect" id="node9" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="371,587,503,613"/>
<area shape="rect" id="node11" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1430,195,1573,221"/>
<area shape="rect" id="node16" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1438,1148,1565,1175"/>
<area shape="rect" id="node18" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="561,524,707,551"/>
<area shape="rect" id="node21" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1218,1401,1358,1428"/>
<area shape="rect" id="node28" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1421,499,1581,525"/>
<area shape="rect" id="node30" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1203,524,1373,551"/>
<area shape="rect" id="node33" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1027,144,1108,171"/>
<area shape="rect" id="node34" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="991,321,1144,348"/>
<area shape="rect" id="node40" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="553,587,715,613"/>
<area shape="rect" id="node12" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1645,688,1768,715"/>
<area shape="rect" id="node14" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1629,158,1784,199"/>
<area shape="rect" id="node15" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1629,224,1784,251"/>
<area shape="rect" id="node13" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1832,1267,1997,1293"/>
<area shape="rect" id="node17" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1629,1148,1784,1175"/>
<area shape="rect" id="node31" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1023,575,1112,601"/>
<area shape="rect" id="node36" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="997,626,1137,667"/>
<area shape="rect" id="node20" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1006,1401,1129,1428"/>
<area shape="rect" id="node22" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1232,1199,1344,1225"/>
<area shape="rect" id="node23" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="980,1249,1155,1276"/>
<area shape="rect" id="node24" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1211,1300,1365,1327"/>
<area shape="rect" id="node25" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="996,1097,1139,1124"/>
<area shape="rect" id="node26" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1234,1047,1342,1073"/>
<area shape="rect" id="node27" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1223,945,1353,972"/>
<area shape="rect" id="node29" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1009,895,1126,921"/>
<area shape="rect" id="node32" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="985,743,1149,769"/>
<area shape="rect" id="node35" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="985,945,1150,972"/>
<area shape="rect" id="node37" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1215,1781,1361,1808"/>
<area shape="rect" id="node38" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1030,1655,1105,1681"/>
<area shape="rect" id="node42" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="563,1756,705,1783"/>
<area shape="rect" id="node43" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="583,1959,685,1985"/>
<area shape="rect" id="node44" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="795,1908,903,1935"/>
<area shape="rect" id="node45" href="ctree_8h.html#ac7597b449d0d7c9f7a21e34ad1c8138d" title="btrfs_item_end_nr" alt="" coords="785,2060,912,2087"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="551,2111,717,2137"/>
<area shape="rect" id="node48" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="810,2313,887,2340"/>
<area shape="rect" id="node49" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="771,2364,926,2391"/>
<area shape="rect" id="node50" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="765,2212,932,2239"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_icgraph.png" border="0" usemap="#extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_icgraph" alt=""/></div>
<map name="extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_icgraph" id="extent-tree_8c_adfdc354034afcb91ceb7c2281073d57c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="223,372,363,413"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="628,349,763,375"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="215,438,371,465"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="419,346,572,373"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="428,397,563,439"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="819,353,965,379"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="821,403,963,430"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1013,403,1156,430"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1204,430,1372,457"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1420,430,1575,457"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2140,137,2280,179"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2107,361,2313,387"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1637,197,1801,223"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1885,532,2036,573"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2805,550,2975,577"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1642,423,1795,464"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1883,478,2039,505"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2361,507,2532,534"/>
<area shape="rect" id="node42" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1623,291,1815,318"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3057,191,3179,218"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2395,238,2498,265"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2381,5,2512,47"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2385,71,2509,112"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2391,137,2502,163"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2372,339,2521,366"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2363,391,2531,432"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1863,153,2059,179"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="3065,394,3171,421"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="3057,445,3179,471"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3067,495,3169,522"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3073,546,3163,573"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3261,622,3420,649"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="3028,647,3208,674"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="3033,698,3203,725"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="3061,749,3175,775"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="3050,799,3186,826"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="3049,850,3187,877"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3040,901,3196,943"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="3034,967,3202,994"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3023,242,3213,269"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="3027,293,3209,319"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="3067,343,3169,370"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2123,507,2297,534"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2580,507,2757,534"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1891,321,2031,347"/>
<area shape="rect" id="node44" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1876,255,2045,296"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="620,403,771,430"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="630,461,761,487"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1023,455,1147,482"/>
</map>
</div>

</div>
</div>
<a id="a17b415ce607865d97e9e385d9b572e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17b415ce607865d97e9e385d9b572e6f">&#9670;&nbsp;</a></span>create_space_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int create_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> **&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_cgraph.png" border="0" usemap="#extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_cgraph" id="extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a3477a79f1fe1ff7a32a7babaf304d719" title="alloc_name" alt="" coords="181,5,269,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_icgraph.png" border="0" usemap="#extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_icgraph" id="extent-tree_8c_a17b415ce607865d97e9e385d9b572e6f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5075fd56a2745dd4e404b917b3b6962f" title="btrfs_init_space_info" alt="" coords="181,796,324,823"/>
<area shape="rect" id="node3" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="372,796,459,823"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="508,847,615,873"/>
<area shape="rect" id="node7" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="507,536,616,563"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1153,669,1273,696"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1400,669,1511,696"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="664,613,845,654"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="687,730,823,771"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="693,267,817,293"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="695,317,815,344"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="679,65,831,92"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="687,419,822,445"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="705,501,805,528"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="677,561,833,588"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="893,745,1075,772"/>
<area shape="rect" id="node10" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1163,821,1264,848"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="911,796,1057,823"/>
<area shape="rect" id="node16" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="897,948,1071,975"/>
<area shape="rect" id="node13" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1135,720,1292,747"/>
<area shape="rect" id="node14" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1377,771,1533,797"/>
<area shape="rect" id="node15" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1368,720,1543,747"/>
<area shape="rect" id="node17" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1156,1056,1271,1083"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1421,939,1490,965"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1140,990,1287,1031"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1126,873,1301,914"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1380,1056,1531,1083"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1615,964,1766,991"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1607,1015,1775,1041"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1639,913,1743,940"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1611,619,1770,645"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="926,267,1042,293"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1371,225,1540,252"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1160,116,1267,143"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="902,15,1066,41"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="902,65,1066,92"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1352,15,1559,41"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1144,65,1283,92"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="914,343,1054,369"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="906,412,1062,439"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1149,218,1278,259"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1139,283,1287,325"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1167,349,1260,376"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1166,400,1261,427"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="927,492,1041,519"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1165,501,1261,528"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1123,553,1304,594"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1154,451,1273,477"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="899,593,1069,620"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="921,644,1047,671"/>
</map>
</div>

</div>
</div>
<a id="ace2dff8b8137364269478739101093c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2dff8b8137364269478739101093c0">&#9670;&nbsp;</a></span>delayed_ref_async_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void delayed_ref_async_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__work.html">btrfs_work</a> *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ace2dff8b8137364269478739101093c0_cgraph.png" border="0" usemap="#extent-tree_8c_ace2dff8b8137364269478739101093c0_cgraph" alt=""/></div>
<map name="extent-tree_8c_ace2dff8b8137364269478739101093c0_cgraph" id="extent-tree_8c_ace2dff8b8137364269478739101093c0_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0036c5b3686f83778537ab61f515fecb" title="to_async_delayed_refs" alt="" coords="217,395,373,421"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#ac1f8aa5c474522b9dc026d090ef4e325" title="btrfs_transaction_blocked" alt="" coords="421,169,592,196"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="222,496,369,523"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="899,699,1045,725"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1101,941,1255,968"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#a81ce638f8b88051647dcba5e9c37c761" title="is_transaction_blocked" alt="" coords="895,169,1049,196"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="447,369,566,396"/>
<area shape="rect" id="node7" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="671,227,815,269"/>
<area shape="rect" id="node8" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="640,293,847,320"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="661,344,825,371"/>
<area shape="rect" id="node10" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="674,395,813,421"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="669,445,818,472"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="679,496,808,523"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="687,547,800,573"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="659,597,828,624"/>
<area shape="rect" id="node19" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1529,199,1689,225"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="675,97,812,138"/>
<area shape="rect" id="node29" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="664,162,823,203"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1319,344,1463,371"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1324,395,1457,437"/>
<area shape="rect" id="node20" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1319,694,1462,735"/>
<area shape="rect" id="node25" href="ctree_8h.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1324,461,1457,502"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1315,643,1466,669"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1097,547,1259,573"/>
<area shape="rect" id="node24" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="1321,526,1461,567"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="1311,592,1470,619"/>
<area shape="rect" id="node21" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="1775,687,1893,713"/>
<area shape="rect" id="node22" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="1545,679,1673,721"/>
<area shape="rect" id="node23" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1534,745,1683,786"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1307,1101,1475,1128"/>
<area shape="rect" id="node35" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1743,1384,1925,1411"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1319,789,1462,830"/>
<area shape="rect" id="node32" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1581,1181,1636,1208"/>
<area shape="rect" id="node33" href="delayed-ref_8c.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="1535,1232,1682,1259"/>
<area shape="rect" id="node34" href="delayed-ref_8c.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1532,1384,1685,1411"/>
<area shape="rect" id="node42" href="delayed-ref_8c.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="1523,1283,1695,1309"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a76bc63d000532e47f08dcf8318d11bd2" title="select_delayed_ref" alt="" coords="1543,1333,1674,1360"/>
<area shape="rect" id="node44" href="delayed-ref_8c.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="1523,861,1694,888"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="1744,937,1924,964"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1547,963,1671,989"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1537,1013,1680,1040"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1544,1065,1673,1106"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1535,1131,1682,1157"/>
<area shape="rect" id="node36" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="1980,1232,2159,1259"/>
<area shape="rect" id="node37" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="1978,1283,2161,1309"/>
<area shape="rect" id="node38" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="1973,1333,2165,1360"/>
<area shape="rect" id="node39" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="1983,1384,2155,1411"/>
<area shape="rect" id="node40" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="2005,1435,2133,1477"/>
<area shape="rect" id="node41" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1993,1501,2146,1528"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ace2dff8b8137364269478739101093c0_icgraph.png" border="0" usemap="#extent-tree_8c_ace2dff8b8137364269478739101093c0_icgraph" alt=""/></div>
<map name="extent-tree_8c_ace2dff8b8137364269478739101093c0_icgraph" id="extent-tree_8c_ace2dff8b8137364269478739101093c0_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="217,602,413,629"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="495,221,635,263"/>
<area shape="rect" id="node19" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="461,458,668,485"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="484,745,645,771"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1181,370,1303,397"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="970,458,1073,485"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="735,159,865,200"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="738,5,862,47"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1187,71,1297,98"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1373,370,1520,397"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1169,998,1315,1025"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1193,509,1291,535"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="956,173,1087,199"/>
<area shape="rect" id="node11" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="947,122,1096,149"/>
<area shape="rect" id="node12" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="954,224,1089,265"/>
<area shape="rect" id="node14" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="932,17,1111,43"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1375,71,1519,98"/>
<area shape="rect" id="node17" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1568,21,1711,47"/>
<area shape="rect" id="node18" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1759,71,1912,98"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="725,1883,875,1910"/>
<area shape="rect" id="node24" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="716,224,884,265"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="965,1909,1077,1935"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1159,1858,1325,1885"/>
<area shape="rect" id="node23" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="951,1959,1091,1986"/>
<area shape="rect" id="node26" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="727,1031,873,1058"/>
<area shape="rect" id="node50" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="727,737,873,779"/>
<area shape="rect" id="node27" href="btrfs_2xattr_8h.html#a434058b03ecb1c530e21db56b2f845b1" title="btrfs_setxattr" alt="" coords="972,610,1071,637"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="968,661,1075,687"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="961,711,1082,738"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#a291cd889b30fc8af2903498fc3214137" title="btrfs_fallocate_update\l_isize" alt="" coords="946,763,1097,804"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="948,829,1095,855"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="948,879,1095,906"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="945,930,1098,957"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="977,981,1066,1007"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="979,1031,1063,1058"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="956,1082,1087,1109"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a224684e56fe0a3af1b6890569b9efd02" title="btrfs_dirty_inode" alt="" coords="962,1133,1081,1159"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="974,1183,1069,1210"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="976,1234,1067,1261"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a6e36c66b6129e28e2b0da486c58d8aaf" title="btrfs_link" alt="" coords="984,1285,1059,1311"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="978,1335,1065,1362"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a9052833ef2921ef39ec55c8c38d8ddf5" title="btrfs_rename_exchange" alt="" coords="941,1437,1102,1463"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="972,1487,1071,1514"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="971,1538,1071,1565"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="952,1589,1091,1631"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="974,1655,1069,1682"/>
<area shape="rect" id="node47" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="953,1706,1089,1733"/>
<area shape="rect" id="node48" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="948,1757,1095,1783"/>
<area shape="rect" id="node49" href="delayed-inode_8h.html#a939acd50fb9a2b17cbe6bb468eab072e" title="btrfs_commit_inode\l_delayed_inode" alt="" coords="953,392,1089,433"/>
</map>
</div>

</div>
</div>
<a id="a1a6ccd3bca85f0802e3ed439b8cc1dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a6ccd3bca85f0802e3ed439b8cc1dea">&#9670;&nbsp;</a></span>do_chunk_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_chunk_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_cgraph.png" border="0" usemap="#extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_cgraph" alt=""/></div>
<map name="extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_cgraph" id="extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="927,302,1053,329"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="673,74,809,101"/>
<area shape="rect" id="node8" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="173,175,333,202"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="165,226,340,253"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="178,445,327,471"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="919,1976,1061,2017"/>
<area shape="rect" id="node45" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="429,175,553,202"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="186,2027,319,2068"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1141,445,1295,471"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="917,51,1063,92"/>
<area shape="rect" id="node6" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="937,117,1043,143"/>
<area shape="rect" id="node7" href="math_8h.html#a1e995188eb1e88b353d2dfe473f4b868" title="div_factor" alt="" coords="951,167,1029,194"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ae1ea76da07dad6d2aba1d75a681c4d4d" title="get_profile_num_devs" alt="" coords="417,1205,566,1231"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="388,1154,595,1181"/>
<area shape="rect" id="node15" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="887,1169,1093,1195"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="928,445,1052,471"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="425,353,557,395"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="422,470,561,497"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="671,907,811,948"/>
<area shape="rect" id="node14" href="ctree_8h.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="663,1808,818,1849"/>
<area shape="rect" id="node16" href="ctree_8h.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="664,972,817,1013"/>
<area shape="rect" id="node17" href="ctree_8h.html#a0168e2588b90442367ccc0a720842a31" title="btrfs_wait_block_group\l_reservations" alt="" coords="663,1037,819,1079"/>
<area shape="rect" id="node18" href="ctree_8h.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="659,1103,822,1130"/>
<area shape="rect" id="node19" href="ctree_8h.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="657,1154,824,1181"/>
<area shape="rect" id="node20" href="ctree_8h.html#aed66043c7227815a391ec5c94f0a130c" title="btrfs_wait_nocow_writers" alt="" coords="655,1205,826,1231"/>
<area shape="rect" id="node21" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="665,1255,816,1282"/>
<area shape="rect" id="node22" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="663,1874,818,1901"/>
<area shape="rect" id="node27" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="713,1306,768,1333"/>
<area shape="rect" id="node28" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="643,1357,839,1383"/>
<area shape="rect" id="node29" href="ctree_8h.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="657,1407,825,1434"/>
<area shape="rect" id="node30" href="ctree_8h.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="659,1458,823,1485"/>
<area shape="rect" id="node31" href="ctree_8h.html#aa4746d6ccfd60a85e71f8491cf16c80e" title="btrfs_pin_extent" alt="" coords="683,1509,798,1535"/>
<area shape="rect" id="node32" href="ctree_8h.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="672,1560,809,1601"/>
<area shape="rect" id="node33" href="ctree_8h.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="668,1625,813,1667"/>
<area shape="rect" id="node34" href="ctree_8h.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="669,1691,813,1718"/>
<area shape="rect" id="node35" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="675,1743,806,1784"/>
<area shape="rect" id="node36" href="ctree_8h.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="665,571,816,598"/>
<area shape="rect" id="node37" href="ctree_8h.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="666,622,815,649"/>
<area shape="rect" id="node38" href="ctree_8h.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="669,673,813,699"/>
<area shape="rect" id="node39" href="ctree_8h.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="671,724,810,765"/>
<area shape="rect" id="node40" href="ctree_8h.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="677,789,804,831"/>
<area shape="rect" id="node41" href="ctree_8h.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="670,470,811,497"/>
<area shape="rect" id="node43" href="ctree_8h.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="693,855,788,882"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0d066b606d54d975462d96e196518d7e" title="btrfs_insert_item" alt="" coords="1343,2013,1461,2039"/>
<area shape="rect" id="node25" href="volumes_8c.html#afc6173e9134d2dbded7553ddd2c9ac9e" title="btrfs_finish_chunk\l_alloc" alt="" coords="1154,2035,1282,2076"/>
<area shape="rect" id="node26" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1143,1917,1293,1959"/>
<area shape="rect" id="node46" href="volumes_8c.html#a74e7997dabf8dcf8bff58a1ff1b77302" title="find_next_chunk" alt="" coords="682,201,799,227"/>
<area shape="rect" id="node47" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="671,150,810,177"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="408,2034,575,2061"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_icgraph.png" border="0" usemap="#extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_icgraph" id="extent-tree_8c_a1a6ccd3bca85f0802e3ed439b8cc1dea_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="165,246,321,287"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="197,1199,289,1225"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="186,985,301,1012"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="837,1133,1003,1160"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="840,1083,1000,1109"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1097,43,1216,69"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1325,43,1429,69"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="379,443,530,485"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="612,451,763,477"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="622,527,753,553"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="613,254,762,295"/>
<area shape="rect" id="node21" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="620,958,755,999"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="852,464,988,491"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1091,439,1223,465"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="835,515,1005,541"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="845,566,995,607"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="843,631,997,673"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1053,639,1260,665"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="847,145,993,186"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="850,93,990,120"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="866,211,974,237"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="852,261,988,288"/>
<area shape="rect" id="node19" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="845,312,995,339"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="836,363,1004,389"/>
<area shape="rect" id="node22" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="853,1017,987,1058"/>
<area shape="rect" id="node23" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1084,1032,1229,1059"/>
<area shape="rect" id="node24" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1308,1067,1447,1109"/>
<area shape="rect" id="node25" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1520,1125,1616,1152"/>
<area shape="rect" id="node26" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1497,1075,1639,1101"/>
<area shape="rect" id="node27" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1872,1128,1987,1155"/>
<area shape="rect" id="node28" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1689,1128,1824,1155"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="385,1191,524,1233"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="369,1257,540,1298"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="588,1201,787,1228"/>
<area shape="rect" id="node32" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="877,1208,963,1235"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="617,1257,757,1298"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="837,1264,1003,1291"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="617,849,758,876"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1062,799,1251,825"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="865,849,975,876"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="839,900,1001,927"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="851,951,989,993"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="845,748,995,775"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1310,799,1445,825"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1089,900,1225,927"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1312,875,1443,901"/>
<area shape="rect" id="node47" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1071,1133,1242,1160"/>
<area shape="rect" id="node48" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1320,1133,1435,1160"/>
<area shape="rect" id="node50" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1495,1177,1641,1218"/>
</map>
</div>

</div>
</div>
<a id="a217c1835aaf5d08b470c532f9e6a0ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217c1835aaf5d08b470c532f9e6a0ad9">&#9670;&nbsp;</a></span>do_walk_down()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int do_walk_down </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwalk__control.html">walk_control</a> *&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lookup_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_cgraph.png" border="0" usemap="#extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_cgraph" alt=""/></div>
<map name="extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_cgraph" id="extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="380,629,552,656"/>
<area shape="rect" id="node3" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="398,680,534,707"/>
<area shape="rect" id="node4" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="387,528,545,555"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="1051,1015,1178,1041"/>
<area shape="rect" id="node13" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="623,999,771,1041"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="161,462,327,503"/>
<area shape="rect" id="node17" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="859,132,967,159"/>
<area shape="rect" id="node18" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="165,56,323,83"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="384,309,548,336"/>
<area shape="rect" id="node24" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1051,715,1178,741"/>
<area shape="rect" id="node33" href="ctree_8c.html#a5583fb14c86f35ee9dc82ba7538bba77" title="btrfs_comp_cpu_keys" alt="" coords="391,360,541,387"/>
<area shape="rect" id="node34" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="624,1065,769,1092"/>
<area shape="rect" id="node35" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="1037,1268,1192,1295"/>
<area shape="rect" id="node43" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="183,5,305,32"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="181,528,307,555"/>
<area shape="rect" id="node47" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="409,883,523,909"/>
<area shape="rect" id="node49" href="qgroup_8c.html#a4273e8a52c184af0a427768658a62eef" title="btrfs_qgroup_trace\l_subtree" alt="" coords="179,731,309,773"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="184,1105,304,1132"/>
<area shape="rect" id="node5" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="641,579,752,605"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="836,503,989,529"/>
<area shape="rect" id="node8" href="extent__io_8c.html#a8f8971b21a75989268a2f29358acdc99" title="mark_extent_buffer\l_accessed" alt="" coords="1253,933,1388,974"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1449,940,1597,967"/>
<area shape="rect" id="node10" href="extent__io_8h.html#a29abd63bd8d61dbce1e013e2d13f9e8e" title="alloc_test_extent_buffer" alt="" coords="1240,1116,1401,1143"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a4260e72c84f6e638112280d3d1f459f7" title="alloc_dummy_extent\l_buffer" alt="" coords="1249,1050,1392,1091"/>
<area shape="rect" id="node12" href="extent__io_8c.html#aff53638991957d47ed7598815c2bada2" title="btrfs_release_extent\l_buffer" alt="" coords="1251,867,1391,909"/>
<area shape="rect" id="node14" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="857,1116,968,1143"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a4974facd69d3453e3768855c44ba3ee9" title="alloc_extent_buffer" alt="" coords="847,964,979,991"/>
<area shape="rect" id="node19" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="376,56,556,83"/>
<area shape="rect" id="node20" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="614,31,779,57"/>
<area shape="rect" id="node22" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="639,680,754,707"/>
<area shape="rect" id="node23" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="635,157,758,184"/>
<area shape="rect" id="node27" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="848,427,977,453"/>
<area shape="rect" id="node28" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="619,427,774,453"/>
<area shape="rect" id="node29" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="632,208,761,235"/>
<area shape="rect" id="node30" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="633,259,761,301"/>
<area shape="rect" id="node31" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="605,325,788,352"/>
<area shape="rect" id="node32" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="642,477,751,504"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1243,816,1398,843"/>
<area shape="rect" id="node26" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1247,715,1394,741"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a6bde46c79adc9fb20eda2e833b92de3a" title="verify_parent_transid" alt="" coords="841,1015,984,1041"/>
<area shape="rect" id="node42" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="874,913,951,940"/>
<area shape="rect" id="node36" href="extent__io_8h.html#a11e9d909f707735282435977e116cad9" title="memcmp_extent_buffer" alt="" coords="1241,1401,1400,1428"/>
<area shape="rect" id="node37" href="extent__io_8h.html#a7577bd5c713a61ebcb5982e26f3eeb21" title="read_extent_buffer" alt="" coords="1255,1167,1386,1193"/>
<area shape="rect" id="node38" href="extent__io_8h.html#a29b68684421500849aa94cef1892d223" title="read_extent_buffer\l_to_user" alt="" coords="1255,1218,1386,1259"/>
<area shape="rect" id="node39" href="extent__io_8h.html#ace7cb4a3c1cfe97e58188b6177476031" title="write_extent_buffer_fsid" alt="" coords="1240,1284,1401,1311"/>
<area shape="rect" id="node40" href="extent__io_8h.html#aaeded2099fa8eb219fb9c504fef512df" title="write_extent_buffer\l_chunk_tree_uuid" alt="" coords="1254,1335,1387,1377"/>
<area shape="rect" id="node45" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="375,411,557,453"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a95ecad9833224c4d4a39bde4533d529f" title="readahead_tree_block" alt="" coords="391,579,541,605"/>
<area shape="rect" id="node48" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="613,934,780,975"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_icgraph.png" border="0" usemap="#extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_icgraph" alt=""/></div>
<map name="extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_icgraph" id="extent-tree_8c_a217c1835aaf5d08b470c532f9e6a0ad9_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="161,533,277,560"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="325,559,465,585"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="330,385,461,412"/>
<area shape="rect" id="node4" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="539,385,651,412"/>
<area shape="rect" id="node35" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="745,664,874,691"/>
<area shape="rect" id="node41" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="513,707,676,749"/>
<area shape="rect" id="node5" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="753,512,866,539"/>
<area shape="rect" id="node12" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1195,208,1310,235"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="724,563,895,589"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="724,259,895,285"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="726,309,893,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="725,107,893,133"/>
<area shape="rect" id="node25" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="954,664,1122,691"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="743,157,875,184"/>
<area shape="rect" id="node28" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="737,360,882,387"/>
<area shape="rect" id="node30" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="758,411,861,437"/>
<area shape="rect" id="node32" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="734,461,885,488"/>
<area shape="rect" id="node6" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="971,512,1105,539"/>
<area shape="rect" id="node7" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1181,512,1324,539"/>
<area shape="rect" id="node8" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1381,512,1509,539"/>
<area shape="rect" id="node9" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1582,487,1713,513"/>
<area shape="rect" id="node10" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1565,537,1729,564"/>
<area shape="rect" id="node11" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1579,588,1715,615"/>
<area shape="rect" id="node14" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="943,613,1133,640"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1209,664,1296,691"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1391,664,1498,691"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="965,259,1111,285"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1197,259,1308,285"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="995,107,1081,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1187,107,1318,133"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1194,157,1311,184"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="969,157,1107,184"/>
<area shape="rect" id="node29" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="983,309,1093,336"/>
<area shape="rect" id="node31" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="991,360,1085,387"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="993,461,1083,488"/>
<area shape="rect" id="node34" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="951,411,1125,437"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1372,428,1517,455"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="957,765,1119,792"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1578,421,1717,462"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1777,609,1873,636"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1201,715,1304,741"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="752,715,867,741"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="729,791,889,817"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="953,816,1123,843"/>
<area shape="rect" id="node46" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="545,56,644,83"/>
<area shape="rect" id="node47" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="760,56,859,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="971,5,1105,32"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="965,56,1111,83"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="1181,56,1324,83"/>
</map>
</div>

</div>
</div>
<a id="aac7f6e48fc93a32e56023f21639d9aa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7f6e48fc93a32e56023f21639d9aa5">&#9670;&nbsp;</a></span>dump_space_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dump_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dump_block_groups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_cgraph.png" border="0" usemap="#extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_cgraph" alt=""/></div>
<map name="extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_cgraph" id="extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="180,5,333,32"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="177,56,336,83"/>
<area shape="rect" id="node4" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="384,56,439,83"/>
<area shape="rect" id="node5" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="487,56,605,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_icgraph.png" border="0" usemap="#extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_icgraph" alt=""/></div>
<map name="extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_icgraph" id="extent-tree_8c_aac7f6e48fc93a32e56023f21639d9aa5_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="592,479,741,506"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1221,251,1363,278"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="177,428,343,455"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="1428,1052,1589,1079"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="815,580,927,607"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="991,530,1158,556"/>
<area shape="rect" id="node29" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1222,479,1362,506"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="997,632,1153,673"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1029,580,1121,607"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1017,302,1132,328"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="995,698,1155,724"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1649,327,1838,354"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1454,226,1563,252"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1428,75,1589,102"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1439,160,1578,201"/>
<area shape="rect" id="node19" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1640,466,1847,492"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1434,378,1583,404"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1902,327,2037,354"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1675,226,1811,252"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1904,251,2035,278"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1665,43,1822,70"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="1681,160,1805,201"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="1681,94,1805,136"/>
<area shape="rect" id="node18" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1895,47,2044,74"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1909,983,2030,1010"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1918,466,2021,492"/>
<area shape="rect" id="node24" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1439,632,1578,673"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1207,530,1377,556"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1672,542,1815,568"/>
<area shape="rect" id="node28" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1219,748,1365,775"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1425,479,1592,506"/>
<area shape="rect" id="node33" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1474,580,1543,607"/>
<area shape="rect" id="node31" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1699,1052,1788,1079"/>
<area shape="rect" id="node32" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1926,1071,2013,1098"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="393,302,531,328"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="800,875,943,902"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="391,559,533,586"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="409,428,515,455"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="590,94,743,120"/>
<area shape="rect" id="node37" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="597,145,736,186"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="583,210,751,252"/>
<area shape="rect" id="node39" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="619,276,715,303"/>
<area shape="rect" id="node40" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="808,690,935,716"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="607,327,726,354"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="581,378,752,404"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1013,951,1136,978"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="991,900,1159,927"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1007,850,1143,876"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="592,581,741,622"/>
</map>
</div>

</div>
</div>
<a id="a598ec202df7c623262253ae2ea1e6956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598ec202df7c623262253ae2ea1e6956">&#9670;&nbsp;</a></span>exclude_super_stripes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int exclude_super_stripes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_cgraph.png" border="0" usemap="#extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_cgraph" alt=""/></div>
<map name="extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_cgraph" id="extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7b8d1dcec08d810d825734e98ca35e46" title="add_excluded_extent" alt="" coords="205,31,351,57"/>
<area shape="rect" id="node5" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="223,579,333,605"/>
<area shape="rect" id="node48" href="volumes_8c.html#ac25a3865fdfa80949ee3fd1e609707b1" title="btrfs_rmap_block" alt="" coords="217,107,339,133"/>
<area shape="rect" id="node3" href="extent__io_8h.html#a0f26c20721fdb99360a587accb5b5ec1" title="set_extent_bits" alt="" coords="429,5,539,32"/>
<area shape="rect" id="node4" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="665,5,769,32"/>
<area shape="rect" id="node6" href="disk-io_8h.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="427,781,541,808"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a95ecad9833224c4d4a39bde4533d529f" title="readahead_tree_block" alt="" coords="409,832,559,859"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a57321c2d30f0e195ad845fe1bde29555" title="reada_tree_block_flagged" alt="" coords="399,941,569,968"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="643,591,791,633"/>
<area shape="rect" id="node19" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="424,680,544,707"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="441,1271,527,1297"/>
<area shape="rect" id="node36" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="439,309,529,336"/>
<area shape="rect" id="node38" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="426,360,542,387"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="411,411,557,437"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="416,462,552,503"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="415,528,553,555"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ab428bbb1f4037e1d48162bce47a1f41c" title="btrfs_read_fs_root" alt="" coords="421,579,547,605"/>
<area shape="rect" id="node43" href="disk-io_8h.html#a3ed74b56709d68f7e90f153ecac7c347" title="btrfs_init_fs_root" alt="" coords="425,629,543,656"/>
<area shape="rect" id="node44" href="disk-io_8h.html#a77e367c4e91efe6cedbcffafa5b29d83" title="btrfs_lookup_fs_root" alt="" coords="414,1321,554,1348"/>
<area shape="rect" id="node45" href="disk-io_8h.html#a9fca74bcf57d341ed480c5b7ee581890" title="btrfs_insert_fs_root" alt="" coords="417,208,551,235"/>
<area shape="rect" id="node46" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="419,887,549,913"/>
<area shape="rect" id="node47" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="424,259,544,285"/>
<area shape="rect" id="node7" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="643,657,791,698"/>
<area shape="rect" id="node11" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="633,774,800,815"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="653,891,780,917"/>
<area shape="rect" id="node8" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="889,683,1000,709"/>
<area shape="rect" id="node9" href="extent__io_8h.html#a29abd63bd8d61dbce1e013e2d13f9e8e" title="alloc_test_extent_buffer" alt="" coords="864,581,1025,608"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a4974facd69d3453e3768855c44ba3ee9" title="alloc_extent_buffer" alt="" coords="879,632,1011,659"/>
<area shape="rect" id="node12" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="906,916,983,943"/>
<area shape="rect" id="node13" href="extent__io_8c.html#aa7c3981789599b3376ee73c3ae64bf8d" title="read_extent_buffer\l_pages" alt="" coords="879,774,1010,815"/>
<area shape="rect" id="node17" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="639,1043,794,1069"/>
<area shape="rect" id="node20" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="634,540,799,567"/>
<area shape="rect" id="node21" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="637,423,796,449"/>
<area shape="rect" id="node22" href="extent__io_8c.html#a5d6d3672069a2fb3866e895fec76db34" title="clear_extent_buffer\l_dirty" alt="" coords="650,474,783,515"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="682,1296,751,1323"/>
<area shape="rect" id="node25" href="free-space-tree_8c.html#a0889f0179a51c5b0f0fc4e8f377d5f76" title="clear_free_space_tree" alt="" coords="641,1347,792,1373"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a60b993ca96d10a0f2d1ad36ec5dbcda2" title="btrfs_alloc_root" alt="" coords="661,1397,772,1424"/>
<area shape="rect" id="node27" href="volumes_8c.html#acb6194ebbcc67a1cb1a20efecc2c1c21" title="btrfs_mapping_init" alt="" coords="653,1448,781,1475"/>
<area shape="rect" id="node28" href="ctree_8h.html#a628d6cb779fbf248f09a33ed84e8aa26" title="btrfs_init_block_rsv" alt="" coords="649,1499,784,1525"/>
<area shape="rect" id="node29" href="ref-verify_8h.html#a64b466c86caea5858af7e9adf95a2300" title="btrfs_init_ref_verify" alt="" coords="650,1549,783,1576"/>
<area shape="rect" id="node30" href="inode_8c.html#ae03a9f08d4efbf91ff44e29c1369314e" title="new_inode" alt="" coords="675,1600,759,1627"/>
<area shape="rect" id="node31" href="delayed-inode_8h.html#a4d171a4ea235f941d75d4cad68c0c7e2" title="btrfs_init_delayed_root" alt="" coords="640,1651,793,1677"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a3bdb16eb602b5b125666a016fdeb46fc" title="btrfs_init_scrub" alt="" coords="661,1093,772,1120"/>
<area shape="rect" id="node33" href="disk-io_8c.html#aa5794934b3036327d0f5d6122bd1a83b" title="btrfs_init_balance" alt="" coords="655,1195,779,1221"/>
<area shape="rect" id="node34" href="ctree_8h.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="617,1245,816,1272"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a57f2a76118201d63d63ff8780f1646ba" title="btrfs_init_btree_inode" alt="" coords="643,1144,790,1171"/>
<area shape="rect" id="node37" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="657,107,776,133"/>
<area shape="rect" id="node49" href="volumes_8c.html#a20c8d29c95ccc352190bd1c0f0aaaa60" title="get_chunk_map" alt="" coords="427,107,541,133"/>
<area shape="rect" id="node50" href="raid56_8h.html#ac5988ea3c9438abdbcc1ff6ca6547381" title="nr_data_stripes" alt="" coords="429,157,539,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_icgraph.png" border="0" usemap="#extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_icgraph" alt=""/></div>
<map name="extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_icgraph" id="extent-tree_8c_a598ec202df7c623262253ae2ea1e6956_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="205,232,369,259"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="205,472,369,499"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="417,472,624,499"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1344,251,1431,277"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="695,523,817,549"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="705,245,807,272"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="888,691,1037,717"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="672,625,840,666"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="889,523,1036,549"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="889,245,1036,272"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="914,144,1011,171"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1103,144,1239,171"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1328,157,1447,184"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1093,245,1248,272"/>
<area shape="rect" id="node24" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1090,296,1251,323"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1551,332,1657,359"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1549,221,1659,248"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1967,407,2087,433"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2135,407,2245,433"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1737,199,1919,241"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1760,265,1896,306"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1766,331,1890,357"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1768,47,1888,73"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1761,97,1895,124"/>
<area shape="rect" id="node20" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1778,148,1878,175"/>
<area shape="rect" id="node21" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1750,381,1906,408"/>
<area shape="rect" id="node22" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1992,668,2061,695"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1125,93,1217,120"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1115,733,1227,760"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1304,596,1471,623"/>
<area shape="rect" id="node37" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1101,632,1241,659"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1309,799,1465,841"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1341,647,1433,673"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1330,697,1445,724"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1307,748,1467,775"/>
<area shape="rect" id="node33" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1535,647,1673,689"/>
<area shape="rect" id="node35" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1519,596,1689,623"/>
<area shape="rect" id="node34" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1757,600,1899,627"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1304,413,1471,440"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="897,573,1028,600"/>
<area shape="rect" id="node44" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="895,807,1030,849"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1085,515,1256,541"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1095,566,1246,607"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1094,449,1247,490"/>
<area shape="rect" id="node45" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1099,865,1242,892"/>
<area shape="rect" id="node47" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="451,741,590,768"/>
<area shape="rect" id="node48" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="694,741,818,768"/>
<area shape="rect" id="node49" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="689,872,823,899"/>
<area shape="rect" id="node50" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1530,967,1678,993"/>
</map>
</div>

</div>
</div>
<a id="a2c938c9a797972d706531786b28c86b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c938c9a797972d706531786b28c86b6">&#9670;&nbsp;</a></span>extent_data_ref_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline u32 extent_data_ref_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref *&#160;</td>
          <td class="paramname"><em>iref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2c938c9a797972d706531786b28c86b6_cgraph.png" border="0" usemap="#extent-tree_8c_a2c938c9a797972d706531786b28c86b6_cgraph" alt=""/></div>
<map name="extent-tree_8c_a2c938c9a797972d706531786b28c86b6_cgraph" id="extent-tree_8c_a2c938c9a797972d706531786b28c86b6_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="561,56,716,83"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="204,213,357,254"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="803,5,911,32"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="781,56,934,83"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1025,372,1124,399"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1201,372,1339,399"/>
<area shape="rect" id="node8" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="405,351,513,377"/>
<area shape="rect" id="node9" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="565,351,712,377"/>
<area shape="rect" id="node13" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="574,107,703,149"/>
<area shape="rect" id="node15" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="577,503,700,529"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="793,427,922,453"/>
<area shape="rect" id="node18" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="785,645,929,672"/>
<area shape="rect" id="node22" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="769,477,945,504"/>
<area shape="rect" id="node24" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="572,604,705,631"/>
<area shape="rect" id="node25" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="594,696,683,723"/>
<area shape="rect" id="node47" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="585,173,692,200"/>
<area shape="rect" id="node49" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="583,224,694,251"/>
<area shape="rect" id="node10" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="764,325,951,352"/>
<area shape="rect" id="node11" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="797,376,917,403"/>
<area shape="rect" id="node12" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1003,423,1146,449"/>
<area shape="rect" id="node14" href="ctree_8h.html#a713d9e8ab85dd576211f29c7adfd1901" title="btrfs_dir_item_key" alt="" coords="793,107,922,133"/>
<area shape="rect" id="node17" href="ctree_8h.html#af629a64daf06e6689e0aed2d0655b060" title="btrfs_tree_block_key" alt="" coords="786,528,929,555"/>
<area shape="rect" id="node19" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="793,579,921,621"/>
<area shape="rect" id="node20" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1047,587,1102,613"/>
<area shape="rect" id="node21" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1211,587,1329,613"/>
<area shape="rect" id="node23" href="ctree_8h.html#ad8e455ffd90235ec505392037ceb69f6" title="btrfs_file_extent_inline\l_item_len" alt="" coords="999,474,1151,515"/>
<area shape="rect" id="node26" href="ctree_8h.html#a468f209ce619d17a76cc9c3a78f24cc6" title="btrfs_stripe_devid_nr" alt="" coords="786,747,929,773"/>
<area shape="rect" id="node46" href="ctree_8h.html#aeef125c97ae680c4a601d4680597c18b" title="btrfs_stripe_offset_nr" alt="" coords="785,696,930,723"/>
<area shape="rect" id="node27" href="ctree_8h.html#a7d5478338408ba3c40f5bcd0d57c385f" title="btrfs_stripe_nr" alt="" coords="1022,696,1127,723"/>
<area shape="rect" id="node28" href="reiserfs_2bitmap_8c.html#a4c333bf541847de63408a6b717bb070f" title="block_group_used" alt="" coords="1011,747,1138,773"/>
<area shape="rect" id="node29" href="reiserfs_2bitmap_8c.html#a63c7e66c5a6ae382eacd56fcf1868de7" title="bmap_hash_id" alt="" coords="1217,692,1323,719"/>
<area shape="rect" id="node33" href="reiserfs_2bitmap_8c.html#abea185527d26799785fd032bfa486849" title="reiserfs_read_bitmap\l_block" alt="" coords="1199,915,1341,957"/>
<area shape="rect" id="node30" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1441,616,1491,643"/>
<area shape="rect" id="node31" href="hashes_8c.html#aa44a685c4821172e3c0b89df950c3898" title="keyed_hash" alt="" coords="1420,667,1512,693"/>
<area shape="rect" id="node32" href="reiserfs_8h.html#a11723b717ae0e6ca3ad3c2c7d911f569" title="reiserfs_bmap_count" alt="" coords="1791,988,1933,1015"/>
<area shape="rect" id="node34" href="reiserfs_8h.html#a0e265314d75fff703a39c90e48f4462b" title="REISERFS_SB" alt="" coords="1603,835,1717,861"/>
<area shape="rect" id="node35" href="reiserfs_2bitmap_8c.html#a07606fb68673f63ac428d55149dd8842" title="scan_bitmap" alt="" coords="1418,1120,1514,1147"/>
<area shape="rect" id="node41" href="reiserfs_2lock_8c.html#acffafbcd9e9d400a9018c23375afed69" title="reiserfs_write_unlock\l_nested" alt="" coords="1393,886,1539,927"/>
<area shape="rect" id="node42" href="buffer_8c.html#ac2f21d8452ec8e7f51270bacf8df7e59" title="__wait_on_buffer" alt="" coords="1405,952,1527,979"/>
<area shape="rect" id="node44" href="reiserfs_2lock_8c.html#a340707d69035995c991dfd2de6693360" title="reiserfs_write_lock\l_nested" alt="" coords="1401,769,1531,810"/>
<area shape="rect" id="node45" href="reiserfs_2bitmap_8c.html#aa21a34a7d4c6cc8ae4b868dbdab8d726" title="reiserfs_cache_bitmap\l_metadata" alt="" coords="1389,1054,1543,1095"/>
<area shape="rect" id="node36" href="reiserfs_2bitmap_8c.html#a8e081c0a2844294713d6621752beb22f" title="get_bit_address" alt="" coords="1603,1120,1717,1147"/>
<area shape="rect" id="node37" href="reiserfs_2bitmap_8c.html#aa55bcddedd67e4f5feea0773c3c6ab64" title="scan_bitmap_block" alt="" coords="1593,1069,1727,1096"/>
<area shape="rect" id="node38" href="reiserfs_2bitmap_8c.html#abaebb6f67e5594a48236521efad82e46" title="is_block_in_journal" alt="" coords="1796,1171,1928,1197"/>
<area shape="rect" id="node39" href="reiserfs_2journal_8c.html#a2d47ffd3c3461f4d675a8b5915ea4a21" title="reiserfs_prepare_for\l_journal" alt="" coords="1793,1039,1931,1081"/>
<area shape="rect" id="node40" href="reiserfs_2journal_8c.html#a82524a79c6960bcaf9d86e42b955583c" title="reiserfs_restore_prepared\l_buffer" alt="" coords="1777,1105,1947,1146"/>
<area shape="rect" id="node43" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1591,952,1729,979"/>
<area shape="rect" id="node48" href="ctree_8h.html#a26204c078cfb39ea1bc22b5e3029361f" title="btrfs_device_total\l_bytes" alt="" coords="795,158,920,199"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="792,224,923,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2c938c9a797972d706531786b28c86b6_icgraph.png" border="0" usemap="#extent-tree_8c_a2c938c9a797972d706531786b28c86b6_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2c938c9a797972d706531786b28c86b6_icgraph" id="extent-tree_8c_a2c938c9a797972d706531786b28c86b6_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="204,448,372,475"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1043,514,1177,540"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="420,448,591,475"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="438,332,573,373"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="642,441,777,482"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="1035,444,1185,471"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="639,506,780,548"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="829,339,985,366"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="840,441,975,482"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1233,494,1380,520"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1235,443,1378,470"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1428,443,1571,470"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1619,418,1787,444"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1835,418,1989,444"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2555,121,2695,162"/>
<area shape="rect" id="node17" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2521,291,2728,318"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="2051,150,2215,176"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2300,418,2451,460"/>
<area shape="rect" id="node23" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="3220,510,3389,536"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="2057,469,2210,510"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2297,535,2453,562"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2776,535,2947,562"/>
<area shape="rect" id="node40" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="2037,331,2229,358"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3467,215,3588,242"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2810,215,2913,242"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2796,33,2927,74"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2799,98,2923,140"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2806,164,2917,191"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2787,316,2936,343"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2777,368,2945,409"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="2277,150,2473,176"/>
<area shape="rect" id="node24" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="3474,332,3581,359"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="3467,383,3588,410"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3477,434,3578,460"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3482,484,3573,511"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3665,560,3824,587"/>
<area shape="rect" id="node29" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="3437,586,3617,612"/>
<area shape="rect" id="node30" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="3442,636,3613,663"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="3470,687,3585,714"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="3459,738,3595,764"/>
<area shape="rect" id="node33" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="3459,788,3596,815"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3449,266,3605,308"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2537,535,2712,562"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2995,535,3172,562"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="2305,251,2445,278"/>
<area shape="rect" id="node42" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="2291,353,2460,394"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="828,514,987,540"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="1045,346,1175,372"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1437,378,1561,404"/>
</map>
</div>

</div>
</div>
<a id="a12fe0fd796b0c0b5ec8d23ebe99d9338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fe0fd796b0c0b5ec8d23ebe99d9338">&#9670;&nbsp;</a></span>extent_ref_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int extent_ref_type </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a12fe0fd796b0c0b5ec8d23ebe99d9338_icgraph.png" border="0" usemap="#extent-tree_8c_a12fe0fd796b0c0b5ec8d23ebe99d9338_icgraph" alt=""/></div>
<map name="extent-tree_8c_a12fe0fd796b0c0b5ec8d23ebe99d9338_icgraph" id="extent-tree_8c_a12fe0fd796b0c0b5ec8d23ebe99d9338_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="165,393,305,435"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="168,459,303,500"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="353,401,507,427"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="363,452,497,493"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="563,405,697,431"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="753,455,900,482"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="755,405,898,431"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="948,430,1091,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1139,430,1307,457"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1355,430,1509,457"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2075,137,2215,179"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2041,361,2248,387"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1571,197,1735,223"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1820,532,1971,573"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2740,575,2909,602"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1577,423,1730,464"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1817,478,1973,505"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2296,507,2467,534"/>
<area shape="rect" id="node44" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1557,291,1749,318"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2992,178,3113,205"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2330,238,2433,265"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2316,5,2447,47"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2319,71,2443,112"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2326,137,2437,163"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2307,339,2456,366"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2297,391,2465,432"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1797,153,1993,179"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2999,381,3106,407"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2992,431,3113,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3002,482,3103,509"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3007,533,3098,559"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3196,609,3355,635"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2963,634,3143,661"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2967,685,3138,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2995,735,3110,762"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2985,786,3121,813"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2984,837,3121,863"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2975,888,3131,929"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2969,954,3137,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2957,1005,3148,1031"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2961,1055,3144,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="3001,229,3104,255"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2993,279,3112,306"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2992,330,3113,357"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2057,507,2232,534"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2515,507,2692,534"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1825,321,1965,347"/>
<area shape="rect" id="node46" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1811,255,1980,296"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="555,455,705,482"/>
</map>
</div>

</div>
</div>
<a id="a5a5237a87cb32541134aa6e06c8dad37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5237a87cb32541134aa6e06c8dad37">&#9670;&nbsp;</a></span>fetch_cluster_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a>* fetch_cluster_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>empty_cluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_cgraph.png" border="0" usemap="#extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_cgraph" alt=""/></div>
<map name="extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_cgraph" id="extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="179,5,339,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_icgraph.png" border="0" usemap="#extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_icgraph" id="extent-tree_8c_a5a5237a87cb32541134aa6e06c8dad37_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="179,1187,313,1213"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="189,1288,303,1315"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="378,1179,507,1221"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="361,925,524,966"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="789,1757,996,1784"/>
<area shape="rect" id="node9" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="572,883,741,909"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1067,1219,1189,1245"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1077,1707,1179,1733"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1053,1757,1203,1784"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1044,1809,1212,1850"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="839,528,946,555"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="832,579,953,605"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="842,629,943,656"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="847,680,938,707"/>
<area shape="rect" id="node14" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1049,81,1207,108"/>
<area shape="rect" id="node15" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="803,56,983,83"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="807,832,978,859"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="835,883,950,909"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="825,933,961,960"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="824,984,961,1011"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="815,1035,971,1077"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="809,1101,977,1128"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="797,1152,988,1179"/>
<area shape="rect" id="node23" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="801,1203,984,1229"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="841,1707,944,1733"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="833,1253,952,1280"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="832,1304,953,1331"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="831,1355,955,1397"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="823,1421,962,1448"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="809,1473,976,1514"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="818,1539,967,1565"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="813,1589,972,1616"/>
<area shape="rect" id="node32" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="823,1641,963,1682"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="823,5,963,32"/>
<area shape="rect" id="node34" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="829,477,956,504"/>
<area shape="rect" id="node35" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1055,477,1201,504"/>
<area shape="rect" id="node36" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="825,157,961,184"/>
<area shape="rect" id="node37" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="812,208,973,235"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="807,259,978,285"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="819,310,966,351"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="833,376,952,403"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="812,427,973,453"/>
<area shape="rect" id="node43" href="disk-io_8c.html#a104a95a524285e86c8267045ff366cf7" title="btrfs_destroy_pinned\l_extent" alt="" coords="585,817,728,858"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="372,1769,513,1796"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="798,1833,987,1860"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="602,1820,711,1847"/>
<area shape="rect" id="node48" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="576,1719,737,1745"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="587,1922,726,1963"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="582,1668,731,1695"/>
</map>
</div>

</div>
</div>
<a id="a46f278c06a6d46aa1e7ec8f152950ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f278c06a6d46aa1e7ec8f152950ca8">&#9670;&nbsp;</a></span>find_first_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_first_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_cgraph.png" border="0" usemap="#extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_cgraph" alt=""/></div>
<map name="extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_cgraph" id="extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="647,861,769,888"/>
<area shape="rect" id="node43" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="228,608,336,634"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="631,1216,785,1242"/>
<area shape="rect" id="node47" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="203,962,361,989"/>
<area shape="rect" id="node49" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="223,1013,341,1040"/>
<area shape="rect" id="node3" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1321,1266,1443,1293"/>
<area shape="rect" id="node4" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1077,760,1217,786"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1091,912,1203,938"/>
<area shape="rect" id="node6" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="833,861,1008,888"/>
<area shape="rect" id="node7" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1070,810,1225,837"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1319,861,1445,888"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="849,1013,992,1040"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1093,962,1201,989"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1083,1570,1212,1597"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1083,490,1212,517"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1311,237,1453,264"/>
<area shape="rect" id="node23" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1302,338,1462,365"/>
<area shape="rect" id="node25" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="862,1350,979,1377"/>
<area shape="rect" id="node29" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1062,389,1233,416"/>
<area shape="rect" id="node31" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="876,1181,965,1208"/>
<area shape="rect" id="node34" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="839,557,1003,584"/>
<area shape="rect" id="node37" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="880,101,961,128"/>
<area shape="rect" id="node38" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="844,354,997,381"/>
<area shape="rect" id="node39" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="838,810,1003,837"/>
<area shape="rect" id="node40" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="851,1064,991,1106"/>
<area shape="rect" id="node41" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1309,1456,1455,1482"/>
<area shape="rect" id="node42" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1110,1368,1185,1394"/>
<area shape="rect" id="node8" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1753,343,1905,384"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1538,836,1693,862"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1542,886,1689,913"/>
<area shape="rect" id="node14" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1321,1317,1443,1344"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1327,1596,1437,1622"/>
<area shape="rect" id="node17" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1321,1545,1443,1572"/>
<area shape="rect" id="node20" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1554,262,1677,289"/>
<area shape="rect" id="node21" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1538,314,1693,355"/>
<area shape="rect" id="node22" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1538,212,1693,238"/>
<area shape="rect" id="node24" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1525,380,1705,406"/>
<area shape="rect" id="node26" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1068,1418,1227,1445"/>
<area shape="rect" id="node27" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1082,1317,1213,1344"/>
<area shape="rect" id="node28" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1328,1368,1436,1394"/>
<area shape="rect" id="node30" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="1287,389,1477,416"/>
<area shape="rect" id="node32" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="1088,1216,1207,1242"/>
<area shape="rect" id="node33" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="1077,1165,1218,1192"/>
<area shape="rect" id="node35" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="1056,592,1239,634"/>
<area shape="rect" id="node36" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="1083,658,1211,685"/>
<area shape="rect" id="node44" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="430,405,562,432"/>
<area shape="rect" id="node46" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="844,1553,997,1580"/>
<area shape="rect" id="node48" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="409,962,583,989"/>
<area shape="rect" id="node50" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="428,1013,564,1040"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_icgraph.png" border="0" usemap="#extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_icgraph" alt=""/></div>
<map name="extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_icgraph" id="extent-tree_8c_a46f278c06a6d46aa1e7ec8f152950ca8_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="203,195,367,222"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="415,841,621,867"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1341,398,1427,425"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="693,579,814,606"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="702,398,805,425"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="679,841,828,867"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="669,1103,837,1144"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="885,579,1032,606"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="885,398,1032,425"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="910,297,1007,323"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1097,347,1233,374"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1325,310,1443,337"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1088,398,1243,425"/>
<area shape="rect" id="node29" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1085,449,1246,475"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1535,438,1642,465"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1534,286,1643,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1968,453,2088,479"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2167,453,2277,479"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1708,311,1889,352"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1731,245,1867,287"/>
<area shape="rect" id="node21" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1737,427,1861,454"/>
<area shape="rect" id="node23" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1739,579,1859,606"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1723,42,1875,69"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1731,93,1866,119"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1749,194,1849,221"/>
<area shape="rect" id="node27" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1721,377,1877,403"/>
<area shape="rect" id="node16" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1937,318,2119,345"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1955,143,2101,170"/>
<area shape="rect" id="node19" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1941,259,2115,286"/>
<area shape="rect" id="node20" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2187,377,2257,403"/>
<area shape="rect" id="node22" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1970,529,2086,555"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1119,246,1211,273"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="903,841,1015,867"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1082,950,1249,977"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="889,681,1029,707"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1087,833,1243,875"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1119,899,1211,926"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1108,731,1223,758"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1085,782,1245,809"/>
<area shape="rect" id="node38" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1315,972,1453,1013"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1299,921,1469,947"/>
<area shape="rect" id="node39" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1517,845,1660,871"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1082,579,1249,606"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="893,1114,1024,1141"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="891,989,1026,1031"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1080,1169,1251,1195"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1090,1220,1241,1261"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1089,1103,1242,1144"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1094,1001,1237,1027"/>
</map>
</div>

</div>
</div>
<a id="ad39e207a175a739ff2c0153cd0923c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad39e207a175a739ff2c0153cd0923c5c">&#9670;&nbsp;</a></span>find_free_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int find_free_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ram_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>empty_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>hint_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>ins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_cgraph.png" border="0" usemap="#extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_cgraph" id="extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_cgraph">
<area shape="rect" id="node2" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="175,173,326,214"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="409,340,535,367"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a5a5237a87cb32541134aa6e06c8dad37" title="fetch_cluster_info" alt="" coords="188,416,313,443"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#aec869495d820ac58f20dba0f76cf91fc" title="first_logical_byte" alt="" coords="191,656,311,683"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="617,711,767,737"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="185,518,316,559"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aeb2544a4a7d14b038817834ad57e5328" title="block_group_bits" alt="" coords="191,1184,311,1211"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1452635bf39f5e3ec26111e211a3c56f" title="btrfs_lock_block_group" alt="" coords="173,1235,329,1261"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad77ed64692f14b06a4125c249989eb41" title="btrfs_grab_block_group" alt="" coords="613,467,771,493"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="387,1268,557,1295"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="183,989,318,1016"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a8ff60feb90fd1f63375e119400995084" title="btrfs_lock_cluster" alt="" coords="409,609,535,636"/>
<area shape="rect" id="node30" href="config_8c.html#a9c6ee06690749a927c134e712a1b1ef5" title="release_cluster" alt="" coords="195,1285,306,1312"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="170,1336,331,1363"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#aa61469f487e02397d8c8f61c237edd7f" title="btrfs_release_block\l_group" alt="" coords="183,707,318,749"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="183,1387,318,1429"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="169,1453,333,1480"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c" title="wait_block_group_cache\l_progress" alt="" coords="168,1067,333,1109"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="181,1505,321,1546"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="177,1571,324,1597"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ae18a0295de9ab0f947036266d49de4a0" title="btrfs_add_reserved\l_bytes" alt="" coords="184,1622,317,1663"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a9ad75caca319f92d40c7aa97644a0792" title="btrfs_inc_block_group\l_reservations" alt="" coords="176,1687,325,1729"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="177,1753,324,1780"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="195,365,307,392"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="177,1804,324,1831"/>
<area shape="rect" id="node3" href="volumes_8h.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="400,107,544,149"/>
<area shape="rect" id="node4" href="volumes_8h.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="400,173,544,214"/>
<area shape="rect" id="node5" href="volumes_8h.html#adc39e837a05fc36ea825560e65bc7c50" title="btrfs_get_fs_uuids" alt="" coords="407,239,537,265"/>
<area shape="rect" id="node6" href="volumes_8h.html#a782e890c25ad1f492beab5e7ba18416a" title="btrfs_set_fs_info_ptr" alt="" coords="401,289,543,316"/>
<area shape="rect" id="node7" href="volumes_8h.html#ac51cd3c4a04fa86a53432c9b4f9beeba" title="btrfs_reset_fs_info_ptr" alt="" coords="396,5,548,32"/>
<area shape="rect" id="node8" href="volumes_8h.html#a16661efc32c170ed84aedc88f8b28e46" title="btrfs_check_rw_degradable" alt="" coords="381,56,563,83"/>
<area shape="rect" id="node11" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="392,391,552,417"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="411,543,533,585"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="611,543,773,585"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="821,580,972,607"/>
<area shape="rect" id="node23" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="419,1065,525,1092"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="417,913,527,940"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="615,888,769,915"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="623,1116,761,1143"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="393,964,551,991"/>
<area shape="rect" id="node28" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="409,1015,535,1041"/>
<area shape="rect" id="node31" href="config_8c.html#a7cceb3394f4a044fa2aadf3fe87e6d38" title="config_item_to_cluster" alt="" coords="395,1319,549,1345"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="391,1369,553,1396"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="398,1471,546,1513"/>
<area shape="rect" id="node37" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="617,1449,767,1476"/>
<area shape="rect" id="node39" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="425,1639,519,1665"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="389,1537,555,1564"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="399,1588,545,1615"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="403,1217,541,1244"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_icgraph.png" border="0" usemap="#extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_icgraph" id="extent-tree_8c_ad39e207a175a739ff2c0153cd0923c5c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="168,582,309,609"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="575,801,765,827"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="383,826,493,853"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="357,531,519,558"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="369,971,507,1012"/>
<area shape="rect" id="node21" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="567,582,773,609"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="363,379,513,406"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="849,801,984,827"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1070,801,1221,827"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1297,826,1427,853"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1493,751,1668,778"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="602,851,738,878"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1067,481,1224,507"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1308,678,1416,705"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="608,1084,732,1125"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="608,971,732,1012"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="857,1171,976,1198"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1093,1146,1197,1173"/>
<area shape="rect" id="node17" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="849,1055,984,1096"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1080,750,1211,777"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="842,1003,991,1030"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="856,633,977,659"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="865,582,968,609"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="842,481,991,507"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="833,684,1001,725"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1072,633,1219,659"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1507,405,1654,431"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1097,582,1194,609"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1089,329,1201,355"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1279,354,1445,381"/>
<area shape="rect" id="node30" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1075,430,1215,457"/>
<area shape="rect" id="node32" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1078,684,1213,725"/>
<area shape="rect" id="node34" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="614,25,726,51"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="605,126,735,153"/>
<area shape="rect" id="node42" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="613,227,727,254"/>
<area shape="rect" id="node43" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="876,278,957,305"/>
<area shape="rect" id="node45" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1108,227,1183,254"/>
<area shape="rect" id="node46" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="610,379,730,406"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="619,430,721,457"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="619,481,721,507"/>
<area shape="rect" id="node35" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="855,25,978,51"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1060,38,1231,65"/>
<area shape="rect" id="node38" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="858,75,975,102"/>
<area shape="rect" id="node41" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="853,126,981,153"/>
<area shape="rect" id="node39" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1301,278,1423,305"/>
<area shape="rect" id="node40" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1513,253,1648,279"/>
<area shape="rect" id="node44" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1063,278,1227,305"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="857,430,977,457"/>
<area shape="rect" id="node48" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="821,379,1012,406"/>
</map>
</div>

</div>
</div>
<a id="af3eed0c6b455d426e16705b580a4e01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3eed0c6b455d426e16705b580a4e01f">&#9670;&nbsp;</a></span>find_next_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_next_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_cgraph.png" border="0" usemap="#extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_cgraph" alt=""/></div>
<map name="extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_cgraph" id="extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="157,31,312,57"/>
<area shape="rect" id="node7" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="156,81,313,108"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="384,5,492,32"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="361,56,515,83"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="580,5,679,32"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="744,5,883,32"/>
<area shape="rect" id="node8" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="383,107,493,133"/>
<area shape="rect" id="node9" href="ctree_8h.html#aa94ace94f530e840c21d590b85f94805" title="btrfs_node_key_ptr\l_offset" alt="" coords="563,99,696,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_icgraph.png" border="0" usemap="#extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_icgraph" alt=""/></div>
<map name="extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_icgraph" id="extent-tree_8c_af3eed0c6b455d426e16705b580a4e01f_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a95d46d301fb4a62d16e52cc3fefca134" title="btrfs_search_forward" alt="" coords="157,274,301,301"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="156,733,303,759"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="580,816,720,857"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="178,851,281,878"/>
<area shape="rect" id="node3" href="btrfs_2ioctl_8c.html#a7e5bd03d1caa28c4a8e9a9360cab7c60" title="find_new_extents" alt="" coords="371,71,495,98"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#acd25396ad95ce47c7ca36ee1922cf63e" title="search_ioctl" alt="" coords="604,173,696,199"/>
<area shape="rect" id="node11" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="365,122,501,149"/>
<area shape="rect" id="node14" href="tree-log_8c.html#aae45ef41e5d616dca9ffa8290e52aebd" title="log_dir_items" alt="" coords="383,223,482,250"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="817,274,928,301"/>
<area shape="rect" id="node17" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1011,325,1155,351"/>
<area shape="rect" id="node22" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="357,401,508,427"/>
<area shape="rect" id="node30" href="volumes_8c.html#a264e53311fec659f2f3e38db93401064" title="btrfs_uuid_scan_kthread" alt="" coords="351,477,515,503"/>
<area shape="rect" id="node4" href="btrfs_2ioctl_8c.html#af87f71b004c29e749581ad34d3291130" title="btrfs_defrag_file" alt="" coords="593,71,707,98"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="807,5,938,47"/>
<area shape="rect" id="node6" href="btrfs_2ioctl_8c.html#a52fb588b48d57be0c45ba3cc1a224f3e" title="btrfs_ioctl_defrag" alt="" coords="811,71,934,98"/>
<area shape="rect" id="node7" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1044,173,1123,199"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#ad55144f0de574439b3ea1cec5f23c5f7" title="btrfs_ioctl_tree_search" alt="" coords="795,223,950,250"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a6e3579d2edb3d71b39cd2a55f942e79a" title="btrfs_ioctl_tree_search_v2" alt="" coords="785,173,960,199"/>
<area shape="rect" id="node12" href="transaction_8h.html#a09bb8c26a168142d59ca3028437f241c" title="btrfs_defrag_root" alt="" coords="590,122,710,149"/>
<area shape="rect" id="node13" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="793,122,953,149"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a0f24c608f59d2be2b886c83818df87b1" title="log_directory_changes" alt="" coords="574,223,726,250"/>
<area shape="rect" id="node18" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1209,274,1351,301"/>
<area shape="rect" id="node19" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1401,274,1555,301"/>
<area shape="rect" id="node20" href="tree-log_8h.html#a893af862b659dd6c5a2fb1f2ced66d62" title="btrfs_log_dentry_safe" alt="" coords="1603,249,1749,275"/>
<area shape="rect" id="node21" href="tree-log_8h.html#a2081769147e2ee6950dd9c427470c599" title="btrfs_log_new_name" alt="" coords="1605,299,1747,326"/>
<area shape="rect" id="node23" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="605,401,695,427"/>
<area shape="rect" id="node26" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="563,477,737,503"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="813,375,933,402"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1028,389,1139,415"/>
<area shape="rect" id="node27" href="volumes_8h.html#a9d446ee3197aac70c768d8013ad0699b" title="btrfs_check_uuid_tree" alt="" coords="797,477,948,503"/>
<area shape="rect" id="node28" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1040,477,1127,503"/>
<area shape="rect" id="node29" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1049,527,1118,554"/>
<area shape="rect" id="node31" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="797,527,948,554"/>
<area shape="rect" id="node32" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1032,578,1135,605"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="377,733,488,759"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="583,718,717,745"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="803,797,942,823"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="804,579,941,620"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="788,645,957,671"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="815,695,930,722"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="825,746,920,773"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1016,847,1151,874"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1207,873,1353,899"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="796,847,949,874"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="805,899,940,940"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="1008,902,1159,929"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="383,882,482,909"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="580,933,720,959"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="585,882,715,909"/>
</map>
</div>

</div>
</div>
<a id="aec869495d820ac58f20dba0f76cf91fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec869495d820ac58f20dba0f76cf91fc">&#9670;&nbsp;</a></span>first_logical_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 first_logical_byte </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>search_start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_cgraph.png" border="0" usemap="#extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_cgraph" alt=""/></div>
<map name="extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_cgraph" id="extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="187,5,310,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="173,71,324,98"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="372,5,535,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="583,13,733,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_icgraph.png" border="0" usemap="#extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_icgraph" alt=""/></div>
<map name="extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_icgraph" id="extent-tree_8c_aec869495d820ac58f20dba0f76cf91fc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="173,577,288,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="336,766,477,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="743,996,933,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="551,1021,661,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="525,838,687,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="537,759,675,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="735,533,941,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="531,280,681,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1006,996,1141,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1215,996,1366,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1442,1021,1573,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1639,984,1813,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="770,1097,906,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1212,945,1369,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1453,958,1561,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="776,807,900,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="776,719,900,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1014,894,1133,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1239,836,1343,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1006,828,1141,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1225,726,1356,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="999,726,1148,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1013,406,1134,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1022,558,1125,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="999,508,1148,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="989,610,1157,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1217,356,1364,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1653,381,1799,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1242,609,1339,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1235,406,1347,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1424,432,1591,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1221,508,1361,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1223,660,1358,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="782,254,894,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="773,102,903,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="781,153,895,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1033,204,1114,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1253,102,1328,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="778,356,898,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="787,406,889,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="787,305,889,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1012,305,1135,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1205,204,1376,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1015,153,1132,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1009,52,1137,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1446,153,1569,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1659,128,1793,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1209,254,1373,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1013,356,1133,382"/>
</map>
</div>

</div>
</div>
<a id="ab985a4ed46cdbc8c2855ea0397884b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab985a4ed46cdbc8c2855ea0397884b0c">&#9670;&nbsp;</a></span>flush_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void flush_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_cgraph.png" border="0" usemap="#extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_cgraph" id="extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="387,405,539,432"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="390,304,537,331"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1085,760,1232,787"/>
<area shape="rect" id="node27" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="145,1136,328,1163"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="183,523,291,549"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="181,799,293,825"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="165,1238,308,1279"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="153,355,321,381"/>
<area shape="rect" id="node3" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="831,659,1037,685"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="631,304,750,331"/>
<area shape="rect" id="node6" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="862,187,1006,229"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="852,253,1016,280"/>
<area shape="rect" id="node8" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="865,304,1003,331"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="859,355,1009,381"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1094,456,1223,483"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="877,5,991,32"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="849,608,1019,635"/>
<area shape="rect" id="node17" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1733,645,1893,672"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="865,57,1003,98"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="855,122,1013,163"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1515,491,1659,517"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1521,878,1654,919"/>
<area shape="rect" id="node18" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1516,943,1659,985"/>
<area shape="rect" id="node20" href="ctree_8h.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1521,542,1654,583"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1512,608,1663,635"/>
<area shape="rect" id="node23" href="ctree_8h.html#acb05996b4d1a67ecfaac02c8a6270e3a" title="btrfs_run_delayed_iputs" alt="" coords="1507,659,1667,685"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1280,709,1441,736"/>
<area shape="rect" id="node19" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="1517,761,1657,802"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="1508,827,1667,853"/>
<area shape="rect" id="node24" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1489,709,1685,736"/>
<area shape="rect" id="node28" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="394,1205,533,1246"/>
<area shape="rect" id="node29" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="663,1161,718,1188"/>
<area shape="rect" id="node30" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="633,1212,748,1239"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#a871e0ca3f52c069d5a57f09c72d9e117" title="btrfs_first_delayed_node" alt="" coords="609,1263,773,1289"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#a0aa39e6040d1f30d10c52f051b81916c" title="__btrfs_commit_inode\l_delayed_items" alt="" coords="615,1314,766,1355"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#ae41987e5af596d25876eee9105ba4fd4" title="btrfs_release_delayed_node" alt="" coords="599,1380,783,1407"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a7426853484f2890a68efa2657db95a99" title="btrfs_next_delayed_node" alt="" coords="607,1431,774,1457"/>
<area shape="rect" id="node35" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="636,1111,745,1137"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="627,624,754,651"/>
<area shape="rect" id="node38" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="626,486,755,527"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="385,457,541,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="395,857,531,884"/>
<area shape="rect" id="node42" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="383,908,543,935"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="376,959,551,985"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="389,675,538,701"/>
<area shape="rect" id="node45" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="629,867,753,893"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="392,726,535,767"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="397,791,530,833"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="405,1271,521,1297"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_icgraph.png" border="0" usemap="#extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_icgraph" id="extent-tree_8c_ab985a4ed46cdbc8c2855ea0397884b0c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="161,713,300,755"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="145,935,316,976"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="364,642,563,669"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="650,603,737,630"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="842,654,949,681"/>
<area shape="rect" id="node8" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="841,274,950,301"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1473,401,1593,427"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1641,401,1752,427"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1015,469,1196,511"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1037,81,1173,123"/>
<area shape="rect" id="node14" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1043,198,1167,225"/>
<area shape="rect" id="node16" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1045,249,1165,275"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1029,553,1181,579"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1038,299,1173,326"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1055,350,1155,377"/>
<area shape="rect" id="node25" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1027,401,1183,427"/>
<area shape="rect" id="node10" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1244,502,1425,529"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1261,30,1408,57"/>
<area shape="rect" id="node13" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1247,89,1422,115"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1277,147,1393,174"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1253,603,1417,630"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1253,553,1417,579"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1265,198,1405,225"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1257,249,1413,275"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1277,299,1392,326"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1249,401,1420,427"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="1272,451,1397,478"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="393,1247,533,1288"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="611,1294,776,1321"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="826,953,965,979"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="824,1294,967,1321"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="824,1374,967,1401"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="842,1483,949,1510"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1029,806,1182,833"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1036,857,1175,899"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1031,923,1180,950"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1021,975,1189,1016"/>
<area shape="rect" id="node36" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1031,1041,1180,1067"/>
<area shape="rect" id="node37" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1057,1091,1153,1118"/>
<area shape="rect" id="node38" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1042,1142,1169,1169"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1046,705,1165,731"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1020,755,1191,782"/>
<area shape="rect" id="node39" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1262,1193,1407,1219"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1045,1243,1166,1270"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1044,1294,1167,1321"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1021,1345,1189,1371"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1037,1193,1173,1219"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1031,1447,1180,1488"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1031,1513,1180,1539"/>
</map>
</div>

</div>
</div>
<a id="a9e339606cc4f72495a2568d912abfad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e339606cc4f72495a2568d912abfad4">&#9670;&nbsp;</a></span>force_metadata_allocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void force_metadata_allocation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9e339606cc4f72495a2568d912abfad4_icgraph.png" border="0" usemap="#extent-tree_8c_a9e339606cc4f72495a2568d912abfad4_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9e339606cc4f72495a2568d912abfad4_icgraph" id="extent-tree_8c_a9e339606cc4f72495a2568d912abfad4_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="228,1083,340,1109"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="388,246,544,287"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="420,1199,512,1225"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="409,985,523,1012"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1059,1133,1226,1160"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1063,1083,1223,1109"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1320,43,1439,69"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1548,43,1652,69"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="602,431,753,473"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="835,439,985,465"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="845,544,975,571"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="835,254,985,295"/>
<area shape="rect" id="node22" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="843,958,977,999"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1075,464,1211,491"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1313,439,1445,465"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1057,515,1228,541"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1067,566,1218,607"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1066,631,1219,673"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1276,639,1483,665"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="1069,145,1216,186"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="1073,93,1213,120"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1089,211,1197,237"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="1075,261,1211,288"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1068,312,1217,339"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="1059,363,1227,389"/>
<area shape="rect" id="node23" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1075,1017,1210,1058"/>
<area shape="rect" id="node24" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1307,1032,1452,1059"/>
<area shape="rect" id="node25" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1531,1067,1669,1109"/>
<area shape="rect" id="node26" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1743,1125,1839,1152"/>
<area shape="rect" id="node27" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1719,1075,1862,1101"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="2095,1128,2209,1155"/>
<area shape="rect" id="node29" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1912,1128,2047,1155"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="608,1191,747,1233"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="592,1257,763,1298"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="811,1201,1009,1228"/>
<area shape="rect" id="node33" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1099,1208,1186,1235"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="840,1257,980,1298"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1060,1264,1225,1291"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="839,849,981,876"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1285,799,1474,825"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1088,849,1197,876"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1062,900,1223,927"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1073,951,1212,993"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1068,748,1217,775"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1533,799,1667,825"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1311,849,1447,876"/>
<area shape="rect" id="node47" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1294,1133,1465,1160"/>
<area shape="rect" id="node48" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1543,1133,1657,1160"/>
<area shape="rect" id="node50" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1717,1177,1864,1218"/>
</map>
</div>

</div>
</div>
<a id="aa88fcda7a7a85adc5fb8c20070cfc827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa88fcda7a7a85adc5fb8c20070cfc827">&#9670;&nbsp;</a></span>free_excluded_extents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_excluded_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_cgraph.png" border="0" usemap="#extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_cgraph" id="extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_cgraph">
<area shape="rect" id="node2" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="207,510,328,537"/>
<area shape="rect" id="node3" href="extent__io_8h.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="396,376,511,402"/>
<area shape="rect" id="node45" href="extent__io_8h.html#a3a9187bda80397c1b3fb9df12b5d5be2" title="set_record_extent_bits" alt="" coords="376,510,531,537"/>
<area shape="rect" id="node50" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="401,561,505,588"/>
<area shape="rect" id="node4" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="579,266,707,293"/>
<area shape="rect" id="node5" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="957,342,1085,369"/>
<area shape="rect" id="node6" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1321,292,1461,318"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1144,469,1267,496"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a69da98b4b5fc8b28b435f40f0b3ae3d7" title="tree_search" alt="" coords="781,292,871,318"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="979,89,1062,116"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="762,343,890,384"/>
<area shape="rect" id="node15" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="785,561,867,588"/>
<area shape="rect" id="node18" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="755,460,897,486"/>
<area shape="rect" id="node20" href="extent__io_8c.html#a297b8b86f599aea09760477a533be51a" title="clear_state_bit" alt="" coords="773,190,879,217"/>
<area shape="rect" id="node7" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1542,266,1637,293"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1516,317,1663,344"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="945,393,1096,420"/>
<area shape="rect" id="node12" href="extent__io_8c.html#abe467271d634b8343246cb5501b8baa5" title="__etree_search" alt="" coords="1150,393,1261,420"/>
<area shape="rect" id="node16" href="extent__io_8c.html#ad8c520dcd5197ddf9a219ad61bb09447" title="split_cb" alt="" coords="987,545,1054,572"/>
<area shape="rect" id="node17" href="extent__io_8c.html#af958ea152d9987cc5689861b43c9d595" title="tree_insert" alt="" coords="979,596,1062,622"/>
<area shape="rect" id="node19" href="extent__io_8c.html#a320be295294cb256f23fe5d3e74d8fea" title="tree_fs_info" alt="" coords="975,444,1066,470"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a89495b143c7ce6783b81100b60f2a0b3" title="clear_state_cb" alt="" coords="967,292,1074,318"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a0faa12cb962bf387a41fc563285a13cf" title="add_extent_changeset" alt="" coords="1315,697,1468,724"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a0e9df311badff8a81168b49e10e47db7" title="merge_state" alt="" coords="973,697,1068,724"/>
<area shape="rect" id="node22" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="1153,849,1257,876"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a9978f793a333445e07eb82b0c69ebdd8" title="set_state_cb" alt="" coords="1343,849,1440,876"/>
<area shape="rect" id="node25" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1552,672,1627,698"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a552b62b75391793157f27eda7bdfea10" title="flush_write_bio" alt="" coords="1535,722,1644,749"/>
<area shape="rect" id="node26" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1711,672,1828,698"/>
<area shape="rect" id="node27" href="ulist_8c.html#a4a2f46d31727a215a17d74ce60594523" title="ulist_rbtree_search" alt="" coords="1876,621,2008,648"/>
<area shape="rect" id="node28" href="ulist_8c.html#a9e22aa0917a164df2a7ab11359e3ce62" title="ulist_rbtree_insert" alt="" coords="1879,672,2005,698"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a4506724f341b037ca5b7b8b03e6fd705" title="submit_one_bio" alt="" coords="1713,722,1826,749"/>
<area shape="rect" id="node31" href="check-integrity_8c.html#a4bfa0549f2775a3bc6d773760cd26675" title="btrfsic_submit_bio" alt="" coords="1878,722,2006,749"/>
<area shape="rect" id="node32" href="check-integrity_8c.html#a74c52fdf4a7fbd9e1938d58d029aa597" title="__btrfsic_submit_bio" alt="" coords="2056,722,2199,749"/>
<area shape="rect" id="node33" href="check-integrity_8c.html#a07a895bba82e1eb8815ae3607571b964" title="btrfsic_dev_state_lookup" alt="" coords="2247,569,2413,596"/>
<area shape="rect" id="node35" href="check-integrity_8c.html#a8cfffe5e77b1ca9935913415b43bed23" title="btrfsic_process_written\l_block" alt="" coords="2251,715,2409,756"/>
<area shape="rect" id="node42" href="check-integrity_8c.html#a4502cb107f60b235507231cabbde55a3" title="btrfsic_bio_end_io" alt="" coords="2491,882,2617,909"/>
<area shape="rect" id="node34" href="check-integrity_8c.html#af4360a68d86db1b044975aec13ca2d3e" title="btrfsic_dev_state_hashtable\l_lookup" alt="" coords="2461,467,2647,508"/>
<area shape="rect" id="node36" href="check-integrity_8c.html#afc9ef680e9d32ac761621933fb553a49" title="btrfsic_test_for_metadata" alt="" coords="2469,664,2639,690"/>
<area shape="rect" id="node37" href="check-integrity_8c.html#a11b3a1db3cff95578e283184cc3a6a22" title="btrfsic_block_hashtable\l_lookup" alt="" coords="2475,715,2633,756"/>
<area shape="rect" id="node38" href="check-integrity_8c.html#a58106b5dd38700df8d6aa846ef47872b" title="btrfsic_dump_tree_sub" alt="" coords="2477,832,2631,858"/>
<area shape="rect" id="node39" href="check-integrity_8c.html#a0b93c221b44fdb6909d7f8e1790e1160" title="btrfsic_get_block_type" alt="" coords="2695,806,2848,833"/>
<area shape="rect" id="node40" href="check-integrity_8c.html#a73e87f56320d63a7acb87a1ecdad896f" title="btrfsic_cmp_log_and\l_dev_bytenr" alt="" coords="2483,598,2625,639"/>
<area shape="rect" id="node41" href="check-integrity_8c.html#ad5a4ec49c477da69fef9ddfeea01d52f" title="btrfsic_is_block_ref\l_by_superblock" alt="" coords="2487,532,2621,574"/>
<area shape="rect" id="node44" href="extent__io_8c.html#ad00187c1eb74f8f0ab88e909f9a01709" title="merge_cb" alt="" coords="1166,697,1245,724"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="583,561,702,588"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a2a35e48a00317a8f13a19f3ba1caecaa" title="insert_state" alt="" coords="781,697,871,724"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a1a855576f67d424c4b8024553802ef4a" title="cache_state" alt="" coords="779,849,873,876"/>
<area shape="rect" id="node49" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="949,849,1092,876"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_icgraph.png" border="0" usemap="#extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_icgraph" id="extent-tree_8c_aa88fcda7a7a85adc5fb8c20070cfc827_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="207,527,317,553"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="365,312,500,339"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="953,741,1115,768"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="952,792,1116,819"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="737,843,901,869"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="966,894,1102,935"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="548,152,687,179"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="965,305,1103,346"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="735,247,904,273"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="560,421,675,448"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="570,39,665,65"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="752,123,887,149"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="754,174,885,215"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="752,57,887,98"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="961,123,1107,149"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="963,68,1105,95"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="971,174,1097,215"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1164,615,1371,641"/>
<area shape="rect" id="node26" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1203,181,1331,208"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2044,477,2165,504"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1451,640,1554,667"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1428,843,1577,869"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1419,523,1587,565"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2373,539,2520,565"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1635,640,1781,667"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2226,728,2313,755"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2393,696,2500,723"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2392,608,2501,635"/>
<area shape="rect" id="node19" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1638,843,1778,869"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1829,640,1996,667"/>
<area shape="rect" id="node23" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1841,843,1984,869"/>
<area shape="rect" id="node24" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1878,893,1947,920"/>
<area shape="rect" id="node21" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="2060,621,2149,648"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="2213,543,2325,569"/>
<area shape="rect" id="node29" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1199,279,1335,305"/>
<area shape="rect" id="node30" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1454,253,1551,280"/>
<area shape="rect" id="node31" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1423,304,1582,331"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="961,239,1107,281"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="749,480,890,507"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1173,455,1362,481"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="979,371,1089,397"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="953,421,1115,448"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="965,473,1103,514"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="959,640,1109,667"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="762,5,877,32"/>
<area shape="rect" id="node43" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="995,5,1073,32"/>
<area shape="rect" id="node47" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="965,843,1103,869"/>
<area shape="rect" id="node48" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1205,893,1329,920"/>
<area shape="rect" id="node49" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="1200,843,1335,869"/>
</map>
</div>

</div>
</div>
<a id="aa3fc5eec559f710720299d9d909ea425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3fc5eec559f710720299d9d909ea425">&#9670;&nbsp;</a></span>get_alloc_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 get_alloc_profile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>orig_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_cgraph.png" border="0" usemap="#extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_cgraph" id="extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="169,5,297,47"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="345,13,476,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_icgraph.png" border="0" usemap="#extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_icgraph" id="extent-tree_8c_aa3fc5eec559f710720299d9d909ea425_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a75e508943d0e877bfd1f3f7f2d1f5c99" title="get_alloc_profile_by_root" alt="" coords="169,353,336,380"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1441,397,1608,424"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1445,185,1605,212"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae" title="btrfs_data_alloc_profile" alt="" coords="576,109,732,136"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="583,749,725,790"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="588,683,720,725"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="171,531,335,557"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="384,353,525,380"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="791,353,981,380"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="599,328,709,355"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="573,211,735,237"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="585,262,723,303"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="783,480,989,507"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="579,429,729,456"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1061,480,1182,507"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1070,363,1173,389"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1047,531,1196,557"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1037,414,1205,455"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1267,397,1379,424"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1253,531,1393,557"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1447,321,1603,362"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1479,679,1571,705"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1682,429,1801,456"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1893,429,1997,456"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="1666,262,1817,303"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="1672,667,1811,709"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="1656,733,1827,774"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="1875,762,2015,803"/>
<area shape="rect" id="node22" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1875,363,2014,405"/>
<area shape="rect" id="node27" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1656,480,1827,507"/>
<area shape="rect" id="node23" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2088,371,2184,397"/>
<area shape="rect" id="node24" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2065,421,2207,448"/>
<area shape="rect" id="node25" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="2440,365,2555,392"/>
<area shape="rect" id="node26" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="2257,365,2392,392"/>
<area shape="rect" id="node28" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1887,480,2002,507"/>
<area shape="rect" id="node30" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1669,211,1814,237"/>
<area shape="rect" id="node31" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="2063,305,2209,346"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="802,109,970,136"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#a38da2d78b24b145ef3d4ced0fa2cb04d" title="btrfs_calc_avail_data\l_space" alt="" coords="813,43,959,85"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="1055,109,1188,136"/>
<area shape="rect" id="node39" href="btrfs_2super_8c.html#a4687f4645de8ce48e74aeb960f6a19bb" title="btrfs_statfs" alt="" coords="1077,51,1165,77"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1264,799,1383,825"/>
<area shape="rect" id="node44" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="819,697,953,724"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="1461,733,1589,774"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="1456,850,1593,891"/>
<area shape="rect" id="node45" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1047,697,1195,724"/>
<area shape="rect" id="node48" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="411,605,498,632"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="601,581,707,608"/>
<area shape="rect" id="node50" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="599,632,709,659"/>
</map>
</div>

</div>
</div>
<a id="a75e508943d0e877bfd1f3f7f2d1f5c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e508943d0e877bfd1f3f7f2d1f5c99">&#9670;&nbsp;</a></span>get_alloc_profile_by_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 get_alloc_profile_by_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_cgraph.png" border="0" usemap="#extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_cgraph" alt=""/></div>
<map name="extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_cgraph" id="extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="220,13,336,39"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="384,5,512,47"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="560,13,691,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_icgraph.png" border="0" usemap="#extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_icgraph" alt=""/></div>
<map name="extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_icgraph" id="extent-tree_8c_a75e508943d0e877bfd1f3f7f2d1f5c99_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="220,229,361,256"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="627,107,817,133"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="435,61,545,88"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="409,179,571,205"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="421,251,559,293"/>
<area shape="rect" id="node21" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="619,595,825,621"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="415,899,565,925"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="901,107,1036,133"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1122,107,1273,133"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1349,69,1479,96"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1545,108,1720,135"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="654,5,790,32"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1119,157,1276,184"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1360,145,1468,172"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="660,251,784,293"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="660,369,784,410"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="909,259,1028,285"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1145,233,1249,260"/>
<area shape="rect" id="node17" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="901,310,1036,351"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1132,401,1263,428"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="894,376,1043,403"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="908,620,1029,647"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="917,671,1020,697"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="894,569,1043,596"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="885,478,1053,519"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1124,671,1271,697"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1559,860,1706,887"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1149,772,1246,799"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1141,620,1253,647"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1331,595,1497,621"/>
<area shape="rect" id="node30" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1127,519,1267,545"/>
<area shape="rect" id="node32" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1130,453,1265,494"/>
<area shape="rect" id="node34" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="666,772,778,799"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="657,823,787,849"/>
<area shape="rect" id="node42" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="665,1076,779,1103"/>
<area shape="rect" id="node43" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="928,1025,1009,1052"/>
<area shape="rect" id="node45" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1160,1076,1235,1103"/>
<area shape="rect" id="node46" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="662,873,782,900"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="671,975,773,1001"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="671,1025,773,1052"/>
<area shape="rect" id="node35" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="907,772,1030,799"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1112,823,1283,849"/>
<area shape="rect" id="node38" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="910,823,1027,849"/>
<area shape="rect" id="node41" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="905,873,1033,900"/>
<area shape="rect" id="node39" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1353,1025,1475,1052"/>
<area shape="rect" id="node40" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1565,1051,1700,1077"/>
<area shape="rect" id="node44" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1115,1025,1279,1052"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="909,924,1029,951"/>
<area shape="rect" id="node48" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="873,975,1064,1001"/>
</map>
</div>

</div>
</div>
<a id="a40dc3e9a3bc092e3925c200e26837042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40dc3e9a3bc092e3925c200e26837042">&#9670;&nbsp;</a></span>get_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a>* get_block_rsv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a40dc3e9a3bc092e3925c200e26837042_icgraph.png" border="0" usemap="#extent-tree_8c_a40dc3e9a3bc092e3925c200e26837042_icgraph" alt=""/></div>
<map name="extent-tree_8c_a40dc3e9a3bc092e3925c200e26837042_icgraph" id="extent-tree_8c_a40dc3e9a3bc092e3925c200e26837042_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="156,765,263,792"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="311,765,460,792"/>
<area shape="rect" id="node4" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="517,107,629,133"/>
<area shape="rect" id="node10" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="508,664,639,691"/>
<area shape="rect" id="node31" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1193,689,1274,716"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1196,524,1271,551"/>
<area shape="rect" id="node37" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="955,664,1070,691"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1768,933,1975,960"/>
<area shape="rect" id="node41" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="513,968,633,995"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="522,1120,625,1147"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="522,1196,625,1223"/>
<area shape="rect" id="node5" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="721,56,843,83"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1148,107,1319,133"/>
<area shape="rect" id="node6" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="945,5,1081,32"/>
<area shape="rect" id="node7" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="925,56,1100,83"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1367,107,1544,133"/>
<area shape="rect" id="node11" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="723,411,841,437"/>
<area shape="rect" id="node36" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1592,816,1720,843"/>
<area shape="rect" id="node12" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1183,613,1284,640"/>
<area shape="rect" id="node14" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1595,556,1717,583"/>
<area shape="rect" id="node26" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1823,259,1919,285"/>
<area shape="rect" id="node27" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="2045,259,2168,285"/>
<area shape="rect" id="node28" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1822,309,1921,336"/>
<area shape="rect" id="node30" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="936,715,1089,741"/>
<area shape="rect" id="node32" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="957,461,1068,488"/>
<area shape="rect" id="node34" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="961,512,1064,539"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="935,309,1091,336"/>
<area shape="rect" id="node13" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1373,613,1537,640"/>
<area shape="rect" id="node15" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="1822,832,1921,859"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1785,411,1958,437"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1835,461,1908,488"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1803,512,1939,539"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1798,563,1945,589"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="1793,613,1949,640"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2239,769,2385,796"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1801,766,1941,807"/>
<area shape="rect" id="node25" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1804,360,1939,387"/>
<area shape="rect" id="node29" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1803,883,1939,909"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2046,773,2167,800"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2055,824,2158,851"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2032,904,2181,931"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2023,955,2191,997"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="953,1120,1073,1147"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="687,968,877,995"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="716,1019,848,1045"/>
<area shape="rect" id="node45" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="707,1069,857,1096"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="705,1120,859,1147"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="717,1171,847,1197"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="727,1221,837,1248"/>
</map>
</div>

</div>
</div>
<a id="a67bb3f85aff7cd45fbfb5d75da039e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bb3f85aff7cd45fbfb5d75da039e3a">&#9670;&nbsp;</a></span>get_caching_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a>* get_caching_control </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a67bb3f85aff7cd45fbfb5d75da039e3a_icgraph.png" border="0" usemap="#extent-tree_8c_a67bb3f85aff7cd45fbfb5d75da039e3a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a67bb3f85aff7cd45fbfb5d75da039e3a_icgraph" id="extent-tree_8c_a67bb3f85aff7cd45fbfb5d75da039e3a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="207,349,377,376"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c" title="wait_block_group_cache\l_progress" alt="" coords="209,135,375,177"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4" title="wait_block_group_cache_done" alt="" coords="192,451,392,477"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="445,434,581,475"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="440,286,585,327"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="449,351,576,393"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="633,400,840,427"/>
<area shape="rect" id="node36" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="669,109,805,136"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1333,503,1455,529"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="921,363,1023,389"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="897,439,1047,465"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="888,667,1056,709"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1722,464,1869,491"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1110,312,1257,339"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1135,363,1232,389"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1127,413,1239,440"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1311,427,1477,453"/>
<area shape="rect" id="node20" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1113,616,1253,643"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1337,160,1451,187"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1525,160,1667,187"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1924,131,2113,157"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1741,47,1850,73"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1715,97,1876,124"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1726,149,1865,190"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1721,265,1870,292"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1311,565,1477,592"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1323,671,1465,697"/>
<area shape="rect" id="node29" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1761,784,1830,811"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1545,489,1647,516"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1539,591,1653,617"/>
<area shape="rect" id="node24" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1551,540,1641,567"/>
<area shape="rect" id="node26" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1531,693,1661,734"/>
<area shape="rect" id="node27" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1738,687,1853,713"/>
<area shape="rect" id="node28" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1529,759,1663,785"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1943,708,2094,735"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1935,759,2103,785"/>
<area shape="rect" id="node32" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1967,809,2071,836"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1118,733,1249,760"/>
<area shape="rect" id="node35" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1116,667,1251,709"/>
<area shape="rect" id="node37" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="923,59,1021,85"/>
<area shape="rect" id="node40" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1104,160,1263,187"/>
<area shape="rect" id="node38" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1133,59,1234,85"/>
<area shape="rect" id="node39" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1104,109,1263,136"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1337,109,1451,136"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="673,236,801,263"/>
<area shape="rect" id="node44" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="909,160,1035,187"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="465,589,560,616"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="679,700,794,727"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="933,733,1011,760"/>
</map>
</div>

</div>
</div>
<a id="ae1ea76da07dad6d2aba1d75a681c4d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ea76da07dad6d2aba1d75a681c4d4d">&#9670;&nbsp;</a></span>get_profile_num_devs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 get_profile_num_devs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae1ea76da07dad6d2aba1d75a681c4d4d_icgraph.png" border="0" usemap="#extent-tree_8c_ae1ea76da07dad6d2aba1d75a681c4d4d_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae1ea76da07dad6d2aba1d75a681c4d4d_icgraph" id="extent-tree_8c_ae1ea76da07dad6d2aba1d75a681c4d4d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="203,753,352,780"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="400,649,512,676"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="560,887,727,913"/>
<area shape="rect" id="node45" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="790,781,930,808"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="565,78,721,119"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="597,355,689,381"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="586,621,701,648"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="563,836,723,863"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="801,56,919,83"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1041,5,1145,32"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="785,107,935,149"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1017,56,1168,83"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1027,107,1158,133"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="1018,158,1167,199"/>
<area shape="rect" id="node11" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1025,223,1160,265"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="791,282,929,323"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="775,347,945,389"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="993,289,1192,316"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="1023,341,1163,382"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="789,567,931,593"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1249,432,1438,459"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1038,457,1147,484"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1012,508,1173,535"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1023,559,1162,601"/>
<area shape="rect" id="node23" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1240,676,1447,703"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1018,676,1167,703"/>
<area shape="rect" id="node26" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1023,879,1162,921"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="775,1047,945,1073"/>
<area shape="rect" id="node27" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1295,1047,1391,1073"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1272,879,1415,905"/>
<area shape="rect" id="node28" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1495,1047,1643,1073"/>
<area shape="rect" id="node30" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1504,778,1633,819"/>
<area shape="rect" id="node31" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1691,895,1805,921"/>
<area shape="rect" id="node32" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1501,895,1636,921"/>
<area shape="rect" id="node33" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1713,971,1783,997"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1862,895,2013,921"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1853,945,2021,972"/>
<area shape="rect" id="node36" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1885,996,1989,1023"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1035,1097,1150,1124"/>
<area shape="rect" id="node39" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1264,1097,1423,1124"/>
<area shape="rect" id="node40" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1253,1149,1434,1190"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1284,1215,1403,1241"/>
<area shape="rect" id="node43" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="787,836,933,863"/>
<area shape="rect" id="node44" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1270,930,1417,971"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1009,777,1176,804"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1292,727,1395,753"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1286,777,1401,804"/>
<area shape="rect" id="node50" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1299,828,1388,855"/>
<area shape="rect" id="node48" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1523,727,1614,753"/>
</map>
</div>

</div>
</div>
<a id="a698b4c6b5b3ccec1ca8541351c8baaa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698b4c6b5b3ccec1ca8541351c8baaa3">&#9670;&nbsp;</a></span>get_raid_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_raid_name </td>
          <td>(</td>
          <td class="paramtype">enum btrfs_raid_types&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a698b4c6b5b3ccec1ca8541351c8baaa3_icgraph.png" border="0" usemap="#extent-tree_8c_a698b4c6b5b3ccec1ca8541351c8baaa3_icgraph" alt=""/></div>
<map name="extent-tree_8c_a698b4c6b5b3ccec1ca8541351c8baaa3_icgraph" id="extent-tree_8c_a698b4c6b5b3ccec1ca8541351c8baaa3_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7e43e018484a4032a1bd12a9e452606a" title="btrfs_add_raid_kobjects" alt="" coords="160,773,320,799"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="580,478,787,505"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1685,818,1827,845"/>
<area shape="rect" id="node40" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1683,983,1829,1024"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="368,478,532,505"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="858,359,979,386"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="867,213,970,239"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="844,715,993,742"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="835,529,1003,571"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1051,359,1197,386"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1051,213,1197,239"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1075,111,1173,138"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1263,111,1399,138"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1490,137,1609,163"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1506,238,1593,265"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1253,213,1408,239"/>
<area shape="rect" id="node19" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1250,263,1411,290"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1703,266,1809,293"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1701,211,1811,238"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1908,302,2028,329"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1877,171,2059,212"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1900,236,2036,277"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1906,69,2030,95"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1908,119,2028,146"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1285,61,1377,87"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1068,878,1180,905"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1247,802,1414,829"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1054,646,1194,673"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1253,955,1409,996"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1285,853,1377,879"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1273,903,1388,930"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1469,1071,1629,1098"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1480,769,1619,811"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1464,835,1635,862"/>
<area shape="rect" id="node30" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1903,781,2033,823"/>
<area shape="rect" id="node33" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="2110,847,2225,874"/>
<area shape="rect" id="node35" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1901,949,2035,975"/>
<area shape="rect" id="node31" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2276,794,2424,821"/>
<area shape="rect" id="node32" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2472,847,2541,874"/>
<area shape="rect" id="node34" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="2300,847,2400,874"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2107,949,2228,975"/>
<area shape="rect" id="node37" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="2293,898,2407,925"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1247,549,1414,575"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1059,461,1189,487"/>
<area shape="rect" id="node48" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1057,697,1191,739"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1245,431,1416,458"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1255,483,1406,524"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1254,365,1407,407"/>
<area shape="rect" id="node49" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1259,701,1402,727"/>
</map>
</div>

</div>
</div>
<a id="a2d6fd06b907338ed8748602d3ea9d5dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d6fd06b907338ed8748602d3ea9d5dc">&#9670;&nbsp;</a></span>get_restripe_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 get_restripe_target </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a2d6fd06b907338ed8748602d3ea9d5dc_icgraph.png" border="0" usemap="#extent-tree_8c_a2d6fd06b907338ed8748602d3ea9d5dc_icgraph" alt=""/></div>
<map name="extent-tree_8c_a2d6fd06b907338ed8748602d3ea9d5dc_icgraph" id="extent-tree_8c_a2d6fd06b907338ed8748602d3ea9d5dc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="184,618,312,659"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae638007eb4e012626fb35cd21c0387b6" title="update_block_group\l_flags" alt="" coords="360,825,499,866"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="779,933,908,960"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="371,459,487,485"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a75e508943d0e877bfd1f3f7f2d1f5c99" title="get_alloc_profile_by_root" alt="" coords="547,179,713,205"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1660,731,1827,757"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1663,873,1823,900"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ac1fb96e7db9951f59ff16284f410f3ae" title="btrfs_data_alloc_profile" alt="" coords="765,275,921,301"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="772,578,915,619"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="777,513,909,554"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="761,376,925,403"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="773,107,914,133"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1228,56,1417,83"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1022,5,1131,32"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="996,56,1157,83"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="973,477,1180,504"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1262,477,1383,504"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1271,376,1374,403"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1248,680,1397,707"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1239,529,1407,570"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1465,477,1612,504"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1465,325,1612,352"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1490,376,1587,403"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1700,279,1787,305"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1483,731,1595,757"/>
<area shape="rect" id="node38" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2093,928,2233,955"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1665,398,1821,439"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1697,781,1789,808"/>
<area shape="rect" id="node21" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2094,798,2233,839"/>
<area shape="rect" id="node33" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1875,747,2045,773"/>
<area shape="rect" id="node22" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2307,764,2403,791"/>
<area shape="rect" id="node23" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2283,928,2426,955"/>
<area shape="rect" id="node24" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="2479,757,2608,798"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="2675,1025,2790,1052"/>
<area shape="rect" id="node30" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="2476,928,2611,955"/>
<area shape="rect" id="node25" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2659,764,2807,791"/>
<area shape="rect" id="node26" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="3017,860,3087,887"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="3135,540,3303,567"/>
<area shape="rect" id="node29" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="2862,1025,2962,1052"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2672,873,2793,900"/>
<area shape="rect" id="node32" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="2855,899,2969,925"/>
<area shape="rect" id="node34" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="2106,747,2221,773"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1887,865,2033,892"/>
<area shape="rect" id="node37" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="2281,1022,2428,1063"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1473,528,1604,555"/>
<area shape="rect" id="node41" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1893,681,2027,722"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a38da2d78b24b145ef3d4ced0fa2cb04d" title="btrfs_calc_avail_data\l_space" alt="" coords="1004,209,1149,250"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1017,579,1136,605"/>
<area shape="rect" id="node46" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="1009,629,1144,656"/>
</map>
</div>

</div>
</div>
<a id="a5fbe5a5e06ec6a5bd187134407d78700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fbe5a5e06ec6a5bd187134407d78700">&#9670;&nbsp;</a></span>hash_extent_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 hash_extent_data_ref </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a5fbe5a5e06ec6a5bd187134407d78700_icgraph.png" border="0" usemap="#extent-tree_8c_a5fbe5a5e06ec6a5bd187134407d78700_icgraph" alt=""/></div>
<map name="extent-tree_8c_a5fbe5a5e06ec6a5bd187134407d78700_icgraph" id="extent-tree_8c_a5fbe5a5e06ec6a5bd187134407d78700_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aba9b9ca53a252d6fdc009132cdf0a951" title="hash_extent_data_ref_item" alt="" coords="200,453,379,479"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="435,457,575,499"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="427,403,584,430"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a3c5a39bb02ca446ac87cf4b085b5ef2c" title="insert_extent_data_ref" alt="" coords="214,554,365,581"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="632,407,785,434"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="641,459,776,500"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="841,415,976,442"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1032,415,1179,442"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1034,466,1177,493"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1227,441,1369,467"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1417,441,1585,467"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1633,441,1788,467"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2353,155,2493,196"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2320,339,2527,366"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1850,289,2014,315"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2099,441,2249,483"/>
<area shape="rect" id="node22" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="3019,558,3188,585"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1855,543,2009,584"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2096,583,2252,610"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2575,609,2745,635"/>
<area shape="rect" id="node42" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1836,213,2028,239"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3271,187,3392,214"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2609,238,2711,265"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2595,5,2725,47"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2598,71,2722,112"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2605,137,2715,163"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2585,339,2735,366"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2576,391,2744,432"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="2076,289,2272,315"/>
<area shape="rect" id="node23" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="3278,507,3385,534"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="3271,558,3392,585"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3281,609,3382,635"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3286,659,3377,686"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3475,735,3633,762"/>
<area shape="rect" id="node28" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="3241,710,3421,737"/>
<area shape="rect" id="node29" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="3246,811,3417,838"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="3274,862,3389,889"/>
<area shape="rect" id="node31" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="3263,913,3399,939"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="3263,238,3400,265"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3253,289,3409,331"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="3247,355,3415,382"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3236,406,3427,433"/>
<area shape="rect" id="node36" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="3240,457,3423,483"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2336,609,2511,635"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2793,609,2971,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="2104,187,2244,214"/>
<area shape="rect" id="node44" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="2089,121,2259,163"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="833,466,984,493"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="432,537,579,563"/>
</map>
</div>

</div>
</div>
<a id="aba9b9ca53a252d6fdc009132cdf0a951"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9b9ca53a252d6fdc009132cdf0a951">&#9670;&nbsp;</a></span>hash_extent_data_ref_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 hash_extent_data_ref_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>leaf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_data_ref *&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_cgraph.png" border="0" usemap="#extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_cgraph" alt=""/></div>
<map name="extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_cgraph" id="extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="232,5,379,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_icgraph.png" border="0" usemap="#extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_icgraph" alt=""/></div>
<map name="extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_icgraph" id="extent-tree_8c_aba9b9ca53a252d6fdc009132cdf0a951_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="232,423,372,464"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="420,401,573,427"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="429,452,564,493"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="629,405,764,431"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="820,455,967,482"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="822,405,965,431"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1015,430,1157,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1205,430,1373,457"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1421,430,1576,457"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2141,137,2281,179"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2108,361,2315,387"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1638,197,1802,223"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1887,532,2037,573"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2807,583,2976,610"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1643,423,1797,464"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1884,478,2040,505"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2363,507,2533,534"/>
<area shape="rect" id="node45" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1624,291,1816,318"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3059,162,3180,189"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2397,238,2499,265"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2383,5,2513,47"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2386,71,2510,112"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2393,137,2503,163"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2373,339,2523,366"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2364,391,2532,432"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1864,153,2060,179"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="3066,381,3173,407"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="3059,431,3180,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3069,482,3170,509"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3074,533,3165,559"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3263,609,3421,635"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="3029,634,3209,661"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="3034,685,3205,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="3062,735,3177,762"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="3051,786,3187,813"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="3051,837,3188,863"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3041,888,3197,929"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="3035,954,3203,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3024,1005,3215,1031"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="3028,1055,3211,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="3068,1106,3171,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="3060,213,3179,239"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="3059,263,3180,290"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="3057,315,3181,356"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2124,507,2299,534"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2581,507,2759,534"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1892,321,2032,347"/>
<area shape="rect" id="node47" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1877,255,2047,296"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="621,455,772,482"/>
</map>
</div>

</div>
</div>
<a id="aad892acc76b8e8be495319c6bd06bb0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad892acc76b8e8be495319c6bd06bb0d">&#9670;&nbsp;</a></span>heads_to_leaves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 heads_to_leaves </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>heads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_cgraph.png" border="0" usemap="#extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_cgraph" alt=""/></div>
<map name="extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_cgraph" id="extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="173,5,360,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_icgraph.png" border="0" usemap="#extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_icgraph" alt=""/></div>
<map name="extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_icgraph" id="extent-tree_8c_aad892acc76b8e8be495319c6bd06bb0d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="173,986,328,1028"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1281,922,1402,948"/>
<area shape="rect" id="node5" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="583,402,789,428"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="385,957,525,998"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a24e80876fca2149c792901730321944e" title="should_end_transaction" alt="" coords="376,1023,535,1050"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1491,922,1637,948"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1290,871,1393,898"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="837,446,987,472"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1035,333,1203,374"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1491,871,1637,898"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1515,770,1613,796"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1710,820,1846,847"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1919,795,2037,822"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1935,922,2021,948"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1701,922,1855,948"/>
<area shape="rect" id="node12" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1697,972,1859,999"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1732,719,1824,746"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1063,532,1175,559"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1258,450,1425,476"/>
<area shape="rect" id="node25" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1049,142,1189,168"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1263,653,1419,694"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1295,551,1387,578"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1284,602,1399,628"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1261,500,1421,527"/>
<area shape="rect" id="node21" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1495,392,1633,433"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1479,458,1649,484"/>
<area shape="rect" id="node22" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1707,399,1849,426"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1258,180,1425,207"/>
<area shape="rect" id="node27" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1307,130,1376,156"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1276,231,1407,258"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1274,333,1409,374"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1479,60,1649,87"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1489,176,1639,217"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1487,258,1641,300"/>
<area shape="rect" id="node34" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1493,340,1635,367"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="842,957,982,998"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="605,1019,767,1046"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1054,398,1185,440"/>
<area shape="rect" id="node39" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1057,957,1181,998"/>
<area shape="rect" id="node41" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1509,1023,1619,1050"/>
<area shape="rect" id="node38" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1267,399,1416,426"/>
<area shape="rect" id="node40" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="1252,972,1431,999"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1706,1023,1850,1050"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1907,1048,2049,1075"/>
<area shape="rect" id="node45" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1046,671,1193,698"/>
<area shape="rect" id="node46" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="839,1176,985,1217"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1049,1139,1189,1166"/>
<area shape="rect" id="node48" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1035,1220,1204,1261"/>
<area shape="rect" id="node50" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="590,1124,782,1151"/>
</map>
</div>

</div>
</div>
<a id="aa47f591a2bfcb0b9eea6110945d3c617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47f591a2bfcb0b9eea6110945d3c617">&#9670;&nbsp;</a></span>inc_block_group_ro()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int inc_block_group_ro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_cgraph.png" border="0" usemap="#extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_cgraph" id="extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="188,5,341,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_icgraph.png" border="0" usemap="#extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_icgraph" id="extent-tree_8c_aa47f591a2bfcb0b9eea6110945d3c617_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1059,152,1225,179"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="188,517,352,544"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1059,524,1225,551"/>
<area shape="rect" id="node3" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1289,86,1428,127"/>
<area shape="rect" id="node14" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1273,253,1444,280"/>
<area shape="rect" id="node4" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2317,64,2413,91"/>
<area shape="rect" id="node6" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1492,93,1635,120"/>
<area shape="rect" id="node5" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="2504,64,2652,91"/>
<area shape="rect" id="node7" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1691,162,1821,203"/>
<area shape="rect" id="node9" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1911,43,2025,69"/>
<area shape="rect" id="node11" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1689,93,1823,120"/>
<area shape="rect" id="node8" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1894,195,2042,221"/>
<area shape="rect" id="node10" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="2117,43,2217,69"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1907,144,2029,171"/>
<area shape="rect" id="node13" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1911,93,2025,120"/>
<area shape="rect" id="node15" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="2109,245,2224,272"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2286,187,2445,213"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="2275,238,2456,279"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="2306,304,2425,331"/>
<area shape="rect" id="node20" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="400,543,607,569"/>
<area shape="rect" id="node25" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1520,448,1607,475"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1081,689,1203,716"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="687,543,790,569"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="664,341,813,368"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="655,195,823,237"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1683,701,1829,728"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1069,448,1215,475"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="892,549,989,576"/>
<area shape="rect" id="node26" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1703,448,1809,475"/>
<area shape="rect" id="node29" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1701,549,1811,576"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2107,549,2227,576"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2310,608,2421,635"/>
<area shape="rect" id="node30" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1877,601,2059,642"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1900,666,2036,707"/>
<area shape="rect" id="node32" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1906,397,2030,424"/>
<area shape="rect" id="node33" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1908,448,2028,475"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1892,732,2044,759"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1901,499,2035,525"/>
<area shape="rect" id="node36" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1918,296,2018,323"/>
<area shape="rect" id="node37" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1890,549,2046,576"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="885,296,997,323"/>
<area shape="rect" id="node41" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="871,347,1011,373"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1512,600,1615,627"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1301,499,1416,525"/>
<area shape="rect" id="node46" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1314,549,1403,576"/>
<area shape="rect" id="node44" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="2121,724,2212,751"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1507,651,1619,677"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="875,195,1006,221"/>
<area shape="rect" id="node50" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1075,86,1209,127"/>
</map>
</div>

</div>
</div>
<a id="afd07a2a420a89d0939bd73d25cdb728b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd07a2a420a89d0939bd73d25cdb728b">&#9670;&nbsp;</a></span>init_global_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_global_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_cgraph.png" border="0" usemap="#extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_cgraph" alt=""/></div>
<map name="extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_cgraph" id="extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="215,5,342,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121" title="update_global_block_rsv" alt="" coords="196,56,361,83"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="409,56,563,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_icgraph.png" border="0" usemap="#extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_icgraph" alt=""/></div>
<map name="extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_icgraph" id="extent-tree_8c_afd07a2a420a89d0939bd73d25cdb728b_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="196,195,360,222"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="408,841,615,867"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1334,398,1421,425"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="686,579,807,606"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="695,398,798,425"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="672,841,821,867"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="663,1103,831,1144"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="879,579,1025,606"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="879,398,1025,425"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="903,297,1001,323"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1091,347,1227,374"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1318,310,1437,337"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1081,398,1236,425"/>
<area shape="rect" id="node29" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1078,449,1239,475"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1529,438,1635,465"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1527,286,1637,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1961,453,2081,479"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2160,453,2271,479"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1701,311,1883,352"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1724,245,1860,287"/>
<area shape="rect" id="node21" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1730,427,1854,454"/>
<area shape="rect" id="node23" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1732,579,1852,606"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1716,42,1868,69"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1725,93,1859,119"/>
<area shape="rect" id="node26" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1742,194,1842,221"/>
<area shape="rect" id="node27" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1714,377,1870,403"/>
<area shape="rect" id="node16" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1931,318,2112,345"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1948,143,2095,170"/>
<area shape="rect" id="node19" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1934,259,2109,286"/>
<area shape="rect" id="node20" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2181,377,2250,403"/>
<area shape="rect" id="node22" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1963,529,2079,555"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1113,246,1205,273"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="896,841,1008,867"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1075,950,1242,977"/>
<area shape="rect" id="node42" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="882,681,1022,707"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1081,833,1237,875"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1113,899,1205,926"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1101,731,1216,758"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1079,782,1239,809"/>
<area shape="rect" id="node38" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1308,972,1447,1013"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1292,921,1463,947"/>
<area shape="rect" id="node39" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1511,845,1653,871"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1075,579,1242,606"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="887,1114,1017,1141"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="885,989,1019,1031"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1073,1169,1244,1195"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1083,1220,1234,1261"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1082,1103,1235,1144"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1087,1001,1230,1027"/>
</map>
</div>

</div>
</div>
<a id="a3765736cd72cc46ae00b8c1d7102aa38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3765736cd72cc46ae00b8c1d7102aa38">&#9670;&nbsp;</a></span>insert_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_cgraph.png" border="0" usemap="#extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_cgraph" alt=""/></div>
<map name="extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_cgraph" id="extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a50c934aea8391ab8a503abd106494e5c" title="insert_tree_block_ref" alt="" coords="204,1119,347,1145"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a3c5a39bb02ca446ac87cf4b085b5ef2c" title="insert_extent_data_ref" alt="" coords="200,1203,351,1229"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="399,1119,561,1145"/>
<area shape="rect" id="node10" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1650,995,1779,1021"/>
<area shape="rect" id="node4" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="609,1111,740,1153"/>
<area shape="rect" id="node41" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="621,1060,729,1087"/>
<area shape="rect" id="node45" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1018,1291,1126,1317"/>
<area shape="rect" id="node47" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="799,451,931,477"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1223,755,1346,781"/>
<area shape="rect" id="node21" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="788,1911,943,1937"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1431,603,1571,629"/>
<area shape="rect" id="node7" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1867,1057,1994,1084"/>
<area shape="rect" id="node11" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1859,527,2002,553"/>
<area shape="rect" id="node16" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1635,552,1795,579"/>
<area shape="rect" id="node17" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1416,451,1587,477"/>
<area shape="rect" id="node18" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1461,197,1542,224"/>
<area shape="rect" id="node19" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1425,907,1578,933"/>
<area shape="rect" id="node20" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1428,1565,1575,1592"/>
<area shape="rect" id="node8" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="2067,1032,2221,1059"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="2071,1083,2217,1109"/>
<area shape="rect" id="node12" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="2083,632,2205,659"/>
<area shape="rect" id="node14" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="2067,549,2221,590"/>
<area shape="rect" id="node15" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="2067,497,2221,524"/>
<area shape="rect" id="node13" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="2269,1556,2435,1583"/>
<area shape="rect" id="node22" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1231,1911,1339,1937"/>
<area shape="rect" id="node23" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="2095,2113,2193,2140"/>
<area shape="rect" id="node34" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="994,2240,1150,2267"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1637,1515,1792,1541"/>
<area shape="rect" id="node26" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1437,1718,1566,1759"/>
<area shape="rect" id="node27" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1440,1835,1563,1861"/>
<area shape="rect" id="node28" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1643,1860,1787,1887"/>
<area shape="rect" id="node29" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1843,2139,2019,2165"/>
<area shape="rect" id="node30" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1435,1936,1568,1963"/>
<area shape="rect" id="node31" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1457,1987,1546,2013"/>
<area shape="rect" id="node32" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1448,2037,1555,2064"/>
<area shape="rect" id="node33" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1446,1667,1557,1693"/>
<area shape="rect" id="node25" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1877,1515,1985,1541"/>
<area shape="rect" id="node35" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1246,2291,1323,2317"/>
<area shape="rect" id="node36" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1207,2341,1362,2368"/>
<area shape="rect" id="node39" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1201,1792,1368,1819"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1427,2367,1575,2393"/>
<area shape="rect" id="node38" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1435,2316,1567,2343"/>
<area shape="rect" id="node40" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1459,1616,1544,1643"/>
<area shape="rect" id="node42" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="799,805,931,832"/>
<area shape="rect" id="node43" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="999,400,1145,427"/>
<area shape="rect" id="node44" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="991,653,1153,680"/>
<area shape="rect" id="node46" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1240,1312,1329,1339"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="407,1279,553,1305"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="403,1228,557,1255"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_icgraph.png" border="0" usemap="#extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_icgraph" alt=""/></div>
<map name="extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_icgraph" id="extent-tree_8c_a3765736cd72cc46ae00b8c1d7102aa38_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="200,430,351,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="399,405,545,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="401,455,543,482"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="593,430,736,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="784,430,952,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1000,430,1155,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1720,137,1860,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1687,361,1893,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1217,197,1381,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1465,532,1616,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2385,609,2555,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1222,423,1375,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1463,478,1619,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1941,507,2112,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1203,291,1395,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2637,86,2759,113"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1975,238,2078,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1961,5,2092,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1965,71,2089,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1971,137,2082,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1952,339,2101,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1943,391,2111,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1443,153,1639,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2645,305,2751,331"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2637,355,2759,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2647,406,2749,433"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2653,457,2743,483"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2841,533,3000,559"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2608,558,2788,585"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2613,609,2783,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2641,659,2755,686"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2630,710,2766,737"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2629,761,2767,787"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2620,812,2776,853"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2614,878,2782,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2603,929,2793,955"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2607,979,2789,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2647,1030,2749,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2639,1081,2757,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2637,1131,2759,1158"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2636,1183,2760,1224"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2629,1249,2767,1275"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2615,137,2781,179"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2623,203,2773,230"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2619,254,2777,281"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1703,507,1877,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2160,507,2337,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1471,321,1611,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1456,255,1625,296"/>
</map>
</div>

</div>
</div>
<a id="a3c5a39bb02ca446ac87cf4b085b5ef2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c5a39bb02ca446ac87cf4b085b5ef2c">&#9670;&nbsp;</a></span>insert_extent_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int insert_extent_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_cgraph.png" border="0" usemap="#extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_cgraph" id="extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="212,1140,359,1167"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="204,1191,367,1217"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1455,865,1585,892"/>
<area shape="rect" id="node36" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="799,2097,955,2124"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="208,1423,363,1449"/>
<area shape="rect" id="node4" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="415,1154,545,1195"/>
<area shape="rect" id="node43" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="426,984,534,1011"/>
<area shape="rect" id="node47" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="823,1600,931,1627"/>
<area shape="rect" id="node49" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="605,612,737,639"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1029,815,1151,841"/>
<area shape="rect" id="node22" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="593,1271,748,1297"/>
<area shape="rect" id="node6" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1245,865,1368,892"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1237,663,1377,689"/>
<area shape="rect" id="node8" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1673,1028,1799,1055"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1665,753,1807,780"/>
<area shape="rect" id="node17" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1440,536,1600,563"/>
<area shape="rect" id="node18" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1221,511,1392,537"/>
<area shape="rect" id="node19" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1266,359,1347,385"/>
<area shape="rect" id="node20" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1230,967,1383,993"/>
<area shape="rect" id="node21" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1233,1220,1380,1247"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1872,1003,2027,1029"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1876,1053,2023,1080"/>
<area shape="rect" id="node13" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1888,884,2011,911"/>
<area shape="rect" id="node15" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1872,785,2027,826"/>
<area shape="rect" id="node16" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1872,733,2027,760"/>
<area shape="rect" id="node14" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="2075,1591,2240,1617"/>
<area shape="rect" id="node23" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1036,1575,1144,1601"/>
<area shape="rect" id="node24" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1900,1793,1999,1820"/>
<area shape="rect" id="node25" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1443,1996,1597,2023"/>
<area shape="rect" id="node27" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1242,1677,1371,1718"/>
<area shape="rect" id="node28" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1245,1575,1368,1601"/>
<area shape="rect" id="node29" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1455,1625,1585,1652"/>
<area shape="rect" id="node30" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1448,1524,1592,1551"/>
<area shape="rect" id="node31" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1648,1793,1824,1820"/>
<area shape="rect" id="node32" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1240,1743,1373,1769"/>
<area shape="rect" id="node33" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1262,1372,1351,1399"/>
<area shape="rect" id="node34" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1253,1423,1360,1449"/>
<area shape="rect" id="node35" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1251,1524,1362,1551"/>
<area shape="rect" id="node26" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1682,1996,1790,2023"/>
<area shape="rect" id="node37" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1051,2199,1129,2225"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1013,2249,1167,2276"/>
<area shape="rect" id="node41" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1007,2097,1173,2124"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1233,2199,1381,2225"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1241,2249,1373,2276"/>
<area shape="rect" id="node42" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1264,1895,1349,1921"/>
<area shape="rect" id="node44" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="605,865,737,892"/>
<area shape="rect" id="node45" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="804,612,951,639"/>
<area shape="rect" id="node46" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="796,815,959,841"/>
<area shape="rect" id="node48" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1045,1727,1135,1753"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_icgraph.png" border="0" usemap="#extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_icgraph" id="extent-tree_8c_a3c5a39bb02ca446ac87cf4b085b5ef2c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="204,430,351,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="399,430,549,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="597,405,744,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="599,455,742,482"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="792,430,935,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="983,430,1151,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1199,430,1353,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1919,137,2059,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1885,361,2092,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1415,197,1579,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1664,532,1815,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2584,609,2753,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1421,423,1574,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1661,478,1817,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2140,507,2311,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1401,291,1593,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2836,111,2957,138"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2174,238,2277,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2160,5,2291,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2163,71,2287,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2170,137,2281,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2151,339,2300,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2141,391,2309,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1641,153,1837,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2843,330,2950,357"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2836,381,2957,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2846,431,2947,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2851,482,2942,509"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3040,558,3199,585"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2807,583,2987,610"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2811,634,2982,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2839,685,2954,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2829,735,2965,762"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2828,786,2965,813"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2819,837,2975,879"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2813,903,2981,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2801,954,2992,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2805,1005,2988,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2845,1055,2948,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2837,1106,2956,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2836,1157,2957,1183"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2835,1208,2959,1249"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2827,162,2966,189"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2813,213,2980,255"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2822,279,2971,306"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1901,507,2076,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2359,507,2536,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1669,321,1809,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1655,255,1824,296"/>
</map>
</div>

</div>
</div>
<a id="ae8660121c6ebe1f43253b73103660590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8660121c6ebe1f43253b73103660590">&#9670;&nbsp;</a></span>insert_inline_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline_for_stack int insert_inline_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae8660121c6ebe1f43253b73103660590_cgraph.png" border="0" usemap="#extent-tree_8c_ae8660121c6ebe1f43253b73103660590_cgraph" alt=""/></div>
<map name="extent-tree_8c_ae8660121c6ebe1f43253b73103660590_cgraph" id="extent-tree_8c_ae8660121c6ebe1f43253b73103660590_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="188,738,328,779"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="395,365,536,406"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="398,545,533,586"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a12fe0fd796b0c0b5ec8d23ebe99d9338" title="extent_ref_type" alt="" coords="632,720,744,747"/>
<area shape="rect" id="node4" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="624,435,752,477"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="627,1556,749,1583"/>
<area shape="rect" id="node16" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1065,1987,1194,2013"/>
<area shape="rect" id="node25" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="1056,2037,1203,2064"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1278,669,1407,696"/>
<area shape="rect" id="node34" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1265,112,1420,139"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="385,973,546,1000"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="611,603,765,645"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="388,720,543,747"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aba9b9ca53a252d6fdc009132cdf0a951" title="hash_extent_data_ref_item" alt="" coords="376,821,555,848"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="615,771,761,797"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="414,11,517,37"/>
<area shape="rect" id="node5" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="881,467,936,493"/>
<area shape="rect" id="node7" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="847,1632,970,1659"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1059,1429,1199,1456"/>
<area shape="rect" id="node9" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1073,1328,1185,1355"/>
<area shape="rect" id="node10" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="821,1379,996,1405"/>
<area shape="rect" id="node11" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1052,1480,1207,1507"/>
<area shape="rect" id="node12" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1279,1328,1406,1355"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="837,1277,980,1304"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1075,1227,1183,1253"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1065,1556,1194,1583"/>
<area shape="rect" id="node17" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1271,1961,1414,1988"/>
<area shape="rect" id="node18" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1263,2180,1423,2207"/>
<area shape="rect" id="node19" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="850,1581,967,1608"/>
<area shape="rect" id="node20" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1044,2205,1215,2232"/>
<area shape="rect" id="node21" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="864,1835,953,1861"/>
<area shape="rect" id="node22" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="827,2155,991,2181"/>
<area shape="rect" id="node23" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1089,1683,1170,1709"/>
<area shape="rect" id="node24" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="832,1733,985,1760"/>
<area shape="rect" id="node26" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="826,1885,991,1912"/>
<area shape="rect" id="node27" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="839,1987,979,2029"/>
<area shape="rect" id="node28" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1269,821,1416,848"/>
<area shape="rect" id="node29" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1092,1024,1167,1051"/>
<area shape="rect" id="node32" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1493,416,1601,443"/>
<area shape="rect" id="node33" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="1263,1049,1422,1076"/>
<area shape="rect" id="node31" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1672,619,1771,645"/>
<area shape="rect" id="node35" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1471,112,1624,139"/>
<area shape="rect" id="node37" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="634,1125,742,1152"/>
<area shape="rect" id="node38" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="625,872,751,899"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="831,568,987,595"/>
<area shape="rect" id="node39" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1075,619,1183,645"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="825,517,992,544"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="603,384,773,411"/>
<area shape="rect" id="node49" href="ctree_8c.html#a4716b18f6ca1f05f3b3f095533b8bf06" title="btrfs_truncate_item" alt="" coords="621,232,755,259"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae8660121c6ebe1f43253b73103660590_icgraph.png" border="0" usemap="#extent-tree_8c_ae8660121c6ebe1f43253b73103660590_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae8660121c6ebe1f43253b73103660590_icgraph" id="extent-tree_8c_ae8660121c6ebe1f43253b73103660590_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="188,430,339,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="387,405,533,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="389,455,531,482"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="581,430,724,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="772,430,940,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="988,430,1143,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1708,137,1848,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1675,361,1881,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1205,197,1369,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1453,532,1604,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2373,609,2543,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1210,423,1363,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1451,478,1607,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1929,507,2100,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1191,291,1383,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2625,86,2747,113"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1963,238,2066,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1949,5,2080,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1953,71,2077,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1959,137,2070,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1940,339,2089,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1931,391,2099,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1431,153,1627,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2633,305,2739,331"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2625,355,2747,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2635,406,2737,433"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2641,457,2731,483"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2829,533,2988,559"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2596,558,2776,585"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2601,609,2771,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2629,659,2743,686"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2618,710,2754,737"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2617,761,2755,787"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2608,812,2764,853"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2602,878,2770,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2591,929,2781,955"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2595,979,2777,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2635,1030,2737,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2627,1081,2745,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2625,1131,2747,1158"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2624,1183,2748,1224"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2617,1249,2755,1275"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2603,137,2769,179"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2611,203,2761,230"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2607,254,2765,281"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1691,507,1865,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2148,507,2325,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1459,321,1599,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1444,255,1613,296"/>
</map>
</div>

</div>
</div>
<a id="a50c934aea8391ab8a503abd106494e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50c934aea8391ab8a503abd106494e5c">&#9670;&nbsp;</a></span>insert_tree_block_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int insert_tree_block_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_cgraph.png" border="0" usemap="#extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_cgraph" id="extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="196,1902,359,1929"/>
<area shape="rect" id="node16" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1411,2162,1541,2189"/>
<area shape="rect" id="node3" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="563,865,694,907"/>
<area shape="rect" id="node44" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="407,1902,515,1929"/>
<area shape="rect" id="node48" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="770,619,878,646"/>
<area shape="rect" id="node50" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="563,2257,695,2283"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="975,1430,1098,1457"/>
<area shape="rect" id="node37" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="747,315,901,342"/>
<area shape="rect" id="node5" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1194,1126,1317,1153"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1406,923,1546,950"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1420,1177,1532,1203"/>
<area shape="rect" id="node8" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1168,1075,1343,1102"/>
<area shape="rect" id="node9" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1399,1038,1553,1065"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1626,1329,1753,1355"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1184,1227,1327,1254"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1422,1278,1530,1305"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1411,1354,1541,1381"/>
<area shape="rect" id="node17" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1618,2485,1761,2511"/>
<area shape="rect" id="node21" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1609,2054,1769,2081"/>
<area shape="rect" id="node22" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1197,1379,1314,1406"/>
<area shape="rect" id="node23" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1391,1970,1561,1997"/>
<area shape="rect" id="node24" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1211,1886,1300,1913"/>
<area shape="rect" id="node25" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1173,1683,1337,1710"/>
<area shape="rect" id="node26" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1215,2561,1296,2587"/>
<area shape="rect" id="node27" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1179,2307,1332,2334"/>
<area shape="rect" id="node29" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1173,1481,1338,1507"/>
<area shape="rect" id="node30" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1185,1988,1325,2029"/>
<area shape="rect" id="node31" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1403,251,1549,278"/>
<area shape="rect" id="node32" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1218,467,1293,494"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1817,1354,1972,1381"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1821,1303,1968,1330"/>
<area shape="rect" id="node18" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1833,2535,1956,2562"/>
<area shape="rect" id="node19" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1817,2419,1972,2460"/>
<area shape="rect" id="node20" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1817,2485,1972,2511"/>
<area shape="rect" id="node28" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="1403,2459,1549,2486"/>
<area shape="rect" id="node33" href="ctree_8h.html#ab7220679f7abf5384e50ac3ab6bf11ea" title="btrfs_cpu_key_to_disk" alt="" coords="1399,391,1553,418"/>
<area shape="rect" id="node34" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1422,518,1530,545"/>
<area shape="rect" id="node36" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="1420,321,1532,347"/>
<area shape="rect" id="node35" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1640,87,1739,114"/>
<area shape="rect" id="node38" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="965,315,1108,342"/>
<area shape="rect" id="node39" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="985,366,1088,393"/>
<area shape="rect" id="node40" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="983,163,1091,190"/>
<area shape="rect" id="node42" href="ctree_8h.html#ac7597b449d0d7c9f7a21e34ad1c8138d" title="btrfs_item_end_nr" alt="" coords="973,87,1100,114"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="953,467,1120,494"/>
<area shape="rect" id="node41" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1178,569,1333,595"/>
<area shape="rect" id="node45" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="563,1902,695,1929"/>
<area shape="rect" id="node46" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="751,2130,897,2157"/>
<area shape="rect" id="node47" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="743,2561,905,2587"/>
<area shape="rect" id="node49" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="992,619,1081,646"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_icgraph.png" border="0" usemap="#extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_icgraph" id="extent-tree_8c_a50c934aea8391ab8a503abd106494e5c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="196,430,343,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="391,430,541,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="589,405,736,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="591,455,734,482"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="784,430,927,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="975,430,1143,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1191,430,1345,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1911,137,2051,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1877,361,2084,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1407,197,1571,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1656,532,1807,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2576,609,2745,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1413,423,1566,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1653,478,1809,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2132,507,2303,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1393,291,1585,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2828,111,2949,138"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2166,238,2269,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2152,5,2283,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2155,71,2279,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2162,137,2273,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2143,339,2292,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2133,391,2301,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1633,153,1829,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2835,330,2942,357"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2828,381,2949,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2838,431,2939,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2843,482,2934,509"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3032,558,3191,585"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2799,583,2979,610"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2803,634,2974,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2831,685,2946,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2821,735,2957,762"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2820,786,2957,813"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2811,837,2967,879"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2805,903,2973,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2793,954,2984,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2797,1005,2980,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2837,1055,2940,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2829,1106,2948,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2828,1157,2949,1183"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2827,1208,2951,1249"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2819,162,2958,189"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2805,213,2972,255"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2814,279,2963,306"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1893,507,2068,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2351,507,2528,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1661,321,1801,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1647,255,1816,296"/>
</map>
</div>

</div>
</div>
<a id="ad1f6e534fc526dd8feb800dc84586385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f6e534fc526dd8feb800dc84586385">&#9670;&nbsp;</a></span>link_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void link_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_cgraph.png" border="0" usemap="#extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_cgraph" alt=""/></div>
<map name="extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_cgraph" id="extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_cgraph">
<area shape="rect" id="node2" href="volumes_8h.html#ab0f9e5dfb3e8c445e65102797438c4c4" title="btrfs_bg_flags_to_raid\l_index" alt="" coords="172,155,323,196"/>
<area shape="rect" id="node3" href="volumes_8h.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="389,5,533,47"/>
<area shape="rect" id="node4" href="volumes_8h.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="389,71,533,112"/>
<area shape="rect" id="node5" href="volumes_8h.html#adc39e837a05fc36ea825560e65bc7c50" title="btrfs_get_fs_uuids" alt="" coords="397,137,526,163"/>
<area shape="rect" id="node6" href="volumes_8h.html#a782e890c25ad1f492beab5e7ba18416a" title="btrfs_set_fs_info_ptr" alt="" coords="391,187,532,214"/>
<area shape="rect" id="node7" href="volumes_8h.html#ac51cd3c4a04fa86a53432c9b4f9beeba" title="btrfs_reset_fs_info_ptr" alt="" coords="385,238,537,265"/>
<area shape="rect" id="node8" href="volumes_8h.html#a16661efc32c170ed84aedc88f8b28e46" title="btrfs_check_rw_degradable" alt="" coords="371,289,552,315"/>
<area shape="rect" id="node9" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="602,195,761,222"/>
<area shape="rect" id="node13" href="btrfs_2extent__map_8h.html#a2ea46678c185fd0d0fdb91c1284cf0fb" title="extent_map_end" alt="" coords="1184,209,1303,235"/>
<area shape="rect" id="node14" href="disk-io_8c.html#a538acc468c4602e97cbefe73c83a9914" title="btrfs_get_num_tolerated\l_disk_barrier_failures" alt="" coords="600,311,763,352"/>
<area shape="rect" id="node15" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="622,377,741,403"/>
<area shape="rect" id="node10" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="811,170,984,197"/>
<area shape="rect" id="node11" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="1043,107,1125,134"/>
<area shape="rect" id="node12" href="btrfs_2extent__map_8c.html#abe5fa1b21db40e4c1ca4226364e4cc80" title="__tree_search" alt="" coords="1032,158,1136,185"/>
<area shape="rect" id="node16" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="829,377,965,403"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_icgraph.png" border="0" usemap="#extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_icgraph" alt=""/></div>
<map name="extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_icgraph" id="extent-tree_8c_ad1f6e534fc526dd8feb800dc84586385_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="172,661,336,688"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1821,741,1985,768"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="384,535,591,561"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1284,119,1371,145"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="662,447,783,473"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="671,345,774,372"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2403,580,2552,607"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="639,498,807,539"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="855,447,1001,473"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="855,220,1001,247"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="879,345,977,372"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1067,296,1203,323"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1268,271,1387,297"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1057,93,1212,120"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1054,195,1215,221"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1436,93,1543,120"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1435,287,1544,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1843,184,1963,211"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1592,246,1773,287"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1615,311,1751,353"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1621,377,1745,404"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1623,93,1743,120"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1607,716,1759,743"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1615,144,1750,171"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1633,195,1733,221"/>
<area shape="rect" id="node39" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1605,428,1761,455"/>
<area shape="rect" id="node20" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2033,631,2172,657"/>
<area shape="rect" id="node21" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2225,631,2349,657"/>
<area shape="rect" id="node35" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2220,529,2355,556"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2614,681,2726,708"/>
<area shape="rect" id="node34" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2837,420,2906,447"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2788,572,2955,599"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2600,344,2740,371"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2793,674,2949,715"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2825,740,2917,767"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2814,791,2929,817"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2791,623,2951,649"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3019,489,3157,530"/>
<area shape="rect" id="node30" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="3003,572,3173,599"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3221,427,3364,453"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2788,159,2955,185"/>
<area shape="rect" id="node36" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2403,529,2551,556"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1089,347,1181,373"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="863,615,993,641"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="861,498,995,539"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1049,713,1220,740"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1059,581,1210,622"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1058,646,1211,687"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1063,529,1206,556"/>
</map>
</div>

</div>
</div>
<a id="a13a8f87c92803f428390002dc6b1cb2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a8f87c92803f428390002dc6b1cb2b">&#9670;&nbsp;</a></span>load_extent_tree_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_extent_tree_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *&#160;</td>
          <td class="paramname"><em>caching_ctl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_cgraph.png" border="0" usemap="#extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_cgraph" alt=""/></div>
<map name="extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_cgraph" id="extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="215,807,330,833"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="604,667,727,693"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1034,999,1163,1025"/>
<area shape="rect" id="node42" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="215,959,330,985"/>
<area shape="rect" id="node43" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="588,1604,743,1631"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="415,1604,518,1631"/>
<area shape="rect" id="node45" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="219,1060,327,1087"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="200,1261,345,1288"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="611,920,720,947"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1266,208,1389,235"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1029,271,1169,297"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1043,540,1155,567"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="791,321,965,348"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1021,119,1176,145"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1264,667,1391,693"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="807,641,949,668"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1045,692,1153,719"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1034,17,1163,44"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1256,1444,1399,1471"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1247,1255,1407,1281"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="819,68,937,95"/>
<area shape="rect" id="node30" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1013,1153,1184,1180"/>
<area shape="rect" id="node32" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="833,423,923,449"/>
<area shape="rect" id="node33" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="796,1199,960,1225"/>
<area shape="rect" id="node34" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="837,1503,919,1529"/>
<area shape="rect" id="node35" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="801,1300,955,1327"/>
<area shape="rect" id="node38" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="795,473,961,500"/>
<area shape="rect" id="node39" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="808,525,948,566"/>
<area shape="rect" id="node40" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1254,819,1401,845"/>
<area shape="rect" id="node41" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1061,743,1136,769"/>
<area shape="rect" id="node9" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1699,1281,1851,1322"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1483,641,1638,668"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1487,692,1634,719"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1266,591,1389,617"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1272,56,1383,83"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1266,5,1389,32"/>
<area shape="rect" id="node21" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1499,1393,1622,1420"/>
<area shape="rect" id="node22" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1483,1310,1638,1351"/>
<area shape="rect" id="node23" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1483,1444,1638,1471"/>
<area shape="rect" id="node25" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1471,1255,1651,1281"/>
<area shape="rect" id="node27" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1019,68,1178,95"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1033,220,1164,247"/>
<area shape="rect" id="node29" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1273,743,1381,769"/>
<area shape="rect" id="node31" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="1232,1153,1423,1180"/>
<area shape="rect" id="node36" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="1020,1604,1177,1631"/>
<area shape="rect" id="node37" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1251,1629,1404,1656"/>
<area shape="rect" id="node46" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="401,1160,533,1187"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="399,1261,535,1288"/>
<area shape="rect" id="node49" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="393,1312,540,1339"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_icgraph.png" border="0" usemap="#extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_icgraph" alt=""/></div>
<map name="extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_icgraph" id="extent-tree_8c_a13a8f87c92803f428390002dc6b1cb2b_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="200,329,311,355"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="359,329,493,355"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="541,101,680,127"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1843,471,1958,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="950,379,1087,420"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="728,379,897,406"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="563,435,658,462"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="745,71,880,98"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="747,123,878,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="745,5,880,47"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="945,97,1092,123"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="947,46,1090,73"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1172,71,1315,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="955,313,1082,355"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1140,386,1347,413"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1179,547,1307,574"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1418,361,1539,387"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1427,411,1530,438"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1404,534,1553,561"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1395,295,1563,336"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1617,357,1763,383"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1617,458,1763,485"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1641,407,1739,434"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1634,509,1746,535"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1817,547,1984,574"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1620,559,1760,586"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="2032,471,2173,498"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2431,501,2620,527"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2247,551,2357,578"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2221,383,2383,410"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2233,435,2371,476"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2227,235,2377,262"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2668,501,2803,527"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2457,602,2593,629"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2670,577,2801,603"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="2447,383,2604,410"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1625,306,1755,333"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1623,240,1757,281"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1416,699,1541,726"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1611,734,1769,761"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1843,733,1958,759"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1835,784,1966,825"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1175,666,1311,693"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1430,801,1527,827"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1639,789,1741,815"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1611,839,1769,866"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="946,444,1091,485"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="755,499,870,526"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="979,510,1058,537"/>
</map>
</div>

</div>
</div>
<a id="a92921030679dd91b8150152bfd52ced1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92921030679dd91b8150152bfd52ced1">&#9670;&nbsp;</a></span>lookup_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lookup_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref **&#160;</td>
          <td class="paramname"><em>ref_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a92921030679dd91b8150152bfd52ced1_cgraph.png" border="0" usemap="#extent-tree_8c_a92921030679dd91b8150152bfd52ced1_cgraph" alt=""/></div>
<map name="extent-tree_8c_a92921030679dd91b8150152bfd52ced1_cgraph" id="extent-tree_8c_a92921030679dd91b8150152bfd52ced1_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="207,639,347,681"/>
<area shape="rect" id="node16" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1067,1828,1197,1855"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697" title="lookup_tree_block_ref" alt="" coords="409,1929,559,1956"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="405,1625,563,1652"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a12fe0fd796b0c0b5ec8d23ebe99d9338" title="extent_ref_type" alt="" coords="428,173,540,200"/>
<area shape="rect" id="node4" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="420,107,548,149"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="637,1296,760,1323"/>
<area shape="rect" id="node29" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="1059,1777,1205,1804"/>
<area shape="rect" id="node34" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1281,292,1410,319"/>
<area shape="rect" id="node38" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1268,697,1423,724"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="403,596,565,623"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="622,183,775,225"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="621,1727,776,1753"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aba9b9ca53a252d6fdc009132cdf0a951" title="hash_extent_data_ref_item" alt="" coords="395,5,573,32"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="625,31,772,57"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="860,748,963,775"/>
<area shape="rect" id="node5" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="671,81,726,108"/>
<area shape="rect" id="node7" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="850,1068,973,1095"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1062,883,1202,909"/>
<area shape="rect" id="node9" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1076,1119,1188,1145"/>
<area shape="rect" id="node10" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="824,1017,999,1044"/>
<area shape="rect" id="node11" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1055,967,1209,993"/>
<area shape="rect" id="node12" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1282,1271,1409,1297"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="840,1169,983,1196"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1078,1220,1186,1247"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1067,1296,1197,1323"/>
<area shape="rect" id="node17" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1274,1727,1417,1753"/>
<area shape="rect" id="node20" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1265,2056,1425,2083"/>
<area shape="rect" id="node21" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="853,1321,970,1348"/>
<area shape="rect" id="node22" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1047,2081,1217,2108"/>
<area shape="rect" id="node23" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="867,1473,956,1500"/>
<area shape="rect" id="node24" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="829,2031,993,2057"/>
<area shape="rect" id="node25" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1091,1676,1173,1703"/>
<area shape="rect" id="node26" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="835,1423,988,1449"/>
<area shape="rect" id="node30" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="829,1575,994,1601"/>
<area shape="rect" id="node31" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="841,901,981,942"/>
<area shape="rect" id="node32" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1272,545,1419,572"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1095,495,1169,521"/>
<area shape="rect" id="node18" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1489,1697,1612,1724"/>
<area shape="rect" id="node19" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1473,1749,1628,1790"/>
<area shape="rect" id="node27" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="1053,1017,1211,1044"/>
<area shape="rect" id="node28" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1474,791,1627,817"/>
<area shape="rect" id="node36" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1497,495,1605,521"/>
<area shape="rect" id="node37" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="1266,444,1425,471"/>
<area shape="rect" id="node35" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1676,317,1775,344"/>
<area shape="rect" id="node40" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="645,1625,753,1652"/>
<area shape="rect" id="node41" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="635,343,762,369"/>
<area shape="rect" id="node43" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="833,393,989,420"/>
<area shape="rect" id="node42" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1078,343,1186,369"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a92921030679dd91b8150152bfd52ced1_icgraph.png" border="0" usemap="#extent-tree_8c_a92921030679dd91b8150152bfd52ced1_icgraph" alt=""/></div>
<map name="extent-tree_8c_a92921030679dd91b8150152bfd52ced1_icgraph" id="extent-tree_8c_a92921030679dd91b8150152bfd52ced1_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="207,430,341,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="389,405,536,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="391,455,534,482"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="584,430,727,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="775,430,943,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="991,430,1145,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1711,137,1851,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1677,361,1884,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1207,197,1371,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1456,532,1607,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2376,609,2545,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1213,423,1366,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1453,478,1609,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1932,507,2103,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1193,291,1385,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2628,86,2749,113"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1966,238,2069,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1952,5,2083,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1955,71,2079,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1962,137,2073,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1943,339,2092,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1933,391,2101,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1433,153,1629,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2635,305,2742,331"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2628,355,2749,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2638,406,2739,433"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2643,457,2734,483"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2832,533,2991,559"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2599,558,2779,585"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2603,609,2774,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2631,659,2746,686"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2621,710,2757,737"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2620,761,2757,787"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2611,812,2767,853"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2605,878,2773,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2593,929,2784,955"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2597,979,2780,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2637,1030,2740,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2629,1081,2748,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2628,1131,2749,1158"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2627,1183,2751,1224"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2619,1249,2758,1275"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2605,137,2772,179"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2614,203,2763,230"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2609,254,2768,281"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1693,507,1868,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2151,507,2328,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1461,321,1601,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1447,255,1616,296"/>
</map>
</div>

</div>
</div>
<a id="a162171ec8243beab5288ac61fb4cbddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162171ec8243beab5288ac61fb4cbddd">&#9670;&nbsp;</a></span>lookup_extent_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int lookup_extent_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_cgraph.png" border="0" usemap="#extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_cgraph" alt=""/></div>
<map name="extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_cgraph" id="extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="215,1169,361,1195"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="609,653,732,679"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1039,1270,1169,1297"/>
<area shape="rect" id="node46" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="234,1371,342,1398"/>
<area shape="rect" id="node48" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="593,1675,748,1702"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="211,1498,365,1525"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1719,307,1841,334"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1034,662,1174,689"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1048,561,1160,587"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="796,627,971,654"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1027,966,1181,993"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1717,814,1843,841"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="812,526,955,553"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1279,561,1387,587"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1501,105,1631,131"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1261,1473,1404,1499"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1253,1185,1413,1211"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1274,358,1391,385"/>
<area shape="rect" id="node30" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1019,1067,1189,1094"/>
<area shape="rect" id="node32" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="839,105,928,131"/>
<area shape="rect" id="node35" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="801,878,965,905"/>
<area shape="rect" id="node40" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="843,1422,924,1449"/>
<area shape="rect" id="node41" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="807,1169,960,1195"/>
<area shape="rect" id="node42" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="801,358,966,385"/>
<area shape="rect" id="node43" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="813,409,953,451"/>
<area shape="rect" id="node44" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1707,206,1853,233"/>
<area shape="rect" id="node45" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1529,307,1603,334"/>
<area shape="rect" id="node9" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1704,1307,1856,1348"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1904,789,2059,815"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1908,839,2055,866"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1719,358,1841,385"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1725,79,1835,106"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1719,130,1841,157"/>
<area shape="rect" id="node21" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1505,1502,1627,1529"/>
<area shape="rect" id="node22" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1489,1436,1643,1477"/>
<area shape="rect" id="node23" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1489,1553,1643,1579"/>
<area shape="rect" id="node25" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1476,1185,1656,1211"/>
<area shape="rect" id="node27" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1487,522,1645,549"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1501,358,1631,385"/>
<area shape="rect" id="node29" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1726,409,1834,435"/>
<area shape="rect" id="node31" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="1237,1083,1428,1110"/>
<area shape="rect" id="node33" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="1045,54,1163,81"/>
<area shape="rect" id="node34" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="1033,105,1175,131"/>
<area shape="rect" id="node36" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="1241,815,1424,856"/>
<area shape="rect" id="node37" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="1269,982,1397,1009"/>
<area shape="rect" id="node38" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1063,865,1145,891"/>
<area shape="rect" id="node39" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1053,763,1155,790"/>
<area shape="rect" id="node47" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="413,1397,545,1423"/>
<area shape="rect" id="node49" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="807,1726,960,1753"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_icgraph.png" border="0" usemap="#extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_icgraph" alt=""/></div>
<map name="extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_icgraph" id="extent-tree_8c_a162171ec8243beab5288ac61fb4cbddd_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="211,430,364,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="412,430,547,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="595,405,741,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="597,455,739,482"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="789,430,932,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="980,430,1148,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1196,430,1351,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1916,137,2056,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1883,361,2089,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1413,197,1577,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1661,532,1812,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2581,609,2751,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1418,423,1571,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1659,478,1815,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2137,507,2308,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1399,291,1591,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2833,111,2955,138"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2171,238,2274,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2157,5,2288,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2161,71,2285,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2167,137,2278,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2148,339,2297,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2139,391,2307,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1639,153,1835,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2841,330,2947,357"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2833,381,2955,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2843,431,2945,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2849,482,2939,509"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3037,558,3196,585"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2804,583,2984,610"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2809,634,2979,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2837,685,2951,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2826,735,2962,762"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2825,786,2963,813"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2816,837,2972,879"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2810,903,2978,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2799,954,2989,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2803,1005,2985,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2843,1055,2945,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2835,1106,2953,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2833,1157,2955,1183"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2832,1208,2956,1249"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2825,162,2963,189"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2811,213,2977,255"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2819,279,2969,306"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1899,507,2073,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2356,507,2533,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1667,321,1807,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1652,255,1821,296"/>
</map>
</div>

</div>
</div>
<a id="ac1f9145b443bc0b2a38bead52f7f7ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f9145b443bc0b2a38bead52f7f7ad8">&#9670;&nbsp;</a></span>lookup_inline_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline_for_stack int lookup_inline_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref **&#160;</td>
          <td class="paramname"><em>ref_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>insert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_cgraph.png" border="0" usemap="#extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_cgraph" id="extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a12fe0fd796b0c0b5ec8d23ebe99d9338" title="extent_ref_type" alt="" coords="227,5,339,32"/>
<area shape="rect" id="node3" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="219,57,347,98"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="435,924,558,951"/>
<area shape="rect" id="node20" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="865,452,994,479"/>
<area shape="rect" id="node31" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="856,123,1003,149"/>
<area shape="rect" id="node36" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1078,1760,1207,1787"/>
<area shape="rect" id="node40" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1065,1405,1220,1432"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="202,1507,363,1533"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="420,1779,573,1821"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a0e120210b07d3749c513027982d72931" title="match_extent_data_ref" alt="" coords="205,1975,360,2001"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aba9b9ca53a252d6fdc009132cdf0a951" title="hash_extent_data_ref_item" alt="" coords="193,2025,372,2052"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a5fbe5a5e06ec6a5bd187134407d78700" title="hash_extent_data_ref" alt="" coords="423,2051,570,2077"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="657,376,760,403"/>
<area shape="rect" id="node4" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="469,64,524,91"/>
<area shape="rect" id="node5" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="649,64,768,91"/>
<area shape="rect" id="node7" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="647,899,770,925"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="859,1000,999,1027"/>
<area shape="rect" id="node9" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="873,1152,985,1179"/>
<area shape="rect" id="node10" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="621,1051,796,1077"/>
<area shape="rect" id="node11" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="852,1101,1007,1128"/>
<area shape="rect" id="node13" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1079,920,1206,947"/>
<area shape="rect" id="node16" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="637,1253,780,1280"/>
<area shape="rect" id="node17" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="875,1304,983,1331"/>
<area shape="rect" id="node19" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="865,899,994,925"/>
<area shape="rect" id="node21" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1071,199,1214,225"/>
<area shape="rect" id="node22" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1063,579,1223,605"/>
<area shape="rect" id="node23" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="650,949,767,976"/>
<area shape="rect" id="node24" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="844,629,1015,656"/>
<area shape="rect" id="node25" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="664,1152,753,1179"/>
<area shape="rect" id="node26" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="627,579,791,605"/>
<area shape="rect" id="node27" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="889,224,970,251"/>
<area shape="rect" id="node28" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="632,275,785,301"/>
<area shape="rect" id="node32" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="626,528,791,555"/>
<area shape="rect" id="node33" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="639,681,779,722"/>
<area shape="rect" id="node34" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1069,1633,1216,1660"/>
<area shape="rect" id="node35" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="892,1507,967,1533"/>
<area shape="rect" id="node12" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1067,1094,1219,1135"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1271,895,1425,921"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1275,945,1421,972"/>
<area shape="rect" id="node18" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1081,1456,1204,1483"/>
<area shape="rect" id="node29" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="851,300,1008,327"/>
<area shape="rect" id="node30" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1271,547,1425,573"/>
<area shape="rect" id="node38" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1294,1507,1402,1533"/>
<area shape="rect" id="node39" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="1063,1557,1222,1584"/>
<area shape="rect" id="node37" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1473,1735,1572,1761"/>
<area shape="rect" id="node42" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="443,1507,551,1533"/>
<area shape="rect" id="node43" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="433,1681,560,1708"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="631,1608,787,1635"/>
<area shape="rect" id="node44" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="875,1709,983,1736"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_icgraph.png" border="0" usemap="#extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_icgraph" id="extent-tree_8c_ac1f9145b443bc0b2a38bead52f7f7ad8_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="193,401,347,427"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="203,452,337,493"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="403,405,537,431"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="593,455,740,482"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="595,405,738,431"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="788,430,931,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="979,430,1147,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1195,430,1349,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1915,137,2055,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1881,361,2088,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1411,197,1575,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1660,532,1811,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2580,609,2749,635"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1417,423,1570,464"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1657,478,1813,505"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2136,507,2307,534"/>
<area shape="rect" id="node45" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1397,291,1589,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2832,162,2953,189"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2170,238,2273,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2156,5,2287,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2159,71,2283,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2166,137,2277,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2147,339,2296,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2137,391,2305,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1637,153,1833,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2839,381,2946,407"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2832,431,2953,458"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2842,482,2943,509"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2847,533,2938,559"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3036,609,3195,635"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2803,634,2983,661"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2807,685,2978,711"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2835,735,2950,762"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2825,786,2961,813"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2824,837,2961,863"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2815,888,2971,929"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2809,954,2977,981"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2797,1005,2988,1031"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2801,1055,2984,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2841,1106,2944,1133"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2833,1157,2952,1183"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2832,213,2953,239"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2831,264,2955,305"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2823,330,2962,357"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1897,507,2072,534"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2355,507,2532,534"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1665,321,1805,347"/>
<area shape="rect" id="node47" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1651,255,1820,296"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="395,455,545,482"/>
</map>
</div>

</div>
</div>
<a id="ae28901581af8d1ea71c55bb02dd46697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28901581af8d1ea71c55bb02dd46697">&#9670;&nbsp;</a></span>lookup_tree_block_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int lookup_tree_block_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_cgraph.png" border="0" usemap="#extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_cgraph" alt=""/></div>
<map name="extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_cgraph" id="extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="203,883,325,909"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="617,1693,746,1720"/>
<area shape="rect" id="node3" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1296,275,1419,301"/>
<area shape="rect" id="node4" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="611,427,751,453"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="625,325,737,352"/>
<area shape="rect" id="node6" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="373,477,548,504"/>
<area shape="rect" id="node7" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="604,883,759,909"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1294,789,1421,816"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="389,275,532,301"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="856,275,964,301"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1079,72,1208,99"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="839,1693,981,1720"/>
<area shape="rect" id="node23" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="830,1491,990,1517"/>
<area shape="rect" id="node25" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="851,427,969,453"/>
<area shape="rect" id="node28" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="596,1389,767,1416"/>
<area shape="rect" id="node30" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="416,1085,505,1112"/>
<area shape="rect" id="node33" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="379,984,543,1011"/>
<area shape="rect" id="node42" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="420,1845,501,1872"/>
<area shape="rect" id="node43" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="384,1288,537,1315"/>
<area shape="rect" id="node47" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="378,1440,543,1467"/>
<area shape="rect" id="node48" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="391,1491,531,1533"/>
<area shape="rect" id="node49" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="608,629,755,656"/>
<area shape="rect" id="node50" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="423,629,498,656"/>
<area shape="rect" id="node8" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1281,1559,1433,1601"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1481,764,1636,791"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1485,815,1632,841"/>
<area shape="rect" id="node14" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1296,376,1419,403"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1302,47,1413,73"/>
<area shape="rect" id="node17" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1296,97,1419,124"/>
<area shape="rect" id="node20" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1082,1592,1205,1619"/>
<area shape="rect" id="node21" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1066,1694,1221,1735"/>
<area shape="rect" id="node22" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1066,1643,1221,1669"/>
<area shape="rect" id="node24" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1053,1491,1233,1517"/>
<area shape="rect" id="node26" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1064,477,1223,504"/>
<area shape="rect" id="node27" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1078,376,1209,403"/>
<area shape="rect" id="node29" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="815,1389,1005,1416"/>
<area shape="rect" id="node31" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="622,1085,741,1112"/>
<area shape="rect" id="node32" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="611,1136,752,1163"/>
<area shape="rect" id="node34" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="819,782,1001,823"/>
<area shape="rect" id="node35" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="617,1035,745,1061"/>
<area shape="rect" id="node40" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="641,781,722,808"/>
<area shape="rect" id="node41" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="631,680,732,707"/>
<area shape="rect" id="node36" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="842,1000,978,1027"/>
<area shape="rect" id="node37" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="824,1280,996,1307"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="847,1133,973,1160"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="837,1199,983,1225"/>
<area shape="rect" id="node44" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="603,1592,760,1619"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a12d844363b833ecbd5b357019b5e8de7" title="btrfs_read_buffer" alt="" coords="621,1643,741,1669"/>
<area shape="rect" id="node46" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="608,1541,755,1568"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_icgraph.png" border="0" usemap="#extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_icgraph" id="extent-tree_8c_ae28901581af8d1ea71c55bb02dd46697_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="203,430,356,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="404,430,539,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="587,405,733,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="589,455,731,482"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="781,430,924,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="972,430,1140,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1188,430,1343,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1908,137,2048,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1875,361,2081,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1405,197,1569,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1653,532,1804,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2573,609,2743,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1410,423,1563,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1651,478,1807,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2129,507,2300,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1391,291,1583,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2825,111,2947,138"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2163,238,2266,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2149,5,2280,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2153,71,2277,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2159,137,2270,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2140,339,2289,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2131,391,2299,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1631,153,1827,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2833,330,2939,357"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2825,381,2947,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2835,431,2937,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2841,482,2931,509"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3029,558,3188,585"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2796,583,2976,610"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2801,634,2971,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2829,685,2943,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2818,735,2954,762"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2817,786,2955,813"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2808,837,2964,879"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2802,903,2970,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2791,954,2981,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2795,1005,2977,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2835,1055,2937,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2827,1106,2945,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2825,1157,2947,1183"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2824,1208,2948,1249"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2817,162,2955,189"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2803,213,2969,255"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2811,279,2961,306"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1891,507,2065,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2348,507,2525,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1659,321,1799,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1644,255,1813,296"/>
</map>
</div>

</div>
</div>
<a id="a0e120210b07d3749c513027982d72931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e120210b07d3749c513027982d72931">&#9670;&nbsp;</a></span>match_extent_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int match_extent_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>leaf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_data_ref *&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0e120210b07d3749c513027982d72931_icgraph.png" border="0" usemap="#extent-tree_8c_a0e120210b07d3749c513027982d72931_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0e120210b07d3749c513027982d72931_icgraph" id="extent-tree_8c_a0e120210b07d3749c513027982d72931_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="208,397,365,423"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a3c5a39bb02ca446ac87cf4b085b5ef2c" title="insert_extent_data_ref" alt="" coords="211,514,362,541"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="217,448,357,489"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="413,397,567,423"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="623,405,757,431"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="813,405,960,431"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="815,455,958,482"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1008,430,1151,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1199,430,1367,457"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1415,430,1569,457"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2135,137,2275,179"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2101,361,2308,387"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1631,197,1795,223"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1880,532,2031,573"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2800,550,2969,577"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1637,423,1790,464"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1877,478,2033,505"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2356,507,2527,534"/>
<area shape="rect" id="node42" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1617,291,1809,318"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3052,191,3173,218"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2390,238,2493,265"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2376,5,2507,47"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2379,71,2503,112"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2386,137,2497,163"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2367,339,2516,366"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2357,391,2525,432"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1857,153,2053,179"/>
<area shape="rect" id="node22" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="3059,394,3166,421"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="3052,445,3173,471"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="3062,495,3163,522"/>
<area shape="rect" id="node25" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="3067,546,3158,573"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3256,622,3415,649"/>
<area shape="rect" id="node27" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="3023,647,3203,674"/>
<area shape="rect" id="node28" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="3027,698,3198,725"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="3055,749,3170,775"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="3045,799,3181,826"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="3044,850,3181,877"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3035,901,3191,943"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="3029,967,3197,994"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3017,242,3208,269"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="3021,293,3204,319"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="3061,343,3164,370"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="2117,507,2292,534"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2575,507,2752,534"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1885,321,2025,347"/>
<area shape="rect" id="node44" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1871,255,2040,296"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="417,514,563,541"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="615,455,765,482"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="423,448,557,489"/>
</map>
</div>

</div>
</div>
<a id="a7092568d9913bd50a53eace932ede4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7092568d9913bd50a53eace932ede4e6">&#9670;&nbsp;</a></span>may_commit_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int may_commit_transaction </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>maybe_commit_transaction - possibly commit the transaction if its ok to  - the root we're allocating for  - the number of bytes we want to reserve  - force the commit</p>
<p>This will check to make sure that committing the transaction will actually get us somewhere and then commit the transaction if it does. Otherwise it will return -ENOSPC. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_cgraph.png" border="0" usemap="#extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_cgraph" alt=""/></div>
<map name="extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_cgraph" id="extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_cgraph">
<area shape="rect" id="node2" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="221,848,368,875"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="601,1444,771,1471"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="416,329,535,356"/>
<area shape="rect" id="node4" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="614,187,758,229"/>
<area shape="rect" id="node5" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="583,253,789,280"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="604,304,768,331"/>
<area shape="rect" id="node7" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="617,355,755,381"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="611,405,761,432"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1079,507,1208,533"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="629,5,743,32"/>
<area shape="rect" id="node16" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1480,624,1640,651"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="617,57,755,98"/>
<area shape="rect" id="node50" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="607,122,765,163"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1280,583,1424,609"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="853,1161,999,1188"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1285,783,1419,825"/>
<area shape="rect" id="node17" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1281,1085,1423,1126"/>
<area shape="rect" id="node18" href="ctree_8h.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1285,1157,1419,1198"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="1277,1243,1427,1269"/>
<area shape="rect" id="node20" href="ctree_8h.html#acb05996b4d1a67ecfaac02c8a6270e3a" title="btrfs_run_delayed_iputs" alt="" coords="1272,1293,1432,1320"/>
<area shape="rect" id="node21" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1066,1389,1221,1416"/>
<area shape="rect" id="node22" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="851,1466,1001,1507"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="867,1532,985,1559"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1074,608,1213,635"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a08a2e4a01f8eb487096e1422ec973cfc" title="btrfs_start_delalloc\l_flush" alt="" coords="860,1583,992,1625"/>
<area shape="rect" id="node26" href="delayed-inode_8c.html#a8c6861e7722b06f9ded04e45b83fbc15" title="btrfs_run_delayed_items" alt="" coords="844,1649,1008,1676"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a1927d5ec2842a9ad39826e170bf35cbb" title="extwriter_counter_read" alt="" coords="849,1700,1003,1727"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#af3ea5a04e5165da96fdabc2dcef4b02f" title="btrfs_wait_delalloc\l_flush" alt="" coords="861,1751,991,1793"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a01e6add3100b59f57f27ce881b3681b6" title="btrfs_wait_pending\l_ordered" alt="" coords="861,1817,991,1858"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8c8878169667452f2b9a132fd1d00ccb" title="btrfs_scrub_pause" alt="" coords="861,1883,991,1909"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="837,1933,1015,1960"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#aa3c1a109907f5b8348989d763d488224" title="btrfs_assert_delayed\l_root_empty" alt="" coords="855,1985,997,2026"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="867,2101,985,2128"/>
<area shape="rect" id="node34" href="ctree_8h.html#a647e0a8ba8803131c2ed3235c7d9aab3" title="btrfs_set_root_node" alt="" coords="1075,2076,1212,2103"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a488c6eb8e7572d555ec64393c23564f0" title="btrfs_apply_pending\l_changes" alt="" coords="857,2153,995,2194"/>
<area shape="rect" id="node36" href="tree-log_8c.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="847,2219,1005,2245"/>
<area shape="rect" id="node37" href="qgroup_8c.html#ac3a7ca77bc497d7a51bad0fd4c5a7bff" title="btrfs_qgroup_account\l_extents" alt="" coords="853,2270,999,2311"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="848,1415,1004,1441"/>
<area shape="rect" id="node39" href="ctree_8h.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="855,2335,997,2377"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a530799217731333b6bf18b4fae041f9e" title="switch_commit_roots" alt="" coords="853,2401,999,2428"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a476161071710950ad1d82d9c04ad7a5e" title="update_super_roots" alt="" coords="858,2452,994,2479"/>
<area shape="rect" id="node42" href="volumes_8c.html#ac0e8f86e74046883682c8832f23e40ff" title="btrfs_update_commit\l_device_size" alt="" coords="854,2503,998,2545"/>
<area shape="rect" id="node43" href="volumes_8c.html#a5c6fb7b034eeaf7eddb2397dca239a5d" title="btrfs_update_commit\l_device_bytes_used" alt="" coords="854,659,998,701"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a6d213a1869129a86733fd2a8c503b809" title="btrfs_write_and_wait\l_transaction" alt="" coords="855,725,997,766"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="868,841,984,868"/>
<area shape="rect" id="node46" href="ctree_8h.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="861,893,991,934"/>
<area shape="rect" id="node47" href="ctree_8h.html#a24393d1a65f62a058b4a9dc7ad3ce42a" title="btrfs_clear_space_info_full" alt="" coords="837,959,1015,985"/>
<area shape="rect" id="node48" href="ctree_8h.html#aab662e09c9cf8d2879d3dc37c65e0914" title="btrfs_scrub_continue" alt="" coords="855,1009,997,1036"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1063,1124,1224,1151"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_icgraph.png" border="0" usemap="#extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_icgraph" alt=""/></div>
<map name="extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_icgraph" id="extent-tree_8c_a7092568d9913bd50a53eace932ede4e6_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="221,875,313,902"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="377,679,516,720"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="361,900,532,941"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="580,607,779,634"/>
<area shape="rect" id="node5" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="866,569,953,595"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1058,619,1165,646"/>
<area shape="rect" id="node9" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1057,274,1166,301"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1689,265,1809,291"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1857,265,1968,291"/>
<area shape="rect" id="node10" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1231,452,1412,493"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1253,81,1389,123"/>
<area shape="rect" id="node15" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1259,198,1383,225"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1261,249,1381,275"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1245,518,1397,545"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1254,350,1389,377"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1271,401,1371,427"/>
<area shape="rect" id="node26" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1243,299,1399,326"/>
<area shape="rect" id="node11" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1460,467,1641,494"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1477,30,1624,57"/>
<area shape="rect" id="node14" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1463,89,1638,115"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1493,163,1609,190"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1469,569,1633,595"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1469,518,1633,545"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1481,366,1621,393"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1473,315,1629,342"/>
<area shape="rect" id="node25" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1493,417,1608,443"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1465,214,1636,241"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="609,1212,749,1253"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="827,1259,992,1286"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1042,918,1181,945"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1040,1259,1183,1286"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="1040,1339,1183,1366"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="1058,1449,1165,1475"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1245,771,1398,798"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1252,823,1391,864"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1247,889,1396,915"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1237,940,1405,981"/>
<area shape="rect" id="node36" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1247,1006,1396,1033"/>
<area shape="rect" id="node37" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1273,1057,1369,1083"/>
<area shape="rect" id="node38" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1258,1107,1385,1134"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1262,670,1381,697"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1236,721,1407,747"/>
<area shape="rect" id="node39" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1478,1158,1623,1185"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1261,1209,1382,1235"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1260,1259,1383,1286"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1237,1310,1405,1337"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1253,1158,1389,1185"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1247,1412,1396,1453"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1247,1478,1396,1505"/>
</map>
</div>

</div>
</div>
<a id="a06352c1004d84fdc049345080f75d049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06352c1004d84fdc049345080f75d049">&#9670;&nbsp;</a></span>need_do_async_reclaim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int need_do_async_reclaim </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>system_chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a06352c1004d84fdc049345080f75d049_cgraph.png" border="0" usemap="#extent-tree_8c_a06352c1004d84fdc049345080f75d049_cgraph" alt=""/></div>
<map name="extent-tree_8c_a06352c1004d84fdc049345080f75d049_cgraph" id="extent-tree_8c_a06352c1004d84fdc049345080f75d049_cgraph">
<area shape="rect" id="node2" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="398,89,505,115"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="216,139,344,180"/>
<area shape="rect" id="node12" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="223,205,337,231"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="392,143,511,170"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="559,202,712,229"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="569,5,701,47"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="564,71,707,112"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="562,136,709,177"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="760,46,876,73"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="924,39,1052,80"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1100,46,1231,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a06352c1004d84fdc049345080f75d049_icgraph.png" border="0" usemap="#extent-tree_8c_a06352c1004d84fdc049345080f75d049_icgraph" alt=""/></div>
<map name="extent-tree_8c_a06352c1004d84fdc049345080f75d049_icgraph" id="extent-tree_8c_a06352c1004d84fdc049345080f75d049_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="216,1013,356,1054"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="404,1020,569,1047"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="619,518,758,544"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1022,843,1165,870"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="617,1126,760,1152"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="635,1046,742,1072"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="808,274,961,300"/>
<area shape="rect" id="node9" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="815,601,954,642"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="810,52,959,79"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1009,296,1177,337"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1236,1096,1385,1123"/>
<area shape="rect" id="node22" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="837,719,933,746"/>
<area shape="rect" id="node25" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1247,128,1374,155"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="825,471,944,498"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1225,970,1396,996"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1023,230,1163,272"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1250,230,1371,256"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1459,230,1606,256"/>
<area shape="rect" id="node10" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="1020,646,1167,688"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1037,27,1149,54"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1227,40,1394,67"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1023,78,1163,104"/>
<area shape="rect" id="node14" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1863,248,2001,289"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1259,483,1362,510"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1251,331,1370,358"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1229,280,1393,307"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1473,1088,1592,1115"/>
<area shape="rect" id="node23" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="1029,777,1157,818"/>
<area shape="rect" id="node24" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="1026,712,1161,753"/>
<area shape="rect" id="node26" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1669,407,1815,434"/>
<area shape="rect" id="node28" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="1017,362,1169,388"/>
<area shape="rect" id="node31" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="1235,534,1387,576"/>
<area shape="rect" id="node32" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1020,179,1167,206"/>
<area shape="rect" id="node34" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="1020,464,1167,505"/>
<area shape="rect" id="node35" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="1012,530,1175,556"/>
<area shape="rect" id="node36" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="1012,581,1175,622"/>
<area shape="rect" id="node29" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1249,600,1372,627"/>
<area shape="rect" id="node30" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1468,542,1597,568"/>
<area shape="rect" id="node33" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1243,432,1379,459"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1444,970,1621,996"/>
<area shape="rect" id="node40" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1227,792,1395,819"/>
<area shape="rect" id="node41" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1465,792,1600,819"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="810,1169,959,1210"/>
<area shape="rect" id="node44" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1018,1198,1169,1224"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="1019,1249,1168,1290"/>
<area shape="rect" id="node46" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1465,1140,1600,1181"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="810,1046,959,1072"/>
<area shape="rect" id="node49" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1037,995,1149,1022"/>
<area shape="rect" id="node50" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1028,1046,1159,1072"/>
</map>
</div>

</div>
</div>
<a id="ac4d340e1c5d27e966cbeef647de953c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4d340e1c5d27e966cbeef647de953c7">&#9670;&nbsp;</a></span>next_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a>* next_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_cgraph.png" border="0" usemap="#extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_cgraph" id="extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="177,5,328,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a7fab7e34aa123a0ddf6bbb75dcd5c260" title="btrfs_lookup_first\l_block_group" alt="" coords="191,57,314,98"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="587,93,737,120"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="376,57,539,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_icgraph.png" border="0" usemap="#extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_icgraph" id="extent-tree_8c_ac4d340e1c5d27e966cbeef647de953c7_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad34759a183b31aa9ba4274a72bf15a4d" title="btrfs_put_block_group\l_cache" alt="" coords="177,421,328,462"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1370,1097,1465,1124"/>
<area shape="rect" id="node3" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="526,372,613,399"/>
<area shape="rect" id="node48" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="376,428,465,455"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="693,9,800,36"/>
<area shape="rect" id="node7" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="692,431,801,457"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1357,107,1477,133"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1604,107,1715,133"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="868,129,1049,170"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="891,423,1027,465"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="897,540,1021,567"/>
<area shape="rect" id="node24" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="899,591,1019,617"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="883,489,1035,516"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="891,980,1026,1007"/>
<area shape="rect" id="node41" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="909,721,1009,748"/>
<area shape="rect" id="node45" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="881,212,1037,239"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1097,60,1279,87"/>
<area shape="rect" id="node10" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1367,5,1468,32"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1115,317,1261,344"/>
<area shape="rect" id="node14" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1101,376,1275,403"/>
<area shape="rect" id="node13" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1339,208,1496,235"/>
<area shape="rect" id="node15" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1360,376,1475,403"/>
<area shape="rect" id="node16" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1625,317,1694,344"/>
<area shape="rect" id="node17" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1344,310,1491,351"/>
<area shape="rect" id="node18" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1330,427,1505,469"/>
<area shape="rect" id="node19" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1811,784,1969,811"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1130,641,1246,668"/>
<area shape="rect" id="node22" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1575,784,1744,811"/>
<area shape="rect" id="node23" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1364,645,1471,672"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1106,489,1270,516"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1106,544,1270,571"/>
<area shape="rect" id="node27" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1556,544,1763,571"/>
<area shape="rect" id="node29" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1348,595,1487,621"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1118,980,1258,1007"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1110,1035,1266,1061"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1353,863,1482,905"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1343,1031,1491,1073"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1371,980,1464,1007"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="1602,1097,1717,1124"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1851,1097,1929,1124"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="2017,1097,2192,1124"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="2240,1097,2337,1124"/>
<area shape="rect" id="node42" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1131,777,1245,804"/>
<area shape="rect" id="node43" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1369,747,1465,773"/>
<area shape="rect" id="node44" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1327,798,1508,839"/>
<area shape="rect" id="node46" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1103,111,1273,137"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="1125,212,1251,239"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="513,480,625,507"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="673,481,820,508"/>
</map>
</div>

</div>
</div>
<a id="aa61acca1ed78a89370c00c0ee8865e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61acca1ed78a89370c00c0ee8865e97">&#9670;&nbsp;</a></span>pin_down_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pin_down_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_cgraph.png" border="0" usemap="#extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_cgraph" alt=""/></div>
<map name="extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_cgraph" id="extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_cgraph">
<area shape="rect" id="node2" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="173,342,288,369"/>
<area shape="rect" id="node3" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="336,342,440,369"/>
<area shape="rect" id="node4" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="488,342,607,369"/>
<area shape="rect" id="node5" href="extent__io_8c.html#a12286f9cb4879c211fd72ab8259c1420" title="alloc_extent_state" alt="" coords="861,26,989,53"/>
<area shape="rect" id="node6" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="1245,153,1385,180"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a43d41a48cceb6534327d9d7358aa3f7a" title="tree_search_for_insert" alt="" coords="655,469,805,496"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a0503375641668f94aead573f267f887d" title="alloc_extent_state\l_atomic" alt="" coords="666,48,794,90"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a2a35e48a00317a8f13a19f3ba1caecaa" title="insert_state" alt="" coords="685,368,775,394"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a4a94f521672abe5afd891db93611dc3c" title="set_state_bits" alt="" coords="873,418,977,445"/>
<area shape="rect" id="node41" href="extent__io_8c.html#a0e9df311badff8a81168b49e10e47db7" title="merge_state" alt="" coords="877,368,972,394"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="1059,229,1182,256"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a369e1e98a0d4260506c50761937cdc5d" title="extent_io_tree_panic" alt="" coords="659,520,801,546"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a1a855576f67d424c4b8024553802ef4a" title="cache_state" alt="" coords="683,570,777,597"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a27e1dc6d27c1fc066e93aeede0204d19" title="next_state" alt="" coords="689,621,771,648"/>
<area shape="rect" id="node49" href="extent__io_8c.html#aeaede42ffddc37c23652b648964f7121" title="split_state" alt="" coords="689,266,771,293"/>
<area shape="rect" id="node7" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1459,128,1554,154"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a00692f7dddc385047f0cf60fbd76d3fb" title="DEFINE_SPINLOCK" alt="" coords="1433,178,1580,205"/>
<area shape="rect" id="node10" href="extent__io_8c.html#abe467271d634b8343246cb5501b8baa5" title="__etree_search" alt="" coords="869,469,980,496"/>
<area shape="rect" id="node40" href="extent__io_8c.html#af958ea152d9987cc5689861b43c9d595" title="tree_insert" alt="" coords="883,317,966,344"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a9978f793a333445e07eb82b0c69ebdd8" title="set_state_cb" alt="" coords="1072,418,1169,445"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a0faa12cb962bf387a41fc563285a13cf" title="add_extent_changeset" alt="" coords="1044,469,1197,496"/>
<area shape="rect" id="node16" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1278,444,1353,470"/>
<area shape="rect" id="node20" href="extent__io_8c.html#a552b62b75391793157f27eda7bdfea10" title="flush_write_bio" alt="" coords="1261,494,1370,521"/>
<area shape="rect" id="node17" href="ulist_8c.html#af9770fea48cb36f6ca6bbdddb5202940" title="ulist_add_merge" alt="" coords="1448,444,1565,470"/>
<area shape="rect" id="node18" href="ulist_8c.html#a4a2f46d31727a215a17d74ce60594523" title="ulist_rbtree_search" alt="" coords="1628,444,1760,470"/>
<area shape="rect" id="node19" href="ulist_8c.html#a9e22aa0917a164df2a7ab11359e3ce62" title="ulist_rbtree_insert" alt="" coords="1631,393,1757,420"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a4506724f341b037ca5b7b8b03e6fd705" title="submit_one_bio" alt="" coords="1450,494,1563,521"/>
<area shape="rect" id="node22" href="check-integrity_8c.html#a4bfa0549f2775a3bc6d773760cd26675" title="btrfsic_submit_bio" alt="" coords="1630,494,1758,521"/>
<area shape="rect" id="node23" href="check-integrity_8c.html#a74c52fdf4a7fbd9e1938d58d029aa597" title="__btrfsic_submit_bio" alt="" coords="1808,494,1951,521"/>
<area shape="rect" id="node24" href="check-integrity_8c.html#a07a895bba82e1eb8815ae3607571b964" title="btrfsic_dev_state_lookup" alt="" coords="1999,261,2165,288"/>
<area shape="rect" id="node26" href="check-integrity_8c.html#a8cfffe5e77b1ca9935913415b43bed23" title="btrfsic_process_written\l_block" alt="" coords="2003,487,2161,528"/>
<area shape="rect" id="node37" href="check-integrity_8c.html#a4502cb107f60b235507231cabbde55a3" title="btrfsic_bio_end_io" alt="" coords="2243,818,2369,845"/>
<area shape="rect" id="node25" href="check-integrity_8c.html#af4360a68d86db1b044975aec13ca2d3e" title="btrfsic_dev_state_hashtable\l_lookup" alt="" coords="2213,78,2399,119"/>
<area shape="rect" id="node27" href="check-integrity_8c.html#afc9ef680e9d32ac761621933fb553a49" title="btrfsic_test_for_metadata" alt="" coords="2221,377,2391,404"/>
<area shape="rect" id="node28" href="check-integrity_8c.html#a11b3a1db3cff95578e283184cc3a6a22" title="btrfsic_block_hashtable\l_lookup" alt="" coords="2227,428,2385,470"/>
<area shape="rect" id="node29" href="check-integrity_8c.html#a58106b5dd38700df8d6aa846ef47872b" title="btrfsic_dump_tree_sub" alt="" coords="2629,650,2784,677"/>
<area shape="rect" id="node30" href="check-integrity_8c.html#a0b93c221b44fdb6909d7f8e1790e1160" title="btrfsic_get_block_type" alt="" coords="2832,676,2985,702"/>
<area shape="rect" id="node31" href="check-integrity_8c.html#a73e87f56320d63a7acb87a1ecdad896f" title="btrfsic_cmp_log_and\l_dev_bytenr" alt="" coords="2235,195,2377,236"/>
<area shape="rect" id="node32" href="check-integrity_8c.html#ad5a4ec49c477da69fef9ddfeea01d52f" title="btrfsic_is_block_ref\l_by_superblock" alt="" coords="2447,702,2581,743"/>
<area shape="rect" id="node33" href="check-integrity_8c.html#aa449a14259bf71df56aaa703255dbb9d" title="btrfsic_dump_tree" alt="" coords="2451,600,2577,626"/>
<area shape="rect" id="node34" href="check-integrity_8c.html#aa72a68ac2487b56154dbb3bce6fdd3ce" title="btrfsic_print_rem_link" alt="" coords="2633,760,2780,786"/>
<area shape="rect" id="node35" href="check-integrity_8c.html#af21e3c8b277726772f6d8013f446397d" title="btrfsic_block_link\l_hashtable_remove" alt="" coords="2239,260,2373,302"/>
<area shape="rect" id="node36" href="check-integrity_8c.html#a645781dc1cbf00b7d5460d2f80ec62b7" title="btrfsic_block_link_free" alt="" coords="2230,326,2382,353"/>
<area shape="rect" id="node38" href="check-integrity_8c.html#a820b000473e5915dfdd96cc6403dac00" title="btrfsic_bh_end_io" alt="" coords="2452,220,2576,246"/>
<area shape="rect" id="node39" href="check-integrity_8c.html#afc022ccb70a3c3643e2ec73c5a0cbafa" title="btrfsic_process_written\l_superblock" alt="" coords="2227,596,2385,638"/>
<area shape="rect" id="node42" href="extent__io_8c.html#ad00187c1eb74f8f0ab88e909f9a01709" title="merge_cb" alt="" coords="1081,368,1160,394"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a320be295294cb256f23fe5d3e74d8fea" title="tree_fs_info" alt="" coords="879,520,970,546"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="853,570,996,597"/>
<area shape="rect" id="node50" href="extent__io_8c.html#ad8c520dcd5197ddf9a219ad61bb09447" title="split_cb" alt="" coords="891,216,958,242"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_icgraph.png" border="0" usemap="#extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_icgraph" id="extent-tree_8c_aa61acca1ed78a89370c00c0ee8865e97_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="403,132,518,159"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="179,353,316,394"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="175,1127,319,1153"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="173,491,321,533"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="827,571,1033,597"/>
<area shape="rect" id="node8" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="600,107,779,133"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="618,56,761,83"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="627,5,751,32"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="629,157,749,184"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1105,583,1226,609"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1114,633,1217,660"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1091,465,1240,492"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1081,517,1249,558"/>
<area shape="rect" id="node9" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="831,81,1029,108"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="846,31,1014,57"/>
<area shape="rect" id="node14" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="858,448,1002,475"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="843,688,1017,715"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="860,622,1000,663"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="872,132,988,159"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="876,183,984,209"/>
<area shape="rect" id="node20" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="861,233,999,260"/>
<area shape="rect" id="node21" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1300,1136,1396,1163"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="1089,848,1242,875"/>
<area shape="rect" id="node23" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="393,309,529,336"/>
<area shape="rect" id="node24" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="641,259,738,285"/>
<area shape="rect" id="node25" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="610,309,769,336"/>
<area shape="rect" id="node27" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="865,1164,995,1191"/>
<area shape="rect" id="node29" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1297,1243,1399,1269"/>
<area shape="rect" id="node32" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="411,745,511,772"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="409,1101,512,1128"/>
<area shape="rect" id="node36" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="369,1215,552,1241"/>
<area shape="rect" id="node38" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="393,1152,528,1179"/>
<area shape="rect" id="node28" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1107,1189,1224,1216"/>
<area shape="rect" id="node31" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1101,1139,1229,1165"/>
<area shape="rect" id="node30" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1447,1243,1611,1269"/>
<area shape="rect" id="node33" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="634,680,745,707"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="640,1101,739,1128"/>
<area shape="rect" id="node37" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="646,1227,733,1253"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="620,1152,759,1179"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="393,862,528,903"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="396,491,525,533"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="835,924,1025,951"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="635,899,744,925"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="609,781,770,808"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="620,833,759,874"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="615,1051,764,1077"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="622,462,757,503"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="619,528,759,555"/>
<area shape="rect" id="node50" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="628,411,751,437"/>
</map>
</div>

</div>
</div>
<a id="a3accc68b6f4187ae91cdb10c1e47963f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3accc68b6f4187ae91cdb10c1e47963f">&#9670;&nbsp;</a></span>priority_reclaim_metadata_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void priority_reclaim_metadata_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structreserve__ticket.html">reserve_ticket</a> *&#160;</td>
          <td class="paramname"><em>ticket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_cgraph.png" border="0" usemap="#extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_cgraph" id="extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="391,1318,519,1359"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="224,641,316,668"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="623,1296,741,1323"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="833,1308,986,1335"/>
<area shape="rect" id="node9" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="856,1435,963,1461"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="843,1174,975,1215"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="838,1239,981,1281"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="836,1366,983,1407"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1095,1213,1211,1240"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="606,641,758,668"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="609,591,755,617"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1304,376,1451,403"/>
<area shape="rect" id="node29" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="364,267,547,293"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="401,692,509,719"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="399,1020,511,1047"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="371,540,539,567"/>
<area shape="rect" id="node12" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1049,979,1256,1005"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="850,631,969,657"/>
<area shape="rect" id="node15" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1081,811,1225,853"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1071,877,1235,904"/>
<area shape="rect" id="node17" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1083,477,1222,504"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1078,528,1227,555"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1088,579,1217,605"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="1096,629,1209,656"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1068,427,1237,453"/>
<area shape="rect" id="node25" href="ctree_8h.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="1899,728,2059,755"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#adb9b9f9882542215e43ff018711c8365" title="btrfs_record_root_in\l_trans" alt="" coords="1084,681,1221,722"/>
<area shape="rect" id="node28" href="qgroup_8h.html#a4d049928d93860ddafb714e2e8f5898d" title="btrfs_qgroup_free_meta\l_pertrans" alt="" coords="1073,746,1232,787"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1713,521,1846,562"/>
<area shape="rect" id="node26" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1708,438,1851,479"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1499,477,1660,504"/>
<area shape="rect" id="node30" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="613,175,751,217"/>
<area shape="rect" id="node31" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="882,107,937,133"/>
<area shape="rect" id="node32" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="852,157,967,184"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#a871e0ca3f52c069d5a57f09c72d9e117" title="btrfs_first_delayed_node" alt="" coords="827,208,991,235"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a0aa39e6040d1f30d10c52f051b81916c" title="__btrfs_commit_inode\l_delayed_items" alt="" coords="834,259,985,301"/>
<area shape="rect" id="node35" href="delayed-inode_8c.html#ae41987e5af596d25876eee9105ba4fd4" title="btrfs_release_delayed_node" alt="" coords="817,325,1001,352"/>
<area shape="rect" id="node36" href="delayed-inode_8c.html#a7426853484f2890a68efa2657db95a99" title="btrfs_next_delayed_node" alt="" coords="826,5,993,32"/>
<area shape="rect" id="node37" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="855,56,964,83"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="846,860,973,887"/>
<area shape="rect" id="node40" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="845,743,974,785"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="604,743,760,785"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="614,1397,750,1424"/>
<area shape="rect" id="node44" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="602,1144,762,1171"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="595,1195,769,1221"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="607,961,757,988"/>
<area shape="rect" id="node47" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="847,912,971,939"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="611,1013,753,1054"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="615,1078,749,1119"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_icgraph.png" border="0" usemap="#extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_icgraph" id="extent-tree_8c_a3accc68b6f4187ae91cdb10c1e47963f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="224,1013,364,1054"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="412,1020,577,1047"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="627,518,766,544"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="1030,843,1173,870"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="625,1126,768,1152"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="643,1046,750,1072"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="816,274,969,300"/>
<area shape="rect" id="node9" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="823,601,962,642"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="818,52,967,79"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1017,296,1185,337"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1244,1096,1393,1123"/>
<area shape="rect" id="node22" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="845,719,941,746"/>
<area shape="rect" id="node25" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1255,128,1382,155"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="833,471,952,498"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1233,970,1404,996"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1031,230,1171,272"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1258,230,1379,256"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1467,230,1614,256"/>
<area shape="rect" id="node10" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="1028,646,1175,688"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1045,27,1157,54"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1235,40,1402,67"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1031,78,1171,104"/>
<area shape="rect" id="node14" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1871,248,2009,289"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1267,483,1370,510"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1259,331,1378,358"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1237,280,1401,307"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1481,1088,1600,1115"/>
<area shape="rect" id="node23" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="1037,777,1165,818"/>
<area shape="rect" id="node24" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="1034,712,1169,753"/>
<area shape="rect" id="node26" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1677,407,1823,434"/>
<area shape="rect" id="node28" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="1025,362,1177,388"/>
<area shape="rect" id="node31" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="1243,534,1395,576"/>
<area shape="rect" id="node32" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1028,179,1175,206"/>
<area shape="rect" id="node34" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="1028,464,1175,505"/>
<area shape="rect" id="node35" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="1020,530,1183,556"/>
<area shape="rect" id="node36" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="1020,581,1183,622"/>
<area shape="rect" id="node29" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1257,600,1380,627"/>
<area shape="rect" id="node30" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1476,542,1605,568"/>
<area shape="rect" id="node33" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1251,432,1387,459"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1452,970,1629,996"/>
<area shape="rect" id="node40" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1235,792,1403,819"/>
<area shape="rect" id="node41" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1473,792,1608,819"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="818,1169,967,1210"/>
<area shape="rect" id="node44" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1026,1198,1177,1224"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="1027,1249,1176,1290"/>
<area shape="rect" id="node46" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1473,1140,1608,1181"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="818,1046,967,1072"/>
<area shape="rect" id="node49" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1045,995,1157,1022"/>
<area shape="rect" id="node50" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1036,1046,1167,1072"/>
</map>
</div>

</div>
</div>
<a id="ab5c1b4ba0d9c46420b6b0b34dff77385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5c1b4ba0d9c46420b6b0b34dff77385">&#9670;&nbsp;</a></span>put_caching_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void put_caching_control </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *&#160;</td>
          <td class="paramname"><em>ctl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_cgraph.png" border="0" usemap="#extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_cgraph" alt=""/></div>
<map name="extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_cgraph" id="extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="192,1062,361,1088"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1471,699,1601,726"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1477,1054,1595,1080"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1665,1272,1792,1299"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1479,420,1593,447"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="409,870,556,896"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1263,1526,1407,1552"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1856,935,1997,962"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1667,162,1790,188"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="821,807,983,834"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1031,851,1200,878"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="618,993,759,1034"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="604,741,773,782"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="619,1156,759,1197"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1274,1628,1397,1669"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1649,1804,1808,1831"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1033,176,1197,203"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="615,690,762,716"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="821,1627,983,1654"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="621,345,756,386"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="1038,243,1193,270"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1260,598,1411,624"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1051,902,1179,928"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1051,952,1180,979"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1262,1003,1409,1030"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1275,902,1395,928"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="1248,1374,1423,1400"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="1262,1206,1409,1248"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1879,1488,1974,1515"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1474,1526,1598,1552"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1659,1526,1798,1552"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1491,1272,1581,1299"/>
<area shape="rect" id="node20" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1899,1728,1954,1755"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1877,1564,1977,1591"/>
<area shape="rect" id="node21" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="2045,1728,2164,1755"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1483,1627,1589,1654"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="827,1053,977,1094"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="828,345,976,386"/>
<area shape="rect" id="node32" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1040,294,1191,320"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1278,1104,1393,1131"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="821,932,983,959"/>
<area shape="rect" id="node39" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1288,111,1383,138"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1252,162,1419,188"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1262,750,1409,776"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1255,1694,1416,1720"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1260,213,1411,254"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1280,547,1391,574"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1287,952,1384,979"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1260,278,1411,320"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_icgraph.png" border="0" usemap="#extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_icgraph" alt=""/></div>
<map name="extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_icgraph" id="extent-tree_8c_ab5c1b4ba0d9c46420b6b0b34dff77385_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="219,239,330,266"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="438,290,573,316"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="653,126,823,152"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="667,450,809,492"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c" title="wait_block_group_cache\l_progress" alt="" coords="192,341,357,382"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4" title="wait_block_group_cache_done" alt="" coords="405,407,605,434"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="670,516,806,557"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="1097,1495,1259,1522"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="669,212,807,239"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="887,282,1024,324"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="681,348,795,375"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="691,399,785,426"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="888,231,1023,258"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="890,34,1021,76"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="888,165,1023,206"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1115,34,1241,76"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1316,450,1523,476"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1355,42,1483,68"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1594,854,1715,880"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1603,424,1706,451"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1580,475,1729,502"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1571,526,1739,568"/>
<area shape="rect" id="node12" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1787,1074,1927,1100"/>
<area shape="rect" id="node17" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1110,222,1246,248"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="883,100,1028,141"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="885,348,1026,375"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="898,399,1013,426"/>
<area shape="rect" id="node25" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="871,1039,1040,1066"/>
<area shape="rect" id="node26" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1125,938,1231,964"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1117,988,1239,1015"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1127,1039,1229,1066"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1133,1090,1223,1116"/>
<area shape="rect" id="node30" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1340,1318,1499,1344"/>
<area shape="rect" id="node31" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1088,1343,1268,1370"/>
<area shape="rect" id="node32" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1093,1242,1263,1268"/>
<area shape="rect" id="node33" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1362,1228,1477,1255"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1351,1394,1487,1420"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1109,1444,1247,1471"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1100,552,1256,593"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1094,618,1262,644"/>
<area shape="rect" id="node40" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1324,1546,1515,1572"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1328,1596,1511,1623"/>
<area shape="rect" id="node42" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1127,668,1229,695"/>
<area shape="rect" id="node43" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1119,719,1237,746"/>
<area shape="rect" id="node44" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1117,770,1239,796"/>
<area shape="rect" id="node45" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1116,821,1240,862"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1109,887,1247,914"/>
<area shape="rect" id="node34" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1611,1470,1698,1496"/>
<area shape="rect" id="node37" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1375,1444,1464,1471"/>
</map>
</div>

</div>
</div>
<a id="aee66511988f4c6c45f83282c99e3d0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee66511988f4c6c45f83282c99e3d0f3">&#9670;&nbsp;</a></span>reada_walk_down()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline void reada_walk_down </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwalk__control.html">walk_control</a> *&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_cgraph.png" border="0" usemap="#extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_cgraph" alt=""/></div>
<map name="extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_cgraph" id="extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="863,202,1045,243"/>
<area shape="rect" id="node4" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="886,318,1022,345"/>
<area shape="rect" id="node5" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="868,369,1040,396"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="180,1221,344,1248"/>
<area shape="rect" id="node27" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="875,1753,1033,1780"/>
<area shape="rect" id="node46" href="ctree_8c.html#a5583fb14c86f35ee9dc82ba7538bba77" title="btrfs_comp_cpu_keys" alt="" coords="187,1804,337,1830"/>
<area shape="rect" id="node47" href="disk-io_8c.html#a95ecad9833224c4d4a39bde4533d529f" title="readahead_tree_block" alt="" coords="187,1862,337,1889"/>
<area shape="rect" id="node3" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1093,866,1280,893"/>
<area shape="rect" id="node7" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="426,761,541,788"/>
<area shape="rect" id="node8" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="422,812,545,838"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="889,622,1019,649"/>
<area shape="rect" id="node34" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="889,1437,1019,1464"/>
<area shape="rect" id="node37" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="641,1702,796,1729"/>
<area shape="rect" id="node38" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="419,1450,547,1491"/>
<area shape="rect" id="node40" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="392,1550,575,1577"/>
<area shape="rect" id="node45" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="429,576,538,602"/>
<area shape="rect" id="node9" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="657,892,780,918"/>
<area shape="rect" id="node10" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="884,1018,1024,1045"/>
<area shape="rect" id="node11" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="898,1184,1010,1210"/>
<area shape="rect" id="node12" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="631,1145,806,1172"/>
<area shape="rect" id="node13" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="877,1082,1031,1109"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1123,1133,1250,1160"/>
<area shape="rect" id="node15" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="647,1246,790,1273"/>
<area shape="rect" id="node16" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="900,1285,1008,1312"/>
<area shape="rect" id="node17" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="889,32,1019,58"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1115,622,1258,649"/>
<area shape="rect" id="node20" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1107,209,1267,236"/>
<area shape="rect" id="node21" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="660,65,777,92"/>
<area shape="rect" id="node22" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="869,100,1039,126"/>
<area shape="rect" id="node23" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="674,572,763,598"/>
<area shape="rect" id="node24" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="637,217,801,244"/>
<area shape="rect" id="node25" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="913,521,995,548"/>
<area shape="rect" id="node26" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="642,420,795,446"/>
<area shape="rect" id="node30" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="636,724,801,750"/>
<area shape="rect" id="node31" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="649,775,789,816"/>
<area shape="rect" id="node32" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="881,866,1027,893"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="681,1348,756,1374"/>
<area shape="rect" id="node28" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="1131,1753,1242,1780"/>
<area shape="rect" id="node29" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1110,1829,1263,1856"/>
<area shape="rect" id="node36" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="900,1488,1008,1514"/>
<area shape="rect" id="node35" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1137,1462,1236,1489"/>
<area shape="rect" id="node39" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="669,1449,769,1476"/>
<area shape="rect" id="node41" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="629,1500,808,1526"/>
<area shape="rect" id="node42" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="627,1550,810,1577"/>
<area shape="rect" id="node43" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="623,1601,815,1628"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="633,1652,805,1678"/>
<area shape="rect" id="node48" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="409,1855,557,1896"/>
<area shape="rect" id="node49" href="extent__io_8c.html#aa7c3981789599b3376ee73c3ae64bf8d" title="read_extent_buffer\l_pages" alt="" coords="418,1920,549,1962"/>
<area shape="rect" id="node50" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="445,1986,522,2013"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_icgraph.png" border="0" usemap="#extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_icgraph" alt=""/></div>
<map name="extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_icgraph" id="extent-tree_8c_aee66511988f4c6c45f83282c99e3d0f3_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="180,537,288,564"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="336,537,452,564"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="500,563,640,589"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="505,385,635,412"/>
<area shape="rect" id="node5" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="713,385,825,412"/>
<area shape="rect" id="node35" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="919,816,1049,843"/>
<area shape="rect" id="node41" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="688,707,851,749"/>
<area shape="rect" id="node6" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="927,309,1041,336"/>
<area shape="rect" id="node13" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1370,259,1485,285"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="899,512,1069,539"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="899,157,1069,184"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="901,208,1067,235"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="900,107,1068,133"/>
<area shape="rect" id="node25" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="1129,360,1297,387"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="918,411,1050,437"/>
<area shape="rect" id="node28" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="911,461,1057,488"/>
<area shape="rect" id="node30" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="933,563,1035,589"/>
<area shape="rect" id="node32" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="909,613,1059,640"/>
<area shape="rect" id="node7" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="1145,309,1280,336"/>
<area shape="rect" id="node8" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1356,309,1499,336"/>
<area shape="rect" id="node9" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1555,284,1683,311"/>
<area shape="rect" id="node10" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1757,284,1887,311"/>
<area shape="rect" id="node11" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1740,335,1904,361"/>
<area shape="rect" id="node12" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1754,233,1890,260"/>
<area shape="rect" id="node15" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1117,512,1308,539"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1384,613,1471,640"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="1139,208,1286,235"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1372,208,1483,235"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1169,107,1256,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1362,157,1493,184"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1369,107,1486,133"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1143,411,1282,437"/>
<area shape="rect" id="node29" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="1157,461,1268,488"/>
<area shape="rect" id="node31" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="1165,563,1260,589"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="1167,613,1258,640"/>
<area shape="rect" id="node34" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="1125,664,1300,691"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1547,757,1692,784"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1132,816,1293,843"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1753,750,1891,791"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1952,787,2048,813"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1376,765,1479,792"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="927,765,1041,792"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="904,715,1064,741"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1127,715,1298,741"/>
<area shape="rect" id="node46" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="720,56,819,83"/>
<area shape="rect" id="node47" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="935,56,1033,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1145,5,1280,32"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="1139,56,1286,83"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="1356,56,1499,83"/>
</map>
</div>

</div>
</div>
<a id="a1c83101ca3011c39a20fe176a51c665d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c83101ca3011c39a20fe176a51c665d">&#9670;&nbsp;</a></span>release_global_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void release_global_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_cgraph.png" border="0" usemap="#extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_cgraph" alt=""/></div>
<map name="extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_cgraph" id="extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="221,39,388,65"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="436,31,573,73"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="788,5,941,32"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="621,64,740,91"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="799,57,931,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="793,122,936,163"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="791,187,938,229"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="989,97,1105,124"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1153,90,1281,131"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1329,97,1460,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_icgraph.png" border="0" usemap="#extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_icgraph" alt=""/></div>
<map name="extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_icgraph" id="extent-tree_8c_a1c83101ca3011c39a20fe176a51c665d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="221,148,383,174"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="431,309,637,336"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1555,161,1641,188"/>
<area shape="rect" id="node42" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1349,365,1438,392"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="709,796,830,822"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="920,97,1023,124"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="695,553,844,580"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="685,302,853,343"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1717,757,1864,784"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1101,46,1248,73"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1126,97,1223,124"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1325,198,1461,225"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1539,237,1657,264"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1316,97,1471,124"/>
<area shape="rect" id="node27" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1313,148,1474,174"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1737,330,1844,357"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1736,593,1845,620"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2172,513,2292,540"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="2371,513,2481,540"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1912,872,2093,914"/>
<area shape="rect" id="node17" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1935,451,2071,492"/>
<area shape="rect" id="node19" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1941,618,2065,645"/>
<area shape="rect" id="node20" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1943,669,2063,696"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1927,720,2079,746"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1935,770,2070,797"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1953,821,2053,848"/>
<area shape="rect" id="node24" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1925,568,2081,594"/>
<area shape="rect" id="node16" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="2141,880,2323,906"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="2159,458,2305,485"/>
<area shape="rect" id="node25" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2197,566,2267,593"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1347,300,1439,326"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="915,710,1027,737"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1091,634,1258,661"/>
<area shape="rect" id="node40" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="901,472,1041,498"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1097,787,1253,828"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1129,853,1221,880"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1117,685,1232,712"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1095,736,1255,762"/>
<area shape="rect" id="node36" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1324,572,1463,614"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1308,638,1479,665"/>
<area shape="rect" id="node37" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1527,569,1669,596"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1091,381,1258,408"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1542,504,1654,530"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="906,305,1037,332"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="904,526,1039,567"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1089,330,1260,357"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1099,199,1250,240"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1098,264,1251,306"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1103,533,1246,560"/>
</map>
</div>

</div>
</div>
<a id="a35acd71362afb7707c60e3dcf1fab879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35acd71362afb7707c60e3dcf1fab879">&#9670;&nbsp;</a></span>remove_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int remove_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref *&#160;</td>
          <td class="paramname"><em>iref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_cgraph.png" border="0" usemap="#extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_cgraph" alt=""/></div>
<map name="extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_cgraph" id="extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="423,158,564,199"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a00d57d05fcd8243fab58757f0cc1f02a" title="remove_extent_data_ref" alt="" coords="212,1035,375,1061"/>
<area shape="rect" id="node33" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="441,1555,545,1581"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="612,5,783,32"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="621,275,774,317"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1478,376,1607,403"/>
<area shape="rect" id="node18" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="633,57,761,98"/>
<area shape="rect" id="node19" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="831,781,998,808"/>
<area shape="rect" id="node22" href="ctree_8c.html#a4716b18f6ca1f05f3b3f095533b8bf06" title="btrfs_truncate_item" alt="" coords="630,528,765,555"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1047,1136,1203,1163"/>
<area shape="rect" id="node4" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="831,7,999,33"/>
<area shape="rect" id="node5" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1097,33,1152,60"/>
<area shape="rect" id="node7" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1280,477,1388,504"/>
<area shape="rect" id="node8" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1469,1339,1616,1365"/>
<area shape="rect" id="node12" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1925,832,2023,859"/>
<area shape="rect" id="node14" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1465,477,1620,504"/>
<area shape="rect" id="node9" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1668,1237,1855,1264"/>
<area shape="rect" id="node10" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1701,1339,1821,1365"/>
<area shape="rect" id="node11" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1903,1364,2045,1391"/>
<area shape="rect" id="node13" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="2093,1491,2232,1517"/>
<area shape="rect" id="node15" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1707,477,1815,504"/>
<area shape="rect" id="node16" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1685,528,1838,555"/>
<area shape="rect" id="node20" href="extent__io_8c.html#adf92b3473afd8419f7477233e21b8d1a" title="memcpy_extent_buffer" alt="" coords="1047,781,1202,808"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a3a111056cc620e21a9d649c97cb13679" title="copy_pages" alt="" coords="1288,756,1380,783"/>
<area shape="rect" id="node23" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="863,933,966,960"/>
<area shape="rect" id="node24" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1055,959,1194,985"/>
<area shape="rect" id="node25" href="ctree_8h.html#a6b7cfe56dd4a1ca178a29da9be6a55d9" title="btrfs_set_item_key" alt="" coords="848,579,981,605"/>
<area shape="rect" id="node26" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="859,1136,971,1163"/>
<area shape="rect" id="node28" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1295,1187,1373,1213"/>
<area shape="rect" id="node29" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1251,1997,1417,2024"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1257,1085,1411,1112"/>
<area shape="rect" id="node31" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1251,1136,1417,1163"/>
<area shape="rect" id="node34" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="642,1719,753,1745"/>
<area shape="rect" id="node43" href="ctree_8h.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="620,1111,775,1137"/>
<area shape="rect" id="node46" href="ctree_8h.html#abcf0350a6f0ef696eb19f4d9603c5548" title="btrfs_insert_item" alt="" coords="638,2352,757,2379"/>
<area shape="rect" id="node49" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="1059,2349,1190,2390"/>
<area shape="rect" id="node35" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="835,1744,995,1771"/>
<area shape="rect" id="node36" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="1065,1997,1185,2024"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="865,1845,965,1872"/>
<area shape="rect" id="node39" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1063,1871,1186,1897"/>
<area shape="rect" id="node40" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="1073,2149,1176,2176"/>
<area shape="rect" id="node41" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1271,2099,1397,2125"/>
<area shape="rect" id="node42" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="1069,2048,1180,2075"/>
<area shape="rect" id="node38" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="1051,1541,1198,1568"/>
<area shape="rect" id="node44" href="ctree_8h.html#ab7220679f7abf5384e50ac3ab6bf11ea" title="btrfs_cpu_key_to_disk" alt="" coords="838,1085,991,1112"/>
<area shape="rect" id="node45" href="ctree_8h.html#ac7597b449d0d7c9f7a21e34ad1c8138d" title="btrfs_item_end_nr" alt="" coords="1479,883,1606,909"/>
<area shape="rect" id="node47" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="857,2352,972,2379"/>
<area shape="rect" id="node48" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="833,2403,996,2429"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="848,2453,981,2480"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_icgraph.png" border="0" usemap="#extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_icgraph" alt=""/></div>
<map name="extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_icgraph" id="extent-tree_8c_a35acd71362afb7707c60e3dcf1fab879_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="212,430,347,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="395,405,541,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="397,455,539,482"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="589,430,732,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="780,430,948,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="996,430,1151,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1716,137,1856,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1683,361,1889,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1213,197,1377,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1461,532,1612,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2381,609,2551,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1218,423,1371,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1459,478,1615,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1937,507,2108,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1199,291,1391,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2633,86,2755,113"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1971,238,2074,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1957,5,2088,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1961,71,2085,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1967,137,2078,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1948,339,2097,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1939,391,2107,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1439,153,1635,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2641,305,2747,331"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2633,355,2755,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2643,406,2745,433"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2649,457,2739,483"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2837,533,2996,559"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2604,558,2784,585"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2609,609,2779,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2637,659,2751,686"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2626,710,2762,737"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2625,761,2763,787"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2616,812,2772,853"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2610,878,2778,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2599,929,2789,955"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2603,979,2785,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2643,1030,2745,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2635,1081,2753,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2633,1131,2755,1158"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2632,1183,2756,1224"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2625,1249,2763,1275"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2611,137,2777,179"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2619,203,2769,230"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2615,254,2773,281"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1699,507,1873,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2156,507,2333,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1467,321,1607,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1452,255,1621,296"/>
</map>
</div>

</div>
</div>
<a id="a00d57d05fcd8243fab58757f0cc1f02a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00d57d05fcd8243fab58757f0cc1f02a">&#9670;&nbsp;</a></span>remove_extent_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int remove_extent_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_cgraph.png" border="0" usemap="#extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_cgraph" alt=""/></div>
<map name="extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_cgraph" id="extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1976,752,2131,779"/>
<area shape="rect" id="node7" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="216,1157,320,1184"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1343,1107,1499,1133"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="2217,752,2325,779"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="2195,828,2348,855"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="2396,1213,2495,1240"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="2543,701,2681,728"/>
<area shape="rect" id="node8" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="946,575,1057,601"/>
<area shape="rect" id="node40" href="ctree_8h.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="924,1740,1079,1767"/>
<area shape="rect" id="node43" href="ctree_8h.html#abcf0350a6f0ef696eb19f4d9603c5548" title="btrfs_insert_item" alt="" coords="368,1233,487,1260"/>
<area shape="rect" id="node46" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="745,1325,876,1366"/>
<area shape="rect" id="node9" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="2200,1372,2343,1399"/>
<area shape="rect" id="node10" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1984,803,2123,829"/>
<area shape="rect" id="node11" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1989,1477,2118,1504"/>
<area shape="rect" id="node12" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="1159,1309,1261,1336"/>
<area shape="rect" id="node13" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1960,1075,2147,1101"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="1127,1259,1293,1285"/>
<area shape="rect" id="node15" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1341,651,1501,677"/>
<area shape="rect" id="node16" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="1361,397,1481,424"/>
<area shape="rect" id="node18" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1160,853,1260,880"/>
<area shape="rect" id="node20" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1360,803,1483,829"/>
<area shape="rect" id="node21" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1993,1152,2113,1179"/>
<area shape="rect" id="node22" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="1154,1157,1266,1184"/>
<area shape="rect" id="node30" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1990,347,2117,373"/>
<area shape="rect" id="node38" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="1370,296,1473,323"/>
<area shape="rect" id="node39" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="1366,347,1477,373"/>
<area shape="rect" id="node17" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1550,499,1715,525"/>
<area shape="rect" id="node19" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="1348,1411,1495,1437"/>
<area shape="rect" id="node24" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1594,1107,1671,1133"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1555,1005,1710,1032"/>
<area shape="rect" id="node28" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1549,904,1716,931"/>
<area shape="rect" id="node32" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1579,1411,1687,1437"/>
<area shape="rect" id="node26" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1764,1005,1912,1032"/>
<area shape="rect" id="node27" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1772,955,1904,981"/>
<area shape="rect" id="node29" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1795,651,1881,677"/>
<area shape="rect" id="node31" href="ctree_8h.html#ac7597b449d0d7c9f7a21e34ad1c8138d" title="btrfs_item_end_nr" alt="" coords="1990,980,2117,1007"/>
<area shape="rect" id="node33" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1765,1107,1911,1133"/>
<area shape="rect" id="node34" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1773,1310,1903,1351"/>
<area shape="rect" id="node35" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1777,1477,1899,1504"/>
<area shape="rect" id="node36" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1981,1427,2125,1453"/>
<area shape="rect" id="node37" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1965,1372,2141,1399"/>
<area shape="rect" id="node41" href="ctree_8h.html#ab7220679f7abf5384e50ac3ab6bf11ea" title="btrfs_cpu_key_to_disk" alt="" coords="1133,1613,1287,1640"/>
<area shape="rect" id="node42" href="ctree_8h.html#a6b7cfe56dd4a1ca178a29da9be6a55d9" title="btrfs_set_item_key" alt="" coords="1143,1765,1277,1792"/>
<area shape="rect" id="node44" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="559,1208,673,1235"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="535,1360,697,1387"/>
<area shape="rect" id="node49" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="549,1259,683,1285"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="561,1309,671,1336"/>
<area shape="rect" id="node47" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1149,701,1271,728"/>
<area shape="rect" id="node48" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="924,1333,1079,1360"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_icgraph.png" border="0" usemap="#extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_icgraph" id="extent-tree_8c_a00d57d05fcd8243fab58757f0cc1f02a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="216,430,375,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="423,430,557,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="605,405,752,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="607,455,750,482"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="800,430,943,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="991,430,1159,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1207,430,1361,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1927,137,2067,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1893,361,2100,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1423,197,1587,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1672,532,1823,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2592,609,2761,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1429,423,1582,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1669,478,1825,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2148,507,2319,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1409,291,1601,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2844,111,2965,138"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2182,238,2285,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2168,5,2299,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2171,71,2295,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2178,137,2289,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2159,339,2308,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2149,391,2317,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1649,153,1845,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2851,330,2958,357"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2844,381,2965,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2854,431,2955,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2859,482,2950,509"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3048,558,3207,585"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2815,583,2995,610"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2819,634,2990,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2847,685,2962,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2837,735,2973,762"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2836,786,2973,813"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2827,837,2983,879"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2821,903,2989,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2809,954,3000,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2813,1005,2996,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2853,1055,2956,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2845,1106,2964,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2844,1157,2965,1183"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2843,1208,2967,1249"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2835,162,2974,189"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2821,213,2988,255"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2830,279,2979,306"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1909,507,2084,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2367,507,2544,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1677,321,1817,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1663,255,1832,296"/>
</map>
</div>

</div>
</div>
<a id="a6799b77c53b912f294f61b60a257de54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6799b77c53b912f294f61b60a257de54">&#9670;&nbsp;</a></span>reserve_metadata_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reserve_metadata_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>orig_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ctree_8h.html#a43329fdd89bf84fc81ce8331198ce61d">btrfs_reserve_flush_enum</a>&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reserve_metadata_bytes - try to reserve bytes from the block_rsv's space  - the root we're allocating for  - the block_rsv we're allocating for  - the number of bytes we want  - whether or not we can flush to make our reservation</p>
<p>This will reserve orgi_bytes number of bytes from the space info associated with the block_rsv. If there is not enough space it will make an attempt to flush out space to make room. It will do this by flushing delalloc if possible or committing the transaction. If flush is 0 then no attempts to regain reservations will be made and this will fail if there is not enough space already. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6799b77c53b912f294f61b60a257de54_cgraph.png" border="0" usemap="#extent-tree_8c_a6799b77c53b912f294f61b60a257de54_cgraph" alt=""/></div>
<map name="extent-tree_8c_a6799b77c53b912f294f61b60a257de54_cgraph" id="extent-tree_8c_a6799b77c53b912f294f61b60a257de54_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="221,1066,361,1107"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="1306,813,1430,840"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="219,1132,364,1159"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1516,1105,1669,1132"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1100,1073,1219,1100"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="631,1220,793,1247"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="430,1015,565,1041"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="412,1066,583,1107"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1302,915,1434,957"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1297,981,1439,1022"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1295,1098,1441,1139"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1535,955,1651,981"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1753,947,1881,989"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1954,955,2085,981"/>
<area shape="rect" id="node12" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1315,1265,1421,1292"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="869,1183,997,1225"/>
<area shape="rect" id="node14" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="875,1249,990,1276"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="666,427,758,453"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="1083,259,1235,285"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1086,157,1233,184"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1744,376,1891,403"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="841,503,1024,529"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="879,368,987,395"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="877,753,989,780"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="849,208,1017,235"/>
<area shape="rect" id="node19" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1489,376,1696,403"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1309,157,1427,184"/>
<area shape="rect" id="node22" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1521,209,1665,250"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1511,275,1675,301"/>
<area shape="rect" id="node24" href="ctree_8h.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="1523,5,1662,32"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a36843cac35c546937551b97d39697772" title="may_wait_transaction" alt="" coords="1518,56,1667,83"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#ac56b265443955fd5f49782405d3fbfe7" title="wait_current_trans" alt="" coords="1528,107,1657,133"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#ab5a416ee08279210acfd97d2c379c531" title="join_transaction" alt="" coords="1536,157,1649,184"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1508,325,1677,352"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1939,351,2100,377"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="1299,521,1437,562"/>
<area shape="rect" id="node33" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1790,600,1845,627"/>
<area shape="rect" id="node34" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1960,600,2079,627"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1305,587,1431,613"/>
<area shape="rect" id="node37" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1303,349,1433,390"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="1081,361,1237,402"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="1091,1140,1227,1167"/>
<area shape="rect" id="node41" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="1079,812,1239,839"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="1072,863,1247,889"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1085,913,1234,940"/>
<area shape="rect" id="node46" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1306,656,1430,683"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1088,681,1231,722"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1093,746,1226,787"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1513,743,1672,769"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a6799b77c53b912f294f61b60a257de54_icgraph.png" border="0" usemap="#extent-tree_8c_a6799b77c53b912f294f61b60a257de54_icgraph" alt=""/></div>
<map name="extent-tree_8c_a6799b77c53b912f294f61b60a257de54_icgraph" id="extent-tree_8c_a6799b77c53b912f294f61b60a257de54_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="221,560,359,587"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="623,129,766,156"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="219,856,361,883"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="237,1044,343,1071"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="409,217,563,244"/>
<area shape="rect" id="node7" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="417,641,555,682"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="411,69,561,96"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="611,946,779,987"/>
<area shape="rect" id="node18" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="837,579,987,605"/>
<area shape="rect" id="node20" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="438,757,534,784"/>
<area shape="rect" id="node23" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="849,281,975,308"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="427,516,545,543"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="827,1189,997,1216"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="625,181,765,222"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="851,231,973,257"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1061,231,1207,257"/>
<area shape="rect" id="node8" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="621,685,768,726"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="639,28,751,55"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="829,28,995,55"/>
<area shape="rect" id="node13" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="625,79,765,105"/>
<area shape="rect" id="node12" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1464,173,1603,214"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="861,953,963,980"/>
<area shape="rect" id="node16" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="853,688,971,715"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="830,848,994,875"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1075,579,1193,605"/>
<area shape="rect" id="node21" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="631,815,759,857"/>
<area shape="rect" id="node22" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="627,750,762,791"/>
<area shape="rect" id="node24" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1271,307,1416,333"/>
<area shape="rect" id="node26" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="619,633,771,660"/>
<area shape="rect" id="node29" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="836,442,988,483"/>
<area shape="rect" id="node30" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="621,247,768,273"/>
<area shape="rect" id="node32" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="621,450,768,491"/>
<area shape="rect" id="node33" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="613,516,776,543"/>
<area shape="rect" id="node34" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="613,567,776,609"/>
<area shape="rect" id="node27" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="851,332,973,359"/>
<area shape="rect" id="node28" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1069,332,1199,359"/>
<area shape="rect" id="node31" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="844,180,980,207"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1045,1189,1223,1216"/>
<area shape="rect" id="node38" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="828,79,996,105"/>
<area shape="rect" id="node39" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1067,79,1201,105"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="411,942,561,983"/>
<area shape="rect" id="node42" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="619,1012,770,1039"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="620,881,769,922"/>
<area shape="rect" id="node44" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1067,845,1201,886"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="411,1240,561,1267"/>
<area shape="rect" id="node47" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="639,1215,751,1241"/>
<area shape="rect" id="node48" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="629,1367,760,1393"/>
<area shape="rect" id="node49" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="637,1316,752,1343"/>
<area shape="rect" id="node50" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="871,1291,953,1317"/>
</map>
</div>

</div>
</div>
<a id="a9ebdc0ca58091867b6424fa14f678823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ebdc0ca58091867b6424fa14f678823">&#9670;&nbsp;</a></span>run_delayed_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int run_delayed_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>insert_reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_cgraph.png" border="0" usemap="#extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_cgraph" alt=""/></div>
<map name="extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_cgraph" id="extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="208,1051,343,1093"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="413,747,543,789"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="200,1675,351,1701"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="208,1168,343,1195"/>
<area shape="rect" id="node4" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="873,1878,1001,1919"/>
<area shape="rect" id="node6" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="880,763,995,789"/>
<area shape="rect" id="node7" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="623,107,786,133"/>
<area shape="rect" id="node17" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="883,813,992,840"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1077,1700,1233,1727"/>
<area shape="rect" id="node25" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="605,712,804,739"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="635,493,774,520"/>
<area shape="rect" id="node5" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1343,1979,1397,2005"/>
<area shape="rect" id="node8" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="872,158,1003,199"/>
<area shape="rect" id="node11" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="883,5,991,32"/>
<area shape="rect" id="node12" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="883,56,991,83"/>
<area shape="rect" id="node16" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="871,107,1003,133"/>
<area shape="rect" id="node9" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1093,259,1216,285"/>
<area shape="rect" id="node10" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1305,813,1435,840"/>
<area shape="rect" id="node13" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1501,1244,1656,1271"/>
<area shape="rect" id="node14" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1727,1117,1835,1144"/>
<area shape="rect" id="node15" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1704,1244,1857,1271"/>
<area shape="rect" id="node19" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1331,1675,1409,1701"/>
<area shape="rect" id="node20" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1287,1725,1453,1752"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1293,1776,1447,1803"/>
<area shape="rect" id="node22" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1287,1624,1453,1651"/>
<area shape="rect" id="node23" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1316,1573,1424,1600"/>
<area shape="rect" id="node24" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1514,1852,1643,1879"/>
<area shape="rect" id="node26" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="872,646,1003,687"/>
<area shape="rect" id="node27" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1084,726,1225,767"/>
<area shape="rect" id="node28" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="862,595,1013,621"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="872,377,1003,418"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="870,493,1005,520"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1079,519,1230,545"/>
<area shape="rect" id="node33" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="880,443,995,469"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="862,325,1013,352"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="411,1862,545,1903"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="852,2096,1023,2123"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="405,2129,551,2156"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="635,1338,775,1379"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="634,1962,775,2003"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="637,1897,772,1938"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="857,1269,1018,1296"/>
<area shape="rect" id="node41" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="1071,1928,1239,1955"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="1295,1523,1445,1549"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="401,1168,555,1195"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="399,1949,557,1976"/>
<area shape="rect" id="node48" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="882,1573,993,1600"/>
<area shape="rect" id="node49" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="645,1067,764,1093"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="624,661,785,688"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_icgraph.png" border="0" usemap="#extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_icgraph" id="extent-tree_8c_a9ebdc0ca58091867b6424fa14f678823_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="200,427,343,454"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="391,427,559,454"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="607,427,761,454"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1327,136,1467,177"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1293,354,1500,381"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="823,194,987,221"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1072,529,1223,571"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1992,609,2161,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="829,420,982,461"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1069,475,1225,502"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1548,507,1719,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="809,289,1001,315"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2244,10,2365,37"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1582,238,1685,265"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1568,5,1699,47"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1571,71,1695,112"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1578,137,1689,163"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1559,339,1708,366"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1549,391,1717,432"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1049,150,1245,177"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2251,229,2358,255"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2244,279,2365,306"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2254,330,2355,357"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2259,381,2350,407"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2448,457,2607,483"/>
<area shape="rect" id="node23" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2215,482,2395,509"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2219,533,2390,559"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2247,583,2362,610"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2237,634,2373,661"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2236,685,2373,711"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2227,736,2383,777"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2221,802,2389,829"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2209,853,2400,879"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2213,903,2396,930"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2253,954,2356,981"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2245,1005,2364,1031"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2244,1055,2365,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2243,1107,2367,1148"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2235,1173,2374,1199"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2221,1224,2388,1265"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2230,1290,2379,1317"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2225,1341,2384,1367"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2235,61,2375,103"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2235,127,2375,154"/>
<area shape="rect" id="node42" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2241,178,2368,205"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1309,507,1484,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1767,507,1944,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1077,318,1217,345"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1063,252,1232,293"/>
</map>
</div>

</div>
</div>
<a id="a39848de1809ef7931b18488989b303af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39848de1809ef7931b18488989b303af">&#9670;&nbsp;</a></span>run_delayed_extent_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int run_delayed_extent_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a39848de1809ef7931b18488989b303af_cgraph.png" border="0" usemap="#extent-tree_8c_a39848de1809ef7931b18488989b303af_cgraph" alt=""/></div>
<map name="extent-tree_8c_a39848de1809ef7931b18488989b303af_cgraph" id="extent-tree_8c_a39848de1809ef7931b18488989b303af_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="237,1007,352,1033"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="451,576,573,603"/>
<area shape="rect" id="node20" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="887,905,1017,932"/>
<area shape="rect" id="node34" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1101,1564,1230,1591"/>
<area shape="rect" id="node38" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1088,1691,1243,1717"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="214,1336,375,1363"/>
<area shape="rect" id="node44" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="653,1387,809,1413"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="209,1817,380,1844"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="240,1108,349,1135"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="670,129,793,156"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="882,188,1022,215"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="896,449,1008,476"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="644,332,819,359"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="875,297,1029,324"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1102,829,1229,856"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="660,652,803,679"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="898,703,1006,729"/>
<area shape="rect" id="node17" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="887,79,1017,105"/>
<area shape="rect" id="node21" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1094,1007,1237,1033"/>
<area shape="rect" id="node22" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1085,500,1245,527"/>
<area shape="rect" id="node24" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="673,180,790,207"/>
<area shape="rect" id="node25" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="867,348,1037,375"/>
<area shape="rect" id="node26" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="687,79,776,105"/>
<area shape="rect" id="node27" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="649,551,813,577"/>
<area shape="rect" id="node28" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="691,1007,772,1033"/>
<area shape="rect" id="node29" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="655,753,808,780"/>
<area shape="rect" id="node30" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="649,383,814,409"/>
<area shape="rect" id="node31" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="661,434,801,475"/>
<area shape="rect" id="node32" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1092,1184,1239,1211"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="915,956,989,983"/>
<area shape="rect" id="node9" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1528,391,1680,433"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1306,855,1461,881"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1310,804,1457,831"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1104,753,1227,780"/>
<area shape="rect" id="node16" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1521,753,1687,780"/>
<area shape="rect" id="node18" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1110,53,1221,80"/>
<area shape="rect" id="node19" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1104,104,1227,131"/>
<area shape="rect" id="node23" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1293,461,1473,488"/>
<area shape="rect" id="node36" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1329,1615,1437,1641"/>
<area shape="rect" id="node37" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="1086,1108,1245,1135"/>
<area shape="rect" id="node35" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1555,1539,1653,1565"/>
<area shape="rect" id="node39" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1307,1691,1460,1717"/>
<area shape="rect" id="node41" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="458,1311,566,1337"/>
<area shape="rect" id="node42" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="449,1463,575,1489"/>
<area shape="rect" id="node43" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="898,1513,1006,1540"/>
<area shape="rect" id="node45" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="913,1412,991,1439"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="875,1311,1029,1337"/>
<area shape="rect" id="node47" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="869,1361,1035,1388"/>
<area shape="rect" id="node49" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="428,1817,596,1844"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a39848de1809ef7931b18488989b303af_icgraph.png" border="0" usemap="#extent-tree_8c_a39848de1809ef7931b18488989b303af_icgraph" alt=""/></div>
<map name="extent-tree_8c_a39848de1809ef7931b18488989b303af_icgraph" id="extent-tree_8c_a39848de1809ef7931b18488989b303af_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a76f199942e0a905e1b437365e22a1e58" title="cleanup_extent_op" alt="" coords="209,427,340,454"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="388,427,512,454"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="560,427,728,454"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="776,427,931,454"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1496,136,1636,177"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1463,354,1669,381"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="993,194,1157,221"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1241,529,1392,571"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2161,609,2331,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="998,420,1151,461"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1239,475,1395,502"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1717,507,1888,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="979,289,1171,315"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2413,35,2535,62"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1751,238,1854,265"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1737,5,1868,47"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1741,71,1865,112"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1747,137,1858,163"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1728,339,1877,366"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1719,391,1887,432"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1219,150,1415,177"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2421,254,2527,281"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2413,305,2535,331"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2423,355,2525,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2429,406,2519,433"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2617,482,2776,509"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2384,507,2564,534"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2389,558,2559,585"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2417,609,2531,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2406,659,2542,686"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2405,710,2543,737"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2396,761,2552,803"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2390,827,2558,854"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2379,878,2569,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2383,929,2565,955"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2423,979,2525,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2415,1030,2533,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2413,1081,2535,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2412,1132,2536,1173"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2405,1198,2543,1225"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2391,1249,2557,1291"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2399,1315,2549,1342"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2395,86,2553,113"/>
<area shape="rect" id="node41" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2404,137,2544,179"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2404,203,2544,230"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1479,507,1653,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1936,507,2113,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1247,318,1387,345"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1232,252,1401,293"/>
</map>
</div>

</div>
</div>
<a id="a8f454317c92fcafe6d59ae2aebb1d640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f454317c92fcafe6d59ae2aebb1d640">&#9670;&nbsp;</a></span>run_delayed_tree_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int run_delayed_tree_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>insert_reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_cgraph.png" border="0" usemap="#extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_cgraph" alt=""/></div>
<map name="extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_cgraph" id="extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="204,1139,339,1181"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="407,595,541,637"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="196,1973,347,2000"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="204,1256,339,1283"/>
<area shape="rect" id="node4" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="876,1003,991,1029"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="636,94,765,135"/>
<area shape="rect" id="node9" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="619,413,782,440"/>
<area shape="rect" id="node18" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="879,952,988,979"/>
<area shape="rect" id="node19" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="1067,404,1235,431"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1073,1813,1229,1840"/>
<area shape="rect" id="node29" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="601,800,800,827"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="631,603,770,629"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="859,94,1007,135"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="1085,123,1216,165"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1075,248,1226,275"/>
<area shape="rect" id="node10" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="868,465,999,506"/>
<area shape="rect" id="node13" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="879,211,987,237"/>
<area shape="rect" id="node14" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="879,363,987,389"/>
<area shape="rect" id="node17" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="867,413,999,440"/>
<area shape="rect" id="node11" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1089,1053,1212,1080"/>
<area shape="rect" id="node12" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1301,1053,1431,1080"/>
<area shape="rect" id="node15" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1497,1205,1652,1232"/>
<area shape="rect" id="node16" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1700,1205,1808,1232"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="1291,379,1441,405"/>
<area shape="rect" id="node21" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1339,429,1393,456"/>
<area shape="rect" id="node23" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1327,1915,1405,1941"/>
<area shape="rect" id="node24" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1283,1763,1449,1789"/>
<area shape="rect" id="node25" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1289,1813,1443,1840"/>
<area shape="rect" id="node26" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1283,1864,1449,1891"/>
<area shape="rect" id="node27" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1312,1611,1420,1637"/>
<area shape="rect" id="node28" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1510,1687,1639,1713"/>
<area shape="rect" id="node30" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="868,835,999,877"/>
<area shape="rect" id="node31" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1080,847,1221,889"/>
<area shape="rect" id="node32" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="858,901,1009,928"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="866,683,1001,709"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1075,683,1226,709"/>
<area shape="rect" id="node36" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="876,581,991,608"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="407,1966,541,2007"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="848,1813,1019,1840"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="401,2219,547,2245"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="631,1443,771,1485"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#afe9fef6dab28ed49a8ba8a56ab4eb9bc" title="update_inline_extent\l_backref" alt="" coords="630,1915,771,1957"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#abec9fdbe8ebafbc9aee8eca71c1d5a89" title="setup_inline_extent\l_backref" alt="" coords="633,1981,768,2022"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="853,1509,1014,1536"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="397,1307,551,1333"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="395,1915,553,1941"/>
<area shape="rect" id="node48" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="878,1611,989,1637"/>
<area shape="rect" id="node49" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="641,1256,760,1283"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="620,851,781,877"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_icgraph.png" border="0" usemap="#extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_icgraph" alt=""/></div>
<map name="extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_icgraph" id="extent-tree_8c_a8f454317c92fcafe6d59ae2aebb1d640_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="196,427,339,454"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="387,427,555,454"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="603,427,757,454"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1323,136,1463,177"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1289,354,1496,381"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="819,194,983,221"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1068,529,1219,571"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1988,609,2157,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="825,420,978,461"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1065,475,1221,502"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1544,507,1715,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="805,289,997,315"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2240,10,2361,37"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1578,238,1681,265"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1564,5,1695,47"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1567,71,1691,112"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1574,137,1685,163"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1555,339,1704,366"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1545,391,1713,432"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1045,150,1241,177"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2247,229,2354,255"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2240,279,2361,306"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2250,330,2351,357"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2255,381,2346,407"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2444,457,2603,483"/>
<area shape="rect" id="node23" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2211,482,2391,509"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2215,533,2386,559"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2243,583,2358,610"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2233,634,2369,661"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2232,685,2369,711"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2223,736,2379,777"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2217,802,2385,829"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2205,853,2396,879"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2209,903,2392,930"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2249,954,2352,981"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2241,1005,2360,1031"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2240,1055,2361,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2239,1107,2363,1148"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2231,1173,2370,1199"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2217,1224,2384,1265"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2226,1290,2375,1317"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2221,1341,2380,1367"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2231,61,2371,103"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2231,127,2371,154"/>
<area shape="rect" id="node42" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2237,178,2364,205"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1305,507,1480,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1763,507,1940,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1073,318,1213,345"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1059,252,1228,293"/>
</map>
</div>

</div>
</div>
<a id="a859f3d3ef247b5b0d0247ffa502c3179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859f3d3ef247b5b0d0247ffa502c3179">&#9670;&nbsp;</a></span>run_one_delayed_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int run_one_delayed_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>insert_reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_cgraph.png" border="0" usemap="#extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_cgraph" alt=""/></div>
<map name="extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_cgraph" id="extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aefc21b2cf2c1cd918a9a106f2cbeba4f" title="btrfs_pin_extent" alt="" coords="863,56,977,83"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="198,813,341,840"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="196,965,343,992"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="1065,57,1195,98"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="1070,5,1190,32"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1055,123,1205,149"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="1257,107,1420,149"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="1471,169,1622,196"/>
<area shape="rect" id="node7" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="1281,31,1396,57"/>
<area shape="rect" id="node8" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="1495,31,1599,57"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="399,711,533,753"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="399,777,533,818"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="391,843,541,869"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="399,1295,533,1321"/>
<area shape="rect" id="node13" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="863,1092,977,1119"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="624,107,753,149"/>
<area shape="rect" id="node16" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="607,763,770,789"/>
<area shape="rect" id="node24" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="865,1269,975,1296"/>
<area shape="rect" id="node25" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="836,571,1004,597"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1052,1776,1208,1803"/>
<area shape="rect" id="node34" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="589,1016,788,1043"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="851,173,989,200"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="846,107,994,149"/>
<area shape="rect" id="node17" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="855,1026,985,1067"/>
<area shape="rect" id="node20" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="866,924,974,951"/>
<area shape="rect" id="node21" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="866,975,974,1001"/>
<area shape="rect" id="node23" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="854,873,986,900"/>
<area shape="rect" id="node18" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1069,1148,1191,1175"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1274,1199,1403,1225"/>
<area shape="rect" id="node22" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1469,1175,1624,1201"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="1055,712,1205,739"/>
<area shape="rect" id="node27" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1103,625,1157,652"/>
<area shape="rect" id="node29" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1300,1725,1377,1752"/>
<area shape="rect" id="node30" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1256,1776,1421,1803"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1261,1827,1416,1853"/>
<area shape="rect" id="node32" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1285,1675,1393,1701"/>
<area shape="rect" id="node33" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1482,1928,1611,1955"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="621,377,756,418"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="603,544,774,571"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3765736cd72cc46ae00b8c1d7102aa38" title="insert_extent_backref" alt="" coords="615,325,762,352"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a92921030679dd91b8150152bfd52ced1" title="lookup_extent_backref" alt="" coords="1053,1199,1207,1225"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="609,1371,768,1397"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="839,1548,1001,1575"/>
<area shape="rect" id="node44" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="865,1979,975,2005"/>
<area shape="rect" id="node45" href="ctree_8h.html#a40d30c547feedbee8d516a0531531453" title="btrfs_del_csums" alt="" coords="629,1472,748,1499"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="608,1117,769,1144"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="399,1346,533,1387"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="401,958,531,999"/>
<area shape="rect" id="node50" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="625,646,753,687"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_icgraph.png" border="0" usemap="#extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_icgraph" alt=""/></div>
<map name="extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_icgraph" id="extent-tree_8c_a859f3d3ef247b5b0d0247ffa502c3179_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="196,432,364,459"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="412,432,567,459"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1132,141,1272,182"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1099,359,1305,385"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="629,199,793,225"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="877,534,1028,575"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1797,613,1967,640"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="634,425,787,466"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="875,480,1031,507"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1353,512,1524,539"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="615,293,807,320"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2049,5,2171,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1387,243,1490,269"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1373,10,1504,51"/>
<area shape="rect" id="node8" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1377,75,1501,117"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1383,141,1494,168"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1364,344,1513,371"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1355,395,1523,437"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="855,155,1051,181"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2057,208,2163,235"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2049,259,2171,285"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2059,309,2161,336"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2065,360,2155,387"/>
<area shape="rect" id="node21" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2253,436,2412,463"/>
<area shape="rect" id="node22" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2020,461,2200,488"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2025,512,2195,539"/>
<area shape="rect" id="node24" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2053,563,2167,589"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2042,613,2178,640"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2041,664,2179,691"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2032,715,2188,757"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2026,781,2194,808"/>
<area shape="rect" id="node29" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2015,832,2205,859"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2019,883,2201,909"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2059,933,2161,960"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2051,984,2169,1011"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2049,1035,2171,1061"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2048,1086,2172,1127"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2041,1152,2179,1179"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2027,1203,2193,1245"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2035,1269,2185,1296"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2031,1320,2189,1347"/>
<area shape="rect" id="node39" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2040,1371,2180,1413"/>
<area shape="rect" id="node40" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2040,56,2180,83"/>
<area shape="rect" id="node41" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2047,107,2173,133"/>
<area shape="rect" id="node42" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="2042,157,2178,184"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1115,512,1289,539"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1572,512,1749,539"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="883,323,1023,349"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="868,257,1037,298"/>
</map>
</div>

</div>
</div>
<a id="a76bc63d000532e47f08dcf8318d11bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bc63d000532e47f08dcf8318d11bd2">&#9670;&nbsp;</a></span>select_delayed_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a>* select_delayed_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a76bc63d000532e47f08dcf8318d11bd2_icgraph.png" border="0" usemap="#extent-tree_8c_a76bc63d000532e47f08dcf8318d11bd2_icgraph" alt=""/></div>
<map name="extent-tree_8c_a76bc63d000532e47f08dcf8318d11bd2_icgraph" id="extent-tree_8c_a76bc63d000532e47f08dcf8318d11bd2_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="184,432,352,459"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="400,432,555,459"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1120,141,1260,182"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1087,359,1293,385"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="617,199,781,225"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="865,534,1016,575"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1785,613,1955,640"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="622,425,775,466"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="863,480,1019,507"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1341,512,1512,539"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="603,293,795,320"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2037,5,2159,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1375,243,1478,269"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1361,10,1492,51"/>
<area shape="rect" id="node8" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1365,75,1489,117"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1371,141,1482,168"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1352,344,1501,371"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1343,395,1511,437"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="843,155,1039,181"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2045,208,2151,235"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2037,259,2159,285"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2047,309,2149,336"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2053,360,2143,387"/>
<area shape="rect" id="node21" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2241,436,2400,463"/>
<area shape="rect" id="node22" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2008,461,2188,488"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2013,512,2183,539"/>
<area shape="rect" id="node24" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2041,563,2155,589"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2030,613,2166,640"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2029,664,2167,691"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2020,715,2176,757"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2014,781,2182,808"/>
<area shape="rect" id="node29" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2003,832,2193,859"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2007,883,2189,909"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2047,933,2149,960"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2039,984,2157,1011"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2037,1035,2159,1061"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2036,1086,2160,1127"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2029,1152,2167,1179"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2015,1203,2181,1245"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2023,1269,2173,1296"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2019,1320,2177,1347"/>
<area shape="rect" id="node39" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2028,1371,2168,1413"/>
<area shape="rect" id="node40" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2028,56,2168,83"/>
<area shape="rect" id="node41" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2035,107,2161,133"/>
<area shape="rect" id="node42" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="2030,157,2166,184"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1103,512,1277,539"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1560,512,1737,539"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="871,323,1011,349"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="856,257,1025,298"/>
</map>
</div>

</div>
</div>
<a id="a74c4a95c46dc315cec16d7ab190fc99d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c4a95c46dc315cec16d7ab190fc99d">&#9670;&nbsp;</a></span>set_avail_alloc_bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_avail_alloc_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a74c4a95c46dc315cec16d7ab190fc99d_icgraph.png" border="0" usemap="#extent-tree_8c_a74c4a95c46dc315cec16d7ab190fc99d_icgraph" alt=""/></div>
<map name="extent-tree_8c_a74c4a95c46dc315cec16d7ab190fc99d_icgraph" id="extent-tree_8c_a74c4a95c46dc315cec16d7ab190fc99d_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="189,661,353,688"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1839,741,2003,768"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="401,535,608,561"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1301,119,1388,145"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="679,447,801,473"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="689,345,791,372"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2420,580,2569,607"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="656,498,824,539"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="872,447,1019,473"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="872,220,1019,247"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="897,345,994,372"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1084,296,1220,323"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1285,271,1404,297"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1075,93,1229,120"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1071,195,1233,221"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1453,93,1560,120"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1452,287,1561,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1861,184,1981,211"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1609,246,1791,287"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1632,311,1768,353"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1638,377,1762,404"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1640,93,1760,120"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1624,716,1776,743"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1633,144,1767,171"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1650,195,1750,221"/>
<area shape="rect" id="node39" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1622,428,1778,455"/>
<area shape="rect" id="node20" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2051,631,2189,657"/>
<area shape="rect" id="node21" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2243,631,2367,657"/>
<area shape="rect" id="node35" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2237,529,2372,556"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2631,681,2743,708"/>
<area shape="rect" id="node34" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2854,420,2923,447"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2805,572,2972,599"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2617,344,2757,371"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2811,674,2967,715"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2843,740,2935,767"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2831,791,2946,817"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2809,623,2969,649"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3036,489,3175,530"/>
<area shape="rect" id="node30" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="3020,572,3191,599"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3239,427,3381,453"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2805,159,2972,185"/>
<area shape="rect" id="node36" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2421,529,2569,556"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1106,347,1198,373"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="880,615,1011,641"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="878,498,1013,539"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1067,713,1237,740"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1077,581,1227,622"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1075,646,1229,687"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1081,529,1223,556"/>
</map>
</div>

</div>
</div>
<a id="abec9fdbe8ebafbc9aee8eca71c1d5a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abec9fdbe8ebafbc9aee8eca71c1d5a89">&#9670;&nbsp;</a></span>setup_inline_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline_for_stack void setup_inline_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref *&#160;</td>
          <td class="paramname"><em>iref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>root_objectid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_cgraph.png" border="0" usemap="#extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_cgraph" alt=""/></div>
<map name="extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_cgraph" id="extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a12fe0fd796b0c0b5ec8d23ebe99d9338" title="extent_ref_type" alt="" coords="217,613,329,640"/>
<area shape="rect" id="node3" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="1065,1187,1193,1229"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac241fdbf97c7f220d9988624846f5921" title="btrfs_extend_item" alt="" coords="210,715,337,741"/>
<area shape="rect" id="node22" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1065,1035,1194,1061"/>
<area shape="rect" id="node36" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="407,1237,573,1264"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="412,107,568,133"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="188,1136,359,1163"/>
<area shape="rect" id="node4" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1320,1165,1375,1192"/>
<area shape="rect" id="node5" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1472,1165,1591,1192"/>
<area shape="rect" id="node7" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1276,325,1419,352"/>
<area shape="rect" id="node8" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="861,664,964,691"/>
<area shape="rect" id="node11" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1482,461,1581,488"/>
<area shape="rect" id="node13" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="839,715,986,741"/>
<area shape="rect" id="node15" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="651,613,759,640"/>
<area shape="rect" id="node34" href="ctree_8h.html#ac7597b449d0d7c9f7a21e34ad1c8138d" title="btrfs_item_end_nr" alt="" coords="1066,157,1193,184"/>
<area shape="rect" id="node9" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1036,512,1223,539"/>
<area shape="rect" id="node10" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1060,461,1199,488"/>
<area shape="rect" id="node12" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1639,259,1777,285"/>
<area shape="rect" id="node14" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1069,563,1189,589"/>
<area shape="rect" id="node16" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1052,613,1207,640"/>
<area shape="rect" id="node19" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="848,867,977,909"/>
<area shape="rect" id="node21" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="851,933,974,960"/>
<area shape="rect" id="node24" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1057,687,1201,713"/>
<area shape="rect" id="node25" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1041,208,1217,235"/>
<area shape="rect" id="node27" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="846,563,979,589"/>
<area shape="rect" id="node28" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="868,360,957,387"/>
<area shape="rect" id="node31" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="859,816,966,843"/>
<area shape="rect" id="node33" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="857,613,968,640"/>
<area shape="rect" id="node17" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1293,600,1401,627"/>
<area shape="rect" id="node18" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1271,745,1424,772"/>
<area shape="rect" id="node20" href="ctree_8h.html#a713d9e8ab85dd576211f29c7adfd1901" title="btrfs_dir_item_key" alt="" coords="1065,828,1194,855"/>
<area shape="rect" id="node23" href="ctree_8h.html#af629a64daf06e6689e0aed2d0655b060" title="btrfs_tree_block_key" alt="" coords="1058,933,1201,960"/>
<area shape="rect" id="node26" href="ctree_8h.html#ad8e455ffd90235ec505392037ceb69f6" title="btrfs_file_extent_inline\l_item_len" alt="" coords="1271,259,1423,301"/>
<area shape="rect" id="node29" href="ctree_8h.html#a468f209ce619d17a76cc9c3a78f24cc6" title="btrfs_stripe_devid_nr" alt="" coords="1058,360,1201,387"/>
<area shape="rect" id="node30" href="ctree_8h.html#aeef125c97ae680c4a601d4680597c18b" title="btrfs_stripe_offset_nr" alt="" coords="1057,411,1202,437"/>
<area shape="rect" id="node32" href="ctree_8h.html#a26204c078cfb39ea1bc22b5e3029361f" title="btrfs_device_total\l_bytes" alt="" coords="1067,762,1192,803"/>
<area shape="rect" id="node35" href="ctree_8h.html#aab872b14d571653205dd0553e00230b7" title="btrfs_item_end" alt="" coords="1293,157,1401,184"/>
<area shape="rect" id="node37" href="extent__io_8c.html#adf92b3473afd8419f7477233e21b8d1a" title="memcpy_extent_buffer" alt="" coords="628,1288,783,1315"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a3a111056cc620e21a9d649c97cb13679" title="copy_pages" alt="" coords="867,1271,959,1297"/>
<area shape="rect" id="node39" href="extent__io_8c.html#aaf4e01b4c623ca51c848a0c09675fffe" title="areas_overlap" alt="" coords="1078,1271,1181,1297"/>
<area shape="rect" id="node41" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="667,5,744,32"/>
<area shape="rect" id="node42" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="623,56,788,83"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="628,107,783,133"/>
<area shape="rect" id="node46" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="622,208,789,235"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="839,56,987,83"/>
<area shape="rect" id="node45" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="847,107,979,133"/>
<area shape="rect" id="node47" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="870,411,955,437"/>
<area shape="rect" id="node49" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="621,1136,789,1163"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="837,765,988,792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_icgraph.png" border="0" usemap="#extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_icgraph" alt=""/></div>
<map name="extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_icgraph" id="extent-tree_8c_abec9fdbe8ebafbc9aee8eca71c1d5a89_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="188,423,323,464"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="371,430,521,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="569,405,716,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="571,455,714,482"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="764,430,907,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="955,430,1123,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1171,430,1325,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1891,137,2031,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1857,361,2064,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1387,197,1551,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1636,532,1787,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2556,609,2725,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1393,423,1546,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1633,478,1789,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2112,507,2283,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1373,291,1565,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2808,111,2929,138"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2146,238,2249,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2132,5,2263,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2135,71,2259,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2142,137,2253,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2123,339,2272,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2113,391,2281,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1613,153,1809,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2815,330,2922,357"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2808,381,2929,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2818,431,2919,458"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2823,482,2914,509"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3012,558,3171,585"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2779,583,2959,610"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2783,634,2954,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2811,685,2926,711"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2801,735,2937,762"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2800,786,2937,813"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2791,837,2947,879"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2785,903,2953,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2773,954,2964,981"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2777,1005,2960,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2817,1055,2920,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2809,1106,2928,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2808,1157,2929,1183"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2807,1208,2931,1249"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2799,162,2938,189"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2785,213,2952,255"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2794,279,2943,306"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1873,507,2048,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2331,507,2508,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1641,321,1781,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1627,255,1796,296"/>
</map>
</div>

</div>
</div>
<a id="a090197caaeb3acc23a31aafbb4f2c97c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090197caaeb3acc23a31aafbb4f2c97c">&#9670;&nbsp;</a></span>should_alloc_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int should_alloc_chunk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>sinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_cgraph.png" border="0" usemap="#extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_cgraph" id="extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="189,5,343,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="193,57,339,98"/>
<area shape="rect" id="node4" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="213,123,319,149"/>
<area shape="rect" id="node5" href="math_8h.html#a1e995188eb1e88b353d2dfe473f4b868" title="div_factor" alt="" coords="227,173,305,200"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_icgraph.png" border="0" usemap="#extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_icgraph" id="extent-tree_8c_a090197caaeb3acc23a31aafbb4f2c97c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="189,1083,301,1109"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="349,246,505,287"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="381,1199,473,1225"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="370,985,485,1012"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1021,1133,1187,1160"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1024,1083,1184,1109"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1281,43,1400,69"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1509,43,1613,69"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a66a9875d64caffffe287261a4fc6cbe3" title="btrfs_check_data_free\l_space" alt="" coords="563,431,714,473"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="796,439,947,465"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="806,544,937,571"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="797,254,946,295"/>
<area shape="rect" id="node22" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="804,958,939,999"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#a6f18471497fe0716caf82fb1943db685" title="__btrfs_direct_write" alt="" coords="1036,464,1172,491"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="1275,439,1407,465"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1019,515,1189,541"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1029,566,1179,607"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1027,631,1181,673"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1237,639,1444,665"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="1031,145,1177,186"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="1034,93,1174,120"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1050,211,1158,237"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="1036,261,1172,288"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1029,312,1179,339"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="1020,363,1188,389"/>
<area shape="rect" id="node23" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1037,1017,1171,1058"/>
<area shape="rect" id="node24" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1268,1032,1413,1059"/>
<area shape="rect" id="node25" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1492,1067,1631,1109"/>
<area shape="rect" id="node26" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1704,1125,1800,1152"/>
<area shape="rect" id="node27" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1681,1075,1823,1101"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="2056,1128,2171,1155"/>
<area shape="rect" id="node29" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1873,1128,2008,1155"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="569,1191,708,1233"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="553,1257,724,1298"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="772,1201,971,1228"/>
<area shape="rect" id="node33" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1061,1208,1147,1235"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="801,1257,941,1298"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="1021,1264,1187,1291"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="801,849,942,876"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1246,799,1435,825"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1049,849,1159,876"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1023,900,1185,927"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1035,951,1173,993"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1029,748,1179,775"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1494,799,1629,825"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1273,849,1409,876"/>
<area shape="rect" id="node47" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1255,1133,1426,1160"/>
<area shape="rect" id="node48" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1504,1133,1619,1160"/>
<area shape="rect" id="node50" href="volumes_8c.html#a951043097a75843f160b20d2eb31db9a" title="btrfs_may_alloc_data\l_chunk" alt="" coords="1679,1177,1825,1218"/>
</map>
</div>

</div>
</div>
<a id="a04be10db9095dcf842ee74e56a11165f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04be10db9095dcf842ee74e56a11165f">&#9670;&nbsp;</a></span>shrink_delalloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void shrink_delalloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>to_reclaim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait_ordered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_cgraph.png" border="0" usemap="#extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_cgraph" alt=""/></div>
<map name="extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_cgraph" id="extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="163,699,315,725"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="176,749,303,776"/>
<area shape="rect" id="node5" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="404,790,533,831"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="161,853,317,894"/>
<area shape="rect" id="node3" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="365,699,572,725"/>
<area shape="rect" id="node6" href="disk-io_8h.html#a7799bb617dfee4586b621a3d8580f5a6" title="btrfs_grab_fs_root" alt="" coords="636,797,763,824"/>
<area shape="rect" id="node7" href="ordered-data_8c.html#a9cd5807e6f35c9a6e8543d2140143f40" title="btrfs_wait_ordered\l_extents" alt="" coords="635,175,764,217"/>
<area shape="rect" id="node20" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="639,899,759,925"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="880,56,975,83"/>
<area shape="rect" id="node9" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="900,5,955,32"/>
<area shape="rect" id="node11" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="886,157,969,184"/>
<area shape="rect" id="node12" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="1106,411,1213,437"/>
<area shape="rect" id="node13" href="ordered-data_8c.html#aa84a7115515d0edfbda72681a5704aa3" title="btrfs_run_ordered_extent_work" alt="" coords="827,107,1028,133"/>
<area shape="rect" id="node15" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="1097,360,1222,387"/>
<area shape="rect" id="node17" href="ordered-data_8c.html#a08fa2942c9d8616cd5327d7f99d883f3" title="btrfs_put_ordered_extent" alt="" coords="844,208,1011,235"/>
<area shape="rect" id="node10" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1100,5,1219,32"/>
<area shape="rect" id="node14" href="ordered-data_8c.html#ad9f2e1641c4a25a713eb4fee5971e2f5" title="btrfs_start_ordered\l_extent" alt="" coords="1094,99,1225,141"/>
<area shape="rect" id="node16" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="1291,360,1429,387"/>
<area shape="rect" id="node18" href="ctree_8h.html#af9e99f5f2da448db8a3b1a812e8271ff" title="btrfs_add_delayed_iput" alt="" coords="1081,259,1237,285"/>
<area shape="rect" id="node19" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1321,975,1399,1001"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="849,899,1005,925"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="1087,1000,1232,1027"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a12d844363b833ecbd5b357019b5e8de7" title="btrfs_read_buffer" alt="" coords="1099,1261,1219,1288"/>
<area shape="rect" id="node27" href="disk-io_8h.html#afefd1a76d3df3a8f54251a3aa9ef057b" title="btrfs_csum_data" alt="" coords="868,1000,987,1027"/>
<area shape="rect" id="node28" href="disk-io_8h.html#af1c87f201f23dab002e655d9c571af52" title="btrfs_csum_final" alt="" coords="868,1051,987,1077"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a339e07ca1ff6ea55fb75089693ada0cb" title="btrfs_bio_wq_end_io" alt="" coords="857,1101,998,1128"/>
<area shape="rect" id="node30" href="disk-io_8h.html#ad2b8d2ea83bb57d87c27eb68aac21398" title="btrfs_wq_submit_bio" alt="" coords="856,411,999,437"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a09a02e471ea3bf28104b1ef64c651656" title="btrfs_write_tree_block" alt="" coords="852,1152,1003,1179"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a8840cd89fd103472ec6328cb17829cdf" title="btrfs_wait_tree_block\l_writeback" alt="" coords="854,1203,1001,1245"/>
<area shape="rect" id="node33" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="850,1269,1005,1296"/>
<area shape="rect" id="node34" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="863,1320,992,1347"/>
<area shape="rect" id="node35" href="disk-io_8h.html#ad3efbcea93e2ef07941076c7d6fb0bcc" title="btrfs_cleanup_dirty_bgs" alt="" coords="847,1371,1007,1397"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="828,1421,1027,1448"/>
<area shape="rect" id="node37" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="867,461,987,488"/>
<area shape="rect" id="node38" href="disk-io_8h.html#a1b33a503c3b85a7b25d985024f4443b2" title="btree_lock_page_hook" alt="" coords="851,512,1003,539"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a4c0af808367ed0e0ae19fb598f9c535e" title="btree_get_extent" alt="" coords="868,563,987,589"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a538acc468c4602e97cbefe73c83a9914" title="btrfs_get_num_tolerated\l_disk_barrier_failures" alt="" coords="846,614,1009,655"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a3f11c9c9297fd301138f47a22b66c3c7" title="btrfs_end_io_wq_init" alt="" coords="857,680,998,707"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a76e4e18949fca99b690c2ebc5bb2d3ce" title="btrfs_end_io_wq_exit" alt="" coords="855,731,1000,757"/>
<area shape="rect" id="node43" href="disk-io_8h.html#ab18a50e53ba1d8bb2bc7700a1ef131f3" title="btrfs_init_lockdep" alt="" coords="865,781,989,808"/>
<area shape="rect" id="node44" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="845,833,1010,874"/>
<area shape="rect" id="node22" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1077,797,1242,824"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1082,848,1237,875"/>
<area shape="rect" id="node24" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1076,899,1243,925"/>
<area shape="rect" id="node46" href="fs-writeback_8c.html#a5f14271630e6ec54ed1bb0d6d47eebb5" title="writeback_inodes_sb_nr" alt="" coords="387,957,550,984"/>
<area shape="rect" id="node49" href="ctree_8h.html#a33577d99eaa44bca8e96beccd1197c13" title="btrfs_start_delalloc\l_roots" alt="" coords="403,855,535,897"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#a887e7bd03820702e5bfe81228027bece" title="__writeback_inodes\l_sb_nr" alt="" coords="631,950,768,991"/>
<area shape="rect" id="node48" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="630,1016,769,1043"/>
<area shape="rect" id="node50" href="btrfs_2inode_8c.html#affd890d71c0dcc87e10f1848efa49567" title="__start_delalloc_inodes" alt="" coords="620,848,779,875"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_icgraph.png" border="0" usemap="#extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_icgraph" alt=""/></div>
<map name="extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_icgraph" id="extent-tree_8c_a04be10db9095dcf842ee74e56a11165f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="161,875,253,902"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="317,679,456,720"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="301,900,472,941"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="520,607,719,634"/>
<area shape="rect" id="node5" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="806,569,893,595"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="998,619,1105,646"/>
<area shape="rect" id="node9" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="997,274,1106,301"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1629,265,1749,291"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1797,265,1908,291"/>
<area shape="rect" id="node10" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1171,452,1352,493"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1193,81,1329,123"/>
<area shape="rect" id="node15" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1199,198,1323,225"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1201,249,1321,275"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1185,518,1337,545"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1194,350,1329,377"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1211,401,1311,427"/>
<area shape="rect" id="node26" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1183,299,1339,326"/>
<area shape="rect" id="node11" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1400,467,1581,494"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1417,30,1564,57"/>
<area shape="rect" id="node14" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1403,89,1578,115"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1433,163,1549,190"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1409,569,1573,595"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1409,518,1573,545"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1421,366,1561,393"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1413,315,1569,342"/>
<area shape="rect" id="node25" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1433,417,1548,443"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1405,214,1576,241"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="549,1212,689,1253"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="767,1259,932,1286"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="982,918,1121,945"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="980,1259,1123,1286"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="980,1339,1123,1366"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="998,1449,1105,1475"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="1185,771,1338,798"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="1192,823,1331,864"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1187,889,1336,915"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="1177,940,1345,981"/>
<area shape="rect" id="node36" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1187,1006,1336,1033"/>
<area shape="rect" id="node37" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1213,1057,1309,1083"/>
<area shape="rect" id="node38" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1198,1107,1325,1134"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1202,670,1321,697"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1176,721,1347,747"/>
<area shape="rect" id="node39" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1418,1158,1563,1185"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1201,1209,1322,1235"/>
<area shape="rect" id="node44" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1200,1259,1323,1286"/>
<area shape="rect" id="node45" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1177,1310,1345,1337"/>
<area shape="rect" id="node46" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1193,1158,1329,1185"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="1187,1412,1336,1453"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1187,1478,1336,1505"/>
</map>
</div>

</div>
</div>
<a id="afe0e7a8e834b66bac9c1783da85fddb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0e7a8e834b66bac9c1783da85fddb0">&#9670;&nbsp;</a></span>space_info_add_new_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void space_info_add_new_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afe0e7a8e834b66bac9c1783da85fddb0_icgraph.png" border="0" usemap="#extent-tree_8c_afe0e7a8e834b66bac9c1783da85fddb0_icgraph" alt=""/></div>
<map name="extent-tree_8c_afe0e7a8e834b66bac9c1783da85fddb0_icgraph" id="extent-tree_8c_afe0e7a8e834b66bac9c1783da85fddb0_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#abe237c9268ec98ee009ae4b0e493bfc7" title="update_space_info" alt="" coords="199,300,330,327"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="197,524,332,551"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="380,300,544,327"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="380,249,544,276"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="592,249,799,276"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1121,899,1208,925"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="881,275,1003,301"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="891,224,993,251"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1090,81,1239,108"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="858,158,1026,199"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1293,899,1400,925"/>
<area shape="rect" id="node11" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1292,975,1401,1001"/>
<area shape="rect" id="node13" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="626,56,765,83"/>
<area shape="rect" id="node14" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="880,56,1004,83"/>
<area shape="rect" id="node15" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="875,5,1009,32"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="397,517,527,558"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="381,911,543,953"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="611,1051,780,1077"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="889,477,995,504"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="881,528,1003,555"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="891,579,993,605"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="897,629,987,656"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1085,401,1244,428"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="852,376,1032,403"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="857,797,1027,824"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="885,899,999,925"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="874,949,1010,976"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1096,1000,1233,1027"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="864,1102,1020,1143"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="858,1168,1026,1195"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="847,1000,1037,1027"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="851,680,1033,707"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="891,1219,993,1245"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="883,1269,1001,1296"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="881,1320,1003,1347"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="880,1371,1004,1413"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="873,1437,1011,1464"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="859,1489,1025,1530"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="867,1555,1017,1581"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="863,1605,1021,1632"/>
<area shape="rect" id="node41" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="872,1657,1012,1698"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="872,1723,1012,1749"/>
<area shape="rect" id="node43" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="879,1875,1005,1901"/>
<area shape="rect" id="node44" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1092,1824,1237,1851"/>
<area shape="rect" id="node45" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="874,1773,1010,1800"/>
<area shape="rect" id="node46" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="861,848,1023,875"/>
<area shape="rect" id="node47" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="857,1925,1027,1952"/>
<area shape="rect" id="node48" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="869,731,1015,773"/>
<area shape="rect" id="node50" href="disk-io_8c.html#a104a95a524285e86c8267045ff366cf7" title="btrfs_destroy_pinned\l_extent" alt="" coords="624,1102,767,1143"/>
</map>
</div>

</div>
</div>
<a id="a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa">&#9670;&nbsp;</a></span>space_info_add_old_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void space_info_add_old_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_cgraph.png" border="0" usemap="#extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_cgraph" alt=""/></div>
<map name="extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_cgraph" id="extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="357,5,511,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="191,64,309,91"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="368,57,500,98"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="363,122,505,163"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="361,187,507,229"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="559,97,675,124"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="723,90,851,131"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="899,97,1029,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_icgraph.png" border="0" usemap="#extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_icgraph" id="extent-tree_8c_a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="191,837,357,864"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="409,367,569,393"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a24d496c5284955c0b0a2d8d1d4f30588" title="btrfs_block_rsv_release" alt="" coords="831,837,991,864"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a1c83101ca3011c39a20fe176a51c665d" title="release_global_block_rsv" alt="" coords="405,251,573,277"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1056,1370,1189,1411"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a78024c5c297ff55941389856b699827e" title="unuse_block_rsv" alt="" coords="429,939,549,965"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="627,390,777,431"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="628,262,776,303"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6370dfd93e82cb93d6344859133b4467" title="btrfs_delalloc_release\l_extents" alt="" coords="837,327,985,369"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="1047,145,1198,172"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="836,393,985,434"/>
<area shape="rect" id="node21" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1055,517,1190,558"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a122efcafceb1535ef4c56de39823fdde" title="btrfs_writepage_fixup\l_worker" alt="" coords="1049,399,1196,441"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acc30a03adb9b8b6a61ef5b9f863896fc" title="btrfs_truncate_block" alt="" coords="1053,348,1193,375"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1069,297,1177,324"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a2fdbdb85eb343045e1041bf363d8d7f9" title="btrfs_page_mkwrite" alt="" coords="1055,196,1191,223"/>
<area shape="rect" id="node19" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1048,465,1197,492"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#a2aa0f76300c9c29f23e42b11e0472950" title="cluster_pages_for_defrag" alt="" coords="1039,247,1207,273"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1289,647,1391,673"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1481,647,1627,673"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1505,697,1603,724"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1698,697,1834,724"/>
<area shape="rect" id="node12" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1897,1039,2016,1065"/>
<area shape="rect" id="node13" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1913,621,2000,648"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1689,596,1843,623"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1685,799,1847,825"/>
<area shape="rect" id="node22" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1693,888,1839,915"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a6edb75ded497c34fbbf4012011036c69" title="btrfs_clear_bit_hook" alt="" coords="841,160,980,187"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a802b991282328074f769f877ed5a4c47" title="btrfs_delalloc_release\l_space" alt="" coords="837,262,985,303"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1" title="btrfs_write_out_ino\l_cache" alt="" coords="845,458,977,499"/>
<area shape="rect" id="node27" href="ordered-data_8h.html#a7556f4c1b2c1b0a82daff84a80b56452" title="btrfs_remove_ordered\l_extent" alt="" coords="837,94,985,135"/>
<area shape="rect" id="node30" href="delayed-inode_8c.html#a91b69e1c7087dedaf021b3f736639bdf" title="btrfs_delayed_item\l_release_metadata" alt="" coords="1057,1049,1189,1090"/>
<area shape="rect" id="node35" href="delayed-inode_8c.html#a9cab63e8380b2239c230412487c1a665" title="btrfs_delayed_inode\l_release_metadata" alt="" coords="1053,735,1192,777"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#abc2881165c601bfce62c1bb9e1629d37" title="btrfs_free_block_rsv" alt="" coords="1053,867,1193,893"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ac5edf32b8cb542d087b7dd877b248545" title="btrfs_orphan_release\l_metadata" alt="" coords="1051,801,1194,842"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a7946e6ccff762079188782872dd504e8" title="btrfs_subvolume_release\l_metadata" alt="" coords="1683,1413,1849,1454"/>
<area shape="rect" id="node39" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="1075,684,1171,711"/>
<area shape="rect" id="node40" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1491,1188,1617,1215"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1495,976,1613,1003"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="1056,1290,1189,1331"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#a736176c83e7ceb01eb8f1517c42ba87b" title="btrfs_batch_insert\l_items" alt="" coords="1277,990,1403,1031"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#a923f0073394c156a357d63822477b19d" title="btrfs_insert_delayed_item" alt="" coords="1255,1056,1425,1083"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#ae402d8ec9601c06e554747b9d5a1ffe6" title="btrfs_batch_delete\l_items" alt="" coords="1275,1107,1405,1149"/>
<area shape="rect" id="node34" href="delayed-inode_8c.html#a8278d5befc72f9714742595d05306106" title="btrfs_delete_delayed\l_insertion_item" alt="" coords="1269,1173,1411,1214"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1473,1340,1635,1367"/>
<area shape="rect" id="node44" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1255,1289,1425,1316"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="621,101,783,128"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1284,1441,1396,1468"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="627,939,777,965"/>
</map>
</div>

</div>
</div>
<a id="a0036c5b3686f83778537ab61f515fecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0036c5b3686f83778537ab61f515fecb">&#9670;&nbsp;</a></span>to_async_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structasync__delayed__refs.html">async_delayed_refs</a>* to_async_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__work.html">btrfs_work</a> *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a0036c5b3686f83778537ab61f515fecb_icgraph.png" border="0" usemap="#extent-tree_8c_a0036c5b3686f83778537ab61f515fecb_icgraph" alt=""/></div>
<map name="extent-tree_8c_a0036c5b3686f83778537ab61f515fecb_icgraph" id="extent-tree_8c_a0036c5b3686f83778537ab61f515fecb_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="209,693,373,720"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="421,469,617,496"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="699,233,839,274"/>
<area shape="rect" id="node20" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="665,495,872,521"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="688,444,849,471"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1165,301,1286,328"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1174,352,1277,379"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="939,170,1069,211"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="942,17,1066,58"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1391,56,1501,83"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1373,301,1519,328"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1373,377,1519,404"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1397,568,1495,595"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1160,184,1291,211"/>
<area shape="rect" id="node12" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1151,133,1300,160"/>
<area shape="rect" id="node13" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1158,235,1293,277"/>
<area shape="rect" id="node15" href="tree-log_8c.html#ab5eda49867478797a2f4975822053970" title="btrfs_log_changed_extents" alt="" coords="1136,28,1315,55"/>
<area shape="rect" id="node17" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="1577,56,1721,83"/>
<area shape="rect" id="node18" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="1769,5,1912,32"/>
<area shape="rect" id="node19" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="1960,56,2113,83"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="929,1727,1079,1753"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="920,235,1088,277"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1169,1803,1281,1829"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1363,1701,1529,1728"/>
<area shape="rect" id="node24" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1155,1752,1295,1779"/>
<area shape="rect" id="node27" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="931,888,1077,915"/>
<area shape="rect" id="node50" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="931,403,1077,445"/>
<area shape="rect" id="node28" href="btrfs_2xattr_8h.html#a434058b03ecb1c530e21db56b2f845b1" title="btrfs_setxattr" alt="" coords="1176,1128,1275,1155"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1172,1179,1279,1205"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="1165,1229,1286,1256"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#a291cd889b30fc8af2903498fc3214137" title="btrfs_fallocate_update\l_isize" alt="" coords="1150,1281,1301,1322"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="1152,1347,1299,1373"/>
<area shape="rect" id="node33" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1152,1397,1299,1424"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a0a50d14b8f284ef8f547fc11fb3b8878" title="btrfs_finish_ordered_io" alt="" coords="1149,1448,1302,1475"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a9e8af603bac10fdfe8be01527791c2e3" title="btrfs_unlink" alt="" coords="1181,1499,1270,1525"/>
<area shape="rect" id="node36" href="btrfs_2inode_8c.html#a4cf789c88ba3f0f14cf236fb27d89177" title="btrfs_rmdir" alt="" coords="1183,1549,1267,1576"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a51d9d76e72271ff69a3521f4b1a7abf7" title="maybe_insert_hole" alt="" coords="1160,1600,1291,1627"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a224684e56fe0a3af1b6890569b9efd02" title="btrfs_dirty_inode" alt="" coords="1166,453,1285,480"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="1178,504,1273,531"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="1180,555,1271,581"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a6e36c66b6129e28e2b0da486c58d8aaf" title="btrfs_link" alt="" coords="1188,605,1263,632"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="1182,656,1269,683"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a9052833ef2921ef39ec55c8c38d8ddf5" title="btrfs_rename_exchange" alt="" coords="1145,757,1306,784"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="1176,808,1275,835"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="1175,859,1275,885"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1156,910,1295,951"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="1178,976,1273,1003"/>
<area shape="rect" id="node48" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1157,1027,1293,1053"/>
<area shape="rect" id="node49" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="1152,1077,1299,1104"/>
</map>
</div>

</div>
</div>
<a id="a70403a550d3febe56fc502d3cd9cb1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70403a550d3febe56fc502d3cd9cb1dc">&#9670;&nbsp;</a></span>unpin_extent_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unpin_extent_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>return_free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_cgraph.png" border="0" usemap="#extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_cgraph" alt=""/></div>
<map name="extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_cgraph" id="extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="188,277,339,304"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="198,329,329,370"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a5a5237a87cb32541134aa6e06c8dad37" title="fetch_cluster_info" alt="" coords="201,395,326,421"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="190,601,337,628"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0" title="space_info_add_new\l_bytes" alt="" coords="191,653,335,694"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="390,173,553,214"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="609,180,760,207"/>
<area shape="rect" id="node7" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="391,239,551,265"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="604,664,765,691"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="813,613,983,640"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="401,473,542,514"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="387,407,556,449"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="401,910,541,951"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1057,1303,1179,1345"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="605,1572,764,1599"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="816,353,980,380"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="398,356,545,383"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="604,1285,765,1312"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="404,290,539,331"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="821,867,975,893"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1043,107,1193,133"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="834,664,962,691"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1262,1365,1375,1392"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="833,512,963,539"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1253,411,1384,437"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1432,411,1559,437"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1607,183,1748,209"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1259,563,1378,589"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1045,664,1191,691"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1058,867,1178,893"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="1031,563,1205,589"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1257,943,1381,969"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1273,816,1364,843"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1046,968,1190,995"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1265,993,1372,1020"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="609,439,760,481"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="611,290,759,331"/>
<area shape="rect" id="node30" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="823,5,973,32"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1061,765,1175,792"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="604,715,765,741"/>
<area shape="rect" id="node35" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1291,1467,1346,1493"/>
<area shape="rect" id="node38" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1071,157,1165,184"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1035,259,1201,285"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1045,360,1191,387"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1037,1252,1199,1279"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1043,1135,1193,1177"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1063,715,1173,741"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1069,816,1167,843"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1043,1070,1193,1111"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_icgraph.png" border="0" usemap="#extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_icgraph" alt=""/></div>
<map name="extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_icgraph" id="extent-tree_8c_a70403a550d3febe56fc502d3cd9cb1dc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="205,1186,334,1227"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="188,1251,351,1293"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="399,115,605,141"/>
<area shape="rect" id="node8" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="417,1197,587,1224"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="688,173,809,200"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="697,5,800,32"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="674,56,823,83"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="665,107,833,149"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="695,224,802,251"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="688,275,809,301"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="698,325,799,352"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="703,376,794,403"/>
<area shape="rect" id="node13" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="892,452,1051,479"/>
<area shape="rect" id="node14" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="659,477,839,504"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="663,528,834,555"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="691,579,806,605"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="681,629,817,656"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="680,680,817,707"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="671,731,827,773"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="665,797,833,824"/>
<area shape="rect" id="node21" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="653,848,844,875"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="657,899,840,925"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="697,949,800,976"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="689,1000,808,1027"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="688,1051,809,1077"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="687,1102,811,1143"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="679,1168,818,1195"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="665,1219,832,1261"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="674,1285,823,1312"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="669,1336,828,1363"/>
<area shape="rect" id="node31" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="679,1387,819,1429"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="679,1453,819,1480"/>
<area shape="rect" id="node33" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="685,1504,812,1531"/>
<area shape="rect" id="node34" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="899,1555,1044,1581"/>
<area shape="rect" id="node35" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="681,1605,817,1632"/>
<area shape="rect" id="node36" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="668,1656,829,1683"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="663,1707,834,1733"/>
<area shape="rect" id="node38" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="675,1758,822,1799"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="689,1824,808,1851"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="668,1875,829,1901"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="685,1925,813,1952"/>
<area shape="rect" id="node42" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="669,1976,829,2003"/>
<area shape="rect" id="node43" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="669,2027,828,2053"/>
<area shape="rect" id="node44" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="683,2077,814,2104"/>
<area shape="rect" id="node45" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="675,2128,823,2155"/>
<area shape="rect" id="node46" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="679,2179,818,2205"/>
<area shape="rect" id="node47" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="687,2229,810,2256"/>
<area shape="rect" id="node48" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="673,2280,824,2307"/>
<area shape="rect" id="node50" href="disk-io_8c.html#a104a95a524285e86c8267045ff366cf7" title="btrfs_destroy_pinned\l_extent" alt="" coords="431,1251,573,1293"/>
</map>
</div>

</div>
</div>
<a id="a4a571db94bf78cafcc058fb222fe75a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a571db94bf78cafcc058fb222fe75a3">&#9670;&nbsp;</a></span>unselect_delayed_ref_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unselect_delayed_ref_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_cgraph.png" border="0" usemap="#extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_cgraph" alt=""/></div>
<map name="extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_cgraph" id="extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="233,31,400,57"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="460,5,607,32"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a435092fa7d000eb34b85555974be3dfa" title="btrfs_check_delayed_seq" alt="" coords="448,56,619,83"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="667,5,767,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_icgraph.png" border="0" usemap="#extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_icgraph" alt=""/></div>
<map name="extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_icgraph" id="extent-tree_8c_a4a571db94bf78cafcc058fb222fe75a3_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="233,455,357,482"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="405,430,573,457"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="621,430,776,457"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1341,137,1481,179"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1308,361,1515,387"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="838,197,1002,223"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1087,532,1237,573"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2007,609,2176,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="843,423,997,464"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1084,478,1240,505"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1563,507,1733,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="824,291,1016,318"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2259,10,2380,37"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1597,238,1699,265"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1583,5,1713,47"/>
<area shape="rect" id="node9" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1586,71,1710,112"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1593,137,1703,163"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1573,339,1723,366"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1564,391,1732,432"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1064,153,1260,179"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2266,229,2373,255"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2259,279,2380,306"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2269,330,2370,357"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2274,381,2365,407"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2463,457,2621,483"/>
<area shape="rect" id="node23" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2229,482,2409,509"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2234,533,2405,559"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2262,583,2377,610"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2251,634,2387,661"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2251,685,2388,711"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2241,736,2397,777"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2235,802,2403,829"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2224,853,2415,879"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2228,903,2411,930"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2268,954,2371,981"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2260,1005,2379,1031"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2259,1055,2380,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2257,1107,2381,1148"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2250,1173,2389,1199"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2236,1224,2403,1265"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2245,1290,2394,1317"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2240,1341,2399,1367"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2249,61,2389,103"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="2249,127,2389,154"/>
<area shape="rect" id="node42" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="2256,178,2383,205"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1324,507,1499,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1781,507,1959,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1092,321,1232,347"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1077,255,1247,296"/>
</map>
</div>

</div>
</div>
<a id="a78024c5c297ff55941389856b699827e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78024c5c297ff55941389856b699827e">&#9670;&nbsp;</a></span>unuse_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unuse_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>block_rsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>blocksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a78024c5c297ff55941389856b699827e_cgraph.png" border="0" usemap="#extent-tree_8c_a78024c5c297ff55941389856b699827e_cgraph" alt=""/></div>
<map name="extent-tree_8c_a78024c5c297ff55941389856b699827e_cgraph" id="extent-tree_8c_a78024c5c297ff55941389856b699827e_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a05980f1583539687dd2b1125d0918508" title="block_rsv_add_bytes" alt="" coords="184,5,329,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a0f422cbedfd26c2bd1da66d24873e109" title="block_rsv_release_bytes" alt="" coords="173,56,340,83"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ce0d57c608b8e4a2ca5c2fc5b2bb5fa" title="space_info_add_old\l_bytes" alt="" coords="388,49,525,90"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="740,23,893,49"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="573,81,692,108"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="751,74,883,115"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="745,139,888,181"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="743,205,890,246"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="941,115,1057,141"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1105,107,1233,149"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="1281,115,1412,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a78024c5c297ff55941389856b699827e_icgraph.png" border="0" usemap="#extent-tree_8c_a78024c5c297ff55941389856b699827e_icgraph" alt=""/></div>
<map name="extent-tree_8c_a78024c5c297ff55941389856b699827e_icgraph" id="extent-tree_8c_a78024c5c297ff55941389856b699827e_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="173,791,323,817"/>
<area shape="rect" id="node3" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="380,107,492,133"/>
<area shape="rect" id="node9" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="371,689,501,716"/>
<area shape="rect" id="node31" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1055,689,1137,716"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1059,537,1133,564"/>
<area shape="rect" id="node37" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="818,664,933,691"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1631,1035,1837,1061"/>
<area shape="rect" id="node41" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="376,943,496,969"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="385,1095,487,1121"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="385,1171,487,1197"/>
<area shape="rect" id="node4" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="583,56,706,83"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1011,107,1181,133"/>
<area shape="rect" id="node5" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="807,5,943,32"/>
<area shape="rect" id="node6" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="788,56,963,83"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1229,107,1407,133"/>
<area shape="rect" id="node10" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="586,461,703,488"/>
<area shape="rect" id="node36" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1455,816,1583,843"/>
<area shape="rect" id="node11" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1045,613,1147,640"/>
<area shape="rect" id="node13" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1457,613,1580,640"/>
<area shape="rect" id="node26" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1686,360,1782,387"/>
<area shape="rect" id="node27" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1908,360,2031,387"/>
<area shape="rect" id="node28" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1685,309,1783,336"/>
<area shape="rect" id="node30" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="799,715,952,741"/>
<area shape="rect" id="node32" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="820,512,931,539"/>
<area shape="rect" id="node34" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="824,563,927,589"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="797,461,953,488"/>
<area shape="rect" id="node12" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1236,613,1400,640"/>
<area shape="rect" id="node14" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="1685,832,1783,859"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1647,883,1821,909"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1697,933,1771,960"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1666,512,1802,539"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1661,563,1807,589"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="1656,613,1812,640"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2101,744,2248,771"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1664,766,1804,807"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="1654,715,1814,741"/>
<area shape="rect" id="node25" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1667,411,1801,437"/>
<area shape="rect" id="node29" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1666,984,1802,1011"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1909,773,2030,800"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1918,824,2021,851"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1895,1005,2044,1032"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1885,1057,2053,1098"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="815,1095,935,1121"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="549,1044,740,1071"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="579,892,711,919"/>
<area shape="rect" id="node45" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="569,943,720,969"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="567,1095,722,1121"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="580,1145,709,1172"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="589,1196,700,1223"/>
</map>
</div>

</div>
</div>
<a id="a9888719405c3e0d3977a4eb7424241a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9888719405c3e0d3977a4eb7424241a4">&#9670;&nbsp;</a></span>update_block_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int update_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>alloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_cgraph.png" border="0" usemap="#extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_cgraph" alt=""/></div>
<map name="extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_cgraph" id="extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="194,477,325,518"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="597,436,747,463"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="192,760,327,787"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="597,1272,747,1299"/>
<area shape="rect" id="node50" href="extent__io_8h.html#a4264423daaf778a1de9e39e9745f9ab8" title="set_extent_dirty" alt="" coords="202,1571,317,1597"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="375,455,537,497"/>
<area shape="rect" id="node6" href="async-thread_8c.html#aca63b4153996d9013b55f401c540ae6e" title="btrfs_init_work" alt="" coords="403,709,509,736"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="401,760,511,787"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aa88fcda7a7a85adc5fb8c20070cfc827" title="free_excluded_extents" alt="" coords="595,1171,749,1197"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="603,487,741,513"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="377,816,535,843"/>
<area shape="rect" id="node48" href="async-thread_8c.html#a5ded67298bd56916d36e081d5fca426b" title="btrfs_queue_work" alt="" coords="393,1028,519,1055"/>
<area shape="rect" id="node8" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="599,703,745,729"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="599,537,745,564"/>
<area shape="rect" id="node9" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="835,563,949,589"/>
<area shape="rect" id="node10" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="812,765,972,792"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="807,664,977,691"/>
<area shape="rect" id="node15" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="809,613,975,640"/>
<area shape="rect" id="node16" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="837,715,947,741"/>
<area shape="rect" id="node11" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1041,841,1164,868"/>
<area shape="rect" id="node12" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1228,841,1357,868"/>
<area shape="rect" id="node14" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1025,537,1180,564"/>
<area shape="rect" id="node18" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="835,309,949,336"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="841,461,943,488"/>
<area shape="rect" id="node20" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="838,360,946,387"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="819,208,965,235"/>
<area shape="rect" id="node22" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="1029,208,1176,235"/>
<area shape="rect" id="node24" href="extent__io_8h.html#a813f8934dc05df9cc4839e6e7bee5d01" title="clear_extent_bits" alt="" coords="831,1557,953,1584"/>
<area shape="rect" id="node25" href="extent__io_8h.html#ab25b545cea450c90b72d215e4dab3be7" title="set_extent_bit" alt="" coords="1051,1583,1155,1609"/>
<area shape="rect" id="node26" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="1233,1583,1352,1609"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="807,157,977,184"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1037,107,1168,133"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1043,157,1162,184"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1039,5,1166,32"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1046,588,1159,615"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1031,56,1175,83"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="587,1120,757,1147"/>
<area shape="rect" id="node39" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1081,1124,1124,1151"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="585,1019,759,1045"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="821,1390,963,1431"/>
<area shape="rect" id="node37" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="867,1507,917,1533"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="819,1171,965,1213"/>
<area shape="rect" id="node40" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1064,1339,1141,1365"/>
<area shape="rect" id="node42" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="1068,1263,1137,1289"/>
<area shape="rect" id="node43" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="845,968,939,995"/>
<area shape="rect" id="node44" href="smb2pdu_8c.html#a1a8b6ea0b2622020f202d162d98e0ef2" title="num_entries" alt="" coords="845,1019,939,1045"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a99080d8a1d00390eea46773ead320b8e" title="io_ctl_init" alt="" coords="853,1288,931,1315"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#a1a1dc15c9cbe5e34c7bbf8ed101ccf46" title="readahead_cache" alt="" coords="830,1120,954,1147"/>
<area shape="rect" id="node49" href="async-thread_8c.html#aab231afb66f3a4b163068ff86f2b071d" title="__btrfs_queue_work" alt="" coords="603,1221,741,1248"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_icgraph.png" border="0" usemap="#extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_icgraph" alt=""/></div>
<map name="extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_icgraph" id="extent-tree_8c_a9888719405c3e0d3977a4eb7424241a4_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="192,359,327,385"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="194,410,325,451"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="192,293,327,334"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="375,359,521,385"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="377,304,519,331"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="569,304,712,331"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="760,292,928,319"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="976,259,1131,285"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1447,45,1587,86"/>
<area shape="rect" id="node19" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1179,487,1385,513"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2056,479,2212,505"/>
<area shape="rect" id="node37" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2260,421,2429,448"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1847,414,1998,455"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1846,479,1999,521"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1200,335,1364,361"/>
<area shape="rect" id="node43" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1186,5,1378,32"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1197,56,1367,83"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2502,363,2623,389"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1668,93,1771,120"/>
<area shape="rect" id="node9" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2696,363,2843,389"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2271,31,2418,57"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1874,132,1971,159"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="2495,81,2631,108"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2710,132,2829,159"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2726,31,2813,57"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="2485,31,2640,57"/>
<area shape="rect" id="node16" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="2482,183,2643,209"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="2088,132,2180,159"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1443,731,1592,757"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1433,538,1601,579"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1663,756,1775,783"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1839,647,2006,673"/>
<area shape="rect" id="node30" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1649,907,1789,933"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2485,639,2641,681"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1877,697,1969,724"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1865,748,1980,775"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1843,799,2003,825"/>
<area shape="rect" id="node26" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2065,639,2203,681"/>
<area shape="rect" id="node28" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2477,508,2648,535"/>
<area shape="rect" id="node27" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2273,723,2416,749"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1839,1001,2006,1028"/>
<area shape="rect" id="node32" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1888,951,1957,977"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1654,537,1785,564"/>
<area shape="rect" id="node41" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1652,639,1787,681"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1837,545,2008,572"/>
<area shape="rect" id="node38" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="2483,864,2642,891"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="990,479,1117,521"/>
<area shape="rect" id="node48" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1453,1040,1581,1067"/>
<area shape="rect" id="node49" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="2071,1013,2197,1040"/>
</map>
</div>

</div>
</div>
<a id="ae638007eb4e012626fb35cd21c0387b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae638007eb4e012626fb35cd21c0387b6">&#9670;&nbsp;</a></span>update_block_group_flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 update_block_group_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_cgraph.png" border="0" usemap="#extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_cgraph" alt=""/></div>
<map name="extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_cgraph" id="extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="192,13,323,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_icgraph.png" border="0" usemap="#extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_icgraph" id="extent-tree_8c_ae638007eb4e012626fb35cd21c0387b6_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="192,600,359,626"/>
<area shape="rect" id="node3" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="423,563,561,604"/>
<area shape="rect" id="node42" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="407,629,577,656"/>
<area shape="rect" id="node4" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1041,572,1137,598"/>
<area shape="rect" id="node6" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="625,496,768,522"/>
<area shape="rect" id="node5" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="1228,572,1376,598"/>
<area shape="rect" id="node7" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="819,307,948,348"/>
<area shape="rect" id="node29" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1032,521,1147,548"/>
<area shape="rect" id="node37" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="816,470,951,497"/>
<area shape="rect" id="node8" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1228,217,1376,244"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a87a43c6651b446d55b179010132ee21e" title="btrfs_ioctl_add_dev" alt="" coords="1444,369,1579,396"/>
<area shape="rect" id="node13" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1886,318,1955,345"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1695,521,1773,548"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="3257,394,3432,421"/>
<area shape="rect" id="node12" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="3480,394,3577,421"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="3059,470,3209,497"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2661,369,2829,396"/>
<area shape="rect" id="node18" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2020,242,2124,269"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#adbd02294028a765713d450b1210ac6c6" title="btrfs_submit_direct" alt="" coords="2877,369,3011,396"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="3080,369,3188,396"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ac463e9eb3de91a98c3f48a70f1e3bbf2" title="btrfs_submit_bio_done" alt="" coords="2197,318,2351,345"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a2615d016ca805afc39763902e5c4f0c6" title="btrfs_submit_bio_hook" alt="" coords="2442,280,2595,306"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a4d73952fef577a94cb0d88a7d2bc3ba6" title="btrfs_submit_dio_bio" alt="" coords="2447,369,2590,396"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a001246b2047e20a19740fea1dd447ac3" title="submit_dio_repair_bio" alt="" coords="2200,100,2348,126"/>
<area shape="rect" id="node24" href="compression_8h.html#a5ac02908a7c42f70ee09319b3333c144" title="btrfs_submit_compressed\l_write" alt="" coords="2188,151,2360,192"/>
<area shape="rect" id="node26" href="compression_8h.html#ac2ce470a41c2a2d7b1514fdc30729d7b" title="btrfs_submit_compressed_read" alt="" coords="2172,217,2376,244"/>
<area shape="rect" id="node27" href="disk-io_8c.html#aa71a4ee86defa688fce99ab93f1aba60" title="btree_submit_bio_done" alt="" coords="2196,49,2352,76"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a5c8a6960b9eb2eefd752fde872397524" title="btree_submit_bio_hook" alt="" coords="2441,49,2597,76"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#af38a0884b76e0891620ccec7cea059ab" title="dio_read_error" alt="" coords="2467,100,2571,126"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2424,158,2613,185"/>
<area shape="rect" id="node30" href="volumes_8h.html#af29a7bc9aad76fd2329e046b978d7142" title="btrfs_balance" alt="" coords="1252,521,1352,548"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a1c67a45d01e21c34466033026965435d" title="btrfs_ioctl_balance" alt="" coords="1446,572,1577,598"/>
<area shape="rect" id="node32" href="volumes_8c.html#a7fef684404203359cc17ef9c199a8781" title="balance_kthread" alt="" coords="1453,774,1570,801"/>
<area shape="rect" id="node33" href="volumes_8h.html#a4524f321f22012ba6b027ef6e523156d" title="btrfs_resume_balance\l_async" alt="" coords="1659,752,1809,794"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1869,818,1972,845"/>
<area shape="rect" id="node36" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1877,764,1964,790"/>
<area shape="rect" id="node35" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="2027,818,2117,845"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1241,470,1363,497"/>
<area shape="rect" id="node39" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1245,420,1359,446"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1436,420,1587,446"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1447,470,1576,497"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="826,629,941,656"/>
<area shape="rect" id="node44" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1010,694,1169,721"/>
<area shape="rect" id="node47" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="999,782,1180,823"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1030,626,1149,653"/>
<area shape="rect" id="node45" href="dev-replace_8h.html#aee8b85317e3ad1d404bc9fb6ed0f038b" title="btrfs_dev_replace_by\l_ioctl" alt="" coords="1229,710,1375,751"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#aab9a7c9e43e79a823629589545e795b0" title="btrfs_ioctl_dev_replace" alt="" coords="1433,724,1589,750"/>
<area shape="rect" id="node48" href="dev-replace_8c.html#a283213ceb4a9175db2f0d86b1632ec3b" title="btrfs_dev_replace_kthread" alt="" coords="1424,825,1599,852"/>
<area shape="rect" id="node49" href="dev-replace_8h.html#adf74ffc1af68771caf609f55172ae5b3" title="btrfs_resume_dev_replace\l_async" alt="" coords="1647,818,1821,859"/>
</map>
</div>

</div>
</div>
<a id="aba606a6e189a200353ea592a5aee2121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba606a6e189a200353ea592a5aee2121">&#9670;&nbsp;</a></span>update_global_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_global_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aba606a6e189a200353ea592a5aee2121_cgraph.png" border="0" usemap="#extent-tree_8c_aba606a6e189a200353ea592a5aee2121_cgraph" alt=""/></div>
<map name="extent-tree_8c_aba606a6e189a200353ea592a5aee2121_cgraph" id="extent-tree_8c_aba606a6e189a200353ea592a5aee2121_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="219,5,372,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aba606a6e189a200353ea592a5aee2121_icgraph.png" border="0" usemap="#extent-tree_8c_aba606a6e189a200353ea592a5aee2121_icgraph" alt=""/></div>
<map name="extent-tree_8c_aba606a6e189a200353ea592a5aee2121_icgraph" id="extent-tree_8c_aba606a6e189a200353ea592a5aee2121_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#afd07a2a420a89d0939bd73d25cdb728b" title="init_global_block_rsv" alt="" coords="229,122,372,149"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="230,224,371,265"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="247,173,354,199"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="219,290,383,317"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="433,122,597,149"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="648,71,855,98"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="943,857,1030,883"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="926,198,1047,225"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="935,71,1038,98"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="912,122,1061,149"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="903,5,1071,47"/>
<area shape="rect" id="node11" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="431,1009,600,1035"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="698,477,805,503"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="691,527,812,554"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="701,578,802,605"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="706,629,797,655"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="907,350,1066,377"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="661,426,841,453"/>
<area shape="rect" id="node18" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="666,781,837,807"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="694,933,809,959"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="683,983,819,1010"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="683,1034,820,1061"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="673,1085,829,1127"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="667,1151,835,1178"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="656,679,847,706"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="660,831,843,858"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="700,173,803,199"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="692,1202,811,1229"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="691,1253,812,1279"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="689,1304,813,1345"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="682,1370,821,1397"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="668,1421,835,1463"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="677,1487,826,1514"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="672,1538,831,1565"/>
<area shape="rect" id="node34" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="681,1589,821,1631"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="681,1655,821,1682"/>
<area shape="rect" id="node36" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="688,1706,815,1733"/>
<area shape="rect" id="node37" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="914,1757,1059,1783"/>
<area shape="rect" id="node38" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="683,1757,819,1783"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="671,882,832,909"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="666,1858,837,1885"/>
<area shape="rect" id="node41" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="678,1909,825,1951"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="692,1975,811,2002"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="671,2026,832,2053"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="687,325,815,351"/>
<area shape="rect" id="node45" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="671,375,831,402"/>
<area shape="rect" id="node46" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="672,730,831,757"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="441,173,590,199"/>
<area shape="rect" id="node50" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="446,1059,585,1086"/>
</map>
</div>

</div>
</div>
<a id="afe9fef6dab28ed49a8ba8a56ab4eb9bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe9fef6dab28ed49a8ba8a56ab4eb9bc">&#9670;&nbsp;</a></span>update_inline_extent_backref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline_for_stack void update_inline_extent_backref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_extent_inline_ref *&#160;</td>
          <td class="paramname"><em>iref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refs_to_mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_cgraph.png" border="0" usemap="#extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_cgraph" alt=""/></div>
<map name="extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_cgraph" id="extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a4512e3030b8eac9bff49664cc9913a4f" title="__run_delayed_extent_op" alt="" coords="195,364,365,391"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a5a78461cbfe3cc3900e6548a0c333fef" title="btrfs_get_extent_inline\l_ref_type" alt="" coords="851,323,1004,365"/>
<area shape="rect" id="node19" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1486,667,1615,693"/>
<area shape="rect" id="node22" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="1487,94,1615,135"/>
<area shape="rect" id="node32" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="414,616,581,643"/>
<area shape="rect" id="node36" href="ctree_8c.html#a4716b18f6ca1f05f3b3f095533b8bf06" title="btrfs_truncate_item" alt="" coords="213,819,347,845"/>
<area shape="rect" id="node43" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="635,971,791,997"/>
<area shape="rect" id="node3" href="ctree_8h.html#a7a9ceed5b541d22918b2684d626070fa" title="btrfs_set_tree_block_key" alt="" coords="413,153,581,180"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a2c938c9a797972d706531786b28c86b6" title="extent_data_ref_count" alt="" coords="637,331,788,357"/>
<area shape="rect" id="node23" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1741,72,1795,99"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1255,835,1409,861"/>
<area shape="rect" id="node6" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1497,936,1605,963"/>
<area shape="rect" id="node9" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1474,831,1627,857"/>
<area shape="rect" id="node7" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1719,936,1817,963"/>
<area shape="rect" id="node8" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1892,1012,2031,1039"/>
<area shape="rect" id="node11" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1079,439,1187,465"/>
<area shape="rect" id="node12" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1259,885,1405,912"/>
<area shape="rect" id="node16" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1267,769,1397,810"/>
<area shape="rect" id="node18" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1271,261,1393,288"/>
<area shape="rect" id="node21" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1479,312,1623,339"/>
<area shape="rect" id="node25" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1463,211,1639,237"/>
<area shape="rect" id="node27" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1265,413,1399,440"/>
<area shape="rect" id="node28" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1287,363,1377,389"/>
<area shape="rect" id="node30" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1279,464,1385,491"/>
<area shape="rect" id="node31" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1277,515,1387,541"/>
<area shape="rect" id="node13" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1457,1037,1644,1064"/>
<area shape="rect" id="node14" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1491,885,1611,912"/>
<area shape="rect" id="node15" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1697,185,1839,212"/>
<area shape="rect" id="node17" href="ctree_8h.html#a713d9e8ab85dd576211f29c7adfd1901" title="btrfs_dir_item_key" alt="" coords="1486,776,1615,803"/>
<area shape="rect" id="node20" href="ctree_8h.html#af629a64daf06e6689e0aed2d0655b060" title="btrfs_tree_block_key" alt="" coords="1479,261,1622,288"/>
<area shape="rect" id="node24" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1902,72,2021,99"/>
<area shape="rect" id="node26" href="ctree_8h.html#ad8e455ffd90235ec505392037ceb69f6" title="btrfs_file_extent_inline\l_item_len" alt="" coords="1692,237,1844,278"/>
<area shape="rect" id="node29" href="ctree_8h.html#a468f209ce619d17a76cc9c3a78f24cc6" title="btrfs_stripe_devid_nr" alt="" coords="1479,363,1622,389"/>
<area shape="rect" id="node33" href="extent__io_8c.html#adf92b3473afd8419f7477233e21b8d1a" title="memcpy_extent_buffer" alt="" coords="635,616,790,643"/>
<area shape="rect" id="node34" href="extent__io_8c.html#a3a111056cc620e21a9d649c97cb13679" title="copy_pages" alt="" coords="881,565,973,592"/>
<area shape="rect" id="node35" href="extent__io_8c.html#aaf4e01b4c623ca51c848a0c09675fffe" title="areas_overlap" alt="" coords="1081,565,1184,592"/>
<area shape="rect" id="node37" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="1081,1181,1184,1208"/>
<area shape="rect" id="node38" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1263,1139,1401,1165"/>
<area shape="rect" id="node39" href="ctree_8h.html#a6b7cfe56dd4a1ca178a29da9be6a55d9" title="btrfs_set_item_key" alt="" coords="431,996,564,1023"/>
<area shape="rect" id="node40" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="441,895,553,921"/>
<area shape="rect" id="node41" href="ctree_8c.html#a7f318d0aeefa7538632e78ea23c6cd95" title="tree_mod_log_insert_key" alt="" coords="629,920,796,947"/>
<area shape="rect" id="node42" href="ctree_8h.html#aad6775b8ea7e32dee8cf7e8018fa6fcb" title="btrfs_set_node_key" alt="" coords="645,869,781,896"/>
<area shape="rect" id="node44" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="889,971,966,997"/>
<area shape="rect" id="node45" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="845,869,1010,896"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="850,920,1005,947"/>
<area shape="rect" id="node49" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="844,1021,1011,1048"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1059,877,1207,904"/>
<area shape="rect" id="node48" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1067,928,1199,955"/>
<area shape="rect" id="node50" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1090,1037,1175,1064"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_icgraph.png" border="0" usemap="#extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_icgraph" alt=""/></div>
<map name="extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_icgraph" id="extent-tree_8c_afe9fef6dab28ed49a8ba8a56ab4eb9bc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ae8660121c6ebe1f43253b73103660590" title="insert_inline_extent\l_backref" alt="" coords="207,393,341,435"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a35acd71362afb7707c60e3dcf1fab879" title="remove_extent_backref" alt="" coords="195,459,353,486"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a980ad4ba4d6e5b8a8afd47f1fcbe5dd8" title="__btrfs_inc_extent_ref" alt="" coords="401,405,552,431"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="600,455,747,482"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="602,405,745,431"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="795,430,937,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="985,430,1153,457"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1201,430,1356,457"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1921,137,2061,179"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1888,361,2095,387"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1418,197,1582,223"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1667,532,1817,573"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2587,609,2756,635"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1423,423,1577,464"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1664,478,1820,505"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="2143,507,2313,534"/>
<area shape="rect" id="node45" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1404,291,1596,318"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2839,162,2960,189"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2177,238,2279,265"/>
<area shape="rect" id="node11" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2163,5,2293,47"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2166,71,2290,112"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2173,137,2283,163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2153,339,2303,366"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2144,391,2312,432"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1644,153,1840,179"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2846,381,2953,407"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2839,431,2960,458"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2849,482,2950,509"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2854,533,2945,559"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="3043,609,3201,635"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2809,634,2989,661"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2814,685,2985,711"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2842,735,2957,762"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2831,786,2967,813"/>
<area shape="rect" id="node30" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2831,837,2968,863"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2821,888,2977,929"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2815,954,2983,981"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2804,1005,2995,1031"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2808,1055,2991,1082"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2848,1106,2951,1133"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2840,1157,2959,1183"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2839,213,2960,239"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2837,264,2961,305"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2830,330,2969,357"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1904,507,2079,534"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2361,507,2539,534"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1672,321,1812,347"/>
<area shape="rect" id="node47" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1657,255,1827,296"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="409,455,544,482"/>
</map>
</div>

</div>
</div>
<a id="abe237c9268ec98ee009ae4b0e493bfc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe237c9268ec98ee009ae4b0e493bfc7">&#9670;&nbsp;</a></span>update_space_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>total_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes_used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes_readonly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> **&#160;</td>
          <td class="paramname"><em>space_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_cgraph.png" border="0" usemap="#extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_cgraph" alt=""/></div>
<map name="extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_cgraph" id="extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="193,5,319,32"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#afe0e7a8e834b66bac9c1783da85fddb0" title="space_info_add_new\l_bytes" alt="" coords="184,57,328,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_icgraph.png" border="0" usemap="#extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_icgraph" alt=""/></div>
<map name="extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_icgraph" id="extent-tree_8c_abe237c9268ec98ee009ae4b0e493bfc7_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="184,661,348,688"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1833,741,1997,768"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="396,535,603,561"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1296,119,1383,145"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="674,447,795,473"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="683,345,786,372"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2415,580,2564,607"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="651,498,819,539"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="867,447,1013,473"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="867,220,1013,247"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="891,345,989,372"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1079,296,1215,323"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1280,271,1399,297"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1069,93,1224,120"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1066,195,1227,221"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1448,93,1555,120"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1447,287,1556,313"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1855,184,1975,211"/>
<area shape="rect" id="node14" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1604,246,1785,287"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1627,311,1763,353"/>
<area shape="rect" id="node16" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1633,377,1757,404"/>
<area shape="rect" id="node17" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1635,93,1755,120"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1619,716,1771,743"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1627,144,1762,171"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1645,195,1745,221"/>
<area shape="rect" id="node39" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1617,428,1773,455"/>
<area shape="rect" id="node20" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2045,631,2184,657"/>
<area shape="rect" id="node21" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2237,631,2361,657"/>
<area shape="rect" id="node35" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2232,529,2367,556"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2626,681,2738,708"/>
<area shape="rect" id="node34" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2849,420,2918,447"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2800,572,2967,599"/>
<area shape="rect" id="node32" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2612,344,2752,371"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2805,674,2961,715"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2837,740,2929,767"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2826,791,2941,817"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2803,623,2963,649"/>
<area shape="rect" id="node28" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3031,489,3169,530"/>
<area shape="rect" id="node30" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="3015,572,3185,599"/>
<area shape="rect" id="node29" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3233,427,3376,453"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2800,159,2967,185"/>
<area shape="rect" id="node36" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2415,529,2563,556"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1101,347,1193,373"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="875,615,1005,641"/>
<area shape="rect" id="node49" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="873,498,1007,539"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1061,713,1232,740"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1071,581,1222,622"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1070,646,1223,687"/>
<area shape="rect" id="node50" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1075,529,1218,556"/>
</map>
</div>

</div>
</div>
<a id="ae9540d72213e26589ac33214c3643d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9540d72213e26589ac33214c3643d61">&#9670;&nbsp;</a></span>use_block_rsv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a>* use_block_rsv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>blocksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae9540d72213e26589ac33214c3643d61_cgraph.png" border="0" usemap="#extent-tree_8c_ae9540d72213e26589ac33214c3643d61_cgraph" alt=""/></div>
<map name="extent-tree_8c_ae9540d72213e26589ac33214c3643d61_cgraph" id="extent-tree_8c_ae9540d72213e26589ac33214c3643d61_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a40dc3e9a3bc092e3925c200e26837042" title="get_block_rsv" alt="" coords="208,443,311,469"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a238bc256e167bfe52b474496bab70e2a" title="block_rsv_use_bytes" alt="" coords="417,493,562,520"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aba606a6e189a200353ea592a5aee2121" title="update_global_block_rsv" alt="" coords="407,1179,572,1205"/>
<area shape="rect" id="node6" href="xfs__buf__item_8c.html#af6a33219aa7a7e8db49d413525f90919" title="DEFINE_RATELIMIT_STATE" alt="" coords="160,645,359,672"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="177,544,342,571"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a81b7d9c3ff801b90a5a078f917b12de0" title="btrfs_space_info_used" alt="" coords="1724,1081,1877,1108"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="419,961,559,1002"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="1514,637,1638,664"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a54d94bb221a36fd6f234b8cd2026ec85" title="can_overcommit" alt="" coords="1308,980,1427,1007"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a06352c1004d84fdc049345080f75d049" title="need_do_async_reclaim" alt="" coords="839,1123,1001,1149"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a10f70cde934e64d454403b795bad25a3" title="wait_reserve_ticket" alt="" coords="638,880,773,907"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a3accc68b6f4187ae91cdb10c1e47963f" title="priority_reclaim_metadata\l_space" alt="" coords="620,931,791,973"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a5d4e63c8fc9a1293dce589e186c9dcae" title="btrfs_system_alloc\l_profile" alt="" coords="1510,833,1642,874"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aef9af87070c1a268c635a5f92cf75c89" title="btrfs_metadata_alloc\l_profile" alt="" coords="1505,898,1647,939"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1ce5a906dee944f5d5b6cd7d03e2d3b2" title="calc_global_rsv_need\l_space" alt="" coords="1503,1015,1649,1057"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#aa3fc5eec559f710720299d9d909ea425" title="get_alloc_profile" alt="" coords="1743,872,1859,899"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#af5467485aa7250c63dc40050d97bde86" title="btrfs_reduce_alloc\l_profile" alt="" coords="1961,865,2089,906"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a2d6fd06b907338ed8748602d3ea9d5dc" title="get_restripe_target" alt="" coords="2162,872,2293,899"/>
<area shape="rect" id="node17" href="math_8h.html#aa624a45bafc0efecc704cf296212dccf" title="div_factor_fine" alt="" coords="1523,1183,1629,1209"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aa507d20cc361860f8d2cc6f728b66f9b" title="btrfs_calc_reclaim\l_metadata_size" alt="" coords="1077,1066,1205,1107"/>
<area shape="rect" id="node19" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="1083,1183,1198,1209"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="874,304,966,331"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a5bd9f81f8cb152f2d3923593f8bd269b" title="calc_reclaim_items_nr" alt="" coords="1291,173,1443,200"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="1294,72,1441,99"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1952,173,2099,200"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#ab7cbc0e4507a550c9ac83eff92033026" title="btrfs_run_delayed_items_nr" alt="" coords="1049,399,1232,425"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a04be10db9095dcf842ee74e56a11165f" title="shrink_delalloc" alt="" coords="1087,304,1195,331"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1085,727,1197,753"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1057,123,1225,149"/>
<area shape="rect" id="node24" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="1697,173,1904,200"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1517,72,1635,99"/>
<area shape="rect" id="node27" href="qgroup_8h.html#a90b0004977cc62567d7e61f82060cce0" title="btrfs_qgroup_reserve\l_meta_pertrans" alt="" coords="1729,57,1873,98"/>
<area shape="rect" id="node28" href="btrfs_2transaction_8c.html#a61013790e997d0b5c37bce3c956639e9" title="need_reserve_reloc_root" alt="" coords="1719,5,1883,32"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1716,123,1885,149"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2147,148,2308,175"/>
<area shape="rect" id="node33" href="delayed-inode_8c.html#a1ee154a1547a7aa5dcb58ab6866eb699" title="__btrfs_run_delayed\l_items" alt="" coords="1731,470,1870,511"/>
<area shape="rect" id="node34" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1998,523,2053,549"/>
<area shape="rect" id="node35" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="2168,523,2287,549"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ab5b75b50b8296c727405cbbd69a1a2c0" title="__find_space_info" alt="" coords="1513,493,1639,520"/>
<area shape="rect" id="node38" href="ordered-data_8c.html#a7753510186fad101e5c876e42db04b2e" title="btrfs_wait_ordered\l_roots" alt="" coords="1511,301,1641,342"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a584451b4263814bb7f9e15b7d8e6f85c" title="btrfs_writeback_inodes\l_sb_nr" alt="" coords="1289,326,1445,367"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a090197caaeb3acc23a31aafbb4f2c97c" title="should_alloc_chunk" alt="" coords="1299,1031,1435,1057"/>
<area shape="rect" id="node42" href="ctree_8h.html#aa8d30a6eea2d9e778b2291d656c79725" title="btrfs_mixed_space_info" alt="" coords="1287,727,1447,753"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a9e339606cc4f72495a2568d912abfad4" title="force_metadata_allocation" alt="" coords="1280,777,1455,804"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1293,828,1442,855"/>
<area shape="rect" id="node47" href="volumes_8c.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1514,781,1638,808"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1296,595,1439,637"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ae9ef139cc3fe19dda799f88d91803c1d" title="btrfs_trans_release\l_chunk_metadata" alt="" coords="1301,661,1434,702"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1721,569,1880,596"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ae9540d72213e26589ac33214c3643d61_icgraph.png" border="0" usemap="#extent-tree_8c_ae9540d72213e26589ac33214c3643d61_icgraph" alt=""/></div>
<map name="extent-tree_8c_ae9540d72213e26589ac33214c3643d61_icgraph" id="extent-tree_8c_ae9540d72213e26589ac33214c3643d61_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="160,791,309,817"/>
<area shape="rect" id="node3" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="367,107,479,133"/>
<area shape="rect" id="node9" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="357,689,488,716"/>
<area shape="rect" id="node31" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1042,689,1123,716"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1045,537,1120,564"/>
<area shape="rect" id="node37" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="805,664,919,691"/>
<area shape="rect" id="node38" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1617,1035,1824,1061"/>
<area shape="rect" id="node41" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="363,943,483,969"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="371,1095,474,1121"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="371,1171,474,1197"/>
<area shape="rect" id="node4" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="570,56,693,83"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="997,107,1168,133"/>
<area shape="rect" id="node5" href="relocation_8c.html#a1f609cc20de0102007ba8a8c847724a6" title="btrfs_init_reloc_root" alt="" coords="794,5,930,32"/>
<area shape="rect" id="node6" href="relocation_8c.html#a19a8043b2f6a6b7bcd20866021b9004d" title="btrfs_reloc_post_snapshot" alt="" coords="775,56,949,83"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1216,107,1393,133"/>
<area shape="rect" id="node10" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="573,461,690,488"/>
<area shape="rect" id="node36" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1441,816,1569,843"/>
<area shape="rect" id="node11" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1032,613,1133,640"/>
<area shape="rect" id="node13" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1444,613,1567,640"/>
<area shape="rect" id="node26" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1673,360,1769,387"/>
<area shape="rect" id="node27" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1895,360,2017,387"/>
<area shape="rect" id="node28" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1671,309,1770,336"/>
<area shape="rect" id="node30" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="785,715,939,741"/>
<area shape="rect" id="node32" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="807,512,917,539"/>
<area shape="rect" id="node34" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="811,563,913,589"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="784,461,940,488"/>
<area shape="rect" id="node12" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1223,613,1387,640"/>
<area shape="rect" id="node14" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="1671,832,1770,859"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1634,883,1807,909"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1684,933,1757,960"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1653,512,1789,539"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1647,563,1794,589"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="1643,613,1799,640"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2088,744,2235,771"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1651,766,1791,807"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="1641,715,1801,741"/>
<area shape="rect" id="node25" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1653,411,1788,437"/>
<area shape="rect" id="node29" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1653,984,1789,1011"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1895,773,2017,800"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1905,824,2007,851"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1881,1005,2031,1032"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1872,1057,2040,1098"/>
<area shape="rect" id="node42" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="802,1095,922,1121"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="536,1044,727,1071"/>
<area shape="rect" id="node44" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="565,892,697,919"/>
<area shape="rect" id="node45" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="556,943,707,969"/>
<area shape="rect" id="node47" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="554,1095,709,1121"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="567,1145,696,1172"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a4424fbf22d98fefedcacb51896b790cd" title="btrfs_mksubvol" alt="" coords="576,1196,687,1223"/>
</map>
</div>

</div>
</div>
<a id="ac28d2d23f4ade75c59ecc2bb5c5a4bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28d2d23f4ade75c59ecc2bb5c5a4bb4">&#9670;&nbsp;</a></span>wait_block_group_cache_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int wait_block_group_cache_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_cgraph.png" border="0" usemap="#extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_cgraph" alt=""/></div>
<map name="extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_cgraph" id="extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="269,750,407,777"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="253,801,423,828"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="269,852,407,878"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="471,852,640,878"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1758,313,1889,340"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1764,465,1883,492"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1760,1326,1887,1353"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1767,946,1880,973"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="688,1050,835,1077"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1327,1646,1471,1673"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1951,1276,2092,1302"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1960,870,2083,897"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1104,1174,1265,1201"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1100,778,1269,805"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="897,1348,1038,1390"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="883,1196,1052,1238"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="897,1131,1037,1172"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1338,1530,1461,1571"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1744,1808,1903,1834"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1317,126,1481,153"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="894,888,1041,914"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="887,1537,1048,1564"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="900,1014,1035,1055"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="1107,377,1262,404"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1537,1174,1688,1201"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1335,617,1463,644"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1335,1174,1464,1201"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1539,718,1686,745"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1553,668,1673,694"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1559,1630,1666,1657"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1551,1681,1675,1708"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1567,1377,1658,1404"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1974,1605,2069,1632"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1971,1668,2071,1694"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1754,1681,1893,1708"/>
<area shape="rect" id="node26" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1994,1732,2049,1758"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="1109,1471,1260,1512"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="1111,1043,1259,1084"/>
<area shape="rect" id="node32" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1324,921,1475,948"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1342,541,1457,568"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="1104,1124,1265,1150"/>
<area shape="rect" id="node39" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1565,110,1660,137"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1529,60,1696,86"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1539,161,1686,188"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1319,1748,1480,1774"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1324,311,1475,352"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1557,364,1668,390"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1351,769,1448,796"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1324,246,1475,287"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_icgraph.png" border="0" usemap="#extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_icgraph" alt=""/></div>
<map name="extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_icgraph" id="extent-tree_8c_ac28d2d23f4ade75c59ecc2bb5c5a4bb4_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="253,222,389,263"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="274,119,369,145"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="437,675,644,701"/>
<area shape="rect" id="node36" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="908,229,1048,256"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="715,500,837,527"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="927,624,1029,651"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="701,305,851,332"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="692,777,860,818"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1724,599,1871,625"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1108,615,1255,641"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1556,877,1653,904"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1332,523,1468,549"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1545,497,1664,524"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1561,725,1648,752"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1323,624,1477,651"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1319,573,1481,600"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1744,751,1851,777"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1553,624,1656,651"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1752,649,1843,676"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1930,568,2022,595"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="2297,56,2472,83"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="922,292,1034,319"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1098,376,1265,403"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1103,259,1259,301"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1135,325,1227,352"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1124,157,1239,184"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1101,208,1261,235"/>
<area shape="rect" id="node25" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1331,355,1469,397"/>
<area shape="rect" id="node34" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1315,304,1485,331"/>
<area shape="rect" id="node26" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1533,157,1676,184"/>
<area shape="rect" id="node27" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1733,209,1862,250"/>
<area shape="rect" id="node28" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1919,157,2033,184"/>
<area shape="rect" id="node29" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1730,107,1865,133"/>
<area shape="rect" id="node30" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1941,107,2011,133"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2090,56,2241,83"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2081,107,2249,133"/>
<area shape="rect" id="node33" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2113,157,2217,184"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1098,675,1265,701"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1343,776,1457,803"/>
<area shape="rect" id="node39" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1355,827,1445,853"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1549,776,1661,803"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="913,788,1043,815"/>
<area shape="rect" id="node46" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="911,553,1045,594"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1096,843,1267,869"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1106,894,1257,935"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1105,777,1258,818"/>
<area shape="rect" id="node47" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1110,560,1253,587"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="483,13,598,40"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1937,5,2015,32"/>
</map>
</div>

</div>
</div>
<a id="a4a3e36ec743780601e2334117b0cdd3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3e36ec743780601e2334117b0cdd3c">&#9670;&nbsp;</a></span>wait_block_group_cache_progress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline void wait_block_group_cache_progress </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_cgraph.png" border="0" usemap="#extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_cgraph" alt=""/></div>
<map name="extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_cgraph" id="extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a67bb3f85aff7cd45fbfb5d75da039e3a" title="get_caching_control" alt="" coords="234,750,373,777"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ac3d5f0e32ea32a77e17155937cdd487e" title="block_group_cache_done" alt="" coords="219,801,388,828"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="234,852,373,878"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ad7807383ac98226c421d7463649e1aa6" title="btrfs_remove_free_space" alt="" coords="436,852,605,878"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1723,313,1854,340"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1729,465,1848,492"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1725,1326,1852,1353"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1732,946,1845,973"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="653,1050,800,1077"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1293,1646,1437,1673"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1916,1276,2057,1302"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1925,870,2048,897"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="1069,1174,1231,1201"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1065,778,1235,805"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="862,1348,1003,1390"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="848,1196,1017,1238"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="863,1131,1003,1172"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1303,1530,1426,1571"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1709,1808,1868,1834"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="1283,126,1447,153"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="859,888,1006,914"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="852,1537,1013,1564"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="865,1014,1000,1055"/>
<area shape="rect" id="node46" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="1073,377,1227,404"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1503,1174,1653,1201"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="1301,617,1429,644"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="1300,1174,1429,1201"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1505,718,1651,745"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1518,668,1638,694"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1525,1630,1631,1657"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1516,1681,1640,1708"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1533,1377,1623,1404"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1939,1605,2034,1632"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1937,1668,2037,1694"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1719,1681,1858,1708"/>
<area shape="rect" id="node26" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1959,1732,2014,1758"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="1075,1471,1225,1512"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="1076,1043,1224,1084"/>
<area shape="rect" id="node32" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1289,921,1440,948"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1307,541,1422,568"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="1069,1124,1231,1150"/>
<area shape="rect" id="node39" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1531,110,1625,137"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1495,60,1661,86"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1505,161,1651,188"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1284,1748,1445,1774"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1289,311,1440,352"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1523,364,1633,390"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1316,769,1413,796"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1289,246,1440,287"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_icgraph.png" border="0" usemap="#extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_icgraph" alt=""/></div>
<map name="extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_icgraph" id="extent-tree_8c_a4a3e36ec743780601e2334117b0cdd3c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="219,577,333,604"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="381,766,523,793"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="789,996,978,1022"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="597,1021,706,1048"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="571,838,732,865"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="582,759,721,800"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="780,533,987,560"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="577,280,726,306"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1051,996,1186,1022"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ac61aa5eefe6f2c561396287cc84cc788" title="cow_file_range_async" alt="" coords="1261,996,1411,1022"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1487,1021,1618,1048"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1684,984,1859,1010"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="815,1097,951,1124"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1257,945,1415,972"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a1869f90c36006f835e877d01e5a419aa" title="btrfs_direct_IO" alt="" coords="1499,958,1607,985"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="821,807,945,848"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="821,719,945,760"/>
<area shape="rect" id="node16" href="btrfs_2file_8c.html#a9ce336df0cce3408c2cb9170af220d03" title="btrfs_zero_range" alt="" coords="1059,894,1178,921"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="1284,836,1388,862"/>
<area shape="rect" id="node18" href="relocation_8c.html#a15b9950bbbf851b096589e56a08d8628" title="prealloc_file_extent\l_cluster" alt="" coords="1051,828,1186,870"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1271,726,1401,753"/>
<area shape="rect" id="node21" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1044,726,1193,753"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1058,406,1179,433"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1067,558,1170,585"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1044,508,1193,534"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1035,610,1203,651"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1263,356,1409,382"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1698,381,1845,408"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1287,609,1385,636"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1280,406,1392,433"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1469,432,1636,458"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1266,508,1406,534"/>
<area shape="rect" id="node33" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1269,660,1403,702"/>
<area shape="rect" id="node35" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="827,254,939,281"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="818,102,949,129"/>
<area shape="rect" id="node43" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="826,153,941,180"/>
<area shape="rect" id="node44" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1078,204,1159,230"/>
<area shape="rect" id="node46" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1299,102,1373,129"/>
<area shape="rect" id="node47" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="823,356,943,382"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="832,406,935,433"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="832,305,935,332"/>
<area shape="rect" id="node36" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="1057,305,1180,332"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1251,204,1421,230"/>
<area shape="rect" id="node39" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1060,153,1177,180"/>
<area shape="rect" id="node42" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1055,52,1183,78"/>
<area shape="rect" id="node40" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1491,153,1614,180"/>
<area shape="rect" id="node41" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1704,128,1839,154"/>
<area shape="rect" id="node45" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1254,254,1418,281"/>
<area shape="rect" id="node48" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1059,356,1179,382"/>
</map>
</div>

</div>
</div>
<a id="a10f70cde934e64d454403b795bad25a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f70cde934e64d454403b795bad25a3">&#9670;&nbsp;</a></span>wait_reserve_ticket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wait_reserve_ticket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__space__info.html">btrfs_space_info</a> *&#160;</td>
          <td class="paramname"><em>space_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structreserve__ticket.html">reserve_ticket</a> *&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>orig_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a10f70cde934e64d454403b795bad25a3_icgraph.png" border="0" usemap="#extent-tree_8c_a10f70cde934e64d454403b795bad25a3_icgraph" alt=""/></div>
<map name="extent-tree_8c_a10f70cde934e64d454403b795bad25a3_icgraph" id="extent-tree_8c_a10f70cde934e64d454403b795bad25a3_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a1a6df4b6f0075b6b84fb418f8fdc78bc" title="__reserve_metadata\l_bytes" alt="" coords="188,1013,328,1054"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="376,1020,541,1047"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="591,518,730,544"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="994,843,1137,870"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="589,1126,732,1152"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="607,1046,714,1072"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="780,274,933,300"/>
<area shape="rect" id="node9" href="delayed-inode_8c.html#aca47e1d9cd4e53d90930a44ed8988271" title="btrfs_delayed_inode\l_reserve_metadata" alt="" coords="787,601,926,642"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="782,52,931,79"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#abed3e0ab13ab2802e96f06986131a2f0" title="btrfs_subvolume_reserve\l_metadata" alt="" coords="981,296,1149,337"/>
<area shape="rect" id="node20" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="1208,1096,1357,1123"/>
<area shape="rect" id="node22" href="props_8c.html#a4487fbb8ed1c0d12519617c8ef615ee7" title="inherit_props" alt="" coords="809,719,905,746"/>
<area shape="rect" id="node25" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1219,128,1346,155"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="797,471,916,498"/>
<area shape="rect" id="node37" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1197,970,1368,996"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="995,230,1135,272"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1222,230,1343,256"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1431,230,1578,256"/>
<area shape="rect" id="node10" href="delayed-inode_8h.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="992,646,1139,688"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1009,27,1121,54"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1199,40,1366,67"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="995,78,1135,104"/>
<area shape="rect" id="node14" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1835,248,1973,289"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1231,483,1334,510"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1223,331,1342,358"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#a407e83a824b3b9d5f00e0575800ad0e7" title="btrfs_ioctl_snap_destroy" alt="" coords="1201,280,1365,307"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="1445,1088,1564,1115"/>
<area shape="rect" id="node23" href="props_8h.html#aeee4e049d11af4934199236efc8523a5" title="btrfs_inode_inherit\l_props" alt="" coords="1001,777,1129,818"/>
<area shape="rect" id="node24" href="props_8h.html#a4773110a39a59de73215431cd44544b4" title="btrfs_subvol_inherit\l_props" alt="" coords="998,712,1133,753"/>
<area shape="rect" id="node26" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1641,407,1787,434"/>
<area shape="rect" id="node28" href="transaction_8h.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="989,362,1141,388"/>
<area shape="rect" id="node31" href="transaction_8h.html#ad1f3b7d91ec050c27e9f5ec01645feb5" title="btrfs_start_transaction\l_fallback_global_rsv" alt="" coords="1207,534,1359,576"/>
<area shape="rect" id="node32" href="transaction_8h.html#a1ceb6832c0b86ee3d0dd867687566ca9" title="btrfs_join_transaction" alt="" coords="992,179,1139,206"/>
<area shape="rect" id="node34" href="transaction_8h.html#a455144a42ef1bd47f4671a91de14804b" title="btrfs_join_transaction\l_nolock" alt="" coords="992,464,1139,505"/>
<area shape="rect" id="node35" href="transaction_8h.html#aba26c8a3abdff210b8bc8db6a594f260" title="btrfs_attach_transaction" alt="" coords="984,530,1147,556"/>
<area shape="rect" id="node36" href="transaction_8h.html#aa8195fc4470eb6627df300f9169c4fed" title="btrfs_attach_transaction\l_barrier" alt="" coords="984,581,1147,622"/>
<area shape="rect" id="node29" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1221,600,1344,627"/>
<area shape="rect" id="node30" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1440,542,1569,568"/>
<area shape="rect" id="node33" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1215,432,1351,459"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1416,970,1593,996"/>
<area shape="rect" id="node40" href="relocation_8c.html#a50a20f0374c4abe84432a66f76ef987e" title="reserve_metadata_space" alt="" coords="1199,792,1367,819"/>
<area shape="rect" id="node41" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="1437,792,1572,819"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a218114d622e5d36a5a15bfe77acbc927" title="btrfs_delalloc_reserve\l_metadata" alt="" coords="782,1169,931,1210"/>
<area shape="rect" id="node44" href="btrfs_2file_8c.html#abb642c5618a05bd0d1d2e8a40850d3d5" title="__btrfs_buffered_write" alt="" coords="990,1198,1141,1224"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ab65c77e665d28664c6c98b6b603d3e12" title="btrfs_delalloc_reserve\l_space" alt="" coords="991,1249,1140,1290"/>
<area shape="rect" id="node46" href="relocation_8c.html#accf42e2fb98db07f7fc8a2ea1316db7a" title="relocate_file_extent\l_cluster" alt="" coords="1437,1140,1572,1181"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="782,1046,931,1072"/>
<area shape="rect" id="node49" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1009,995,1121,1022"/>
<area shape="rect" id="node50" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1000,1046,1131,1072"/>
</map>
</div>

</div>
</div>
<a id="aa4da5e54727044428ab6cc112f5d7cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4da5e54727044428ab6cc112f5d7cdc">&#9670;&nbsp;</a></span>wake_all_tickets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wake_all_tickets </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_aa4da5e54727044428ab6cc112f5d7cdc_icgraph.png" border="0" usemap="#extent-tree_8c_aa4da5e54727044428ab6cc112f5d7cdc_icgraph" alt=""/></div>
<map name="extent-tree_8c_aa4da5e54727044428ab6cc112f5d7cdc_icgraph" id="extent-tree_8c_aa4da5e54727044428ab6cc112f5d7cdc_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a5a2e60542a18601bad6d984dee749a44" title="btrfs_async_reclaim\l_metadata_space" alt="" coords="172,615,311,657"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a2fedac953d08b5bd61953f25f52024aa" title="btrfs_init_async_reclaim_work" alt="" coords="359,623,557,649"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="605,623,692,649"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="741,165,848,192"/>
<area shape="rect" id="node8" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="740,623,849,649"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1387,27,1507,53"/>
<area shape="rect" id="node7" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1633,27,1744,53"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="897,1097,1079,1138"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="920,455,1056,497"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="926,673,1050,700"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="928,572,1048,599"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="912,849,1064,876"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="921,724,1055,751"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="938,983,1038,1009"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="910,128,1066,155"/>
<area shape="rect" id="node10" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1127,1144,1308,1171"/>
<area shape="rect" id="node11" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1396,1220,1497,1247"/>
<area shape="rect" id="node13" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1144,463,1291,489"/>
<area shape="rect" id="node17" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="1130,339,1305,365"/>
<area shape="rect" id="node14" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1368,463,1525,489"/>
<area shape="rect" id="node15" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1611,512,1767,539"/>
<area shape="rect" id="node16" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1601,461,1776,488"/>
<area shape="rect" id="node18" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1389,229,1504,256"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1654,280,1723,307"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1373,331,1520,373"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1359,397,1534,438"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1849,331,1999,357"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1840,229,2008,256"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1872,280,1976,307"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1845,592,2003,619"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1159,572,1275,599"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1604,592,1773,619"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1393,564,1500,591"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1135,900,1299,927"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1135,849,1299,876"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1585,900,1792,927"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1377,849,1516,876"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1147,703,1287,729"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="1139,776,1295,803"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1382,615,1511,657"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1373,733,1521,774"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1400,681,1493,708"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1399,799,1494,825"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1160,1068,1275,1095"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1399,1119,1495,1145"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1356,1002,1537,1043"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1387,1068,1506,1095"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="1132,27,1303,53"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="1155,77,1280,104"/>
</map>
</div>

</div>
</div>
<a id="af52f470b2311259ab72386c02af04460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52f470b2311259ab72386c02af04460">&#9670;&nbsp;</a></span>walk_down_proc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int walk_down_proc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwalk__control.html">walk_control</a> *&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lookup_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af52f470b2311259ab72386c02af04460_cgraph.png" border="0" usemap="#extent-tree_8c_af52f470b2311259ab72386c02af04460_cgraph" alt=""/></div>
<map name="extent-tree_8c_af52f470b2311259ab72386c02af04460_cgraph" id="extent-tree_8c_af52f470b2311259ab72386c02af04460_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="172,401,336,428"/>
<area shape="rect" id="node15" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1091,1583,1234,1609"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="207,241,301,268"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="205,136,303,163"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="181,1742,327,1783"/>
<area shape="rect" id="node3" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="423,427,537,453"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="419,933,541,960"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="885,1288,1014,1315"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="885,376,1014,403"/>
<area shape="rect" id="node33" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="643,5,797,32"/>
<area shape="rect" id="node35" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="416,209,544,250"/>
<area shape="rect" id="node37" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="389,275,571,301"/>
<area shape="rect" id="node43" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="425,1507,535,1533"/>
<area shape="rect" id="node5" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="659,579,781,605"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="879,629,1019,656"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="893,781,1005,808"/>
<area shape="rect" id="node8" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="633,731,807,757"/>
<area shape="rect" id="node9" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="872,680,1027,707"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1099,781,1226,808"/>
<area shape="rect" id="node11" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="649,832,791,859"/>
<area shape="rect" id="node12" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="895,883,1003,909"/>
<area shape="rect" id="node13" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="885,933,1014,960"/>
<area shape="rect" id="node19" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1083,1111,1243,1137"/>
<area shape="rect" id="node20" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="661,933,779,960"/>
<area shape="rect" id="node21" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="864,1136,1035,1163"/>
<area shape="rect" id="node22" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="675,1237,765,1264"/>
<area shape="rect" id="node23" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="638,1187,802,1213"/>
<area shape="rect" id="node24" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="909,1557,990,1584"/>
<area shape="rect" id="node25" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="643,1035,797,1061"/>
<area shape="rect" id="node26" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="637,1339,803,1365"/>
<area shape="rect" id="node27" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="650,1390,790,1431"/>
<area shape="rect" id="node28" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="876,477,1023,504"/>
<area shape="rect" id="node29" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="683,427,757,453"/>
<area shape="rect" id="node16" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1307,1524,1429,1551"/>
<area shape="rect" id="node17" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1291,1575,1445,1617"/>
<area shape="rect" id="node18" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1291,1641,1445,1668"/>
<area shape="rect" id="node32" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="895,325,1003,352"/>
<area shape="rect" id="node31" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1113,351,1212,377"/>
<area shape="rect" id="node34" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="873,5,1026,32"/>
<area shape="rect" id="node36" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="899,85,999,112"/>
<area shape="rect" id="node38" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="631,275,809,301"/>
<area shape="rect" id="node39" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="629,325,811,352"/>
<area shape="rect" id="node40" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="624,173,816,200"/>
<area shape="rect" id="node41" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="634,224,806,251"/>
<area shape="rect" id="node42" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="656,107,784,149"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="422,107,538,133"/>
<area shape="rect" id="node48" href="delayed-ref_8h.html#a6f200b01d9f90ffef4dbb4db8931ee1d" title="btrfs_alloc_delayed\l_extent_op" alt="" coords="413,1775,547,1817"/>
<area shape="rect" id="node49" href="delayed-ref_8c.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="384,1841,576,1868"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="415,1710,545,1751"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_af52f470b2311259ab72386c02af04460_icgraph.png" border="0" usemap="#extent-tree_8c_af52f470b2311259ab72386c02af04460_icgraph" alt=""/></div>
<map name="extent-tree_8c_af52f470b2311259ab72386c02af04460_icgraph" id="extent-tree_8c_af52f470b2311259ab72386c02af04460_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="172,533,288,560"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="336,559,476,585"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="341,385,471,412"/>
<area shape="rect" id="node4" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="549,385,661,412"/>
<area shape="rect" id="node35" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="755,664,885,691"/>
<area shape="rect" id="node41" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="524,707,687,749"/>
<area shape="rect" id="node5" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="763,512,877,539"/>
<area shape="rect" id="node12" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1206,208,1321,235"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="735,563,905,589"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="735,259,905,285"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="737,309,903,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="736,107,904,133"/>
<area shape="rect" id="node25" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="965,664,1133,691"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="754,157,886,184"/>
<area shape="rect" id="node28" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="747,360,893,387"/>
<area shape="rect" id="node30" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="769,411,871,437"/>
<area shape="rect" id="node32" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="745,461,895,488"/>
<area shape="rect" id="node6" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="981,512,1116,539"/>
<area shape="rect" id="node7" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1192,512,1335,539"/>
<area shape="rect" id="node8" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1391,512,1519,539"/>
<area shape="rect" id="node9" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1593,487,1723,513"/>
<area shape="rect" id="node10" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1576,537,1740,564"/>
<area shape="rect" id="node11" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1590,588,1726,615"/>
<area shape="rect" id="node14" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="953,613,1144,640"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1220,664,1307,691"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1402,664,1509,691"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="975,259,1122,285"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1208,259,1319,285"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1005,107,1092,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1198,107,1329,133"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1205,157,1322,184"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="979,157,1118,184"/>
<area shape="rect" id="node29" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="993,309,1104,336"/>
<area shape="rect" id="node31" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="1001,360,1096,387"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="1003,461,1094,488"/>
<area shape="rect" id="node34" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="961,411,1136,437"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1383,428,1528,455"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="968,765,1129,792"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1589,421,1727,462"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1788,609,1884,636"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1212,715,1315,741"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="763,715,877,741"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="740,791,900,817"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="963,816,1134,843"/>
<area shape="rect" id="node46" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="556,56,655,83"/>
<area shape="rect" id="node47" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="771,56,869,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="981,5,1116,32"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="975,56,1122,83"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="1192,56,1335,83"/>
</map>
</div>

</div>
</div>
<a id="a270fca781c23a42970e6eb430c44808e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270fca781c23a42970e6eb430c44808e">&#9670;&nbsp;</a></span>walk_down_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int walk_down_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwalk__control.html">walk_control</a> *&#160;</td>
          <td class="paramname"><em>wc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a270fca781c23a42970e6eb430c44808e_cgraph.png" border="0" usemap="#extent-tree_8c_a270fca781c23a42970e6eb430c44808e_cgraph" alt=""/></div>
<map name="extent-tree_8c_a270fca781c23a42970e6eb430c44808e_cgraph" id="extent-tree_8c_a270fca781c23a42970e6eb430c44808e_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="169,184,288,211"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="175,732,283,759"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="563,225,727,252"/>
<area shape="rect" id="node8" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1221,377,1364,404"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="371,209,466,236"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="369,311,468,337"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="345,93,492,134"/>
<area shape="rect" id="node4" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="823,580,938,607"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="819,428,942,455"/>
<area shape="rect" id="node7" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1032,377,1161,404"/>
<area shape="rect" id="node13" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="803,276,958,303"/>
<area shape="rect" id="node15" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="816,225,945,252"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="817,109,945,150"/>
<area shape="rect" id="node17" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="789,175,972,201"/>
<area shape="rect" id="node18" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="826,377,935,404"/>
<area shape="rect" id="node6" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1229,732,1356,759"/>
<area shape="rect" id="node12" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1043,605,1151,632"/>
<area shape="rect" id="node9" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1431,319,1554,345"/>
<area shape="rect" id="node10" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1415,370,1570,411"/>
<area shape="rect" id="node11" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1415,436,1570,463"/>
<area shape="rect" id="node14" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1020,301,1173,328"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="587,276,703,303"/>
<area shape="rect" id="node21" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1041,681,1152,708"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="821,681,941,708"/>
<area shape="rect" id="node23" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="813,631,949,657"/>
<area shape="rect" id="node26" href="delayed-ref_8h.html#a6f200b01d9f90ffef4dbb4db8931ee1d" title="btrfs_alloc_delayed\l_extent_op" alt="" coords="578,159,713,201"/>
<area shape="rect" id="node27" href="delayed-ref_8c.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="549,43,741,69"/>
<area shape="rect" id="node28" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="581,94,710,135"/>
<area shape="rect" id="node30" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="559,479,731,505"/>
<area shape="rect" id="node31" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="567,327,724,353"/>
<area shape="rect" id="node33" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="1229,1136,1356,1163"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a7e63df3765303daa87e4bde90b79a04e" title="btrfs_find_create_tree\l_block" alt="" coords="807,1046,955,1087"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a71eef53336c01a90b7702fb0d34f25ff" title="btrfs_set_buffer_lockdep\l_class" alt="" coords="336,1037,501,1078"/>
<area shape="rect" id="node42" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="339,1204,498,1231"/>
<area shape="rect" id="node44" href="ctree_8c.html#a5583fb14c86f35ee9dc82ba7538bba77" title="btrfs_comp_cpu_keys" alt="" coords="570,428,721,455"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="346,783,491,809"/>
<area shape="rect" id="node46" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="568,783,723,809"/>
<area shape="rect" id="node47" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="357,564,480,591"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="355,412,482,439"/>
<area shape="rect" id="node49" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="588,935,703,961"/>
<area shape="rect" id="node50" href="qgroup_8c.html#a4273e8a52c184af0a427768658a62eef" title="btrfs_qgroup_trace\l_subtree" alt="" coords="353,615,484,657"/>
<area shape="rect" id="node32" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="825,529,936,556"/>
<area shape="rect" id="node34" href="extent__io_8c.html#a8f8971b21a75989268a2f29358acdc99" title="mark_extent_buffer\l_accessed" alt="" coords="1425,1003,1560,1045"/>
<area shape="rect" id="node35" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1621,1011,1769,1037"/>
<area shape="rect" id="node36" href="extent__io_8h.html#a29abd63bd8d61dbce1e013e2d13f9e8e" title="alloc_test_extent_buffer" alt="" coords="1412,1252,1573,1279"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a4260e72c84f6e638112280d3d1f459f7" title="alloc_dummy_extent\l_buffer" alt="" coords="1421,1186,1564,1227"/>
<area shape="rect" id="node38" href="extent__io_8c.html#aff53638991957d47ed7598815c2bada2" title="btrfs_release_extent\l_buffer" alt="" coords="1423,1069,1563,1110"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a4974facd69d3453e3768855c44ba3ee9" title="alloc_extent_buffer" alt="" coords="1031,1053,1163,1080"/>
<area shape="rect" id="node43" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="555,1204,735,1231"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a270fca781c23a42970e6eb430c44808e_icgraph.png" border="0" usemap="#extent-tree_8c_a270fca781c23a42970e6eb430c44808e_icgraph" alt=""/></div>
<map name="extent-tree_8c_a270fca781c23a42970e6eb430c44808e_icgraph" id="extent-tree_8c_a270fca781c23a42970e6eb430c44808e_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="169,559,309,585"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="174,385,305,412"/>
<area shape="rect" id="node3" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="383,385,495,412"/>
<area shape="rect" id="node35" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="589,664,718,691"/>
<area shape="rect" id="node41" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="357,707,520,749"/>
<area shape="rect" id="node4" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="597,512,710,539"/>
<area shape="rect" id="node11" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1039,208,1154,235"/>
<area shape="rect" id="node12" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="568,563,739,589"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="568,259,739,285"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="570,309,737,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="569,107,737,133"/>
<area shape="rect" id="node25" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="798,664,966,691"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="587,157,719,184"/>
<area shape="rect" id="node28" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="581,360,726,387"/>
<area shape="rect" id="node30" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="602,411,705,437"/>
<area shape="rect" id="node32" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="578,461,729,488"/>
<area shape="rect" id="node5" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="815,512,949,539"/>
<area shape="rect" id="node6" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1025,512,1168,539"/>
<area shape="rect" id="node7" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1225,512,1353,539"/>
<area shape="rect" id="node8" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1426,487,1557,513"/>
<area shape="rect" id="node9" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1409,537,1573,564"/>
<area shape="rect" id="node10" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1423,588,1559,615"/>
<area shape="rect" id="node13" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="787,613,977,640"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1053,664,1140,691"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1235,639,1342,665"/>
<area shape="rect" id="node16" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1234,689,1343,716"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="809,259,955,285"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1041,259,1152,285"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="839,107,925,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1031,107,1162,133"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1038,157,1155,184"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="813,157,951,184"/>
<area shape="rect" id="node29" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="827,309,937,336"/>
<area shape="rect" id="node31" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="835,360,929,387"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="837,461,927,488"/>
<area shape="rect" id="node34" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="795,411,969,437"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1216,428,1361,455"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="801,765,963,792"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1422,421,1561,462"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1621,609,1717,636"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1045,715,1148,741"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="596,715,711,741"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="573,791,733,817"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="797,816,967,843"/>
<area shape="rect" id="node46" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="389,56,488,83"/>
<area shape="rect" id="node47" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="604,56,703,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="815,5,949,32"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="809,56,955,83"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="1025,56,1168,83"/>
</map>
</div>

</div>
</div>
<a id="a19c72eab61de613bbcc9548d80709f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c72eab61de613bbcc9548d80709f72">&#9670;&nbsp;</a></span>walk_up_proc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int walk_up_proc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwalk__control.html">walk_control</a> *&#160;</td>
          <td class="paramname"><em>wc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_cgraph.png" border="0" usemap="#extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_cgraph" alt=""/></div>
<map name="extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_cgraph" id="extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="406,93,509,120"/>
<area shape="rect" id="node8" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="851,549,959,576"/>
<area shape="rect" id="node9" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="825,1421,984,1448"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="156,616,320,643"/>
<area shape="rect" id="node26" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="833,811,976,837"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="189,405,287,432"/>
<area shape="rect" id="node37" href="qgroup_8c.html#a76b5289b0371fe79c4fab5b38aa2d98e" title="btrfs_qgroup_trace\l_leaf_items" alt="" coords="173,222,303,263"/>
<area shape="rect" id="node39" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="626,1509,746,1536"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="166,1147,310,1173"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="609,93,763,120"/>
<area shape="rect" id="node6" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="607,43,765,69"/>
<area shape="rect" id="node4" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="851,107,959,133"/>
<area shape="rect" id="node5" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="828,56,981,83"/>
<area shape="rect" id="node7" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="849,5,960,32"/>
<area shape="rect" id="node10" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1032,1267,1212,1293"/>
<area shape="rect" id="node11" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1260,1267,1425,1293"/>
<area shape="rect" id="node12" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1267,803,1419,845"/>
<area shape="rect" id="node14" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="400,667,515,693"/>
<area shape="rect" id="node15" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="396,448,519,475"/>
<area shape="rect" id="node25" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="621,701,751,728"/>
<area shape="rect" id="node31" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="393,616,522,643"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="622,854,750,895"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="595,752,777,779"/>
<area shape="rect" id="node34" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="403,515,512,541"/>
<area shape="rect" id="node16" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="625,397,747,424"/>
<area shape="rect" id="node17" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="835,169,975,196"/>
<area shape="rect" id="node18" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="849,245,961,272"/>
<area shape="rect" id="node19" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="599,245,773,272"/>
<area shape="rect" id="node20" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="827,296,982,323"/>
<area shape="rect" id="node21" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="841,423,968,449"/>
<area shape="rect" id="node22" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="615,347,757,373"/>
<area shape="rect" id="node23" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="621,651,751,677"/>
<area shape="rect" id="node30" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="606,448,766,475"/>
<area shape="rect" id="node24" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="843,979,966,1005"/>
<area shape="rect" id="node27" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1061,1061,1183,1088"/>
<area shape="rect" id="node28" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1045,774,1199,815"/>
<area shape="rect" id="node29" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1045,840,1199,867"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="399,296,515,323"/>
<area shape="rect" id="node38" href="qgroup_8c.html#a511b9b5e740903fc1a3953e61ef03e26" title="btrfs_qgroup_trace\l_extent" alt="" coords="392,222,523,263"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a5d6d3672069a2fb3866e895fec76db34" title="clear_extent_buffer\l_dirty" alt="" coords="838,1473,971,1514"/>
<area shape="rect" id="node42" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="392,1357,523,1384"/>
<area shape="rect" id="node43" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="368,1408,547,1435"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="392,819,523,845"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="392,1139,523,1181"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="397,1256,517,1283"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="382,1307,533,1333"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="384,971,531,997"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="390,1022,525,1063"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="394,1088,521,1115"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_icgraph.png" border="0" usemap="#extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_icgraph" alt=""/></div>
<map name="extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_icgraph" id="extent-tree_8c_a19c72eab61de613bbcc9548d80709f72_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="156,533,255,560"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="303,559,443,585"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="307,385,438,412"/>
<area shape="rect" id="node4" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="516,385,628,412"/>
<area shape="rect" id="node35" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="722,664,851,691"/>
<area shape="rect" id="node41" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="491,707,653,749"/>
<area shape="rect" id="node5" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="730,512,843,539"/>
<area shape="rect" id="node12" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1173,208,1287,235"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="701,563,872,589"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="701,259,872,285"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="703,309,870,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="703,107,871,133"/>
<area shape="rect" id="node25" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="931,664,1099,691"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="721,157,853,184"/>
<area shape="rect" id="node28" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="714,360,859,387"/>
<area shape="rect" id="node30" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="735,411,838,437"/>
<area shape="rect" id="node32" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="711,461,862,488"/>
<area shape="rect" id="node6" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="948,512,1083,539"/>
<area shape="rect" id="node7" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1159,512,1301,539"/>
<area shape="rect" id="node8" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1358,512,1486,539"/>
<area shape="rect" id="node9" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1559,487,1690,513"/>
<area shape="rect" id="node10" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1543,537,1707,564"/>
<area shape="rect" id="node11" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1557,588,1693,615"/>
<area shape="rect" id="node14" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="920,613,1111,640"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1187,664,1273,691"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1369,664,1475,691"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="942,259,1089,285"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1175,259,1285,285"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="972,107,1059,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1165,107,1295,133"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1171,157,1289,184"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="946,157,1085,184"/>
<area shape="rect" id="node29" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="960,309,1071,336"/>
<area shape="rect" id="node31" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="968,360,1063,387"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="970,461,1061,488"/>
<area shape="rect" id="node34" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="928,411,1103,437"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1349,428,1495,455"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="935,765,1096,792"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1555,421,1694,462"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1755,609,1851,636"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1179,715,1281,741"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="729,715,844,741"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="707,791,867,817"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="930,816,1101,843"/>
<area shape="rect" id="node46" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="523,56,621,83"/>
<area shape="rect" id="node47" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="737,56,836,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="948,5,1083,32"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="942,56,1089,83"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="1159,56,1301,83"/>
</map>
</div>

</div>
</div>
<a id="a80ebfa069d32a7ccf980f7859f430d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ebfa069d32a7ccf980f7859f430d7a">&#9670;&nbsp;</a></span>walk_up_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline int walk_up_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwalk__control.html">walk_control</a> *&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_cgraph.png" border="0" usemap="#extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_cgraph" alt=""/></div>
<map name="extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_cgraph" id="extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_cgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="152,1067,255,1093"/>
<area shape="rect" id="node19" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="988,1117,1115,1144"/>
<area shape="rect" id="node26" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="980,1269,1123,1296"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eed0c6b455d426e16705b580a4e01f" title="find_next_key" alt="" coords="553,5,655,32"/>
<area shape="rect" id="node9" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="779,1168,887,1195"/>
<area shape="rect" id="node10" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="972,1320,1131,1347"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="303,965,467,992"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="335,620,434,647"/>
<area shape="rect" id="node36" href="qgroup_8c.html#a76b5289b0371fe79c4fab5b38aa2d98e" title="btrfs_qgroup_trace\l_leaf_items" alt="" coords="319,747,450,789"/>
<area shape="rect" id="node38" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="773,1421,893,1448"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="313,325,457,352"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="755,544,910,571"/>
<area shape="rect" id="node7" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="754,115,911,141"/>
<area shape="rect" id="node5" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="997,544,1105,571"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="975,275,1128,301"/>
<area shape="rect" id="node8" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="996,115,1107,141"/>
<area shape="rect" id="node11" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1179,1320,1359,1347"/>
<area shape="rect" id="node12" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1407,1371,1572,1397"/>
<area shape="rect" id="node13" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1413,1262,1565,1303"/>
<area shape="rect" id="node15" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="547,864,661,891"/>
<area shape="rect" id="node16" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="543,965,665,992"/>
<area shape="rect" id="node25" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="768,1117,897,1144"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="539,1016,669,1043"/>
<area shape="rect" id="node31" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="769,715,897,757"/>
<area shape="rect" id="node32" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="741,836,924,863"/>
<area shape="rect" id="node33" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="549,1067,659,1093"/>
<area shape="rect" id="node17" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="771,915,894,941"/>
<area shape="rect" id="node18" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="763,965,903,992"/>
<area shape="rect" id="node20" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1620,1044,1775,1071"/>
<area shape="rect" id="node21" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1195,1124,1342,1151"/>
<area shape="rect" id="node22" href="extent__io_8c.html#a664832bdb9196f366f7bae8d23fe6491" title="btrfs_release_extent\l_buffer_page" alt="" coords="1419,1066,1559,1107"/>
<area shape="rect" id="node23" href="extent__io_8c.html#ae5972708be74df23a5a9cafdd514b7c8" title="__free_extent_buffer" alt="" coords="1627,1161,1768,1188"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a6f899034e3eb7e0649632be9a6cff7ba" title="btrfs_release_extent\l_buffer_rcu" alt="" coords="1419,1183,1559,1225"/>
<area shape="rect" id="node27" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1207,1371,1330,1397"/>
<area shape="rect" id="node28" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1191,1203,1346,1245"/>
<area shape="rect" id="node29" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1191,1269,1346,1296"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="546,544,662,571"/>
<area shape="rect" id="node37" href="qgroup_8c.html#a511b9b5e740903fc1a3953e61ef03e26" title="btrfs_qgroup_trace\l_extent" alt="" coords="539,747,669,789"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a5d6d3672069a2fb3866e895fec76db34" title="clear_extent_buffer\l_dirty" alt="" coords="985,1371,1118,1413"/>
<area shape="rect" id="node41" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="539,493,669,520"/>
<area shape="rect" id="node42" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="515,56,693,83"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="539,696,669,723"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="539,107,669,149"/>
<area shape="rect" id="node45" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="543,173,665,200"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="544,224,664,251"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="529,275,679,301"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="531,325,677,352"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="537,377,671,418"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="541,443,667,469"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_icgraph.png" border="0" usemap="#extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_icgraph" alt=""/></div>
<map name="extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_icgraph" id="extent-tree_8c_a80ebfa069d32a7ccf980f7859f430d7a_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="152,559,292,585"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="157,385,287,412"/>
<area shape="rect" id="node3" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="365,385,477,412"/>
<area shape="rect" id="node35" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="571,664,701,691"/>
<area shape="rect" id="node41" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="340,707,503,749"/>
<area shape="rect" id="node4" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="579,512,693,539"/>
<area shape="rect" id="node11" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1022,208,1137,235"/>
<area shape="rect" id="node12" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="551,563,721,589"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="551,259,721,285"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="553,309,719,336"/>
<area shape="rect" id="node21" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="552,107,720,133"/>
<area shape="rect" id="node25" href="qgroup_8h.html#a23fa9b3e797e9977ba63677858e5935d" title="btrfs_read_qgroup_config" alt="" coords="781,664,949,691"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="570,157,702,184"/>
<area shape="rect" id="node28" href="send_8c.html#a8d80f6fb203043ffc8c4065f2956fccd" title="is_extent_unchanged" alt="" coords="563,360,709,387"/>
<area shape="rect" id="node30" href="send_8c.html#a3d90320d85aa2a92ced82c1d85ea00f5" title="full_send_tree" alt="" coords="585,411,687,437"/>
<area shape="rect" id="node32" href="uuid-tree_8c.html#a4fcf469e64630e8d77c50b1d8e38267e" title="btrfs_uuid_tree_iterate" alt="" coords="561,461,711,488"/>
<area shape="rect" id="node5" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="797,512,932,539"/>
<area shape="rect" id="node6" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1008,512,1151,539"/>
<area shape="rect" id="node7" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1207,512,1335,539"/>
<area shape="rect" id="node8" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1409,487,1539,513"/>
<area shape="rect" id="node9" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1392,537,1556,564"/>
<area shape="rect" id="node10" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1406,588,1542,615"/>
<area shape="rect" id="node13" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="769,613,960,640"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1036,664,1123,691"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1218,639,1325,665"/>
<area shape="rect" id="node16" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1217,689,1326,716"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="791,259,938,285"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1024,259,1135,285"/>
<area shape="rect" id="node22" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="821,107,908,133"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#a90a4ec3c6fab6579d14ee124d5f96bc4" title="btrfs_extent_same" alt="" coords="1014,107,1145,133"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="1021,157,1138,184"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="795,157,934,184"/>
<area shape="rect" id="node29" href="send_8c.html#a222d5a3556a73a8f5c74c73f4318b2e1" title="process_extent" alt="" coords="809,309,920,336"/>
<area shape="rect" id="node31" href="send_8c.html#a0870601d54997017a637c49d5ee5c970" title="send_subvol" alt="" coords="817,360,912,387"/>
<area shape="rect" id="node33" href="ctree_8h.html#a64893ed54e3a3760c561026c34dbe477" title="free_fs_info" alt="" coords="819,461,910,488"/>
<area shape="rect" id="node34" href="volumes_8c.html#ac83ec6295522733a25a307cf3a7a756f" title="btrfs_uuid_rescan_kthread" alt="" coords="777,411,952,437"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1199,428,1344,455"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="784,765,945,792"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1405,421,1543,462"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1604,609,1700,636"/>
<area shape="rect" id="node40" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1028,715,1131,741"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="579,715,693,741"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="556,791,716,817"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="779,816,950,843"/>
<area shape="rect" id="node46" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="372,56,471,83"/>
<area shape="rect" id="node47" href="relocation_8c.html#a5bf663d3393a714a65b3c390b211b4ee" title="link_to_upper" alt="" coords="587,56,685,83"/>
<area shape="rect" id="node50" href="relocation_8c.html#a04c857e8d87e22b873925d9eaf7f467e" title="relocate_tree_block" alt="" coords="797,5,932,32"/>
<area shape="rect" id="node48" href="relocation_8c.html#a9608c7d7bb90da326314941a7d093a24" title="finish_pending_nodes" alt="" coords="791,56,938,83"/>
<area shape="rect" id="node49" href="relocation_8c.html#a85e2fc9bc490a16f403055f80cb64820" title="relocate_tree_blocks" alt="" coords="1008,56,1151,83"/>
</map>
</div>

</div>
</div>
<a id="a75ce6a61ceafda77cdb7aca1b86d2280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ce6a61ceafda77cdb7aca1b86d2280">&#9670;&nbsp;</a></span>write_one_cache_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int write_one_cache_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_cgraph.png" border="0" usemap="#extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_cgraph" alt=""/></div>
<map name="extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_cgraph" id="extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="217,963,340,989"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="637,1317,766,1344"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1301,296,1457,323"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="212,1528,345,1555"/>
<area shape="rect" id="node3" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1318,397,1441,424"/>
<area shape="rect" id="node4" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="631,1115,771,1141"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="645,1064,757,1091"/>
<area shape="rect" id="node6" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="393,1115,568,1141"/>
<area shape="rect" id="node7" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="624,1419,779,1445"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1316,1119,1443,1145"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="409,963,552,989"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="876,971,984,997"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1099,144,1228,171"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="859,1528,1001,1555"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="850,819,1010,845"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="871,195,989,221"/>
<area shape="rect" id="node34" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1720,220,1867,247"/>
<area shape="rect" id="node35" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="616,811,787,837"/>
<area shape="rect" id="node37" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="436,144,525,171"/>
<area shape="rect" id="node40" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="399,709,563,736"/>
<area shape="rect" id="node45" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="440,1528,521,1555"/>
<area shape="rect" id="node46" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="404,1219,557,1245"/>
<area shape="rect" id="node47" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="398,245,563,272"/>
<area shape="rect" id="node48" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="411,643,551,685"/>
<area shape="rect" id="node49" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1126,1317,1201,1344"/>
<area shape="rect" id="node8" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1303,1437,1455,1478"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1511,1093,1666,1120"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1515,1144,1662,1171"/>
<area shape="rect" id="node14" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1318,616,1441,643"/>
<area shape="rect" id="node15" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1506,616,1671,643"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1324,169,1435,196"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1318,119,1441,145"/>
<area shape="rect" id="node21" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1318,1557,1441,1584"/>
<area shape="rect" id="node22" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1086,1521,1241,1562"/>
<area shape="rect" id="node23" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1086,1469,1241,1496"/>
<area shape="rect" id="node25" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1073,844,1253,871"/>
<area shape="rect" id="node27" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1084,245,1243,272"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1098,195,1229,221"/>
<area shape="rect" id="node30" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1550,271,1627,297"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1511,321,1666,348"/>
<area shape="rect" id="node32" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1505,372,1672,399"/>
<area shape="rect" id="node33" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1535,220,1643,247"/>
<area shape="rect" id="node36" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="835,920,1025,947"/>
<area shape="rect" id="node38" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="642,93,761,120"/>
<area shape="rect" id="node39" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="631,144,772,171"/>
<area shape="rect" id="node41" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="839,550,1021,591"/>
<area shape="rect" id="node42" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="866,768,994,795"/>
<area shape="rect" id="node43" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="661,608,742,635"/>
<area shape="rect" id="node44" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="651,448,752,475"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_icgraph.png" border="0" usemap="#extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_icgraph" alt=""/></div>
<map name="extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_icgraph" id="extent-tree_8c_a75ce6a61ceafda77cdb7aca1b86d2280_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="213,977,364,1018"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="212,911,365,953"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="413,895,620,921"/>
<area shape="rect" id="node8" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="668,1009,837,1036"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="920,5,1041,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="701,841,804,868"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="678,892,827,919"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="669,943,837,985"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="927,208,1034,235"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="920,259,1041,285"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="930,309,1031,336"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="935,360,1026,387"/>
<area shape="rect" id="node13" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1124,436,1283,463"/>
<area shape="rect" id="node14" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="891,411,1071,437"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="895,512,1066,539"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="923,563,1038,589"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="913,613,1049,640"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="912,664,1049,691"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="903,715,1059,757"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="897,781,1065,808"/>
<area shape="rect" id="node21" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="885,832,1076,859"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="889,883,1072,909"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="929,933,1032,960"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="921,984,1040,1011"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="920,1035,1041,1061"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="919,1086,1043,1127"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="911,1152,1050,1179"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="897,1203,1064,1245"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="906,1269,1055,1296"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="901,1320,1060,1347"/>
<area shape="rect" id="node31" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="911,1371,1051,1413"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="911,1437,1051,1464"/>
<area shape="rect" id="node33" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="917,1488,1044,1515"/>
<area shape="rect" id="node34" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1131,1539,1276,1565"/>
<area shape="rect" id="node35" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="913,1589,1049,1616"/>
<area shape="rect" id="node36" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="900,1640,1061,1667"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="895,1691,1066,1717"/>
<area shape="rect" id="node38" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="907,1742,1054,1783"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="921,1808,1040,1835"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="900,1859,1061,1885"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="917,1909,1045,1936"/>
<area shape="rect" id="node42" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="901,1960,1061,1987"/>
<area shape="rect" id="node43" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="901,2011,1060,2037"/>
<area shape="rect" id="node44" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="915,2061,1046,2088"/>
<area shape="rect" id="node45" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="907,2112,1055,2139"/>
<area shape="rect" id="node46" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="911,56,1050,83"/>
<area shape="rect" id="node47" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="919,107,1042,133"/>
<area shape="rect" id="node48" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="905,157,1056,184"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="439,947,595,973"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0e2e54587e87a3b970618568f6bd4cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2e54587e87a3b970618568f6bd4cc3">&#9670;&nbsp;</a></span>__attribute__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... }   <a class="el" href="struct____attribute____.html">__attribute__</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a303a70686af6aabb077a9a95b1a3a903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303a70686af6aabb077a9a95b1a3a903">&#9670;&nbsp;</a></span>btrfs_raid_type_names</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* btrfs_raid_type_names[BTRFS_NR_RAID_TYPES]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    [BTRFS_RAID_RAID10] = <span class="stringliteral">&quot;raid10&quot;</span>,</div><div class="line">    [BTRFS_RAID_RAID1]  = <span class="stringliteral">&quot;raid1&quot;</span>,</div><div class="line">    [BTRFS_RAID_DUP]    = <span class="stringliteral">&quot;dup&quot;</span>,</div><div class="line">    [BTRFS_RAID_RAID0]  = <span class="stringliteral">&quot;raid0&quot;</span>,</div><div class="line">    [BTRFS_RAID_SINGLE] = <span class="stringliteral">&quot;single&quot;</span>,</div><div class="line">    [BTRFS_RAID_RAID5]  = <span class="stringliteral">&quot;raid5&quot;</span>,</div><div class="line">    [BTRFS_RAID_RAID6]  = <span class="stringliteral">&quot;raid6&quot;</span>,</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e99c6e840ca93ced115462758f746de3.html">btrfs</a></li><li class="navelem"><a class="el" href="extent-tree_8c.html">extent-tree.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
