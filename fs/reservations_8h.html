<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ocfs2/reservations.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('reservations_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">reservations.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/rbtree.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for reservations.h:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h__incl.png" border="0" usemap="#ocfs2_2reservations_8h" alt=""/></div>
<map name="ocfs2_2reservations_8h" id="ocfs2_2reservations_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h__dep__incl.png" border="0" usemap="#ocfs2_2reservations_8hdep" alt=""/></div>
<map name="ocfs2_2reservations_8hdep" id="ocfs2_2reservations_8hdep">
<area shape="rect" id="node2" href="ocfs2_8h.html" title="ocfs2/ocfs2.h" alt="" coords="1743,80,1845,107"/>
<area shape="rect" id="node3" href="ocfs2_2acl_8c.html" title="ocfs2/acl.c" alt="" coords="5,155,92,181"/>
<area shape="rect" id="node4" href="ocfs2_2alloc_8c.html" title="ocfs2/alloc.c" alt="" coords="117,155,213,181"/>
<area shape="rect" id="node5" href="ocfs2_2aops_8c.html" title="ocfs2/aops.c" alt="" coords="237,155,335,181"/>
<area shape="rect" id="node6" href="blockcheck_8c.html" title="ocfs2/blockcheck.c" alt="" coords="359,155,493,181"/>
<area shape="rect" id="node7" href="buffer__head__io_8c.html" title="ocfs2/buffer_head_io.c" alt="" coords="518,155,673,181"/>
<area shape="rect" id="node8" href="ocfs2_2dcache_8c.html" title="ocfs2/dcache.c" alt="" coords="697,155,808,181"/>
<area shape="rect" id="node9" href="ocfs2_2dir_8c.html" title="ocfs2/dir.c" alt="" coords="833,155,915,181"/>
<area shape="rect" id="node10" href="dlmglue_8c.html" title="ocfs2/dlmglue.c" alt="" coords="763,229,878,256"/>
<area shape="rect" id="node11" href="ocfs2_2quota_8h.html" title="ocfs2/quota.h" alt="" coords="1091,155,1193,181"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html" title="ocfs2/file.c" alt="" coords="903,229,989,256"/>
<area shape="rect" id="node13" href="ocfs2_2journal_8c.html" title="ocfs2/journal.c" alt="" coords="1014,229,1121,256"/>
<area shape="rect" id="node14" href="quota__global_8c.html" title="ocfs2/quota_global.c" alt="" coords="1145,229,1288,256"/>
<area shape="rect" id="node15" href="quota__local_8c.html" title="ocfs2/quota_local.c" alt="" coords="1312,229,1447,256"/>
<area shape="rect" id="node16" href="ocfs2_2super_8c.html" title="ocfs2/super.c" alt="" coords="1471,229,1573,256"/>
<area shape="rect" id="node17" href="ocfs2_2export_8c.html" title="ocfs2/export.c" alt="" coords="1369,155,1475,181"/>
<area shape="rect" id="node18" href="ocfs2_2extent__map_8c.html" title="ocfs2/extent_map.c" alt="" coords="1499,155,1636,181"/>
<area shape="rect" id="node19" href="filecheck_8c.html" title="ocfs2/filecheck.c" alt="" coords="1660,155,1781,181"/>
<area shape="rect" id="node20" href="heartbeat_8c.html" title="ocfs2/heartbeat.c" alt="" coords="1806,155,1929,181"/>
<area shape="rect" id="node21" href="ocfs2_2inode_8c.html" title="ocfs2/inode.c" alt="" coords="1953,155,2053,181"/>
<area shape="rect" id="node22" href="ocfs2_2ioctl_8c.html" title="ocfs2/ioctl.c" alt="" coords="2078,155,2171,181"/>
<area shape="rect" id="node23" href="localalloc_8c.html" title="ocfs2/localalloc.c" alt="" coords="2195,155,2318,181"/>
<area shape="rect" id="node24" href="ocfs2_2locks_8c.html" title="ocfs2/locks.c" alt="" coords="2343,155,2443,181"/>
<area shape="rect" id="node25" href="ocfs2_2mmap_8c.html" title="ocfs2/mmap.c" alt="" coords="2467,155,2572,181"/>
<area shape="rect" id="node26" href="move__extents_8c.html" title="ocfs2/move_extents.c" alt="" coords="2596,155,2747,181"/>
<area shape="rect" id="node27" href="ocfs2_2namei_8c.html" title="ocfs2/namei.c" alt="" coords="2771,155,2875,181"/>
<area shape="rect" id="node28" href="refcounttree_8c.html" title="ocfs2/refcounttree.c" alt="" coords="2899,155,3038,181"/>
<area shape="rect" id="node29" href="reservations_8c.html" title="ocfs2/reservations.c" alt="" coords="3063,155,3203,181"/>
<area shape="rect" id="node30" href="ocfs2_2resize_8c.html" title="ocfs2/resize.c" alt="" coords="3227,155,3331,181"/>
<area shape="rect" id="node31" href="slot__map_8c.html" title="ocfs2/slot_map.c" alt="" coords="3355,155,3478,181"/>
<area shape="rect" id="node32" href="suballoc_8c.html" title="ocfs2/suballoc.c" alt="" coords="3502,155,3619,181"/>
<area shape="rect" id="node33" href="ocfs2_2symlink_8c.html" title="ocfs2/symlink.c" alt="" coords="3643,155,3758,181"/>
<area shape="rect" id="node34" href="sysfile_8c.html" title="ocfs2/sysfile.c" alt="" coords="3782,155,3889,181"/>
<area shape="rect" id="node35" href="uptodate_8c.html" title="ocfs2/uptodate.c" alt="" coords="3913,155,4032,181"/>
<area shape="rect" id="node36" href="ocfs2_2xattr_8c.html" title="ocfs2/xattr.c" alt="" coords="4056,155,4151,181"/>
</map>
</div>
</div>
<p><a href="reservations_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5e4a431137db2dc55b2115ae84d2808a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a5e4a431137db2dc55b2115ae84d2808a">OCFS2_DEFAULT_RESV_LEVEL</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a5e4a431137db2dc55b2115ae84d2808a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977c0e1ad3df8f80ad5721058a62f029"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a977c0e1ad3df8f80ad5721058a62f029">OCFS2_MAX_RESV_LEVEL</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a977c0e1ad3df8f80ad5721058a62f029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3662cfc425c0a9308b63a2fef2b81666"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a3662cfc425c0a9308b63a2fef2b81666">OCFS2_MIN_RESV_LEVEL</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a3662cfc425c0a9308b63a2fef2b81666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3641b6e35ead936ae608f468b0dbaa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a1b3641b6e35ead936ae608f468b0dbaa">OCFS2_RESV_FLAG_INUSE</a>&#160;&#160;&#160;0x01	/* Set when r_node is part of a btree */</td></tr>
<tr class="separator:a1b3641b6e35ead936ae608f468b0dbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50108fbda11ed9fc935b18e5c4cbf1ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a50108fbda11ed9fc935b18e5c4cbf1ad">OCFS2_RESV_FLAG_TMP</a></td></tr>
<tr class="separator:a50108fbda11ed9fc935b18e5c4cbf1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed774d5a189318c21c7c212826bf3d48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#aed774d5a189318c21c7c212826bf3d48">OCFS2_RESV_FLAG_DIR</a></td></tr>
<tr class="separator:aed774d5a189318c21c7c212826bf3d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6a0dee9728d4532151c61da5aa1d1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a6b6a0dee9728d4532151c61da5aa1d1c">OCFS2_RESV_TYPES</a>&#160;&#160;&#160;(<a class="el" href="reservations_8h.html#a50108fbda11ed9fc935b18e5c4cbf1ad">OCFS2_RESV_FLAG_TMP</a>|<a class="el" href="reservations_8h.html#aed774d5a189318c21c7c212826bf3d48">OCFS2_RESV_FLAG_DIR</a>)</td></tr>
<tr class="separator:a6b6a0dee9728d4532151c61da5aa1d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4169847b86042d9db950df8220b2ad1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a4169847b86042d9db950df8220b2ad1a">ocfs2_resv_init_once</a> (struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *resv)</td></tr>
<tr class="separator:a4169847b86042d9db950df8220b2ad1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1990aa5474657c8efdb262157ae31207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a1990aa5474657c8efdb262157ae31207">ocfs2_resv_set_type</a> (struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *resv, unsigned int <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:a1990aa5474657c8efdb262157ae31207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9db031bf184ac2e11865c60ef66ebe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a3d9db031bf184ac2e11865c60ef66ebe">ocfs2_dir_resv_allowed</a> (struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *osb)</td></tr>
<tr class="separator:a3d9db031bf184ac2e11865c60ef66ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1754a30476e23189f7891383639c720e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a1754a30476e23189f7891383639c720e">ocfs2_resv_discard</a> (struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *resmap, struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *resv)</td></tr>
<tr class="separator:a1754a30476e23189f7891383639c720e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab53ab6ce968f58f2c9fbdee7991c500"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#aab53ab6ce968f58f2c9fbdee7991c500">ocfs2_resmap_init</a> (struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *osb, struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *resmap)</td></tr>
<tr class="separator:aab53ab6ce968f58f2c9fbdee7991c500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85c764596eef88524e5dc610904a96f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#ac85c764596eef88524e5dc610904a96f">ocfs2_resmap_restart</a> (struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *resmap, unsigned int clen, char *disk_bitmap)</td></tr>
<tr class="separator:ac85c764596eef88524e5dc610904a96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2cef9da0a1390d581fcd362728848a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#af2cef9da0a1390d581fcd362728848a7">ocfs2_resmap_uninit</a> (struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *resmap)</td></tr>
<tr class="separator:af2cef9da0a1390d581fcd362728848a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fcf2eb76672af5b073e0b03e02f13e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#a20fcf2eb76672af5b073e0b03e02f13e">ocfs2_resmap_resv_bits</a> (struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *resmap, struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *resv, int *cstart, int *clen)</td></tr>
<tr class="separator:a20fcf2eb76672af5b073e0b03e02f13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ccebc02efcaba455e2a4e19718847a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reservations_8h.html#aa4ccebc02efcaba455e2a4e19718847a">ocfs2_resmap_claimed_bits</a> (struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *resmap, struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *resv, u32 cstart, u32 clen)</td></tr>
<tr class="separator:aa4ccebc02efcaba455e2a4e19718847a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5e4a431137db2dc55b2115ae84d2808a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e4a431137db2dc55b2115ae84d2808a">&#9670;&nbsp;</a></span>OCFS2_DEFAULT_RESV_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_DEFAULT_RESV_LEVEL&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a977c0e1ad3df8f80ad5721058a62f029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a977c0e1ad3df8f80ad5721058a62f029">&#9670;&nbsp;</a></span>OCFS2_MAX_RESV_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_MAX_RESV_LEVEL&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3662cfc425c0a9308b63a2fef2b81666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3662cfc425c0a9308b63a2fef2b81666">&#9670;&nbsp;</a></span>OCFS2_MIN_RESV_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_MIN_RESV_LEVEL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed774d5a189318c21c7c212826bf3d48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed774d5a189318c21c7c212826bf3d48">&#9670;&nbsp;</a></span>OCFS2_RESV_FLAG_DIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_RESV_FLAG_DIR</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0x04    <span class="comment">/* Reservation is for an unindexed</span></div><div class="line"><span class="comment">                     * directory btree */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a1b3641b6e35ead936ae608f468b0dbaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3641b6e35ead936ae608f468b0dbaa">&#9670;&nbsp;</a></span>OCFS2_RESV_FLAG_INUSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_RESV_FLAG_INUSE&#160;&#160;&#160;0x01	/* Set when r_node is part of a btree */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a50108fbda11ed9fc935b18e5c4cbf1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50108fbda11ed9fc935b18e5c4cbf1ad">&#9670;&nbsp;</a></span>OCFS2_RESV_FLAG_TMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_RESV_FLAG_TMP</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0x02    <span class="comment">/* Temporary reservation, will be</span></div><div class="line"><span class="comment">                     * destroyed immedately after use */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a6b6a0dee9728d4532151c61da5aa1d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6a0dee9728d4532151c61da5aa1d1c">&#9670;&nbsp;</a></span>OCFS2_RESV_TYPES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCFS2_RESV_TYPES&#160;&#160;&#160;(<a class="el" href="reservations_8h.html#a50108fbda11ed9fc935b18e5c4cbf1ad">OCFS2_RESV_FLAG_TMP</a>|<a class="el" href="reservations_8h.html#aed774d5a189318c21c7c212826bf3d48">OCFS2_RESV_FLAG_DIR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3d9db031bf184ac2e11865c60ef66ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d9db031bf184ac2e11865c60ef66ebe">&#9670;&nbsp;</a></span>ocfs2_dir_resv_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_dir_resv_allowed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *&#160;</td>
          <td class="paramname"><em>osb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a3d9db031bf184ac2e11865c60ef66ebe_icgraph.png" border="0" usemap="#reservations_8h_a3d9db031bf184ac2e11865c60ef66ebe_icgraph" alt=""/></div>
<map name="reservations_8h_a3d9db031bf184ac2e11865c60ef66ebe_icgraph" id="reservations_8h_a3d9db031bf184ac2e11865c60ef66ebe_icgraph">
<area shape="rect" id="node2" href="ocfs2_2dir_8c.html#a236d2c61a007621dbd4cc32d773f56ac" title="ocfs2_expand_inline_dir" alt="" coords="212,157,373,184"/>
<area shape="rect" id="node3" href="ocfs2_2dir_8c.html#a09454d03d33d85a564767402fa84a2b8" title="ocfs2_extend_dir" alt="" coords="421,183,543,209"/>
<area shape="rect" id="node4" href="ocfs2_2dir_8c.html#af5102c35fcaf8bd2bd45a2766f1d8bfc" title="ocfs2_prepare_dx_dir\l_for_insert" alt="" coords="591,146,737,187"/>
<area shape="rect" id="node5" href="ocfs2_2dir_8h.html#a02ff8dc70b07af902ab76cb72c7d9001" title="ocfs2_prepare_dir_for\l_insert" alt="" coords="785,175,932,217"/>
<area shape="rect" id="node6" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="1264,31,1364,57"/>
<area shape="rect" id="node9" href="ocfs2_2namei_8c.html#a407460229ee2fbf7ab6ee03e7e000407" title="ocfs2_link" alt="" coords="1273,81,1355,108"/>
<area shape="rect" id="node10" href="ocfs2_2namei_8c.html#a7e52237e2e01c71acd11510cbd85fc93" title="ocfs2_rename" alt="" coords="1480,292,1584,319"/>
<area shape="rect" id="node11" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1261,183,1367,209"/>
<area shape="rect" id="node12" href="ocfs2_2namei_8c.html#a341a8f6ccfa555ab22884f7c36186353" title="__ocfs2_prepare_orphan_dir" alt="" coords="980,351,1165,377"/>
<area shape="rect" id="node24" href="namei_8h.html#ac12dc81df6540369f9e03f9547d8e554" title="ocfs2_mv_orphaned_inode\l_to_new" alt="" coords="1225,234,1403,275"/>
<area shape="rect" id="node25" href="ocfs2_2dir_8h.html#a8f08ca5cefcca5709e496cc10cfb6a08" title="ocfs2_add_entry" alt="" coords="1013,132,1132,159"/>
<area shape="rect" id="node7" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1485,56,1579,83"/>
<area shape="rect" id="node8" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1483,5,1581,32"/>
<area shape="rect" id="node13" href="ocfs2_2namei_8c.html#a4c80aa4ed5b2fc2062bab0f96421efbd" title="ocfs2_prepare_orphan_dir" alt="" coords="1229,408,1399,435"/>
<area shape="rect" id="node18" href="ocfs2_2namei_8c.html#ac41259ef4b6ba8d83d6a42c9d9f1b46f" title="ocfs2_prep_new_orphaned_file" alt="" coords="1213,351,1415,377"/>
<area shape="rect" id="node14" href="ocfs2_2namei_8c.html#ac197733698d5f9e679269372e5f8bc59" title="ocfs2_unlink" alt="" coords="1485,475,1579,501"/>
<area shape="rect" id="node15" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1463,409,1601,450"/>
<area shape="rect" id="node16" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="1649,416,1812,443"/>
<area shape="rect" id="node17" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="1863,416,1978,443"/>
<area shape="rect" id="node19" href="namei_8h.html#a33ecd2392f71252d3c6e3b31f53ae74a" title="ocfs2_create_inode\l_in_orphan" alt="" coords="1465,343,1599,385"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1683,296,1779,323"/>
<area shape="rect" id="node21" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1860,296,1981,323"/>
<area shape="rect" id="node22" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="2029,296,2156,323"/>
<area shape="rect" id="node23" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="2204,296,2289,323"/>
</map>
</div>

</div>
</div>
<a id="aa4ccebc02efcaba455e2a4e19718847a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ccebc02efcaba455e2a4e19718847a">&#9670;&nbsp;</a></span>ocfs2_resmap_claimed_bits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_resmap_claimed_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *&#160;</td>
          <td class="paramname"><em>resmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *&#160;</td>
          <td class="paramname"><em>resv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>clen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="reservations_8h.html#aa4ccebc02efcaba455e2a4e19718847a">ocfs2_resmap_claimed_bits()</a> - Tell the reservation code that bits were used. : reservations bitmap : optional reservation to recalulate based on new bitmap : start of allocation in clusters : end of allocation in clusters.</p>
<p>Tell the reservation code that bits were used to fulfill allocation in resmap. The bits don't have to have been part of any existing reservation. But we must always call this function when bits are claimed. Internally, the reservations code will use this information to mark the reservations bitmap. If resv is passed, it's next allocation window will be calculated. It also expects that 'cstart' is the same as we passed back from <a class="el" href="reservations_8h.html#a20fcf2eb76672af5b073e0b03e02f13e">ocfs2_resmap_resv_bits()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_cgraph.png" border="0" usemap="#reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_cgraph" alt=""/></div>
<map name="reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_cgraph" id="reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_cgraph">
<area shape="rect" id="node2" href="reservations_8c.html#a4b71987d7ee9bcb957d109055b907819" title="ocfs2_resmap_disabled" alt="" coords="239,5,397,32"/>
<area shape="rect" id="node3" href="reservations_8c.html#a4465fe47cda3837254e11d528e3a006f" title="ocfs2_resv_end" alt="" coords="464,60,579,87"/>
<area shape="rect" id="node4" href="reservations_8c.html#a0c17c2967d72780d1fdbecd8891b2ac5" title="ocfs2_adjust_resv_from\l_alloc" alt="" coords="237,107,399,149"/>
<area shape="rect" id="node8" href="reservations_8c.html#a973ca551600280f0969ab4f874428eda" title="ocfs2_resv_empty" alt="" coords="253,173,383,200"/>
<area shape="rect" id="node9" href="reservations_8c.html#a3185d419788ebbdb5054dd3b4c9f583c" title="ocfs2_resv_mark_lru" alt="" coords="247,224,389,251"/>
<area shape="rect" id="node10" href="reservations_8c.html#addf2e708c3cf70641d71b2187b662228" title="ocfs2_check_resmap" alt="" coords="245,275,391,301"/>
<area shape="rect" id="node5" href="reservations_8c.html#a0da735688415da618d04088d007ed3fd" title="__ocfs2_resv_discard" alt="" coords="447,115,596,141"/>
<area shape="rect" id="node6" href="reservations_8c.html#afc2501da576b092a84651df700053a0b" title="__ocfs2_resv_trunc" alt="" coords="644,89,780,116"/>
<area shape="rect" id="node7" href="reservations_8c.html#af42930a575c5c3f0ccbce557b52fda2f" title="ocfs2_resv_remove" alt="" coords="644,140,780,167"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_icgraph.png" border="0" usemap="#reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_icgraph" alt=""/></div>
<map name="reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_icgraph" id="reservations_8h_aa4ccebc02efcaba455e2a4e19718847a_icgraph">
<area shape="rect" id="node2" href="localalloc_8h.html#accd85fba37e8f13290d10d5a0a9f9487" title="ocfs2_claim_local_alloc_bits" alt="" coords="237,751,425,778"/>
<area shape="rect" id="node3" href="suballoc_8h.html#a587af25b3c0f8653e137e18f5eb05e85" title="__ocfs2_claim_clusters" alt="" coords="473,751,632,778"/>
<area shape="rect" id="node4" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="1142,487,1273,528"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="680,567,827,608"/>
<area shape="rect" id="node21" href="ocfs2_2dir_8c.html#a6ab955a1fb0a9f3005e8e8d999019050" title="__ocfs2_dx_dir_new\l_cluster" alt="" coords="683,657,824,699"/>
<area shape="rect" id="node28" href="ocfs2_2alloc_8h.html#a5d76a37a35309e3be24ff0867b40714c" title="ocfs2_add_clusters\l_in_btree" alt="" coords="1140,820,1275,861"/>
<area shape="rect" id="node36" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="683,1043,823,1070"/>
<area shape="rect" id="node39" href="refcounttree_8c.html#a40618f918f0f5670ee554336c3f28005" title="ocfs2_make_clusters\l_writable" alt="" coords="680,1225,827,1267"/>
<area shape="rect" id="node43" href="suballoc_8h.html#a1bbab17829ba85a93143b7c4e2018df4" title="ocfs2_claim_clusters" alt="" coords="681,927,826,954"/>
<area shape="rect" id="node50" href="suballoc_8h.html#a57beb6fdaa59aa35ed6da0f28fb22d4c" title="ocfs2_alloc_context\l_bits_left" alt="" coords="904,825,1043,867"/>
<area shape="rect" id="node5" href="ocfs2_2xattr_8c.html#abc07e42bdbab257433fd0a031a0bc51c" title="namevalue_size_xe" alt="" coords="1350,334,1487,361"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8c.html#ad04dd073da11a8dc508f70f54b0bbc5d" title="ocfs2_xattr_block_set" alt="" coords="1343,559,1494,586"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8c.html#ab72a34d39216ded839e76891b075014a" title="ocfs2_xe_entry_usage" alt="" coords="1555,254,1709,281"/>
<area shape="rect" id="node7" href="ocfs2_2xattr_8c.html#add7d74722b27880d2e12bbc9857a095d" title="ocfs2_xa_fill_value_buf" alt="" coords="1553,305,1711,331"/>
<area shape="rect" id="node8" href="ocfs2_2xattr_8c.html#a3364eb6e0cdc0bfae33a29556cd8972b" title="ocfs2_xa_block_can\l_reuse" alt="" coords="1561,356,1703,397"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8c.html#a844328cd6abe2ed74af564f50ab2c189" title="ocfs2_xa_block_wipe\l_namevalue" alt="" coords="1559,421,1705,463"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#ad2ece0b6a00afe2cab5a838695ac4e74" title="ocfs2_xa_bucket_can\l_reuse" alt="" coords="1557,487,1707,528"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#a1120d1a6631e9d9a4938ea96e7d729a3" title="ocfs2_xa_bucket_wipe\l_namevalue" alt="" coords="1555,552,1709,593"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#a97deea5b1b2232013101772f815402ce" title="ocfs2_xa_bucket_fill\l_value_buf" alt="" coords="1561,5,1703,47"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#a1ee917d13fb38832b483cf1956203110" title="ocfs2_xa_reuse_entry" alt="" coords="1557,71,1707,98"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#afce7c355d8a05406304e9793040663ea" title="ocfs2_defrag_xattr\l_bucket" alt="" coords="1567,123,1697,164"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#a9edfae93dd6d145beb739d211da34087" title="ocfs2_divide_xattr\l_bucket" alt="" coords="1568,188,1696,229"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#a88a615fcba1dcdc06f12cba3b5d276e7" title="__ocfs2_xattr_set_handle" alt="" coords="1547,618,1717,645"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#ae55c40c2fc68bf6013422897ecc99f2b" title="ocfs2_add_new_xattr\l_bucket" alt="" coords="900,552,1047,593"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8c.html#ae6ac024c6a5802834109f50a7153f609" title="ocfs2_xattr_set_entry\l_index_block" alt="" coords="1133,552,1281,593"/>
<area shape="rect" id="node22" href="ocfs2_2dir_8c.html#a33d146f0f149a53c83d632904d42b598" title="ocfs2_dx_dir_new_cluster" alt="" coords="887,618,1060,645"/>
<area shape="rect" id="node24" href="ocfs2_2dir_8c.html#a236d2c61a007621dbd4cc32d773f56ac" title="ocfs2_expand_inline_dir" alt="" coords="893,774,1054,801"/>
<area shape="rect" id="node27" href="ocfs2_2dir_8c.html#aa52f7cd1a3982c92f5f0af4aa4484460" title="ocfs2_expand_inline\l_dx_root" alt="" coords="1769,683,1909,724"/>
<area shape="rect" id="node23" href="ocfs2_2dir_8c.html#a6276aa7560924708752b266e4c21a937" title="ocfs2_dx_dir_rebalance" alt="" coords="1128,618,1287,645"/>
<area shape="rect" id="node25" href="ocfs2_2dir_8c.html#a09454d03d33d85a564767402fa84a2b8" title="ocfs2_extend_dir" alt="" coords="1779,770,1900,797"/>
<area shape="rect" id="node26" href="ocfs2_2dir_8c.html#af5102c35fcaf8bd2bd45a2766f1d8bfc" title="ocfs2_prepare_dx_dir\l_for_insert" alt="" coords="1957,733,2104,775"/>
<area shape="rect" id="node29" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="1352,889,1485,931"/>
<area shape="rect" id="node31" href="file_8h.html#a63c093e991f1a910b3ed9f4dd23ee0da" title="ocfs2_add_inode_data" alt="" coords="1343,821,1495,847"/>
<area shape="rect" id="node30" href="ocfs2_2xattr_8c.html#ae89d2205f229677e5d3e426af6ffc0ec" title="ocfs2_xattr_value_truncate" alt="" coords="1543,922,1721,949"/>
<area shape="rect" id="node32" href="ocfs2_2dir_8c.html#a4b5bd8d6417ad282b33d22cb47311608" title="ocfs2_do_extend_dir" alt="" coords="1561,770,1703,797"/>
<area shape="rect" id="node33" href="ocfs2_2file_8c.html#a66cc52ce30f40b3c4c79cc98a82edb4e" title="__ocfs2_extend_allocation" alt="" coords="1544,871,1720,898"/>
<area shape="rect" id="node34" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1579,719,1685,746"/>
<area shape="rect" id="node35" href="ocfs2_2aops_8c.html#a40c3e9409faea060c3fc7fbb6f22e809" title="ocfs2_write_cluster" alt="" coords="1565,821,1699,847"/>
<area shape="rect" id="node37" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="895,1204,1052,1245"/>
<area shape="rect" id="node38" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="1136,1211,1279,1238"/>
<area shape="rect" id="node40" href="refcounttree_8c.html#ab2bb74d582483f762856506528898a9f" title="ocfs2_replace_cow" alt="" coords="906,1270,1041,1297"/>
<area shape="rect" id="node41" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="1120,1266,1295,1293"/>
<area shape="rect" id="node42" href="refcounttree_8h.html#a41c7e6c165ce9f645166bde0ebb0d2e6" title="ocfs2_refcount_cow\l_xattr" alt="" coords="1138,1317,1277,1359"/>
<area shape="rect" id="node44" href="ocfs2_2xattr_8c.html#a1614bac11f5b3e5c8457161e9ac8c6b1" title="ocfs2_reflink_xattr\l_buckets" alt="" coords="909,1008,1038,1049"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8h.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="903,1073,1044,1115"/>
<area shape="rect" id="node47" href="localalloc_8c.html#a7d1d7d09659d8a02e44e696eb7911a45" title="ocfs2_local_alloc_new\l_window" alt="" coords="897,1139,1050,1180"/>
<area shape="rect" id="node48" href="suballoc_8c.html#a49e1a6971ce976e6c8767012abe9dfb5" title="ocfs2_block_group_alloc\l_contig" alt="" coords="891,891,1056,932"/>
<area shape="rect" id="node49" href="suballoc_8c.html#a557b3471581ecc138fb572507bc448f6" title="ocfs2_block_group_claim_bits" alt="" coords="875,957,1072,983"/>
<area shape="rect" id="node45" href="ocfs2_2xattr_8c.html#ae69e17a025208abd3603ee7ac7e0c248" title="ocfs2_reflink_xattr_rec" alt="" coords="1130,1023,1285,1050"/>
</map>
</div>

</div>
</div>
<a id="aab53ab6ce968f58f2c9fbdee7991c500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab53ab6ce968f58f2c9fbdee7991c500">&#9670;&nbsp;</a></span>ocfs2_resmap_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_resmap_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *&#160;</td>
          <td class="paramname"><em>osb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *&#160;</td>
          <td class="paramname"><em>resmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="reservations_8h.html#aab53ab6ce968f58f2c9fbdee7991c500">ocfs2_resmap_init()</a> - Initialize fields of a reservations bitmap : struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> to initialize : unused for now : unused for now : Maximum size of the bitmap (typically blocksize)</p>
<p>Only possible return value other than '0' is -ENOMEM for failure to allocation mirror bitmap. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_aab53ab6ce968f58f2c9fbdee7991c500_icgraph.png" border="0" usemap="#reservations_8h_aab53ab6ce968f58f2c9fbdee7991c500_icgraph" alt=""/></div>
<map name="reservations_8h_aab53ab6ce968f58f2c9fbdee7991c500_icgraph" id="reservations_8h_aab53ab6ce968f58f2c9fbdee7991c500_icgraph">
<area shape="rect" id="node2" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="181,5,328,32"/>
<area shape="rect" id="node3" href="ocfs2_2super_8c.html#aae09c84567eb36b012612fa7f187c3ee" title="ocfs2_fill_super" alt="" coords="376,5,489,32"/>
<area shape="rect" id="node4" href="ocfs2_2super_8c.html#aca38f76e33cde96ed91b51148bcdc947" title="ocfs2_mount" alt="" coords="537,5,635,32"/>
</map>
</div>

</div>
</div>
<a id="ac85c764596eef88524e5dc610904a96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85c764596eef88524e5dc610904a96f">&#9670;&nbsp;</a></span>ocfs2_resmap_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_resmap_restart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *&#160;</td>
          <td class="paramname"><em>resmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>clen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>disk_bitmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="reservations_8h.html#ac85c764596eef88524e5dc610904a96f">ocfs2_resmap_restart()</a> - "restart" a reservation bitmap : reservations bitmap : Number of valid bits in the bitmap : the disk bitmap this resmap should refer to.</p>
<p>Re-initialize the parameters of a reservation bitmap. This is useful for local alloc window slides.</p>
<p>This function will call ocfs2_trunc_resv against all existing reservations. A future version will recalculate existing reservations based on the new bitmap. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_ac85c764596eef88524e5dc610904a96f_cgraph.png" border="0" usemap="#reservations_8h_ac85c764596eef88524e5dc610904a96f_cgraph" alt=""/></div>
<map name="reservations_8h_ac85c764596eef88524e5dc610904a96f_cgraph" id="reservations_8h_ac85c764596eef88524e5dc610904a96f_cgraph">
<area shape="rect" id="node2" href="reservations_8c.html#a4b71987d7ee9bcb957d109055b907819" title="ocfs2_resmap_disabled" alt="" coords="201,5,360,32"/>
<area shape="rect" id="node3" href="reservations_8c.html#a8a69589f03bcb9f942d111965d516615" title="ocfs2_resmap_clear\l_all_resv" alt="" coords="211,57,350,98"/>
<area shape="rect" id="node4" href="reservations_8c.html#a0da735688415da618d04088d007ed3fd" title="__ocfs2_resv_discard" alt="" coords="408,64,557,91"/>
<area shape="rect" id="node5" href="reservations_8c.html#afc2501da576b092a84651df700053a0b" title="__ocfs2_resv_trunc" alt="" coords="605,39,741,65"/>
<area shape="rect" id="node6" href="reservations_8c.html#af42930a575c5c3f0ccbce557b52fda2f" title="ocfs2_resv_remove" alt="" coords="605,89,741,116"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_ac85c764596eef88524e5dc610904a96f_icgraph.png" border="0" usemap="#reservations_8h_ac85c764596eef88524e5dc610904a96f_icgraph" alt=""/></div>
<map name="reservations_8h_ac85c764596eef88524e5dc610904a96f_icgraph" id="reservations_8h_ac85c764596eef88524e5dc610904a96f_icgraph">
<area shape="rect" id="node2" href="localalloc_8c.html#a7d1d7d09659d8a02e44e696eb7911a45" title="ocfs2_local_alloc_new\l_window" alt="" coords="201,355,355,397"/>
<area shape="rect" id="node3" href="localalloc_8c.html#a7740cf43140a4dcfa0fcdf3fba6a6e71" title="ocfs2_local_alloc_slide\l_window" alt="" coords="403,355,559,397"/>
<area shape="rect" id="node4" href="localalloc_8h.html#a4838f97f118c1dc3f7984cb0ca930a1b" title="ocfs2_reserve_local\l_alloc_bits" alt="" coords="607,355,745,397"/>
<area shape="rect" id="node5" href="suballoc_8c.html#a89003f3ee98dd09d518dac696559b820" title="ocfs2_reserve_clusters\l_with_limit" alt="" coords="793,355,951,397"/>
<area shape="rect" id="node6" href="suballoc_8c.html#ac29d779ecd0c5291cb40d52119d356af" title="ocfs2_group_from_res" alt="" coords="1230,199,1381,225"/>
<area shape="rect" id="node15" href="suballoc_8c.html#a5338cc5d176104aae4982f1d5b670e69" title="ocfs2_block_group_alloc" alt="" coords="999,331,1164,357"/>
<area shape="rect" id="node37" href="suballoc_8h.html#a291db6ff2a53d7c4b3723a16d1e1c47d" title="ocfs2_reserve_clusters" alt="" coords="1466,832,1623,859"/>
<area shape="rect" id="node7" href="suballoc_8c.html#a3250196a2ac656dac7028ddbf15ab2d5" title="ocfs2_claim_suballoc_bits" alt="" coords="1457,153,1632,180"/>
<area shape="rect" id="node8" href="suballoc_8c.html#ae730042eea3956e58d55773f4c2a1967" title="ocfs2_claim_metadata" alt="" coords="1701,5,1855,32"/>
<area shape="rect" id="node9" href="suballoc_8h.html#ad288e6d6d68473bf3906b83c00069dc0" title="ocfs2_find_new_inode_loc" alt="" coords="1691,56,1865,83"/>
<area shape="rect" id="node10" href="suballoc_8h.html#afaa12ee2af467868b18acb844b990492" title="ocfs2_claim_new_inode" alt="" coords="1697,208,1859,235"/>
<area shape="rect" id="node12" href="suballoc_8h.html#a587af25b3c0f8653e137e18f5eb05e85" title="__ocfs2_claim_clusters" alt="" coords="1699,107,1857,133"/>
<area shape="rect" id="node11" href="suballoc_8h.html#a57beb6fdaa59aa35ed6da0f28fb22d4c" title="ocfs2_alloc_context\l_bits_left" alt="" coords="1937,243,2075,285"/>
<area shape="rect" id="node13" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="2374,536,2514,563"/>
<area shape="rect" id="node14" href="refcounttree_8c.html#a40618f918f0f5670ee554336c3f28005" title="ocfs2_make_clusters\l_writable" alt="" coords="2371,109,2517,150"/>
<area shape="rect" id="node16" href="suballoc_8c.html#a441b62d6f7b8fa3f6fa6f28760a16f9d" title="ocfs2_reserve_suballoc_bits" alt="" coords="1212,331,1399,357"/>
<area shape="rect" id="node17" href="suballoc_8c.html#a9e2ef58a13488596aa24258cebd9eded" title="ocfs2_steal_resource" alt="" coords="1471,251,1618,277"/>
<area shape="rect" id="node18" href="suballoc_8h.html#a0f85a41915376c3a6c47e8f47439e43e" title="ocfs2_reserve_new_metadata\l_blocks" alt="" coords="1447,353,1643,394"/>
<area shape="rect" id="node35" href="suballoc_8h.html#a2db60c34ba236901ed95e34e28991477" title="ocfs2_reserve_new_inode" alt="" coords="1691,157,1865,184"/>
<area shape="rect" id="node36" href="suballoc_8h.html#a7bcc38229054bef6aa0c67b2b75ce20e" title="ocfs2_reserve_cluster\l_bitmap_bits" alt="" coords="1469,418,1620,459"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#a2ef97c93c521d754c2bf3b62246c32c0" title="ocfs2_init_xattr_set_ctxt" alt="" coords="1695,563,1861,589"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#a9327965d620520d211a7534ceeab0725" title="ocfs2_lock_reflink\l_xattr_rec_allocators" alt="" coords="2161,657,2304,698"/>
<area shape="rect" id="node23" href="ocfs2_2dir_8c.html#a236d2c61a007621dbd4cc32d773f56ac" title="ocfs2_expand_inline_dir" alt="" coords="1697,883,1859,909"/>
<area shape="rect" id="node27" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="2573,336,2673,363"/>
<area shape="rect" id="node31" href="move__extents_8c.html#a5c640b9ae4f5ebca328ad95e98655e46" title="ocfs2_lock_allocators\l_move_extents" alt="" coords="2159,589,2307,630"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a7eb874dea541ba376c9f97784f5ae89c" title="ocfs2_lock_refcount\l_allocators" alt="" coords="2163,465,2302,506"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="1950,512,2062,539"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#ae69e17a025208abd3603ee7ac7e0c248" title="ocfs2_reflink_xattr_rec" alt="" coords="2367,664,2521,691"/>
<area shape="rect" id="node24" href="ocfs2_2dir_8c.html#a09454d03d33d85a564767402fa84a2b8" title="ocfs2_extend_dir" alt="" coords="1945,1051,2067,1077"/>
<area shape="rect" id="node25" href="ocfs2_2dir_8c.html#af5102c35fcaf8bd2bd45a2766f1d8bfc" title="ocfs2_prepare_dx_dir\l_for_insert" alt="" coords="2159,1097,2306,1138"/>
<area shape="rect" id="node26" href="ocfs2_2dir_8h.html#a02ff8dc70b07af902ab76cb72c7d9001" title="ocfs2_prepare_dir_for\l_insert" alt="" coords="2371,1038,2517,1079"/>
<area shape="rect" id="node30" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="2569,1045,2676,1072"/>
<area shape="rect" id="node28" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="2726,311,2819,337"/>
<area shape="rect" id="node29" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="2724,361,2821,388"/>
<area shape="rect" id="node32" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="2376,596,2512,623"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#ac6c71598086263407c7a6e76d68a3871" title="ocfs2_add_refcounted\l_extent" alt="" coords="2369,465,2519,506"/>
<area shape="rect" id="node38" href="ocfs2_2dir_8c.html#aa52f7cd1a3982c92f5f0af4aa4484460" title="ocfs2_expand_inline\l_dx_root" alt="" coords="1708,1297,1848,1338"/>
<area shape="rect" id="node39" href="ocfs2_2alloc_8h.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="1707,766,1849,807"/>
<area shape="rect" id="node46" href="suballoc_8h.html#ab792ebc5160d52da3138ad9df9a229cc" title="ocfs2_lock_allocators" alt="" coords="1704,1177,1852,1204"/>
<area shape="rect" id="node40" href="ocfs2_2file_8c.html#a036f93658584b3bf043fb99bc004a82d" title="ocfs2_extend_file" alt="" coords="1944,781,2068,808"/>
<area shape="rect" id="node41" href="ocfs2_2file_8c.html#ae7e56a574deffdb7e38730935792e7a2" title="ocfs2_allocate_unwritten\l_extents" alt="" coords="2149,958,2316,999"/>
<area shape="rect" id="node42" href="ocfs2_2aops_8c.html#aa2ce27885380672a9c0fce8aa06dafa9" title="ocfs2_try_to_write\l_inline_data" alt="" coords="1941,883,2071,925"/>
<area shape="rect" id="node44" href="ocfs2_2alloc_8h.html#a95da12647f3cb6c62609865d60714e3b" title="ocfs2_extend_meta_needed" alt="" coords="1913,664,2099,691"/>
<area shape="rect" id="node45" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1937,715,2075,757"/>
<area shape="rect" id="node43" href="ocfs2_2aops_8h.html#a3ff7132d9ee29a0eecdec3a95c833f18" title="ocfs2_write_begin_nolock" alt="" coords="2147,896,2319,923"/>
<area shape="rect" id="node47" href="ocfs2_2xattr_8c.html#a5b5f9f1d85918bcfe3fbb25c55020799" title="ocfs2_rm_xattr_cluster" alt="" coords="1929,1203,2083,1229"/>
<area shape="rect" id="node48" href="ocfs2_2dir_8c.html#a6276aa7560924708752b266e4c21a937" title="ocfs2_dx_dir_rebalance" alt="" coords="1927,1253,2085,1280"/>
<area shape="rect" id="node49" href="ocfs2_2file_8c.html#a66cc52ce30f40b3c4c79cc98a82edb4e" title="__ocfs2_extend_allocation" alt="" coords="1918,1304,2094,1331"/>
<area shape="rect" id="node50" href="ocfs2_2aops_8c.html#ae785827a2b62b295dea34574efcaeed4" title="ocfs2_dio_end_io_write" alt="" coords="1927,1101,2085,1128"/>
</map>
</div>

</div>
</div>
<a id="a20fcf2eb76672af5b073e0b03e02f13e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20fcf2eb76672af5b073e0b03e02f13e">&#9670;&nbsp;</a></span>ocfs2_resmap_resv_bits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_resmap_resv_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *&#160;</td>
          <td class="paramname"><em>resmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *&#160;</td>
          <td class="paramname"><em>resv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>cstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>clen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="reservations_8h.html#a20fcf2eb76672af5b073e0b03e02f13e">ocfs2_resmap_resv_bits()</a> - Return still-valid reservation bits : reservations bitmap : reservation to base search from : start of proposed allocation : length (in clusters) of proposed allocation</p>
<p>Using the reservation data from resv, this function will compare resmap and resmap-&gt;m_disk_bitmap to determine what part (if any) of the reservation window is still clear to use. If resv is empty, this function will try to allocate a window for it.</p>
<p>On success, zero is returned and the valid allocation area is set in cstart and clen.</p>
<p>Returns -ENOSPC if reservations are disabled. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_cgraph.png" border="0" usemap="#reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_cgraph" alt=""/></div>
<map name="reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_cgraph" id="reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_cgraph">
<area shape="rect" id="node2" href="reservations_8c.html#a4b71987d7ee9bcb957d109055b907819" title="ocfs2_resmap_disabled" alt="" coords="221,56,379,83"/>
<area shape="rect" id="node3" href="reservations_8c.html#a973ca551600280f0969ab4f874428eda" title="ocfs2_resv_empty" alt="" coords="455,107,585,133"/>
<area shape="rect" id="node4" href="reservations_8c.html#afcfc4e342eb685c6082736be570c3c54" title="ocfs2_resv_window_bits" alt="" coords="669,360,835,387"/>
<area shape="rect" id="node5" href="reservations_8c.html#ac6cf29209d5dbfec7b346bd0ab23d3a7" title="ocfs2_resv_find_window" alt="" coords="217,157,383,184"/>
<area shape="rect" id="node6" href="reservations_8c.html#a8971bf43fa05c5fe873a2c1938ebaf59" title="__ocfs2_resv_find_window" alt="" coords="431,157,609,184"/>
<area shape="rect" id="node14" href="reservations_8c.html#acedec84d52045b6a1d877c6169d32b06" title="ocfs2_cannibalize_resv" alt="" coords="441,259,599,285"/>
<area shape="rect" id="node7" href="reservations_8c.html#a4465fe47cda3837254e11d528e3a006f" title="ocfs2_resv_end" alt="" coords="911,157,1025,184"/>
<area shape="rect" id="node8" href="reservations_8c.html#a840e5fc593dc51c789b2860a9edf4a37" title="ocfs2_resmap_find_free_bits" alt="" coords="657,56,847,83"/>
<area shape="rect" id="node9" href="reservations_8c.html#a7ec08680eb113c00c61a656483c879da" title="ocfs2_resv_insert" alt="" coords="689,259,815,285"/>
<area shape="rect" id="node12" href="reservations_8c.html#af6a233c0763415d9bc1c09f9e43a1d4f" title="ocfs2_find_resv_lhs" alt="" coords="683,5,821,32"/>
<area shape="rect" id="node13" href="reservations_8c.html#a058020243c5bac72ca6238d29d485d92" title="ocfs2_dump_resv" alt="" coords="689,157,815,184"/>
<area shape="rect" id="node10" href="reservations_8c.html#a3185d419788ebbdb5054dd3b4c9f583c" title="ocfs2_resv_mark_lru" alt="" coords="897,259,1039,285"/>
<area shape="rect" id="node11" href="reservations_8c.html#addf2e708c3cf70641d71b2187b662228" title="ocfs2_check_resmap" alt="" coords="895,208,1041,235"/>
<area shape="rect" id="node15" href="reservations_8c.html#a0da735688415da618d04088d007ed3fd" title="__ocfs2_resv_discard" alt="" coords="677,309,827,336"/>
<area shape="rect" id="node16" href="reservations_8c.html#afc2501da576b092a84651df700053a0b" title="__ocfs2_resv_trunc" alt="" coords="900,360,1036,387"/>
<area shape="rect" id="node17" href="reservations_8c.html#af42930a575c5c3f0ccbce557b52fda2f" title="ocfs2_resv_remove" alt="" coords="900,309,1036,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_icgraph.png" border="0" usemap="#reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_icgraph" alt=""/></div>
<map name="reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_icgraph" id="reservations_8h_a20fcf2eb76672af5b073e0b03e02f13e_icgraph">
<area shape="rect" id="node2" href="localalloc_8c.html#a67a6710725b31fd02480552e6cd511dc" title="ocfs2_local_alloc_find\l_clear_bits" alt="" coords="217,788,368,829"/>
<area shape="rect" id="node3" href="localalloc_8h.html#accd85fba37e8f13290d10d5a0a9f9487" title="ocfs2_claim_local_alloc_bits" alt="" coords="416,795,604,822"/>
<area shape="rect" id="node4" href="suballoc_8h.html#a587af25b3c0f8653e137e18f5eb05e85" title="__ocfs2_claim_clusters" alt="" coords="652,795,811,822"/>
<area shape="rect" id="node5" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="1321,552,1451,593"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="859,491,1005,532"/>
<area shape="rect" id="node22" href="ocfs2_2dir_8c.html#a6ab955a1fb0a9f3005e8e8d999019050" title="__ocfs2_dx_dir_new\l_cluster" alt="" coords="861,683,1003,724"/>
<area shape="rect" id="node29" href="ocfs2_2alloc_8h.html#a5d76a37a35309e3be24ff0867b40714c" title="ocfs2_add_clusters\l_in_btree" alt="" coords="1319,805,1453,847"/>
<area shape="rect" id="node37" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="862,1039,1002,1066"/>
<area shape="rect" id="node40" href="refcounttree_8c.html#a40618f918f0f5670ee554336c3f28005" title="ocfs2_make_clusters\l_writable" alt="" coords="859,1221,1005,1263"/>
<area shape="rect" id="node44" href="suballoc_8h.html#a1bbab17829ba85a93143b7c4e2018df4" title="ocfs2_claim_clusters" alt="" coords="859,923,1005,950"/>
<area shape="rect" id="node50" href="suballoc_8h.html#a57beb6fdaa59aa35ed6da0f28fb22d4c" title="ocfs2_alloc_context\l_bits_left" alt="" coords="1083,821,1221,863"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8c.html#abc07e42bdbab257433fd0a031a0bc51c" title="namevalue_size_xe" alt="" coords="1529,334,1666,361"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#ad04dd073da11a8dc508f70f54b0bbc5d" title="ocfs2_xattr_block_set" alt="" coords="1522,559,1673,586"/>
<area shape="rect" id="node7" href="ocfs2_2xattr_8c.html#ab72a34d39216ded839e76891b075014a" title="ocfs2_xe_entry_usage" alt="" coords="1734,254,1887,281"/>
<area shape="rect" id="node8" href="ocfs2_2xattr_8c.html#add7d74722b27880d2e12bbc9857a095d" title="ocfs2_xa_fill_value_buf" alt="" coords="1731,305,1890,331"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8c.html#a3364eb6e0cdc0bfae33a29556cd8972b" title="ocfs2_xa_block_can\l_reuse" alt="" coords="1740,356,1881,397"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#a844328cd6abe2ed74af564f50ab2c189" title="ocfs2_xa_block_wipe\l_namevalue" alt="" coords="1737,421,1884,463"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#ad2ece0b6a00afe2cab5a838695ac4e74" title="ocfs2_xa_bucket_can\l_reuse" alt="" coords="1736,487,1885,528"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#a1120d1a6631e9d9a4938ea96e7d729a3" title="ocfs2_xa_bucket_wipe\l_namevalue" alt="" coords="1733,552,1888,593"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#a97deea5b1b2232013101772f815402ce" title="ocfs2_xa_bucket_fill\l_value_buf" alt="" coords="1740,5,1881,47"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#a1ee917d13fb38832b483cf1956203110" title="ocfs2_xa_reuse_entry" alt="" coords="1735,71,1886,98"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#afce7c355d8a05406304e9793040663ea" title="ocfs2_defrag_xattr\l_bucket" alt="" coords="1745,123,1876,164"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8c.html#a9edfae93dd6d145beb739d211da34087" title="ocfs2_divide_xattr\l_bucket" alt="" coords="1747,188,1875,229"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#a88a615fcba1dcdc06f12cba3b5d276e7" title="__ocfs2_xattr_set_handle" alt="" coords="1725,618,1896,645"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8c.html#ae55c40c2fc68bf6013422897ecc99f2b" title="ocfs2_add_new_xattr\l_bucket" alt="" coords="1079,488,1225,529"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#ae6ac024c6a5802834109f50a7153f609" title="ocfs2_xattr_set_entry\l_index_block" alt="" coords="1312,487,1460,528"/>
<area shape="rect" id="node23" href="ocfs2_2dir_8c.html#a33d146f0f149a53c83d632904d42b598" title="ocfs2_dx_dir_new_cluster" alt="" coords="1065,618,1239,645"/>
<area shape="rect" id="node25" href="ocfs2_2dir_8c.html#a236d2c61a007621dbd4cc32d773f56ac" title="ocfs2_expand_inline_dir" alt="" coords="1071,719,1233,746"/>
<area shape="rect" id="node28" href="ocfs2_2dir_8c.html#aa52f7cd1a3982c92f5f0af4aa4484460" title="ocfs2_expand_inline\l_dx_root" alt="" coords="1948,661,2088,703"/>
<area shape="rect" id="node24" href="ocfs2_2dir_8c.html#a6276aa7560924708752b266e4c21a937" title="ocfs2_dx_dir_rebalance" alt="" coords="1307,618,1465,645"/>
<area shape="rect" id="node26" href="ocfs2_2dir_8c.html#a09454d03d33d85a564767402fa84a2b8" title="ocfs2_extend_dir" alt="" coords="1957,727,2079,754"/>
<area shape="rect" id="node27" href="ocfs2_2dir_8c.html#af5102c35fcaf8bd2bd45a2766f1d8bfc" title="ocfs2_prepare_dx_dir\l_for_insert" alt="" coords="2136,691,2283,732"/>
<area shape="rect" id="node30" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="1531,788,1664,829"/>
<area shape="rect" id="node32" href="file_8h.html#a63c093e991f1a910b3ed9f4dd23ee0da" title="ocfs2_add_inode_data" alt="" coords="1521,871,1673,898"/>
<area shape="rect" id="node31" href="ocfs2_2xattr_8c.html#ae89d2205f229677e5d3e426af6ffc0ec" title="ocfs2_xattr_value_truncate" alt="" coords="1721,770,1900,797"/>
<area shape="rect" id="node33" href="ocfs2_2dir_8c.html#a4b5bd8d6417ad282b33d22cb47311608" title="ocfs2_do_extend_dir" alt="" coords="1739,973,1882,999"/>
<area shape="rect" id="node34" href="ocfs2_2file_8c.html#a66cc52ce30f40b3c4c79cc98a82edb4e" title="__ocfs2_extend_allocation" alt="" coords="1723,871,1899,898"/>
<area shape="rect" id="node35" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1757,922,1864,949"/>
<area shape="rect" id="node36" href="ocfs2_2aops_8c.html#a40c3e9409faea060c3fc7fbb6f22e809" title="ocfs2_write_cluster" alt="" coords="1743,821,1878,847"/>
<area shape="rect" id="node38" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="1073,1200,1231,1241"/>
<area shape="rect" id="node39" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="1315,1207,1457,1234"/>
<area shape="rect" id="node41" href="refcounttree_8c.html#ab2bb74d582483f762856506528898a9f" title="ocfs2_replace_cow" alt="" coords="1085,1266,1219,1293"/>
<area shape="rect" id="node42" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="1299,1325,1473,1351"/>
<area shape="rect" id="node43" href="refcounttree_8h.html#a41c7e6c165ce9f645166bde0ebb0d2e6" title="ocfs2_refcount_cow\l_xattr" alt="" coords="1317,1259,1455,1300"/>
<area shape="rect" id="node45" href="ocfs2_2xattr_8c.html#a1614bac11f5b3e5c8457161e9ac8c6b1" title="ocfs2_reflink_xattr\l_buckets" alt="" coords="1087,1004,1217,1045"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8h.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="1081,1069,1223,1111"/>
<area shape="rect" id="node47" href="localalloc_8c.html#a7d1d7d09659d8a02e44e696eb7911a45" title="ocfs2_local_alloc_new\l_window" alt="" coords="1075,1135,1229,1176"/>
<area shape="rect" id="node48" href="suballoc_8c.html#a49e1a6971ce976e6c8767012abe9dfb5" title="ocfs2_block_group_alloc\l_contig" alt="" coords="1069,887,1235,928"/>
<area shape="rect" id="node49" href="suballoc_8c.html#a557b3471581ecc138fb572507bc448f6" title="ocfs2_block_group_claim_bits" alt="" coords="1053,953,1251,979"/>
</map>
</div>

</div>
</div>
<a id="af2cef9da0a1390d581fcd362728848a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2cef9da0a1390d581fcd362728848a7">&#9670;&nbsp;</a></span>ocfs2_resmap_uninit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_resmap_uninit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *&#160;</td>
          <td class="paramname"><em>resmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="reservations_8h.html#af2cef9da0a1390d581fcd362728848a7">ocfs2_resmap_uninit()</a> - uninitialize a reservation bitmap structure : the struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> to uninitialize </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_af2cef9da0a1390d581fcd362728848a7_icgraph.png" border="0" usemap="#reservations_8h_af2cef9da0a1390d581fcd362728848a7_icgraph" alt=""/></div>
<map name="reservations_8h_af2cef9da0a1390d581fcd362728848a7_icgraph" id="reservations_8h_af2cef9da0a1390d581fcd362728848a7_icgraph">
<area shape="rect" id="node2" href="localalloc_8h.html#a8fbc82a8845bb324b08275787671acb3" title="ocfs2_shutdown_local\l_alloc" alt="" coords="196,23,347,65"/>
<area shape="rect" id="node3" href="ocfs2_2super_8c.html#ab8ac59c1ccfd6cef5e59b3a07541d4a7" title="ocfs2_dismount_volume" alt="" coords="395,31,557,57"/>
<area shape="rect" id="node4" href="ocfs2_2super_8c.html#aae09c84567eb36b012612fa7f187c3ee" title="ocfs2_fill_super" alt="" coords="608,5,721,32"/>
<area shape="rect" id="node6" href="ocfs2_2super_8c.html#a1ca57750a666c39bec18126d25fcf956" title="ocfs2_put_super" alt="" coords="605,56,724,83"/>
<area shape="rect" id="node5" href="ocfs2_2super_8c.html#aca38f76e33cde96ed91b51148bcdc947" title="ocfs2_mount" alt="" coords="772,5,869,32"/>
</map>
</div>

</div>
</div>
<a id="a1754a30476e23189f7891383639c720e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1754a30476e23189f7891383639c720e">&#9670;&nbsp;</a></span>ocfs2_resv_discard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_resv_discard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__reservation__map.html">ocfs2_reservation_map</a> *&#160;</td>
          <td class="paramname"><em>resmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *&#160;</td>
          <td class="paramname"><em>resv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="reservations_8h.html#a1754a30476e23189f7891383639c720e">ocfs2_resv_discard()</a> - truncate a reservation : : the reservation to truncate.</p>
<p>After this function is called, the reservation will be empty, and unlinked from the rbtree. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a1754a30476e23189f7891383639c720e_cgraph.png" border="0" usemap="#reservations_8h_a1754a30476e23189f7891383639c720e_cgraph" alt=""/></div>
<map name="reservations_8h_a1754a30476e23189f7891383639c720e_cgraph" id="reservations_8h_a1754a30476e23189f7891383639c720e_cgraph">
<area shape="rect" id="node2" href="reservations_8c.html#a0da735688415da618d04088d007ed3fd" title="__ocfs2_resv_discard" alt="" coords="188,31,337,57"/>
<area shape="rect" id="node3" href="reservations_8c.html#afc2501da576b092a84651df700053a0b" title="__ocfs2_resv_trunc" alt="" coords="385,5,521,32"/>
<area shape="rect" id="node4" href="reservations_8c.html#af42930a575c5c3f0ccbce557b52fda2f" title="ocfs2_resv_remove" alt="" coords="385,56,521,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a1754a30476e23189f7891383639c720e_icgraph.png" border="0" usemap="#reservations_8h_a1754a30476e23189f7891383639c720e_icgraph" alt=""/></div>
<map name="reservations_8h_a1754a30476e23189f7891383639c720e_icgraph" id="reservations_8h_a1754a30476e23189f7891383639c720e_icgraph">
<area shape="rect" id="node2" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="197,105,329,132"/>
<area shape="rect" id="node11" href="ocfs2_2inode_8c.html#a8477d7b86036937128d6171266847e1d" title="ocfs2_clear_inode" alt="" coords="200,1007,327,1033"/>
<area shape="rect" id="node50" href="localalloc_8c.html#a67a6710725b31fd02480552e6cd511dc" title="ocfs2_local_alloc_find\l_clear_bits" alt="" coords="188,182,339,223"/>
<area shape="rect" id="node3" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="416,5,515,32"/>
<area shape="rect" id="node4" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="396,57,535,98"/>
<area shape="rect" id="node7" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="387,123,544,149"/>
<area shape="rect" id="node5" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="596,51,759,77"/>
<area shape="rect" id="node6" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="847,37,962,64"/>
<area shape="rect" id="node8" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="592,123,763,149"/>
<area shape="rect" id="node9" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="831,88,978,115"/>
<area shape="rect" id="node10" href="journal_8h.html#a1f4038c3558ccccf97b75aeeb079c898" title="ocfs2_ci_set_new" alt="" coords="841,139,968,165"/>
<area shape="rect" id="node12" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="402,1057,529,1084"/>
<area shape="rect" id="node13" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="617,1057,737,1084"/>
<area shape="rect" id="node14" href="ocfs2_2acl_8c.html#ad8155a643e529db15d8918377f98abd8" title="ocfs2_acl_set_mode" alt="" coords="833,931,976,957"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#a96c43b719a7120c59e84896221db877d" title="ocfs2_init_xattr_bucket" alt="" coords="1048,873,1205,900"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="1263,649,1393,690"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#ad1aa05ef05d854e39ea3cd5ec6a50827" title="ocfs2_read_xattr_bucket" alt="" coords="822,1083,987,1109"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#aa07bd6873d99f2122a3b550bf277be6f" title="ocfs2_xattr_bucket\l_journal_access" alt="" coords="1060,1005,1193,1046"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#a42d360253b794d1a8e5e52b1c3036700" title="ocfs2_read_xattr_block" alt="" coords="826,1133,983,1160"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="838,1185,971,1226"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#ae6b808966b9f4dc5de011d7b23269e71" title="__ocfs2_remove_xattr\l_range" alt="" coords="829,1250,980,1291"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#af8b3d0ad178d83a6341c5dd8c8620076" title="ocfs2_xattr_shrink_size" alt="" coords="1047,1287,1207,1313"/>
<area shape="rect" id="node23" href="ocfs2_2xattr_8c.html#ac2013e7127a758c673c4e7faa736d89c" title="ocfs2_xattr_get_value\l_outside" alt="" coords="829,1367,980,1409"/>
<area shape="rect" id="node24" href="ocfs2_2xattr_8c.html#a2b2bfbe075c28e54871f8e5394ff2c31" title="__ocfs2_xattr_set_value\l_outside" alt="" coords="823,1433,987,1474"/>
<area shape="rect" id="node25" href="ocfs2_2xattr_8c.html#a8b5477ce21819f1571f7904cc35a074d" title="ocfs2_xa_block_journal\l_access" alt="" coords="825,1498,984,1539"/>
<area shape="rect" id="node26" href="ocfs2_2xattr_8h.html#ad349a9842e74c6957ded49a7b5e8e703" title="ocfs2_xattr_remove" alt="" coords="836,1564,973,1591"/>
<area shape="rect" id="node27" href="ocfs2_2xattr_8c.html#a5f12f936020f785dfea81bbbed31c034" title="ocfs2_xattr_ibody_init" alt="" coords="830,1615,979,1641"/>
<area shape="rect" id="node28" href="ocfs2_2xattr_8c.html#a2f294522ecc0c1d114fd653629f40dc9" title="ocfs2_create_xattr\l_block" alt="" coords="839,1666,970,1707"/>
<area shape="rect" id="node29" href="ocfs2_2xattr_8c.html#a88a615fcba1dcdc06f12cba3b5d276e7" title="__ocfs2_xattr_set_handle" alt="" coords="819,1732,990,1759"/>
<area shape="rect" id="node30" href="ocfs2_2xattr_8c.html#ac584486f06a45340008c3f6f4ffae483" title="ocfs2_xattr_get_rec" alt="" coords="836,1783,973,1809"/>
<area shape="rect" id="node31" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="1255,207,1401,249"/>
<area shape="rect" id="node32" href="ocfs2_2xattr_8c.html#a5b5f9f1d85918bcfe3fbb25c55020799" title="ocfs2_rm_xattr_cluster" alt="" coords="827,1833,982,1860"/>
<area shape="rect" id="node33" href="ocfs2_2xattr_8c.html#a9c2e8053f6e7c3b1948b65d3b25bf110" title="ocfs2_xattr_attach\l_refcount_normal" alt="" coords="839,1885,970,1926"/>
<area shape="rect" id="node34" href="ocfs2_2xattr_8c.html#a2f4efbb40d338d2048c274c5792be682" title="ocfs2_reflink_xattr\l_header" alt="" coords="840,2002,969,2043"/>
<area shape="rect" id="node35" href="ocfs2_2xattr_8c.html#ab453dafa694f61e57d1f2696dfc29ec5" title="ocfs2_reflink_xattr\l_inline" alt="" coords="1062,1969,1191,2010"/>
<area shape="rect" id="node36" href="ocfs2_2xattr_8c.html#a04400b8672b731f7ea358223329cbc35" title="ocfs2_reflink_xattr\l_block" alt="" coords="1062,2047,1191,2089"/>
<area shape="rect" id="node37" href="ocfs2_2xattr_8c.html#ae69e17a025208abd3603ee7ac7e0c248" title="ocfs2_reflink_xattr_rec" alt="" coords="827,291,982,317"/>
<area shape="rect" id="node38" href="ocfs2_2dir_8c.html#a64f25cc8db0406bc150978e54dec8223" title="ocfs2_dx_dir_link_trailer" alt="" coords="823,341,986,368"/>
<area shape="rect" id="node39" href="ocfs2_2dir_8c.html#aabf78ff526bcd0f34cfbe58a5e56b591" title="ocfs2_read_dir_block\l_direct" alt="" coords="832,393,977,434"/>
<area shape="rect" id="node40" href="ocfs2_2dir_8c.html#ad74676c5881b47d4a36f1844b3133697" title="ocfs2_read_dx_root" alt="" coords="837,509,973,536"/>
<area shape="rect" id="node41" href="ocfs2_2dir_8c.html#a3e94dba701dbc0dac544e9b63588a21f" title="ocfs2_read_dx_leaf" alt="" coords="837,560,972,587"/>
<area shape="rect" id="node42" href="ocfs2_2dir_8c.html#a77e98d9f0433d75d7bf2eca49dc11852" title="ocfs2_read_dx_leaves" alt="" coords="829,611,981,637"/>
<area shape="rect" id="node43" href="ocfs2_2dir_8c.html#a50df695710a1d518014cfb065de2503a" title="ocfs2_dx_dir_lookup_rec" alt="" coords="821,661,988,688"/>
<area shape="rect" id="node44" href="ocfs2_2dir_8h.html#a008e79005124d9677b3e8d293742dd4f" title="ocfs2_update_entry" alt="" coords="837,712,973,739"/>
<area shape="rect" id="node45" href="ocfs2_2dir_8c.html#acc38fe53ebb02cdffa1f197fc0dc9949" title="__ocfs2_delete_entry" alt="" coords="831,813,978,840"/>
<area shape="rect" id="node46" href="ocfs2_2dir_8c.html#a68822abebae6969ac68623c9f783ec9b" title="ocfs2_delete_entry_dx" alt="" coords="1050,783,1203,809"/>
<area shape="rect" id="node47" href="ocfs2_2dir_8c.html#a1d621623e6c52f0336b3de2ce523b81b" title="__ocfs2_dx_dir_leaf\l_insert" alt="" coords="835,865,974,906"/>
<area shape="rect" id="node48" href="localalloc_8h.html#accd85fba37e8f13290d10d5a0a9f9487" title="ocfs2_claim_local_alloc_bits" alt="" coords="811,189,999,216"/>
<area shape="rect" id="node49" href="suballoc_8h.html#a587af25b3c0f8653e137e18f5eb05e85" title="__ocfs2_claim_clusters" alt="" coords="1047,189,1206,216"/>
</map>
</div>

</div>
</div>
<a id="a4169847b86042d9db950df8220b2ad1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4169847b86042d9db950df8220b2ad1a">&#9670;&nbsp;</a></span>ocfs2_resv_init_once()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_resv_init_once </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *&#160;</td>
          <td class="paramname"><em>resv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a4169847b86042d9db950df8220b2ad1a_icgraph.png" border="0" usemap="#reservations_8h_a4169847b86042d9db950df8220b2ad1a_icgraph" alt=""/></div>
<map name="reservations_8h_a4169847b86042d9db950df8220b2ad1a_icgraph" id="reservations_8h_a4169847b86042d9db950df8220b2ad1a_icgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8c.html#a8477d7b86036937128d6171266847e1d" title="ocfs2_clear_inode" alt="" coords="199,1155,325,1181"/>
<area shape="rect" id="node45" href="ocfs2_2super_8c.html#aff93daf9c68c518d9933152b39c06a16" title="ocfs2_inode_init_once" alt="" coords="759,2268,909,2295"/>
<area shape="rect" id="node50" href="localalloc_8c.html#a67a6710725b31fd02480552e6cd511dc" title="ocfs2_local_alloc_find\l_clear_bits" alt="" coords="373,503,524,545"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="385,1180,512,1207"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="572,1155,692,1181"/>
<area shape="rect" id="node5" href="ocfs2_2acl_8c.html#ad8155a643e529db15d8918377f98abd8" title="ocfs2_acl_set_mode" alt="" coords="763,492,905,519"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8c.html#a96c43b719a7120c59e84896221db877d" title="ocfs2_init_xattr_bucket" alt="" coords="977,157,1135,184"/>
<area shape="rect" id="node7" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="1192,125,1323,166"/>
<area shape="rect" id="node8" href="ocfs2_2xattr_8c.html#ad1aa05ef05d854e39ea3cd5ec6a50827" title="ocfs2_read_xattr_bucket" alt="" coords="751,593,917,620"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8c.html#aa07bd6873d99f2122a3b550bf277be6f" title="ocfs2_xattr_bucket\l_journal_access" alt="" coords="989,209,1123,250"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#a42d360253b794d1a8e5e52b1c3036700" title="ocfs2_read_xattr_block" alt="" coords="755,644,913,671"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="767,695,901,737"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#ae6b808966b9f4dc5de011d7b23269e71" title="__ocfs2_remove_xattr\l_range" alt="" coords="759,761,909,802"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#af8b3d0ad178d83a6341c5dd8c8620076" title="ocfs2_xattr_shrink_size" alt="" coords="976,656,1136,683"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#ac2013e7127a758c673c4e7faa736d89c" title="ocfs2_xattr_get_value\l_outside" alt="" coords="759,878,909,919"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#a2b2bfbe075c28e54871f8e5394ff2c31" title="__ocfs2_xattr_set_value\l_outside" alt="" coords="752,943,916,985"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8c.html#a8b5477ce21819f1571f7904cc35a074d" title="ocfs2_xa_block_journal\l_access" alt="" coords="755,1009,913,1050"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8h.html#ad349a9842e74c6957ded49a7b5e8e703" title="ocfs2_xattr_remove" alt="" coords="765,1075,903,1101"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#a5f12f936020f785dfea81bbbed31c034" title="ocfs2_xattr_ibody_init" alt="" coords="759,1125,909,1152"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#a2f294522ecc0c1d114fd653629f40dc9" title="ocfs2_create_xattr\l_block" alt="" coords="769,1177,899,1218"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8c.html#a88a615fcba1dcdc06f12cba3b5d276e7" title="__ocfs2_xattr_set_handle" alt="" coords="749,1243,919,1269"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#ac584486f06a45340008c3f6f4ffae483" title="ocfs2_xattr_get_rec" alt="" coords="765,1293,903,1320"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="1184,246,1331,287"/>
<area shape="rect" id="node23" href="ocfs2_2xattr_8c.html#a5b5f9f1d85918bcfe3fbb25c55020799" title="ocfs2_rm_xattr_cluster" alt="" coords="757,1344,911,1371"/>
<area shape="rect" id="node24" href="ocfs2_2xattr_8c.html#a9c2e8053f6e7c3b1948b65d3b25bf110" title="ocfs2_xattr_attach\l_refcount_normal" alt="" coords="769,1395,899,1437"/>
<area shape="rect" id="node25" href="ocfs2_2xattr_8c.html#a2f4efbb40d338d2048c274c5792be682" title="ocfs2_reflink_xattr\l_header" alt="" coords="769,1578,899,1619"/>
<area shape="rect" id="node26" href="ocfs2_2xattr_8c.html#ab453dafa694f61e57d1f2696dfc29ec5" title="ocfs2_reflink_xattr\l_inline" alt="" coords="991,1549,1121,1590"/>
<area shape="rect" id="node27" href="ocfs2_2xattr_8c.html#a04400b8672b731f7ea358223329cbc35" title="ocfs2_reflink_xattr\l_block" alt="" coords="991,1817,1121,1858"/>
<area shape="rect" id="node28" href="ocfs2_2xattr_8c.html#ae69e17a025208abd3603ee7ac7e0c248" title="ocfs2_reflink_xattr_rec" alt="" coords="757,1644,911,1671"/>
<area shape="rect" id="node29" href="ocfs2_2dir_8c.html#a64f25cc8db0406bc150978e54dec8223" title="ocfs2_dx_dir_link_trailer" alt="" coords="753,1695,915,1721"/>
<area shape="rect" id="node30" href="ocfs2_2dir_8c.html#aabf78ff526bcd0f34cfbe58a5e56b591" title="ocfs2_read_dir_block\l_direct" alt="" coords="761,1746,907,1787"/>
<area shape="rect" id="node31" href="ocfs2_2dir_8c.html#ad74676c5881b47d4a36f1844b3133697" title="ocfs2_read_dx_root" alt="" coords="766,1812,902,1839"/>
<area shape="rect" id="node32" href="ocfs2_2dir_8c.html#a3e94dba701dbc0dac544e9b63588a21f" title="ocfs2_read_dx_leaf" alt="" coords="767,1863,901,1889"/>
<area shape="rect" id="node33" href="ocfs2_2dir_8c.html#a77e98d9f0433d75d7bf2eca49dc11852" title="ocfs2_read_dx_leaves" alt="" coords="758,1913,910,1940"/>
<area shape="rect" id="node34" href="ocfs2_2dir_8c.html#a50df695710a1d518014cfb065de2503a" title="ocfs2_dx_dir_lookup_rec" alt="" coords="751,1964,917,1991"/>
<area shape="rect" id="node35" href="ocfs2_2dir_8h.html#a008e79005124d9677b3e8d293742dd4f" title="ocfs2_update_entry" alt="" coords="766,2015,902,2041"/>
<area shape="rect" id="node36" href="ocfs2_2dir_8c.html#acc38fe53ebb02cdffa1f197fc0dc9949" title="__ocfs2_delete_entry" alt="" coords="761,2167,907,2193"/>
<area shape="rect" id="node37" href="ocfs2_2dir_8c.html#a68822abebae6969ac68623c9f783ec9b" title="ocfs2_delete_entry_dx" alt="" coords="979,2141,1133,2168"/>
<area shape="rect" id="node38" href="ocfs2_2dir_8c.html#a1d621623e6c52f0336b3de2ce523b81b" title="__ocfs2_dx_dir_leaf\l_insert" alt="" coords="765,1461,903,1502"/>
<area shape="rect" id="node39" href="ocfs2_2dir_8c.html#abb2d34925472f8436cf84b3c6c3c7346" title="ocfs2_dx_dir_insert" alt="" coords="989,1468,1123,1495"/>
<area shape="rect" id="node40" href="ocfs2_2dir_8h.html#aa5408d746ab9f79b667bbe59ddd2d3cf" title="__ocfs2_add_entry" alt="" coords="1191,1843,1323,1869"/>
<area shape="rect" id="node41" href="ocfs2_2dir_8c.html#ab18aa2fc68db6b9ee8f96c26b6e29d7d" title="ocfs2_fill_new_dir_id" alt="" coords="763,208,905,235"/>
<area shape="rect" id="node42" href="ocfs2_2dir_8c.html#a24b32d9aa7359c9ba2ec3381b1d3164a" title="ocfs2_fill_new_dir_el" alt="" coords="763,259,905,285"/>
<area shape="rect" id="node43" href="ocfs2_2dir_8c.html#a98c7b4e3fd35da4a84fece5475cfbc6f" title="ocfs2_dx_dir_attach\l_index" alt="" coords="765,361,903,402"/>
<area shape="rect" id="node44" href="ocfs2_2dir_8c.html#ada46bf09d84bfbe9570a494107cf27d1" title="ocfs2_dx_dir_format\l_cluster" alt="" coords="764,426,904,467"/>
<area shape="rect" id="node48" href="localalloc_8h.html#accd85fba37e8f13290d10d5a0a9f9487" title="ocfs2_claim_local_alloc_bits" alt="" coords="740,5,928,32"/>
<area shape="rect" id="node46" href="ocfs2_2super_8c.html#a885b126748495a559f871da397768a20" title="ocfs2_initialize_mem\l_caches" alt="" coords="984,2269,1128,2310"/>
<area shape="rect" id="node47" href="ocfs2_2super_8c.html#ad6836dd3b439cf83db90793c2b0c2912" title="ocfs2_init" alt="" coords="1218,2276,1297,2303"/>
<area shape="rect" id="node49" href="suballoc_8h.html#a587af25b3c0f8653e137e18f5eb05e85" title="__ocfs2_claim_clusters" alt="" coords="977,107,1135,133"/>
</map>
</div>

</div>
</div>
<a id="a1990aa5474657c8efdb262157ae31207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1990aa5474657c8efdb262157ae31207">&#9670;&nbsp;</a></span>ocfs2_resv_set_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_resv_set_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__reservation.html">ocfs2_alloc_reservation</a> *&#160;</td>
          <td class="paramname"><em>resv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reservations_8h_a1990aa5474657c8efdb262157ae31207_icgraph.png" border="0" usemap="#reservations_8h_a1990aa5474657c8efdb262157ae31207_icgraph" alt=""/></div>
<map name="reservations_8h_a1990aa5474657c8efdb262157ae31207_icgraph" id="reservations_8h_a1990aa5474657c8efdb262157ae31207_icgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8h.html#a33eadf6676882e6a418a81f16c469fe7" title="ocfs2_populate_inode" alt="" coords="197,416,345,443"/>
<area shape="rect" id="node30" href="localalloc_8c.html#a67a6710725b31fd02480552e6cd511dc" title="ocfs2_local_alloc_find\l_clear_bits" alt="" coords="196,682,347,723"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8c.html#a83a2082a739ad37b847d17e16a7c4bae" title="ocfs2_read_locked_inode" alt="" coords="404,416,573,443"/>
<area shape="rect" id="node21" href="ocfs2_2namei_8c.html#abfcd967c07c863371ac05be77b16c47b" title="__ocfs2_mknod_locked" alt="" coords="409,140,568,167"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8h.html#ab70e737bdc3b8d6ffaff8e5a6363e9e7" title="ocfs2_iget" alt="" coords="669,416,751,443"/>
<area shape="rect" id="node5" href="ocfs2_2super_8c.html#a48d640e51e32b63fe59c5d195ba45a5d" title="ocfs2_init_global_system\l_inodes" alt="" coords="1273,383,1443,425"/>
<area shape="rect" id="node7" href="ocfs2_2namei_8c.html#acfebbc3ab98d1e00669de5402adc3b91" title="ocfs2_lookup" alt="" coords="871,441,970,468"/>
<area shape="rect" id="node8" href="ocfs2_2namei_8c.html#a83006bd4783fff3787dd69f1663311fa" title="ocfs2_check_if_ancestor" alt="" coords="837,492,1004,519"/>
<area shape="rect" id="node11" href="ocfs2_2export_8c.html#a5db56fece2b43481e295319713e8ab6e" title="ocfs2_get_dentry" alt="" coords="859,543,982,569"/>
<area shape="rect" id="node14" href="ocfs2_2export_8c.html#a4fed7e7b603e91e65a6bca4fcb70fe26" title="ocfs2_get_parent" alt="" coords="859,593,982,620"/>
<area shape="rect" id="node15" href="ocfs2_2journal_8c.html#ad82ddb496f51111c21e1f7711a729a22" title="ocfs2_orphan_filldir" alt="" coords="853,213,988,240"/>
<area shape="rect" id="node17" href="filecheck_8c.html#ae77e3e8db70bf0332ee4b23c8400931d" title="ocfs2_filecheck_handle" alt="" coords="841,269,1000,296"/>
<area shape="rect" id="node19" href="sysfile_8c.html#a13c36594d1899e45c9d5da1e3cf8b50e" title="_ocfs2_get_system_file\l_inode" alt="" coords="841,325,1001,366"/>
<area shape="rect" id="node6" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="1493,361,1640,388"/>
<area shape="rect" id="node9" href="ocfs2_2namei_8c.html#afb0b5d982da04161cc40ea65000f3dfb" title="ocfs2_double_lock" alt="" coords="1073,492,1204,519"/>
<area shape="rect" id="node10" href="ocfs2_2namei_8c.html#a7e52237e2e01c71acd11510cbd85fc93" title="ocfs2_rename" alt="" coords="1306,471,1410,497"/>
<area shape="rect" id="node12" href="ocfs2_2export_8c.html#ac48e34017d3604762abc5651cecf227d" title="ocfs2_fh_to_dentry" alt="" coords="1072,593,1205,620"/>
<area shape="rect" id="node13" href="ocfs2_2export_8c.html#a5ead8e1636ad2bfe765874728317b4a1" title="ocfs2_fh_to_parent" alt="" coords="1072,543,1205,569"/>
<area shape="rect" id="node16" href="ocfs2_2journal_8c.html#aad67668993d0573762b6fd6ea9e31207" title="ocfs2_queue_orphans" alt="" coords="1283,244,1433,271"/>
<area shape="rect" id="node18" href="filecheck_8c.html#a2d5c29cbfc4bb21a457debce4fc1dc67" title="ocfs2_filecheck_handle\l_entry" alt="" coords="1059,259,1218,301"/>
<area shape="rect" id="node20" href="sysfile_8h.html#a89f735537589670db02566a0a8205b9f" title="ocfs2_get_system_file\l_inode" alt="" coords="1062,325,1215,366"/>
<area shape="rect" id="node22" href="ocfs2_2namei_8c.html#a3431706f8cc24382fc0c00d07f95c24b" title="ocfs2_mknod_locked" alt="" coords="637,140,783,167"/>
<area shape="rect" id="node27" href="namei_8h.html#a33ecd2392f71252d3c6e3b31f53ae74a" title="ocfs2_create_inode\l_in_orphan" alt="" coords="643,41,777,82"/>
<area shape="rect" id="node23" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="871,107,971,133"/>
<area shape="rect" id="node26" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1691,573,1797,600"/>
<area shape="rect" id="node24" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1092,56,1185,83"/>
<area shape="rect" id="node25" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1090,107,1187,133"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="873,31,969,57"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1078,5,1199,32"/>
<area shape="rect" id="node31" href="localalloc_8h.html#accd85fba37e8f13290d10d5a0a9f9487" title="ocfs2_claim_local_alloc_bits" alt="" coords="395,825,583,852"/>
<area shape="rect" id="node32" href="suballoc_8h.html#a587af25b3c0f8653e137e18f5eb05e85" title="__ocfs2_claim_clusters" alt="" coords="631,932,789,959"/>
<area shape="rect" id="node33" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="855,687,986,729"/>
<area shape="rect" id="node36" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="847,775,994,817"/>
<area shape="rect" id="node38" href="ocfs2_2dir_8c.html#a6ab955a1fb0a9f3005e8e8d999019050" title="__ocfs2_dx_dir_new\l_cluster" alt="" coords="850,865,991,906"/>
<area shape="rect" id="node42" href="ocfs2_2alloc_8h.html#a5d76a37a35309e3be24ff0867b40714c" title="ocfs2_add_clusters\l_in_btree" alt="" coords="1291,981,1425,1022"/>
<area shape="rect" id="node45" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="851,1099,991,1125"/>
<area shape="rect" id="node47" href="refcounttree_8c.html#a40618f918f0f5670ee554336c3f28005" title="ocfs2_make_clusters\l_writable" alt="" coords="847,1154,994,1195"/>
<area shape="rect" id="node49" href="suballoc_8h.html#a1bbab17829ba85a93143b7c4e2018df4" title="ocfs2_claim_clusters" alt="" coords="848,932,993,959"/>
<area shape="rect" id="node50" href="suballoc_8h.html#a57beb6fdaa59aa35ed6da0f28fb22d4c" title="ocfs2_alloc_context\l_bits_left" alt="" coords="1069,981,1208,1022"/>
<area shape="rect" id="node34" href="ocfs2_2xattr_8c.html#abc07e42bdbab257433fd0a031a0bc51c" title="namevalue_size_xe" alt="" coords="1070,644,1207,671"/>
<area shape="rect" id="node35" href="ocfs2_2xattr_8c.html#ad04dd073da11a8dc508f70f54b0bbc5d" title="ocfs2_xattr_block_set" alt="" coords="1063,695,1214,721"/>
<area shape="rect" id="node37" href="ocfs2_2xattr_8c.html#ae55c40c2fc68bf6013422897ecc99f2b" title="ocfs2_add_new_xattr\l_bucket" alt="" coords="1065,746,1212,787"/>
<area shape="rect" id="node39" href="ocfs2_2dir_8c.html#a33d146f0f149a53c83d632904d42b598" title="ocfs2_dx_dir_new_cluster" alt="" coords="1052,812,1225,839"/>
<area shape="rect" id="node40" href="ocfs2_2dir_8c.html#a236d2c61a007621dbd4cc32d773f56ac" title="ocfs2_expand_inline_dir" alt="" coords="1058,929,1219,956"/>
<area shape="rect" id="node41" href="ocfs2_2dir_8c.html#aa52f7cd1a3982c92f5f0af4aa4484460" title="ocfs2_expand_inline\l_dx_root" alt="" coords="1069,863,1209,905"/>
<area shape="rect" id="node43" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="1500,922,1633,963"/>
<area shape="rect" id="node44" href="file_8h.html#a63c093e991f1a910b3ed9f4dd23ee0da" title="ocfs2_add_inode_data" alt="" coords="1491,988,1643,1015"/>
<area shape="rect" id="node46" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="1060,1098,1217,1139"/>
<area shape="rect" id="node48" href="refcounttree_8c.html#ab2bb74d582483f762856506528898a9f" title="ocfs2_replace_cow" alt="" coords="1071,1164,1206,1191"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_be0bb2a89c3680926f7eb84069ee534c.html">ocfs2</a></li><li class="navelem"><a class="el" href="reservations_8h.html">reservations.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
