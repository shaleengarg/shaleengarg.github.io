<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: replay_entry Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structreplay__entry.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structreplay__entry-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">replay_entry Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for replay_entry:</div>
<div class="dyncontent">
<div class="center"><img src="structreplay__entry__coll__graph.png" border="0" usemap="#replay__entry_coll__map" alt="Collaboration graph"/></div>
<map name="replay__entry_coll__map" id="replay__entry_coll__map">
<area shape="rect" id="node2" href="unionubifs__key.html" title="ubifs_key" alt="" coords="13,5,91,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa5aee53ece8a433dbc141e261a7f8436"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#aa5aee53ece8a433dbc141e261a7f8436">lnum</a></td></tr>
<tr class="separator:aa5aee53ece8a433dbc141e261a7f8436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8f8f54595df16655966d0e8a419cca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#a1b8f8f54595df16655966d0e8a419cca">offs</a></td></tr>
<tr class="separator:a1b8f8f54595df16655966d0e8a419cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a58b86cfb940c25cf085056209be31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#a96a58b86cfb940c25cf085056209be31">len</a></td></tr>
<tr class="separator:a96a58b86cfb940c25cf085056209be31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6c7cc404b013811d0ed403818fd787"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#acd6c7cc404b013811d0ed403818fd787">deletion</a>:1</td></tr>
<tr class="separator:acd6c7cc404b013811d0ed403818fd787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1de42a34b97ab0feb7bd12476caa44"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#a9e1de42a34b97ab0feb7bd12476caa44">sqnum</a></td></tr>
<tr class="separator:a9e1de42a34b97ab0feb7bd12476caa44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b39a7e43a8d09e5c0db4526acc74e0"><td class="memItemLeft" align="right" valign="top">struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#a82b39a7e43a8d09e5c0db4526acc74e0">list</a></td></tr>
<tr class="separator:a82b39a7e43a8d09e5c0db4526acc74e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64739ad15c32dfbd460f15ca82a8fe5a"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="unionubifs__key.html">ubifs_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html#a64739ad15c32dfbd460f15ca82a8fe5a">key</a></td></tr>
<tr class="separator:a64739ad15c32dfbd460f15ca82a8fe5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f8b9aed0170b08e3ec08765e5fe9ea"><td class="memItemLeft" >union {</td></tr>
<tr class="memitem:ac2581bfcc344f1abb39f42a0c5627feb"><td class="memItemLeft" >&#160;&#160;&#160;struct fscrypt_name&#160;&#160;&#160;<a class="el" href="structreplay__entry.html#adf5ca6c724ec7a04f9bf65f444cde42b">nm</a></td></tr>
<tr class="separator:ac2581bfcc344f1abb39f42a0c5627feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3fffe0f88a52dba918147de7c3b489"><td class="memItemLeft" >&#160;&#160;&#160;struct {</td></tr>
<tr class="memitem:a64b479b65ee55e1492f80472f74243a7"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;loff_t&#160;&#160;&#160;<a class="el" href="structreplay__entry.html#a54d8fa2edecfd846c522b496b8fe033c">old_size</a></td></tr>
<tr class="separator:a64b479b65ee55e1492f80472f74243a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab146a31915de9f68f3f048913e1d8754"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;loff_t&#160;&#160;&#160;<a class="el" href="structreplay__entry.html#a85a7463e57eb576bfc29c5dbe2369375">new_size</a></td></tr>
<tr class="separator:ab146a31915de9f68f3f048913e1d8754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3fffe0f88a52dba918147de7c3b489"><td class="memItemLeft" valign="top">&#160;&#160;&#160;}&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a9b3fffe0f88a52dba918147de7c3b489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f8b9aed0170b08e3ec08765e5fe9ea"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:aa0f8b9aed0170b08e3ec08765e5fe9ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>struct <a class="el" href="structreplay__entry.html">replay_entry</a> - replay list entry. : logical eraseblock number of the node : node offset : node length : non-zero if this entry corresponds to a node deletion : node sequence number : links the replay list : node key : directory entry name : truncation old size : truncation new size</p>
<p>The replay process first scans all buds and builds the replay list, then sorts the replay list in nodes sequence number order, and then inserts all the replay entries to the TNC.</p>
<p>insert_node - insert a node to the replay list <code></code>: UBIFS file-system description object : node logical eraseblock number : node offset : node length : node key : sequence number : non-zero if this is a deletion : number of bytes in use in a LEB : truncation old size : truncation new size</p>
<p>This function inserts a scanned non-direntry node to the replay list. The replay list contains we sort this list in sequence number order before applying it. The replay list is applied at the very end of the replay process. Since the list is sorted in sequence number order, the older modifications are applied first. This function returns zero in case of success and a negative error code in case of failure. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="aa0f8b9aed0170b08e3ec08765e5fe9ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f8b9aed0170b08e3ec08765e5fe9ea">&#9670;&nbsp;</a></span>@538</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acd6c7cc404b013811d0ed403818fd787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6c7cc404b013811d0ed403818fd787">&#9670;&nbsp;</a></span>deletion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int replay_entry::deletion</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a64739ad15c32dfbd460f15ca82a8fe5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64739ad15c32dfbd460f15ca82a8fe5a">&#9670;&nbsp;</a></span>key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union <a class="el" href="unionubifs__key.html">ubifs_key</a> replay_entry::key</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a96a58b86cfb940c25cf085056209be31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a58b86cfb940c25cf085056209be31">&#9670;&nbsp;</a></span>len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int replay_entry::len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a82b39a7e43a8d09e5c0db4526acc74e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b39a7e43a8d09e5c0db4526acc74e0">&#9670;&nbsp;</a></span>list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head replay_entry::list</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa5aee53ece8a433dbc141e261a7f8436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aee53ece8a433dbc141e261a7f8436">&#9670;&nbsp;</a></span>lnum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int replay_entry::lnum</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a85a7463e57eb576bfc29c5dbe2369375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a7463e57eb576bfc29c5dbe2369375">&#9670;&nbsp;</a></span>new_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loff_t replay_entry::new_size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adf5ca6c724ec7a04f9bf65f444cde42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5ca6c724ec7a04f9bf65f444cde42b">&#9670;&nbsp;</a></span>nm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fscrypt_name replay_entry::nm</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b8f8f54595df16655966d0e8a419cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8f8f54595df16655966d0e8a419cca">&#9670;&nbsp;</a></span>offs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int replay_entry::offs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a54d8fa2edecfd846c522b496b8fe033c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d8fa2edecfd846c522b496b8fe033c">&#9670;&nbsp;</a></span>old_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loff_t replay_entry::old_size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e1de42a34b97ab0feb7bd12476caa44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1de42a34b97ab0feb7bd12476caa44">&#9670;&nbsp;</a></span>sqnum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long replay_entry::sqnum</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>ubifs/<a class="el" href="replay_8c.html">replay.c</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structreplay__entry.html">replay_entry</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
