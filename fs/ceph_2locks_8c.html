<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ceph/locks.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ceph_2locks_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">locks.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/ceph/ceph_debug.h&gt;</code><br />
<code>#include &lt;linux/file.h&gt;</code><br />
<code>#include &lt;linux/namei.h&gt;</code><br />
<code>#include &lt;linux/random.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ceph_2super_8h_source.html">super.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mds__client_8h_source.html">mds_client.h</a>&quot;</code><br />
<code>#include &lt;linux/ceph/pagelist.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for locks.c:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c__incl.png" border="0" usemap="#ceph_2locks_8c" alt=""/></div>
<map name="ceph_2locks_8c" id="ceph_2locks_8c">
<area shape="rect" id="node6" href="ceph_2super_8h.html" title="super.h" alt="" coords="1047,80,1112,107"/>
<area shape="rect" id="node20" href="mds__client_8h.html" title="mds_client.h" alt="" coords="2295,80,2391,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa1669cd0c0b97c914a01f9a46085c4e4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4">ceph_lock_wait_for_completion</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__mds__request.html">ceph_mds_request</a> *req)</td></tr>
<tr class="separator:aa1669cd0c0b97c914a01f9a46085c4e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2d2fcece9db6257fc9c489875de0d5"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a2b2d2fcece9db6257fc9c489875de0d5">secure_addr</a> (void *addr)</td></tr>
<tr class="separator:a2b2d2fcece9db6257fc9c489875de0d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e71d9a9e6045cb8722eb51c240f82c6"><td class="memItemLeft" align="right" valign="top">void __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a8e71d9a9e6045cb8722eb51c240f82c6">ceph_flock_init</a> (void)</td></tr>
<tr class="separator:a8e71d9a9e6045cb8722eb51c240f82c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9efd906ca8a91e3c6943a93801a894b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#ab9efd906ca8a91e3c6943a93801a894b">ceph_fl_copy_lock</a> (struct file_lock *dst, struct file_lock *src)</td></tr>
<tr class="separator:ab9efd906ca8a91e3c6943a93801a894b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4bc787c32a7cc7477457d4290372d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a1e4bc787c32a7cc7477457d4290372d3">ceph_fl_release_lock</a> (struct file_lock *fl)</td></tr>
<tr class="separator:a1e4bc787c32a7cc7477457d4290372d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e030e16816082eb74553b5d9938f386"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386">ceph_lock_message</a> (u8 <a class="el" href="cifspdu_8h.html#a66a41d4dc7448d1291610083b5318dd1">lock_type</a>, u16 operation, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, u8 wait, struct file_lock *fl)</td></tr>
<tr class="separator:a7e030e16816082eb74553b5d9938f386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b96cfd3be5ff52380b8b6beb752a665"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a8b96cfd3be5ff52380b8b6beb752a665">ceph_lock</a> (struct file *file, int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, struct file_lock *fl)</td></tr>
<tr class="separator:a8b96cfd3be5ff52380b8b6beb752a665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323e7b6f4259160741cc1361b6874f12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a323e7b6f4259160741cc1361b6874f12">ceph_flock</a> (struct file *file, int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, struct file_lock *fl)</td></tr>
<tr class="separator:a323e7b6f4259160741cc1361b6874f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6071b10feddcb131113b18d89ef6ef33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a6071b10feddcb131113b18d89ef6ef33">ceph_count_locks</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int *fcntl_count, int *flock_count)</td></tr>
<tr class="separator:a6071b10feddcb131113b18d89ef6ef33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423f17f81f3aa60601cbda45b371c1ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a423f17f81f3aa60601cbda45b371c1ea">lock_to_ceph_filelock</a> (struct file_lock *lock, struct ceph_filelock *cephlock)</td></tr>
<tr class="separator:a423f17f81f3aa60601cbda45b371c1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19551161d9349f2ec39fa1713eade422"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a19551161d9349f2ec39fa1713eade422">ceph_encode_locks_to_buffer</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct ceph_filelock *flocks, int num_fcntl_locks, int num_flock_locks)</td></tr>
<tr class="separator:a19551161d9349f2ec39fa1713eade422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73747202b8ce5ec5a44c461d4d73c45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#ab73747202b8ce5ec5a44c461d4d73c45">ceph_locks_to_pagelist</a> (struct ceph_filelock *flocks, struct ceph_pagelist *pagelist, int num_fcntl_locks, int num_flock_locks)</td></tr>
<tr class="separator:ab73747202b8ce5ec5a44c461d4d73c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a97d5c80f1c9cb800ec34e254962dfb56"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#a97d5c80f1c9cb800ec34e254962dfb56">lock_secret</a></td></tr>
<tr class="separator:a97d5c80f1c9cb800ec34e254962dfb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f0a27d6dbc27747a4de35c606b5941"><td class="memItemLeft" align="right" valign="top">static const struct file_lock_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ceph_2locks_8c.html#af2f0a27d6dbc27747a4de35c606b5941">ceph_fl_lock_ops</a></td></tr>
<tr class="separator:af2f0a27d6dbc27747a4de35c606b5941"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6071b10feddcb131113b18d89ef6ef33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6071b10feddcb131113b18d89ef6ef33">&#9670;&nbsp;</a></span>ceph_count_locks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_count_locks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fcntl_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flock_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a6071b10feddcb131113b18d89ef6ef33_icgraph.png" border="0" usemap="#ceph_2locks_8c_a6071b10feddcb131113b18d89ef6ef33_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a6071b10feddcb131113b18d89ef6ef33_icgraph" id="ceph_2locks_8c_a6071b10feddcb131113b18d89ef6ef33_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="180,347,371,373"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="215,583,335,609"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="444,633,517,660"/>
<area shape="rect" id="node42" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="419,195,543,221"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="805,608,912,635"/>
<area shape="rect" id="node40" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="591,655,725,697"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="773,707,944,733"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="992,601,1143,642"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1865,803,1959,829"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1417,43,1560,69"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1659,397,1769,424"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1197,651,1339,677"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1209,600,1327,627"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1202,347,1334,373"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1191,701,1345,728"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1635,43,1793,69"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1423,600,1555,627"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1433,296,1544,323"/>
<area shape="rect" id="node12" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1674,473,1754,500"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1661,321,1767,348"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1661,144,1767,171"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1649,195,1779,221"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1645,245,1783,272"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1421,93,1556,120"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1395,499,1583,525"/>
<area shape="rect" id="node21" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1632,575,1796,601"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1844,347,1980,373"/>
<area shape="rect" id="node23" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1864,397,1960,424"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1863,448,1961,475"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1865,499,1959,525"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1864,549,1960,576"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1861,600,1963,627"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1867,651,1957,677"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1873,701,1951,728"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1867,752,1957,779"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2034,828,2105,855"/>
<area shape="rect" id="node33" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2159,891,2368,917"/>
<area shape="rect" id="node34" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2175,828,2352,855"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2416,799,2559,825"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2416,850,2559,891"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1413,651,1565,677"/>
<area shape="rect" id="node39" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1405,701,1572,728"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="593,195,723,221"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="994,853,1141,880"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1208,853,1328,880"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="2028,916,2111,943"/>
<area shape="rect" id="node47" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1393,853,1584,880"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="1645,904,1783,931"/>
<area shape="rect" id="node49" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="1855,904,1969,931"/>
</map>
</div>

</div>
</div>
<a id="a19551161d9349f2ec39fa1713eade422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19551161d9349f2ec39fa1713eade422">&#9670;&nbsp;</a></span>ceph_encode_locks_to_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_encode_locks_to_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_filelock *&#160;</td>
          <td class="paramname"><em>flocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_fcntl_locks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_flock_locks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode the flock and fcntl locks for the given inode into the ceph_filelock array. Must be called with inode-&gt;i_lock already held. If we encounter more of a specific lock type than expected, return -ENOSPC. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_cgraph.png" border="0" usemap="#ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_cgraph" id="ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_cgraph">
<area shape="rect" id="node2" href="ceph_2locks_8c.html#a423f17f81f3aa60601cbda45b371c1ea" title="lock_to_ceph_filelock" alt="" coords="208,13,355,39"/>
<area shape="rect" id="node3" href="ceph_2locks_8c.html#a2b2d2fcece9db6257fc9c489875de0d5" title="secure_addr" alt="" coords="403,13,496,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_icgraph.png" border="0" usemap="#ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_icgraph" id="ceph_2locks_8c_a19551161d9349f2ec39fa1713eade422_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="208,347,399,373"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="243,583,363,609"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="472,633,545,660"/>
<area shape="rect" id="node42" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="447,195,571,221"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="833,608,940,635"/>
<area shape="rect" id="node40" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="619,655,753,697"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="801,707,972,733"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1020,601,1171,642"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1893,803,1987,829"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1445,43,1588,69"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1687,397,1797,424"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1225,651,1367,677"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1237,600,1355,627"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1230,347,1362,373"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1219,701,1373,728"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1663,43,1821,69"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1451,600,1583,627"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1461,296,1572,323"/>
<area shape="rect" id="node12" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1702,473,1782,500"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1689,321,1795,348"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1689,144,1795,171"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1677,195,1807,221"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1673,245,1811,272"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1449,93,1584,120"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1423,499,1611,525"/>
<area shape="rect" id="node21" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1660,575,1824,601"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1872,347,2008,373"/>
<area shape="rect" id="node23" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1892,397,1988,424"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1891,448,1989,475"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1893,499,1987,525"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1892,549,1988,576"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1889,600,1991,627"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1895,651,1985,677"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1901,701,1979,728"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1895,752,1985,779"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2062,828,2133,855"/>
<area shape="rect" id="node33" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2187,891,2396,917"/>
<area shape="rect" id="node34" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2203,828,2380,855"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2444,799,2587,825"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2444,850,2587,891"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1441,651,1593,677"/>
<area shape="rect" id="node39" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1433,701,1600,728"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="621,195,751,221"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1022,853,1169,880"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1236,853,1356,880"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="2056,916,2139,943"/>
<area shape="rect" id="node47" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1421,853,1612,880"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="1673,904,1811,931"/>
<area shape="rect" id="node49" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="1883,904,1997,931"/>
</map>
</div>

</div>
</div>
<a id="ab9efd906ca8a91e3c6943a93801a894b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9efd906ca8a91e3c6943a93801a894b">&#9670;&nbsp;</a></span>ceph_fl_copy_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ceph_fl_copy_lock </td>
          <td>(</td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_ab9efd906ca8a91e3c6943a93801a894b_cgraph.png" border="0" usemap="#ceph_2locks_8c_ab9efd906ca8a91e3c6943a93801a894b_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_ab9efd906ca8a91e3c6943a93801a894b_cgraph" id="ceph_2locks_8c_ab9efd906ca8a91e3c6943a93801a894b_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="184,5,272,32"/>
</map>
</div>

</div>
</div>
<a id="a1e4bc787c32a7cc7477457d4290372d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4bc787c32a7cc7477457d4290372d3">&#9670;&nbsp;</a></span>ceph_fl_release_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ceph_fl_release_lock </td>
          <td>(</td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a1e4bc787c32a7cc7477457d4290372d3_cgraph.png" border="0" usemap="#ceph_2locks_8c_a1e4bc787c32a7cc7477457d4290372d3_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_a1e4bc787c32a7cc7477457d4290372d3_cgraph" id="ceph_2locks_8c_a1e4bc787c32a7cc7477457d4290372d3_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="197,5,285,32"/>
</map>
</div>

</div>
</div>
<a id="a323e7b6f4259160741cc1361b6874f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323e7b6f4259160741cc1361b6874f12">&#9670;&nbsp;</a></span>ceph_flock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_flock </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_cgraph.png" border="0" usemap="#ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_cgraph" id="ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1651,245,1739,272"/>
<area shape="rect" id="node3" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="139,1293,280,1320"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="332,1416,459,1443"/>
<area shape="rect" id="node5" href="mds__client_8c.html#a1f4e3ccc5b0a05d39ed1a8b0febd0808" title="ceph_mdsc_create_request" alt="" coords="511,1533,693,1560"/>
<area shape="rect" id="node6" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1207,1373,1256,1400"/>
<area shape="rect" id="node8" href="ceph_2locks_8c.html#a2b2d2fcece9db6257fc9c489875de0d5" title="secure_addr" alt="" coords="349,43,442,69"/>
<area shape="rect" id="node9" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="328,1467,463,1509"/>
<area shape="rect" id="node10" href="mds__client_8c.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="522,1293,682,1320"/>
<area shape="rect" id="node29" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1149,699,1313,725"/>
<area shape="rect" id="node7" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="2039,1049,2177,1076"/>
<area shape="rect" id="node11" href="caps_8c.html#a411cba14144ccc6cbedfe602a4a87208" title="ceph_get_cap_refs" alt="" coords="742,1381,874,1408"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="947,1331,1076,1357"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="758,960,858,987"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a881d6a999ea651540ad5c554182b267d" title="ceph_invalidate_dir\l_request" alt="" coords="741,1265,875,1306"/>
<area shape="rect" id="node12" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="952,1381,1071,1408"/>
<area shape="rect" id="node14" href="caps_8c.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="1164,1264,1299,1291"/>
<area shape="rect" id="node19" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1149,1213,1313,1240"/>
<area shape="rect" id="node15" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1647,1137,1742,1164"/>
<area shape="rect" id="node16" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="1363,1163,1557,1189"/>
<area shape="rect" id="node18" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="1832,1151,1991,1177"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1649,1188,1741,1215"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1366,960,1554,987"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a0e56b733f092ab72fcfa8f61bdcbff0b" title="destroy_reply_info" alt="" coords="1631,985,1759,1012"/>
<area shape="rect" id="node22" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1629,767,1761,793"/>
<area shape="rect" id="node23" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1890,716,1933,743"/>
<area shape="rect" id="node24" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1671,884,1718,911"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a4f976db7742ec92c5b4d64d618c2caed" title="put_request_session" alt="" coords="1623,1036,1766,1063"/>
<area shape="rect" id="node26" href="caps_8c.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="1620,935,1769,961"/>
<area shape="rect" id="node28" href="mds__client_8c.html#af5c59a9acc4e730396a9d4925ee5fbc7" title="__unregister_request" alt="" coords="940,505,1083,532"/>
<area shape="rect" id="node41" href="mdsmap_8c.html#a74f1a418825d6b076bbf592809ea2836" title="ceph_mdsmap_is_cluster\l_available" alt="" coords="926,894,1097,935"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a2f233bf95f0e79661504385b990c72dd" title="__choose_mds" alt="" coords="956,287,1067,313"/>
<area shape="rect" id="node43" href="mds__client_8c.html#aaa35671be7b0fc8802b7c70b4cda9505" title="register_session" alt="" coords="953,960,1070,987"/>
<area shape="rect" id="node44" href="mds__client_8c.html#afaba7f45f5f30ce2e396519d30889d67" title="ceph_session_state_name" alt="" coords="923,1011,1100,1037"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ab6563919630abb18647c7e2d5dc7c73c" title="__open_session" alt="" coords="953,1061,1069,1088"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="1149,271,1313,297"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a62acaf3ef1b93acf37d99b21d7d14b48" title="complete_request" alt="" coords="949,741,1074,768"/>
<area shape="rect" id="node30" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1375,1061,1545,1088"/>
<area shape="rect" id="node32" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="1378,757,1542,784"/>
<area shape="rect" id="node33" href="mds__client_8h.html#a0435bf9d87d67b682d73e5bd92f3f41a" title="ceph_mdsc_build_path" alt="" coords="1383,808,1537,835"/>
<area shape="rect" id="node34" href="mds__client_8h.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="1605,818,1784,859"/>
<area shape="rect" id="node35" href="mds__client_8h.html#a1d3c4cd04177b319e012186a5a04c39b" title="ceph_mdsc_lease_send_msg" alt="" coords="1363,859,1557,885"/>
<area shape="rect" id="node36" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1365,473,1555,500"/>
<area shape="rect" id="node37" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="1371,524,1549,551"/>
<area shape="rect" id="node38" href="mds__client_8h.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="1377,575,1543,617"/>
<area shape="rect" id="node39" href="mds__client_8h.html#a6f400bce6e34c2f1d994870cce784825" title="ceph_mdsc_open_export\l_target_sessions" alt="" coords="1377,641,1543,682"/>
<area shape="rect" id="node40" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="1403,707,1517,733"/>
<area shape="rect" id="node31" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1643,1087,1746,1113"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#aeb480f431f9be0ace231cae7f549f458" title="ceph_dir_clear_complete" alt="" coords="1148,372,1315,399"/>
<area shape="rect" id="node50" href="ceph_2dir_8c.html#a171ad59b0cee15811a1f3658f987e049" title="ceph_invalidate_dentry\l_lease" alt="" coords="934,1265,1089,1306"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_icgraph.png" border="0" usemap="#ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_icgraph" id="ceph_2locks_8c_a323e7b6f4259160741cc1361b6874f12_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="139,449,329,476"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="377,389,451,416"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="504,5,628,32"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="713,301,820,328"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="499,353,633,394"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="681,360,852,387"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="900,353,1051,394"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1982,233,2077,260"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1324,816,1467,843"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1974,867,2085,893"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1105,309,1247,336"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1117,500,1235,527"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1110,867,1242,893"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1099,157,1253,184"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1541,841,1700,868"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1752,917,1908,944"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1976,1019,2083,1045"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1329,551,1461,577"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1340,1019,1451,1045"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1581,765,1661,792"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1771,867,1889,893"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1567,1120,1674,1147"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1555,1171,1686,1197"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1551,968,1690,995"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1328,867,1463,893"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1301,613,1489,640"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1539,461,1703,488"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1539,613,1703,640"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1759,461,1901,488"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1763,360,1897,387"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1765,411,1895,437"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1755,512,1905,539"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2151,132,2221,159"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2269,107,2479,133"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2285,157,2463,184"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2527,128,2669,155"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2527,179,2669,221"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2717,128,2853,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2726,187,2845,213"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1762,715,1898,741"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1782,765,1878,792"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1781,613,1879,640"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1783,664,1877,691"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1754,107,1906,133"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1312,107,1479,133"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1956,157,2103,184"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1961,107,2098,133"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1537,107,1704,133"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1765,56,1895,83"/>
</map>
</div>

</div>
</div>
<a id="a8e71d9a9e6045cb8722eb51c240f82c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e71d9a9e6045cb8722eb51c240f82c6">&#9670;&nbsp;</a></span>ceph_flock_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __init ceph_flock_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a8e71d9a9e6045cb8722eb51c240f82c6_icgraph.png" border="0" usemap="#ceph_2locks_8c_a8e71d9a9e6045cb8722eb51c240f82c6_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a8e71d9a9e6045cb8722eb51c240f82c6_icgraph" id="ceph_2locks_8c_a8e71d9a9e6045cb8722eb51c240f82c6_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8c.html#aac605844d043c0f152021a1efc43380c" title="init_ceph" alt="" coords="221,161,295,188"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="163,313,353,340"/>
<area shape="rect" id="node3" href="ceph_2super_8c.html#a0b191290c79e6c9df9f00e4710e1184d" title="exit_ceph" alt="" coords="401,5,480,32"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="404,313,477,340"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="533,56,657,83"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="743,364,849,391"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="528,247,663,289"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="711,288,881,315"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="929,382,1080,423"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2011,284,2106,311"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1353,715,1496,741"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2003,689,2114,716"/>
<area shape="rect" id="node13" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1134,360,1277,387"/>
<area shape="rect" id="node14" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1146,512,1265,539"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1139,765,1271,792"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1128,208,1283,235"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1571,752,1729,779"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1781,867,1937,893"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2005,968,2112,995"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1359,411,1491,437"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1369,917,1480,944"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1610,411,1690,437"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1801,411,1918,437"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1597,867,1703,893"/>
<area shape="rect" id="node20" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1585,1019,1715,1045"/>
<area shape="rect" id="node21" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1581,1069,1719,1096"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1357,765,1492,792"/>
<area shape="rect" id="node24" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1331,664,1519,691"/>
<area shape="rect" id="node25" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1568,613,1732,640"/>
<area shape="rect" id="node38" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1568,676,1732,703"/>
<area shape="rect" id="node26" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1788,613,1931,640"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1792,461,1927,488"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1795,563,1924,589"/>
<area shape="rect" id="node37" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1785,664,1934,691"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2180,183,2251,209"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2299,157,2508,184"/>
<area shape="rect" id="node31" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2315,208,2492,235"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2556,179,2699,205"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2556,230,2699,271"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2747,179,2883,205"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2755,237,2874,264"/>
<area shape="rect" id="node39" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1791,765,1927,792"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1811,816,1907,843"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1783,157,1935,184"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1341,208,1508,235"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1985,157,2132,184"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1990,208,2127,235"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1567,208,1733,235"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1794,107,1925,133"/>
</map>
</div>

</div>
</div>
<a id="a8b96cfd3be5ff52380b8b6beb752a665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b96cfd3be5ff52380b8b6beb752a665">&#9670;&nbsp;</a></span>ceph_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_lock </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to set an fcntl lock. For now, this just goes away to the server. Later it may be more awesome. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_cgraph.png" border="0" usemap="#ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_cgraph" id="ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1015,68,1103,95"/>
<area shape="rect" id="node3" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="151,1460,259,1487"/>
<area shape="rect" id="node27" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="135,828,276,855"/>
<area shape="rect" id="node4" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="330,1460,453,1487"/>
<area shape="rect" id="node15" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="989,1803,1128,1829"/>
<area shape="rect" id="node5" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1011,1144,1106,1171"/>
<area shape="rect" id="node6" href="locks_8c.html#a329ba984f34a261ff361fca1a25b6d3a" title="locks_get_lock_context" alt="" coords="519,1169,677,1196"/>
<area shape="rect" id="node7" href="locks_8c.html#a2566d7885e0afef541b1d95747f9e40e" title="locks_alloc_lock" alt="" coords="539,1220,657,1247"/>
<area shape="rect" id="node10" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="528,1499,668,1525"/>
<area shape="rect" id="node11" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="991,1397,1126,1424"/>
<area shape="rect" id="node14" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="763,1777,907,1804"/>
<area shape="rect" id="node16" href="locks_8c.html#a8e4f043488fc3129c67769083c866fab" title="posix_locks_deadlock" alt="" coords="523,1423,673,1449"/>
<area shape="rect" id="node18" href="locks_8c.html#a031960b4f1060703c82757cbb4f3c19f" title="__locks_insert_block" alt="" coords="526,1119,670,1145"/>
<area shape="rect" id="node20" href="locks_8c.html#a18eab8557cb03c6bf18166b922df3fad" title="locks_delete_lock_ctx" alt="" coords="523,1676,673,1703"/>
<area shape="rect" id="node22" href="locks_8c.html#a0aca39f10696418358050604c8c6838a" title="locks_wake_up_blocks" alt="" coords="980,1651,1137,1677"/>
<area shape="rect" id="node23" href="locks_8c.html#a3946eda3effdd575cb8fb0a1e20c267c" title="locks_free_lock" alt="" coords="778,1828,891,1855"/>
<area shape="rect" id="node24" href="locks_8c.html#a1422e47f8cb74382412c08a77127f00d" title="locks_copy_lock" alt="" coords="539,1625,657,1652"/>
<area shape="rect" id="node25" href="locks_8c.html#a94eddde277cc9dba246c92525ac69bab" title="locks_insert_lock_ctx" alt="" coords="524,1068,672,1095"/>
<area shape="rect" id="node26" href="locks_8c.html#ac12b58b3307f3ea0e51a6310457e5366" title="locks_dispose_list" alt="" coords="533,1777,663,1804"/>
<area shape="rect" id="node8" href="locks_8c.html#aaf0eec7769579a2fbc1ddd9804470873" title="locks_init_lock_heads" alt="" coords="759,1169,910,1196"/>
<area shape="rect" id="node9" href="locks_8c.html#ae0e51117f92ae6dc5ccfbaa60aaa53f1" title="EXPORT_SYMBOL_GPL" alt="" coords="749,1220,921,1247"/>
<area shape="rect" id="node12" href="locks_8c.html#a708cd2317b05abfa607c61ecff3cd345" title="locks_overlap" alt="" coords="783,1524,886,1551"/>
<area shape="rect" id="node13" href="locks_8c.html#a299223ee3c8715c0018e770fb35164de" title="locks_conflict" alt="" coords="783,1575,886,1601"/>
<area shape="rect" id="node17" href="locks_8c.html#a6a435269009726e3693dd16b6ff26cf4" title="what_owner_is_waiting_for" alt="" coords="745,1372,924,1399"/>
<area shape="rect" id="node19" href="locks_8c.html#a20a8676d431cbbf605a58cfb757ae919" title="locks_insert_global\l_blocked" alt="" coords="768,1103,901,1145"/>
<area shape="rect" id="node21" href="locks_8c.html#abf58467415726d687ab799cddf63f385" title="locks_unlink_lock_ctx" alt="" coords="759,1676,910,1703"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="328,748,455,775"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a1f4e3ccc5b0a05d39ed1a8b0febd0808" title="ceph_mdsc_create_request" alt="" coords="507,967,689,993"/>
<area shape="rect" id="node30" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1034,967,1083,993"/>
<area shape="rect" id="node32" href="ceph_2locks_8c.html#a2b2d2fcece9db6257fc9c489875de0d5" title="secure_addr" alt="" coords="345,916,438,943"/>
<area shape="rect" id="node33" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="324,850,459,891"/>
<area shape="rect" id="node34" href="mds__client_8c.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="518,799,678,825"/>
<area shape="rect" id="node39" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="516,428,680,455"/>
<area shape="rect" id="node31" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1185,967,1324,993"/>
<area shape="rect" id="node35" href="caps_8c.html#a411cba14144ccc6cbedfe602a4a87208" title="ceph_get_cap_refs" alt="" coords="769,799,901,825"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="770,748,899,775"/>
<area shape="rect" id="node37" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="785,849,885,876"/>
<area shape="rect" id="node38" href="mds__client_8c.html#a881d6a999ea651540ad5c554182b267d" title="ceph_invalidate_dir\l_request" alt="" coords="768,901,901,942"/>
<area shape="rect" id="node40" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="741,93,929,120"/>
<area shape="rect" id="node41" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="750,697,919,724"/>
<area shape="rect" id="node42" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="753,479,917,505"/>
<area shape="rect" id="node43" href="mds__client_8h.html#a0435bf9d87d67b682d73e5bd92f3f41a" title="ceph_mdsc_build_path" alt="" coords="757,529,912,556"/>
<area shape="rect" id="node44" href="mds__client_8h.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="745,581,924,622"/>
<area shape="rect" id="node45" href="mds__client_8h.html#a1d3c4cd04177b319e012186a5a04c39b" title="ceph_mdsc_lease_send_msg" alt="" coords="737,144,932,171"/>
<area shape="rect" id="node46" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="739,195,930,221"/>
<area shape="rect" id="node47" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="746,245,923,272"/>
<area shape="rect" id="node48" href="mds__client_8h.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="751,297,918,338"/>
<area shape="rect" id="node49" href="mds__client_8h.html#a6f400bce6e34c2f1d994870cce784825" title="ceph_mdsc_open_export\l_target_sessions" alt="" coords="751,362,918,403"/>
<area shape="rect" id="node50" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="777,428,892,455"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_icgraph.png" border="0" usemap="#ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_icgraph" id="ceph_2locks_8c_a8b96cfd3be5ff52380b8b6beb752a665_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="135,449,325,476"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="373,389,447,416"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="500,5,624,32"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="709,301,816,328"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="495,353,629,394"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="677,360,848,387"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="896,353,1047,394"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1978,233,2073,260"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1320,816,1463,843"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1970,867,2081,893"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1101,309,1243,336"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1113,500,1231,527"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1106,867,1238,893"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1095,157,1249,184"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1537,841,1696,868"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1748,917,1904,944"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1972,1019,2079,1045"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1325,551,1457,577"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1336,1019,1447,1045"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1577,765,1657,792"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1767,867,1885,893"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1563,1120,1670,1147"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1551,1171,1682,1197"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1547,968,1686,995"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1324,867,1459,893"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1297,613,1485,640"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1535,461,1699,488"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1535,613,1699,640"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1755,461,1897,488"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1759,360,1893,387"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1761,411,1891,437"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1751,512,1901,539"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2147,132,2217,159"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2265,107,2475,133"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2281,157,2459,184"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2523,128,2665,155"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2523,179,2665,221"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2713,128,2849,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2722,187,2841,213"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1758,715,1894,741"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1778,765,1874,792"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1777,613,1875,640"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1779,664,1873,691"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1750,107,1902,133"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1308,107,1475,133"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1952,157,2099,184"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1957,107,2094,133"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1533,107,1700,133"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1761,56,1891,83"/>
</map>
</div>

</div>
</div>
<a id="a7e030e16816082eb74553b5d9938f386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e030e16816082eb74553b5d9938f386">&#9670;&nbsp;</a></span>ceph_lock_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ceph_lock_message </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>lock_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>wait</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implement fcntl and flock locking functions. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_cgraph.png" border="0" usemap="#ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_cgraph" id="ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="199,332,325,359"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1517,1151,1605,1177"/>
<area shape="rect" id="node4" href="mds__client_8c.html#a1f4e3ccc5b0a05d39ed1a8b0febd0808" title="ceph_mdsc_create_request" alt="" coords="377,433,560,460"/>
<area shape="rect" id="node5" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1073,1365,1123,1392"/>
<area shape="rect" id="node7" href="ceph_2locks_8c.html#a2b2d2fcece9db6257fc9c489875de0d5" title="secure_addr" alt="" coords="215,743,309,769"/>
<area shape="rect" id="node8" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="195,677,329,718"/>
<area shape="rect" id="node9" href="mds__client_8c.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="389,1100,549,1127"/>
<area shape="rect" id="node28" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1016,361,1180,388"/>
<area shape="rect" id="node6" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1940,1235,2079,1261"/>
<area shape="rect" id="node10" href="caps_8c.html#a411cba14144ccc6cbedfe602a4a87208" title="ceph_get_cap_refs" alt="" coords="609,1293,741,1320"/>
<area shape="rect" id="node12" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="813,1100,943,1127"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="625,847,725,873"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a881d6a999ea651540ad5c554182b267d" title="ceph_invalidate_dir\l_request" alt="" coords="608,1202,741,1243"/>
<area shape="rect" id="node11" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="819,1369,937,1396"/>
<area shape="rect" id="node13" href="caps_8c.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="1259,543,1394,569"/>
<area shape="rect" id="node18" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1016,1100,1180,1127"/>
<area shape="rect" id="node14" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1514,476,1609,503"/>
<area shape="rect" id="node15" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="1699,476,1892,503"/>
<area shape="rect" id="node17" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="1716,636,1875,663"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1963,636,2055,663"/>
<area shape="rect" id="node19" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1233,948,1421,975"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a0e56b733f092ab72fcfa8f61bdcbff0b" title="destroy_reply_info" alt="" coords="1497,897,1625,924"/>
<area shape="rect" id="node21" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1495,1049,1627,1076"/>
<area shape="rect" id="node22" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1774,1100,1817,1127"/>
<area shape="rect" id="node23" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1538,948,1585,975"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a4f976db7742ec92c5b4d64d618c2caed" title="put_request_session" alt="" coords="1490,796,1633,823"/>
<area shape="rect" id="node25" href="caps_8c.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="1487,847,1636,873"/>
<area shape="rect" id="node27" href="mds__client_8c.html#af5c59a9acc4e730396a9d4925ee5fbc7" title="__unregister_request" alt="" coords="807,999,949,1025"/>
<area shape="rect" id="node41" href="mdsmap_8c.html#a74f1a418825d6b076bbf592809ea2836" title="ceph_mdsmap_is_cluster\l_available" alt="" coords="793,679,963,721"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a2f233bf95f0e79661504385b990c72dd" title="__choose_mds" alt="" coords="823,1252,933,1279"/>
<area shape="rect" id="node43" href="mds__client_8c.html#aaa35671be7b0fc8802b7c70b4cda9505" title="register_session" alt="" coords="819,745,937,772"/>
<area shape="rect" id="node44" href="mds__client_8c.html#afaba7f45f5f30ce2e396519d30889d67" title="ceph_session_state_name" alt="" coords="789,796,967,823"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ab6563919630abb18647c7e2d5dc7c73c" title="__open_session" alt="" coords="820,847,936,873"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="1016,1049,1180,1076"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a62acaf3ef1b93acf37d99b21d7d14b48" title="complete_request" alt="" coords="815,897,941,924"/>
<area shape="rect" id="node29" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1242,441,1411,468"/>
<area shape="rect" id="node31" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="1245,492,1409,519"/>
<area shape="rect" id="node33" href="mds__client_8h.html#a0435bf9d87d67b682d73e5bd92f3f41a" title="ceph_mdsc_build_path" alt="" coords="1249,5,1404,32"/>
<area shape="rect" id="node34" href="mds__client_8h.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="1472,629,1651,670"/>
<area shape="rect" id="node35" href="mds__client_8h.html#a1d3c4cd04177b319e012186a5a04c39b" title="ceph_mdsc_lease_send_msg" alt="" coords="1229,56,1424,83"/>
<area shape="rect" id="node36" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1231,107,1422,133"/>
<area shape="rect" id="node37" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="1238,157,1415,184"/>
<area shape="rect" id="node38" href="mds__client_8h.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="1243,209,1410,250"/>
<area shape="rect" id="node39" href="mds__client_8h.html#a6f400bce6e34c2f1d994870cce784825" title="ceph_mdsc_open_export\l_target_sessions" alt="" coords="1243,274,1410,315"/>
<area shape="rect" id="node40" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="1269,340,1384,367"/>
<area shape="rect" id="node30" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1510,375,1613,401"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a712c4c91d0a31d464c4080556a090ee1" title="lock_unlock_sessions" alt="" coords="1486,425,1637,452"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#aeb480f431f9be0ace231cae7f549f458" title="ceph_dir_clear_complete" alt="" coords="1015,1201,1181,1228"/>
<area shape="rect" id="node50" href="ceph_2dir_8c.html#a171ad59b0cee15811a1f3658f987e049" title="ceph_invalidate_dentry\l_lease" alt="" coords="801,1303,955,1345"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_icgraph.png" border="0" usemap="#ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_icgraph" id="ceph_2locks_8c_a7e030e16816082eb74553b5d9938f386_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a8b96cfd3be5ff52380b8b6beb752a665" title="ceph_lock" alt="" coords="197,448,278,475"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a323e7b6f4259160741cc1361b6874f12" title="ceph_flock" alt="" coords="195,397,280,424"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="328,397,519,424"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="567,309,640,336"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="693,104,817,131"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="903,229,1009,256"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="688,331,823,373"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="871,292,1041,319"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1089,314,1240,355"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2171,220,2266,247"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1513,499,1656,525"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2163,524,2274,551"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1294,296,1437,323"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1306,499,1425,525"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1299,600,1431,627"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1288,144,1443,171"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1731,499,1889,525"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1941,651,2097,677"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2165,701,2272,728"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1519,347,1651,373"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1529,651,1640,677"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1770,372,1850,399"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1961,372,2078,399"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1757,701,1863,728"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1745,752,1875,779"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1741,549,1879,576"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1517,549,1652,576"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1491,803,1679,829"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1728,803,1892,829"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1728,853,1892,880"/>
<area shape="rect" id="node25" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1948,803,2091,829"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1952,499,2087,525"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1955,752,2084,779"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1945,853,2094,880"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2340,119,2411,145"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2459,93,2668,120"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2475,144,2652,171"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2716,115,2859,141"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2716,166,2859,207"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2907,115,3043,141"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2915,173,3034,200"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1951,904,2087,931"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1971,955,2067,981"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1943,93,2095,120"/>
<area shape="rect" id="node44" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1501,144,1668,171"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2145,144,2292,171"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2150,93,2287,120"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1727,144,1893,171"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1954,43,2085,69"/>
</map>
</div>

</div>
</div>
<a id="aa1669cd0c0b97c914a01f9a46085c4e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1669cd0c0b97c914a01f9a46085c4e4">&#9670;&nbsp;</a></span>ceph_lock_wait_for_completion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ceph_lock_wait_for_completion </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__request.html">ceph_mds_request</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_cgraph.png" border="0" usemap="#ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_cgraph" id="ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_cgraph">
<area shape="rect" id="node2" href="mds__client_8c.html#a1f4e3ccc5b0a05d39ed1a8b0febd0808" title="ceph_mdsc_create_request" alt="" coords="188,1213,371,1240"/>
<area shape="rect" id="node3" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1581,1308,1631,1335"/>
<area shape="rect" id="node5" href="mds__client_8c.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="199,1264,359,1291"/>
<area shape="rect" id="node25" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="827,987,991,1013"/>
<area shape="rect" id="node4" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1751,1072,1889,1099"/>
<area shape="rect" id="node6" href="caps_8c.html#a411cba14144ccc6cbedfe602a4a87208" title="ceph_get_cap_refs" alt="" coords="419,1391,551,1417"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1562,312,1650,339"/>
<area shape="rect" id="node9" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="624,1365,753,1392"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="435,363,535,389"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a881d6a999ea651540ad5c554182b267d" title="ceph_invalidate_dir\l_request" alt="" coords="419,1198,552,1239"/>
<area shape="rect" id="node7" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="849,1544,968,1571"/>
<area shape="rect" id="node10" href="caps_8c.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="1070,1205,1205,1232"/>
<area shape="rect" id="node15" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="827,1356,991,1383"/>
<area shape="rect" id="node11" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1325,1021,1419,1048"/>
<area shape="rect" id="node12" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="1509,591,1703,617"/>
<area shape="rect" id="node14" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="1527,1072,1685,1099"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1774,317,1866,344"/>
<area shape="rect" id="node16" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1043,1256,1231,1283"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a0e56b733f092ab72fcfa8f61bdcbff0b" title="destroy_reply_info" alt="" coords="1308,1275,1436,1301"/>
<area shape="rect" id="node18" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1306,1173,1438,1200"/>
<area shape="rect" id="node19" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1585,945,1627,972"/>
<area shape="rect" id="node20" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1349,1325,1395,1352"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a4f976db7742ec92c5b4d64d618c2caed" title="put_request_session" alt="" coords="1301,1443,1443,1469"/>
<area shape="rect" id="node22" href="caps_8c.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="1297,1224,1447,1251"/>
<area shape="rect" id="node24" href="mds__client_8c.html#af5c59a9acc4e730396a9d4925ee5fbc7" title="__unregister_request" alt="" coords="617,565,760,592"/>
<area shape="rect" id="node41" href="mdsmap_8c.html#a74f1a418825d6b076bbf592809ea2836" title="ceph_mdsmap_is_cluster\l_available" alt="" coords="603,94,774,135"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a2f233bf95f0e79661504385b990c72dd" title="__choose_mds" alt="" coords="1082,413,1193,440"/>
<area shape="rect" id="node43" href="mds__client_8c.html#aaa35671be7b0fc8802b7c70b4cda9505" title="register_session" alt="" coords="630,160,747,187"/>
<area shape="rect" id="node44" href="mds__client_8c.html#afaba7f45f5f30ce2e396519d30889d67" title="ceph_session_state_name" alt="" coords="600,211,777,237"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ab6563919630abb18647c7e2d5dc7c73c" title="__open_session" alt="" coords="631,261,747,288"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="827,261,991,288"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a62acaf3ef1b93acf37d99b21d7d14b48" title="complete_request" alt="" coords="626,363,751,389"/>
<area shape="rect" id="node26" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1053,819,1222,845"/>
<area shape="rect" id="node28" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="1055,717,1219,744"/>
<area shape="rect" id="node32" href="mds__client_8h.html#a0435bf9d87d67b682d73e5bd92f3f41a" title="ceph_mdsc_build_path" alt="" coords="1060,515,1215,541"/>
<area shape="rect" id="node34" href="mds__client_8h.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="1283,1377,1461,1418"/>
<area shape="rect" id="node35" href="mds__client_8h.html#a1d3c4cd04177b319e012186a5a04c39b" title="ceph_mdsc_lease_send_msg" alt="" coords="1040,987,1235,1013"/>
<area shape="rect" id="node36" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1042,1037,1233,1064"/>
<area shape="rect" id="node37" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="1049,1088,1226,1115"/>
<area shape="rect" id="node38" href="mds__client_8h.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="1054,1139,1221,1181"/>
<area shape="rect" id="node39" href="mds__client_8h.html#a6f400bce6e34c2f1d994870cce784825" title="ceph_mdsc_open_export\l_target_sessions" alt="" coords="1054,870,1221,911"/>
<area shape="rect" id="node40" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="1080,936,1195,963"/>
<area shape="rect" id="node27" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1321,971,1423,997"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a712c4c91d0a31d464c4080556a090ee1" title="lock_unlock_sessions" alt="" coords="1297,717,1447,744"/>
<area shape="rect" id="node30" href="caps_8c.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="1296,869,1448,896"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a76d3be94ac9fa84095f062062881386e" title="wait_requests" alt="" coords="1321,616,1423,643"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a0463a433f603efab7ac10d068bfde5a5" title="ceph_snap" alt="" coords="1329,413,1415,440"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#aeb480f431f9be0ace231cae7f549f458" title="ceph_dir_clear_complete" alt="" coords="825,413,992,440"/>
<area shape="rect" id="node50" href="ceph_2dir_8c.html#a171ad59b0cee15811a1f3658f987e049" title="ceph_invalidate_dentry\l_lease" alt="" coords="611,1249,766,1290"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_icgraph.png" border="0" usemap="#ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_icgraph" id="ceph_2locks_8c_aa1669cd0c0b97c914a01f9a46085c4e4_icgraph">
<area shape="rect" id="node2" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="188,777,329,804"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a8b96cfd3be5ff52380b8b6beb752a665" title="ceph_lock" alt="" coords="379,565,461,592"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a323e7b6f4259160741cc1361b6874f12" title="ceph_flock" alt="" coords="377,717,463,744"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="511,528,701,555"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="749,473,823,500"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="876,80,1000,107"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1085,385,1192,412"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="871,437,1005,478"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1053,473,1224,500"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1272,386,1423,427"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2354,271,2449,297"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1696,448,1839,475"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2346,524,2457,551"/>
<area shape="rect" id="node13" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1477,396,1619,423"/>
<area shape="rect" id="node14" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1489,345,1607,372"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1482,604,1614,631"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1471,143,1625,169"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1913,448,2072,475"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2124,499,2280,525"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2348,600,2455,627"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1701,296,1833,323"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1712,600,1823,627"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1953,296,2033,323"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2143,296,2261,323"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1939,701,2046,728"/>
<area shape="rect" id="node20" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1927,499,2058,525"/>
<area shape="rect" id="node21" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1923,651,2062,677"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1700,499,1835,525"/>
<area shape="rect" id="node24" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1673,803,1861,829"/>
<area shape="rect" id="node25" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1911,803,2075,829"/>
<area shape="rect" id="node38" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1911,853,2075,880"/>
<area shape="rect" id="node26" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2131,752,2273,779"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2135,423,2269,449"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2137,701,2267,728"/>
<area shape="rect" id="node37" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2127,803,2277,829"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2523,119,2593,145"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2641,93,2851,120"/>
<area shape="rect" id="node31" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2657,144,2835,171"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2899,115,3041,141"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2899,166,3041,207"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="3089,115,3225,141"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3098,173,3217,200"/>
<area shape="rect" id="node39" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2134,904,2270,931"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2126,93,2278,120"/>
<area shape="rect" id="node44" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1684,144,1851,171"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2328,93,2475,120"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2333,144,2470,171"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1909,144,2076,171"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2137,43,2267,69"/>
</map>
</div>

</div>
</div>
<a id="ab73747202b8ce5ec5a44c461d4d73c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73747202b8ce5ec5a44c461d4d73c45">&#9670;&nbsp;</a></span>ceph_locks_to_pagelist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_locks_to_pagelist </td>
          <td>(</td>
          <td class="paramtype">struct ceph_filelock *&#160;</td>
          <td class="paramname"><em>flocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_pagelist *&#160;</td>
          <td class="paramname"><em>pagelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_fcntl_locks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_flock_locks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the encoded flock and fcntl locks into the pagelist. Format is: #fcntl locks, sequential fcntl locks, #flock locks, sequential flock locks. Returns zero on success. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_ab73747202b8ce5ec5a44c461d4d73c45_icgraph.png" border="0" usemap="#ceph_2locks_8c_ab73747202b8ce5ec5a44c461d4d73c45_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_ab73747202b8ce5ec5a44c461d4d73c45_icgraph" id="ceph_2locks_8c_ab73747202b8ce5ec5a44c461d4d73c45_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="212,347,403,373"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="247,583,367,609"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="476,633,549,660"/>
<area shape="rect" id="node42" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="451,195,575,221"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="837,608,944,635"/>
<area shape="rect" id="node40" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="623,655,757,697"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="805,707,976,733"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1024,601,1175,642"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1897,803,1991,829"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1449,43,1592,69"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1691,397,1801,424"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1229,651,1371,677"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1241,600,1359,627"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1234,347,1366,373"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1223,701,1377,728"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1667,43,1825,69"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1455,600,1587,627"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1465,296,1576,323"/>
<area shape="rect" id="node12" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1706,473,1786,500"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1693,321,1799,348"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1693,144,1799,171"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1681,195,1811,221"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1677,245,1815,272"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1453,93,1588,120"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1427,499,1615,525"/>
<area shape="rect" id="node21" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1664,575,1828,601"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1876,347,2012,373"/>
<area shape="rect" id="node23" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1896,397,1992,424"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1895,448,1993,475"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1897,499,1991,525"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1896,549,1992,576"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1893,600,1995,627"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1899,651,1989,677"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1905,701,1983,728"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1899,752,1989,779"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2066,828,2137,855"/>
<area shape="rect" id="node33" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2191,891,2400,917"/>
<area shape="rect" id="node34" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2207,828,2384,855"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2448,799,2591,825"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2448,850,2591,891"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1445,651,1597,677"/>
<area shape="rect" id="node39" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1437,701,1604,728"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="625,195,755,221"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1026,853,1173,880"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1240,853,1360,880"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="2060,916,2143,943"/>
<area shape="rect" id="node47" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1425,853,1616,880"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="1677,904,1815,931"/>
<area shape="rect" id="node49" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="1887,904,2001,931"/>
</map>
</div>

</div>
</div>
<a id="a423f17f81f3aa60601cbda45b371c1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a423f17f81f3aa60601cbda45b371c1ea">&#9670;&nbsp;</a></span>lock_to_ceph_filelock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lock_to_ceph_filelock </td>
          <td>(</td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_filelock *&#160;</td>
          <td class="paramname"><em>cephlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_cgraph.png" border="0" usemap="#ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_cgraph" alt=""/></div>
<map name="ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_cgraph" id="ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_cgraph">
<area shape="rect" id="node2" href="ceph_2locks_8c.html#a2b2d2fcece9db6257fc9c489875de0d5" title="secure_addr" alt="" coords="200,5,293,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_icgraph.png" border="0" usemap="#ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_icgraph" id="ceph_2locks_8c_a423f17f81f3aa60601cbda45b371c1ea_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a19551161d9349f2ec39fa1713eade422" title="ceph_encode_locks_to\l_buffer" alt="" coords="200,709,355,751"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="403,742,593,769"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="438,547,558,574"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="667,742,740,769"/>
<area shape="rect" id="node42" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="641,931,765,958"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1028,691,1135,718"/>
<area shape="rect" id="node40" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="813,793,948,835"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="996,778,1167,805"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1215,747,1365,788"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2087,551,2182,578"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1640,779,1783,806"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1881,627,1992,654"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1419,830,1562,857"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1431,779,1550,806"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1425,526,1557,553"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1413,931,1568,958"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1857,779,2016,806"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1645,881,1777,907"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1656,475,1767,502"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1897,855,1977,882"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1883,434,1990,461"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1883,497,1990,523"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1871,573,2002,599"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1867,377,2006,403"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1644,729,1779,755"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1617,273,1805,299"/>
<area shape="rect" id="node22" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1855,273,2019,299"/>
<area shape="rect" id="node23" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2067,247,2203,274"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="2087,298,2183,325"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="2086,349,2183,375"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="2087,399,2182,426"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="2087,450,2183,477"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="2083,501,2186,527"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="2090,146,2179,173"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="2096,197,2173,223"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2257,323,2327,350"/>
<area shape="rect" id="node33" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2381,134,2591,161"/>
<area shape="rect" id="node34" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2397,323,2575,350"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2639,294,2781,321"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2639,345,2781,387"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1635,931,1787,958"/>
<area shape="rect" id="node39" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1628,982,1795,1009"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="815,982,946,1009"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1217,95,1363,122"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1431,95,1551,122"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="2251,65,2333,91"/>
<area shape="rect" id="node47" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1616,95,1807,122"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="1867,45,2006,71"/>
<area shape="rect" id="node49" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="2077,45,2192,71"/>
</map>
</div>

</div>
</div>
<a id="a2b2d2fcece9db6257fc9c489875de0d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2d2fcece9db6257fc9c489875de0d5">&#9670;&nbsp;</a></span>secure_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 secure_addr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ceph_2locks_8c_a2b2d2fcece9db6257fc9c489875de0d5_icgraph.png" border="0" usemap="#ceph_2locks_8c_a2b2d2fcece9db6257fc9c489875de0d5_icgraph" alt=""/></div>
<map name="ceph_2locks_8c_a2b2d2fcece9db6257fc9c489875de0d5_icgraph" id="ceph_2locks_8c_a2b2d2fcece9db6257fc9c489875de0d5_icgraph">
<area shape="rect" id="node2" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="149,828,291,855"/>
<area shape="rect" id="node42" href="ceph_2locks_8c.html#a423f17f81f3aa60601cbda45b371c1ea" title="lock_to_ceph_filelock" alt="" coords="147,883,293,909"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a8b96cfd3be5ff52380b8b6beb752a665" title="ceph_lock" alt="" coords="378,752,459,779"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a323e7b6f4259160741cc1361b6874f12" title="ceph_flock" alt="" coords="376,803,461,829"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="544,752,735,779"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="808,228,881,255"/>
<area shape="rect" id="node39" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="783,752,907,779"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1169,245,1276,272"/>
<area shape="rect" id="node37" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="955,137,1089,178"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1137,159,1308,185"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1356,158,1507,199"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2229,448,2323,475"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1781,144,1924,171"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2023,347,2133,373"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1561,43,1703,69"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1573,575,1691,601"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1566,473,1698,500"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1555,93,1709,120"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1999,144,2157,171"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1787,752,1919,779"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1797,499,1908,525"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="2038,701,2118,728"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2025,593,2131,620"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2025,409,2131,436"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2013,485,2143,512"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2009,543,2147,569"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1785,296,1920,323"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1759,701,1947,728"/>
<area shape="rect" id="node23" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1996,853,2160,880"/>
<area shape="rect" id="node24" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2208,803,2344,829"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="2228,853,2324,880"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="2227,904,2325,931"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="2229,955,2323,981"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2398,879,2469,905"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2523,941,2732,968"/>
<area shape="rect" id="node31" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2539,879,2716,905"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2780,849,2923,876"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2780,901,2923,942"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1777,43,1929,69"/>
<area shape="rect" id="node36" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1769,93,1936,120"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="957,803,1087,829"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a19551161d9349f2ec39fa1713eade422" title="ceph_encode_locks_to\l_buffer" alt="" coords="341,905,496,946"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="579,936,699,963"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1358,1005,1505,1032"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1572,1005,1692,1032"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="2392,967,2475,993"/>
<area shape="rect" id="node47" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1757,1005,1948,1032"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="2009,1056,2147,1083"/>
<area shape="rect" id="node49" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="2219,1056,2333,1083"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af2f0a27d6dbc27747a4de35c606b5941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f0a27d6dbc27747a4de35c606b5941">&#9670;&nbsp;</a></span>ceph_fl_lock_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_lock_operations ceph_fl_lock_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .fl_copy_lock = <a class="code" href="ceph_2locks_8c.html#ab9efd906ca8a91e3c6943a93801a894b">ceph_fl_copy_lock</a>,</div><div class="line">    .fl_release_private = <a class="code" href="ceph_2locks_8c.html#a1e4bc787c32a7cc7477457d4290372d3">ceph_fl_release_lock</a>,</div><div class="line">}</div><div class="ttc" id="ceph_2locks_8c_html_ab9efd906ca8a91e3c6943a93801a894b"><div class="ttname"><a href="ceph_2locks_8c.html#ab9efd906ca8a91e3c6943a93801a894b">ceph_fl_copy_lock</a></div><div class="ttdeci">static void ceph_fl_copy_lock(struct file_lock *dst, struct file_lock *src)</div><div class="ttdef"><b>Definition:</b> locks.c:33</div></div>
<div class="ttc" id="ceph_2locks_8c_html_a1e4bc787c32a7cc7477457d4290372d3"><div class="ttname"><a href="ceph_2locks_8c.html#a1e4bc787c32a7cc7477457d4290372d3">ceph_fl_release_lock</a></div><div class="ttdeci">static void ceph_fl_release_lock(struct file_lock *fl)</div><div class="ttdef"><b>Definition:</b> locks.c:39</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97d5c80f1c9cb800ec34e254962dfb56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d5c80f1c9cb800ec34e254962dfb56">&#9670;&nbsp;</a></span>lock_secret</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u64 lock_secret</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_277e9de12ca591d684d25c534e13f5a5.html">ceph</a></li><li class="navelem"><a class="el" href="ceph_2locks_8c.html">locks.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
