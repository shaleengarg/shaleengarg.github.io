<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: btrfs/locking.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('locking_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">locking.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/spinlock.h&gt;</code><br />
<code>#include &lt;linux/page-flags.h&gt;</code><br />
<code>#include &lt;asm/bug.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ctree_8h_source.html">ctree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="extent__io_8h_source.html">extent_io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="locking_8h_source.html">locking.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for locking.c:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c__incl.png" border="0" usemap="#btrfs_2locking_8c" alt=""/></div>
<map name="btrfs_2locking_8c" id="btrfs_2locking_8c">
<area shape="rect" id="node7" href="ctree_8h.html" title="ctree.h" alt="" coords="1663,80,1726,107"/>
<area shape="rect" id="node29" href="extent__io_8h.html" title="extent_io.h" alt="" coords="3102,155,3189,181"/>
<area shape="rect" id="node35" href="locking_8h.html" title="locking.h" alt="" coords="1801,80,1876,107"/>
<area shape="rect" id="node33" href="btrfs_2extent__map_8h.html" title="extent_map.h" alt="" coords="2652,155,2753,181"/>
<area shape="rect" id="node34" href="async-thread_8h.html" title="async&#45;thread.h" alt="" coords="2393,155,2501,181"/>
<area shape="rect" id="node31" href="ulist_8h.html" title="ulist.h" alt="" coords="3150,229,3207,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a96cb3fd07179ed9fd59676d6a7c0490a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a">btrfs_assert_tree_read_locked</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:a96cb3fd07179ed9fd59676d6a7c0490a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e348abb715bfbdaa8f5b77b476138d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8">btrfs_set_lock_blocking_rw</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb, int rw)</td></tr>
<tr class="separator:a9e348abb715bfbdaa8f5b77b476138d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d5623d838733b3ecfbe444a6e1e387"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387">btrfs_clear_lock_blocking_rw</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb, int rw)</td></tr>
<tr class="separator:ac2d5623d838733b3ecfbe444a6e1e387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a9529d2c5df0dd5b3664a4dd6e943e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e">btrfs_tree_read_lock</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:ac3a9529d2c5df0dd5b3664a4dd6e943e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2bcea775d438793ffce306669343d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3">btrfs_tree_read_lock_atomic</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:a7c2bcea775d438793ffce306669343d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67cefdb7d7e937de833717b61efcd02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02">btrfs_try_tree_read_lock</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:ae67cefdb7d7e937de833717b61efcd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c102c7789caf8ce397e3df56fc22bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf">btrfs_try_tree_write_lock</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:a78c102c7789caf8ce397e3df56fc22bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfca79b4675d7daba8ea67473bae19e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e">btrfs_tree_read_unlock</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:abcfca79b4675d7daba8ea67473bae19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1458ea8c9813bf0adcdee273c8e2494"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#af1458ea8c9813bf0adcdee273c8e2494">btrfs_tree_read_unlock_blocking</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:af1458ea8c9813bf0adcdee273c8e2494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1982e93abc5a6684f0a522e152464368"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368">btrfs_tree_lock</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:a1982e93abc5a6684f0a522e152464368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b4045191c3f61af033da14c294e7e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6">btrfs_tree_unlock</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:a21b4045191c3f61af033da14c294e7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6aa419ebd229e967fff79065236cb79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79">btrfs_assert_tree_locked</a> (struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *eb)</td></tr>
<tr class="separator:ab6aa419ebd229e967fff79065236cb79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab6aa419ebd229e967fff79065236cb79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6aa419ebd229e967fff79065236cb79">&#9670;&nbsp;</a></span>btrfs_assert_tree_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_assert_tree_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_ab6aa419ebd229e967fff79065236cb79_icgraph.png" border="0" usemap="#locking_8c_ab6aa419ebd229e967fff79065236cb79_icgraph" alt=""/></div>
<map name="locking_8c_ab6aa419ebd229e967fff79065236cb79_icgraph" id="locking_8c_ab6aa419ebd229e967fff79065236cb79_icgraph">
<area shape="rect" id="node2" href="btrfs_2xattr_8c.html#adafb023ead6cecbbc0619e076b66a24f" title="do_setxattr" alt="" coords="699,5,785,32"/>
<area shape="rect" id="node4" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="677,1424,807,1451"/>
<area shape="rect" id="node9" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="1116,1475,1227,1501"/>
<area shape="rect" id="node17" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="1120,1779,1223,1805"/>
<area shape="rect" id="node19" href="ctree_8c.html#a78424fc45f95a5d0197a931835ebac87" title="insert_ptr" alt="" coords="704,1171,780,1197"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a663f5d9f4629caab10c84ad34bdcb309" title="btree_set_page_dirty" alt="" coords="237,2184,380,2211"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="249,1905,369,1932"/>
<area shape="rect" id="node35" href="disk-io_8h.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="447,715,603,741"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="243,2235,374,2261"/>
<area shape="rect" id="node49" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="219,2285,399,2312"/>
<area shape="rect" id="node50" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="463,1753,586,1780"/>
<area shape="rect" id="node3" href="btrfs_2xattr_8h.html#a434058b03ecb1c530e21db56b2f845b1" title="btrfs_setxattr" alt="" coords="915,5,1013,32"/>
<area shape="rect" id="node5" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="905,1475,1023,1501"/>
<area shape="rect" id="node18" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="900,1525,1028,1552"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1121,1247,1222,1273"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="1095,1019,1248,1045"/>
<area shape="rect" id="node8" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1329,1019,1411,1045"/>
<area shape="rect" id="node10" href="ctree_8c.html#ac3501ef0625458a7b9b12f60e59fcf15" title="push_for_double_split" alt="" coords="1296,1475,1444,1501"/>
<area shape="rect" id="node11" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1541,1399,1616,1425"/>
<area shape="rect" id="node12" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1315,461,1425,488"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1507,183,1651,209"/>
<area shape="rect" id="node15" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1492,309,1665,336"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1509,505,1649,546"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1713,113,1848,154"/>
<area shape="rect" id="node20" href="ctree_8c.html#a64ba3d28290eb73dc41d0e7d1104cf07" title="copy_for_split" alt="" coords="913,1373,1015,1400"/>
<area shape="rect" id="node21" href="reiserfs_8h.html#a633866bcfdc41d2c0ccfb0f846537755" title="do_balance" alt="" coords="920,1171,1008,1197"/>
<area shape="rect" id="node24" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="457,1424,593,1451"/>
<area shape="rect" id="node25" href="ctree_8c.html#a6c6b68f231f959cee143ee1d5acc993f" title="__push_leaf_right" alt="" coords="680,1475,804,1501"/>
<area shape="rect" id="node26" href="ctree_8c.html#ac49131e8c09e8a37176287844a4ba794" title="__push_leaf_left" alt="" coords="905,1779,1023,1805"/>
<area shape="rect" id="node27" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="470,1880,579,1907"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a56ddb7df98f98a19cb3e0852d2968f3f" title="btrfs_init_new_buffer" alt="" coords="453,1931,596,1957"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="473,2032,576,2059"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="651,2133,833,2160"/>
<area shape="rect" id="node31" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="675,2184,809,2211"/>
<area shape="rect" id="node32" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="672,2032,812,2059"/>
<area shape="rect" id="node33" href="tree-log_8c.html#a9f37fe1648eade27cb6d159fb2fbe93c" title="walk_log_tree" alt="" coords="913,2057,1015,2084"/>
<area shape="rect" id="node34" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="681,2083,803,2109"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1135,208,1208,235"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a985adcd92e14eef27b8d96ecaad35b55" title="insert_inline_extent" alt="" coords="675,664,809,691"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="669,715,815,741"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#a612e16f16a54684bee0ffb2259083460" title="btrfs_update_inode_item" alt="" coords="660,765,824,792"/>
<area shape="rect" id="node40" href="btrfs_2inode_8c.html#ab2e376bfad5fe1288e6a7ca1ec6f1170" title="btrfs_new_inode" alt="" coords="683,461,801,488"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="914,487,1014,513"/>
<area shape="rect" id="node42" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="686,360,798,387"/>
<area shape="rect" id="node43" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="686,613,798,640"/>
<area shape="rect" id="node44" href="ctree_8h.html#a18dd74cfd6b752c54b9aadc04d106c4a" title="btrfs_set_item_key_safe" alt="" coords="881,309,1047,336"/>
<area shape="rect" id="node45" href="ctree_8c.html#afa371d6167668d30f730aee14438befe" title="push_node_left" alt="" coords="909,1069,1019,1096"/>
<area shape="rect" id="node46" href="ctree_8c.html#a9b60c502d2bc7a6fc4e8db8fd0a4b519" title="balance_node_right" alt="" coords="897,968,1031,995"/>
<area shape="rect" id="node47" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1114,816,1229,843"/>
</map>
</div>

</div>
</div>
<a id="a96cb3fd07179ed9fd59676d6a7c0490a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96cb3fd07179ed9fd59676d6a7c0490a">&#9670;&nbsp;</a></span>btrfs_assert_tree_read_locked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btrfs_assert_tree_read_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a96cb3fd07179ed9fd59676d6a7c0490a_icgraph.png" border="0" usemap="#locking_8c_a96cb3fd07179ed9fd59676d6a7c0490a_icgraph" alt=""/></div>
<map name="locking_8c_a96cb3fd07179ed9fd59676d6a7c0490a_icgraph" id="locking_8c_a96cb3fd07179ed9fd59676d6a7c0490a_icgraph">
<area shape="rect" id="node2" href="locking_8h.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="205,548,385,574"/>
<area shape="rect" id="node46" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="646,1637,801,1664"/>
<area shape="rect" id="node50" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="218,322,373,363"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1481,1840,1609,1866"/>
<area shape="rect" id="node7" href="backref_8h.html#a325febb85f679ba37d38b9f9e368c2aa" title="btrfs_ref_to_path" alt="" coords="453,405,573,432"/>
<area shape="rect" id="node10" href="backref_8c.html#a3ffeeb541702446ffbd280b610a55449" title="iterate_inode_refs" alt="" coords="450,354,575,381"/>
<area shape="rect" id="node12" href="backref_8c.html#a460a7f7b4801ce6123d5e45f08a27c92" title="iterate_inode_extrefs" alt="" coords="441,304,584,330"/>
<area shape="rect" id="node13" href="ctree_8h.html#aa3b89074923a67a4a4a848e19f07ba0c" title="btrfs_set_path_blocking" alt="" coords="643,1181,803,1208"/>
<area shape="rect" id="node15" href="ctree_8h.html#a287f852add1cebb861316c9918540c17" title="btrfs_clear_path_blocking" alt="" coords="859,1054,1029,1081"/>
<area shape="rect" id="node16" href="ctree_8c.html#a862ac2659364797e66c4ca916b28e91c" title="tree_mod_log_rewind" alt="" coords="1091,674,1236,701"/>
<area shape="rect" id="node29" href="ctree_8c.html#afd52fe61e93c39be05ad30f81b13cfc6" title="get_old_root" alt="" coords="1117,826,1210,853"/>
<area shape="rect" id="node30" href="disk-io_8c.html#a6bde46c79adc9fb20eda2e833b92de3a" title="verify_parent_transid" alt="" coords="441,253,584,280"/>
<area shape="rect" id="node34" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="433,624,592,650"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a4273e8a52c184af0a427768658a62eef" title="btrfs_qgroup_trace\l_subtree" alt="" coords="447,1916,578,1958"/>
<area shape="rect" id="node43" href="qgroup_8c.html#a83ec5d0c3d85505680665802de0151e1" title="qgroup_rescan_leaf" alt="" coords="445,152,580,178"/>
<area shape="rect" id="node44" href="ref-verify_8c.html#aeaa5e349d10577323c7a195536b1716b" title="walk_down_tree" alt="" coords="455,1982,571,2009"/>
<area shape="rect" id="node45" href="ref-verify_8c.html#a496d17e4b81abe298309e2da7ccb281c" title="btrfs_build_ref_tree" alt="" coords="1097,1916,1230,1942"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1683,1789,1814,1816"/>
<area shape="rect" id="node5" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1667,1840,1831,1866"/>
<area shape="rect" id="node6" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1681,1890,1817,1917"/>
<area shape="rect" id="node8" href="backref_8c.html#a8733f7f13657040a3cf85b8032cf21c3" title="inode_to_path" alt="" coords="672,320,775,346"/>
<area shape="rect" id="node9" href="send_8c.html#a87a958a697c8a2ca684ffd3eba6cc73c" title="iterate_inode_ref" alt="" coords="664,370,783,397"/>
<area shape="rect" id="node11" href="backref_8c.html#ae7be3197d98f73da37954f72e812be15" title="iterate_irefs" alt="" coords="678,269,769,296"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1475,1236,1615,1278"/>
<area shape="rect" id="node17" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1472,826,1619,853"/>
<area shape="rect" id="node18" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1683,1192,1815,1218"/>
<area shape="rect" id="node19" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1081,1080,1245,1106"/>
<area shape="rect" id="node20" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1297,1302,1420,1329"/>
<area shape="rect" id="node21" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1478,1482,1613,1509"/>
<area shape="rect" id="node22" href="ctree_8h.html#a95d46d301fb4a62d16e52cc3fefca134" title="btrfs_search_forward" alt="" coords="1091,1460,1235,1486"/>
<area shape="rect" id="node23" href="delayed-inode_8c.html#a736176c83e7ceb01eb8f1517c42ba87b" title="btrfs_batch_insert\l_items" alt="" coords="1100,1182,1227,1223"/>
<area shape="rect" id="node24" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1087,725,1240,752"/>
<area shape="rect" id="node25" href="ctree_8c.html#a2d4be318d7e5fd474ccbf21f933e3f52" title="split_item" alt="" coords="905,1257,983,1284"/>
<area shape="rect" id="node26" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1108,877,1219,904"/>
<area shape="rect" id="node27" href="ctree_8h.html#ad91b96ba60ae7f985cf821fcaf931bfa" title="btrfs_previous_item" alt="" coords="876,1409,1012,1436"/>
<area shape="rect" id="node28" href="ctree_8h.html#a0467b76efaeec924707f4fc5133849c5" title="btrfs_previous_extent_item" alt="" coords="855,1206,1033,1233"/>
<area shape="rect" id="node31" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="640,203,807,244"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="651,152,796,178"/>
<area shape="rect" id="node33" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="880,290,1008,317"/>
<area shape="rect" id="node35" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="665,725,782,752"/>
<area shape="rect" id="node36" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="893,700,995,726"/>
<area shape="rect" id="node37" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="867,548,1021,574"/>
<area shape="rect" id="node38" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="889,750,999,777"/>
<area shape="rect" id="node39" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="893,598,995,625"/>
<area shape="rect" id="node40" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="663,573,783,600"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a56ddb7df98f98a19cb3e0852d2968f3f" title="btrfs_init_new_buffer" alt="" coords="873,446,1015,473"/>
<area shape="rect" id="node47" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="1293,1814,1424,1841"/>
<area shape="rect" id="node48" href="ctree_8h.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="857,1510,1031,1537"/>
<area shape="rect" id="node49" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1092,1713,1235,1740"/>
</map>
</div>

</div>
</div>
<a id="ac2d5623d838733b3ecfbe444a6e1e387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d5623d838733b3ecfbe444a6e1e387">&#9670;&nbsp;</a></span>btrfs_clear_lock_blocking_rw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_clear_lock_blocking_rw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_ac2d5623d838733b3ecfbe444a6e1e387_icgraph.png" border="0" usemap="#locking_8c_ac2d5623d838733b3ecfbe444a6e1e387_icgraph" alt=""/></div>
<map name="locking_8c_ac2d5623d838733b3ecfbe444a6e1e387_icgraph" id="locking_8c_ac2d5623d838733b3ecfbe444a6e1e387_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a287f852add1cebb861316c9918540c17" title="btrfs_clear_path_blocking" alt="" coords="244,1006,415,1033"/>
<area shape="rect" id="node50" href="locking_8h.html#a4675db06fbddfd4067144f28c48f5355" title="btrfs_clear_lock_blocking" alt="" coords="245,1057,414,1084"/>
<area shape="rect" id="node3" href="ctree_8c.html#a862ac2659364797e66c4ca916b28e91c" title="tree_mod_log_rewind" alt="" coords="675,738,820,765"/>
<area shape="rect" id="node4" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="887,36,1034,62"/>
<area shape="rect" id="node6" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1123,36,1255,62"/>
<area shape="rect" id="node7" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="463,1006,627,1033"/>
<area shape="rect" id="node8" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="686,1057,809,1084"/>
<area shape="rect" id="node30" href="ctree_8h.html#a95d46d301fb4a62d16e52cc3fefca134" title="btrfs_search_forward" alt="" coords="1117,2021,1261,2048"/>
<area shape="rect" id="node49" href="delayed-inode_8c.html#a736176c83e7ceb01eb8f1517c42ba87b" title="btrfs_batch_insert\l_items" alt="" coords="481,2324,608,2366"/>
<area shape="rect" id="node5" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="1122,542,1257,569"/>
<area shape="rect" id="node9" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="911,694,1010,721"/>
<area shape="rect" id="node10" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="874,745,1047,772"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="924,796,997,822"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="893,846,1029,873"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="887,897,1034,924"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="883,948,1039,974"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="887,998,1034,1025"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="891,1050,1031,1091"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="881,1116,1041,1142"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="899,1166,1022,1193"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a37d0918a2fc838c72d5e2b23a959e174" title="btrfs_set_inode_index\l_count" alt="" coords="886,1218,1035,1259"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="882,1283,1039,1324"/>
<area shape="rect" id="node21" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="897,1349,1025,1376"/>
<area shape="rect" id="node22" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="889,1400,1033,1426"/>
<area shape="rect" id="node23" href="backref_8h.html#ad70881371a285671529e3851cf65e7c9" title="extent_from_logical" alt="" coords="893,1450,1028,1477"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="907,1501,1015,1528"/>
<area shape="rect" id="node25" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="1101,1577,1277,1604"/>
<area shape="rect" id="node26" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="893,1653,1028,1680"/>
<area shape="rect" id="node27" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="895,1704,1026,1746"/>
<area shape="rect" id="node28" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="907,1602,1015,1629"/>
<area shape="rect" id="node29" href="ctree_8h.html#a165e21ba4b218147c02079eeb1dbdba4" title="btrfs_find_next_key" alt="" coords="893,1770,1029,1797"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#ab61a2bc5d71831c68162d50821cf89a5" title="btrfs_delete_delayed\l_items" alt="" coords="889,1822,1032,1863"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#ade5cf6047909b53374b7197277c0ff2f" title="__btrfs_update_delayed\l_inode" alt="" coords="881,1887,1041,1928"/>
<area shape="rect" id="node33" href="dev-replace_8h.html#ac7bbfb04b9ab106df529e54fd4d81bff" title="btrfs_init_dev_replace" alt="" coords="886,1953,1035,1980"/>
<area shape="rect" id="node34" href="dev-replace_8h.html#a95d9bb80e90d5691046740266dac89a6" title="btrfs_run_dev_replace" alt="" coords="885,2004,1036,2030"/>
<area shape="rect" id="node35" href="dir-item_8c.html#ae499ca82acaad29d28f02edcdf416a86" title="btrfs_lookup_dir_item" alt="" coords="887,2054,1034,2081"/>
<area shape="rect" id="node36" href="dir-item_8c.html#a115f1c6836183c93baf9a2ba612a6a96" title="btrfs_check_dir_item\l_collision" alt="" coords="889,2106,1032,2147"/>
<area shape="rect" id="node37" href="dir-item_8c.html#afb615b30aeee8d14135ea7743ba79bc1" title="btrfs_lookup_dir_index_item" alt="" coords="869,2172,1053,2198"/>
<area shape="rect" id="node38" href="dir-item_8c.html#a2bfc2cc4158b7b66987baf29123f2131" title="btrfs_search_dir_index_item" alt="" coords="868,2222,1053,2249"/>
<area shape="rect" id="node39" href="dir-item_8c.html#abf65c387c951286eb420e43893707c11" title="btrfs_lookup_xattr" alt="" coords="897,137,1024,164"/>
<area shape="rect" id="node40" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="901,542,1021,569"/>
<area shape="rect" id="node41" href="btrfs_2export_8c.html#a9ea914c0021cfe6a2b432c2ed1acfa73" title="btrfs_get_parent" alt="" coords="903,188,1019,214"/>
<area shape="rect" id="node42" href="btrfs_2export_8c.html#a5ef42c688b89c319cdaed1213632749a" title="btrfs_get_name" alt="" coords="905,238,1017,265"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="887,289,1034,316"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="877,340,1045,366"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="879,390,1043,417"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="880,441,1041,468"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="882,492,1039,518"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697" title="lookup_tree_block_ref" alt="" coords="886,593,1035,620"/>
</map>
</div>

</div>
</div>
<a id="a9e348abb715bfbdaa8f5b77b476138d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e348abb715bfbdaa8f5b77b476138d8">&#9670;&nbsp;</a></span>btrfs_set_lock_blocking_rw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_set_lock_blocking_rw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_cgraph.png" border="0" usemap="#locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_cgraph" alt=""/></div>
<map name="locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_cgraph" id="locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_cgraph">
<area shape="rect" id="node2" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="233,5,399,32"/>
<area shape="rect" id="node3" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="240,57,392,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_icgraph.png" border="0" usemap="#locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_icgraph" alt=""/></div>
<map name="locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_icgraph" id="locking_8c_a9e348abb715bfbdaa8f5b77b476138d8_icgraph">
<area shape="rect" id="node2" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1273,93,1401,120"/>
<area shape="rect" id="node6" href="backref_8h.html#a325febb85f679ba37d38b9f9e368c2aa" title="btrfs_ref_to_path" alt="" coords="253,1796,373,1823"/>
<area shape="rect" id="node9" href="backref_8c.html#a3ffeeb541702446ffbd280b610a55449" title="iterate_inode_refs" alt="" coords="250,1847,375,1873"/>
<area shape="rect" id="node11" href="backref_8c.html#a460a7f7b4801ce6123d5e45f08a27c92" title="iterate_inode_extrefs" alt="" coords="241,1897,384,1924"/>
<area shape="rect" id="node12" href="ctree_8h.html#aa3b89074923a67a4a4a848e19f07ba0c" title="btrfs_set_path_blocking" alt="" coords="443,524,603,551"/>
<area shape="rect" id="node14" href="ctree_8h.html#a287f852add1cebb861316c9918540c17" title="btrfs_clear_path_blocking" alt="" coords="659,245,829,272"/>
<area shape="rect" id="node15" href="ctree_8c.html#a862ac2659364797e66c4ca916b28e91c" title="tree_mod_log_rewind" alt="" coords="891,195,1036,221"/>
<area shape="rect" id="node31" href="ctree_8c.html#afd52fe61e93c39be05ad30f81b13cfc6" title="get_old_root" alt="" coords="1108,68,1201,95"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a6bde46c79adc9fb20eda2e833b92de3a" title="verify_parent_transid" alt="" coords="241,1695,384,1721"/>
<area shape="rect" id="node37" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="233,1360,392,1387"/>
<area shape="rect" id="node47" href="qgroup_8h.html#a4273e8a52c184af0a427768658a62eef" title="btrfs_qgroup_trace\l_subtree" alt="" coords="458,1831,589,1873"/>
<area shape="rect" id="node48" href="qgroup_8c.html#a83ec5d0c3d85505680665802de0151e1" title="qgroup_rescan_leaf" alt="" coords="245,1948,380,1975"/>
<area shape="rect" id="node49" href="ref-verify_8c.html#aeaa5e349d10577323c7a195536b1716b" title="walk_down_tree" alt="" coords="255,2049,371,2076"/>
<area shape="rect" id="node50" href="ref-verify_8c.html#a496d17e4b81abe298309e2da7ccb281c" title="btrfs_build_ref_tree" alt="" coords="457,2049,590,2076"/>
<area shape="rect" id="node3" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1475,93,1606,120"/>
<area shape="rect" id="node4" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1459,144,1623,171"/>
<area shape="rect" id="node5" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1473,43,1609,69"/>
<area shape="rect" id="node7" href="backref_8c.html#a8733f7f13657040a3cf85b8032cf21c3" title="inode_to_path" alt="" coords="472,1897,575,1924"/>
<area shape="rect" id="node8" href="send_8c.html#a87a958a697c8a2ca684ffd3eba6cc73c" title="iterate_inode_ref" alt="" coords="464,1948,583,1975"/>
<area shape="rect" id="node10" href="backref_8c.html#ae7be3197d98f73da37954f72e812be15" title="iterate_irefs" alt="" coords="478,1999,569,2025"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1267,635,1407,677"/>
<area shape="rect" id="node16" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1264,245,1411,272"/>
<area shape="rect" id="node17" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1475,701,1607,728"/>
<area shape="rect" id="node18" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="881,701,1045,728"/>
<area shape="rect" id="node19" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1093,701,1216,728"/>
<area shape="rect" id="node20" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1270,549,1405,576"/>
<area shape="rect" id="node24" href="ctree_8h.html#a95d46d301fb4a62d16e52cc3fefca134" title="btrfs_search_forward" alt="" coords="891,397,1035,424"/>
<area shape="rect" id="node25" href="delayed-inode_8c.html#a736176c83e7ceb01eb8f1517c42ba87b" title="btrfs_batch_insert\l_items" alt="" coords="900,449,1027,490"/>
<area shape="rect" id="node26" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="887,803,1040,829"/>
<area shape="rect" id="node27" href="ctree_8c.html#a2d4be318d7e5fd474ccbf21f933e3f52" title="split_item" alt="" coords="705,347,783,373"/>
<area shape="rect" id="node28" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="908,752,1019,779"/>
<area shape="rect" id="node29" href="ctree_8h.html#ad91b96ba60ae7f985cf821fcaf931bfa" title="btrfs_previous_item" alt="" coords="676,397,812,424"/>
<area shape="rect" id="node30" href="ctree_8h.html#a0467b76efaeec924707f4fc5133849c5" title="btrfs_previous_extent_item" alt="" coords="655,549,833,576"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1267,752,1407,779"/>
<area shape="rect" id="node22" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1289,1524,1385,1551"/>
<area shape="rect" id="node23" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1288,1259,1387,1285"/>
<area shape="rect" id="node33" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="440,1766,607,1807"/>
<area shape="rect" id="node34" href="disk-io_8h.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="451,1664,596,1691"/>
<area shape="rect" id="node35" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="680,1613,808,1640"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="690,1715,798,1741"/>
<area shape="rect" id="node38" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="465,1259,582,1285"/>
<area shape="rect" id="node39" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="693,904,795,931"/>
<area shape="rect" id="node40" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="667,1360,821,1387"/>
<area shape="rect" id="node41" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="689,1157,799,1184"/>
<area shape="rect" id="node42" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="693,1107,795,1133"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="659,1411,829,1437"/>
<area shape="rect" id="node44" href="disk-io_8h.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="463,1005,583,1032"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a56ddb7df98f98a19cb3e0852d2968f3f" title="btrfs_init_new_buffer" alt="" coords="673,1005,815,1032"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="693,1056,795,1083"/>
</map>
</div>

</div>
</div>
<a id="a1982e93abc5a6684f0a522e152464368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1982e93abc5a6684f0a522e152464368">&#9670;&nbsp;</a></span>btrfs_tree_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_tree_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a1982e93abc5a6684f0a522e152464368_icgraph.png" border="0" usemap="#locking_8c_a1982e93abc5a6684f0a522e152464368_icgraph" alt=""/></div>
<map name="locking_8c_a1982e93abc5a6684f0a522e152464368_icgraph" id="locking_8c_a1982e93abc5a6684f0a522e152464368_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="579,356,721,383"/>
<area shape="rect" id="node3" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="804,860,927,887"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1015,144,1155,171"/>
<area shape="rect" id="node30" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1037,43,1133,69"/>
<area shape="rect" id="node32" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1036,1575,1135,1601"/>
<area shape="rect" id="node35" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="392,1516,520,1543"/>
<area shape="rect" id="node36" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="405,1103,507,1129"/>
<area shape="rect" id="node38" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="176,1052,329,1079"/>
<area shape="rect" id="node40" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="197,1305,308,1332"/>
<area shape="rect" id="node41" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="201,1356,304,1383"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a56ddb7df98f98a19cb3e0852d2968f3f" title="btrfs_init_new_buffer" alt="" coords="181,1407,324,1433"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="199,1457,307,1484"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="201,1508,304,1535"/>
<area shape="rect" id="node45" href="extent__io_8c.html#ab5440f0d68ff220b90582978494d7cda" title="lock_extent_buffer\l_for_io" alt="" coords="188,1559,317,1601"/>
<area shape="rect" id="node46" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="161,1625,344,1652"/>
<area shape="rect" id="node47" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="185,1676,320,1703"/>
<area shape="rect" id="node48" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="183,1777,323,1804"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a9f37fe1648eade27cb6d159fb2fbe93c" title="walk_log_tree" alt="" coords="405,1777,507,1804"/>
<area shape="rect" id="node50" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="191,1727,314,1753"/>
<area shape="rect" id="node28" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1240,1575,1376,1601"/>
<area shape="rect" id="node31" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1247,93,1369,120"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="787,280,943,307"/>
<area shape="rect" id="node34" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="780,331,951,357"/>
<area shape="rect" id="node4" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="1036,296,1135,323"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="999,347,1172,373"/>
<area shape="rect" id="node6" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="1049,397,1122,424"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="1017,448,1153,475"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1012,499,1159,525"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="1007,549,1163,576"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1012,600,1159,627"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1015,651,1155,693"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="1005,717,1165,744"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="1024,768,1147,795"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a37d0918a2fc838c72d5e2b23a959e174" title="btrfs_set_inode_index\l_count" alt="" coords="1011,819,1160,861"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="1007,885,1164,926"/>
<area shape="rect" id="node16" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="1241,599,1375,625"/>
<area shape="rect" id="node17" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1021,1001,1149,1028"/>
<area shape="rect" id="node18" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="1013,1052,1157,1079"/>
<area shape="rect" id="node19" href="backref_8h.html#ad70881371a285671529e3851cf65e7c9" title="extent_from_logical" alt="" coords="1018,1103,1153,1129"/>
<area shape="rect" id="node20" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="1031,1153,1139,1180"/>
<area shape="rect" id="node21" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1012,951,1159,977"/>
<area shape="rect" id="node22" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1242,1077,1374,1104"/>
<area shape="rect" id="node23" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="1220,1280,1396,1307"/>
<area shape="rect" id="node24" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1018,1356,1153,1383"/>
<area shape="rect" id="node25" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="1020,1407,1151,1449"/>
<area shape="rect" id="node26" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1031,1255,1139,1281"/>
<area shape="rect" id="node27" href="ctree_8h.html#a165e21ba4b218147c02079eeb1dbdba4" title="btrfs_find_next_key" alt="" coords="1017,1524,1153,1551"/>
<area shape="rect" id="node37" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="568,1052,732,1079"/>
<area shape="rect" id="node39" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="415,1052,497,1079"/>
</map>
</div>

</div>
</div>
<a id="ac3a9529d2c5df0dd5b3664a4dd6e943e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a9529d2c5df0dd5b3664a4dd6e943e">&#9670;&nbsp;</a></span>btrfs_tree_read_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_tree_read_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_ac3a9529d2c5df0dd5b3664a4dd6e943e_icgraph.png" border="0" usemap="#locking_8c_ac3a9529d2c5df0dd5b3664a4dd6e943e_icgraph" alt=""/></div>
<map name="locking_8c_ac3a9529d2c5df0dd5b3664a4dd6e943e_icgraph" id="locking_8c_ac3a9529d2c5df0dd5b3664a4dd6e943e_icgraph">
<area shape="rect" id="node2" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="423,72,554,99"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="638,72,766,99"/>
<area shape="rect" id="node7" href="backref_8c.html#a3ffeeb541702446ffbd280b610a55449" title="iterate_inode_refs" alt="" coords="868,224,993,251"/>
<area shape="rect" id="node9" href="backref_8c.html#a460a7f7b4801ce6123d5e45f08a27c92" title="iterate_inode_extrefs" alt="" coords="859,173,1002,200"/>
<area shape="rect" id="node10" href="ctree_8h.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="193,1853,368,1880"/>
<area shape="rect" id="node11" href="ctree_8c.html#afd52fe61e93c39be05ad30f81b13cfc6" title="get_old_root" alt="" coords="442,1803,535,1829"/>
<area shape="rect" id="node12" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="629,1853,775,1880"/>
<area shape="rect" id="node14" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="865,1853,997,1880"/>
<area shape="rect" id="node15" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="427,1056,550,1083"/>
<area shape="rect" id="node32" href="qgroup_8c.html#a83ec5d0c3d85505680665802de0151e1" title="qgroup_rescan_leaf" alt="" coords="1067,1853,1201,1880"/>
<area shape="rect" id="node37" href="ctree_8h.html#a95d46d301fb4a62d16e52cc3fefca134" title="btrfs_search_forward" alt="" coords="859,1904,1003,1931"/>
<area shape="rect" id="node47" href="ctree_8c.html#a862ac2659364797e66c4ca916b28e91c" title="tree_mod_log_rewind" alt="" coords="416,1701,561,1728"/>
<area shape="rect" id="node48" href="disk-io_8c.html#a6bde46c79adc9fb20eda2e833b92de3a" title="verify_parent_transid" alt="" coords="209,2056,352,2083"/>
<area shape="rect" id="node49" href="qgroup_8h.html#a4273e8a52c184af0a427768658a62eef" title="btrfs_qgroup_trace\l_subtree" alt="" coords="215,2107,346,2149"/>
<area shape="rect" id="node50" href="ref-verify_8c.html#aeaa5e349d10577323c7a195536b1716b" title="walk_down_tree" alt="" coords="223,1904,339,1931"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="865,72,996,99"/>
<area shape="rect" id="node5" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="849,123,1013,149"/>
<area shape="rect" id="node6" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="863,21,999,48"/>
<area shape="rect" id="node8" href="backref_8c.html#ae7be3197d98f73da37954f72e812be15" title="iterate_irefs" alt="" coords="1089,199,1179,225"/>
<area shape="rect" id="node46" href="ref-verify_8c.html#a496d17e4b81abe298309e2da7ccb281c" title="btrfs_build_ref_tree" alt="" coords="422,1904,555,1931"/>
<area shape="rect" id="node13" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="863,1752,998,1779"/>
<area shape="rect" id="node16" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="653,777,751,804"/>
<area shape="rect" id="node17" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="615,828,789,855"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="665,879,739,905"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="634,929,770,956"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="629,980,775,1007"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="624,1031,780,1057"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="629,1081,775,1108"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="632,1133,772,1174"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="622,1199,782,1225"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="641,1249,763,1276"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a37d0918a2fc838c72d5e2b23a959e174" title="btrfs_set_inode_index\l_count" alt="" coords="627,1301,777,1342"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="623,1366,781,1407"/>
<area shape="rect" id="node28" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="630,173,774,200"/>
<area shape="rect" id="node29" href="backref_8h.html#ad70881371a285671529e3851cf65e7c9" title="extent_from_logical" alt="" coords="635,1483,769,1509"/>
<area shape="rect" id="node30" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="648,727,756,753"/>
<area shape="rect" id="node31" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="843,1533,1019,1560"/>
<area shape="rect" id="node33" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="635,1584,769,1611"/>
<area shape="rect" id="node34" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="637,1635,767,1677"/>
<area shape="rect" id="node35" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="648,1432,756,1459"/>
<area shape="rect" id="node36" href="ctree_8h.html#a165e21ba4b218147c02079eeb1dbdba4" title="btrfs_find_next_key" alt="" coords="634,1803,770,1829"/>
<area shape="rect" id="node38" href="delayed-inode_8c.html#ab61a2bc5d71831c68162d50821cf89a5" title="btrfs_delete_delayed\l_items" alt="" coords="631,275,773,317"/>
<area shape="rect" id="node39" href="delayed-inode_8c.html#ade5cf6047909b53374b7197277c0ff2f" title="__btrfs_update_delayed\l_inode" alt="" coords="622,341,782,382"/>
<area shape="rect" id="node40" href="dev-replace_8h.html#ac7bbfb04b9ab106df529e54fd4d81bff" title="btrfs_init_dev_replace" alt="" coords="627,407,777,433"/>
<area shape="rect" id="node41" href="dev-replace_8h.html#a95d9bb80e90d5691046740266dac89a6" title="btrfs_run_dev_replace" alt="" coords="627,457,777,484"/>
<area shape="rect" id="node42" href="dir-item_8c.html#ae499ca82acaad29d28f02edcdf416a86" title="btrfs_lookup_dir_item" alt="" coords="629,508,775,535"/>
<area shape="rect" id="node43" href="dir-item_8c.html#a115f1c6836183c93baf9a2ba612a6a96" title="btrfs_check_dir_item\l_collision" alt="" coords="631,559,773,601"/>
<area shape="rect" id="node44" href="dir-item_8c.html#afb615b30aeee8d14135ea7743ba79bc1" title="btrfs_lookup_dir_index_item" alt="" coords="610,625,794,652"/>
<area shape="rect" id="node45" href="dir-item_8c.html#a2bfc2cc4158b7b66987baf29123f2131" title="btrfs_search_dir_index_item" alt="" coords="609,676,795,703"/>
</map>
</div>

</div>
</div>
<a id="a7c2bcea775d438793ffce306669343d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2bcea775d438793ffce306669343d3">&#9670;&nbsp;</a></span>btrfs_tree_read_lock_atomic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_tree_read_lock_atomic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a7c2bcea775d438793ffce306669343d3_icgraph.png" border="0" usemap="#locking_8c_a7c2bcea775d438793ffce306669343d3_icgraph" alt=""/></div>
<map name="locking_8c_a7c2bcea775d438793ffce306669343d3_icgraph" id="locking_8c_a7c2bcea775d438793ffce306669343d3_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="193,1217,316,1244"/>
<area shape="rect" id="node20" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="383,5,530,32"/>
<area shape="rect" id="node3" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="407,208,506,235"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="370,259,543,285"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="420,309,493,336"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="389,360,525,387"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="383,411,530,437"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="379,461,535,488"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="383,512,530,539"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="387,563,527,605"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="377,629,537,656"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="395,680,518,707"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a37d0918a2fc838c72d5e2b23a959e174" title="btrfs_set_inode_index\l_count" alt="" coords="382,731,531,773"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="378,797,535,838"/>
<area shape="rect" id="node15" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="618,913,753,940"/>
<area shape="rect" id="node16" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="393,1015,521,1041"/>
<area shape="rect" id="node17" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="385,1065,529,1092"/>
<area shape="rect" id="node18" href="backref_8h.html#ad70881371a285671529e3851cf65e7c9" title="extent_from_logical" alt="" coords="389,1116,524,1143"/>
<area shape="rect" id="node19" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="403,1167,511,1193"/>
<area shape="rect" id="node21" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="619,31,751,57"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="597,1243,773,1269"/>
<area shape="rect" id="node23" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="389,1319,524,1345"/>
<area shape="rect" id="node24" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="391,1370,522,1411"/>
<area shape="rect" id="node25" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="403,1268,511,1295"/>
<area shape="rect" id="node26" href="ctree_8h.html#a165e21ba4b218147c02079eeb1dbdba4" title="btrfs_find_next_key" alt="" coords="389,1436,525,1463"/>
<area shape="rect" id="node27" href="delayed-inode_8c.html#ab61a2bc5d71831c68162d50821cf89a5" title="btrfs_delete_delayed\l_items" alt="" coords="385,1487,528,1529"/>
<area shape="rect" id="node28" href="delayed-inode_8c.html#ade5cf6047909b53374b7197277c0ff2f" title="__btrfs_update_delayed\l_inode" alt="" coords="377,1553,537,1594"/>
<area shape="rect" id="node29" href="dev-replace_8h.html#ac7bbfb04b9ab106df529e54fd4d81bff" title="btrfs_init_dev_replace" alt="" coords="382,1619,531,1645"/>
<area shape="rect" id="node30" href="dev-replace_8h.html#a95d9bb80e90d5691046740266dac89a6" title="btrfs_run_dev_replace" alt="" coords="381,1669,532,1696"/>
<area shape="rect" id="node31" href="dir-item_8c.html#ae499ca82acaad29d28f02edcdf416a86" title="btrfs_lookup_dir_item" alt="" coords="383,1720,530,1747"/>
<area shape="rect" id="node32" href="dir-item_8c.html#a115f1c6836183c93baf9a2ba612a6a96" title="btrfs_check_dir_item\l_collision" alt="" coords="385,1771,528,1813"/>
<area shape="rect" id="node33" href="dir-item_8c.html#afb615b30aeee8d14135ea7743ba79bc1" title="btrfs_lookup_dir_index_item" alt="" coords="365,1837,549,1864"/>
<area shape="rect" id="node34" href="dir-item_8c.html#a2bfc2cc4158b7b66987baf29123f2131" title="btrfs_search_dir_index_item" alt="" coords="364,1888,549,1915"/>
<area shape="rect" id="node35" href="dir-item_8c.html#abf65c387c951286eb420e43893707c11" title="btrfs_lookup_xattr" alt="" coords="393,1939,520,1965"/>
<area shape="rect" id="node36" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="397,913,517,940"/>
<area shape="rect" id="node37" href="btrfs_2export_8c.html#a9ea914c0021cfe6a2b432c2ed1acfa73" title="btrfs_get_parent" alt="" coords="399,1989,515,2016"/>
<area shape="rect" id="node38" href="btrfs_2export_8c.html#a5ef42c688b89c319cdaed1213632749a" title="btrfs_get_name" alt="" coords="401,2040,513,2067"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="383,2091,530,2117"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="373,2141,541,2168"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="375,2243,539,2269"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="615,2237,755,2264"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="376,2344,537,2371"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="615,2293,755,2334"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="607,2367,763,2393"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="618,2435,753,2461"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="378,2496,535,2523"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697" title="lookup_tree_block_ref" alt="" coords="382,107,531,133"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ac975f6e8b7b026a13939fb9655b43968" title="check_committed_ref" alt="" coords="383,157,530,184"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a75ce6a61ceafda77cdb7aca1b86d2280" title="write_one_cache_group" alt="" coords="377,863,536,889"/>
</map>
</div>

</div>
</div>
<a id="abcfca79b4675d7daba8ea67473bae19e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfca79b4675d7daba8ea67473bae19e">&#9670;&nbsp;</a></span>btrfs_tree_read_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_tree_read_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_abcfca79b4675d7daba8ea67473bae19e_cgraph.png" border="0" usemap="#locking_8c_abcfca79b4675d7daba8ea67473bae19e_cgraph" alt=""/></div>
<map name="locking_8c_abcfca79b4675d7daba8ea67473bae19e_cgraph" id="locking_8c_abcfca79b4675d7daba8ea67473bae19e_cgraph">
<area shape="rect" id="node2" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="208,5,360,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_abcfca79b4675d7daba8ea67473bae19e_icgraph.png" border="0" usemap="#locking_8c_abcfca79b4675d7daba8ea67473bae19e_icgraph" alt=""/></div>
<map name="locking_8c_abcfca79b4675d7daba8ea67473bae19e_icgraph" id="locking_8c_abcfca79b4675d7daba8ea67473bae19e_icgraph">
<area shape="rect" id="node2" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="230,419,361,445"/>
<area shape="rect" id="node4" href="ctree_8h.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="208,1085,383,1112"/>
<area shape="rect" id="node5" href="ctree_8c.html#afd52fe61e93c39be05ad30f81b13cfc6" title="get_old_root" alt="" coords="451,933,544,960"/>
<area shape="rect" id="node9" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="436,1060,559,1087"/>
<area shape="rect" id="node50" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="224,984,367,1011"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="641,5,769,32"/>
<area shape="rect" id="node30" href="ctree_8h.html#a95d46d301fb4a62d16e52cc3fefca134" title="btrfs_search_forward" alt="" coords="861,1561,1005,1588"/>
<area shape="rect" id="node49" href="ref-verify_8c.html#a496d17e4b81abe298309e2da7ccb281c" title="btrfs_build_ref_tree" alt="" coords="431,1111,564,1137"/>
<area shape="rect" id="node6" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="631,107,778,133"/>
<area shape="rect" id="node7" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="866,731,1001,757"/>
<area shape="rect" id="node8" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="867,107,999,133"/>
<area shape="rect" id="node10" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="655,1237,754,1264"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="618,1288,791,1315"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="668,1339,741,1365"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="637,1389,773,1416"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="631,1440,778,1467"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="627,1491,783,1517"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="631,1541,778,1568"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="635,1593,775,1634"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="625,1659,785,1685"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="643,1709,766,1736"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a37d0918a2fc838c72d5e2b23a959e174" title="btrfs_set_inode_index\l_count" alt="" coords="630,1761,779,1802"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="626,1826,783,1867"/>
<area shape="rect" id="node22" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="633,1892,777,1919"/>
<area shape="rect" id="node23" href="backref_8h.html#ad70881371a285671529e3851cf65e7c9" title="extent_from_logical" alt="" coords="637,1943,772,1969"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="651,1993,759,2020"/>
<area shape="rect" id="node25" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="845,553,1021,580"/>
<area shape="rect" id="node26" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="637,2044,772,2071"/>
<area shape="rect" id="node27" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="639,2095,770,2137"/>
<area shape="rect" id="node28" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="651,680,759,707"/>
<area shape="rect" id="node29" href="ctree_8h.html#a165e21ba4b218147c02079eeb1dbdba4" title="btrfs_find_next_key" alt="" coords="637,832,773,859"/>
<area shape="rect" id="node31" href="delayed-inode_8c.html#ab61a2bc5d71831c68162d50821cf89a5" title="btrfs_delete_delayed\l_items" alt="" coords="633,2161,776,2202"/>
<area shape="rect" id="node32" href="delayed-inode_8c.html#ade5cf6047909b53374b7197277c0ff2f" title="__btrfs_update_delayed\l_inode" alt="" coords="625,2226,785,2267"/>
<area shape="rect" id="node33" href="dev-replace_8h.html#ac7bbfb04b9ab106df529e54fd4d81bff" title="btrfs_init_dev_replace" alt="" coords="630,208,779,235"/>
<area shape="rect" id="node34" href="dev-replace_8h.html#a95d9bb80e90d5691046740266dac89a6" title="btrfs_run_dev_replace" alt="" coords="629,259,780,285"/>
<area shape="rect" id="node35" href="dir-item_8c.html#ae499ca82acaad29d28f02edcdf416a86" title="btrfs_lookup_dir_item" alt="" coords="631,309,778,336"/>
<area shape="rect" id="node36" href="dir-item_8c.html#a115f1c6836183c93baf9a2ba612a6a96" title="btrfs_check_dir_item\l_collision" alt="" coords="633,361,776,402"/>
<area shape="rect" id="node37" href="dir-item_8c.html#afb615b30aeee8d14135ea7743ba79bc1" title="btrfs_lookup_dir_index_item" alt="" coords="613,477,797,504"/>
<area shape="rect" id="node38" href="dir-item_8c.html#a2bfc2cc4158b7b66987baf29123f2131" title="btrfs_search_dir_index_item" alt="" coords="612,528,797,555"/>
<area shape="rect" id="node39" href="dir-item_8c.html#abf65c387c951286eb420e43893707c11" title="btrfs_lookup_xattr" alt="" coords="641,579,768,605"/>
<area shape="rect" id="node40" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="645,781,765,808"/>
<area shape="rect" id="node41" href="btrfs_2export_8c.html#a9ea914c0021cfe6a2b432c2ed1acfa73" title="btrfs_get_parent" alt="" coords="647,629,763,656"/>
<area shape="rect" id="node42" href="btrfs_2export_8c.html#a5ef42c688b89c319cdaed1213632749a" title="btrfs_get_name" alt="" coords="649,883,761,909"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="631,933,778,960"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="621,984,789,1011"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="623,1035,787,1061"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="624,1085,785,1112"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="626,1136,783,1163"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697" title="lookup_tree_block_ref" alt="" coords="630,1187,779,1213"/>
</map>
</div>

</div>
</div>
<a id="af1458ea8c9813bf0adcdee273c8e2494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1458ea8c9813bf0adcdee273c8e2494">&#9670;&nbsp;</a></span>btrfs_tree_read_unlock_blocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_tree_read_unlock_blocking </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_af1458ea8c9813bf0adcdee273c8e2494_cgraph.png" border="0" usemap="#locking_8c_af1458ea8c9813bf0adcdee273c8e2494_cgraph" alt=""/></div>
<map name="locking_8c_af1458ea8c9813bf0adcdee273c8e2494_cgraph" id="locking_8c_af1458ea8c9813bf0adcdee273c8e2494_cgraph">
<area shape="rect" id="node2" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="208,5,360,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_af1458ea8c9813bf0adcdee273c8e2494_icgraph.png" border="0" usemap="#locking_8c_af1458ea8c9813bf0adcdee273c8e2494_icgraph" alt=""/></div>
<map name="locking_8c_af1458ea8c9813bf0adcdee273c8e2494_icgraph" id="locking_8c_af1458ea8c9813bf0adcdee273c8e2494_icgraph">
<area shape="rect" id="node2" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1193,512,1321,539"/>
<area shape="rect" id="node7" href="qgroup_8c.html#a83ec5d0c3d85505680665802de0151e1" title="qgroup_rescan_leaf" alt="" coords="1785,664,1920,691"/>
<area shape="rect" id="node11" href="backref_8h.html#a325febb85f679ba37d38b9f9e368c2aa" title="btrfs_ref_to_path" alt="" coords="829,309,949,336"/>
<area shape="rect" id="node21" href="backref_8c.html#a3ffeeb541702446ffbd280b610a55449" title="iterate_inode_refs" alt="" coords="826,411,951,437"/>
<area shape="rect" id="node23" href="backref_8c.html#a460a7f7b4801ce6123d5e45f08a27c92" title="iterate_inode_extrefs" alt="" coords="817,461,960,488"/>
<area shape="rect" id="node24" href="ctree_8c.html#a862ac2659364797e66c4ca916b28e91c" title="tree_mod_log_rewind" alt="" coords="208,1335,353,1361"/>
<area shape="rect" id="node28" href="ctree_8c.html#afd52fe61e93c39be05ad30f81b13cfc6" title="get_old_root" alt="" coords="842,1019,935,1045"/>
<area shape="rect" id="node29" href="disk-io_8c.html#a6bde46c79adc9fb20eda2e833b92de3a" title="verify_parent_transid" alt="" coords="209,352,352,379"/>
<area shape="rect" id="node42" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="413,1095,556,1121"/>
<area shape="rect" id="node3" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1395,512,1526,539"/>
<area shape="rect" id="node5" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1379,461,1543,488"/>
<area shape="rect" id="node9" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1393,563,1529,589"/>
<area shape="rect" id="node4" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="1591,512,1737,539"/>
<area shape="rect" id="node6" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="1598,461,1730,488"/>
<area shape="rect" id="node8" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1968,657,2108,698"/>
<area shape="rect" id="node10" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="1612,588,1716,615"/>
<area shape="rect" id="node12" href="backref_8c.html#a8733f7f13657040a3cf85b8032cf21c3" title="inode_to_path" alt="" coords="1023,309,1126,336"/>
<area shape="rect" id="node14" href="send_8c.html#a87a958a697c8a2ca684ffd3eba6cc73c" title="iterate_inode_ref" alt="" coords="1015,259,1134,285"/>
<area shape="rect" id="node13" href="backref_8h.html#a83e2818211e0584cef655b39601329f0" title="paths_from_inode" alt="" coords="1195,411,1320,437"/>
<area shape="rect" id="node15" href="send_8c.html#aaf59a8e90fbf1f21a10fdd4061153bd7" title="get_inode_path" alt="" coords="1202,360,1313,387"/>
<area shape="rect" id="node16" href="send_8c.html#a69909621359dd6f2f4cdec6d8a30374e" title="record_new_ref" alt="" coords="1202,157,1313,184"/>
<area shape="rect" id="node17" href="send_8c.html#a30084b4752ea1f19116a43fc8ff03a73" title="record_deleted_ref" alt="" coords="1193,208,1322,235"/>
<area shape="rect" id="node18" href="send_8c.html#afb33ecd7f848cdc427fbc783936d2370" title="find_iref" alt="" coords="1223,259,1291,285"/>
<area shape="rect" id="node19" href="send_8c.html#a4d3176dee5696bd04c79b7684bc29c7d" title="record_changed_ref" alt="" coords="1189,309,1325,336"/>
<area shape="rect" id="node20" href="send_8c.html#a5cd3348e83b6a1146e58e0c2c2b11e31" title="process_all_refs" alt="" coords="1199,765,1316,792"/>
<area shape="rect" id="node22" href="backref_8c.html#ae7be3197d98f73da37954f72e812be15" title="iterate_irefs" alt="" coords="1029,411,1120,437"/>
<area shape="rect" id="node25" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1184,1019,1331,1045"/>
<area shape="rect" id="node26" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="1393,816,1528,843"/>
<area shape="rect" id="node27" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1395,1095,1527,1121"/>
<area shape="rect" id="node30" href="disk-io_8c.html#aff3464f0b98dab5b006014fb055df65b" title="btree_read_extent_buffer\l_pages" alt="" coords="401,345,568,386"/>
<area shape="rect" id="node40" href="disk-io_8h.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="617,157,763,184"/>
<area shape="rect" id="node31" href="disk-io_8h.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="633,352,747,379"/>
<area shape="rect" id="node37" href="disk-io_8h.html#a12d844363b833ecbd5b357019b5e8de7" title="btrfs_read_buffer" alt="" coords="630,208,750,235"/>
<area shape="rect" id="node32" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="825,157,953,184"/>
<area shape="rect" id="node33" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="812,816,965,843"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a1e50593aa433c0bab7b5c79ae2b8a73f" title="btrfs_read_tree_root" alt="" coords="819,208,958,235"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="835,259,943,285"/>
<area shape="rect" id="node34" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1013,867,1136,893"/>
<area shape="rect" id="node38" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="829,107,949,133"/>
<area shape="rect" id="node39" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="821,56,957,83"/>
<area shape="rect" id="node41" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="825,5,953,32"/>
<area shape="rect" id="node43" href="ctree_8h.html#aae8ef82fa56da165341f89c4f6ee7776" title="btrfs_release_path" alt="" coords="625,740,755,767"/>
<area shape="rect" id="node45" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="848,1171,929,1197"/>
<area shape="rect" id="node46" href="ctree_8h.html#aa321b09dce390333f155776bceff86a0" title="btrfs_unlock_up_safe" alt="" coords="617,968,763,995"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="631,1171,749,1197"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="639,1272,741,1299"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="839,1272,938,1299"/>
<area shape="rect" id="node50" href="qgroup_8c.html#a31c228c8442a538db73d6eb7d67a4946" title="adjust_slots_upwards" alt="" coords="616,1069,764,1096"/>
<area shape="rect" id="node44" href="btrfs_2xattr_8c.html#adafb023ead6cecbbc0619e076b66a24f" title="do_setxattr" alt="" coords="845,917,932,944"/>
</map>
</div>

</div>
</div>
<a id="a21b4045191c3f61af033da14c294e7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b4045191c3f61af033da14c294e7e6">&#9670;&nbsp;</a></span>btrfs_tree_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_tree_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a21b4045191c3f61af033da14c294e7e6_cgraph.png" border="0" usemap="#locking_8c_a21b4045191c3f61af033da14c294e7e6_cgraph" alt=""/></div>
<map name="locking_8c_a21b4045191c3f61af033da14c294e7e6_cgraph" id="locking_8c_a21b4045191c3f61af033da14c294e7e6_cgraph">
<area shape="rect" id="node2" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="176,5,341,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a21b4045191c3f61af033da14c294e7e6_icgraph.png" border="0" usemap="#locking_8c_a21b4045191c3f61af033da14c294e7e6_icgraph" alt=""/></div>
<map name="locking_8c_a21b4045191c3f61af033da14c294e7e6_icgraph" id="locking_8c_a21b4045191c3f61af033da14c294e7e6_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="421,427,563,454"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1455,1314,1595,1341"/>
<area shape="rect" id="node10" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1477,409,1573,435"/>
<area shape="rect" id="node11" href="relocation_8c.html#a49d7c15465cd1c993760e7dc4cc50223" title="merge_reloc_root" alt="" coords="1663,358,1785,385"/>
<area shape="rect" id="node12" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1475,827,1574,854"/>
<area shape="rect" id="node13" href="tree-defrag_8c.html#a76be220ca5c1b7cecd0a0994d0a40adf" title="btrfs_defrag_leaves" alt="" coords="1457,151,1593,178"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="643,503,799,530"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="635,554,806,581"/>
<area shape="rect" id="node16" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="202,605,333,631"/>
<area shape="rect" id="node18" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="670,807,771,834"/>
<area shape="rect" id="node20" href="ctree_8c.html#a2c24af5f021d85a9d712b7712db759d9" title="push_nodes_for_insert" alt="" coords="644,858,797,885"/>
<area shape="rect" id="node21" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="897,858,979,885"/>
<area shape="rect" id="node22" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="665,959,776,986"/>
<area shape="rect" id="node24" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1105,1010,1179,1037"/>
<area shape="rect" id="node26" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="669,1010,772,1037"/>
<area shape="rect" id="node27" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="428,199,556,226"/>
<area shape="rect" id="node28" href="ctree_8c.html#a6c6b68f231f959cee143ee1d5acc993f" title="__push_leaf_right" alt="" coords="430,959,554,986"/>
<area shape="rect" id="node29" href="ctree_8c.html#ac49131e8c09e8a37176287844a4ba794" title="__push_leaf_left" alt="" coords="433,1061,551,1087"/>
<area shape="rect" id="node30" href="ctree_8c.html#a64ba3d28290eb73dc41d0e7d1104cf07" title="copy_for_split" alt="" coords="887,1162,989,1189"/>
<area shape="rect" id="node31" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="432,1685,552,1711"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="216,1365,319,1391"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1088,1547,1196,1574"/>
<area shape="rect" id="node40" href="extent__io_8c.html#ab5440f0d68ff220b90582978494d7cda" title="lock_extent_buffer\l_for_io" alt="" coords="203,1416,332,1457"/>
<area shape="rect" id="node42" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="176,1482,359,1509"/>
<area shape="rect" id="node43" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="216,1533,319,1559"/>
<area shape="rect" id="node44" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1071,535,1213,562"/>
<area shape="rect" id="node45" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="200,1634,335,1661"/>
<area shape="rect" id="node46" href="relocation_8c.html#af662d29a997226518395fd109754118b" title="unlock_node_buffer" alt="" coords="1272,897,1407,923"/>
<area shape="rect" id="node47" href="relocation_8c.html#aa6a8d7a9de1d2bbdf84ed304aabf8bc9" title="create_reloc_root" alt="" coords="206,1735,329,1762"/>
<area shape="rect" id="node48" href="tree-log_8c.html#a15e0d66de30e034f0db49e2813cf2a6f" title="walk_down_log_tree" alt="" coords="197,1786,337,1813"/>
<area shape="rect" id="node49" href="tree-log_8c.html#a9f37fe1648eade27cb6d159fb2fbe93c" title="walk_log_tree" alt="" coords="441,1837,543,1863"/>
<area shape="rect" id="node50" href="tree-log_8c.html#a82f7d8abab7b8b43209d39e8413ae0c2" title="walk_up_log_tree" alt="" coords="206,1887,329,1914"/>
<area shape="rect" id="node3" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1278,655,1401,682"/>
<area shape="rect" id="node4" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="1457,681,1592,707"/>
<area shape="rect" id="node6" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1668,1438,1780,1465"/>
<area shape="rect" id="node8" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1855,613,1984,639"/>
<area shape="rect" id="node9" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1643,1307,1805,1348"/>
<area shape="rect" id="node7" href="qgroup_8h.html#a4f0c87b59ea252cd308bf64b1af45311" title="btrfs_quota_enable" alt="" coords="1853,1569,1985,1595"/>
<area shape="rect" id="node17" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="433,706,551,733"/>
<area shape="rect" id="node19" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1060,807,1224,834"/>
<area shape="rect" id="node23" href="ctree_8c.html#ac3501ef0625458a7b9b12f60e59fcf15" title="push_for_double_split" alt="" coords="864,1010,1012,1037"/>
<area shape="rect" id="node25" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="883,959,993,986"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="661,1402,781,1429"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="625,1735,816,1762"/>
<area shape="rect" id="node34" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="645,1685,796,1711"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a932184e9c675d60d30fb4993e552f258" title="btrfs_init_log_root_tree" alt="" coords="415,1365,569,1391"/>
<area shape="rect" id="node37" href="disk-io_8h.html#a62a0e9c421106fd36b8f3a81a897e201" title="btrfs_add_log_tree" alt="" coords="427,1415,557,1442"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1281,1511,1397,1538"/>
<area shape="rect" id="node41" href="extent__io_8h.html#a4cd476585e31a258138766441e29f348" title="btree_write_cache_pages" alt="" coords="407,1466,577,1493"/>
</map>
</div>

</div>
</div>
<a id="ae67cefdb7d7e937de833717b61efcd02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67cefdb7d7e937de833717b61efcd02">&#9670;&nbsp;</a></span>btrfs_try_tree_read_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_try_tree_read_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_ae67cefdb7d7e937de833717b61efcd02_icgraph.png" border="0" usemap="#locking_8c_ae67cefdb7d7e937de833717b61efcd02_icgraph" alt=""/></div>
<map name="locking_8c_ae67cefdb7d7e937de833717b61efcd02_icgraph" id="locking_8c_ae67cefdb7d7e937de833717b61efcd02_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="216,56,348,83"/>
<area shape="rect" id="node3" href="backref_8c.html#ac58b4b28a3fdb816329ca8540a593305" title="add_all_parents" alt="" coords="616,5,729,32"/>
<area shape="rect" id="node5" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="410,1111,518,1137"/>
<area shape="rect" id="node16" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="591,56,754,83"/>
<area shape="rect" id="node50" href="ctree_8h.html#ad2b49f0a25c8b0b0d7ba2f345874ae61" title="btrfs_next_old_item" alt="" coords="396,31,532,57"/>
<area shape="rect" id="node4" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="830,5,965,32"/>
<area shape="rect" id="node6" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="623,208,722,235"/>
<area shape="rect" id="node7" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="601,259,745,285"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="605,309,741,336"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="605,360,741,387"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="595,411,751,437"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="611,461,734,488"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a2c6458c704d511f605e6fb29a808b0b4" title="btrfs_get_extent" alt="" coords="615,512,731,539"/>
<area shape="rect" id="node13" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="601,563,745,589"/>
<area shape="rect" id="node14" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="619,613,727,640"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="585,664,761,691"/>
<area shape="rect" id="node17" href="file-item_8c.html#a5143a9987d1f2e76433d90171d40e388" title="btrfs_csum_file_blocks" alt="" coords="819,765,975,792"/>
<area shape="rect" id="node18" href="tree-log_8c.html#a6ba2fc1c300eccc2fda55f173c87b8ca" title="copy_items" alt="" coords="1031,832,1121,859"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#a95bc830723854ad1a736fe9168e1eaa9" title="clone_copy_inline_extent" alt="" coords="813,107,981,133"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1033,107,1119,133"/>
<area shape="rect" id="node21" href="dir-item_8c.html#a2bfc2cc4158b7b66987baf29123f2131" title="btrfs_search_dir_index_item" alt="" coords="580,1085,765,1112"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="599,1136,746,1163"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="592,1187,753,1213"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="594,1237,751,1264"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a46f278c06a6d46aa1e7ec8f152950ca8" title="find_first_block_group" alt="" coords="598,1288,747,1315"/>
<area shape="rect" id="node26" href="file-item_8c.html#a80b2781702f09376ee17587969f2c354" title="btrfs_lookup_csums\l_range" alt="" coords="603,918,742,959"/>
<area shape="rect" id="node27" href="btrfs_2scrub_8c.html#a96e8f9a6a80e5c3be5ea61ac3a20a780" title="scrub_raid56_parity" alt="" coords="830,984,965,1011"/>
<area shape="rect" id="node28" href="btrfs_2scrub_8c.html#a1a5f827c2faf365f8d5cc479d21c1929" title="scrub_stripe" alt="" coords="1029,984,1123,1011"/>
<area shape="rect" id="node29" href="inode-map_8c.html#a4cb9ad8a29ccbae989db0aeab97f1b1f" title="caching_kthread" alt="" coords="614,1339,731,1365"/>
<area shape="rect" id="node30" href="props_8c.html#a12526331ee04848fea2a10b7490ed870" title="iterate_object_props" alt="" coords="603,1389,742,1416"/>
<area shape="rect" id="node31" href="relocation_8c.html#a92c4c93ad2b553f864ee0ef237295217" title="build_backref_tree" alt="" coords="609,1440,737,1467"/>
<area shape="rect" id="node32" href="relocation_8c.html#ace59b377d4d342290efbde9513c48475" title="get_ref_objectid_v0" alt="" coords="605,1491,740,1517"/>
<area shape="rect" id="node33" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="601,1541,744,1568"/>
<area shape="rect" id="node34" href="relocation_8c.html#a8d59bead8199a5cfd091257d6afa16d4" title="add_data_references" alt="" coords="826,1567,969,1593"/>
<area shape="rect" id="node35" href="relocation_8c.html#aa13802c51dae8dedf8e5a4d670d4d0c1" title="find_next_extent" alt="" coords="613,1643,732,1669"/>
<area shape="rect" id="node36" href="root-tree_8c.html#a75538964811d50c5ca5b9f5348fb1cf0" title="btrfs_find_orphan_roots" alt="" coords="593,1693,752,1720"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="587,1744,758,1771"/>
<area shape="rect" id="node38" href="send_8c.html#a58842fc548bb1fa534f3daec641a9d7a" title="did_create_dir" alt="" coords="621,1795,724,1821"/>
<area shape="rect" id="node39" href="send_8c.html#aef689924a7a96860bec1dc9ced7fcf00" title="can_rmdir" alt="" coords="633,1845,712,1872"/>
<area shape="rect" id="node40" href="send_8c.html#a634037ad539abfee6932d040bb73f6c0" title="is_ancestor" alt="" coords="628,1896,717,1923"/>
<area shape="rect" id="node41" href="send_8c.html#a5cd3348e83b6a1146e58e0c2c2b11e31" title="process_all_refs" alt="" coords="614,1947,731,1973"/>
<area shape="rect" id="node42" href="send_8c.html#af21b49ded6cf9099c1410473323aea86" title="process_all_new_xattrs" alt="" coords="593,1997,752,2024"/>
<area shape="rect" id="node43" href="send_8c.html#aaeca269f51b241777f1a16e0f3bd8e13" title="clone_range" alt="" coords="627,2048,719,2075"/>
<area shape="rect" id="node44" href="send_8c.html#a088b6265b2cb939e950947d61c574dcb" title="range_is_hole_in_parent" alt="" coords="591,2099,754,2125"/>
<area shape="rect" id="node45" href="send_8c.html#a6bc185b66fea4d78d945cf421a2966e3" title="process_all_extents" alt="" coords="603,2149,742,2176"/>
<area shape="rect" id="node46" href="tree-log_8c.html#af6921afa6cba0c83a037417209a9445b" title="find_dir_range" alt="" coords="621,2200,724,2227"/>
<area shape="rect" id="node47" href="tree-log_8c.html#a0d543caa39da137429eab1c7909ed0e1" title="replay_dir_deletes" alt="" coords="834,2225,961,2252"/>
<area shape="rect" id="node48" href="tree-log_8c.html#ab9231625259f128a18a13a6e9ea57bc1" title="replay_xattr_deletes" alt="" coords="603,157,742,184"/>
<area shape="rect" id="node49" href="tree-log_8c.html#aae45ef41e5d616dca9ffa8290e52aebd" title="log_dir_items" alt="" coords="623,816,722,843"/>
</map>
</div>

</div>
</div>
<a id="a78c102c7789caf8ce397e3df56fc22bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c102c7789caf8ce397e3df56fc22bf">&#9670;&nbsp;</a></span>btrfs_try_tree_write_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_try_tree_write_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structextent__buffer.html">extent_buffer</a> *&#160;</td>
          <td class="paramname"><em>eb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="locking_8c_a78c102c7789caf8ce397e3df56fc22bf_icgraph.png" border="0" usemap="#locking_8c_a78c102c7789caf8ce397e3df56fc22bf_icgraph" alt=""/></div>
<map name="locking_8c_a78c102c7789caf8ce397e3df56fc22bf_icgraph" id="locking_8c_a78c102c7789caf8ce397e3df56fc22bf_icgraph">
<area shape="rect" id="node2" href="ctree_8h.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="222,1225,345,1252"/>
<area shape="rect" id="node50" href="extent__io_8c.html#ab5440f0d68ff220b90582978494d7cda" title="lock_extent_buffer\l_for_io" alt="" coords="219,1277,348,1318"/>
<area shape="rect" id="node3" href="btrfs_2xattr_8h.html#aacfc443cf38d1566d8194b4c16fecf59" title="btrfs_listxattr" alt="" coords="439,5,538,32"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="402,56,575,83"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#a60a96b52981518904a847d638809aff9" title="fill_holes" alt="" coords="452,107,525,133"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="421,157,557,184"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="415,208,562,235"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a3799704dff1c2cab2260eca8a66b4ac4" title="record_old_file_extents" alt="" coords="411,259,567,285"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="415,309,562,336"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="419,361,559,402"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="409,427,569,453"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a9a664913c7241e703397aefd65148b58" title="btrfs_real_readdir" alt="" coords="427,477,550,504"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a37d0918a2fc838c72d5e2b23a959e174" title="btrfs_set_inode_index\l_count" alt="" coords="414,529,563,570"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="410,594,567,635"/>
<area shape="rect" id="node15" href="backref_8c.html#a09a6a914fa0bad4d9895164b202b112a" title="resolve_indirect_ref" alt="" coords="650,711,785,737"/>
<area shape="rect" id="node16" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="425,863,553,889"/>
<area shape="rect" id="node17" href="backref_8h.html#ae05f7660289e930d009755e88196c103" title="btrfs_find_one_extref" alt="" coords="417,913,561,940"/>
<area shape="rect" id="node18" href="backref_8h.html#ad70881371a285671529e3851cf65e7c9" title="extent_from_logical" alt="" coords="421,964,556,991"/>
<area shape="rect" id="node19" href="ctree_8h.html#a5dd282671015b7ce2bc6abd7d1e3f5e4" title="btrfs_find_item" alt="" coords="435,1015,543,1041"/>
<area shape="rect" id="node20" href="ctree_8h.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="415,761,562,788"/>
<area shape="rect" id="node21" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="651,787,783,813"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="629,1091,805,1117"/>
<area shape="rect" id="node23" href="ctree_8c.html#ada84b06471bf44a3f94daa88496537a7" title="setup_leaf_for_split" alt="" coords="421,1167,556,1193"/>
<area shape="rect" id="node24" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="423,1218,554,1259"/>
<area shape="rect" id="node25" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="435,1065,543,1092"/>
<area shape="rect" id="node26" href="ctree_8h.html#a165e21ba4b218147c02079eeb1dbdba4" title="btrfs_find_next_key" alt="" coords="421,1284,557,1311"/>
<area shape="rect" id="node27" href="delayed-inode_8c.html#ab61a2bc5d71831c68162d50821cf89a5" title="btrfs_delete_delayed\l_items" alt="" coords="417,1335,560,1377"/>
<area shape="rect" id="node28" href="delayed-inode_8c.html#ade5cf6047909b53374b7197277c0ff2f" title="__btrfs_update_delayed\l_inode" alt="" coords="409,1401,569,1442"/>
<area shape="rect" id="node29" href="dev-replace_8h.html#ac7bbfb04b9ab106df529e54fd4d81bff" title="btrfs_init_dev_replace" alt="" coords="414,1467,563,1493"/>
<area shape="rect" id="node30" href="dev-replace_8h.html#a95d9bb80e90d5691046740266dac89a6" title="btrfs_run_dev_replace" alt="" coords="413,1517,564,1544"/>
<area shape="rect" id="node31" href="dir-item_8c.html#ae499ca82acaad29d28f02edcdf416a86" title="btrfs_lookup_dir_item" alt="" coords="415,1568,562,1595"/>
<area shape="rect" id="node32" href="dir-item_8c.html#a115f1c6836183c93baf9a2ba612a6a96" title="btrfs_check_dir_item\l_collision" alt="" coords="417,1619,560,1661"/>
<area shape="rect" id="node33" href="dir-item_8c.html#afb615b30aeee8d14135ea7743ba79bc1" title="btrfs_lookup_dir_index_item" alt="" coords="397,1685,581,1712"/>
<area shape="rect" id="node34" href="dir-item_8c.html#a2bfc2cc4158b7b66987baf29123f2131" title="btrfs_search_dir_index_item" alt="" coords="396,1736,581,1763"/>
<area shape="rect" id="node35" href="dir-item_8c.html#abf65c387c951286eb420e43893707c11" title="btrfs_lookup_xattr" alt="" coords="425,1787,552,1813"/>
<area shape="rect" id="node36" href="disk-io_8h.html#acf33ee0ea5455c56d9caf92bc5d9f41c" title="btrfs_get_fs_root" alt="" coords="429,660,549,687"/>
<area shape="rect" id="node37" href="btrfs_2export_8c.html#a9ea914c0021cfe6a2b432c2ed1acfa73" title="btrfs_get_parent" alt="" coords="431,1837,547,1864"/>
<area shape="rect" id="node38" href="btrfs_2export_8c.html#a5ef42c688b89c319cdaed1213632749a" title="btrfs_get_name" alt="" coords="433,1888,545,1915"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="415,1939,562,1965"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="405,1989,573,2016"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="407,2040,571,2067"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#adfdc354034afcb91ceb7c2281073d57c" title="convert_extent_item_v0" alt="" coords="408,2192,569,2219"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ac1f9145b443bc0b2a38bead52f7f7ad8" title="lookup_inline_extent\l_backref" alt="" coords="647,2105,787,2146"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a39848de1809ef7931b18488989b303af" title="run_delayed_extent_op" alt="" coords="639,2181,795,2208"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="650,2232,785,2259"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a162171ec8243beab5288ac61fb4cbddd" title="lookup_extent_data_ref" alt="" coords="410,2293,567,2320"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ae28901581af8d1ea71c55bb02dd46697" title="lookup_tree_block_ref" alt="" coords="414,2344,563,2371"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ac975f6e8b7b026a13939fb9655b43968" title="check_committed_ref" alt="" coords="415,2395,562,2421"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a75ce6a61ceafda77cdb7aca1b86d2280" title="write_one_cache_group" alt="" coords="409,2445,568,2472"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e99c6e840ca93ced115462758f746de3.html">btrfs</a></li><li class="navelem"><a class="el" href="locking_8c.html">locking.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
