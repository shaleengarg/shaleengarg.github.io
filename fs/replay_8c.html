<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/replay.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('replay_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">replay.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
<code>#include &lt;linux/list_sort.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for replay.c:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c__incl.png" border="0" usemap="#ubifs_2replay_8c" alt=""/></div>
<map name="ubifs_2replay_8c" id="ubifs_2replay_8c">
<area shape="rect" id="node2" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1225,80,1287,107"/>
<area shape="rect" id="node20" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node22" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node23" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreplay__entry.html">replay_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbud__entry.html">bud_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a97be9f73808264e97b7d04f6c0a5f8a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1">set_bud_lprops</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structbud__entry.html">bud_entry</a> *b)</td></tr>
<tr class="separator:a97be9f73808264e97b7d04f6c0a5f8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8b4d31b0a8679471a5c522361034f6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6">set_buds_lprops</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:aea8b4d31b0a8679471a5c522361034f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e7273efe08d0c54a0a85b29dcbb249"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249">trun_remove_range</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structreplay__entry.html">replay_entry</a> *r)</td></tr>
<tr class="separator:ac1e7273efe08d0c54a0a85b29dcbb249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3ed0e13bec51f8343217fe9a6552fe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe">apply_replay_entry</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structreplay__entry.html">replay_entry</a> *r)</td></tr>
<tr class="separator:aed3ed0e13bec51f8343217fe9a6552fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b44619974ad73dc97ae2b560863bbb1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a3b44619974ad73dc97ae2b560863bbb1">replay_entries_cmp</a> (void *priv, struct list_head *a, struct list_head *b)</td></tr>
<tr class="separator:a3b44619974ad73dc97ae2b560863bbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5456ddf590ac5979e20ff60b4cf06a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a">apply_replay_list</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:adc5456ddf590ac5979e20ff60b4cf06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c6c208d32d5efccb01d71c981fa43c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a50c6c208d32d5efccb01d71c981fa43c">destroy_replay_list</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a50c6c208d32d5efccb01d71c981fa43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557ac2aa2f2bec5d36ffcdad4d6be7f8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a557ac2aa2f2bec5d36ffcdad4d6be7f8">insert_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, unsigned long long sqnum, int deletion, int *used, loff_t old_size, loff_t new_size)</td></tr>
<tr class="separator:a557ac2aa2f2bec5d36ffcdad4d6be7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">: directory entry name</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>insert_dent - insert a directory entry node into the replay list. <code></code>: UBIFS file-system description object : node logical eraseblock number : node offset : node length : node key</p>
<p>: directory entry name length : sequence number : non-zero if this is a deletion : number of bytes in use in a LEB</p>
<p>This function inserts a scanned directory entry node or an extended attribute entry to the replay list. Returns zero in case of success and a negative error code in case of failure. </p>
</div></td></tr>
<tr class="memitem:a30fa77c8c7c69f1b02be195ad2a54f1a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a30fa77c8c7c69f1b02be195ad2a54f1a">insert_dent</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, const char *<a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>, int nlen, unsigned long long sqnum, int deletion, int *used)</td></tr>
<tr class="separator:a30fa77c8c7c69f1b02be195ad2a54f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1ba80877b09e706904424df32d5ed3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3">ubifs_validate_entry</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *dent)</td></tr>
<tr class="separator:a7b1ba80877b09e706904424df32d5ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edda0855a32a40d1cd69005188f71e4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4">is_last_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *bud)</td></tr>
<tr class="separator:a2edda0855a32a40d1cd69005188f71e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ca5de44800c3270db809cec539c7e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2">replay_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structbud__entry.html">bud_entry</a> *b)</td></tr>
<tr class="separator:a08ca5de44800c3270db809cec539c7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa341c5f3914165aaeb6b9e63130cbf98"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98">replay_buds</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:aa341c5f3914165aaeb6b9e63130cbf98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fd3c96c4dfd612b3ce142fe0f0b639"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#ab7fd3c96c4dfd612b3ce142fe0f0b639">destroy_bud_list</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ab7fd3c96c4dfd612b3ce142fe0f0b639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c5c9cac39f739f5e6167f08cf5d95b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a03c5c9cac39f739f5e6167f08cf5d95b">add_replay_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, int jhead, unsigned long long sqnum)</td></tr>
<tr class="separator:a03c5c9cac39f739f5e6167f08cf5d95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d782d0fbd913bfe5f13ab3a7e8db174"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#a5d782d0fbd913bfe5f13ab3a7e8db174">validate_ref</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__ref__node.html">ubifs_ref_node</a> *ref)</td></tr>
<tr class="separator:a5d782d0fbd913bfe5f13ab3a7e8db174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc69bf474cbe8a69ea2bfea0494745df"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df">replay_log_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf)</td></tr>
<tr class="separator:afc69bf474cbe8a69ea2bfea0494745df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3207304c4c624ffd8882b237ae16460"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460">take_ihead</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af3207304c4c624ffd8882b237ae16460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76f722fe22c9c52675c75c16369d414"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="replay_8c.html#af76f722fe22c9c52675c75c16369d414">ubifs_replay_journal</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af76f722fe22c9c52675c75c16369d414"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a03c5c9cac39f739f5e6167f08cf5d95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c5c9cac39f739f5e6167f08cf5d95b">&#9670;&nbsp;</a></span>add_replay_bud()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_replay_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>jhead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>sqnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>add_replay_bud - add a bud to the list of buds to replay. <code></code>: UBIFS file-system description object : bud logical eraseblock number to replay : bud start offset : journal head to which this bud belongs : reference node sequence number</p>
<p>This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_cgraph.png" border="0" usemap="#replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_cgraph" alt=""/></div>
<map name="replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_cgraph" id="replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79" title="ubifs_add_bud" alt="" coords="167,5,273,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="321,5,403,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_icgraph.png" border="0" usemap="#replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_icgraph" alt=""/></div>
<map name="replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_icgraph" id="replay_8c_a03c5c9cac39f739f5e6167f08cf5d95b_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="167,5,272,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="320,5,457,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="505,5,599,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="647,5,756,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="804,5,897,32"/>
</map>
</div>

</div>
</div>
<a id="aed3ed0e13bec51f8343217fe9a6552fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed3ed0e13bec51f8343217fe9a6552fe">&#9670;&nbsp;</a></span>apply_replay_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int apply_replay_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structreplay__entry.html">replay_entry</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>apply_replay_entry - apply a replay entry to the TNC. <code></code>: UBIFS file-system description object : replay entry to apply</p>
<p>Apply a replay entry to the TNC. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_cgraph.png" border="0" usemap="#replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_cgraph" alt=""/></div>
<map name="replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_cgraph" id="replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1047,657,1142,683"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1241,1619,1316,1646"/>
<area shape="rect" id="node4" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="388,859,539,886"/>
<area shape="rect" id="node31" href="tnc_8c.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="195,986,323,1013"/>
<area shape="rect" id="node34" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="635,1923,714,1950"/>
<area shape="rect" id="node35" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="184,1265,333,1291"/>
<area shape="rect" id="node43" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="192,1746,325,1773"/>
<area shape="rect" id="node45" href="tnc_8c.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="401,1062,526,1089"/>
<area shape="rect" id="node46" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="207,1569,310,1595"/>
<area shape="rect" id="node47" href="ubifs_2recovery_8c.html#a88dd4e25e224557f93cba67c93532e0a" title="ubifs_recover_size\l_accum" alt="" coords="398,2025,529,2067"/>
<area shape="rect" id="node5" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="608,783,741,810"/>
<area shape="rect" id="node13" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1043,851,1146,878"/>
<area shape="rect" id="node14" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="815,859,961,886"/>
<area shape="rect" id="node15" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="593,327,756,354"/>
<area shape="rect" id="node18" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="615,378,734,405"/>
<area shape="rect" id="node20" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="633,1366,716,1393"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="619,1062,730,1089"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1217,467,1340,494"/>
<area shape="rect" id="node7" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="1035,953,1155,979"/>
<area shape="rect" id="node9" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1020,902,1169,929"/>
<area shape="rect" id="node10" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1237,729,1320,755"/>
<area shape="rect" id="node11" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="852,353,924,379"/>
<area shape="rect" id="node8" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1227,1518,1330,1545"/>
<area shape="rect" id="node12" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="1053,429,1136,455"/>
<area shape="rect" id="node16" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="811,150,965,177"/>
<area shape="rect" id="node17" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="852,403,924,430"/>
<area shape="rect" id="node19" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="833,251,943,278"/>
<area shape="rect" id="node21" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="854,1721,922,1747"/>
<area shape="rect" id="node22" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="837,1670,939,1697"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1029,1341,1160,1367"/>
<area shape="rect" id="node24" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="825,1417,951,1443"/>
<area shape="rect" id="node25" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="1023,1518,1167,1545"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="825,1062,951,1089"/>
<area shape="rect" id="node28" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="1027,1004,1163,1045"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="825,1214,951,1241"/>
<area shape="rect" id="node30" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="804,961,972,987"/>
<area shape="rect" id="node32" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="424,1417,503,1443"/>
<area shape="rect" id="node33" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="424,1822,503,1849"/>
<area shape="rect" id="node36" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="403,1467,523,1494"/>
<area shape="rect" id="node37" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="397,479,529,506"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="385,1214,541,1241"/>
<area shape="rect" id="node39" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="407,1265,519,1291"/>
<area shape="rect" id="node40" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="405,1315,521,1342"/>
<area shape="rect" id="node41" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="381,1619,545,1646"/>
<area shape="rect" id="node42" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="426,1366,501,1393"/>
<area shape="rect" id="node44" href="key_8h.html#aa31c368518eb702eaa02487c8699797f" title="data_key_init" alt="" coords="414,1873,513,1899"/>
<area shape="rect" id="node48" href="ubifs_2recovery_8c.html#a93e3361d5b4ba48167d1aadf3a45e724" title="remove_ino" alt="" coords="630,2075,719,2102"/>
<area shape="rect" id="node49" href="ubifs_2recovery_8c.html#a574f611c4294ffdb6ff758f549cd798e" title="find_ino" alt="" coords="855,2101,921,2127"/>
<area shape="rect" id="node50" href="ubifs_2recovery_8c.html#ac39806a2c7eab3c00600eeb60b73daf0" title="add_ino" alt="" coords="641,2025,708,2051"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_icgraph.png" border="0" usemap="#replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_icgraph" alt=""/></div>
<map name="replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_icgraph" id="replay_8c_aed3ed0e13bec51f8343217fe9a6552fe_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="184,5,303,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="351,5,488,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="536,5,629,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="677,5,787,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="835,5,928,32"/>
</map>
</div>

</div>
</div>
<a id="adc5456ddf590ac5979e20ff60b4cf06a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5456ddf590ac5979e20ff60b4cf06a">&#9670;&nbsp;</a></span>apply_replay_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int apply_replay_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>apply_replay_list - apply the replay list to the TNC. <code></code>: UBIFS file-system description object</p>
<p>Apply all entries in the replay list to the TNC. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_cgraph.png" border="0" usemap="#replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_cgraph" alt=""/></div>
<map name="replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_cgraph" id="replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#a3b44619974ad73dc97ae2b560863bbb1" title="replay_entries_cmp" alt="" coords="172,1417,307,1444"/>
<area shape="rect" id="node3" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="174,1468,305,1494"/>
<area shape="rect" id="node4" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1005,1306,1099,1333"/>
<area shape="rect" id="node5" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1212,1509,1287,1536"/>
<area shape="rect" id="node6" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="559,530,709,557"/>
<area shape="rect" id="node31" href="tnc_8c.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="365,657,493,684"/>
<area shape="rect" id="node34" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="806,1610,885,1637"/>
<area shape="rect" id="node35" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="355,1037,504,1064"/>
<area shape="rect" id="node43" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="363,1594,496,1621"/>
<area shape="rect" id="node45" href="tnc_8c.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="571,733,697,760"/>
<area shape="rect" id="node46" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="378,1392,481,1418"/>
<area shape="rect" id="node47" href="ubifs_2recovery_8c.html#a88dd4e25e224557f93cba67c93532e0a" title="ubifs_recover_size\l_accum" alt="" coords="569,1747,699,1788"/>
<area shape="rect" id="node7" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="779,530,912,557"/>
<area shape="rect" id="node15" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1198,632,1301,658"/>
<area shape="rect" id="node16" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="979,632,1125,658"/>
<area shape="rect" id="node17" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="764,334,927,361"/>
<area shape="rect" id="node20" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="786,284,905,310"/>
<area shape="rect" id="node22" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="804,1002,887,1029"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="790,758,901,785"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1369,454,1492,481"/>
<area shape="rect" id="node9" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="1189,893,1309,920"/>
<area shape="rect" id="node11" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="977,429,1127,456"/>
<area shape="rect" id="node12" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1208,378,1291,405"/>
<area shape="rect" id="node13" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="1016,277,1088,304"/>
<area shape="rect" id="node10" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1379,1154,1482,1181"/>
<area shape="rect" id="node14" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="1208,429,1291,456"/>
<area shape="rect" id="node18" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="975,176,1129,202"/>
<area shape="rect" id="node19" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="1016,328,1088,354"/>
<area shape="rect" id="node21" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="997,125,1107,152"/>
<area shape="rect" id="node23" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="1018,1408,1086,1434"/>
<area shape="rect" id="node24" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1001,1357,1103,1384"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="987,901,1117,928"/>
<area shape="rect" id="node26" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="989,1053,1115,1080"/>
<area shape="rect" id="node27" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="1177,1154,1321,1181"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="989,784,1115,810"/>
<area shape="rect" id="node30" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="984,835,1120,876"/>
<area shape="rect" id="node32" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="595,1189,673,1216"/>
<area shape="rect" id="node33" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="595,1493,673,1520"/>
<area shape="rect" id="node36" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="574,936,694,962"/>
<area shape="rect" id="node37" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="568,784,700,810"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="556,1037,712,1064"/>
<area shape="rect" id="node39" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="578,986,690,1013"/>
<area shape="rect" id="node40" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="576,1088,692,1114"/>
<area shape="rect" id="node41" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="552,1341,716,1368"/>
<area shape="rect" id="node42" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="597,1138,671,1165"/>
<area shape="rect" id="node44" href="key_8h.html#aa31c368518eb702eaa02487c8699797f" title="data_key_init" alt="" coords="585,1645,683,1672"/>
<area shape="rect" id="node48" href="ubifs_2recovery_8c.html#a93e3361d5b4ba48167d1aadf3a45e724" title="remove_ino" alt="" coords="801,1762,890,1789"/>
<area shape="rect" id="node49" href="ubifs_2recovery_8c.html#a574f611c4294ffdb6ff758f549cd798e" title="find_ino" alt="" coords="1019,1737,1085,1764"/>
<area shape="rect" id="node50" href="ubifs_2recovery_8c.html#ac39806a2c7eab3c00600eeb60b73daf0" title="add_ino" alt="" coords="812,1813,879,1840"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_icgraph.png" border="0" usemap="#replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_icgraph" alt=""/></div>
<map name="replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_icgraph" id="replay_8c_adc5456ddf590ac5979e20ff60b4cf06a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="172,5,309,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="357,5,451,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="499,5,608,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="656,5,749,32"/>
</map>
</div>

</div>
</div>
<a id="ab7fd3c96c4dfd612b3ce142fe0f0b639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7fd3c96c4dfd612b3ce142fe0f0b639">&#9670;&nbsp;</a></span>destroy_bud_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void destroy_bud_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>destroy_bud_list - destroy the list of buds to replay. <code></code>: UBIFS file-system description object </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_ab7fd3c96c4dfd612b3ce142fe0f0b639_icgraph.png" border="0" usemap="#replay_8c_ab7fd3c96c4dfd612b3ce142fe0f0b639_icgraph" alt=""/></div>
<map name="replay_8c_ab7fd3c96c4dfd612b3ce142fe0f0b639_icgraph" id="replay_8c_ab7fd3c96c4dfd612b3ce142fe0f0b639_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="171,5,308,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="356,5,449,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="497,5,607,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="655,5,748,32"/>
</map>
</div>

</div>
</div>
<a id="a50c6c208d32d5efccb01d71c981fa43c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50c6c208d32d5efccb01d71c981fa43c">&#9670;&nbsp;</a></span>destroy_replay_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void destroy_replay_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>destroy_replay_list - destroy the replay. <code></code>: UBIFS file-system description object</p>
<p>Destroy the replay list. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a50c6c208d32d5efccb01d71c981fa43c_cgraph.png" border="0" usemap="#replay_8c_a50c6c208d32d5efccb01d71c981fa43c_cgraph" alt=""/></div>
<map name="replay_8c_a50c6c208d32d5efccb01d71c981fa43c_cgraph" id="replay_8c_a50c6c208d32d5efccb01d71c981fa43c_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="184,5,279,32"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="327,5,401,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a50c6c208d32d5efccb01d71c981fa43c_icgraph.png" border="0" usemap="#replay_8c_a50c6c208d32d5efccb01d71c981fa43c_icgraph" alt=""/></div>
<map name="replay_8c_a50c6c208d32d5efccb01d71c981fa43c_icgraph" id="replay_8c_a50c6c208d32d5efccb01d71c981fa43c_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="184,5,321,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="369,5,463,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="511,5,620,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="668,5,761,32"/>
</map>
</div>

</div>
</div>
<a id="a30fa77c8c7c69f1b02be195ad2a54f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30fa77c8c7c69f1b02be195ad2a54f1a">&#9670;&nbsp;</a></span>insert_dent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_dent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>sqnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deletion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>used</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_cgraph.png" border="0" usemap="#replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_cgraph" alt=""/></div>
<map name="replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_cgraph" id="replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="140,5,219,32"/>
<area shape="rect" id="node3" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="140,56,219,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_icgraph.png" border="0" usemap="#replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_icgraph" alt=""/></div>
<map name="replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_icgraph" id="replay_8c_a30fa77c8c7c69f1b02be195ad2a54f1a_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="140,5,225,32"/>
<area shape="rect" id="node3" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="273,5,365,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="413,5,551,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="599,5,692,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="740,5,849,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="897,5,991,32"/>
</map>
</div>

</div>
</div>
<a id="a557ac2aa2f2bec5d36ffcdad4d6be7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557ac2aa2f2bec5d36ffcdad4d6be7f8">&#9670;&nbsp;</a></span>insert_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>sqnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deletion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>old_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_cgraph.png" border="0" usemap="#replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_cgraph" alt=""/></div>
<map name="replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_cgraph" id="replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="143,5,221,32"/>
<area shape="rect" id="node3" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="143,56,221,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_icgraph.png" border="0" usemap="#replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_icgraph" alt=""/></div>
<map name="replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_icgraph" id="replay_8c_a557ac2aa2f2bec5d36ffcdad4d6be7f8_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="143,5,228,32"/>
<area shape="rect" id="node3" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="276,5,368,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="416,5,553,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="601,5,695,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="743,5,852,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="900,5,993,32"/>
</map>
</div>

</div>
</div>
<a id="a2edda0855a32a40d1cd69005188f71e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2edda0855a32a40d1cd69005188f71e4">&#9670;&nbsp;</a></span>is_last_bud()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_last_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *&#160;</td>
          <td class="paramname"><em>bud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>is_last_bud - check if the bud is the last in the journal head. <code></code>: UBIFS file-system description object : bud description object</p>
<p>This function checks if bud  is the last bud in its journal head. This information is then used by '<a class="el" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2">replay_bud()</a>' to decide whether the bud can have corruptions or not. Indeed, only last buds can be corrupted by power cuts. Returns %1 if this is the last bud, and %0 if not. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a2edda0855a32a40d1cd69005188f71e4_cgraph.png" border="0" usemap="#replay_8c_a2edda0855a32a40d1cd69005188f71e4_cgraph" alt=""/></div>
<map name="replay_8c_a2edda0855a32a40d1cd69005188f71e4_cgraph" id="replay_8c_a2edda0855a32a40d1cd69005188f71e4_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="141,5,248,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="296,5,368,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a2edda0855a32a40d1cd69005188f71e4_icgraph.png" border="0" usemap="#replay_8c_a2edda0855a32a40d1cd69005188f71e4_icgraph" alt=""/></div>
<map name="replay_8c_a2edda0855a32a40d1cd69005188f71e4_icgraph" id="replay_8c_a2edda0855a32a40d1cd69005188f71e4_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="141,5,227,32"/>
<area shape="rect" id="node3" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="275,5,367,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="415,5,552,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="600,5,693,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="741,5,851,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="899,5,992,32"/>
</map>
</div>

</div>
</div>
<a id="a08ca5de44800c3270db809cec539c7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ca5de44800c3270db809cec539c7e2">&#9670;&nbsp;</a></span>replay_bud()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int replay_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbud__entry.html">bud_entry</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>replay_bud - replay a bud logical eraseblock. <code></code>: UBIFS file-system description object <b></b>: bud entry which describes the bud</p>
<p>This function replays bud , recovers it if needed, and adds all nodes from this bud to the replay list. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a08ca5de44800c3270db809cec539c7e2_cgraph.png" border="0" usemap="#replay_8c_a08ca5de44800c3270db809cec539c7e2_cgraph" alt=""/></div>
<map name="replay_8c_a08ca5de44800c3270db809cec539c7e2_cgraph" id="replay_8c_a08ca5de44800c3270db809cec539c7e2_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4" title="is_last_bud" alt="" coords="157,247,245,273"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="745,512,817,539"/>
<area shape="rect" id="node5" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="139,436,263,463"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="719,867,843,893"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1069,1037,1151,1064"/>
<area shape="rect" id="node42" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="329,867,463,893"/>
<area shape="rect" id="node43" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="158,740,243,767"/>
<area shape="rect" id="node44" href="replay_8c.html#a557ac2aa2f2bec5d36ffcdad4d6be7f8" title="insert_node" alt="" coords="156,1171,245,1197"/>
<area shape="rect" id="node46" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="531,1120,669,1147"/>
<area shape="rect" id="node48" href="replay_8c.html#a30fa77c8c7c69f1b02be195ad2a54f1a" title="insert_dent" alt="" coords="157,1221,244,1248"/>
<area shape="rect" id="node49" href="key_8h.html#a82d147ebf5a8285a2151d38e3ec519a2" title="trun_key_init" alt="" coords="153,1272,249,1299"/>
<area shape="rect" id="node50" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e" title="ubifs_search_bud" alt="" coords="139,1323,263,1349"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="547,259,653,285"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="337,411,455,437"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="329,765,463,792"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="339,816,453,843"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="349,309,443,336"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="563,360,637,387"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="339,512,453,539"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="353,157,439,184"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="339,208,453,235"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="341,259,451,285"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="357,5,435,32"/>
<area shape="rect" id="node34" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="339,664,453,691"/>
<area shape="rect" id="node35" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="340,56,452,83"/>
<area shape="rect" id="node41" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="311,563,481,589"/>
<area shape="rect" id="node8" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="529,765,671,792"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1069,740,1151,767"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="537,664,663,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="914,816,989,843"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="900,867,1003,893"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="904,917,999,944"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="914,1019,989,1045"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="891,968,1012,995"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="891,765,1011,792"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1069,816,1151,843"/>
<area shape="rect" id="node18" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1073,1113,1147,1140"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1071,1221,1149,1248"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1060,975,1160,1001"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1071,924,1149,951"/>
<area shape="rect" id="node25" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="545,917,655,944"/>
<area shape="rect" id="node33" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="561,31,639,57"/>
<area shape="rect" id="node36" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="540,157,660,184"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="539,107,661,133"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="721,157,840,184"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="724,208,837,235"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="727,107,834,133"/>
<area shape="rect" id="node45" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="357,1221,435,1248"/>
<area shape="rect" id="node47" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="725,1171,836,1197"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a08ca5de44800c3270db809cec539c7e2_icgraph.png" border="0" usemap="#replay_8c_a08ca5de44800c3270db809cec539c7e2_icgraph" alt=""/></div>
<map name="replay_8c_a08ca5de44800c3270db809cec539c7e2_icgraph" id="replay_8c_a08ca5de44800c3270db809cec539c7e2_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="139,5,231,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="279,5,416,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="464,5,557,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="605,5,715,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="763,5,856,32"/>
</map>
</div>

</div>
</div>
<a id="aa341c5f3914165aaeb6b9e63130cbf98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa341c5f3914165aaeb6b9e63130cbf98">&#9670;&nbsp;</a></span>replay_buds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int replay_buds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>replay_buds - replay all buds. <code></code>: UBIFS file-system description object</p>
<p>This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_cgraph.png" border="0" usemap="#replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_cgraph" alt=""/></div>
<map name="replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_cgraph" id="replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="145,1019,231,1045"/>
<area shape="rect" id="node3" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4" title="is_last_bud" alt="" coords="297,247,385,273"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="885,512,957,539"/>
<area shape="rect" id="node6" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="279,436,403,463"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="859,867,983,893"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1209,1037,1291,1064"/>
<area shape="rect" id="node42" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="469,867,603,893"/>
<area shape="rect" id="node43" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="298,740,383,767"/>
<area shape="rect" id="node44" href="replay_8c.html#a557ac2aa2f2bec5d36ffcdad4d6be7f8" title="insert_node" alt="" coords="296,1171,385,1197"/>
<area shape="rect" id="node46" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="671,1120,809,1147"/>
<area shape="rect" id="node48" href="replay_8c.html#a30fa77c8c7c69f1b02be195ad2a54f1a" title="insert_dent" alt="" coords="297,1221,384,1248"/>
<area shape="rect" id="node49" href="key_8h.html#a82d147ebf5a8285a2151d38e3ec519a2" title="trun_key_init" alt="" coords="293,1272,389,1299"/>
<area shape="rect" id="node50" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e" title="ubifs_search_bud" alt="" coords="279,1323,403,1349"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="687,259,793,285"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="477,411,595,437"/>
<area shape="rect" id="node8" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="469,765,603,792"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="479,816,593,843"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="489,309,583,336"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="703,360,777,387"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="479,512,593,539"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="493,157,579,184"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="479,208,593,235"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="481,259,591,285"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="497,5,575,32"/>
<area shape="rect" id="node35" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="479,664,593,691"/>
<area shape="rect" id="node36" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="480,56,592,83"/>
<area shape="rect" id="node41" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="451,563,621,589"/>
<area shape="rect" id="node9" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="669,765,811,792"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1209,740,1291,767"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="677,664,803,691"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1054,816,1129,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1040,867,1143,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1044,917,1139,944"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1054,1019,1129,1045"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1031,968,1152,995"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1031,765,1151,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1209,816,1291,843"/>
<area shape="rect" id="node19" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1213,1113,1287,1140"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1211,1221,1289,1248"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1200,975,1300,1001"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1211,924,1289,951"/>
<area shape="rect" id="node26" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="685,917,795,944"/>
<area shape="rect" id="node34" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="701,31,779,57"/>
<area shape="rect" id="node37" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="680,107,800,133"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="679,157,801,184"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="861,157,980,184"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="864,107,977,133"/>
<area shape="rect" id="node45" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="497,1221,575,1248"/>
<area shape="rect" id="node47" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="865,1171,976,1197"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_icgraph.png" border="0" usemap="#replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_icgraph" alt=""/></div>
<map name="replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_icgraph" id="replay_8c_aa341c5f3914165aaeb6b9e63130cbf98_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="145,5,283,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="331,5,424,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="472,5,581,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="629,5,723,32"/>
</map>
</div>

</div>
</div>
<a id="a3b44619974ad73dc97ae2b560863bbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b44619974ad73dc97ae2b560863bbb1">&#9670;&nbsp;</a></span>replay_entries_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int replay_entries_cmp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>replay_entries_cmp - compare 2 replay entries. : UBIFS file-system description object <em></em>: first replay entry <b></b>: second replay entry</p>
<p>This is a comparios function for 'list_sort()' which compares 2 replay entries <em>and</em> <b>by</b> comparing their sequence numer. Returns %1 if <em>has</em> greater sequence number and %-1 otherwise. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a3b44619974ad73dc97ae2b560863bbb1_icgraph.png" border="0" usemap="#replay_8c_a3b44619974ad73dc97ae2b560863bbb1_icgraph" alt=""/></div>
<map name="replay_8c_a3b44619974ad73dc97ae2b560863bbb1_icgraph" id="replay_8c_a3b44619974ad73dc97ae2b560863bbb1_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="188,5,307,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="355,5,492,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="540,5,633,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="681,5,791,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="839,5,932,32"/>
</map>
</div>

</div>
</div>
<a id="afc69bf474cbe8a69ea2bfea0494745df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc69bf474cbe8a69ea2bfea0494745df">&#9670;&nbsp;</a></span>replay_log_leb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int replay_log_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>replay_log_leb - replay a log logical eraseblock. <code></code>: UBIFS file-system description object : log logical eraseblock to replay : offset to start replaying from : scan buffer</p>
<p>This function replays a log LEB and returns zero in case of success, %1 if this is the last LEB in the log, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_afc69bf474cbe8a69ea2bfea0494745df_cgraph.png" border="0" usemap="#replay_8c_afc69bf474cbe8a69ea2bfea0494745df_cgraph" alt=""/></div>
<map name="replay_8c_afc69bf474cbe8a69ea2bfea0494745df_cgraph" id="replay_8c_afc69bf474cbe8a69ea2bfea0494745df_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="374,892,459,919"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="961,664,1033,691"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="935,132,1059,159"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="545,1044,679,1071"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="159,765,307,792"/>
<area shape="rect" id="node46" href="replay_8c.html#a5d782d0fbd913bfe5f13ab3a7e8db174" title="validate_ref" alt="" coords="188,1019,277,1045"/>
<area shape="rect" id="node48" href="replay_8c.html#a03c5c9cac39f739f5e6167f08cf5d95b" title="add_replay_bud" alt="" coords="176,1196,289,1223"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="553,639,671,665"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="545,183,679,209"/>
<area shape="rect" id="node23" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="555,993,669,1020"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="555,841,669,868"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="527,892,697,919"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="763,664,869,691"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="745,183,887,209"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1285,5,1367,32"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="753,233,879,260"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1130,81,1205,108"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1116,132,1219,159"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1120,183,1215,209"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1130,791,1205,817"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1107,233,1228,260"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1107,31,1227,57"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1285,81,1367,108"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1289,233,1363,260"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1287,284,1365,311"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1276,335,1376,361"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1287,132,1365,159"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1285,183,1367,209"/>
<area shape="rect" id="node24" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="761,993,871,1020"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="363,284,470,311"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="355,664,479,691"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="565,689,659,716"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="779,715,853,741"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="555,385,669,412"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="569,487,655,513"/>
<area shape="rect" id="node35" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="555,537,669,564"/>
<area shape="rect" id="node36" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="557,588,667,615"/>
<area shape="rect" id="node37" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="573,436,651,463"/>
<area shape="rect" id="node39" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="556,791,668,817"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="777,765,855,792"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="756,1221,876,1248"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="755,1171,877,1197"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="937,1196,1056,1223"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="940,1247,1053,1273"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="943,1145,1050,1172"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="939,1095,1055,1121"/>
<area shape="rect" id="node47" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e" title="ubifs_search_bud" alt="" coords="355,1044,479,1071"/>
<area shape="rect" id="node49" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79" title="ubifs_add_bud" alt="" coords="363,1196,470,1223"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="571,1196,653,1223"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_afc69bf474cbe8a69ea2bfea0494745df_icgraph.png" border="0" usemap="#replay_8c_afc69bf474cbe8a69ea2bfea0494745df_icgraph" alt=""/></div>
<map name="replay_8c_afc69bf474cbe8a69ea2bfea0494745df_icgraph" id="replay_8c_afc69bf474cbe8a69ea2bfea0494745df_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="159,5,296,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="344,5,437,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="485,5,595,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="643,5,736,32"/>
</map>
</div>

</div>
</div>
<a id="a97be9f73808264e97b7d04f6c0a5f8a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97be9f73808264e97b7d04f6c0a5f8a1">&#9670;&nbsp;</a></span>set_bud_lprops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_bud_lprops </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbud__entry.html">bud_entry</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set_bud_lprops - set free and dirty space used by a bud. <code></code>: UBIFS file-system description object <b></b>: bud entry which describes the bud</p>
<p>This function makes sure the LEB properties of bud <b>are</b> set correctly after the replay. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_cgraph.png" border="0" usemap="#replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_cgraph" alt=""/></div>
<map name="replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_cgraph" id="replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="188,423,305,449"/>
<area shape="rect" id="node3" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="377,524,525,551"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="189,473,305,500"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3" title="ubifs_wbuf_seek_nolock" alt="" coords="164,575,329,601"/>
<area shape="rect" id="node49" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="176,625,317,652"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1875,220,1999,247"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="573,752,693,779"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1709,195,1827,221"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="575,524,692,551"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="573,676,693,703"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2239,162,2392,203"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2064,245,2171,272"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2470,271,2542,297"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="2047,347,2188,373"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2063,195,2172,221"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2260,397,2371,424"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2443,423,2569,449"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2264,347,2367,373"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="741,777,887,804"/>
<area shape="rect" id="node15" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="952,752,1076,779"/>
<area shape="rect" id="node18" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1892,549,1981,576"/>
<area shape="rect" id="node25" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="767,524,861,551"/>
<area shape="rect" id="node19" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2239,669,2392,710"/>
<area shape="rect" id="node20" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2236,549,2395,576"/>
<area shape="rect" id="node21" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2064,397,2171,424"/>
<area shape="rect" id="node22" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2063,651,2172,677"/>
<area shape="rect" id="node23" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2059,499,2176,525"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2052,549,2183,576"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="953,524,1075,551"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1160,524,1277,551"/>
<area shape="rect" id="node28" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1523,524,1661,551"/>
<area shape="rect" id="node29" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1344,524,1475,551"/>
<area shape="rect" id="node30" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1349,195,1469,221"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1534,144,1650,171"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1527,195,1657,221"/>
<area shape="rect" id="node33" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1534,245,1650,272"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1530,93,1654,120"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="759,727,869,753"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="766,676,862,703"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="952,676,1076,703"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1159,676,1279,703"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="398,423,505,449"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="395,372,508,399"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="753,473,875,500"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1353,473,1466,500"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="935,372,1093,399"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1141,372,1296,399"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="411,575,492,601"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_icgraph.png" border="0" usemap="#replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_icgraph" alt=""/></div>
<map name="replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_icgraph" id="replay_8c_a97be9f73808264e97b7d04f6c0a5f8a1_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="164,5,281,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="329,5,467,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="515,5,608,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="656,5,765,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="813,5,907,32"/>
</map>
</div>

</div>
</div>
<a id="aea8b4d31b0a8679471a5c522361034f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea8b4d31b0a8679471a5c522361034f6">&#9670;&nbsp;</a></span>set_buds_lprops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_buds_lprops </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set_buds_lprops - set free and dirty space for all replayed buds. <code></code>: UBIFS file-system description object</p>
<p>This function sets LEB properties for all replayed buds. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_aea8b4d31b0a8679471a5c522361034f6_cgraph.png" border="0" usemap="#replay_8c_aea8b4d31b0a8679471a5c522361034f6_cgraph" alt=""/></div>
<map name="replay_8c_aea8b4d31b0a8679471a5c522361034f6_cgraph" id="replay_8c_aea8b4d31b0a8679471a5c522361034f6_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="171,524,281,551"/>
<area shape="rect" id="node3" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="353,423,471,449"/>
<area shape="rect" id="node4" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="543,524,691,551"/>
<area shape="rect" id="node41" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="354,473,470,500"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3" title="ubifs_wbuf_seek_nolock" alt="" coords="329,575,495,601"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="341,625,483,652"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="2040,220,2164,247"/>
<area shape="rect" id="node14" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="739,752,859,779"/>
<area shape="rect" id="node17" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1875,195,1992,221"/>
<area shape="rect" id="node18" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="740,524,857,551"/>
<area shape="rect" id="node36" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="739,676,859,703"/>
<area shape="rect" id="node6" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2404,162,2557,203"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2229,245,2336,272"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2635,271,2707,297"/>
<area shape="rect" id="node9" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="2212,347,2353,373"/>
<area shape="rect" id="node13" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2228,195,2337,221"/>
<area shape="rect" id="node10" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2425,397,2536,424"/>
<area shape="rect" id="node11" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2608,423,2735,449"/>
<area shape="rect" id="node12" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2429,347,2532,373"/>
<area shape="rect" id="node15" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="907,777,1052,804"/>
<area shape="rect" id="node16" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="1117,752,1241,779"/>
<area shape="rect" id="node19" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="2057,549,2147,576"/>
<area shape="rect" id="node26" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="933,524,1026,551"/>
<area shape="rect" id="node20" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2404,669,2557,710"/>
<area shape="rect" id="node21" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2401,549,2560,576"/>
<area shape="rect" id="node22" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2229,397,2336,424"/>
<area shape="rect" id="node23" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2228,651,2337,677"/>
<area shape="rect" id="node24" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2224,499,2341,525"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2217,549,2348,576"/>
<area shape="rect" id="node27" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1119,524,1240,551"/>
<area shape="rect" id="node28" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1325,524,1443,551"/>
<area shape="rect" id="node29" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1688,524,1827,551"/>
<area shape="rect" id="node30" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1509,524,1640,551"/>
<area shape="rect" id="node31" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1515,195,1635,221"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1699,144,1815,171"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1692,195,1823,221"/>
<area shape="rect" id="node34" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1699,245,1815,272"/>
<area shape="rect" id="node35" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1695,93,1819,120"/>
<area shape="rect" id="node37" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="924,727,1035,753"/>
<area shape="rect" id="node38" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="931,676,1027,703"/>
<area shape="rect" id="node39" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="1117,676,1241,703"/>
<area shape="rect" id="node40" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1324,676,1444,703"/>
<area shape="rect" id="node42" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="563,423,670,449"/>
<area shape="rect" id="node43" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="560,372,673,399"/>
<area shape="rect" id="node44" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="919,473,1040,500"/>
<area shape="rect" id="node45" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1518,473,1631,500"/>
<area shape="rect" id="node46" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1100,372,1259,399"/>
<area shape="rect" id="node47" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1307,372,1461,399"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="576,575,657,601"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_aea8b4d31b0a8679471a5c522361034f6_icgraph.png" border="0" usemap="#replay_8c_aea8b4d31b0a8679471a5c522361034f6_icgraph" alt=""/></div>
<map name="replay_8c_aea8b4d31b0a8679471a5c522361034f6_icgraph" id="replay_8c_aea8b4d31b0a8679471a5c522361034f6_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="171,5,308,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="356,5,449,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="497,5,607,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="655,5,748,32"/>
</map>
</div>

</div>
</div>
<a id="af3207304c4c624ffd8882b237ae16460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3207304c4c624ffd8882b237ae16460">&#9670;&nbsp;</a></span>take_ihead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int take_ihead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>take_ihead - update the status of the index head in lprops to 'taken'. <code></code>: UBIFS file-system description object</p>
<p>This function returns the amount of free space in the index head LEB or a negative error code. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_af3207304c4c624ffd8882b237ae16460_cgraph.png" border="0" usemap="#replay_8c_af3207304c4c624ffd8882b237ae16460_cgraph" alt=""/></div>
<map name="replay_8c_af3207304c4c624ffd8882b237ae16460_cgraph" id="replay_8c_af3207304c4c624ffd8882b237ae16460_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="151,144,268,171"/>
<area shape="rect" id="node3" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="328,195,476,221"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="151,245,267,272"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="139,296,280,323"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1825,245,1949,272"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="524,195,644,221"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1660,245,1777,272"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="525,245,643,272"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="524,144,644,171"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2189,78,2343,119"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2015,397,2121,424"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2421,372,2493,399"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1997,245,2139,272"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2013,180,2123,207"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2211,296,2321,323"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2393,220,2520,247"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2215,245,2317,272"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="692,195,837,221"/>
<area shape="rect" id="node15" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="903,169,1027,196"/>
<area shape="rect" id="node18" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1843,549,1932,576"/>
<area shape="rect" id="node25" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="718,245,811,272"/>
<area shape="rect" id="node19" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2189,715,2343,757"/>
<area shape="rect" id="node20" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2187,448,2345,475"/>
<area shape="rect" id="node21" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2015,296,2121,323"/>
<area shape="rect" id="node22" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2013,752,2123,779"/>
<area shape="rect" id="node23" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2009,600,2127,627"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2003,651,2133,677"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="904,245,1025,272"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1111,245,1228,272"/>
<area shape="rect" id="node28" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1473,245,1612,272"/>
<area shape="rect" id="node29" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1295,195,1425,221"/>
<area shape="rect" id="node30" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1300,549,1420,576"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1485,549,1601,576"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1477,600,1608,627"/>
<area shape="rect" id="node33" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1485,296,1601,323"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1481,651,1605,677"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="709,144,820,171"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="717,93,813,120"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="903,93,1027,120"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1109,93,1229,120"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="349,347,455,373"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="345,245,459,272"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="704,347,825,373"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1303,347,1417,373"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="885,397,1044,424"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1092,397,1247,424"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_af3207304c4c624ffd8882b237ae16460_icgraph.png" border="0" usemap="#replay_8c_af3207304c4c624ffd8882b237ae16460_icgraph" alt=""/></div>
<map name="replay_8c_af3207304c4c624ffd8882b237ae16460_icgraph" id="replay_8c_af3207304c4c624ffd8882b237ae16460_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="139,5,276,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="324,5,417,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="465,5,575,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="623,5,716,32"/>
</map>
</div>

</div>
</div>
<a id="ac1e7273efe08d0c54a0a85b29dcbb249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e7273efe08d0c54a0a85b29dcbb249">&#9670;&nbsp;</a></span>trun_remove_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int trun_remove_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structreplay__entry.html">replay_entry</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>trun_remove_range - apply a replay entry for a truncation to the TNC. <code></code>: UBIFS file-system description object : replay entry of truncation </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_cgraph.png" border="0" usemap="#replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_cgraph" alt=""/></div>
<map name="replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_cgraph" id="replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1785,1005,1864,1032"/>
<area shape="rect" id="node3" href="key_8h.html#aa31c368518eb702eaa02487c8699797f" title="data_key_init" alt="" coords="219,1021,318,1048"/>
<area shape="rect" id="node4" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="187,971,351,997"/>
<area shape="rect" id="node5" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="404,173,540,200"/>
<area shape="rect" id="node21" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="436,819,508,845"/>
<area shape="rect" id="node22" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="423,869,521,896"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1025,1224,1127,1251"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="399,1325,545,1352"/>
<area shape="rect" id="node28" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1025,1553,1127,1580"/>
<area shape="rect" id="node37" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="631,1021,699,1048"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1011,1056,1141,1083"/>
<area shape="rect" id="node39" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="431,1148,513,1175"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="610,717,721,744"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1787,473,1862,500"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1015,144,1137,171"/>
<area shape="rect" id="node11" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1419,296,1501,323"/>
<area shape="rect" id="node12" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1413,119,1507,145"/>
<area shape="rect" id="node18" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1001,347,1151,373"/>
<area shape="rect" id="node19" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="629,275,701,301"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1225,144,1315,171"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1424,904,1496,931"/>
<area shape="rect" id="node10" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1615,625,1690,652"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1398,651,1522,677"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1592,1056,1713,1083"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1775,1107,1875,1133"/>
<area shape="rect" id="node16" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1785,1157,1864,1184"/>
<area shape="rect" id="node17" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1784,1056,1865,1083"/>
<area shape="rect" id="node20" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="828,275,911,301"/>
<area shape="rect" id="node25" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="605,1427,725,1453"/>
<area shape="rect" id="node26" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="818,1427,921,1453"/>
<area shape="rect" id="node27" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="823,1528,915,1555"/>
<area shape="rect" id="node34" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="823,1477,915,1504"/>
<area shape="rect" id="node36" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="818,1148,921,1175"/>
<area shape="rect" id="node29" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1199,1368,1341,1395"/>
<area shape="rect" id="node30" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1401,1393,1519,1420"/>
<area shape="rect" id="node31" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1579,1368,1727,1395"/>
<area shape="rect" id="node32" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1402,1292,1518,1319"/>
<area shape="rect" id="node33" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1389,1343,1531,1369"/>
<area shape="rect" id="node35" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1013,1427,1139,1453"/>
<area shape="rect" id="node40" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="593,1173,737,1200"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="806,819,933,845"/>
<area shape="rect" id="node43" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="1008,398,1144,439"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="806,667,933,693"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="1001,717,1151,744"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1229,499,1311,525"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="785,515,953,541"/>
<area shape="rect" id="node44" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="1201,397,1339,424"/>
<area shape="rect" id="node47" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1199,701,1341,728"/>
<area shape="rect" id="node48" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1201,803,1339,829"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_icgraph.png" border="0" usemap="#replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_icgraph" alt=""/></div>
<map name="replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_icgraph" id="replay_8c_ac1e7273efe08d0c54a0a85b29dcbb249_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="187,5,317,32"/>
<area shape="rect" id="node3" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="365,5,484,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="532,5,669,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="717,5,811,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="859,5,968,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1016,5,1109,32"/>
</map>
</div>

</div>
</div>
<a id="af76f722fe22c9c52675c75c16369d414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76f722fe22c9c52675c75c16369d414">&#9670;&nbsp;</a></span>ubifs_replay_journal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_replay_journal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_replay_journal - replay journal. <code></code>: UBIFS file-system description object</p>
<p>This function scans the journal, replays and cleans it up. It makes sure all memory data structures related to uncommitted journal are built (dirty TNC tree, tree of buds, modified lprops, etc). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_af76f722fe22c9c52675c75c16369d414_cgraph.png" border="0" usemap="#replay_8c_af76f722fe22c9c52675c75c16369d414_cgraph" alt=""/></div>
<map name="replay_8c_af76f722fe22c9c52675c75c16369d414_cgraph" id="replay_8c_af76f722fe22c9c52675c75c16369d414_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="405,107,490,133"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1365,512,1437,539"/>
<area shape="rect" id="node16" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="581,528,686,555"/>
<area shape="rect" id="node38" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="191,489,332,516"/>
<area shape="rect" id="node39" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="401,452,493,479"/>
<area shape="rect" id="node43" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="202,540,321,567"/>
<area shape="rect" id="node47" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="203,195,320,221"/>
<area shape="rect" id="node49" href="replay_8c.html#a50c6c208d32d5efccb01d71c981fa43c" title="destroy_replay_list" alt="" coords="196,591,327,617"/>
<area shape="rect" id="node50" href="replay_8c.html#ab7fd3c96c4dfd612b3ce142fe0f0b639" title="destroy_bud_list" alt="" coords="203,641,320,668"/>
<area shape="rect" id="node3" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="575,107,692,133"/>
<area shape="rect" id="node4" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="752,81,900,108"/>
<area shape="rect" id="node11" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="575,208,691,235"/>
<area shape="rect" id="node15" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="563,56,704,83"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1143,208,1267,235"/>
<area shape="rect" id="node7" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="950,107,1070,133"/>
<area shape="rect" id="node8" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="951,208,1069,235"/>
<area shape="rect" id="node9" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="951,5,1069,32"/>
<area shape="rect" id="node10" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="950,56,1070,83"/>
<area shape="rect" id="node12" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="773,183,879,209"/>
<area shape="rect" id="node13" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="769,233,883,260"/>
<area shape="rect" id="node14" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="765,132,887,159"/>
<area shape="rect" id="node17" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="967,685,1053,712"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1339,1028,1463,1055"/>
<area shape="rect" id="node30" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="1138,892,1273,919"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="752,597,900,624"/>
<area shape="rect" id="node34" href="replay_8c.html#a5d782d0fbd913bfe5f13ab3a7e8db174" title="validate_ref" alt="" coords="781,528,871,555"/>
<area shape="rect" id="node36" href="replay_8c.html#a03c5c9cac39f739f5e6167f08cf5d95b" title="add_replay_bud" alt="" coords="769,459,883,485"/>
<area shape="rect" id="node18" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="1146,639,1265,665"/>
<area shape="rect" id="node19" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="1138,588,1273,615"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="1149,841,1262,868"/>
<area shape="rect" id="node28" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="1149,689,1262,716"/>
<area shape="rect" id="node29" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="1120,740,1291,767"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1534,1079,1609,1105"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1520,1129,1623,1156"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1524,927,1619,953"/>
<area shape="rect" id="node24" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1534,851,1609,877"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1511,977,1632,1004"/>
<area shape="rect" id="node26" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1511,1028,1631,1055"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="957,584,1063,611"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="948,736,1072,763"/>
<area shape="rect" id="node35" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e" title="ubifs_search_bud" alt="" coords="948,635,1072,661"/>
<area shape="rect" id="node37" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79" title="ubifs_add_bud" alt="" coords="957,385,1063,412"/>
<area shape="rect" id="node40" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="783,888,869,915"/>
<area shape="rect" id="node41" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4" title="is_last_bud" alt="" coords="966,1091,1054,1117"/>
<area shape="rect" id="node42" href="replay_8c.html#a557ac2aa2f2bec5d36ffcdad4d6be7f8" title="insert_node" alt="" coords="965,989,1055,1016"/>
<area shape="rect" id="node44" href="replay_8c.html#a3b44619974ad73dc97ae2b560863bbb1" title="replay_entries_cmp" alt="" coords="380,528,515,555"/>
<area shape="rect" id="node45" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="382,579,513,605"/>
<area shape="rect" id="node46" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="586,629,681,656"/>
<area shape="rect" id="node48" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="392,157,503,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_af76f722fe22c9c52675c75c16369d414_icgraph.png" border="0" usemap="#replay_8c_af76f722fe22c9c52675c75c16369d414_icgraph" alt=""/></div>
<map name="replay_8c_af76f722fe22c9c52675c75c16369d414_icgraph" id="replay_8c_af76f722fe22c9c52675c75c16369d414_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="191,5,284,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="332,5,441,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="489,5,583,32"/>
</map>
</div>

</div>
</div>
<a id="a7b1ba80877b09e706904424df32d5ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1ba80877b09e706904424df32d5ed3">&#9670;&nbsp;</a></span>ubifs_validate_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_validate_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *&#160;</td>
          <td class="paramname"><em>dent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_validate_entry - validate directory or extended attribute entry node. <code></code>: UBIFS file-system description object : the node to validate</p>
<p>This function validates directory or extended attribute entry node . Returns zero if the node is all right and a %-EINVAL if not. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a7b1ba80877b09e706904424df32d5ed3_cgraph.png" border="0" usemap="#replay_8c_a7b1ba80877b09e706904424df32d5ed3_cgraph" alt=""/></div>
<map name="replay_8c_a7b1ba80877b09e706904424df32d5ed3_cgraph" id="replay_8c_a7b1ba80877b09e706904424df32d5ed3_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="210,5,285,32"/>
<area shape="rect" id="node3" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="192,56,303,83"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="211,107,283,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a7b1ba80877b09e706904424df32d5ed3_icgraph.png" border="0" usemap="#replay_8c_a7b1ba80877b09e706904424df32d5ed3_icgraph" alt=""/></div>
<map name="replay_8c_a7b1ba80877b09e706904424df32d5ed3_icgraph" id="replay_8c_a7b1ba80877b09e706904424df32d5ed3_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="192,436,341,463"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="224,537,309,564"/>
<area shape="rect" id="node35" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="224,588,309,615"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="233,816,300,843"/>
<area shape="rect" id="node46" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="209,740,325,767"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="403,436,530,463"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="618,385,729,412"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="821,411,948,437"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="1038,208,1141,235"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="823,44,947,71"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1025,867,1153,893"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="822,360,947,387"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="809,689,960,716"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="1016,1019,1163,1045"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="803,259,967,285"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="805,132,964,159"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1038,512,1141,539"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1031,360,1147,387"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1033,411,1146,437"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1040,461,1139,488"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1230,892,1346,919"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1219,183,1357,209"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1217,360,1359,387"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1225,461,1351,488"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1228,816,1348,843"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1226,284,1350,311"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1215,233,1361,260"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1212,132,1364,159"/>
<area shape="rect" id="node19" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1223,563,1353,589"/>
<area shape="rect" id="node21" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="1045,5,1134,32"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1015,664,1164,691"/>
<area shape="rect" id="node28" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="1023,259,1156,285"/>
<area shape="rect" id="node30" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1046,56,1133,83"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="597,537,749,564"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="838,563,931,589"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1035,563,1144,589"/>
<area shape="rect" id="node36" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="421,588,513,615"/>
<area shape="rect" id="node37" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="605,588,742,615"/>
<area shape="rect" id="node39" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="595,917,751,944"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="826,943,943,969"/>
<area shape="rect" id="node43" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="831,892,938,919"/>
<area shape="rect" id="node44" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="821,1044,948,1071"/>
<area shape="rect" id="node45" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="819,791,951,817"/>
<area shape="rect" id="node41" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1028,968,1151,995"/>
<area shape="rect" id="node42" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1029,715,1149,741"/>
<area shape="rect" id="node47" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="411,791,522,817"/>
<area shape="rect" id="node49" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="389,740,544,767"/>
<area shape="rect" id="node48" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="614,791,733,817"/>
<area shape="rect" id="node50" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="592,740,755,767"/>
</map>
</div>

</div>
</div>
<a id="a5d782d0fbd913bfe5f13ab3a7e8db174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d782d0fbd913bfe5f13ab3a7e8db174">&#9670;&nbsp;</a></span>validate_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int validate_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__ref__node.html">ubifs_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>validate_ref - validate a reference node. <code></code>: UBIFS file-system description object  the reference node to validate : LEB number of the reference node : reference node offset</p>
<p>This function returns %1 if a bud reference already exists for the LEB. %0 is returned if the reference node is new, otherwise %-EINVAL is returned if validation failed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_cgraph.png" border="0" usemap="#replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_cgraph" alt=""/></div>
<map name="replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_cgraph" id="replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e" title="ubifs_search_bud" alt="" coords="143,5,267,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="169,56,241,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_icgraph.png" border="0" usemap="#replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_icgraph" alt=""/></div>
<map name="replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_icgraph" id="replay_8c_a5d782d0fbd913bfe5f13ab3a7e8db174_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="143,5,248,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="296,5,433,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="481,5,575,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="623,5,732,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="780,5,873,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="replay_8c.html">replay.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
