<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: gfs2/bmap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gfs2_2bmap_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bmap.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/spinlock.h&gt;</code><br />
<code>#include &lt;linux/completion.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/blkdev.h&gt;</code><br />
<code>#include &lt;linux/gfs2_ondisk.h&gt;</code><br />
<code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &lt;linux/iomap.h&gt;</code><br />
<code>#include &quot;<a class="el" href="gfs2_8h_source.html">gfs2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="incore_8h_source.html">incore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2bmap_8h_source.html">bmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="glock_8h_source.html">glock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2inode_8h_source.html">inode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="meta__io_8h_source.html">meta_io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2quota_8h_source.html">quota.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgrp_8h_source.html">rgrp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2super_8h_source.html">super.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trans_8h_source.html">trans.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2dir_8h_source.html">dir.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace__gfs2_8h_source.html">trace_gfs2.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bmap.c:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c__incl.png" border="0" usemap="#gfs2_2bmap_8c" alt=""/></div>
<map name="gfs2_2bmap_8c" id="gfs2_2bmap_8c">
<area shape="rect" id="node9" href="gfs2_8h.html" title="gfs2.h" alt="" coords="2657,80,2715,107"/>
<area shape="rect" id="node10" href="incore_8h.html" title="incore.h" alt="" coords="712,304,780,331"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html" title="bmap.h" alt="" coords="1165,80,1231,107"/>
<area shape="rect" id="node23" href="gfs2_2inode_8h.html" title="inode.h" alt="" coords="1218,155,1282,181"/>
<area shape="rect" id="node25" href="gfs2_2util_8h.html" title="util.h" alt="" coords="1231,229,1282,256"/>
<area shape="rect" id="node27" href="glock_8h.html" title="glock.h" alt="" coords="1517,155,1581,181"/>
<area shape="rect" id="node30" href="meta__io_8h.html" title="meta_io.h" alt="" coords="395,229,473,256"/>
<area shape="rect" id="node32" href="gfs2_2quota_8h.html" title="quota.h" alt="" coords="2740,80,2805,107"/>
<area shape="rect" id="node34" href="rgrp_8h.html" title="rgrp.h" alt="" coords="2333,155,2388,181"/>
<area shape="rect" id="node37" href="log_8h.html" title="log.h" alt="" coords="486,80,537,107"/>
<area shape="rect" id="node40" href="gfs2_2super_8h.html" title="super.h" alt="" coords="820,80,885,107"/>
<area shape="rect" id="node42" href="trans_8h.html" title="trans.h" alt="" coords="2267,304,2329,331"/>
<area shape="rect" id="node43" href="gfs2_2dir_8h.html" title="dir.h" alt="" coords="992,80,1039,107"/>
<area shape="rect" id="node44" href="trace__gfs2_8h.html" title="trace_gfs2.h" alt="" coords="1621,80,1716,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmetapath.html">metapath</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7fb3e433b043e1f21406cb5261434267"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a7fb3e433b043e1f21406cb5261434267">GFS2_JTRUNC_REVOKES</a>&#160;&#160;&#160;8192</td></tr>
<tr class="separator:a7fb3e433b043e1f21406cb5261434267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a503b036f50f82497fe740ff069ef8c0e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a503b036f50f82497fe740ff069ef8c0e">alloc_state</a> { <a class="el" href="gfs2_2bmap_8c.html#a503b036f50f82497fe740ff069ef8c0eaa1aa5caff76c1163506dc79862575ac1">ALLOC_DATA</a> = 0, 
<a class="el" href="gfs2_2bmap_8c.html#a503b036f50f82497fe740ff069ef8c0ea2287a83d8e7abf36d92c4e9abb24d4ab">ALLOC_GROW_DEPTH</a> = 1, 
<a class="el" href="gfs2_2bmap_8c.html#a503b036f50f82497fe740ff069ef8c0eaaf333f874267d4a0a503c3faa4e3aac2">ALLOC_GROW_HEIGHT</a> = 2
 }</td></tr>
<tr class="separator:a503b036f50f82497fe740ff069ef8c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3cf821611f5f038cbbf67710c1c891"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#abc3cf821611f5f038cbbf67710c1c891">dealloc_states</a> { <a class="el" href="gfs2_2bmap_8c.html#abc3cf821611f5f038cbbf67710c1c891ae6a6eb6e13f15d417536702a4e0eba4f">DEALLOC_MP_FULL</a> = 0, 
<a class="el" href="gfs2_2bmap_8c.html#abc3cf821611f5f038cbbf67710c1c891a67cca1f06489f2851b0834973edf7f84">DEALLOC_MP_LOWER</a> = 1, 
<a class="el" href="gfs2_2bmap_8c.html#abc3cf821611f5f038cbbf67710c1c891abd04e111aee3909e6f192161d536d480">DEALLOC_FILL_MP</a> = 2, 
<a class="el" href="gfs2_2bmap_8c.html#abc3cf821611f5f038cbbf67710c1c891a0083bf530b3d5016202dee0483635b13">DEALLOC_DONE</a> = 3
 }</td></tr>
<tr class="separator:abc3cf821611f5f038cbbf67710c1c891"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc5d25d638ba966a4b7c8b1751eb17ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea">gfs2_unstuffer_page</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct buffer_head *dibh, u64 <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>, struct page *page)</td></tr>
<tr class="separator:acc5d25d638ba966a4b7c8b1751eb17ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fa6c41a0efa993273ca30b3ecb4b9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ad0fa6c41a0efa993273ca30b3ecb4b9d">gfs2_unstuff_dinode</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct page *page)</td></tr>
<tr class="separator:ad0fa6c41a0efa993273ca30b3ecb4b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c018e43337195f3b05b6ffb3e44d4b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b">find_metapath</a> (const struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, u64 <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, unsigned int height)</td></tr>
<tr class="separator:a31c018e43337195f3b05b6ffb3e44d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef842b058cdf65eab0b96f96d10555b"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b">metapath_branch_start</a> (const struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:a7ef842b058cdf65eab0b96f96d10555b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc7fdbd4059b2023c0de2b990f5b008"><td class="memItemLeft" align="right" valign="top">static __be64 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008">metaptr1</a> (unsigned int height, const struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:aafc7fdbd4059b2023c0de2b990f5b008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07bb1f762b6251a78373eb0f86a096f"><td class="memItemLeft" align="right" valign="top">static __be64 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f">metapointer</a> (unsigned int height, const struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:ae07bb1f762b6251a78373eb0f86a096f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66822528bfd14291df3516b166be21f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9">gfs2_metapath_ra</a> (struct <a class="el" href="structgfs2__glock.html">gfs2_glock</a> *gl, __be64 *<a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, __be64 *end)</td></tr>
<tr class="separator:a66822528bfd14291df3516b166be21f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af626d08875f7fff74c410ef6e90ce5c8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8">__fillup_metapath</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, unsigned int x, unsigned int h)</td></tr>
<tr class="separator:af626d08875f7fff74c410ef6e90ce5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c3ab1e7227cce8cd593bf4e9f5012e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e">lookup_metapath</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:ad2c3ab1e7227cce8cd593bf4e9f5012e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b062a4d6de53ce15becc82d7b1a26f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9">fillup_metapath</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, int h)</td></tr>
<tr class="separator:a8b062a4d6de53ce15becc82d7b1a26f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec905f163119e977127aa52dae7a634"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634">release_metapath</a> (struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:a5ec905f163119e977127aa52dae7a634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b3a928e1766685a0a9cd228fdb0668"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668">gfs2_extent_length</a> (void *<a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, unsigned int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, __be64 *ptr, size_t limit, int *eob)</td></tr>
<tr class="separator:aa8b3a928e1766685a0a9cd228fdb0668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9daa8c2311e5a2e27f612dde976a0edb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb">bmap_lock</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, int create)</td></tr>
<tr class="separator:a9daa8c2311e5a2e27f612dde976a0edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94e03db9a8c7abd157a785a6fc6ae3e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e">bmap_unlock</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, int create)</td></tr>
<tr class="separator:ac94e03db9a8c7abd157a785a6fc6ae3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe5e08fc351829de1878ab952b17f02"><td class="memItemLeft" align="right" valign="top">static __be64 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02">gfs2_indirect_init</a> (struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, struct <a class="el" href="structgfs2__glock.html">gfs2_glock</a> *gl, unsigned int i, unsigned <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 bn)</td></tr>
<tr class="separator:adfe5e08fc351829de1878ab952b17f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2abcf9f456544cc9e8cf40a04b7e4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e">gfs2_iomap_alloc</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct iomap *iomap, unsigned <a class="el" href="structflags.html">flags</a>, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:a7b2abcf9f456544cc9e8cf40a04b7e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd86373e635198d7c4d071eb45de04b4"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4">hole_size</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, sector_t lblock, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:acd86373e635198d7c4d071eb45de04b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac514a019a03262a83ec584b4a093fd50"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50">gfs2_stuffed_iomap</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct iomap *iomap)</td></tr>
<tr class="separator:ac514a019a03262a83ec584b4a093fd50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4c336682ce296954b4badcb373a46f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f">gfs2_iomap_begin</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t pos, loff_t <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>, unsigned <a class="el" href="structflags.html">flags</a>, struct iomap *iomap)</td></tr>
<tr class="separator:ada4c336682ce296954b4badcb373a46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3f58bcd6348e7ebd84a4c42d87b1c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1">gfs2_block_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, sector_t lblock, struct buffer_head *bh_map, int create)</td></tr>
<tr class="separator:a1a3f58bcd6348e7ebd84a4c42d87b1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae822e8135a4b06ff4ddba49db152acde"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ae822e8135a4b06ff4ddba49db152acde">gfs2_extent_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 lblock, int *new, u64 *dblock, unsigned *extlen)</td></tr>
<tr class="separator:ae822e8135a4b06ff4ddba49db152acde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f51ee15c5c60ef70973886f8eb5e6cb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb">gfs2_block_zero_range</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t from, unsigned int <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>)</td></tr>
<tr class="separator:a2f51ee15c5c60ef70973886f8eb5e6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3798960910ce0c83d83d01ab9bad0fd9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9">gfs2_journaled_truncate</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 oldsize, u64 newsize)</td></tr>
<tr class="separator:a3798960910ce0c83d83d01ab9bad0fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5deec801489ba923431972f1e35f3537"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537">trunc_start</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 newsize)</td></tr>
<tr class="separator:a5deec801489ba923431972f1e35f3537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176e236e3a36c04b455e3e8a3df17b07"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07">sweep_bh_for_rgrps</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct <a class="el" href="structgfs2__holder.html">gfs2_holder</a> *rd_gh, struct buffer_head *bh, __be64 *<a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, __be64 *end, bool meta, u32 *btotal)</td></tr>
<tr class="separator:a176e236e3a36c04b455e3e8a3df17b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5033964b6f7e18b5c60a75d9334ed656"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656">mp_eq_to_hgt</a> (struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, __u16 *<a class="el" href="pnode_8c.html#a4ec303fcaadf9da543d44583b91a12c0">list</a>, unsigned int h)</td></tr>
<tr class="separator:a5033964b6f7e18b5c60a75d9334ed656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c0668dfbae7e60e4b1880469f99402"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402">find_nonnull_ptr</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, unsigned int h, __u16 *end_list, unsigned int end_aligned)</td></tr>
<tr class="separator:a34c0668dfbae7e60e4b1880469f99402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0794b8ad98df9ac5838ab1de70e902a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2">metapointer_range</a> (struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, int height, __u16 *start_list, unsigned int start_aligned, __u16 *end_list, unsigned int end_aligned, __be64 **<a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, __be64 **end)</td></tr>
<tr class="separator:a0794b8ad98df9ac5838ab1de70e902a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6f8ed4ffa60627a4163f66e3a63349"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349">walk_done</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structmetapath.html">metapath</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, int height, __u16 *end_list, unsigned int end_aligned)</td></tr>
<tr class="separator:add6f8ed4ffa60627a4163f66e3a63349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f97755d47766a48ec4df929863efb4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4">punch_hole</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>)</td></tr>
<tr class="separator:a93f97755d47766a48ec4df929863efb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4a123552788f37e9c996b878e44218"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218">trunc_end</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:a6a4a123552788f37e9c996b878e44218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd428e8882c78733b72a0e3ebc5f2373"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373">do_shrink</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 newsize)</td></tr>
<tr class="separator:abd428e8882c78733b72a0e3ebc5f2373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331a33f7fee55ff1b471c9effa059659"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a331a33f7fee55ff1b471c9effa059659">gfs2_trim_blocks</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a331a33f7fee55ff1b471c9effa059659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3a47d3b5cddf03756b02f4331c80ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae">do_grow</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a2c3a47d3b5cddf03756b02f4331c80ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4593001f90cee56309e0f83a3154c9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ab4593001f90cee56309e0f83a3154c9c">gfs2_setattr_size</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 newsize)</td></tr>
<tr class="separator:ab4593001f90cee56309e0f83a3154c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63fdaa0c472efdf4a6afa24d0297529"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#aa63fdaa0c472efdf4a6afa24d0297529">gfs2_truncatei_resume</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:aa63fdaa0c472efdf4a6afa24d0297529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631cf74be1d8a0914060da66d38d4ba0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a631cf74be1d8a0914060da66d38d4ba0">gfs2_file_dealloc</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:a631cf74be1d8a0914060da66d38d4ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8dcd2c0d9cb0f93243a981a67a8d2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#acb8dcd2c0d9cb0f93243a981a67a8d2e">gfs2_free_journal_extents</a> (struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *jd)</td></tr>
<tr class="separator:acb8dcd2c0d9cb0f93243a981a67a8d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395998b5b2aa31ba0cf788f2ebb0b69c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a395998b5b2aa31ba0cf788f2ebb0b69c">gfs2_add_jextent</a> (struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *jd, u64 lblock, u64 dblock, u64 blocks)</td></tr>
<tr class="separator:a395998b5b2aa31ba0cf788f2ebb0b69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72286a05925d882b2de9c25556f75ed4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a72286a05925d882b2de9c25556f75ed4">gfs2_map_journal_extents</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *jd)</td></tr>
<tr class="separator:a72286a05925d882b2de9c25556f75ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387e01f7e9342482f871adac9a2f1f3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a387e01f7e9342482f871adac9a2f1f3e">gfs2_write_alloc_required</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, unsigned int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a387e01f7e9342482f871adac9a2f1f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2009c5ae9997445248c4290ccbf621a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#ad2009c5ae9997445248c4290ccbf621a">stuffed_zero_range</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, loff_t <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>)</td></tr>
<tr class="separator:ad2009c5ae9997445248c4290ccbf621a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc866fb7aa272ffb43d247c8a3e7f36f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f">gfs2_journaled_truncate_range</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, loff_t <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>)</td></tr>
<tr class="separator:acc866fb7aa272ffb43d247c8a3e7f36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed92c6adeb7c13c7081279a66556d0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8c.html#a3ed92c6adeb7c13c7081279a66556d0c">__gfs2_punch_hole</a> (struct file *file, loff_t <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, loff_t <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>)</td></tr>
<tr class="separator:a3ed92c6adeb7c13c7081279a66556d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7fb3e433b043e1f21406cb5261434267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb3e433b043e1f21406cb5261434267">&#9670;&nbsp;</a></span>GFS2_JTRUNC_REVOKES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GFS2_JTRUNC_REVOKES&#160;&#160;&#160;8192</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a503b036f50f82497fe740ff069ef8c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503b036f50f82497fe740ff069ef8c0e">&#9670;&nbsp;</a></span>alloc_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gfs2_2bmap_8c.html#a503b036f50f82497fe740ff069ef8c0e">alloc_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a503b036f50f82497fe740ff069ef8c0eaa1aa5caff76c1163506dc79862575ac1"></a>ALLOC_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a503b036f50f82497fe740ff069ef8c0ea2287a83d8e7abf36d92c4e9abb24d4ab"></a>ALLOC_GROW_DEPTH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a503b036f50f82497fe740ff069ef8c0eaaf333f874267d4a0a503c3faa4e3aac2"></a>ALLOC_GROW_HEIGHT&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="abc3cf821611f5f038cbbf67710c1c891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3cf821611f5f038cbbf67710c1c891">&#9670;&nbsp;</a></span>dealloc_states</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gfs2_2bmap_8c.html#abc3cf821611f5f038cbbf67710c1c891">dealloc_states</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abc3cf821611f5f038cbbf67710c1c891ae6a6eb6e13f15d417536702a4e0eba4f"></a>DEALLOC_MP_FULL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abc3cf821611f5f038cbbf67710c1c891a67cca1f06489f2851b0834973edf7f84"></a>DEALLOC_MP_LOWER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abc3cf821611f5f038cbbf67710c1c891abd04e111aee3909e6f192161d536d480"></a>DEALLOC_FILL_MP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abc3cf821611f5f038cbbf67710c1c891a0083bf530b3d5016202dee0483635b13"></a>DEALLOC_DONE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af626d08875f7fff74c410ef6e90ce5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af626d08875f7fff74c410ef6e90ce5c8">&#9670;&nbsp;</a></span>__fillup_metapath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __fillup_metapath </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_cgraph" id="gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="198,1018,289,1045"/>
<area shape="rect" id="node4" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="177,1070,309,1111"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="378,1018,451,1045"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="374,1073,455,1100"/>
<area shape="rect" id="node6" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="357,1124,472,1150"/>
<area shape="rect" id="node7" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="550,1048,641,1074"/>
<area shape="rect" id="node46" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="971,1149,1071,1176"/>
<area shape="rect" id="node47" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="520,1149,671,1176"/>
<area shape="rect" id="node49" href="meta__io_8c.html#a8cc74b7c0b63694aa67fef1f20e85704" title="gfs2_submit_bhs" alt="" coords="535,1225,656,1252"/>
<area shape="rect" id="node8" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="743,566,877,593"/>
<area shape="rect" id="node43" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="736,1048,884,1074"/>
<area shape="rect" id="node9" href="glock_8h.html#abcc871c62234b39ac052fe6a6a8b3f14" title="gfs2_glock_get" alt="" coords="966,541,1077,568"/>
<area shape="rect" id="node20" href="glock_8h.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="963,592,1079,618"/>
<area shape="rect" id="node21" href="glock_8h.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1415,896,1526,922"/>
<area shape="rect" id="node22" href="glock_8h.html#ac3ebc62375a395dc7d14db5e0df98782" title="gfs2_glock_queue_put" alt="" coords="1165,440,1317,466"/>
<area shape="rect" id="node24" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="965,744,1078,770"/>
<area shape="rect" id="node26" href="glock_8h.html#ac995caba0534a5669bf2ed4a9add045b" title="gfs2_holder_reinit" alt="" coords="959,794,1083,821"/>
<area shape="rect" id="node27" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="958,693,1085,720"/>
<area shape="rect" id="node29" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="1188,110,1295,137"/>
<area shape="rect" id="node32" href="glock_8h.html#aa415d68b6b43fb6556c729cb6b1a4c21" title="gfs2_glock_poll" alt="" coords="965,946,1077,973"/>
<area shape="rect" id="node33" href="glock_8h.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="963,997,1079,1024"/>
<area shape="rect" id="node34" href="glock_8h.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="1188,313,1295,340"/>
<area shape="rect" id="node37" href="glock_8h.html#a8dd8434f3f5b346d7a9827fbbe3846e1" title="gfs2_glock_dq_wait" alt="" coords="953,186,1090,213"/>
<area shape="rect" id="node38" href="glock_8h.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="949,237,1093,264"/>
<area shape="rect" id="node39" href="glock_8h.html#a96a5b213798300843706f6723fce5780" title="gfs2_glock_nq_num" alt="" coords="1172,642,1311,669"/>
<area shape="rect" id="node40" href="glock_8h.html#ad725a4c62857cc81a85c2f8c8aebdf70" title="gfs2_glock_nq_m" alt="" coords="959,338,1083,365"/>
<area shape="rect" id="node41" href="glock_8h.html#a935b12383ca917515597a0d954071c6a" title="gfs2_glock_dq_m" alt="" coords="959,389,1083,416"/>
<area shape="rect" id="node42" href="glock_8h.html#a7fc5c3f221967b86171f729566c20928" title="gfs2_dump_glock" alt="" coords="959,440,1083,466"/>
<area shape="rect" id="node10" href="glock_8c.html#a4ad4727942bb2d8e026d026c633a8df2" title="find_insert_glock" alt="" coords="1181,592,1301,618"/>
<area shape="rect" id="node11" href="glock_8c.html#adcd488b47b9c7bafb5f2d295e78c529d" title="glock_work_func" alt="" coords="1181,490,1301,517"/>
<area shape="rect" id="node18" href="glock_8c.html#aa98af1497e21810b901485b7d45184c4" title="delete_work_func" alt="" coords="1179,541,1303,568"/>
<area shape="rect" id="node12" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="1444,490,1497,517"/>
<area shape="rect" id="node13" href="glock_8c.html#a608f02d2850f41d3e7c6736af8b2db1c" title="run_queue" alt="" coords="1429,237,1512,264"/>
<area shape="rect" id="node15" href="glock_8c.html#a1ad999039c6b5fc4a2abca1c2a5f50b6" title="__gfs2_glock_queue_work" alt="" coords="1600,288,1776,314"/>
<area shape="rect" id="node16" href="glock_8c.html#a3fbd1c29f3c83af19d4f291c1a7c55cc" title="__gfs2_glock_put" alt="" coords="1626,642,1750,669"/>
<area shape="rect" id="node14" href="glock_8c.html#a66a6e81723ec8d41cb93a3dac8a70eb5" title="find_first_holder" alt="" coords="1631,212,1745,238"/>
<area shape="rect" id="node17" href="glock_8c.html#ac39c13c82bea3abc477816634c69d74a" title="gfs2_glock_remove_from_lru" alt="" coords="1824,313,2013,340"/>
<area shape="rect" id="node19" href="glock_8c.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1415,642,1526,669"/>
<area shape="rect" id="node23" href="glock_8c.html#aa2948bc5d5184ce3180b6008c780e871" title="gfs2_glock_queue_work" alt="" coords="1389,440,1552,466"/>
<area shape="rect" id="node25" href="glock_8c.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="1183,794,1299,821"/>
<area shape="rect" id="node28" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="1141,744,1341,770"/>
<area shape="rect" id="node30" href="glock_8c.html#ae0f5c28a461c19117d12efd28ba09629" title="add_to_queue" alt="" coords="1419,34,1522,61"/>
<area shape="rect" id="node31" href="glock_8c.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1413,85,1529,112"/>
<area shape="rect" id="node35" href="glock_8c.html#a5a97abf1e0ccd0d7bccc107cb853acdd" title="handle_callback" alt="" coords="1413,338,1528,365"/>
<area shape="rect" id="node36" href="glock_8c.html#a7c301edf9cd21fdc5c0e7d9bd1f8c1a2" title="demote_ok" alt="" coords="1427,389,1514,416"/>
<area shape="rect" id="node44" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="956,1048,1087,1074"/>
<area shape="rect" id="node45" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1172,1149,1311,1176"/>
<area shape="rect" id="node48" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="719,1149,901,1176"/>
<area shape="rect" id="node50" href="meta__io_8c.html#a6da2ae061883a4b99f85d25256db105f" title="gfs2_meta_read_endio" alt="" coords="733,1250,887,1277"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_icgraph" id="gfs2_2bmap_8c_af626d08875f7fff74c410ef6e90ce5c8_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="177,136,299,163"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="183,187,293,213"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="347,60,473,87"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="536,187,624,213"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1156,23,1269,49"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="521,820,639,847"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1135,567,1291,593"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1689,523,1806,549"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1863,372,1965,399"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1497,1273,1632,1314"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="743,1073,805,1100"/>
<area shape="rect" id="node14" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1687,795,1807,821"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="694,1175,854,1201"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="695,1276,853,1303"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="699,1352,849,1379"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="713,541,835,568"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="717,719,831,745"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="731,617,817,644"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="713,820,835,847"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="696,136,852,163"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="687,769,861,796"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="913,997,1083,1024"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1680,997,1815,1024"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="966,1149,1030,1176"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="961,1099,1035,1125"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1499,947,1630,973"/>
<area shape="rect" id="node16" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="922,1200,1074,1227"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="943,1352,1053,1379"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="919,1251,1077,1277"/>
<area shape="rect" id="node20" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="939,1301,1057,1328"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="945,1403,1051,1429"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="945,491,1051,517"/>
<area shape="rect" id="node25" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="934,541,1062,568"/>
<area shape="rect" id="node28" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="935,592,1061,619"/>
<area shape="rect" id="node30" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="931,795,1065,821"/>
<area shape="rect" id="node31" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="932,845,1064,872"/>
<area shape="rect" id="node32" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="943,896,1053,923"/>
<area shape="rect" id="node33" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="919,744,1077,771"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1504,491,1625,517"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1359,947,1429,973"/>
<area shape="rect" id="node37" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1339,744,1449,771"/>
<area shape="rect" id="node39" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="931,85,1065,112"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="735,237,813,264"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="697,187,851,213"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="715,339,833,365"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="937,187,1059,213"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="937,288,1059,315"/>
<area shape="rect" id="node47" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="909,136,1087,163"/>
<area shape="rect" id="node49" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="938,339,1058,365"/>
</map>
</div>

</div>
</div>
<a id="a3ed92c6adeb7c13c7081279a66556d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed92c6adeb7c13c7081279a66556d0c">&#9670;&nbsp;</a></span>__gfs2_punch_hole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __gfs2_punch_hole </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_cgraph" id="gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="687,659,754,686"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="878,1140,959,1167"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="671,456,770,483"/>
<area shape="rect" id="node5" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="660,64,781,91"/>
<area shape="rect" id="node9" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="211,1976,321,2003"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#ad2009c5ae9997445248c4290ccbf621a" title="stuffed_zero_range" alt="" coords="425,710,559,736"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="188,431,344,458"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f" title="gfs2_journaled_truncate\l_range" alt="" coords="412,86,572,128"/>
<area shape="rect" id="node21" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="665,216,776,243"/>
<area shape="rect" id="node25" href="inode_8c.html#ad7b0eea4a307ae587d3887cb1d67b381" title="file_update_time" alt="" coords="433,2002,551,2028"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="222,1242,310,1268"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="863,39,974,66"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="858,90,979,116"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="1036,115,1156,142"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="640,887,801,914"/>
<area shape="rect" id="node12" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="647,1014,794,1040"/>
<area shape="rect" id="node14" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="418,254,566,280"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="433,558,551,584"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="449,304,535,331"/>
<area shape="rect" id="node17" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="429,406,555,432"/>
<area shape="rect" id="node18" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="421,456,563,483"/>
<area shape="rect" id="node19" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="431,203,553,230"/>
<area shape="rect" id="node22" href="gfs2_2trans_8c.html#a6ef229c79b5693477ba7e27fb66d5acf" title="gfs2_print_trans" alt="" coords="861,191,976,218"/>
<area shape="rect" id="node23" href="gfs2_2log_8c.html#a60ca61b3792ee2240074cb04f0512053" title="gfs2_log_commit" alt="" coords="858,242,979,268"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="865,292,972,319"/>
<area shape="rect" id="node26" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="673,1926,768,1952"/>
<area shape="rect" id="node27" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="849,1951,988,1978"/>
<area shape="rect" id="node28" href="internal_8h.html#a90039e8333efdad6a1af3512897651e7" title="__mnt_want_write_file" alt="" coords="645,2027,797,2054"/>
<area shape="rect" id="node29" href="inode_8c.html#a7ae3fe454cb624841ffcaf6bbe2177ad" title="update_time" alt="" coords="674,2078,767,2104"/>
<area shape="rect" id="node30" href="internal_8h.html#a28064ac863ca84020eb386f490879ec5" title="__mnt_drop_write_file" alt="" coords="646,2128,795,2155"/>
<area shape="rect" id="node32" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="451,1014,533,1040"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="440,1216,544,1243"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="431,1267,553,1294"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="427,1318,557,1344"/>
<area shape="rect" id="node36" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="429,1368,555,1395"/>
<area shape="rect" id="node37" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="425,963,559,990"/>
<area shape="rect" id="node38" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="649,1216,793,1243"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="433,1723,551,1750"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="655,1723,786,1750"/>
<area shape="rect" id="node41" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="392,1419,592,1446"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="423,1166,561,1192"/>
<area shape="rect" id="node43" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="645,1304,796,1331"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="662,1431,779,1458"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="450,1470,534,1496"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="435,1622,549,1648"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="437,1824,547,1851"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="424,862,560,888"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="653,786,788,812"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="429,811,555,838"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_icgraph" id="gfs2_2bmap_8c_a3ed92c6adeb7c13c7081279a66556d0c_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1355,43,1457,69"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="188,296,344,323"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1513,43,1660,69"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1155,1512,1289,1539"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="392,144,513,171"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1163,93,1281,120"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="417,397,488,424"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1162,1563,1282,1589"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="397,296,508,323"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="565,397,679,424"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="579,651,665,677"/>
<area shape="rect" id="node34" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="744,1284,875,1311"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="561,245,683,272"/>
<area shape="rect" id="node10" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="760,448,859,475"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="731,397,888,424"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="752,347,867,373"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="959,499,1074,525"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="967,144,1067,171"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="961,195,1072,221"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="971,245,1062,272"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="957,296,1077,323"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="969,347,1064,373"/>
<area shape="rect" id="node19" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="943,397,1091,424"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="943,448,1091,475"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="741,752,877,779"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1145,853,1299,880"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1347,777,1465,804"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1347,853,1465,880"/>
<area shape="rect" id="node27" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="936,752,1097,779"/>
<area shape="rect" id="node28" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1171,789,1273,816"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="973,955,1061,981"/>
<area shape="rect" id="node30" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="953,1056,1080,1083"/>
<area shape="rect" id="node32" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="961,600,1073,627"/>
<area shape="rect" id="node33" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="970,651,1063,677"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1531,1233,1642,1260"/>
<area shape="rect" id="node31" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1175,1107,1269,1133"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1159,1157,1285,1184"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1179,1208,1265,1235"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1185,1259,1259,1285"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1173,1335,1271,1361"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="965,1360,1069,1387"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1187,1411,1257,1437"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="937,1309,1096,1336"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1376,1132,1436,1159"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="1353,1183,1459,1209"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="748,296,871,323"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="759,144,859,171"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="763,195,856,221"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="747,245,872,272"/>
</map>
</div>

</div>
</div>
<a id="a9daa8c2311e5a2e27f612dde976a0edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9daa8c2311e5a2e27f612dde976a0edb">&#9670;&nbsp;</a></span>bmap_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bmap_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a9daa8c2311e5a2e27f612dde976a0edb_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a9daa8c2311e5a2e27f612dde976a0edb_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a9daa8c2311e5a2e27f612dde976a0edb_icgraph" id="gfs2_2bmap_8c_a9daa8c2311e5a2e27f612dde976a0edb_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="139,144,265,171"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1452,68,1565,95"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="313,651,431,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="909,363,1065,389"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1633,169,1750,196"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1807,68,1909,95"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1957,68,2104,95"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1441,702,1576,743"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="957,144,1018,171"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1631,709,1751,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="479,869,639,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="479,945,638,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="484,1047,633,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="498,1123,619,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="501,372,616,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="515,271,602,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="497,487,620,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="481,423,637,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="687,651,861,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="689,701,859,728"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1624,575,1759,601"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1137,245,1201,272"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1131,93,1206,120"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1443,423,1574,449"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1272,347,1393,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1274,93,1391,120"/>
<area shape="rect" id="node16" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1628,448,1755,475"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1644,397,1739,424"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="698,869,850,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="719,971,829,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="695,1021,853,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="715,920,833,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="721,1072,827,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="721,1123,827,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="710,1173,838,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="711,195,837,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="707,448,841,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="708,499,840,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="719,347,829,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="695,397,853,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1448,144,1569,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1133,405,1204,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1113,565,1224,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1275,499,1390,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1290,397,1375,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="732,296,816,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="707,245,841,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1127,616,1211,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="924,616,1051,643"/>
</map>
</div>

</div>
</div>
<a id="ac94e03db9a8c7abd157a785a6fc6ae3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94e03db9a8c7abd157a785a6fc6ae3e">&#9670;&nbsp;</a></span>bmap_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bmap_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ac94e03db9a8c7abd157a785a6fc6ae3e_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ac94e03db9a8c7abd157a785a6fc6ae3e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ac94e03db9a8c7abd157a785a6fc6ae3e_icgraph" id="gfs2_2bmap_8c_ac94e03db9a8c7abd157a785a6fc6ae3e_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="152,144,279,171"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1465,68,1579,95"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="327,651,444,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="923,363,1079,389"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1646,169,1763,196"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1820,68,1923,95"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1971,68,2117,95"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1455,702,1589,743"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="970,144,1031,171"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1645,709,1765,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="492,869,652,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="493,945,651,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="497,1047,647,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="511,1123,633,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="515,372,629,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="529,271,615,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="511,487,633,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="494,423,650,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="700,651,875,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="703,701,872,728"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1637,575,1772,601"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1150,245,1214,272"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1145,93,1219,120"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1457,423,1587,449"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1285,347,1407,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1287,93,1405,120"/>
<area shape="rect" id="node16" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1641,448,1768,475"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1657,397,1752,424"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="711,869,863,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="732,971,843,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="708,1021,867,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="729,920,846,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="734,1072,841,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="734,1123,841,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="723,1173,851,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="725,195,850,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="720,448,855,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="721,499,853,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="732,347,843,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="708,397,867,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1461,144,1583,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1147,405,1217,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1127,565,1237,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1289,499,1403,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1303,397,1389,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="745,296,829,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="720,245,855,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1140,616,1224,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="937,616,1064,643"/>
</map>
</div>

</div>
</div>
<a id="a2c3a47d3b5cddf03756b02f4331c80ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3a47d3b5cddf03756b02f4331c80ae">&#9670;&nbsp;</a></span>do_grow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_grow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>do_grow - Touch and update inode size : The inode : The new size</p>
<p>This function updates the timestamps on the inode and may also increase the size of the inode. This function must not be called with  any smaller than the current inode size.</p>
<p>Although it is not strictly required to unstuff files here, earlier versions of GFS2 have a bug in the stuffed file reading code which will result in a buffer overrun if the size is larger than the max stuffed file size. In order to prevent this from occurring, such files are unstuffed, but in other cases we can just update the inode size directly.</p>
<p>Returns: 0 on success, or -ve on error </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_cgraph" id="gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="580,565,647,592"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="778,515,859,541"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="141,1936,251,1963"/>
<area shape="rect" id="node5" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="535,464,692,491"/>
<area shape="rect" id="node6" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="319,243,477,269"/>
<area shape="rect" id="node12" href="rgrp_8c.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="325,1088,471,1115"/>
<area shape="rect" id="node31" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="135,1987,257,2013"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="127,1544,265,1571"/>
<area shape="rect" id="node36" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="533,1899,694,1925"/>
<area shape="rect" id="node38" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="540,1747,687,1773"/>
<area shape="rect" id="node46" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="149,2037,243,2064"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="137,827,255,853"/>
<area shape="rect" id="node48" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="141,1189,251,1216"/>
<area shape="rect" id="node49" href="rgrp_8c.html#a9e0a5684940c9a0b0a63cf831e3a8b05" title="gfs2_inplace_release" alt="" coords="124,28,268,55"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="548,59,679,85"/>
<area shape="rect" id="node7" href="gfs2_2quota_8h.html#ace9b0412c4914dc72f7e640ad6647635" title="gfs2_quota_lock" alt="" coords="555,211,672,237"/>
<area shape="rect" id="node9" href="gfs2_2quota_8h.html#a630ef6f87783e483b4880a02b5070262" title="gfs2_quota_check" alt="" coords="549,261,677,288"/>
<area shape="rect" id="node10" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="548,160,679,187"/>
<area shape="rect" id="node11" href="gfs2_2quota_8h.html#ae8916b04b2816dfd27f1b5f52d23eddd" title="gfs2_quota_hash_init" alt="" coords="541,109,686,136"/>
<area shape="rect" id="node8" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="747,160,891,187"/>
<area shape="rect" id="node13" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="560,1696,667,1723"/>
<area shape="rect" id="node14" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="749,1544,888,1571"/>
<area shape="rect" id="node15" href="rgrp_8c.html#a3f124d1d41cde1afea1184e49acd9763" title="check_and_update_goal" alt="" coords="532,1240,695,1267"/>
<area shape="rect" id="node16" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="765,1265,872,1292"/>
<area shape="rect" id="node17" href="rgrp_8c.html#a5e03ceea092cfe1ac4f700a85986d679" title="gfs2_orlov_skip" alt="" coords="557,667,670,693"/>
<area shape="rect" id="node18" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="540,1022,687,1063"/>
<area shape="rect" id="node19" href="rgrp_8c.html#a4120935c3918ab5bcbb0bd4deaa561a4" title="fast_to_acquire" alt="" coords="558,1088,669,1115"/>
<area shape="rect" id="node20" href="rgrp_8c.html#a3702a1fd590d8d70a17a38ed135053d2" title="gfs2_rgrp_used_recently" alt="" coords="531,1139,695,1165"/>
<area shape="rect" id="node21" href="rgrp_8c.html#aadbfe4c64cfc942626be48133bb2300c" title="gfs2_rgrp_congested" alt="" coords="542,1189,685,1216"/>
<area shape="rect" id="node22" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="548,768,679,795"/>
<area shape="rect" id="node23" href="rgrp_8c.html#aba3f01d4b34680d6a2c588c478a706b1" title="update_rgrp_lvb" alt="" coords="556,1392,671,1419"/>
<area shape="rect" id="node24" href="rgrp_8c.html#a4144544a2fa2798453690e60583a1375" title="gfs2_rgrp_bh_get" alt="" coords="757,1367,880,1393"/>
<area shape="rect" id="node25" href="rgrp_8c.html#a51e50bd9af85a489323b2ef568caa65e" title="rg_mblk_search" alt="" coords="556,1595,671,1621"/>
<area shape="rect" id="node26" href="rgrp_8c.html#ac527ba0d9bcfbaeafcc5eda982f2cdb2" title="try_rgrp_unlink" alt="" coords="560,869,667,896"/>
<area shape="rect" id="node27" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="558,920,669,947"/>
<area shape="rect" id="node28" href="rgrp_8c.html#a6d4b9a2a68ddd32e61806f7edbd03d03" title="gfs2_select_rgrp" alt="" coords="554,971,673,997"/>
<area shape="rect" id="node29" href="rgrp_8c.html#a5c55d09a84b98a9fc2b416c1dd9e5b4f" title="gfs2_ri_update" alt="" coords="560,717,667,744"/>
<area shape="rect" id="node30" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="560,1645,667,1672"/>
<area shape="rect" id="node32" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="343,1975,453,2001"/>
<area shape="rect" id="node33" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="337,2025,459,2052"/>
<area shape="rect" id="node35" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="355,1493,441,1520"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="335,1544,461,1571"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="528,1848,699,1875"/>
<area shape="rect" id="node40" href="gfs2_2dir_8c.html#a31f4b74161a46f186764208ef553a341" title="gfs2_dir_get_new_buffer" alt="" coords="316,1645,480,1672"/>
<area shape="rect" id="node41" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="540,1797,687,1824"/>
<area shape="rect" id="node42" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="325,1747,471,1773"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="328,515,468,541"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="319,1443,477,1469"/>
<area shape="rect" id="node45" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="321,616,475,643"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_icgraph" id="gfs2_2bmap_8c_a2c3a47d3b5cddf03756b02f4331c80ae_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="124,813,247,840"/>
<area shape="rect" id="node3" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1283,505,1374,532"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="295,1012,451,1039"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1261,1037,1396,1064"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="499,1595,620,1621"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1270,1341,1387,1368"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="524,733,595,760"/>
<area shape="rect" id="node43" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1269,936,1389,963"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="504,961,615,988"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1461,1341,1564,1368"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1620,1341,1767,1368"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="671,885,786,912"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="686,359,771,385"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="851,607,981,633"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="668,733,789,760"/>
<area shape="rect" id="node12" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="867,860,965,887"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="837,911,995,937"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="859,1291,973,1317"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1066,1392,1181,1419"/>
<area shape="rect" id="node16" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1073,1443,1173,1469"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1068,1493,1179,1520"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1078,1139,1169,1165"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="1063,1189,1183,1216"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1076,1240,1171,1267"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="1049,1291,1197,1317"/>
<area shape="rect" id="node22" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1049,1341,1197,1368"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="848,227,984,253"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1252,328,1405,355"/>
<area shape="rect" id="node26" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1453,259,1572,285"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1454,335,1571,361"/>
<area shape="rect" id="node29" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1043,75,1204,101"/>
<area shape="rect" id="node30" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1278,271,1379,297"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1079,125,1167,152"/>
<area shape="rect" id="node32" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="1060,429,1187,456"/>
<area shape="rect" id="node34" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="1067,176,1179,203"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="1077,227,1170,253"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1638,455,1749,481"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1281,632,1376,659"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1265,805,1392,832"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1285,881,1372,908"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1291,685,1366,712"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1280,743,1377,769"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1071,531,1175,557"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1044,885,1203,912"/>
<area shape="rect" id="node38" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1483,805,1543,832"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="855,657,977,684"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="866,708,966,735"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="869,759,963,785"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="853,809,979,836"/>
</map>
</div>

</div>
</div>
<a id="abd428e8882c78733b72a0e3ebc5f2373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd428e8882c78733b72a0e3ebc5f2373">&#9670;&nbsp;</a></span>do_shrink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_shrink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>newsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>do_shrink - make a file smaller : the inode : the size to make the file</p>
<p>Called with an exclusive lock on . The  must be equal to or smaller than the current inode size.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_cgraph" id="gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="771,165,838,191"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="134,553,218,579"/>
<area shape="rect" id="node19" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="313,63,423,90"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="132,1541,220,1567"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="329,1059,407,1086"/>
<area shape="rect" id="node4" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="955,1194,1036,1221"/>
<area shape="rect" id="node5" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="755,469,854,495"/>
<area shape="rect" id="node6" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="536,1042,657,1069"/>
<area shape="rect" id="node9" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="516,933,677,959"/>
<area shape="rect" id="node14" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="523,722,670,749"/>
<area shape="rect" id="node20" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="523,607,670,634"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="290,350,446,377"/>
<area shape="rect" id="node26" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="549,1194,644,1221"/>
<area shape="rect" id="node27" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="538,1346,655,1373"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="288,857,448,883"/>
<area shape="rect" id="node29" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="541,671,652,698"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="749,1042,860,1069"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="744,1093,865,1119"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="739,925,871,967"/>
<area shape="rect" id="node11" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="754,823,855,850"/>
<area shape="rect" id="node12" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="952,823,1039,850"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1107,798,1207,825"/>
<area shape="rect" id="node15" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="753,621,856,647"/>
<area shape="rect" id="node16" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="747,671,863,698"/>
<area shape="rect" id="node17" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="739,722,870,749"/>
<area shape="rect" id="node18" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="769,570,840,597"/>
<area shape="rect" id="node22" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="523,215,671,242"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="538,114,655,141"/>
<area shape="rect" id="node24" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="533,418,660,445"/>
<area shape="rect" id="node25" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="525,545,668,571"/>
<area shape="rect" id="node31" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="327,1617,409,1643"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="316,1870,420,1897"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="307,1921,429,1947"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="303,1971,433,1998"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="932,1701,1059,1727"/>
<area shape="rect" id="node36" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="301,958,435,985"/>
<area shape="rect" id="node37" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="525,1245,669,1271"/>
<area shape="rect" id="node38" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="309,1819,427,1846"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="531,1870,662,1897"/>
<area shape="rect" id="node40" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="268,2022,468,2049"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="299,1211,437,1238"/>
<area shape="rect" id="node42" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="521,1667,672,1694"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="326,2073,410,2099"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="311,1313,425,1339"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="313,1363,423,1390"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="300,755,436,782"/>
<area shape="rect" id="node47" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="737,1457,872,1483"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="305,1414,431,1441"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="725,1194,884,1221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_icgraph" id="gfs2_2bmap_8c_abd428e8882c78733b72a0e3ebc5f2373_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="132,1677,253,1704"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1460,1639,1583,1665"/>
<area shape="rect" id="node3" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1275,1576,1395,1603"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="301,1601,457,1628"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1268,1272,1403,1299"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="505,1576,627,1603"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1277,1399,1394,1425"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="531,1069,601,1096"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="511,1728,621,1755"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1470,1399,1573,1425"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1631,1399,1777,1425"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="678,1069,793,1096"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="693,664,778,691"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="857,1019,988,1045"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="675,1221,796,1248"/>
<area shape="rect" id="node12" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="873,1069,972,1096"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="844,1120,1001,1147"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="865,664,980,691"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1073,664,1187,691"/>
<area shape="rect" id="node16" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1080,715,1180,741"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1075,765,1185,792"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1085,816,1175,843"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="1070,461,1190,488"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1083,512,1177,539"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="1056,563,1204,589"/>
<area shape="rect" id="node22" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1056,613,1204,640"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="855,183,991,209"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1259,259,1412,285"/>
<area shape="rect" id="node26" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1462,284,1581,311"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1463,196,1580,223"/>
<area shape="rect" id="node29" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1049,107,1211,133"/>
<area shape="rect" id="node30" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1285,176,1386,203"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1086,5,1174,32"/>
<area shape="rect" id="node32" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="1067,411,1193,437"/>
<area shape="rect" id="node34" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="1074,208,1186,235"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1649,563,1759,589"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1288,917,1383,944"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1272,971,1399,997"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1292,1028,1379,1055"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1298,1091,1373,1117"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1287,1167,1384,1193"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1469,1512,1573,1539"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1300,1221,1371,1248"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1051,1171,1209,1197"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1659,1575,1749,1601"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="861,1272,984,1299"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="873,1323,973,1349"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="876,1171,969,1197"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="860,1221,985,1248"/>
</map>
</div>

</div>
</div>
<a id="a8b062a4d6de53ce15becc82d7b1a26f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b062a4d6de53ce15becc82d7b1a26f9">&#9670;&nbsp;</a></span>fillup_metapath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fillup_metapath </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>fillup_metapath - fill up buffers for the metadata path to a specific height : The inode : The metapath : The height to which it should be mapped</p>
<p>Similar to lookup_metapath, but does lookups for a range of heights</p>
<p>Returns: error or the number of buffers filled </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_cgraph" id="gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="164,1019,288,1045"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="357,989,447,1016"/>
<area shape="rect" id="node5" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="336,1041,468,1082"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="537,989,610,1016"/>
<area shape="rect" id="node6" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="533,1044,614,1071"/>
<area shape="rect" id="node7" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="516,1095,631,1121"/>
<area shape="rect" id="node8" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="709,1019,799,1045"/>
<area shape="rect" id="node46" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1130,1120,1230,1147"/>
<area shape="rect" id="node47" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="679,1120,829,1147"/>
<area shape="rect" id="node49" href="meta__io_8c.html#a8cc74b7c0b63694aa67fef1f20e85704" title="gfs2_submit_bhs" alt="" coords="693,1196,815,1223"/>
<area shape="rect" id="node9" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="901,537,1036,564"/>
<area shape="rect" id="node43" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="895,1019,1043,1045"/>
<area shape="rect" id="node10" href="glock_8h.html#abcc871c62234b39ac052fe6a6a8b3f14" title="gfs2_glock_get" alt="" coords="1125,512,1235,539"/>
<area shape="rect" id="node21" href="glock_8h.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="1122,563,1238,589"/>
<area shape="rect" id="node22" href="glock_8h.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1574,715,1685,741"/>
<area shape="rect" id="node23" href="glock_8h.html#ac3ebc62375a395dc7d14db5e0df98782" title="gfs2_glock_queue_put" alt="" coords="1324,233,1476,260"/>
<area shape="rect" id="node25" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="1123,816,1237,843"/>
<area shape="rect" id="node27" href="glock_8h.html#ac995caba0534a5669bf2ed4a9add045b" title="gfs2_holder_reinit" alt="" coords="1118,765,1242,792"/>
<area shape="rect" id="node28" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="1117,664,1243,691"/>
<area shape="rect" id="node30" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="1347,107,1453,133"/>
<area shape="rect" id="node33" href="glock_8h.html#aa415d68b6b43fb6556c729cb6b1a4c21" title="gfs2_glock_poll" alt="" coords="1124,917,1236,944"/>
<area shape="rect" id="node34" href="glock_8h.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1122,968,1238,995"/>
<area shape="rect" id="node35" href="glock_8h.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="1347,411,1453,437"/>
<area shape="rect" id="node37" href="glock_8h.html#a8dd8434f3f5b346d7a9827fbbe3846e1" title="gfs2_glock_dq_wait" alt="" coords="1111,157,1249,184"/>
<area shape="rect" id="node38" href="glock_8h.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="1108,208,1252,235"/>
<area shape="rect" id="node39" href="glock_8h.html#a96a5b213798300843706f6723fce5780" title="gfs2_glock_nq_num" alt="" coords="1331,613,1469,640"/>
<area shape="rect" id="node40" href="glock_8h.html#ad725a4c62857cc81a85c2f8c8aebdf70" title="gfs2_glock_nq_m" alt="" coords="1118,309,1242,336"/>
<area shape="rect" id="node41" href="glock_8h.html#a935b12383ca917515597a0d954071c6a" title="gfs2_glock_dq_m" alt="" coords="1118,360,1242,387"/>
<area shape="rect" id="node42" href="glock_8h.html#a7fc5c3f221967b86171f729566c20928" title="gfs2_dump_glock" alt="" coords="1118,411,1242,437"/>
<area shape="rect" id="node11" href="glock_8c.html#a4ad4727942bb2d8e026d026c633a8df2" title="find_insert_glock" alt="" coords="1340,563,1460,589"/>
<area shape="rect" id="node12" href="glock_8c.html#adcd488b47b9c7bafb5f2d295e78c529d" title="glock_work_func" alt="" coords="1340,461,1460,488"/>
<area shape="rect" id="node19" href="glock_8c.html#aa98af1497e21810b901485b7d45184c4" title="delete_work_func" alt="" coords="1338,512,1462,539"/>
<area shape="rect" id="node13" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="1603,461,1656,488"/>
<area shape="rect" id="node14" href="glock_8c.html#a608f02d2850f41d3e7c6736af8b2db1c" title="run_queue" alt="" coords="1588,309,1671,336"/>
<area shape="rect" id="node16" href="glock_8c.html#a1ad999039c6b5fc4a2abca1c2a5f50b6" title="__gfs2_glock_queue_work" alt="" coords="1759,259,1935,285"/>
<area shape="rect" id="node17" href="glock_8c.html#a3fbd1c29f3c83af19d4f291c1a7c55cc" title="__gfs2_glock_put" alt="" coords="1785,613,1909,640"/>
<area shape="rect" id="node15" href="glock_8c.html#a66a6e81723ec8d41cb93a3dac8a70eb5" title="find_first_holder" alt="" coords="1789,360,1904,387"/>
<area shape="rect" id="node18" href="glock_8c.html#ac39c13c82bea3abc477816634c69d74a" title="gfs2_glock_remove_from_lru" alt="" coords="1983,360,2172,387"/>
<area shape="rect" id="node20" href="glock_8c.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1574,613,1685,640"/>
<area shape="rect" id="node24" href="glock_8c.html#aa2948bc5d5184ce3180b6008c780e871" title="gfs2_glock_queue_work" alt="" coords="1548,208,1711,235"/>
<area shape="rect" id="node26" href="glock_8c.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="1342,816,1458,843"/>
<area shape="rect" id="node29" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="1300,715,1500,741"/>
<area shape="rect" id="node31" href="glock_8c.html#ae0f5c28a461c19117d12efd28ba09629" title="add_to_queue" alt="" coords="1578,5,1681,32"/>
<area shape="rect" id="node32" href="glock_8c.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1571,56,1687,83"/>
<area shape="rect" id="node36" href="glock_8c.html#a5a97abf1e0ccd0d7bccc107cb853acdd" title="handle_callback" alt="" coords="1572,360,1687,387"/>
<area shape="rect" id="node44" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1115,1019,1245,1045"/>
<area shape="rect" id="node45" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1331,1120,1469,1147"/>
<area shape="rect" id="node48" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="877,1120,1060,1147"/>
<area shape="rect" id="node50" href="meta__io_8c.html#a6da2ae061883a4b99f85d25256db105f" title="gfs2_meta_read_endio" alt="" coords="892,1221,1045,1248"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_icgraph" id="gfs2_2bmap_8c_a8b062a4d6de53ce15becc82d7b1a26f9_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="164,423,252,449"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="338,296,417,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="300,397,455,424"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="532,448,651,475"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="524,499,659,525"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="531,245,652,272"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="530,296,653,323"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1494,63,1614,89"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="731,296,887,323"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1487,132,1621,159"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1313,195,1434,221"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1495,220,1613,247"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="976,296,1047,323"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="956,347,1067,373"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1683,1461,1786,1488"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1848,1487,1995,1513"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1139,347,1253,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1153,296,1239,323"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1308,245,1439,272"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1135,397,1257,424"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1505,1005,1603,1032"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1327,423,1420,449"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="966,448,1057,475"/>
<area shape="rect" id="node23" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="503,397,680,424"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="728,397,891,424"/>
<area shape="rect" id="node25" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="744,1005,875,1032"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="963,1107,1059,1133"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="963,1157,1059,1184"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="939,1208,1084,1235"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="963,1259,1060,1285"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="959,1309,1064,1336"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="959,1360,1064,1387"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="950,1411,1073,1437"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1152,1512,1240,1539"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1688,1575,1781,1601"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1132,1056,1260,1083"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1689,1651,1780,1677"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1332,549,1415,576"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1669,1005,1800,1032"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="946,651,1077,677"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1149,752,1243,779"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1320,727,1427,753"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="947,803,1075,829"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1141,904,1251,931"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="953,1005,1070,1032"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="966,904,1057,931"/>
<area shape="rect" id="node46" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="965,955,1058,981"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="954,1512,1069,1539"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="951,1715,1071,1741"/>
</map>
</div>

</div>
</div>
<a id="a31c018e43337195f3b05b6ffb3e44d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31c018e43337195f3b05b6ffb3e44d4b">&#9670;&nbsp;</a></span>find_metapath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void find_metapath </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>find_metapath - Find path through the metadata tree : The superblock : The metapath to return the result in : The disk block to look up : The pre-calculated height of the metadata tree</p>
<p>This routine returns a struct metapath structure that defines a path through the metadata of inode "ip" to get to block "block".</p>
<p>Example: Given: "ip" is a height 3 file, "offset" is 101342453, and this is a filesystem with a blocksize of 4096.</p>
<p><a class="el" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b">find_metapath()</a> would return a struct metapath structure set to: mp_offset = 101342453, mp_height = 3, mp_list[0] = 0, mp_list[1] = 48, and mp_list[2] = 165.</p>
<p>That means that in order to get to the block containing the byte at offset 101342453, we would load the indirect block pointed to by pointer 0 in the dinode. We would then load the indirect block pointed to by pointer 48 in that indirect block. We would then load the data block pointed to by pointer 165 in that indirect block. </p><hr/>
<p> | Dinode | | | | 4| | |0 1 2 3 4 5 9| </p><h2>| | 6| </h2>
<p>| | </p><h2>V </h2>
<p>| <a class="el" href="structIndirect.html">Indirect</a> Block | | 5| | 4 4 4 4 4 5 5 1| </p><h2>|0 5 6 7 8 9 0 1 2| </h2>
<p>| | </p><h2>V </h2>
<p>| <a class="el" href="structIndirect.html">Indirect</a> Block | | 1 1 1 1 1 5| | 6 6 6 6 6 1| </p><h2>|0 3 4 5 6 7 2| </h2>
<p>| | </p><h2>V </h2>
<p>| Data block containing offset | </p><table class="doxtable">
<tr>
<th>101342453  </th></tr>
<tr>
<td></td></tr>
</table>
<hr/>
 <div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a31c018e43337195f3b05b6ffb3e44d4b_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a31c018e43337195f3b05b6ffb3e44d4b_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a31c018e43337195f3b05b6ffb3e44d4b_icgraph" id="gfs2_2bmap_8c_a31c018e43337195f3b05b6ffb3e44d4b_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="157,309,235,336"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="295,487,422,513"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="517,1272,605,1299"/>
<area shape="rect" id="node3" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="294,309,423,336"/>
<area shape="rect" id="node10" href="ocfs2_2extent__map_8h.html#a5c4d588701f62967bea614ebc813f4fc" title="ocfs2_fiemap" alt="" coords="309,360,409,387"/>
<area shape="rect" id="node11" href="ocfs2_2extent__map_8h.html#add79623735aba9b661a0be89560439f5" title="ocfs2_seek_data_hole\l_offset" alt="" coords="283,9,435,50"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a3dee5a25d21892e8ba315d56b670d5b2" title="btrfs_log_trailing_hole" alt="" coords="285,96,433,123"/>
<area shape="rect" id="node15" href="volumes_8h.html#a0e80595464fc88905049a015da9e65df" title="find_free_dev_extent\l_start" alt="" coords="287,190,430,231"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="495,309,627,336"/>
<area shape="rect" id="node5" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="509,360,613,387"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="512,411,609,437"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="502,259,619,285"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="721,411,813,437"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="692,259,841,285"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#a2182ca4b7641efbed4cd740ba2bd079e" title="ocfs2_file_llseek" alt="" coords="501,5,620,32"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="505,56,616,83"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="483,157,639,184"/>
<area shape="rect" id="node17" href="volumes_8h.html#a0b2ef2ee1d57b316d9e040b9b4fed251" title="find_free_dev_extent" alt="" coords="489,107,632,133"/>
<area shape="rect" id="node18" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="732,157,801,184"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1141,483,1255,509"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="502,867,619,893"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1120,875,1276,901"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1507,824,1624,851"/>
<area shape="rect" id="node22" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1672,1124,1775,1151"/>
<area shape="rect" id="node24" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1131,555,1265,597"/>
<area shape="rect" id="node26" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="736,867,797,893"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="687,917,847,944"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="687,968,846,995"/>
<area shape="rect" id="node29" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="692,1019,841,1045"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="706,1069,827,1096"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="709,664,824,691"/>
<area shape="rect" id="node32" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1331,939,1451,965"/>
<area shape="rect" id="node33" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="723,715,810,741"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="922,820,1045,847"/>
<area shape="rect" id="node39" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="689,1373,845,1400"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="896,875,1071,901"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="899,643,1068,669"/>
<area shape="rect" id="node25" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1324,621,1459,648"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1331,875,1452,901"/>
<area shape="rect" id="node37" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1356,723,1427,749"/>
<area shape="rect" id="node38" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1336,773,1447,800"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="916,1424,1051,1451"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="727,1171,806,1197"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="689,1272,844,1299"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="707,1323,826,1349"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="923,976,1044,1003"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="922,925,1045,952"/>
<area shape="rect" id="node48" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="895,1272,1072,1299"/>
<area shape="rect" id="node50" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="923,1373,1043,1400"/>
</map>
</div>

</div>
</div>
<a id="a34c0668dfbae7e60e4b1880469f99402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c0668dfbae7e60e4b1880469f99402">&#9670;&nbsp;</a></span>find_nonnull_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool find_nonnull_ptr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16 *&#160;</td>
          <td class="paramname"><em>end_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>end_aligned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>find_nonnull_ptr - find a non-null pointer given a metapath and height : starting metapath : desired height to search</p>
<p>Assumes the metapath is valid (with buffers) out to height h. Returns: true if a non-null pointer was found in the metapath buffer false if all remaining pointers are NULL in the buffer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_cgraph" id="gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="182,5,255,32"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="167,56,271,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_icgraph" id="gfs2_2bmap_8c_a34c0668dfbae7e60e4b1880469f99402_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="167,423,255,449"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="341,296,419,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="303,397,457,424"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="535,448,653,475"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="527,499,661,525"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="533,245,655,272"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="533,296,655,323"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1497,63,1617,89"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="734,296,890,323"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1489,132,1624,159"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1315,195,1437,221"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1498,220,1615,247"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="979,296,1049,323"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="959,347,1069,373"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1686,1461,1789,1488"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1851,1487,1997,1513"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1141,347,1256,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1156,296,1241,323"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1311,245,1441,272"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1138,397,1259,424"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1508,1005,1605,1032"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1329,423,1423,449"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="969,448,1059,475"/>
<area shape="rect" id="node23" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="505,397,683,424"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="731,397,893,424"/>
<area shape="rect" id="node25" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="747,1005,877,1032"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="966,1107,1062,1133"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="966,1157,1062,1184"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="941,1208,1087,1235"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="965,1259,1063,1285"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="961,1309,1067,1336"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="961,1360,1067,1387"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="953,1411,1075,1437"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1155,1512,1243,1539"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1691,1575,1784,1601"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1135,1056,1263,1083"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1692,1651,1783,1677"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1335,549,1417,576"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1672,1005,1803,1032"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="949,651,1079,677"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1151,752,1246,779"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1323,727,1429,753"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="950,803,1078,829"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1143,904,1254,931"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="955,1005,1073,1032"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="969,904,1059,931"/>
<area shape="rect" id="node46" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="967,955,1061,981"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="957,1512,1071,1539"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="954,1715,1074,1741"/>
</map>
</div>

</div>
</div>
<a id="a395998b5b2aa31ba0cf788f2ebb0b69c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395998b5b2aa31ba0cf788f2ebb0b69c">&#9670;&nbsp;</a></span>gfs2_add_jextent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gfs2_add_jextent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *&#160;</td>
          <td class="paramname"><em>jd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>lblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>dblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_add_jextent - Add or merge a new extent to extent cache : The journal descriptor : The logical block at start of new extent : The physical block at start of new extent : Size of extent in fs blocks</p>
<p>Returns: 0 on success or -ENOMEM </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a395998b5b2aa31ba0cf788f2ebb0b69c_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a395998b5b2aa31ba0cf788f2ebb0b69c_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a395998b5b2aa31ba0cf788f2ebb0b69c_icgraph" id="gfs2_2bmap_8c_a395998b5b2aa31ba0cf788f2ebb0b69c_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="175,1064,349,1091"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="397,963,553,990"/>
<area shape="rect" id="node44" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="433,1090,517,1116"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1355,1127,1489,1154"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="601,963,723,990"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1363,519,1481,546"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="627,772,697,799"/>
<area shape="rect" id="node34" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1362,1026,1482,1052"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="607,912,717,939"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1537,519,1640,546"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1688,519,1835,546"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="774,190,889,216"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="789,823,874,850"/>
<area shape="rect" id="node27" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="953,798,1084,824"/>
<area shape="rect" id="node38" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="771,367,892,394"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="969,114,1068,140"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="940,164,1097,191"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="961,215,1076,242"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1169,316,1283,343"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1176,367,1276,394"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1171,418,1281,444"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1181,63,1271,90"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="1166,114,1286,140"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1179,164,1273,191"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="1152,215,1300,242"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1152,266,1300,292"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="951,1254,1087,1280"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1149,1228,1303,1255"/>
<area shape="rect" id="node25" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1145,1330,1307,1356"/>
<area shape="rect" id="node26" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1371,1304,1473,1331"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1359,623,1485,650"/>
<area shape="rect" id="node29" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1375,676,1469,703"/>
<area shape="rect" id="node30" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1379,734,1465,760"/>
<area shape="rect" id="node31" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1385,796,1459,823"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1373,848,1471,875"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1174,924,1278,951"/>
<area shape="rect" id="node35" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1171,975,1281,1002"/>
<area shape="rect" id="node36" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1387,571,1457,598"/>
<area shape="rect" id="node37" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1147,722,1305,748"/>
<area shape="rect" id="node39" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="957,418,1080,444"/>
<area shape="rect" id="node40" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="969,266,1069,292"/>
<area shape="rect" id="node41" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="972,316,1065,343"/>
<area shape="rect" id="node42" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="956,367,1081,394"/>
<area shape="rect" id="node45" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="620,1279,704,1306"/>
<area shape="rect" id="node46" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="794,1355,869,1382"/>
<area shape="rect" id="node47" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="979,1456,1058,1483"/>
<area shape="rect" id="node48" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="969,1304,1069,1331"/>
<area shape="rect" id="node49" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="969,1355,1068,1382"/>
<area shape="rect" id="node50" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="973,1406,1064,1432"/>
</map>
</div>

</div>
</div>
<a id="a1a3f58bcd6348e7ebd84a4c42d87b1c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3f58bcd6348e7ebd84a4c42d87b1c1">&#9670;&nbsp;</a></span>gfs2_block_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_block_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>lblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_block_map - Map one or more blocks of an inode to a disk block : The inode : The logical block number : The bh to be mapped : True if its ok to alloc blocks to satify the request</p>
<p>The size of the requested mapping is defined in bh_map-&gt;b_size.</p>
<p>Clears buffer_mapped(bh_map) and leaves bh_map-&gt;b_size unchanged when  is not mapped. Sets buffer_mapped(bh_map) and bh_map-&gt;b_size to indicate the size of the mapping when  and successive blocks are mapped, up to the requested size.</p>
<p>Sets buffer_boundary() if a read of metadata will be required before the next block can be mapped. Sets buffer_new() if new blocks were allocated.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_cgraph" id="gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="992,144,1059,171"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="171,372,297,399"/>
<area shape="rect" id="node4" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1355,651,1437,677"/>
<area shape="rect" id="node5" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="358,245,469,272"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="345,93,481,120"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="371,347,456,373"/>
<area shape="rect" id="node8" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="371,397,456,424"/>
<area shape="rect" id="node9" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="945,1340,1106,1367"/>
<area shape="rect" id="node16" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="760,144,864,171"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="353,499,474,525"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="767,296,857,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="541,448,673,475"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="351,1715,476,1741"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="364,1765,463,1792"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="352,752,475,779"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="568,195,645,221"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1159,1202,1291,1243"/>
<area shape="rect" id="node14" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1174,1289,1275,1316"/>
<area shape="rect" id="node11" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1339,1209,1453,1236"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1506,1235,1597,1261"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1501,1311,1601,1337"/>
<area shape="rect" id="node15" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1353,1311,1439,1337"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="545,397,669,424"/>
<area shape="rect" id="node21" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1159,753,1291,794"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="989,296,1062,323"/>
<area shape="rect" id="node26" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="952,1391,1099,1417"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="529,1613,684,1640"/>
<area shape="rect" id="node32" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="543,1107,670,1133"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="940,879,1111,905"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="557,701,656,728"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="547,1461,667,1488"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="739,1563,885,1589"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="533,752,680,779"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="946,651,1105,677"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="548,803,665,829"/>
<area shape="rect" id="node27" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1173,945,1276,972"/>
<area shape="rect" id="node28" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1167,1129,1283,1156"/>
<area shape="rect" id="node29" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1159,1391,1290,1417"/>
<area shape="rect" id="node30" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1189,1340,1260,1367"/>
<area shape="rect" id="node33" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="743,955,881,981"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="972,955,1079,981"/>
<area shape="rect" id="node35" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="760,1107,864,1133"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="750,1157,874,1184"/>
<area shape="rect" id="node37" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="959,1056,1091,1083"/>
<area shape="rect" id="node38" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="732,1005,892,1032"/>
<area shape="rect" id="node39" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="779,1208,845,1235"/>
<area shape="rect" id="node40" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="761,1259,863,1285"/>
<area shape="rect" id="node41" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="739,1309,885,1336"/>
<area shape="rect" id="node42" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="744,1360,880,1387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_icgraph" id="gfs2_2bmap_8c_a1a3f58bcd6348e7ebd84a4c42d87b1c1_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="612,1154,747,1195"/>
<area shape="rect" id="node4" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="649,296,710,323"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1357,93,1477,120"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="171,435,331,461"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="171,524,330,551"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="176,600,325,627"/>
<area shape="rect" id="node29" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="190,651,311,677"/>
<area shape="rect" id="node32" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="193,701,308,728"/>
<area shape="rect" id="node33" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="207,752,294,779"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="189,879,312,905"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="601,803,757,829"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="173,1107,329,1133"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="379,1208,553,1235"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="381,347,551,373"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1349,904,1484,931"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="829,296,893,323"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="823,245,898,272"/>
<area shape="rect" id="node9" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="964,397,1095,424"/>
<area shape="rect" id="node6" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="969,296,1090,323"/>
<area shape="rect" id="node8" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="971,245,1088,272"/>
<area shape="rect" id="node10" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1353,349,1480,376"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1358,701,1475,728"/>
<area shape="rect" id="node12" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1369,403,1464,429"/>
<area shape="rect" id="node13" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1373,460,1460,487"/>
<area shape="rect" id="node14" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1379,523,1454,549"/>
<area shape="rect" id="node15" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1368,599,1465,625"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1170,195,1274,221"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1167,245,1277,272"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1381,297,1452,324"/>
<area shape="rect" id="node20" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1143,448,1301,475"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="390,397,542,424"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="411,448,521,475"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="387,499,545,525"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="407,549,525,576"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="413,600,519,627"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="413,701,519,728"/>
<area shape="rect" id="node31" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="402,651,530,677"/>
<area shape="rect" id="node34" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="403,752,529,779"/>
<area shape="rect" id="node36" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="399,853,533,880"/>
<area shape="rect" id="node37" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="400,904,532,931"/>
<area shape="rect" id="node38" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="411,955,521,981"/>
<area shape="rect" id="node39" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="387,1005,545,1032"/>
<area shape="rect" id="node41" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="969,803,1090,829"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="825,397,896,424"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="805,701,916,728"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="424,1157,508,1184"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="399,1107,533,1133"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="819,1029,903,1056"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="616,928,743,955"/>
</map>
</div>

</div>
</div>
<a id="a2f51ee15c5c60ef70973886f8eb5e6cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f51ee15c5c60ef70973886f8eb5e6cb">&#9670;&nbsp;</a></span>gfs2_block_zero_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gfs2_block_zero_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_block_zero_range - Deal with zeroing out data</p>
<p>This is partly borrowed from ext3. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_cgraph" id="gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="894,633,961,660"/>
<area shape="rect" id="node3" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="407,1798,555,1825"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="222,329,339,356"/>
<area shape="rect" id="node27" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="237,1418,324,1445"/>
<area shape="rect" id="node36" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="639,1190,765,1217"/>
<area shape="rect" id="node37" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="209,1038,352,1065"/>
<area shape="rect" id="node48" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="420,1672,543,1698"/>
<area shape="rect" id="node4" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="637,1849,767,1876"/>
<area shape="rect" id="node6" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1061,1596,1200,1622"/>
<area shape="rect" id="node5" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="865,1798,989,1825"/>
<area shape="rect" id="node7" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="879,1849,975,1876"/>
<area shape="rect" id="node8" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="868,1900,987,1926"/>
<area shape="rect" id="node9" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="841,1697,1013,1724"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="418,329,545,356"/>
<area shape="rect" id="node12" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="887,861,968,888"/>
<area shape="rect" id="node13" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="647,380,757,406"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="634,329,770,356"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="659,430,745,457"/>
<area shape="rect" id="node16" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="659,481,745,508"/>
<area shape="rect" id="node17" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="621,532,783,558"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="875,76,979,102"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="641,76,763,102"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="882,228,973,254"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="861,430,993,457"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="639,126,765,153"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="653,177,751,204"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="641,582,763,609"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="663,228,741,254"/>
<area shape="rect" id="node25" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="878,1140,977,1166"/>
<area shape="rect" id="node28" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="625,1444,779,1470"/>
<area shape="rect" id="node31" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="877,1326,977,1353"/>
<area shape="rect" id="node32" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="440,1494,523,1521"/>
<area shape="rect" id="node34" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="406,1342,557,1369"/>
<area shape="rect" id="node29" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="875,1494,980,1521"/>
<area shape="rect" id="node30" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="856,1428,999,1470"/>
<area shape="rect" id="node33" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="645,1545,759,1572"/>
<area shape="rect" id="node35" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="611,1342,793,1369"/>
<area shape="rect" id="node38" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="400,988,563,1014"/>
<area shape="rect" id="node44" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="430,937,533,964"/>
<area shape="rect" id="node45" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="423,1038,539,1065"/>
<area shape="rect" id="node46" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="416,1089,547,1116"/>
<area shape="rect" id="node47" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="446,886,517,913"/>
<area shape="rect" id="node39" href="log_8h.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="623,886,781,913"/>
<area shape="rect" id="node40" href="log_8h.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="647,1089,757,1116"/>
<area shape="rect" id="node41" href="log_8h.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="642,937,762,964"/>
<area shape="rect" id="node42" href="log_8h.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="641,1038,763,1065"/>
<area shape="rect" id="node43" href="log_8h.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="626,785,778,812"/>
<area shape="rect" id="node49" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="641,1697,763,1724"/>
<area shape="rect" id="node50" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="635,1748,769,1774"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_icgraph" id="gfs2_2bmap_8c_a2f51ee15c5c60ef70973886f8eb5e6cb_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="209,1027,293,1053"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="543,828,677,855"/>
<area shape="rect" id="node3" href="ocfs2_2file_8c.html#ab1f194ddafdc364e98d2685f39dc2286" title="ocfs2_calc_trunc_pos" alt="" coords="341,1064,491,1091"/>
<area shape="rect" id="node4" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="539,1107,681,1149"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="377,1013,455,1040"/>
<area shape="rect" id="node5" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="737,1181,878,1222"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="738,1107,877,1149"/>
<area shape="rect" id="node6" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="933,1188,1103,1215"/>
<area shape="rect" id="node8" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="963,1239,1073,1265"/>
<area shape="rect" id="node7" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1177,1197,1263,1224"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="949,1107,1087,1149"/>
<area shape="rect" id="node11" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1151,1107,1289,1149"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="1343,1161,1498,1188"/>
<area shape="rect" id="node13" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="1337,1111,1504,1137"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="549,1005,671,1032"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1941,929,2064,956"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1766,803,1886,829"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="729,828,885,855"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1759,600,1893,627"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1159,169,1281,196"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1767,93,1885,120"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="983,499,1053,525"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="963,803,1073,829"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1951,43,2054,69"/>
<area shape="rect" id="node22" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2112,43,2259,69"/>
<area shape="rect" id="node24" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1163,625,1277,652"/>
<area shape="rect" id="node30" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1177,448,1263,475"/>
<area shape="rect" id="node32" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1355,473,1486,500"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1159,321,1281,348"/>
<area shape="rect" id="node25" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1371,651,1470,677"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1342,600,1499,627"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1363,752,1478,779"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1574,752,1689,779"/>
<area shape="rect" id="node29" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1581,803,1681,829"/>
<area shape="rect" id="node31" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="1353,423,1489,449"/>
<area shape="rect" id="node33" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1763,549,1889,576"/>
<area shape="rect" id="node34" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1779,195,1873,221"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1783,245,1869,272"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1789,296,1863,323"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1777,372,1875,399"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1951,803,2055,829"/>
<area shape="rect" id="node40" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1576,448,1687,475"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1791,499,1861,525"/>
<area shape="rect" id="node43" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1552,397,1711,424"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="2140,865,2231,892"/>
<area shape="rect" id="node45" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1359,372,1482,399"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1371,220,1471,247"/>
<area shape="rect" id="node47" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1374,271,1467,297"/>
<area shape="rect" id="node48" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="1358,321,1483,348"/>
</map>
</div>

</div>
</div>
<a id="aa8b3a928e1766685a0a9cd228fdb0668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b3a928e1766685a0a9cd228fdb0668">&#9670;&nbsp;</a></span>gfs2_extent_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int gfs2_extent_length </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>eob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_extent_length - Returns length of an extent of blocks : Start of the buffer : Length of the buffer in bytes : Current position in the buffer : Max extent length to return (0 = unlimited) : Set to 1 if we hit "end of block"</p>
<p>If the first block is zero (unallocated) it will return the number of unallocated blocks in the extent, otherwise it will return the number of contiguous blocks in the extent.</p>
<p>Returns: The length of the extent (minimum of one block) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_aa8b3a928e1766685a0a9cd228fdb0668_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_aa8b3a928e1766685a0a9cd228fdb0668_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_aa8b3a928e1766685a0a9cd228fdb0668_icgraph" id="gfs2_2bmap_8c_aa8b3a928e1766685a0a9cd228fdb0668_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="185,169,308,196"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="356,144,483,171"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1669,68,1783,95"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="531,651,648,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1127,363,1283,389"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1850,169,1967,196"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2024,68,2127,95"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2175,68,2321,95"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1659,702,1793,743"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="1174,148,1235,175"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1849,709,1969,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="696,869,856,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="697,945,855,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="701,1047,851,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="715,1123,837,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="719,372,833,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="733,271,819,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="715,487,837,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="698,423,854,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="904,651,1079,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="907,701,1076,728"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1841,575,1976,601"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1354,253,1418,280"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1349,93,1423,120"/>
<area shape="rect" id="node16" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1661,423,1791,449"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1489,347,1611,373"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1491,93,1609,120"/>
<area shape="rect" id="node17" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1845,423,1972,449"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="915,869,1067,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="936,971,1047,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="912,1021,1071,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="933,920,1050,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="938,1072,1045,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="938,1123,1045,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="927,1173,1055,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="929,195,1054,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="924,448,1059,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="925,499,1057,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="936,347,1047,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="912,397,1071,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1665,144,1787,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1351,405,1421,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1331,565,1441,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1493,499,1607,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1507,397,1593,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="949,296,1033,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="924,245,1059,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1344,616,1428,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="1141,616,1268,643"/>
</map>
</div>

</div>
</div>
<a id="ae822e8135a4b06ff4ddba49db152acde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae822e8135a4b06ff4ddba49db152acde">&#9670;&nbsp;</a></span>gfs2_extent_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_extent_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>lblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>dblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>extlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_cgraph" id="gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="176,373,293,400"/>
<area shape="rect" id="node3" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="744,5,811,32"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="341,563,468,589"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1355,993,1437,1020"/>
<area shape="rect" id="node6" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="529,1247,639,1273"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="516,487,652,513"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="541,284,627,311"/>
<area shape="rect" id="node9" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="541,335,627,361"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="903,1207,1064,1233"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="725,56,829,83"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="523,1145,645,1172"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="938,1044,1029,1071"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="711,993,843,1020"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="521,385,647,412"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="535,436,633,463"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="523,639,645,665"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="545,588,623,615"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1131,1211,1263,1253"/>
<area shape="rect" id="node15" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1147,1277,1248,1304"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1339,1176,1453,1203"/>
<area shape="rect" id="node13" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1514,1252,1605,1279"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1509,1176,1609,1203"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1353,1227,1439,1253"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="715,1145,839,1172"/>
<area shape="rect" id="node22" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1131,1146,1263,1187"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="1161,1044,1234,1071"/>
<area shape="rect" id="node27" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1124,284,1271,311"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="700,689,855,716"/>
<area shape="rect" id="node33" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="714,537,841,564"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1112,208,1283,235"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="728,740,827,767"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="717,259,837,285"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="910,183,1057,209"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="704,791,851,817"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1118,993,1277,1020"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="719,639,836,665"/>
<area shape="rect" id="node28" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1345,196,1447,223"/>
<area shape="rect" id="node29" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1338,247,1454,273"/>
<area shape="rect" id="node30" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1331,348,1461,375"/>
<area shape="rect" id="node31" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1361,297,1431,324"/>
<area shape="rect" id="node34" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="914,791,1053,817"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="1144,791,1251,817"/>
<area shape="rect" id="node36" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="931,436,1035,463"/>
<area shape="rect" id="node37" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="921,639,1045,665"/>
<area shape="rect" id="node38" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="1131,689,1263,716"/>
<area shape="rect" id="node39" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="903,740,1063,767"/>
<area shape="rect" id="node40" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="950,487,1017,513"/>
<area shape="rect" id="node41" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="933,537,1034,564"/>
<area shape="rect" id="node42" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="911,892,1056,919"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_icgraph" id="gfs2_2bmap_8c_ae822e8135a4b06ff4ddba49db152acde_icgraph">
<area shape="rect" id="node2" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="397,233,531,260"/>
<area shape="rect" id="node13" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="189,196,321,223"/>
<area shape="rect" id="node19" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="200,537,311,564"/>
<area shape="rect" id="node34" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="176,968,335,995"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="386,487,542,513"/>
<area shape="rect" id="node3" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="807,157,902,184"/>
<area shape="rect" id="node8" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="593,259,724,285"/>
<area shape="rect" id="node9" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="613,107,704,133"/>
<area shape="rect" id="node4" href="gfs2_2dir_8h.html#a91bf65f8fa960783b5f2f1ea69227a41" title="gfs2_dir_add" alt="" coords="1008,208,1104,235"/>
<area shape="rect" id="node5" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1220,321,1307,348"/>
<area shape="rect" id="node6" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1226,183,1301,209"/>
<area shape="rect" id="node7" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1215,233,1312,260"/>
<area shape="rect" id="node10" href="gfs2_2dir_8h.html#a79f50f721c6291b4244a76e1f5dcf0a6" title="gfs2_dir_exhash_dealloc" alt="" coords="772,56,937,83"/>
<area shape="rect" id="node11" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="996,107,1116,133"/>
<area shape="rect" id="node12" href="gfs2_2dir_8h.html#ae24470d78573580a612e8af307339708" title="gfs2_dir_no_add" alt="" coords="997,56,1115,83"/>
<area shape="rect" id="node14" href="gfs2_2dir_8c.html#ac94f137d5ab8a7cc493487c6a4680222" title="gfs2_dir_get_hash_table" alt="" coords="383,157,545,184"/>
<area shape="rect" id="node15" href="gfs2_2dir_8c.html#a43255c016afae5342dc9b12a6f19158f" title="get_leaf_nr" alt="" coords="615,157,702,184"/>
<area shape="rect" id="node17" href="gfs2_2dir_8c.html#aeb0cd07f1c62743bb3afcbc4687233e8" title="dir_e_read" alt="" coords="617,5,700,32"/>
<area shape="rect" id="node16" href="gfs2_2dir_8c.html#abe904e59c239cb18f637c8af40309840" title="get_first_leaf" alt="" coords="806,107,903,133"/>
<area shape="rect" id="node18" href="gfs2_2dir_8h.html#a2f590a27b7fe721f761bbbc9db5dcb41" title="gfs2_dir_read" alt="" coords="805,5,905,32"/>
<area shape="rect" id="node20" href="gfs2_2super_8h.html#a109f406a58320724679b20663b96e26d" title="gfs2_make_fs_rw" alt="" coords="401,613,527,640"/>
<area shape="rect" id="node21" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="599,765,718,792"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="599,563,718,589"/>
<area shape="rect" id="node30" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="621,715,696,741"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="812,411,897,437"/>
<area shape="rect" id="node29" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="813,563,897,589"/>
<area shape="rect" id="node24" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="991,379,1121,405"/>
<area shape="rect" id="node25" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1196,613,1331,640"/>
<area shape="rect" id="node26" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1205,512,1322,539"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1203,404,1323,431"/>
<area shape="rect" id="node27" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1400,512,1503,539"/>
<area shape="rect" id="node31" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="815,765,894,792"/>
<area shape="rect" id="node32" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="805,816,905,843"/>
<area shape="rect" id="node33" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="805,715,904,741"/>
<area shape="rect" id="node35" href="gfs2_2recovery_8c.html#a2288648521bc46dea4027036ba728f8f" title="get_log_header" alt="" coords="409,968,519,995"/>
<area shape="rect" id="node38" href="gfs2_2recovery_8c.html#a7700c051a64d506a6556b5a8f1200ed5" title="foreach_descriptor" alt="" coords="594,917,723,944"/>
<area shape="rect" id="node40" href="recovery_8h.html#a1aba8c6577196b77fa30054b89455572" title="gfs2_replay_incr_blk" alt="" coords="985,993,1127,1020"/>
<area shape="rect" id="node42" href="lops_8c.html#ace4c0a2710d0572aec439a9e4c8e7046" title="buf_lo_scan_elements" alt="" coords="1187,1044,1339,1071"/>
<area shape="rect" id="node43" href="lops_8c.html#adefd7d2f659de00d9a44aeb894a8acbc" title="revoke_lo_scan_elements" alt="" coords="1177,1095,1350,1121"/>
<area shape="rect" id="node44" href="lops_8c.html#ae978a4a96602c1a225dcea409bb50201" title="databuf_lo_scan_elements" alt="" coords="1175,867,1352,893"/>
<area shape="rect" id="node36" href="gfs2_2recovery_8c.html#a3c421245a5faf92629219f20764984d1" title="find_good_lh" alt="" coords="611,968,706,995"/>
<area shape="rect" id="node37" href="gfs2_2recovery_8c.html#a0ab2c0f1f440fa1f10d8a5dab32e85dc" title="jhead_scan" alt="" coords="615,1019,703,1045"/>
<area shape="rect" id="node39" href="recovery_8h.html#a694e7952cec81ece9ae29b217be8c836" title="gfs2_recover_func" alt="" coords="790,943,919,969"/>
<area shape="rect" id="node41" href="gfs2_2recovery_8c.html#aece44f5b840a4164271292380e3a7bba" title="clean_journal" alt="" coords="1214,968,1313,995"/>
<area shape="rect" id="node46" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="995,588,1117,615"/>
<area shape="rect" id="node47" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="623,385,694,412"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="603,335,714,361"/>
<area shape="rect" id="node48" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="797,309,912,336"/>
<area shape="rect" id="node49" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="794,360,915,387"/>
</map>
</div>

</div>
</div>
<a id="a631cf74be1d8a0914060da66d38d4ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a631cf74be1d8a0914060da66d38d4ba0">&#9670;&nbsp;</a></span>gfs2_file_dealloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_file_dealloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_cgraph" id="gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="172,633,260,660"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1007,1029,1088,1056"/>
<area shape="rect" id="node4" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="367,76,449,102"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="356,126,460,153"/>
<area shape="rect" id="node6" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="556,684,717,710"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="347,228,469,254"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="343,329,473,356"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="781,430,908,457"/>
<area shape="rect" id="node19" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="341,785,475,812"/>
<area shape="rect" id="node24" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="565,785,709,812"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="349,481,467,508"/>
<area shape="rect" id="node28" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="571,582,702,609"/>
<area shape="rect" id="node29" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="308,582,508,609"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="339,1181,477,1208"/>
<area shape="rect" id="node31" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="561,1510,712,1537"/>
<area shape="rect" id="node38" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="576,1561,697,1588"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="771,532,918,558"/>
<area shape="rect" id="node42" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="589,1612,684,1638"/>
<area shape="rect" id="node43" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="578,1460,695,1486"/>
<area shape="rect" id="node44" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="581,1662,692,1689"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="366,430,450,457"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="351,380,465,406"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="353,177,463,204"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="340,532,476,558"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="777,1764,912,1790"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="345,1814,471,1841"/>
<area shape="rect" id="node7" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="779,798,911,839"/>
<area shape="rect" id="node8" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="794,658,895,685"/>
<area shape="rect" id="node9" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1002,608,1093,634"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="575,177,699,204"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="600,278,673,305"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="585,329,689,356"/>
<area shape="rect" id="node16" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="972,456,1123,482"/>
<area shape="rect" id="node17" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1006,405,1089,432"/>
<area shape="rect" id="node18" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="997,506,1097,533"/>
<area shape="rect" id="node20" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="603,633,670,660"/>
<area shape="rect" id="node21" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="563,887,710,928"/>
<area shape="rect" id="node22" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="571,836,702,862"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a5c55d09a84b98a9fc2b416c1dd9e5b4f" title="gfs2_ri_update" alt="" coords="791,914,898,941"/>
<area shape="rect" id="node26" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="580,380,693,406"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="599,430,674,457"/>
<area shape="rect" id="node32" href="glops_8c.html#ab6009ec007c0d3fb5f6b4386afd5cbd1" title="gfs2_glock2rgrp" alt="" coords="579,1206,694,1233"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="567,1257,706,1284"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="583,1358,690,1385"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="583,1105,690,1132"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="581,1156,692,1182"/>
<area shape="rect" id="node37" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="767,1308,922,1334"/>
<area shape="rect" id="node40" href="rgrp_8c.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="569,1004,704,1030"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="765,1054,924,1081"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_icgraph" id="gfs2_2bmap_8c_a631cf74be1d8a0914060da66d38d4ba0_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="190,1340,310,1367"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="172,1391,328,1417"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1139,1517,1273,1544"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="376,605,497,632"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1147,251,1265,277"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="401,1239,472,1265"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1146,1619,1266,1645"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="381,1720,492,1747"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1339,251,1441,277"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1497,251,1644,277"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="549,403,663,429"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="563,985,649,1012"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="728,1239,859,1265"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="545,1340,667,1367"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="744,428,843,455"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="715,377,872,404"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="736,301,851,328"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="943,99,1058,125"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="951,149,1051,176"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="945,200,1056,227"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="955,251,1046,277"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="941,301,1061,328"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="953,352,1048,379"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="927,403,1075,429"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="927,453,1075,480"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="725,757,861,784"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1129,707,1283,733"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1331,631,1449,657"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1331,896,1449,923"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="920,757,1081,784"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1155,833,1257,860"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="957,808,1045,835"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="937,1011,1064,1037"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="945,605,1057,632"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="954,656,1047,683"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1515,979,1626,1005"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1159,1112,1253,1139"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1143,1188,1269,1215"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1163,1245,1249,1272"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1169,1308,1243,1335"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1157,1391,1255,1417"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="949,1365,1053,1392"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1171,1467,1241,1493"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="921,1315,1080,1341"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1360,1188,1420,1215"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="732,1289,855,1316"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="743,1340,843,1367"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="747,1391,840,1417"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="731,1441,856,1468"/>
</map>
</div>

</div>
</div>
<a id="acb8dcd2c0d9cb0f93243a981a67a8d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8dcd2c0d9cb0f93243a981a67a8d2e">&#9670;&nbsp;</a></span>gfs2_free_journal_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_free_journal_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *&#160;</td>
          <td class="paramname"><em>jd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_free_journal_extents - Free cached journal bmap info : The journal </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph" id="gfs2_2bmap_8c_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8h.html#adafe16409e1b139630ef576df1fd4d91" title="gfs2_jindex_free" alt="" coords="466,613,583,640"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="224,708,399,735"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="447,1247,603,1273"/>
<area shape="rect" id="node3" href="gfs2_2super_8c.html#abb52774f6c832a6ab150b154fc5232a6" title="gfs2_put_super" alt="" coords="1220,664,1331,691"/>
<area shape="rect" id="node4" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="652,563,771,589"/>
<area shape="rect" id="node30" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="839,411,923,437"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="838,664,923,691"/>
<area shape="rect" id="node6" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="1000,512,1136,539"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1003,968,1133,995"/>
<area shape="rect" id="node7" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1199,208,1352,235"/>
<area shape="rect" id="node8" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1587,360,1704,387"/>
<area shape="rect" id="node10" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1195,512,1356,539"/>
<area shape="rect" id="node11" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1421,487,1522,513"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1231,309,1319,336"/>
<area shape="rect" id="node13" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="1212,563,1339,589"/>
<area shape="rect" id="node15" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="1219,360,1331,387"/>
<area shape="rect" id="node16" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="1229,411,1322,437"/>
<area shape="rect" id="node9" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1770,613,1881,640"/>
<area shape="rect" id="node14" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1424,765,1519,792"/>
<area shape="rect" id="node18" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1408,871,1535,897"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1404,1120,1539,1147"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1413,1373,1530,1400"/>
<area shape="rect" id="node23" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1428,928,1515,955"/>
<area shape="rect" id="node24" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1434,991,1509,1017"/>
<area shape="rect" id="node25" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1423,1044,1520,1071"/>
<area shape="rect" id="node26" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1223,1171,1327,1197"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1411,1221,1531,1248"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1436,817,1507,844"/>
<area shape="rect" id="node29" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1196,968,1355,995"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1594,1373,1697,1400"/>
<area shape="rect" id="node22" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1752,1373,1899,1400"/>
<area shape="rect" id="node31" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1026,259,1110,285"/>
<area shape="rect" id="node32" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1238,107,1313,133"/>
<area shape="rect" id="node33" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="1432,107,1511,133"/>
<area shape="rect" id="node34" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="1421,157,1521,184"/>
<area shape="rect" id="node35" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="1422,5,1521,32"/>
<area shape="rect" id="node36" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="1426,56,1517,83"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="651,1424,772,1451"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="676,968,747,995"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="656,1221,767,1248"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="823,841,938,868"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="820,1019,941,1045"/>
<area shape="rect" id="node42" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1019,867,1117,893"/>
<area shape="rect" id="node43" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="989,765,1147,792"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1011,816,1125,843"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1007,917,1129,944"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1018,1019,1118,1045"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1021,1069,1115,1096"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="1005,1120,1131,1147"/>
</map>
</div>

</div>
</div>
<a id="adfe5e08fc351829de1878ab952b17f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe5e08fc351829de1878ab952b17f02">&#9670;&nbsp;</a></span>gfs2_indirect_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __be64* gfs2_indirect_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__glock.html">gfs2_glock</a> *&#160;</td>
          <td class="paramname"><em>gl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_cgraph" id="gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_cgraph">
<area shape="rect" id="node2" href="meta__io_8c.html#a345c9d6c392fcdc903ce6dfa26f4a56f" title="gfs2_meta_new" alt="" coords="189,1019,304,1045"/>
<area shape="rect" id="node42" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="173,1171,320,1197"/>
<area shape="rect" id="node47" href="gfs2_2util_8h.html#a4bce60b6896701bc5e3ce7c71e9c9be5" title="gfs2_metatype_set" alt="" coords="180,1221,313,1248"/>
<area shape="rect" id="node50" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="173,1272,320,1299"/>
<area shape="rect" id="node3" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="388,968,479,995"/>
<area shape="rect" id="node40" href="meta__io_8c.html#a0098e8b8e1039fa80688fe74d8d0f23a" title="meta_prep_new" alt="" coords="376,1019,491,1045"/>
<area shape="rect" id="node4" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="553,537,688,564"/>
<area shape="rect" id="node37" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="547,1019,695,1045"/>
<area shape="rect" id="node5" href="glock_8h.html#abcc871c62234b39ac052fe6a6a8b3f14" title="gfs2_glock_get" alt="" coords="759,411,870,437"/>
<area shape="rect" id="node15" href="glock_8h.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="757,360,873,387"/>
<area shape="rect" id="node16" href="glock_8h.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1209,867,1319,893"/>
<area shape="rect" id="node17" href="glock_8h.html#ac3ebc62375a395dc7d14db5e0df98782" title="gfs2_glock_queue_put" alt="" coords="959,259,1111,285"/>
<area shape="rect" id="node19" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="758,613,871,640"/>
<area shape="rect" id="node21" href="glock_8h.html#ac995caba0534a5669bf2ed4a9add045b" title="gfs2_holder_reinit" alt="" coords="753,563,877,589"/>
<area shape="rect" id="node22" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="751,664,878,691"/>
<area shape="rect" id="node24" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="981,132,1088,159"/>
<area shape="rect" id="node27" href="glock_8h.html#aa415d68b6b43fb6556c729cb6b1a4c21" title="gfs2_glock_poll" alt="" coords="759,715,871,741"/>
<area shape="rect" id="node28" href="glock_8h.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="757,765,873,792"/>
<area shape="rect" id="node29" href="glock_8h.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="981,461,1088,488"/>
<area shape="rect" id="node31" href="glock_8h.html#a8dd8434f3f5b346d7a9827fbbe3846e1" title="gfs2_glock_dq_wait" alt="" coords="746,867,883,893"/>
<area shape="rect" id="node32" href="glock_8h.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="743,917,887,944"/>
<area shape="rect" id="node33" href="glock_8h.html#a96a5b213798300843706f6723fce5780" title="gfs2_glock_nq_num" alt="" coords="965,791,1104,817"/>
<area shape="rect" id="node34" href="glock_8h.html#ad725a4c62857cc81a85c2f8c8aebdf70" title="gfs2_glock_nq_m" alt="" coords="753,107,877,133"/>
<area shape="rect" id="node35" href="glock_8h.html#a935b12383ca917515597a0d954071c6a" title="gfs2_glock_dq_m" alt="" coords="753,157,877,184"/>
<area shape="rect" id="node36" href="glock_8h.html#a7fc5c3f221967b86171f729566c20928" title="gfs2_dump_glock" alt="" coords="753,208,877,235"/>
<area shape="rect" id="node6" href="glock_8c.html#a4ad4727942bb2d8e026d026c633a8df2" title="find_insert_glock" alt="" coords="975,411,1095,437"/>
<area shape="rect" id="node7" href="glock_8c.html#adcd488b47b9c7bafb5f2d295e78c529d" title="glock_work_func" alt="" coords="975,360,1095,387"/>
<area shape="rect" id="node13" href="glock_8c.html#aa98af1497e21810b901485b7d45184c4" title="delete_work_func" alt="" coords="973,512,1097,539"/>
<area shape="rect" id="node8" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="1237,411,1291,437"/>
<area shape="rect" id="node9" href="glock_8c.html#a608f02d2850f41d3e7c6736af8b2db1c" title="run_queue" alt="" coords="1223,259,1305,285"/>
<area shape="rect" id="node10" href="glock_8c.html#a1ad999039c6b5fc4a2abca1c2a5f50b6" title="__gfs2_glock_queue_work" alt="" coords="1393,259,1569,285"/>
<area shape="rect" id="node11" href="glock_8c.html#a3fbd1c29f3c83af19d4f291c1a7c55cc" title="__gfs2_glock_put" alt="" coords="1419,563,1543,589"/>
<area shape="rect" id="node12" href="glock_8c.html#ac39c13c82bea3abc477816634c69d74a" title="gfs2_glock_remove_from_lru" alt="" coords="1617,335,1807,361"/>
<area shape="rect" id="node14" href="glock_8c.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1209,664,1319,691"/>
<area shape="rect" id="node18" href="glock_8c.html#aa2948bc5d5184ce3180b6008c780e871" title="gfs2_glock_queue_work" alt="" coords="1183,208,1345,235"/>
<area shape="rect" id="node20" href="glock_8c.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="977,613,1093,640"/>
<area shape="rect" id="node23" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="935,664,1135,691"/>
<area shape="rect" id="node25" href="glock_8c.html#ae0f5c28a461c19117d12efd28ba09629" title="add_to_queue" alt="" coords="1213,56,1315,83"/>
<area shape="rect" id="node26" href="glock_8c.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1206,5,1322,32"/>
<area shape="rect" id="node30" href="glock_8c.html#a5a97abf1e0ccd0d7bccc107cb853acdd" title="handle_callback" alt="" coords="1207,512,1321,539"/>
<area shape="rect" id="node38" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="749,1019,880,1045"/>
<area shape="rect" id="node39" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="745,1069,884,1096"/>
<area shape="rect" id="node41" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="571,1069,671,1096"/>
<area shape="rect" id="node43" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="382,1171,485,1197"/>
<area shape="rect" id="node44" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="375,1221,491,1248"/>
<area shape="rect" id="node45" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="368,1272,499,1299"/>
<area shape="rect" id="node46" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="398,1069,469,1096"/>
<area shape="rect" id="node48" href="gfs2_2util_8h.html#ad46d33c46a8bda27794deae1b55f8b54" title="gfs2_io_error_i" alt="" coords="380,1323,487,1349"/>
<area shape="rect" id="node49" href="gfs2_2util_8c.html#a588a88d957873449ef017a942ac8f112" title="gfs2_lm_withdraw" alt="" coords="557,1323,684,1349"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_icgraph" id="gfs2_2bmap_8c_adfe5e08fc351829de1878ab952b17f02_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="173,144,296,171"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="344,144,471,171"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1657,68,1771,95"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="519,651,636,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1115,363,1271,389"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1838,169,1955,196"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2012,68,2115,95"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2163,68,2309,95"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1647,702,1781,743"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="1162,148,1223,175"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1837,709,1957,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="684,869,844,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="685,945,843,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="689,1047,839,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="703,1123,825,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="707,372,821,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="721,271,807,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="703,487,825,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="686,423,842,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="892,651,1067,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="895,701,1064,728"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1829,575,1964,601"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1342,253,1406,280"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1337,93,1411,120"/>
<area shape="rect" id="node16" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1649,423,1779,449"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1477,347,1599,373"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1479,93,1597,120"/>
<area shape="rect" id="node17" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1833,423,1960,449"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="903,869,1055,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="924,971,1035,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="900,1021,1059,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="921,920,1038,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="926,1072,1033,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="926,1123,1033,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="915,1173,1043,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="917,195,1042,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="912,448,1047,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="913,499,1045,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="924,347,1035,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="900,397,1059,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1653,144,1775,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1339,405,1409,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1319,565,1429,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1481,499,1595,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1495,397,1581,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="937,296,1021,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="912,245,1047,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1332,616,1416,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="1129,616,1256,643"/>
</map>
</div>

</div>
</div>
<a id="a7b2abcf9f456544cc9e8cf40a04b7e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2abcf9f456544cc9e8cf40a04b7e4e">&#9670;&nbsp;</a></span>gfs2_iomap_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gfs2_iomap_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iomap *&#160;</td>
          <td class="paramname"><em>iomap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_bmap_alloc - Build a metadata tree of the requested height : The GFS2 inode : The logical starting block of the extent : This is used to return the mapping details : True if newly allocated blocks should be zeroed : The metapath, with proper height information calculated : The max number of data blocks to alloc : Pointer to return the resulting new block : Pointer to return the number of blocks allocated</p>
<p>In this routine we may have to alloc: i) <a class="el" href="structIndirect.html">Indirect</a> blocks to grow the metadata tree height ii) <a class="el" href="structIndirect.html">Indirect</a> blocks to fill in lower part of the metadata tree iii) Data blocks</p>
<p>The function is in two parts. The first part works out the total number of blocks which we need. The second part does the actual allocation asking for an extent at a time (if enough contiguous free blocks are available, there will only be one request per bmap call) and uses the state machine to initialise the blocks in order.</p>
<p>Returns: errno on error </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_cgraph" id="gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="643,832,709,859"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1033,1263,1114,1289"/>
<area shape="rect" id="node4" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="603,1035,749,1061"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="210,1541,301,1568"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="189,1592,321,1619"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="178,1643,333,1669"/>
<area shape="rect" id="node15" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="192,655,319,681"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="591,984,761,1011"/>
<area shape="rect" id="node42" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="206,1693,305,1720"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="195,1389,315,1416"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="389,1491,536,1517"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="182,1744,329,1771"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="176,1491,335,1517"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="197,1288,314,1315"/>
<area shape="rect" id="node5" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="831,984,934,1011"/>
<area shape="rect" id="node6" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="825,933,941,960"/>
<area shape="rect" id="node7" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="833,1035,933,1061"/>
<area shape="rect" id="node9" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="817,1136,948,1163"/>
<area shape="rect" id="node10" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="847,1085,918,1112"/>
<area shape="rect" id="node8" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1004,1035,1143,1061"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="426,1592,499,1619"/>
<area shape="rect" id="node16" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="607,107,745,133"/>
<area shape="rect" id="node17" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="829,376,936,403"/>
<area shape="rect" id="node21" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="411,60,515,87"/>
<area shape="rect" id="node24" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="817,584,949,611"/>
<area shape="rect" id="node25" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="401,731,525,757"/>
<area shape="rect" id="node28" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="383,440,543,467"/>
<area shape="rect" id="node31" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="429,553,496,580"/>
<area shape="rect" id="node32" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="595,933,757,960"/>
<area shape="rect" id="node35" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="412,224,513,251"/>
<area shape="rect" id="node37" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="390,604,535,631"/>
<area shape="rect" id="node38" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="395,845,531,872"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="815,1187,950,1213"/>
<area shape="rect" id="node41" href="rgrp_8c.html#ad5587c13aadc54bd066cad52ed2feb2b" title="gfs2_rgrp_error" alt="" coords="408,173,517,200"/>
<area shape="rect" id="node18" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="813,107,952,133"/>
<area shape="rect" id="node19" href="rgrp_8c.html#acd02e2f3930749f05f29e3d71c2875e1" title="gfs2_rbm_from_block" alt="" coords="809,325,956,352"/>
<area shape="rect" id="node20" href="incore_8h.html#ada00f94956c6c2f5d11e1af4c38068ec" title="rbm_bi" alt="" coords="1043,584,1104,611"/>
<area shape="rect" id="node22" href="rgrp_8c.html#ae4d45f7f8bb24592e8ae111a221c31b6" title="gfs2_bitfit" alt="" coords="637,5,715,32"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a83ef63418e36b209d851e9aa3b907ad8" title="gfs2_reservation_check\l_and_update" alt="" coords="596,158,756,199"/>
<area shape="rect" id="node26" href="rgrp_8c.html#a0baf59c658235489d2bfdf5eca3db4a3" title="gfs2_setbit" alt="" coords="839,639,926,665"/>
<area shape="rect" id="node27" href="rgrp_8c.html#aa03fe5cb24567d091c5d1720558aeb6f" title="gfs2_testbit" alt="" coords="631,781,721,808"/>
<area shape="rect" id="node29" href="incore_8h.html#a38f1b79b7b9d9edd3d815e86c6cb345a" title="gfs2_rbm_eq" alt="" coords="627,427,725,453"/>
<area shape="rect" id="node30" href="rgrp_8c.html#af4bcb2e7a58d78f2fcf825f3e35f5d34" title="__rs_deltree" alt="" coords="629,528,723,555"/>
<area shape="rect" id="node33" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="817,867,949,909"/>
<area shape="rect" id="node34" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="832,816,933,843"/>
<area shape="rect" id="node36" href="rgrp_8c.html#ac705f5e7bf6e4826565a9ffef3db6055" title="gfs2_rgrpd_get_next" alt="" coords="606,224,746,251"/>
<area shape="rect" id="node44" href="meta__io_8c.html#a345c9d6c392fcdc903ce6dfa26f4a56f" title="gfs2_meta_new" alt="" coords="405,1440,520,1467"/>
<area shape="rect" id="node45" href="gfs2_2util_8h.html#a4bce60b6896701bc5e3ce7c71e9c9be5" title="gfs2_metatype_set" alt="" coords="396,1389,529,1416"/>
<area shape="rect" id="node50" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="599,1288,753,1315"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_icgraph" id="gfs2_2bmap_8c_a7b2abcf9f456544cc9e8cf40a04b7e4e_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="176,144,303,171"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1489,68,1603,95"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="351,651,468,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="947,363,1103,389"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1670,169,1787,196"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1844,68,1947,95"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1995,68,2141,95"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1479,702,1613,743"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="994,144,1055,171"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1669,709,1789,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="516,869,676,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="517,945,675,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="521,1047,671,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="535,1123,657,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="539,372,653,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="553,271,639,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="535,487,657,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="518,423,674,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="724,651,899,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="727,701,896,728"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1661,575,1796,601"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1174,245,1238,272"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1169,93,1243,120"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1481,423,1611,449"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1309,347,1431,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1311,93,1429,120"/>
<area shape="rect" id="node16" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1665,448,1792,475"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1681,397,1776,424"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="735,869,887,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="756,971,867,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="732,1021,891,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="753,920,870,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="758,1072,865,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="758,1123,865,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="747,1173,875,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="749,195,874,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="744,448,879,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="745,499,877,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="756,347,867,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="732,397,891,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1485,144,1607,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1171,405,1241,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1151,565,1261,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1313,499,1427,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1327,397,1413,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="769,296,853,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="744,245,879,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1164,616,1248,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="961,616,1088,643"/>
</map>
</div>

</div>
</div>
<a id="ada4c336682ce296954b4badcb373a46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4c336682ce296954b4badcb373a46f">&#9670;&nbsp;</a></span>gfs2_iomap_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_iomap_begin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iomap *&#160;</td>
          <td class="paramname"><em>iomap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_iomap_begin - Map blocks from an inode to disk blocks : The inode : Starting position in bytes : Length to map, in bytes : iomap flags : The iomap structure</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_cgraph" id="gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="827,353,893,380"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1217,733,1298,760"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="193,100,303,127"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="180,353,316,380"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="205,201,291,228"/>
<area shape="rect" id="node7" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="205,252,291,279"/>
<area shape="rect" id="node8" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="779,1468,941,1495"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="595,429,699,456"/>
<area shape="rect" id="node16" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="187,404,309,431"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="601,252,692,279"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="375,505,507,532"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="185,556,311,583"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="199,607,297,633"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="187,809,309,836"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="403,151,480,177"/>
<area shape="rect" id="node9" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1007,1301,1139,1342"/>
<area shape="rect" id="node13" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1022,1367,1123,1393"/>
<area shape="rect" id="node10" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1200,1265,1315,1292"/>
<area shape="rect" id="node11" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1367,1291,1458,1317"/>
<area shape="rect" id="node12" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1363,1367,1463,1393"/>
<area shape="rect" id="node14" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1214,1367,1301,1393"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="379,404,503,431"/>
<area shape="rect" id="node20" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1007,810,1139,851"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="823,252,897,279"/>
<area shape="rect" id="node25" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="787,1417,933,1444"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="364,708,519,735"/>
<area shape="rect" id="node31" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="378,1139,505,1165"/>
<area shape="rect" id="node42" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="775,1519,945,1545"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="392,759,491,785"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="381,1569,501,1596"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="573,1620,720,1647"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="368,860,515,887"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="993,708,1152,735"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="383,911,500,937"/>
<area shape="rect" id="node26" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1021,1468,1124,1495"/>
<area shape="rect" id="node27" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1015,1519,1131,1545"/>
<area shape="rect" id="node28" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1007,1199,1138,1225"/>
<area shape="rect" id="node29" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1037,1249,1108,1276"/>
<area shape="rect" id="node32" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="577,911,716,937"/>
<area shape="rect" id="node33" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="807,961,913,988"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="595,1113,699,1140"/>
<area shape="rect" id="node35" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="585,1316,709,1343"/>
<area shape="rect" id="node36" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="794,1063,926,1089"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="567,1012,727,1039"/>
<area shape="rect" id="node38" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="613,1164,680,1191"/>
<area shape="rect" id="node39" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="596,1215,697,1241"/>
<area shape="rect" id="node40" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="574,1265,719,1292"/>
<area shape="rect" id="node41" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="579,1417,715,1444"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="793,809,927,836"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_icgraph" id="gfs2_2bmap_8c_ada4c336682ce296954b4badcb373a46f_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1319,68,1432,95"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="180,651,297,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="776,363,932,389"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1499,169,1617,196"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1673,68,1776,95"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1824,68,1971,95"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1308,702,1443,743"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="823,145,885,172"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1498,709,1618,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="345,869,505,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="346,945,505,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="351,1047,500,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="365,1123,486,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="368,372,483,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="382,271,469,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="364,487,487,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="347,423,503,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="553,651,728,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="556,701,725,728"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1491,575,1625,601"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1003,247,1067,273"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="998,93,1073,120"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1310,423,1441,449"/>
<area shape="rect" id="node11" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1139,347,1260,373"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1141,93,1258,120"/>
<area shape="rect" id="node15" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1495,372,1621,399"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1511,423,1605,449"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1515,473,1601,500"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="565,869,717,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="585,971,696,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="561,1021,720,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="582,920,699,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="587,1072,694,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="587,1123,694,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="577,1173,705,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="578,195,703,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="573,448,708,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="575,499,707,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="585,347,696,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="561,397,720,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1315,144,1436,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1000,405,1071,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="980,565,1091,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1142,499,1257,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1157,397,1242,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="599,296,683,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="573,245,708,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="993,616,1077,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="791,616,917,643"/>
</map>
</div>

</div>
</div>
<a id="a3798960910ce0c83d83d01ab9bad0fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3798960910ce0c83d83d01ab9bad0fd9">&#9670;&nbsp;</a></span>gfs2_journaled_truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gfs2_journaled_truncate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>oldsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>newsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_journaled_truncate - Wrapper for truncate_pagecache for jdata files : The inode being truncated : The original (larger) size : The new smaller size</p>
<p>With jdata files, we have to journal a revoke for each block which is truncated. As a result, we need to split this into separate transactions if the number of pages being truncated gets too large. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_cgraph" id="gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="233,765,315,792"/>
<area shape="rect" id="node3" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="219,816,329,843"/>
<area shape="rect" id="node49" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="213,917,335,944"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="552,892,672,919"/>
<area shape="rect" id="node5" href="gfs2_2trans_8c.html#a6ef229c79b5693477ba7e27fb66d5acf" title="gfs2_print_trans" alt="" coords="386,867,501,893"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a60ca61b3792ee2240074cb04f0512053" title="gfs2_log_commit" alt="" coords="383,765,504,792"/>
<area shape="rect" id="node15" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="559,537,665,564"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="571,816,653,843"/>
<area shape="rect" id="node8" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="738,816,841,843"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html#a9f559589696422c428e0165d95b14aba" title="gfs2_merge_trans" alt="" coords="726,917,853,944"/>
<area shape="rect" id="node10" href="gfs2_2log_8c.html#a3dc8092ed1bcb8a756d91301455724e9" title="calc_reserved" alt="" coords="738,867,841,893"/>
<area shape="rect" id="node14" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="731,765,847,792"/>
<area shape="rect" id="node11" href="lops_8h.html#a9431187bbb4bb7c67bf9be81fde06cbf" title="buf_limit" alt="" coords="944,841,1015,868"/>
<area shape="rect" id="node12" href="lops_8h.html#a583154abacd4f872639e17b83cef1663" title="databuf_limit" alt="" coords="931,892,1027,919"/>
<area shape="rect" id="node13" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="924,955,1035,981"/>
<area shape="rect" id="node16" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="723,664,855,691"/>
<area shape="rect" id="node19" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="720,715,859,741"/>
<area shape="rect" id="node20" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="1662,208,1793,235"/>
<area shape="rect" id="node21" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="1303,5,1408,32"/>
<area shape="rect" id="node22" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="919,259,1039,285"/>
<area shape="rect" id="node23" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="1133,360,1219,387"/>
<area shape="rect" id="node41" href="lops_8h.html#ad96d3ea38c0beedc913e5b7eeca56b18" title="lops_after_commit" alt="" coords="725,512,854,539"/>
<area shape="rect" id="node42" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="736,461,843,488"/>
<area shape="rect" id="node45" href="gfs2_2log_8c.html#a3e998c1de5a5981c17e89c648074f7d3" title="gfs2_ail1_wait" alt="" coords="737,563,842,589"/>
<area shape="rect" id="node46" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="731,613,848,640"/>
<area shape="rect" id="node48" href="gfs2_2log_8c.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="722,309,857,336"/>
<area shape="rect" id="node17" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="932,664,1027,691"/>
<area shape="rect" id="node18" href="gfs2_2log_8c.html#a26cfe0abf0cced133f2abd09dc261847" title="ip_cmp" alt="" coords="947,715,1011,741"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#a4d821307bb895f69552a6a5c37794191" title="gfs2_ordered_wait" alt="" coords="1112,132,1240,159"/>
<area shape="rect" id="node25" href="gfs2_2log_8c.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="1100,183,1252,209"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#adf47b926f204e1ea3e77b139ae572a7a" title="log_pull_tail" alt="" coords="1131,309,1221,336"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1330,56,1381,83"/>
<area shape="rect" id="node27" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="1300,208,1411,235"/>
<area shape="rect" id="node29" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="1322,157,1389,184"/>
<area shape="rect" id="node30" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="1302,107,1409,133"/>
<area shape="rect" id="node28" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="1464,208,1599,235"/>
<area shape="rect" id="node31" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="1471,107,1591,133"/>
<area shape="rect" id="node32" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="1663,81,1792,108"/>
<area shape="rect" id="node33" href="lops_8c.html#a0386b4ce47583a1b48e799572b0f1334" title="gfs2_end_log_write" alt="" coords="1851,81,1985,108"/>
<area shape="rect" id="node34" href="lops_8c.html#a6d5779c1b8df9425e3f87628f383df64" title="gfs2_end_log_write_bh" alt="" coords="2033,81,2188,108"/>
<area shape="rect" id="node35" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="2236,74,2379,115"/>
<area shape="rect" id="node37" href="gfs2_2log_8c.html#ad202942c733c941e48733e3aa32b9e4c" title="log_distance" alt="" coords="1308,309,1403,336"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#a248bd91deb3732b401c8910c6bea3014" title="ail2_empty" alt="" coords="1313,360,1398,387"/>
<area shape="rect" id="node39" href="gfs2_2log_8c.html#a8f895ec0382a4780074b922d5dd6b03b" title="gfs2_ail2_empty_one" alt="" coords="1459,360,1604,387"/>
<area shape="rect" id="node40" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="1652,360,1803,387"/>
<area shape="rect" id="node43" href="gfs2_2log_8c.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="925,461,1034,488"/>
<area shape="rect" id="node44" href="gfs2_2log_8c.html#afc80eab990b37e175da66b9dba5fe74b" title="gfs2_ail1_start_one" alt="" coords="1109,461,1243,488"/>
<area shape="rect" id="node47" href="gfs2_2log_8c.html#a516d43611084cc573e7ae237c710f405" title="gfs2_ail1_empty_one" alt="" coords="907,613,1052,640"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="383,917,504,944"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_icgraph" id="gfs2_2bmap_8c_a3798960910ce0c83d83d01ab9bad0fd9_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="213,169,297,196"/>
<area shape="rect" id="node3" href="ocfs2_2file_8c.html#ab1f194ddafdc364e98d2685f39dc2286" title="ocfs2_calc_trunc_pos" alt="" coords="345,169,495,196"/>
<area shape="rect" id="node4" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="543,111,685,153"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="381,553,459,580"/>
<area shape="rect" id="node5" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="741,46,882,87"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="742,111,881,153"/>
<area shape="rect" id="node6" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="937,56,1107,83"/>
<area shape="rect" id="node8" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="967,5,1077,32"/>
<area shape="rect" id="node7" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1181,56,1267,83"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="953,111,1091,153"/>
<area shape="rect" id="node11" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1155,111,1293,153"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="1347,72,1502,99"/>
<area shape="rect" id="node13" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="1341,123,1508,149"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="553,553,675,580"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1945,912,2068,939"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1770,253,1890,280"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="733,887,889,913"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1763,785,1897,812"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1163,1191,1285,1217"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1771,1140,1889,1167"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="987,684,1057,711"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="967,861,1077,888"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1955,1140,2058,1167"/>
<area shape="rect" id="node22" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2116,1140,2263,1167"/>
<area shape="rect" id="node24" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1167,836,1281,863"/>
<area shape="rect" id="node31" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1181,557,1267,584"/>
<area shape="rect" id="node33" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1359,507,1490,533"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1163,684,1285,711"/>
<area shape="rect" id="node25" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1375,811,1474,837"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1346,861,1503,888"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1367,988,1482,1015"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1578,988,1693,1015"/>
<area shape="rect" id="node29" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1585,1039,1685,1065"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1580,937,1691,964"/>
<area shape="rect" id="node32" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="1357,557,1493,584"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1767,735,1893,761"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1783,380,1877,407"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1787,431,1873,457"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1793,481,1867,508"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1781,557,1879,584"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1955,507,2059,533"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1580,633,1691,660"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1795,684,1865,711"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1556,583,1715,609"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="2144,709,2235,736"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1363,760,1486,787"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1375,608,1475,635"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1378,659,1471,685"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="1362,709,1487,736"/>
</map>
</div>

</div>
</div>
<a id="acc866fb7aa272ffb43d247c8a3e7f36f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc866fb7aa272ffb43d247c8a3e7f36f">&#9670;&nbsp;</a></span>gfs2_journaled_truncate_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gfs2_journaled_truncate_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_cgraph" id="gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="233,765,315,792"/>
<area shape="rect" id="node3" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="219,816,329,843"/>
<area shape="rect" id="node49" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="213,917,335,944"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="552,892,672,919"/>
<area shape="rect" id="node5" href="gfs2_2trans_8c.html#a6ef229c79b5693477ba7e27fb66d5acf" title="gfs2_print_trans" alt="" coords="386,867,501,893"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a60ca61b3792ee2240074cb04f0512053" title="gfs2_log_commit" alt="" coords="383,765,504,792"/>
<area shape="rect" id="node15" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="559,537,665,564"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="571,816,653,843"/>
<area shape="rect" id="node8" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="738,816,841,843"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html#a9f559589696422c428e0165d95b14aba" title="gfs2_merge_trans" alt="" coords="726,917,853,944"/>
<area shape="rect" id="node10" href="gfs2_2log_8c.html#a3dc8092ed1bcb8a756d91301455724e9" title="calc_reserved" alt="" coords="738,867,841,893"/>
<area shape="rect" id="node14" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="731,765,847,792"/>
<area shape="rect" id="node11" href="lops_8h.html#a9431187bbb4bb7c67bf9be81fde06cbf" title="buf_limit" alt="" coords="944,841,1015,868"/>
<area shape="rect" id="node12" href="lops_8h.html#a583154abacd4f872639e17b83cef1663" title="databuf_limit" alt="" coords="931,892,1027,919"/>
<area shape="rect" id="node13" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="924,955,1035,981"/>
<area shape="rect" id="node16" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="723,664,855,691"/>
<area shape="rect" id="node19" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="720,715,859,741"/>
<area shape="rect" id="node20" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="1662,208,1793,235"/>
<area shape="rect" id="node21" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="1303,5,1408,32"/>
<area shape="rect" id="node22" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="919,259,1039,285"/>
<area shape="rect" id="node23" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="1133,360,1219,387"/>
<area shape="rect" id="node41" href="lops_8h.html#ad96d3ea38c0beedc913e5b7eeca56b18" title="lops_after_commit" alt="" coords="725,512,854,539"/>
<area shape="rect" id="node42" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="736,461,843,488"/>
<area shape="rect" id="node45" href="gfs2_2log_8c.html#a3e998c1de5a5981c17e89c648074f7d3" title="gfs2_ail1_wait" alt="" coords="737,563,842,589"/>
<area shape="rect" id="node46" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="731,613,848,640"/>
<area shape="rect" id="node48" href="gfs2_2log_8c.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="722,309,857,336"/>
<area shape="rect" id="node17" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="932,664,1027,691"/>
<area shape="rect" id="node18" href="gfs2_2log_8c.html#a26cfe0abf0cced133f2abd09dc261847" title="ip_cmp" alt="" coords="947,715,1011,741"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#a4d821307bb895f69552a6a5c37794191" title="gfs2_ordered_wait" alt="" coords="1112,132,1240,159"/>
<area shape="rect" id="node25" href="gfs2_2log_8c.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="1100,183,1252,209"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#adf47b926f204e1ea3e77b139ae572a7a" title="log_pull_tail" alt="" coords="1131,309,1221,336"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1330,56,1381,83"/>
<area shape="rect" id="node27" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="1300,208,1411,235"/>
<area shape="rect" id="node29" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="1322,157,1389,184"/>
<area shape="rect" id="node30" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="1302,107,1409,133"/>
<area shape="rect" id="node28" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="1464,208,1599,235"/>
<area shape="rect" id="node31" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="1471,107,1591,133"/>
<area shape="rect" id="node32" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="1663,81,1792,108"/>
<area shape="rect" id="node33" href="lops_8c.html#a0386b4ce47583a1b48e799572b0f1334" title="gfs2_end_log_write" alt="" coords="1851,81,1985,108"/>
<area shape="rect" id="node34" href="lops_8c.html#a6d5779c1b8df9425e3f87628f383df64" title="gfs2_end_log_write_bh" alt="" coords="2033,81,2188,108"/>
<area shape="rect" id="node35" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="2236,74,2379,115"/>
<area shape="rect" id="node37" href="gfs2_2log_8c.html#ad202942c733c941e48733e3aa32b9e4c" title="log_distance" alt="" coords="1308,309,1403,336"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#a248bd91deb3732b401c8910c6bea3014" title="ail2_empty" alt="" coords="1313,360,1398,387"/>
<area shape="rect" id="node39" href="gfs2_2log_8c.html#a8f895ec0382a4780074b922d5dd6b03b" title="gfs2_ail2_empty_one" alt="" coords="1459,360,1604,387"/>
<area shape="rect" id="node40" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="1652,360,1803,387"/>
<area shape="rect" id="node43" href="gfs2_2log_8c.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="925,461,1034,488"/>
<area shape="rect" id="node44" href="gfs2_2log_8c.html#afc80eab990b37e175da66b9dba5fe74b" title="gfs2_ail1_start_one" alt="" coords="1109,461,1243,488"/>
<area shape="rect" id="node47" href="gfs2_2log_8c.html#a516d43611084cc573e7ae237c710f405" title="gfs2_ail1_empty_one" alt="" coords="907,613,1052,640"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="383,917,504,944"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_icgraph" id="gfs2_2bmap_8c_acc866fb7aa272ffb43d247c8a3e7f36f_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="213,487,348,513"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1563,43,1665,69"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="396,487,552,513"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1721,43,1868,69"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1363,1613,1497,1640"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="600,461,721,488"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1371,93,1489,120"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="625,512,696,539"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1370,1563,1490,1589"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="605,411,716,437"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="773,460,887,487"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="787,740,873,767"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="952,1309,1083,1336"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="769,257,891,284"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="968,485,1067,512"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="939,435,1096,461"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="960,359,1075,385"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1167,245,1282,272"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1175,296,1275,323"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1169,347,1280,373"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1179,397,1270,424"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="1165,448,1285,475"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1177,499,1272,525"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="1151,144,1299,171"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1151,195,1299,221"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="949,853,1085,880"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1353,752,1507,779"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1555,701,1673,728"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1555,904,1673,931"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1144,904,1305,931"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1379,853,1481,880"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1181,1056,1269,1083"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="1161,1005,1288,1032"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="1169,853,1281,880"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="1178,600,1271,627"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1739,1005,1850,1032"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1383,1157,1477,1184"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1367,1497,1493,1524"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1387,1233,1473,1260"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1393,1296,1467,1323"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1381,1353,1479,1380"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1173,1411,1277,1437"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1395,1432,1465,1459"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1145,1309,1304,1336"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1584,1497,1644,1524"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="956,308,1079,335"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="967,156,1067,183"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="971,207,1064,233"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="955,257,1080,284"/>
</map>
</div>

</div>
</div>
<a id="a72286a05925d882b2de9c25556f75ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72286a05925d882b2de9c25556f75ed4">&#9670;&nbsp;</a></span>gfs2_map_journal_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_map_journal_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *&#160;</td>
          <td class="paramname"><em>jd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_map_journal_extents - Cache journal bmap info : The super block : The journal to map</p>
<p>Create a reusable "extent" mapping from all logical blocks to all physical blocks for the given journal. This will save us time when writing journal blocks. Most journals will have only one extent that maps all their logical blocks. That's because gfs2.mkfs arranges the journal blocks sequentially to maximize performance. So the extent would map the first block for the entire file length. However, gfs2_jadd can happen while file activity is happening, so those journals may not be sequential. Less likely is the case where the users created their own journals by mounting the metafs and laying it out. But it's still possible. These journals might have several extents.</p>
<p>Returns: 0 on success, or error on failure </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_cgraph" id="gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="849,1069,916,1096"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="255,1019,372,1045"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a395998b5b2aa31ba0cf788f2ebb0b69c" title="gfs2_add_jextent" alt="" coords="253,1221,374,1248"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acb8dcd2c0d9cb0f93243a981a67a8d2e" title="gfs2_free_journal_extents" alt="" coords="228,1272,399,1299"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="447,1019,573,1045"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1461,816,1542,843"/>
<area shape="rect" id="node6" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="634,917,745,944"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="621,1069,757,1096"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="647,968,732,995"/>
<area shape="rect" id="node9" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="647,1019,732,1045"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="1008,613,1169,640"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="831,1323,935,1349"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="629,715,750,741"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="1043,1044,1134,1071"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="817,1019,949,1045"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="627,1272,752,1299"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="640,1323,739,1349"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="628,664,751,691"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="651,1221,728,1248"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1237,610,1369,651"/>
<area shape="rect" id="node15" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1252,559,1353,585"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1444,660,1559,687"/>
<area shape="rect" id="node13" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1619,635,1710,661"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1615,559,1715,585"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1458,559,1545,585"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="821,968,945,995"/>
<area shape="rect" id="node22" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1237,750,1369,791"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="1266,1044,1339,1071"/>
<area shape="rect" id="node27" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1229,461,1376,488"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="805,5,960,32"/>
<area shape="rect" id="node33" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="819,385,946,412"/>
<area shape="rect" id="node41" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1217,132,1388,159"/>
<area shape="rect" id="node42" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="833,512,932,539"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="823,664,943,691"/>
<area shape="rect" id="node44" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="1015,765,1162,792"/>
<area shape="rect" id="node45" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="809,613,956,640"/>
<area shape="rect" id="node46" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1009,917,1168,944"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="824,715,941,741"/>
<area shape="rect" id="node28" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1450,268,1553,295"/>
<area shape="rect" id="node29" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1443,173,1559,200"/>
<area shape="rect" id="node30" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1436,457,1567,484"/>
<area shape="rect" id="node31" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1466,407,1537,433"/>
<area shape="rect" id="node34" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="1019,208,1158,235"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="1249,208,1356,235"/>
<area shape="rect" id="node36" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="1037,309,1141,336"/>
<area shape="rect" id="node37" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="1027,461,1151,488"/>
<area shape="rect" id="node38" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="1237,360,1369,387"/>
<area shape="rect" id="node39" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="1009,259,1169,285"/>
<area shape="rect" id="node40" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1055,411,1122,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_icgraph" id="gfs2_2bmap_8c_a72286a05925d882b2de9c25556f75ed4_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="228,563,384,589"/>
<area shape="rect" id="node25" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1585,1449,1669,1476"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1195,664,1329,691"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="432,56,553,83"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1203,360,1321,387"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="457,613,528,640"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1202,1171,1322,1197"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="437,5,548,32"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1395,360,1497,387"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1553,360,1700,387"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="605,613,719,640"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="619,968,705,995"/>
<area shape="rect" id="node34" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="784,892,915,919"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="601,284,723,311"/>
<area shape="rect" id="node10" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="800,664,899,691"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="771,613,928,640"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="792,385,907,412"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="999,461,1114,488"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1007,512,1107,539"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1001,157,1112,184"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1011,208,1102,235"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="997,259,1117,285"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1009,309,1104,336"/>
<area shape="rect" id="node19" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="983,360,1131,387"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="983,411,1131,437"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="781,1399,917,1425"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1185,1373,1339,1400"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1387,1373,1505,1400"/>
<area shape="rect" id="node32" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="976,1424,1137,1451"/>
<area shape="rect" id="node33" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1211,1424,1313,1451"/>
<area shape="rect" id="node26" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1748,1449,1832,1476"/>
<area shape="rect" id="node27" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1880,1449,1955,1476"/>
<area shape="rect" id="node28" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="2013,1373,2092,1400"/>
<area shape="rect" id="node29" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="2003,1424,2103,1451"/>
<area shape="rect" id="node30" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="2003,1475,2102,1501"/>
<area shape="rect" id="node31" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="2007,1525,2098,1552"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1199,880,1325,907"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1215,932,1309,959"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1219,985,1305,1012"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1225,1043,1299,1069"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1213,1119,1311,1145"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1005,715,1109,741"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1001,765,1112,792"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1227,828,1297,855"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="977,917,1136,944"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="788,335,911,361"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="799,183,899,209"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="803,233,896,260"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="787,284,912,311"/>
</map>
</div>

</div>
</div>
<a id="a66822528bfd14291df3516b166be21f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66822528bfd14291df3516b166be21f9">&#9670;&nbsp;</a></span>gfs2_metapath_ra()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_metapath_ra </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__glock.html">gfs2_glock</a> *&#160;</td>
          <td class="paramname"><em>gl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_cgraph" id="gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_cgraph">
<area shape="rect" id="node2" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="210,1332,301,1359"/>
<area shape="rect" id="node44" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="180,1459,331,1485"/>
<area shape="rect" id="node46" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="631,1459,731,1485"/>
<area shape="rect" id="node47" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="214,1560,297,1587"/>
<area shape="rect" id="node3" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="403,825,537,852"/>
<area shape="rect" id="node41" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="396,1332,544,1359"/>
<area shape="rect" id="node4" href="glock_8h.html#abcc871c62234b39ac052fe6a6a8b3f14" title="gfs2_glock_get" alt="" coords="626,800,737,827"/>
<area shape="rect" id="node15" href="glock_8h.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="623,952,739,979"/>
<area shape="rect" id="node16" href="glock_8h.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1046,927,1157,953"/>
<area shape="rect" id="node17" href="glock_8h.html#ac3ebc62375a395dc7d14db5e0df98782" title="gfs2_glock_queue_put" alt="" coords="801,547,953,573"/>
<area shape="rect" id="node19" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="625,699,738,725"/>
<area shape="rect" id="node21" href="glock_8h.html#ac995caba0534a5669bf2ed4a9add045b" title="gfs2_holder_reinit" alt="" coords="619,1053,743,1080"/>
<area shape="rect" id="node22" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="814,749,941,776"/>
<area shape="rect" id="node24" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="824,496,931,523"/>
<area shape="rect" id="node27" href="glock_8h.html#aa415d68b6b43fb6556c729cb6b1a4c21" title="gfs2_glock_poll" alt="" coords="625,1104,737,1131"/>
<area shape="rect" id="node28" href="glock_8h.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="623,1155,739,1181"/>
<area shape="rect" id="node29" href="glock_8h.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="824,141,931,168"/>
<area shape="rect" id="node33" href="glock_8h.html#a8dd8434f3f5b346d7a9827fbbe3846e1" title="gfs2_glock_dq_wait" alt="" coords="613,420,750,447"/>
<area shape="rect" id="node35" href="glock_8h.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="609,547,753,573"/>
<area shape="rect" id="node37" href="glock_8h.html#a96a5b213798300843706f6723fce5780" title="gfs2_glock_nq_num" alt="" coords="808,901,947,928"/>
<area shape="rect" id="node38" href="glock_8h.html#ad725a4c62857cc81a85c2f8c8aebdf70" title="gfs2_glock_nq_m" alt="" coords="619,1205,743,1232"/>
<area shape="rect" id="node39" href="glock_8h.html#a935b12383ca917515597a0d954071c6a" title="gfs2_glock_dq_m" alt="" coords="619,332,743,359"/>
<area shape="rect" id="node40" href="glock_8h.html#a7fc5c3f221967b86171f729566c20928" title="gfs2_dump_glock" alt="" coords="619,1256,743,1283"/>
<area shape="rect" id="node5" href="glock_8c.html#a4ad4727942bb2d8e026d026c633a8df2" title="find_insert_glock" alt="" coords="817,851,937,877"/>
<area shape="rect" id="node6" href="glock_8c.html#adcd488b47b9c7bafb5f2d295e78c529d" title="glock_work_func" alt="" coords="817,597,937,624"/>
<area shape="rect" id="node13" href="glock_8c.html#aa98af1497e21810b901485b7d45184c4" title="delete_work_func" alt="" coords="815,800,939,827"/>
<area shape="rect" id="node7" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="1075,344,1128,371"/>
<area shape="rect" id="node8" href="glock_8c.html#a608f02d2850f41d3e7c6736af8b2db1c" title="run_queue" alt="" coords="1060,597,1143,624"/>
<area shape="rect" id="node10" href="glock_8c.html#a1ad999039c6b5fc4a2abca1c2a5f50b6" title="__gfs2_glock_queue_work" alt="" coords="1249,572,1425,599"/>
<area shape="rect" id="node11" href="glock_8c.html#a3fbd1c29f3c83af19d4f291c1a7c55cc" title="__gfs2_glock_put" alt="" coords="1275,851,1399,877"/>
<area shape="rect" id="node9" href="glock_8c.html#a66a6e81723ec8d41cb93a3dac8a70eb5" title="find_first_holder" alt="" coords="1280,243,1395,269"/>
<area shape="rect" id="node12" href="glock_8c.html#ac39c13c82bea3abc477816634c69d74a" title="gfs2_glock_remove_from_lru" alt="" coords="1473,623,1663,649"/>
<area shape="rect" id="node14" href="glock_8c.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1046,851,1157,877"/>
<area shape="rect" id="node18" href="glock_8c.html#aa2948bc5d5184ce3180b6008c780e871" title="gfs2_glock_queue_work" alt="" coords="1020,648,1183,675"/>
<area shape="rect" id="node20" href="glock_8c.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="819,699,935,725"/>
<area shape="rect" id="node23" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="1001,800,1201,827"/>
<area shape="rect" id="node25" href="glock_8c.html#ae0f5c28a461c19117d12efd28ba09629" title="add_to_queue" alt="" coords="1050,445,1153,472"/>
<area shape="rect" id="node26" href="glock_8c.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1043,496,1159,523"/>
<area shape="rect" id="node30" href="glock_8c.html#a5a97abf1e0ccd0d7bccc107cb853acdd" title="handle_callback" alt="" coords="1044,91,1159,117"/>
<area shape="rect" id="node31" href="glock_8c.html#a7c301edf9cd21fdc5c0e7d9bd1f8c1a2" title="demote_ok" alt="" coords="1058,141,1145,168"/>
<area shape="rect" id="node32" href="glock_8c.html#ac0a102f10ddffac59ebb2b990bb07214" title="gfs2_glock_add_to_lru" alt="" coords="1025,192,1177,219"/>
<area shape="rect" id="node34" href="glock_8c.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="824,293,931,320"/>
<area shape="rect" id="node36" href="glock_8c.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="814,648,941,675"/>
<area shape="rect" id="node42" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="616,1307,747,1333"/>
<area shape="rect" id="node43" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="808,1433,947,1460"/>
<area shape="rect" id="node45" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="379,1459,561,1485"/>
<area shape="rect" id="node48" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="413,1611,527,1637"/>
<area shape="rect" id="node49" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="611,1611,751,1637"/>
<area shape="rect" id="node50" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="628,1661,735,1688"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_icgraph" id="gfs2_2bmap_8c_a66822528bfd14291df3516b166be21f9_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="180,423,268,449"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="354,296,433,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="316,397,471,424"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="548,448,667,475"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="540,499,675,525"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="547,245,668,272"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="546,296,669,323"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1510,63,1630,89"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="747,296,903,323"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1503,132,1637,159"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1329,195,1450,221"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1511,220,1629,247"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="992,296,1063,323"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="972,347,1083,373"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1699,1461,1802,1488"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1864,1487,2011,1513"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1155,347,1269,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1169,296,1255,323"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1324,245,1455,272"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1151,397,1273,424"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1521,1005,1619,1032"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1343,423,1436,449"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="982,448,1073,475"/>
<area shape="rect" id="node23" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="519,397,696,424"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="744,397,907,424"/>
<area shape="rect" id="node25" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="760,1005,891,1032"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="979,1107,1075,1133"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="979,1157,1075,1184"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="955,1208,1100,1235"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="979,1259,1076,1285"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="975,1309,1080,1336"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="975,1360,1080,1387"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="966,1411,1089,1437"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1168,1512,1256,1539"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1704,1575,1797,1601"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1148,1056,1276,1083"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1705,1651,1796,1677"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1348,549,1431,576"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1685,1005,1816,1032"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="962,651,1093,677"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1165,752,1259,779"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1336,727,1443,753"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="963,803,1091,829"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1157,904,1267,931"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="969,1005,1086,1032"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="982,904,1073,931"/>
<area shape="rect" id="node46" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="981,955,1074,981"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="970,1512,1085,1539"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="967,1715,1087,1741"/>
</map>
</div>

</div>
</div>
<a id="ab4593001f90cee56309e0f83a3154c9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4593001f90cee56309e0f83a3154c9c">&#9670;&nbsp;</a></span>gfs2_setattr_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_setattr_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>newsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_setattr_size - make a file a given size : the inode : the size to make the file</p>
<p>The file size can grow, shrink, or stay the same size. This is called holding i_rwsem and an exclusive glock on the inode in question.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_cgraph" id="gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="609,715,675,742"/>
<area shape="rect" id="node3" href="attr_8c.html#a7827e769d8b5704301fc520df3edad83" title="inode_newsize_ok" alt="" coords="176,2074,305,2101"/>
<area shape="rect" id="node5" href="inode_8c.html#a1c16bda802e88520b0ac13fef62c8b16" title="inode_dio_wait" alt="" coords="187,1897,295,1923"/>
<area shape="rect" id="node8" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="184,1019,297,1046"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="205,589,276,615"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="201,335,280,362"/>
<area shape="rect" id="node49" href="rgrp_8c.html#ae6df94821ad96b999e5f8f78f2ab3140" title="gfs2_rsqa_delete" alt="" coords="180,1998,301,2025"/>
<area shape="rect" id="node4" href="attr_8c.html#a95285eda06ebaecaa53b77857030ae2d" title="EXPORT_SYMBOL" alt="" coords="363,2099,502,2126"/>
<area shape="rect" id="node6" href="inode_8c.html#ae30987e28c31f85d4a90865b1a914d22" title="__inode_dio_wait" alt="" coords="371,1947,494,1974"/>
<area shape="rect" id="node7" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="775,1885,913,1911"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#a9632d46a2a9dd524bef3ffe4360e5001" title="gfs2_qa_alloc" alt="" coords="381,1019,484,1046"/>
<area shape="rect" id="node10" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="803,817,885,843"/>
<area shape="rect" id="node12" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="587,6,697,33"/>
<area shape="rect" id="node13" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="354,715,511,742"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="353,817,512,843"/>
<area shape="rect" id="node20" href="rgrp_8c.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="360,1526,505,1553"/>
<area shape="rect" id="node36" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="581,259,703,286"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8c.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="363,513,502,539"/>
<area shape="rect" id="node38" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="561,361,723,387"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="569,462,715,489"/>
<area shape="rect" id="node40" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="595,310,689,337"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="583,158,701,185"/>
<area shape="rect" id="node42" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="587,107,697,134"/>
<area shape="rect" id="node43" href="rgrp_8c.html#a9e0a5684940c9a0b0a63cf831e3a8b05" title="gfs2_inplace_release" alt="" coords="361,918,505,945"/>
<area shape="rect" id="node44" href="gfs2_2quota_8c.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="577,1171,707,1198"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#ace9b0412c4914dc72f7e640ad6647635" title="gfs2_quota_lock" alt="" coords="583,1121,701,1147"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a630ef6f87783e483b4880a02b5070262" title="gfs2_quota_check" alt="" coords="578,766,706,793"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="577,918,707,945"/>
<area shape="rect" id="node19" href="gfs2_2quota_8h.html#ae8916b04b2816dfd27f1b5f52d23eddd" title="gfs2_quota_hash_init" alt="" coords="569,867,715,894"/>
<area shape="rect" id="node16" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="772,1146,916,1173"/>
<area shape="rect" id="node21" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="589,1425,695,1451"/>
<area shape="rect" id="node22" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="775,1961,913,1987"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a3f124d1d41cde1afea1184e49acd9763" title="check_and_update_goal" alt="" coords="561,1526,723,1553"/>
<area shape="rect" id="node24" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="791,1551,897,1578"/>
<area shape="rect" id="node25" href="rgrp_8c.html#a5e03ceea092cfe1ac4f700a85986d679" title="gfs2_orlov_skip" alt="" coords="585,1070,699,1097"/>
<area shape="rect" id="node26" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="569,1729,715,1771"/>
<area shape="rect" id="node27" href="rgrp_8c.html#a4120935c3918ab5bcbb0bd4deaa561a4" title="fast_to_acquire" alt="" coords="587,1795,697,1822"/>
<area shape="rect" id="node28" href="rgrp_8c.html#a3702a1fd590d8d70a17a38ed135053d2" title="gfs2_rgrp_used_recently" alt="" coords="560,1846,724,1873"/>
<area shape="rect" id="node29" href="rgrp_8c.html#aadbfe4c64cfc942626be48133bb2300c" title="gfs2_rgrp_congested" alt="" coords="571,1273,713,1299"/>
<area shape="rect" id="node30" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="577,1323,707,1350"/>
<area shape="rect" id="node31" href="rgrp_8c.html#aba3f01d4b34680d6a2c588c478a706b1" title="update_rgrp_lvb" alt="" coords="585,1627,699,1654"/>
<area shape="rect" id="node32" href="rgrp_8c.html#a4144544a2fa2798453690e60583a1375" title="gfs2_rgrp_bh_get" alt="" coords="783,1653,905,1679"/>
<area shape="rect" id="node33" href="rgrp_8c.html#a51e50bd9af85a489323b2ef568caa65e" title="rg_mblk_search" alt="" coords="585,1947,699,1974"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ac527ba0d9bcfbaeafcc5eda982f2cdb2" title="try_rgrp_unlink" alt="" coords="589,1475,695,1502"/>
<area shape="rect" id="node35" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="587,2049,697,2075"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="391,209,475,235"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="389,411,477,438"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="393,259,472,286"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a6fa61deb3fa89e71cc5ea7b47544a522" title="gfs2_qa_delete" alt="" coords="377,1998,488,2025"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_icgraph" id="gfs2_2bmap_8c_ab4593001f90cee56309e0f83a3154c9c_icgraph">
<area shape="rect" id="node2" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1165,49,1255,76"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="176,151,332,177"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1143,353,1277,380"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="380,151,501,177"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1151,201,1269,228"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="405,581,476,608"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1150,404,1270,431"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="385,43,496,69"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1343,201,1445,228"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1501,201,1648,228"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="553,1417,667,1444"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="567,847,653,873"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="732,581,863,608"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="549,480,671,507"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="748,1443,847,1469"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="719,1392,876,1419"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="740,1519,855,1545"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="947,1468,1062,1495"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="955,1519,1055,1545"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="949,1569,1060,1596"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="959,1620,1050,1647"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="945,1671,1065,1697"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="957,1721,1052,1748"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="931,1367,1079,1393"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="931,1417,1079,1444"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="729,1063,865,1089"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1133,961,1287,988"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1335,1113,1453,1140"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1335,936,1453,963"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="924,1113,1085,1140"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1159,1088,1261,1115"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="961,1265,1049,1292"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="941,860,1068,887"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="949,1012,1061,1039"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="958,1215,1051,1241"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1519,872,1630,899"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1163,759,1257,785"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1147,509,1273,536"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1167,585,1253,612"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1173,639,1247,665"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1161,696,1259,723"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="953,100,1057,127"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1175,456,1245,483"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="925,505,1084,532"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1364,509,1424,536"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="736,531,859,557"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="747,379,847,405"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="751,429,844,456"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="735,480,860,507"/>
</map>
</div>

</div>
</div>
<a id="ac514a019a03262a83ec584b4a093fd50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac514a019a03262a83ec584b4a093fd50">&#9670;&nbsp;</a></span>gfs2_stuffed_iomap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_stuffed_iomap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iomap *&#160;</td>
          <td class="paramname"><em>iomap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_cgraph" id="gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="189,5,256,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_icgraph" id="gfs2_2bmap_8c_ac514a019a03262a83ec584b4a093fd50_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="189,144,316,171"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1503,68,1616,95"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="364,651,481,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="960,363,1116,389"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1683,169,1801,196"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1857,68,1960,95"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2008,68,2155,95"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1492,702,1627,743"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="1007,144,1069,171"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1682,709,1802,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="529,869,689,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="530,945,689,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="535,1047,684,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="549,1123,670,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="552,372,667,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="566,271,653,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="548,487,671,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="531,423,687,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="737,651,912,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="740,701,909,728"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1675,575,1809,601"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1187,245,1251,272"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1182,93,1257,120"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1494,423,1625,449"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1323,347,1444,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1325,93,1442,120"/>
<area shape="rect" id="node16" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1679,448,1805,475"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1695,397,1789,424"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="749,869,901,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="769,971,880,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="745,1021,904,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="766,920,883,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="771,1072,878,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="771,1123,878,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="761,1173,889,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="762,195,887,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="757,448,892,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="759,499,891,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="769,347,880,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="745,397,904,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1499,144,1620,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1184,405,1255,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1164,565,1275,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1326,499,1441,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1341,397,1426,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="783,296,867,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="757,245,892,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1177,616,1261,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="975,616,1101,643"/>
</map>
</div>

</div>
</div>
<a id="a331a33f7fee55ff1b471c9effa059659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a331a33f7fee55ff1b471c9effa059659">&#9670;&nbsp;</a></span>gfs2_trim_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_trim_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_cgraph" id="gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="175,545,253,572"/>
<area shape="rect" id="node3" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="941,241,1007,268"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="303,545,387,572"/>
<area shape="rect" id="node20" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="482,849,593,876"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="301,1482,389,1509"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="498,494,577,521"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1124,1196,1205,1222"/>
<area shape="rect" id="node6" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="925,494,1023,521"/>
<area shape="rect" id="node7" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="705,874,827,901"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="685,1200,847,1226"/>
<area shape="rect" id="node15" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="693,1330,839,1357"/>
<area shape="rect" id="node21" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="693,292,839,318"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="459,165,615,192"/>
<area shape="rect" id="node26" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="719,722,813,749"/>
<area shape="rect" id="node27" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="707,672,825,698"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="457,646,617,673"/>
<area shape="rect" id="node29" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="711,773,821,800"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="919,849,1029,876"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="913,900,1035,926"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="908,1188,1040,1230"/>
<area shape="rect" id="node12" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="923,1137,1025,1164"/>
<area shape="rect" id="node13" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1121,1137,1208,1164"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1276,1137,1376,1164"/>
<area shape="rect" id="node16" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="923,1254,1025,1281"/>
<area shape="rect" id="node17" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="916,1305,1032,1332"/>
<area shape="rect" id="node18" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="909,1356,1039,1382"/>
<area shape="rect" id="node19" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="939,1406,1009,1433"/>
<area shape="rect" id="node23" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="692,140,840,166"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="707,38,825,65"/>
<area shape="rect" id="node25" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="703,444,829,470"/>
<area shape="rect" id="node31" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="496,1204,579,1230"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="485,1356,589,1382"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="477,1558,598,1585"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="473,1660,602,1686"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="1101,1086,1228,1113"/>
<area shape="rect" id="node36" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="470,1052,605,1078"/>
<area shape="rect" id="node37" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="694,1149,838,1176"/>
<area shape="rect" id="node38" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="479,1609,596,1636"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="701,1660,831,1686"/>
<area shape="rect" id="node40" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="437,1761,637,1788"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="468,1305,607,1332"/>
<area shape="rect" id="node42" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="691,1457,841,1484"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="495,1862,579,1889"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="481,1964,594,1990"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="482,2065,593,2092"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="469,1457,605,1484"/>
<area shape="rect" id="node47" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="907,1862,1041,1889"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="475,2116,600,2142"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="895,342,1053,369"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_icgraph" id="gfs2_2bmap_8c_a331a33f7fee55ff1b471c9effa059659_icgraph">
<area shape="rect" id="node2" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1149,93,1269,120"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="175,144,331,171"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1141,397,1276,424"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="379,195,500,221"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1150,245,1267,272"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="404,625,475,652"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="384,93,495,120"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1341,245,1444,272"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1500,245,1647,272"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="551,1487,666,1513"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="566,777,651,804"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="731,625,861,652"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="548,524,669,551"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="747,1563,845,1589"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="717,1461,875,1488"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="739,1512,853,1539"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="946,1512,1061,1539"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="953,1563,1053,1589"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="948,1613,1059,1640"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="958,1664,1049,1691"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="943,1715,1063,1741"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="956,1360,1051,1387"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="929,1411,1077,1437"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="929,1461,1077,1488"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="728,1107,864,1133"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1132,1157,1285,1184"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1333,1056,1452,1083"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1334,1132,1451,1159"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="923,1157,1084,1184"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1158,1107,1259,1133"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="959,955,1047,981"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="940,499,1067,525"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="947,1056,1059,1083"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="957,1259,1050,1285"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1518,980,1629,1007"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1161,499,1256,525"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1145,552,1272,579"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1165,604,1252,631"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1171,657,1246,684"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1160,715,1257,741"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="951,347,1055,373"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1173,791,1244,817"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="924,549,1083,576"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1363,527,1423,553"/>
<area shape="rect" id="node38" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="1339,577,1446,604"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="735,575,857,601"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="746,423,846,449"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="749,473,843,500"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="733,524,859,551"/>
</map>
</div>

</div>
</div>
<a id="aa63fdaa0c472efdf4a6afa24d0297529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa63fdaa0c472efdf4a6afa24d0297529">&#9670;&nbsp;</a></span>gfs2_truncatei_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_truncatei_resume </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_cgraph" id="gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="208,637,296,664"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="405,1532,483,1558"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1013,1228,1094,1254"/>
<area shape="rect" id="node4" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="403,156,485,182"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="392,206,496,233"/>
<area shape="rect" id="node6" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="592,502,753,529"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="383,257,505,284"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="379,308,509,334"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="609,198,736,225"/>
<area shape="rect" id="node19" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="377,713,511,740"/>
<area shape="rect" id="node24" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="601,604,745,630"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="385,1228,503,1254"/>
<area shape="rect" id="node28" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="607,1177,738,1204"/>
<area shape="rect" id="node29" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="344,662,544,689"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="375,873,513,900"/>
<area shape="rect" id="node31" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="597,1076,748,1102"/>
<area shape="rect" id="node37" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="612,1430,733,1457"/>
<area shape="rect" id="node38" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="599,452,746,478"/>
<area shape="rect" id="node39" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="625,1481,720,1508"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="614,1582,731,1609"/>
<area shape="rect" id="node41" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="617,1126,728,1153"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="402,409,486,436"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="387,358,501,385"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="389,105,499,132"/>
<area shape="rect" id="node45" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="376,510,512,537"/>
<area shape="rect" id="node46" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="813,1329,948,1356"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="381,54,507,81"/>
<area shape="rect" id="node7" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="815,567,947,608"/>
<area shape="rect" id="node8" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="830,490,931,517"/>
<area shape="rect" id="node9" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1008,408,1099,434"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="611,249,735,276"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="636,300,709,326"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="621,350,725,377"/>
<area shape="rect" id="node16" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="805,173,956,200"/>
<area shape="rect" id="node17" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="839,224,922,250"/>
<area shape="rect" id="node18" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="831,389,931,416"/>
<area shape="rect" id="node20" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="639,401,706,428"/>
<area shape="rect" id="node21" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="599,655,746,696"/>
<area shape="rect" id="node22" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="607,721,738,748"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a5c55d09a84b98a9fc2b416c1dd9e5b4f" title="gfs2_ri_update" alt="" coords="827,684,934,710"/>
<area shape="rect" id="node26" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="616,1278,729,1305"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="635,1329,710,1356"/>
<area shape="rect" id="node32" href="glops_8c.html#ab6009ec007c0d3fb5f6b4386afd5cbd1" title="gfs2_glock2rgrp" alt="" coords="615,974,730,1001"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="603,1025,742,1052"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="619,822,726,849"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="619,873,726,900"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="617,924,728,950"/>
<area shape="rect" id="node49" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="599,1684,746,1710"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="801,1430,960,1457"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_icgraph" id="gfs2_2bmap_8c_aa63fdaa0c472efdf4a6afa24d0297529_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="437,132,593,159"/>
<area shape="rect" id="node17" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="208,335,385,361"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1192,5,1327,32"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1018,81,1139,108"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1201,81,1318,108"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="681,259,752,285"/>
<area shape="rect" id="node12" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1199,183,1319,209"/>
<area shape="rect" id="node16" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="661,385,772,412"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1375,81,1477,108"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="844,284,959,311"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="859,183,944,209"/>
<area shape="rect" id="node10" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1013,183,1144,209"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="841,385,962,412"/>
<area shape="rect" id="node11" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1211,1668,1308,1695"/>
<area shape="rect" id="node14" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1017,639,1140,665"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1032,385,1125,412"/>
<area shape="rect" id="node18" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="433,335,596,361"/>
<area shape="rect" id="node19" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="449,1212,580,1239"/>
<area shape="rect" id="node20" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="669,1313,765,1340"/>
<area shape="rect" id="node21" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="669,1364,765,1391"/>
<area shape="rect" id="node22" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="644,1415,789,1441"/>
<area shape="rect" id="node23" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="668,1465,765,1492"/>
<area shape="rect" id="node24" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="664,1516,769,1543"/>
<area shape="rect" id="node25" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="664,1567,769,1593"/>
<area shape="rect" id="node26" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="655,1617,778,1644"/>
<area shape="rect" id="node27" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="857,1972,945,1999"/>
<area shape="rect" id="node28" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="670,1820,763,1847"/>
<area shape="rect" id="node29" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="837,1440,965,1467"/>
<area shape="rect" id="node30" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="671,2073,762,2100"/>
<area shape="rect" id="node31" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="675,487,758,513"/>
<area shape="rect" id="node32" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="651,537,782,564"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="651,588,782,615"/>
<area shape="rect" id="node34" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="854,1719,949,1745"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1025,1795,1132,1821"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="653,639,781,665"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="846,1769,957,1796"/>
<area shape="rect" id="node38" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="658,1668,775,1695"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="671,689,762,716"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="671,740,762,767"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="670,841,763,868"/>
<area shape="rect" id="node42" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="659,1972,774,1999"/>
<area shape="rect" id="node43" href="gfs2_2inode_8h.html#aff551f1652b48ec481b3a2f7da5e8c5e" title="gfs2_seek_hole" alt="" coords="660,2023,773,2049"/>
<area shape="rect" id="node44" href="gfs2_2super_8h.html#a109f406a58320724679b20663b96e26d" title="gfs2_make_fs_rw" alt="" coords="654,892,779,919"/>
<area shape="rect" id="node45" href="gfs2_2super_8h.html#a6307b8ec8775f741b641858b7ff93a25" title="gfs2_statfs_init" alt="" coords="661,943,772,969"/>
<area shape="rect" id="node46" href="gfs2_2super_8h.html#a14d22b00dab4b0e2289e41420df684fa" title="gfs2_statfs_sync" alt="" coords="840,639,963,665"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a1b4f6c816cfa8e7def39a68bf376ba0f" title="gfs2_lock_fs_check\l_clean" alt="" coords="647,994,786,1035"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a8f4bb0ccf572f73b364294ef5b126e10" title="gfs2_dirty_inode" alt="" coords="658,1060,775,1087"/>
<area shape="rect" id="node49" href="gfs2_2super_8h.html#aa3f642b735112020fdd5f47b9a458583" title="gfs2_freeze_func" alt="" coords="655,1161,778,1188"/>
<area shape="rect" id="node50" href="gfs2_2super_8c.html#a61977fe7a13e83ce5c3b37061b4ef7ca" title="gfs2_statfs_slow" alt="" coords="656,1212,777,1239"/>
</map>
</div>

</div>
</div>
<a id="ad0fa6c41a0efa993273ca30b3ecb4b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0fa6c41a0efa993273ca30b3ecb4b9d">&#9670;&nbsp;</a></span>gfs2_unstuff_dinode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_unstuff_dinode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph" id="gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph">
<area shape="rect" id="node2" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="231,5,317,32"/>
<area shape="rect" id="node3" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="617,563,778,589"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1061,233,1142,260"/>
<area shape="rect" id="node12" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="211,715,337,741"/>
<area shape="rect" id="node23" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="836,905,983,932"/>
<area shape="rect" id="node35" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="612,613,783,640"/>
<area shape="rect" id="node38" href="gfs2_2dir_8c.html#a31f4b74161a46f186764208ef553a341" title="gfs2_dir_get_new_buffer" alt="" coords="192,1241,356,1268"/>
<area shape="rect" id="node41" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="411,1463,557,1489"/>
<area shape="rect" id="node42" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="201,1343,347,1369"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="627,411,767,437"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="195,107,353,133"/>
<area shape="rect" id="node50" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="197,157,351,184"/>
<area shape="rect" id="node4" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="843,563,975,605"/>
<area shape="rect" id="node10" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="859,629,960,656"/>
<area shape="rect" id="node6" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1044,664,1159,691"/>
<area shape="rect" id="node7" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1219,689,1310,716"/>
<area shape="rect" id="node9" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1215,639,1315,665"/>
<area shape="rect" id="node8" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1363,588,1511,615"/>
<area shape="rect" id="node11" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1058,563,1145,589"/>
<area shape="rect" id="node13" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="415,715,553,741"/>
<area shape="rect" id="node14" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="644,816,751,843"/>
<area shape="rect" id="node18" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="432,1205,536,1232"/>
<area shape="rect" id="node21" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="843,1200,975,1227"/>
<area shape="rect" id="node22" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="635,1069,759,1096"/>
<area shape="rect" id="node30" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="404,968,564,995"/>
<area shape="rect" id="node31" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="451,816,517,843"/>
<area shape="rect" id="node32" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="433,867,535,893"/>
<area shape="rect" id="node33" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="411,461,557,488"/>
<area shape="rect" id="node34" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="416,664,552,691"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="630,335,765,361"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ad5587c13aadc54bd066cad52ed2feb2b" title="gfs2_rgrp_error" alt="" coords="429,512,539,539"/>
<area shape="rect" id="node15" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="628,715,767,741"/>
<area shape="rect" id="node16" href="rgrp_8c.html#acd02e2f3930749f05f29e3d71c2875e1" title="gfs2_rbm_from_block" alt="" coords="836,997,983,1024"/>
<area shape="rect" id="node17" href="incore_8h.html#ada00f94956c6c2f5d11e1af4c38068ec" title="rbm_bi" alt="" coords="1071,1124,1132,1151"/>
<area shape="rect" id="node19" href="rgrp_8c.html#ae4d45f7f8bb24592e8ae111a221c31b6" title="gfs2_bitfit" alt="" coords="658,1237,737,1264"/>
<area shape="rect" id="node20" href="rgrp_8c.html#a83ef63418e36b209d851e9aa3b907ad8" title="gfs2_reservation_check\l_and_update" alt="" coords="617,1171,777,1213"/>
<area shape="rect" id="node28" href="rgrp_8c.html#a0baf59c658235489d2bfdf5eca3db4a3" title="gfs2_setbit" alt="" coords="866,1099,953,1125"/>
<area shape="rect" id="node29" href="rgrp_8c.html#aa03fe5cb24567d091c5d1720558aeb6f" title="gfs2_testbit" alt="" coords="864,1149,955,1176"/>
<area shape="rect" id="node24" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1050,765,1153,792"/>
<area shape="rect" id="node25" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1043,917,1159,944"/>
<area shape="rect" id="node26" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1036,816,1167,843"/>
<area shape="rect" id="node27" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1066,867,1137,893"/>
<area shape="rect" id="node39" href="meta__io_8c.html#a345c9d6c392fcdc903ce6dfa26f4a56f" title="gfs2_meta_new" alt="" coords="640,1389,755,1416"/>
<area shape="rect" id="node40" href="gfs2_2util_8h.html#a4bce60b6896701bc5e3ce7c71e9c9be5" title="gfs2_metatype_set" alt="" coords="417,1412,551,1439"/>
<area shape="rect" id="node44" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="831,309,988,336"/>
<area shape="rect" id="node45" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="1052,461,1151,488"/>
<area shape="rect" id="node46" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="848,360,971,387"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="846,411,973,437"/>
<area shape="rect" id="node48" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="838,765,981,792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph" id="gfs2_2bmap_8c_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph">
<area shape="rect" id="node2" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="368,119,503,145"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1704,435,1839,461"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="199,37,313,64"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#affcbbfb7179f0171210e1054502215f4" title="gfs2_adjust_quota" alt="" coords="192,853,320,880"/>
<area shape="rect" id="node38" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1711,612,1831,639"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1177,853,1248,880"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1500,853,1656,880"/>
<area shape="rect" id="node3" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="569,93,663,120"/>
<area shape="rect" id="node10" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="551,144,681,171"/>
<area shape="rect" id="node11" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="571,43,661,69"/>
<area shape="rect" id="node4" href="gfs2_2dir_8h.html#a91bf65f8fa960783b5f2f1ea69227a41" title="gfs2_dir_add" alt="" coords="974,144,1070,171"/>
<area shape="rect" id="node5" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1169,245,1256,272"/>
<area shape="rect" id="node7" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1175,144,1250,171"/>
<area shape="rect" id="node8" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1164,93,1261,120"/>
<area shape="rect" id="node6" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1324,245,1452,272"/>
<area shape="rect" id="node9" href="gfs2_2inode_8c.html#a65b8dddef202808a3558df265fe3e481" title="gfs2_rename2" alt="" coords="1336,93,1440,120"/>
<area shape="rect" id="node12" href="gfs2_2dir_8h.html#a79f50f721c6291b4244a76e1f5dcf0a6" title="gfs2_dir_exhash_dealloc" alt="" coords="729,43,895,69"/>
<area shape="rect" id="node13" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="962,43,1082,69"/>
<area shape="rect" id="node14" href="gfs2_2dir_8h.html#ae24470d78573580a612e8af307339708" title="gfs2_dir_no_add" alt="" coords="963,93,1081,120"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1887,752,2004,779"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2052,752,2155,779"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2203,752,2349,779"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="400,853,471,880"/>
<area shape="rect" id="node44" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1716,1107,1827,1133"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="559,853,673,880"/>
<area shape="rect" id="node31" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="573,625,659,652"/>
<area shape="rect" id="node33" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="747,625,877,652"/>
<area shape="rect" id="node46" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="555,1005,677,1032"/>
<area shape="rect" id="node23" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="763,803,861,829"/>
<area shape="rect" id="node24" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="733,853,891,880"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="755,904,869,931"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="965,1005,1079,1032"/>
<area shape="rect" id="node27" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="972,1056,1072,1083"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="967,1107,1077,1133"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="977,904,1067,931"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="962,955,1082,981"/>
<area shape="rect" id="node32" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="744,575,880,601"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1149,549,1276,576"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1165,397,1260,424"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1336,803,1440,829"/>
<area shape="rect" id="node39" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="967,701,1077,728"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="943,397,1101,424"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1533,803,1623,829"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1327,853,1449,880"/>
<area shape="rect" id="node43" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1711,853,1832,880"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="751,1107,873,1133"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="762,955,862,981"/>
<area shape="rect" id="node49" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="765,1005,859,1032"/>
<area shape="rect" id="node50" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="749,1056,875,1083"/>
</map>
</div>

</div>
</div>
<a id="acc5d25d638ba966a4b7c8b1751eb17ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc5d25d638ba966a4b7c8b1751eb17ea">&#9670;&nbsp;</a></span>gfs2_unstuffer_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gfs2_unstuffer_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>dibh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_cgraph" id="gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="193,5,351,32"/>
<area shape="rect" id="node4" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="198,943,346,969"/>
<area shape="rect" id="node12" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="431,107,529,133"/>
<area shape="rect" id="node13" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="211,1069,333,1096"/>
<area shape="rect" id="node24" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="209,107,335,133"/>
<area shape="rect" id="node25" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="201,284,343,311"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="879,56,960,83"/>
<area shape="rect" id="node5" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="415,1095,545,1121"/>
<area shape="rect" id="node8" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="850,1019,989,1045"/>
<area shape="rect" id="node6" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="637,1095,761,1121"/>
<area shape="rect" id="node9" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="651,1044,747,1071"/>
<area shape="rect" id="node10" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="640,1145,759,1172"/>
<area shape="rect" id="node11" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="613,1196,785,1223"/>
<area shape="rect" id="node7" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="862,1120,977,1147"/>
<area shape="rect" id="node14" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="419,1171,541,1197"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="413,1305,547,1332"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="609,1298,789,1339"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="629,1363,769,1405"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="633,1429,766,1470"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="630,1247,769,1273"/>
<area shape="rect" id="node17" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="874,1331,965,1357"/>
<area shape="rect" id="node18" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="896,1280,943,1307"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="844,1461,995,1488"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="837,1411,1001,1437"/>
<area shape="rect" id="node26" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="886,132,953,159"/>
<area shape="rect" id="node27" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="399,461,561,488"/>
<area shape="rect" id="node40" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="868,436,971,463"/>
<area shape="rect" id="node41" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="861,537,977,564"/>
<area shape="rect" id="node48" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="430,892,530,919"/>
<area shape="rect" id="node49" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="415,841,545,868"/>
<area shape="rect" id="node50" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="445,157,515,184"/>
<area shape="rect" id="node28" href="log_8h.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="620,81,779,108"/>
<area shape="rect" id="node29" href="log_8h.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="644,588,755,615"/>
<area shape="rect" id="node30" href="log_8h.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="639,639,759,665"/>
<area shape="rect" id="node31" href="log_8h.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="639,841,760,868"/>
<area shape="rect" id="node33" href="log_8h.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="623,233,775,260"/>
<area shape="rect" id="node39" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="646,436,753,463"/>
<area shape="rect" id="node42" href="log_8h.html#ae8f65d81947f613b6bc8a72eee3a3914" title="gfs2_log_commit" alt="" coords="639,689,760,716"/>
<area shape="rect" id="node43" href="log_8h.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="645,740,754,767"/>
<area shape="rect" id="node44" href="log_8h.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="632,335,767,361"/>
<area shape="rect" id="node45" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="660,385,739,412"/>
<area shape="rect" id="node46" href="log_8h.html#a0297e2aea09918000f7fa38e5c5bdd1a" title="gfs2_add_revoke" alt="" coords="639,487,760,513"/>
<area shape="rect" id="node47" href="log_8h.html#ab7e46234b65750a6c63ac54cc636f75d" title="gfs2_write_revokes" alt="" coords="632,537,767,564"/>
<area shape="rect" id="node32" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="859,841,979,868"/>
<area shape="rect" id="node34" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="894,233,945,260"/>
<area shape="rect" id="node35" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="864,284,975,311"/>
<area shape="rect" id="node36" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="866,335,973,361"/>
<area shape="rect" id="node37" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="1049,335,1180,361"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="867,385,972,412"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_icgraph" id="gfs2_2bmap_8c_acc5d25d638ba966a4b7c8b1751eb17ea_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="193,752,332,779"/>
<area shape="rect" id="node3" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="556,188,691,215"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1892,499,2027,525"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="387,75,501,101"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#affcbbfb7179f0171210e1054502215f4" title="gfs2_adjust_quota" alt="" coords="380,853,508,880"/>
<area shape="rect" id="node38" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1899,708,2019,735"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1365,853,1436,880"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1688,853,1844,880"/>
<area shape="rect" id="node4" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="757,169,851,196"/>
<area shape="rect" id="node11" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="739,220,869,247"/>
<area shape="rect" id="node12" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="759,105,849,132"/>
<area shape="rect" id="node5" href="gfs2_2dir_8h.html#a91bf65f8fa960783b5f2f1ea69227a41" title="gfs2_dir_add" alt="" coords="1162,195,1258,221"/>
<area shape="rect" id="node6" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1357,296,1444,323"/>
<area shape="rect" id="node8" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1363,144,1438,171"/>
<area shape="rect" id="node9" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1352,195,1449,221"/>
<area shape="rect" id="node7" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1512,296,1640,323"/>
<area shape="rect" id="node10" href="gfs2_2inode_8c.html#a65b8dddef202808a3558df265fe3e481" title="gfs2_rename2" alt="" coords="1524,195,1628,221"/>
<area shape="rect" id="node13" href="gfs2_2dir_8h.html#a79f50f721c6291b4244a76e1f5dcf0a6" title="gfs2_dir_exhash_dealloc" alt="" coords="917,93,1083,120"/>
<area shape="rect" id="node14" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1150,43,1270,69"/>
<area shape="rect" id="node15" href="gfs2_2dir_8h.html#ae24470d78573580a612e8af307339708" title="gfs2_dir_no_add" alt="" coords="1151,93,1269,120"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="2075,600,2192,627"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2240,600,2343,627"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2391,600,2537,627"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="588,853,659,880"/>
<area shape="rect" id="node44" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1904,1125,2015,1152"/>
<area shape="rect" id="node23" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="747,853,861,880"/>
<area shape="rect" id="node31" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="761,663,847,689"/>
<area shape="rect" id="node33" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="935,575,1065,601"/>
<area shape="rect" id="node46" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="743,1005,865,1032"/>
<area shape="rect" id="node24" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="951,803,1049,829"/>
<area shape="rect" id="node25" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="921,853,1079,880"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="943,904,1057,931"/>
<area shape="rect" id="node27" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1153,1005,1267,1032"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1160,1056,1260,1083"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1155,904,1265,931"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1165,955,1255,981"/>
<area shape="rect" id="node32" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="932,663,1068,689"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1337,549,1464,576"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1353,347,1448,373"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1524,752,1628,779"/>
<area shape="rect" id="node39" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1155,600,1265,627"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1131,448,1289,475"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1721,752,1811,779"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1515,853,1637,880"/>
<area shape="rect" id="node43" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1899,847,2020,873"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="939,1107,1061,1133"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="950,955,1050,981"/>
<area shape="rect" id="node49" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="953,1005,1047,1032"/>
<area shape="rect" id="node50" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="937,1056,1063,1083"/>
</map>
</div>

</div>
</div>
<a id="a387e01f7e9342482f871adac9a2f1f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387e01f7e9342482f871adac9a2f1f3e">&#9670;&nbsp;</a></span>gfs2_write_alloc_required()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_write_alloc_required </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_write_alloc_required - figure out if a write will require an allocation : the file being written to : the offset to write to : the number of bytes being written</p>
<p>Returns: 1 if an alloc is required, 0 otherwise </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_cgraph" id="gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1433,568,1514,594"/>
<area shape="rect" id="node3" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="606,112,717,138"/>
<area shape="rect" id="node4" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="388,10,545,37"/>
<area shape="rect" id="node5" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="619,213,704,240"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="223,162,340,189"/>
<area shape="rect" id="node7" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="821,314,888,341"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="403,492,530,518"/>
<area shape="rect" id="node9" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="593,264,729,290"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="619,720,704,746"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="980,770,1141,797"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="803,517,907,544"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="601,618,722,645"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="1015,517,1106,544"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="789,669,921,696"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="599,998,724,1025"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="612,416,711,442"/>
<area shape="rect" id="node27" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="600,948,723,974"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="623,466,700,493"/>
<area shape="rect" id="node12" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1209,786,1341,827"/>
<area shape="rect" id="node16" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1224,852,1325,878"/>
<area shape="rect" id="node13" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1416,793,1531,820"/>
<area shape="rect" id="node14" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1591,818,1682,845"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1587,894,1687,921"/>
<area shape="rect" id="node17" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1430,894,1517,921"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="793,618,917,645"/>
<area shape="rect" id="node23" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1209,720,1341,762"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="1238,517,1311,544"/>
<area shape="rect" id="node28" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1201,1226,1348,1253"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="777,872,932,898"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="791,1024,918,1050"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1189,1290,1360,1317"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="805,922,904,949"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="795,1328,915,1354"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="987,1429,1134,1456"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="781,1429,928,1456"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1195,618,1354,645"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="796,1480,913,1506"/>
<area shape="rect" id="node29" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1422,1316,1525,1342"/>
<area shape="rect" id="node30" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1415,1265,1531,1292"/>
<area shape="rect" id="node31" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1408,1164,1539,1190"/>
<area shape="rect" id="node32" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1438,1214,1509,1241"/>
<area shape="rect" id="node35" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="991,872,1130,898"/>
<area shape="rect" id="node36" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="1221,902,1328,929"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="1009,973,1113,1000"/>
<area shape="rect" id="node38" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="999,1176,1123,1202"/>
<area shape="rect" id="node39" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="1209,1074,1341,1101"/>
<area shape="rect" id="node40" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="981,922,1141,949"/>
<area shape="rect" id="node41" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1027,1024,1094,1050"/>
<area shape="rect" id="node42" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="1010,1125,1111,1152"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_icgraph" id="gfs2_2bmap_8c_a387e01f7e9342482f871adac9a2f1f3e_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1235,252,1369,278"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1243,964,1361,990"/>
<area shape="rect" id="node6" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="237,1192,364,1218"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1242,786,1362,813"/>
<area shape="rect" id="node35" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="461,672,531,698"/>
<area shape="rect" id="node48" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="441,1014,551,1041"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="223,888,379,914"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1417,964,1520,990"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1568,964,1715,990"/>
<area shape="rect" id="node7" href="gfs2_2super_8c.html#a1b4f6c816cfa8e7def39a68bf376ba0f" title="gfs2_lock_fs_check\l_clean" alt="" coords="427,1416,565,1458"/>
<area shape="rect" id="node9" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="437,1065,555,1092"/>
<area shape="rect" id="node23" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="849,1166,933,1193"/>
<area shape="rect" id="node26" href="recovery_8h.html#a694e7952cec81ece9ae29b217be8c836" title="gfs2_recover_func" alt="" coords="431,1318,561,1345"/>
<area shape="rect" id="node34" href="ops__fstype_8c.html#af14274fa86e1adb8f097a0e9512f8af6" title="check_journal_clean" alt="" coords="614,1166,754,1193"/>
<area shape="rect" id="node8" href="gfs2_2super_8c.html#a0f0cbdcd9e6989fbb21ef66a76ae45b4" title="gfs2_freeze" alt="" coords="639,1470,729,1497"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="641,697,727,724"/>
<area shape="rect" id="node11" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="823,913,959,940"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="826,584,957,610"/>
<area shape="rect" id="node13" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1239,432,1365,458"/>
<area shape="rect" id="node14" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1255,496,1349,522"/>
<area shape="rect" id="node15" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1259,604,1345,630"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1265,682,1339,709"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1253,308,1351,334"/>
<area shape="rect" id="node18" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1055,558,1159,585"/>
<area shape="rect" id="node20" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1052,609,1163,636"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1267,368,1337,394"/>
<area shape="rect" id="node22" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1028,508,1187,534"/>
<area shape="rect" id="node24" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1065,1166,1149,1193"/>
<area shape="rect" id="node25" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1265,1166,1339,1193"/>
<area shape="rect" id="node27" href="ops__fstype_8c.html#a0a1a516458d25780b5d5c485ec671c18" title="gfs2_jindex_hold" alt="" coords="625,1268,743,1294"/>
<area shape="rect" id="node28" href="recovery_8h.html#a1aba8c6577196b77fa30054b89455572" title="gfs2_replay_incr_blk" alt="" coords="613,1318,755,1345"/>
<area shape="rect" id="node29" href="gfs2_2recovery_8c.html#a7700c051a64d506a6556b5a8f1200ed5" title="foreach_descriptor" alt="" coords="827,1420,956,1446"/>
<area shape="rect" id="node30" href="gfs2_2recovery_8c.html#aece44f5b840a4164271292380e3a7bba" title="clean_journal" alt="" coords="842,1369,941,1396"/>
<area shape="rect" id="node31" href="lops_8c.html#ace4c0a2710d0572aec439a9e4c8e7046" title="buf_lo_scan_elements" alt="" coords="815,1318,967,1345"/>
<area shape="rect" id="node32" href="lops_8c.html#adefd7d2f659de00d9a44aeb894a8acbc" title="revoke_lo_scan_elements" alt="" coords="805,1217,978,1244"/>
<area shape="rect" id="node33" href="lops_8c.html#ae978a4a96602c1a225dcea409bb50201" title="databuf_lo_scan_elements" alt="" coords="803,1268,980,1294"/>
<area shape="rect" id="node36" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="627,432,741,458"/>
<area shape="rect" id="node43" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="623,204,745,230"/>
<area shape="rect" id="node37" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="842,406,941,433"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="813,457,970,484"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="834,305,949,332"/>
<area shape="rect" id="node40" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1050,204,1165,230"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1057,102,1157,129"/>
<area shape="rect" id="node42" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1052,153,1163,180"/>
<area shape="rect" id="node44" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="830,153,953,180"/>
<area shape="rect" id="node45" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="841,204,941,230"/>
<area shape="rect" id="node46" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="845,254,938,281"/>
<area shape="rect" id="node47" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="829,102,954,129"/>
<area shape="rect" id="node50" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="435,964,557,990"/>
</map>
</div>

</div>
</div>
<a id="acd86373e635198d7c4d071eb45de04b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd86373e635198d7c4d071eb45de04b4">&#9670;&nbsp;</a></span>hole_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 hole_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>lblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>hole_size - figure out the size of a hole : The inode : The logical starting block number : The metapath</p>
<p>Returns: The hole size in bytes </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_cgraph" id="gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="149,5,216,32"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="142,56,223,83"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="131,107,235,133"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="137,157,228,184"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="283,157,356,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_icgraph" id="gfs2_2bmap_8c_acd86373e635198d7c4d071eb45de04b4_icgraph">
<area shape="rect" id="node2" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="142,107,271,133"/>
<area shape="rect" id="node10" href="ocfs2_2extent__map_8h.html#a5c4d588701f62967bea614ebc813f4fc" title="ocfs2_fiemap" alt="" coords="157,368,257,395"/>
<area shape="rect" id="node11" href="ocfs2_2extent__map_8h.html#add79623735aba9b661a0be89560439f5" title="ocfs2_seek_data_hole\l_offset" alt="" coords="131,419,283,461"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a3dee5a25d21892e8ba315d56b670d5b2" title="btrfs_log_trailing_hole" alt="" coords="133,485,281,512"/>
<area shape="rect" id="node19" href="volumes_8h.html#a0e80595464fc88905049a015da9e65df" title="find_free_dev_extent\l_start" alt="" coords="135,302,278,343"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="143,764,270,791"/>
<area shape="rect" id="node3" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="343,5,475,32"/>
<area shape="rect" id="node4" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="357,56,461,83"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="360,107,457,133"/>
<area shape="rect" id="node8" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="350,157,467,184"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="795,169,887,196"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="973,252,1148,279"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="547,157,697,184"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#a2182ca4b7641efbed4cd740ba2bd079e" title="ocfs2_file_llseek" alt="" coords="349,427,468,453"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="353,485,464,512"/>
<area shape="rect" id="node15" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="550,485,694,512"/>
<area shape="rect" id="node16" href="tree-log_8c.html#a112051f20b5acc5a264b30d8dd895188" title="btrfs_log_all_parents" alt="" coords="770,536,913,563"/>
<area shape="rect" id="node17" href="tree-log_8c.html#af0a778dcb844dce522fcda55469c9542" title="btrfs_log_inode_parent" alt="" coords="984,485,1137,512"/>
<area shape="rect" id="node18" href="tree-log_8h.html#a893af862b659dd6c5a2fb1f2ced66d62" title="btrfs_log_dentry_safe" alt="" coords="1196,485,1343,512"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="331,233,487,260"/>
<area shape="rect" id="node22" href="volumes_8h.html#a0b2ef2ee1d57b316d9e040b9b4fed251" title="find_free_dev_extent" alt="" coords="337,309,480,336"/>
<area shape="rect" id="node25" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="587,360,657,387"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="575,208,669,235"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="557,259,687,285"/>
<area shape="rect" id="node24" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="553,309,691,336"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="766,333,917,360"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="757,384,925,411"/>
<area shape="rect" id="node28" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="789,283,893,309"/>
<area shape="rect" id="node30" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="785,1347,898,1373"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="350,941,467,968"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="763,1043,919,1069"/>
<area shape="rect" id="node31" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1211,1144,1328,1171"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="774,753,909,794"/>
<area shape="rect" id="node35" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="591,789,653,816"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="542,840,702,867"/>
<area shape="rect" id="node37" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="543,891,701,917"/>
<area shape="rect" id="node38" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="547,941,697,968"/>
<area shape="rect" id="node39" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="561,992,683,1019"/>
<area shape="rect" id="node40" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="565,1043,679,1069"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1001,1195,1121,1221"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="579,1144,665,1171"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="561,1093,683,1120"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="544,1195,700,1221"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="535,688,709,715"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="537,1245,707,1272"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="993,941,1128,968"/>
<area shape="rect" id="node45" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1000,992,1121,1019"/>
<area shape="rect" id="node46" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1025,1144,1096,1171"/>
<area shape="rect" id="node47" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1005,1093,1116,1120"/>
</map>
</div>

</div>
</div>
<a id="ad2c3ab1e7227cce8cd593bf4e9f5012e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c3ab1e7227cce8cd593bf4e9f5012e">&#9670;&nbsp;</a></span>lookup_metapath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lookup_metapath </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lookup_metapath - Walk the metadata tree to a specific point : The inode : The metapath</p>
<p>Assumes that the inode's buffer has already been looked up and hooked onto mp-&gt;mp_bh[0] and that the metapath has been initialised by <a class="el" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b">find_metapath()</a>.</p>
<p>If this function encounters part of the tree which has not been allocated, it returns the current height of the tree at the point at which it found the unallocated block. Blocks which are found are added to the mp-&gt;mp_bh[] list.</p>
<p>Returns: error </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_cgraph" id="gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="175,1019,299,1045"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="367,989,458,1016"/>
<area shape="rect" id="node5" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="347,1041,479,1082"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="547,989,621,1016"/>
<area shape="rect" id="node6" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="543,1044,625,1071"/>
<area shape="rect" id="node7" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="527,1095,641,1121"/>
<area shape="rect" id="node8" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="719,1019,810,1045"/>
<area shape="rect" id="node46" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1141,1120,1241,1147"/>
<area shape="rect" id="node47" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="689,1120,840,1147"/>
<area shape="rect" id="node49" href="meta__io_8c.html#a8cc74b7c0b63694aa67fef1f20e85704" title="gfs2_submit_bhs" alt="" coords="704,1196,825,1223"/>
<area shape="rect" id="node9" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="912,537,1047,564"/>
<area shape="rect" id="node43" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="905,1019,1053,1045"/>
<area shape="rect" id="node10" href="glock_8h.html#abcc871c62234b39ac052fe6a6a8b3f14" title="gfs2_glock_get" alt="" coords="1135,512,1246,539"/>
<area shape="rect" id="node21" href="glock_8h.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="1133,563,1249,589"/>
<area shape="rect" id="node22" href="glock_8h.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1585,715,1695,741"/>
<area shape="rect" id="node23" href="glock_8h.html#ac3ebc62375a395dc7d14db5e0df98782" title="gfs2_glock_queue_put" alt="" coords="1335,233,1487,260"/>
<area shape="rect" id="node25" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="1134,816,1247,843"/>
<area shape="rect" id="node27" href="glock_8h.html#ac995caba0534a5669bf2ed4a9add045b" title="gfs2_holder_reinit" alt="" coords="1129,765,1253,792"/>
<area shape="rect" id="node28" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="1127,664,1254,691"/>
<area shape="rect" id="node30" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="1357,107,1464,133"/>
<area shape="rect" id="node33" href="glock_8h.html#aa415d68b6b43fb6556c729cb6b1a4c21" title="gfs2_glock_poll" alt="" coords="1135,917,1247,944"/>
<area shape="rect" id="node34" href="glock_8h.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1133,968,1249,995"/>
<area shape="rect" id="node35" href="glock_8h.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="1357,411,1464,437"/>
<area shape="rect" id="node37" href="glock_8h.html#a8dd8434f3f5b346d7a9827fbbe3846e1" title="gfs2_glock_dq_wait" alt="" coords="1122,157,1259,184"/>
<area shape="rect" id="node38" href="glock_8h.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="1119,208,1263,235"/>
<area shape="rect" id="node39" href="glock_8h.html#a96a5b213798300843706f6723fce5780" title="gfs2_glock_nq_num" alt="" coords="1341,613,1480,640"/>
<area shape="rect" id="node40" href="glock_8h.html#ad725a4c62857cc81a85c2f8c8aebdf70" title="gfs2_glock_nq_m" alt="" coords="1129,309,1253,336"/>
<area shape="rect" id="node41" href="glock_8h.html#a935b12383ca917515597a0d954071c6a" title="gfs2_glock_dq_m" alt="" coords="1129,360,1253,387"/>
<area shape="rect" id="node42" href="glock_8h.html#a7fc5c3f221967b86171f729566c20928" title="gfs2_dump_glock" alt="" coords="1129,411,1253,437"/>
<area shape="rect" id="node11" href="glock_8c.html#a4ad4727942bb2d8e026d026c633a8df2" title="find_insert_glock" alt="" coords="1351,563,1471,589"/>
<area shape="rect" id="node12" href="glock_8c.html#adcd488b47b9c7bafb5f2d295e78c529d" title="glock_work_func" alt="" coords="1351,461,1471,488"/>
<area shape="rect" id="node19" href="glock_8c.html#aa98af1497e21810b901485b7d45184c4" title="delete_work_func" alt="" coords="1349,512,1473,539"/>
<area shape="rect" id="node13" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="1613,461,1667,488"/>
<area shape="rect" id="node14" href="glock_8c.html#a608f02d2850f41d3e7c6736af8b2db1c" title="run_queue" alt="" coords="1599,309,1681,336"/>
<area shape="rect" id="node16" href="glock_8c.html#a1ad999039c6b5fc4a2abca1c2a5f50b6" title="__gfs2_glock_queue_work" alt="" coords="1769,259,1945,285"/>
<area shape="rect" id="node17" href="glock_8c.html#a3fbd1c29f3c83af19d4f291c1a7c55cc" title="__gfs2_glock_put" alt="" coords="1795,613,1919,640"/>
<area shape="rect" id="node15" href="glock_8c.html#a66a6e81723ec8d41cb93a3dac8a70eb5" title="find_first_holder" alt="" coords="1800,360,1915,387"/>
<area shape="rect" id="node18" href="glock_8c.html#ac39c13c82bea3abc477816634c69d74a" title="gfs2_glock_remove_from_lru" alt="" coords="1993,360,2183,387"/>
<area shape="rect" id="node20" href="glock_8c.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1585,613,1695,640"/>
<area shape="rect" id="node24" href="glock_8c.html#aa2948bc5d5184ce3180b6008c780e871" title="gfs2_glock_queue_work" alt="" coords="1559,208,1721,235"/>
<area shape="rect" id="node26" href="glock_8c.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="1353,816,1469,843"/>
<area shape="rect" id="node29" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="1311,715,1511,741"/>
<area shape="rect" id="node31" href="glock_8c.html#ae0f5c28a461c19117d12efd28ba09629" title="add_to_queue" alt="" coords="1589,5,1691,32"/>
<area shape="rect" id="node32" href="glock_8c.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1582,56,1698,83"/>
<area shape="rect" id="node36" href="glock_8c.html#a5a97abf1e0ccd0d7bccc107cb853acdd" title="handle_callback" alt="" coords="1583,360,1697,387"/>
<area shape="rect" id="node44" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1125,1019,1256,1045"/>
<area shape="rect" id="node45" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1341,1120,1480,1147"/>
<area shape="rect" id="node48" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="888,1120,1071,1147"/>
<area shape="rect" id="node50" href="meta__io_8c.html#a6da2ae061883a4b99f85d25256db105f" title="gfs2_meta_read_endio" alt="" coords="903,1221,1056,1248"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_icgraph" id="gfs2_2bmap_8c_ad2c3ab1e7227cce8cd593bf4e9f5012e_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="175,379,301,405"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="773,1265,861,1292"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1393,5,1507,32"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="349,657,467,684"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1372,809,1528,836"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1926,759,2043,785"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2100,1012,2203,1039"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1735,563,1869,605"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="571,328,633,355"/>
<area shape="rect" id="node13" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1925,1063,2045,1089"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="522,492,682,519"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="523,581,681,608"/>
<area shape="rect" id="node20" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="527,657,677,684"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="541,708,663,735"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="545,809,659,836"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="559,759,645,785"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="541,936,663,963"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="524,1164,680,1191"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="515,201,689,228"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="1151,1113,1320,1140"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1917,809,2052,836"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="785,353,849,380"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="779,303,854,329"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1737,860,1867,887"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="741,455,893,481"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="761,607,872,633"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="737,505,896,532"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="758,556,875,583"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="763,657,870,684"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="763,759,870,785"/>
<area shape="rect" id="node24" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="753,708,881,735"/>
<area shape="rect" id="node27" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="754,809,879,836"/>
<area shape="rect" id="node29" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="749,1012,884,1039"/>
<area shape="rect" id="node30" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="751,1063,883,1089"/>
<area shape="rect" id="node31" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="761,911,872,937"/>
<area shape="rect" id="node32" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="737,961,896,988"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1741,267,1863,293"/>
<area shape="rect" id="node35" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1596,961,1667,988"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1576,911,1687,937"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="775,1164,859,1191"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="954,1215,1089,1241"/>
<area shape="rect" id="node39" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="982,1164,1061,1191"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="1175,1063,1296,1089"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1174,860,1297,887"/>
<area shape="rect" id="node44" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="775,151,859,177"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="944,1316,1099,1343"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="962,1265,1081,1292"/>
<area shape="rect" id="node48" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="1147,1316,1324,1343"/>
<area shape="rect" id="node50" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1175,1265,1295,1292"/>
</map>
</div>

</div>
</div>
<a id="a7ef842b058cdf65eab0b96f96d10555b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef842b058cdf65eab0b96f96d10555b">&#9670;&nbsp;</a></span>metapath_branch_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int metapath_branch_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a7ef842b058cdf65eab0b96f96d10555b_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a7ef842b058cdf65eab0b96f96d10555b_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a7ef842b058cdf65eab0b96f96d10555b_icgraph" id="gfs2_2bmap_8c_a7ef842b058cdf65eab0b96f96d10555b_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="208,144,331,171"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="379,144,505,171"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1692,68,1805,95"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="553,651,671,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1149,363,1305,389"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1873,169,1990,196"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2047,68,2149,95"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2197,68,2344,95"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1681,702,1816,743"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="1197,148,1258,175"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1871,709,1991,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="719,869,879,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="719,945,878,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="724,1047,873,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="738,1123,859,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="741,372,856,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="755,271,842,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="737,487,860,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="721,423,877,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="927,651,1101,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="929,701,1099,728"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1864,575,1999,601"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1377,253,1441,280"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="1371,93,1446,120"/>
<area shape="rect" id="node16" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1683,423,1814,449"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1512,347,1633,373"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1514,93,1631,120"/>
<area shape="rect" id="node17" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1868,423,1995,449"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="938,869,1090,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="959,971,1069,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="935,1021,1093,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="955,920,1073,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="961,1072,1067,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="961,1123,1067,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="950,1173,1078,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="951,195,1077,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="947,448,1081,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="948,499,1080,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="959,347,1069,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="935,397,1093,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1688,144,1809,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1373,405,1444,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1353,565,1464,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1515,499,1630,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1530,397,1615,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="972,296,1056,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="947,245,1081,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1367,616,1451,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="1164,616,1291,643"/>
</map>
</div>

</div>
</div>
<a id="ae07bb1f762b6251a78373eb0f86a096f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07bb1f762b6251a78373eb0f86a096f">&#9670;&nbsp;</a></span>metapointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __be64* metapointer </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>metapointer - Return pointer to start of metadata in a buffer : The metadata height (0 = dinode) : The metapath</p>
<p>Return a pointer to the block number of the next height of the metadata tree given a buffer containing the pointer to the current height of the metadata tree. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_cgraph" id="gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="144,5,217,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_icgraph" id="gfs2_2bmap_8c_ae07bb1f762b6251a78373eb0f86a096f_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="144,557,268,584"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="531,755,657,781"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="145,704,267,731"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="167,923,245,949"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="331,557,453,584"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="337,315,447,341"/>
<area shape="rect" id="node27" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="953,121,1041,148"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1369,865,1483,892"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="736,476,853,503"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1348,452,1504,479"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1735,553,1852,580"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1359,767,1493,809"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="967,628,1028,655"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="917,679,1077,705"/>
<area shape="rect" id="node12" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="918,729,1077,756"/>
<area shape="rect" id="node13" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="923,223,1072,249"/>
<area shape="rect" id="node14" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="937,324,1058,351"/>
<area shape="rect" id="node15" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="940,375,1055,401"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1559,503,1679,529"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="954,476,1041,503"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="1151,447,1274,473"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="919,172,1075,199"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="1125,512,1300,539"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="1128,637,1297,664"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1552,705,1687,732"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1559,452,1680,479"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1584,604,1655,631"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1564,553,1675,580"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1145,223,1280,249"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="1173,71,1252,97"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="1135,172,1290,199"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="1153,121,1272,148"/>
<area shape="rect" id="node34" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="327,1135,457,1161"/>
<area shape="rect" id="node41" href="ocfs2_2extent__map_8h.html#a5c4d588701f62967bea614ebc813f4fc" title="ocfs2_fiemap" alt="" coords="342,1185,442,1212"/>
<area shape="rect" id="node42" href="ocfs2_2extent__map_8h.html#add79623735aba9b661a0be89560439f5" title="ocfs2_seek_data_hole\l_offset" alt="" coords="316,857,468,898"/>
<area shape="rect" id="node44" href="tree-log_8c.html#a3dee5a25d21892e8ba315d56b670d5b2" title="btrfs_log_trailing_hole" alt="" coords="318,923,466,949"/>
<area shape="rect" id="node47" href="volumes_8h.html#a0e80595464fc88905049a015da9e65df" title="find_free_dev_extent\l_start" alt="" coords="321,991,463,1033"/>
<area shape="rect" id="node35" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="528,1261,660,1288"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="542,1109,646,1136"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="545,1160,643,1187"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="535,1211,653,1237"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="749,1160,841,1187"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#acdccfff24b86b70a3eef7c99d6305f3e" title="btrfs_clone_file_range" alt="" coords="720,1211,869,1237"/>
<area shape="rect" id="node43" href="ocfs2_2file_8c.html#a2182ca4b7641efbed4cd740ba2bd079e" title="ocfs2_file_llseek" alt="" coords="535,856,653,883"/>
<area shape="rect" id="node45" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="539,907,649,933"/>
<area shape="rect" id="node46" href="tree-log_8c.html#a1dbb12726b00a10e2cf97e9458573e88" title="log_new_dir_dentries" alt="" coords="723,932,867,959"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="516,957,672,984"/>
<area shape="rect" id="node49" href="volumes_8h.html#a0b2ef2ee1d57b316d9e040b9b4fed251" title="find_free_dev_extent" alt="" coords="523,1059,665,1085"/>
<area shape="rect" id="node50" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="760,1033,829,1060"/>
</map>
</div>

</div>
</div>
<a id="a0794b8ad98df9ac5838ab1de70e902a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0794b8ad98df9ac5838ab1de70e902a2">&#9670;&nbsp;</a></span>metapointer_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void metapointer_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16 *&#160;</td>
          <td class="paramname"><em>start_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>start_aligned</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16 *&#160;</td>
          <td class="paramname"><em>end_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>end_aligned</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 **&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 **&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_cgraph" id="gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="198,5,271,32"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="183,56,287,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_icgraph" id="gfs2_2bmap_8c_a0794b8ad98df9ac5838ab1de70e902a2_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="183,423,271,449"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="357,296,435,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="319,397,473,424"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="551,448,669,475"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="543,499,677,525"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="549,245,671,272"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="549,296,671,323"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1513,63,1633,89"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="750,296,906,323"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1505,132,1640,159"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1331,195,1453,221"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1514,220,1631,247"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="995,296,1065,323"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="975,347,1085,373"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1702,1461,1805,1488"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1867,1487,2013,1513"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1157,347,1272,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1172,296,1257,323"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1327,245,1457,272"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1154,397,1275,424"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1524,1005,1621,1032"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1345,423,1439,449"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="985,448,1075,475"/>
<area shape="rect" id="node23" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="521,397,699,424"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="747,397,909,424"/>
<area shape="rect" id="node25" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="763,1005,893,1032"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="982,1107,1078,1133"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="982,1157,1078,1184"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="957,1208,1103,1235"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="981,1259,1079,1285"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="977,1309,1083,1336"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="977,1360,1083,1387"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="969,1411,1091,1437"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1171,1512,1259,1539"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1707,1575,1800,1601"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1151,1056,1279,1083"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1708,1651,1799,1677"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1351,549,1433,576"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1688,1005,1819,1032"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="965,651,1095,677"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1167,752,1262,779"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1339,727,1445,753"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="966,803,1094,829"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1159,904,1270,931"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="971,1005,1089,1032"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="985,904,1075,931"/>
<area shape="rect" id="node46" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="983,955,1077,981"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="973,1512,1087,1539"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="970,1715,1090,1741"/>
</map>
</div>

</div>
</div>
<a id="aafc7fdbd4059b2023c0de2b990f5b008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc7fdbd4059b2023c0de2b990f5b008">&#9670;&nbsp;</a></span>metaptr1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __be64* metaptr1 </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>metaptr1 - Return the first possible metadata pointer in a metapath buffer : The metadata height (0 = dinode) : The metapath </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_aafc7fdbd4059b2023c0de2b990f5b008_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_aafc7fdbd4059b2023c0de2b990f5b008_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_aafc7fdbd4059b2023c0de2b990f5b008_icgraph" id="gfs2_2bmap_8c_aafc7fdbd4059b2023c0de2b990f5b008_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="146,484,237,511"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="135,131,248,157"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="127,181,256,208"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="304,484,428,511"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="691,619,817,645"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="305,669,427,696"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="327,349,405,376"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="491,568,613,595"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="497,400,607,427"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="710,271,798,297"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1499,1136,1612,1163"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="881,731,998,757"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1477,731,1633,757"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1864,807,1981,833"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1275,1019,1409,1061"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="1096,528,1157,555"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="1047,579,1207,605"/>
<area shape="rect" id="node13" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="1047,629,1206,656"/>
<area shape="rect" id="node14" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="1052,680,1201,707"/>
<area shape="rect" id="node15" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="1066,731,1187,757"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="1069,781,1184,808"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1689,984,1809,1011"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="1083,883,1170,909"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="1281,604,1403,631"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="1049,427,1205,453"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="1255,883,1429,909"/>
<area shape="rect" id="node27" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="1257,933,1427,960"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1681,933,1816,960"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1688,680,1809,707"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1713,781,1784,808"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1693,832,1804,859"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1275,427,1409,453"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="900,275,979,301"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="1265,187,1419,213"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="880,224,999,251"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#a3cb52114528ace72bcecc69949c93392" title="btrfs_cont_expand" alt="" coords="487,80,617,107"/>
<area shape="rect" id="node40" href="ocfs2_2extent__map_8h.html#a5c4d588701f62967bea614ebc813f4fc" title="ocfs2_fiemap" alt="" coords="502,349,602,376"/>
<area shape="rect" id="node41" href="ocfs2_2extent__map_8h.html#add79623735aba9b661a0be89560439f5" title="ocfs2_seek_data_hole\l_offset" alt="" coords="476,233,628,274"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a3dee5a25d21892e8ba315d56b670d5b2" title="btrfs_log_trailing_hole" alt="" coords="478,299,626,325"/>
<area shape="rect" id="node45" href="volumes_8h.html#a0e80595464fc88905049a015da9e65df" title="find_free_dev_extent\l_start" alt="" coords="481,451,623,493"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#a648f5f723e2831eaa490bda3b7902cc8" title="btrfs_file_write_iter" alt="" coords="688,157,820,184"/>
<area shape="rect" id="node37" href="btrfs_2file_8c.html#ad7de43165802579e149ec98de676810e" title="btrfs_fallocate" alt="" coords="702,5,806,32"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="705,56,803,83"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a1313ce6d068dc5c4d70bda44d702af64" title="btrfs_clone_files" alt="" coords="695,107,813,133"/>
<area shape="rect" id="node42" href="ocfs2_2file_8c.html#a2182ca4b7641efbed4cd740ba2bd079e" title="ocfs2_file_llseek" alt="" coords="695,220,813,247"/>
<area shape="rect" id="node44" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="699,321,809,348"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="676,477,832,504"/>
<area shape="rect" id="node47" href="volumes_8h.html#a0b2ef2ee1d57b316d9e040b9b4fed251" title="find_free_dev_extent" alt="" coords="683,427,825,453"/>
<area shape="rect" id="node48" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="905,376,974,403"/>
</map>
</div>

</div>
</div>
<a id="a5033964b6f7e18b5c60a75d9334ed656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5033964b6f7e18b5c60a75d9334ed656">&#9670;&nbsp;</a></span>mp_eq_to_hgt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mp_eq_to_hgt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16 *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a5033964b6f7e18b5c60a75d9334ed656_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a5033964b6f7e18b5c60a75d9334ed656_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a5033964b6f7e18b5c60a75d9334ed656_icgraph" id="gfs2_2bmap_8c_a5033964b6f7e18b5c60a75d9334ed656_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="165,296,279,323"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="157,347,287,373"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="180,397,264,424"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="335,347,423,373"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="509,321,587,348"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="471,372,625,399"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="703,473,821,500"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="695,220,829,247"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="701,271,823,297"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="701,372,823,399"/>
<area shape="rect" id="node6" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1665,245,1785,272"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="902,271,1058,297"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1657,321,1792,348"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1483,93,1605,120"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1666,93,1783,120"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1147,347,1217,373"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1127,397,1237,424"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1840,93,1943,120"/>
<area shape="rect" id="node12" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1991,1101,2137,1128"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1309,296,1424,323"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1324,347,1409,373"/>
<area shape="rect" id="node16" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1479,335,1609,361"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1306,448,1427,475"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1676,853,1773,880"/>
<area shape="rect" id="node19" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1497,473,1591,500"/>
<area shape="rect" id="node22" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1137,448,1227,475"/>
<area shape="rect" id="node24" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="673,423,851,449"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="899,499,1061,525"/>
<area shape="rect" id="node26" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="915,980,1045,1007"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="1134,1107,1230,1133"/>
<area shape="rect" id="node28" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="1134,1157,1230,1184"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="1109,1208,1255,1235"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="1133,1259,1231,1285"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="1129,1309,1235,1336"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="1129,1411,1235,1437"/>
<area shape="rect" id="node33" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="1121,1512,1243,1539"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1847,1373,1935,1400"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1845,1449,1938,1476"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1303,777,1431,804"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1499,651,1589,677"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1850,1079,1933,1105"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1479,1233,1609,1260"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="1117,701,1247,728"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1319,904,1414,931"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1491,929,1597,956"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1118,803,1246,829"/>
<area shape="rect" id="node44" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1311,676,1422,703"/>
<area shape="rect" id="node45" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="1123,853,1241,880"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1122,1613,1242,1640"/>
</map>
</div>

</div>
</div>
<a id="a93f97755d47766a48ec4df929863efb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f97755d47766a48ec4df929863efb4">&#9670;&nbsp;</a></span>punch_hole()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int punch_hole </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>punch_hole - deallocate blocks in a file : inode to truncate : the start of the hole : the size of the hole (or 0 for truncate)</p>
<p>Punch a hole into a file or truncate a file at a given position. This function operates in whole blocks ( and  are rounded accordingly); partially filled blocks must be cleared otherwise.</p>
<p>This function works from the bottom up, and from the right to the left. In other words, it strips off the highest layer (data) before stripping any of the metadata. Doing it this way is best in case the operation is interrupted by power failure, etc. The dinode is rewritten in every transaction to guarantee integrity. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_cgraph" id="gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="840,404,921,431"/>
<area shape="rect" id="node3" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="200,1513,283,1540"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="189,1564,293,1591"/>
<area shape="rect" id="node5" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="389,281,551,308"/>
<area shape="rect" id="node9" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="181,1615,302,1641"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="177,1716,306,1743"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="615,1348,741,1375"/>
<area shape="rect" id="node18" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="174,509,309,536"/>
<area shape="rect" id="node23" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="398,433,542,460"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="183,129,300,156"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="405,180,535,207"/>
<area shape="rect" id="node28" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="141,1868,341,1895"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="172,931,311,957"/>
<area shape="rect" id="node30" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="395,1209,545,1236"/>
<area shape="rect" id="node37" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="409,1412,531,1439"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="605,968,751,995"/>
<area shape="rect" id="node42" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="423,1260,517,1287"/>
<area shape="rect" id="node43" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="411,1159,529,1185"/>
<area shape="rect" id="node44" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="415,1311,525,1337"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="199,1817,283,1844"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="185,1767,298,1793"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="186,1665,297,1692"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="173,357,309,384"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="611,28,745,55"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="179,1919,304,1945"/>
<area shape="rect" id="node6" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="612,350,744,391"/>
<area shape="rect" id="node7" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="627,804,729,831"/>
<area shape="rect" id="node8" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="835,804,926,831"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="408,1640,532,1667"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="433,1716,507,1743"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="418,1767,522,1793"/>
<area shape="rect" id="node15" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="805,1373,956,1400"/>
<area shape="rect" id="node16" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="839,1323,922,1349"/>
<area shape="rect" id="node17" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="831,1120,931,1147"/>
<area shape="rect" id="node19" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="437,383,503,409"/>
<area shape="rect" id="node20" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="397,586,543,627"/>
<area shape="rect" id="node21" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="405,535,535,561"/>
<area shape="rect" id="node22" href="rgrp_8c.html#a5c55d09a84b98a9fc2b416c1dd9e5b4f" title="gfs2_ri_update" alt="" coords="625,451,731,477"/>
<area shape="rect" id="node25" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="413,28,527,55"/>
<area shape="rect" id="node26" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="433,79,507,105"/>
<area shape="rect" id="node31" href="glops_8c.html#ab6009ec007c0d3fb5f6b4386afd5cbd1" title="gfs2_glock2rgrp" alt="" coords="413,804,527,831"/>
<area shape="rect" id="node32" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="401,855,539,881"/>
<area shape="rect" id="node33" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="417,956,523,983"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="417,1007,523,1033"/>
<area shape="rect" id="node35" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="415,1057,525,1084"/>
<area shape="rect" id="node36" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="601,1019,755,1045"/>
<area shape="rect" id="node40" href="rgrp_8c.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="403,753,537,780"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="599,560,757,587"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="623,1297,733,1324"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_icgraph" id="gfs2_2bmap_8c_a93f97755d47766a48ec4df929863efb4_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="179,1362,258,1388"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="141,1463,296,1490"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="373,1514,492,1540"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="365,1564,500,1591"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="372,1311,493,1338"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="371,1362,494,1388"/>
<area shape="rect" id="node4" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1335,1007,1455,1034"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="573,1514,729,1540"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1328,1640,1463,1667"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1154,1716,1275,1743"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1337,1716,1454,1743"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="817,1514,888,1540"/>
<area shape="rect" id="node18" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="797,1463,908,1490"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1525,1716,1627,1743"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1689,728,1836,755"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="980,1463,1095,1490"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="995,1615,1080,1642"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1149,1615,1280,1642"/>
<area shape="rect" id="node16" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="977,1412,1098,1439"/>
<area shape="rect" id="node15" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1347,1210,1444,1236"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1168,1387,1261,1414"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="807,44,898,71"/>
<area shape="rect" id="node22" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="344,1412,521,1439"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="569,1412,732,1439"/>
<area shape="rect" id="node24" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="585,779,716,806"/>
<area shape="rect" id="node25" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="805,1007,901,1034"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="805,1260,901,1287"/>
<area shape="rect" id="node27" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="780,146,925,172"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="804,196,901,223"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="800,247,905,274"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="800,298,905,324"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="791,348,914,375"/>
<area shape="rect" id="node32" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="993,576,1081,603"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1529,652,1623,679"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="973,982,1101,1008"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1531,703,1621,730"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1173,754,1256,780"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1511,1058,1641,1084"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="787,399,918,426"/>
<area shape="rect" id="node39" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="990,1108,1085,1135"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1161,1007,1268,1034"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="789,450,917,476"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="982,1058,1093,1084"/>
<area shape="rect" id="node43" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="794,1108,911,1135"/>
<area shape="rect" id="node44" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="807,500,898,527"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="806,855,899,882"/>
<area shape="rect" id="node46" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="795,551,910,578"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#aff551f1652b48ec481b3a2f7da5e8c5e" title="gfs2_seek_hole" alt="" coords="796,602,909,628"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="793,1362,913,1388"/>
</map>
</div>

</div>
</div>
<a id="a5ec905f163119e977127aa52dae7a634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec905f163119e977127aa52dae7a634">&#9670;&nbsp;</a></span>release_metapath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void release_metapath </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a5ec905f163119e977127aa52dae7a634_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a5ec905f163119e977127aa52dae7a634_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a5ec905f163119e977127aa52dae7a634_icgraph" id="gfs2_2bmap_8c_a5ec905f163119e977127aa52dae7a634_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="179,379,305,405"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="777,1265,865,1292"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1397,5,1511,32"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="353,657,471,684"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1376,809,1532,836"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1930,759,2047,785"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2104,1012,2207,1039"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1739,563,1873,605"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="575,328,637,355"/>
<area shape="rect" id="node13" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1929,1063,2049,1089"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="526,492,686,519"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="527,581,685,608"/>
<area shape="rect" id="node20" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="531,657,681,684"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="545,708,667,735"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="549,809,663,836"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="563,759,649,785"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="545,936,667,963"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="528,1164,684,1191"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="519,201,693,228"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="1155,1113,1324,1140"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1921,809,2056,836"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="789,353,853,380"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="783,303,858,329"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1741,860,1871,887"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="745,455,897,481"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="765,607,876,633"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="741,505,900,532"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="762,556,879,583"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="767,657,874,684"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="767,759,874,785"/>
<area shape="rect" id="node24" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="757,708,885,735"/>
<area shape="rect" id="node27" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="758,809,883,836"/>
<area shape="rect" id="node29" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="753,1012,888,1039"/>
<area shape="rect" id="node30" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="755,1063,887,1089"/>
<area shape="rect" id="node31" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="765,911,876,937"/>
<area shape="rect" id="node32" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="741,961,900,988"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1745,267,1867,293"/>
<area shape="rect" id="node35" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1600,961,1671,988"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1580,911,1691,937"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="779,1164,863,1191"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="958,1215,1093,1241"/>
<area shape="rect" id="node39" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="986,1164,1065,1191"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="1179,1063,1300,1089"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1178,860,1301,887"/>
<area shape="rect" id="node44" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="779,151,863,177"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="948,1316,1103,1343"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="966,1265,1085,1292"/>
<area shape="rect" id="node48" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="1151,1316,1328,1343"/>
<area shape="rect" id="node50" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1179,1265,1299,1292"/>
</map>
</div>

</div>
</div>
<a id="ad2009c5ae9997445248c4290ccbf621a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2009c5ae9997445248c4290ccbf621a">&#9670;&nbsp;</a></span>stuffed_zero_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stuffed_zero_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_cgraph" id="gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="234,397,301,424"/>
<area shape="rect" id="node3" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="187,448,348,474"/>
<area shape="rect" id="node46" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="194,582,341,609"/>
<area shape="rect" id="node4" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="396,440,528,482"/>
<area shape="rect" id="node39" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="411,389,513,416"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="593,456,674,482"/>
<area shape="rect" id="node6" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="576,354,691,381"/>
<area shape="rect" id="node7" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="769,557,859,584"/>
<area shape="rect" id="node34" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1194,278,1294,305"/>
<area shape="rect" id="node35" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="739,329,889,356"/>
<area shape="rect" id="node37" href="meta__io_8c.html#a8cc74b7c0b63694aa67fef1f20e85704" title="gfs2_submit_bhs" alt="" coords="753,456,875,482"/>
<area shape="rect" id="node8" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="961,962,1096,989"/>
<area shape="rect" id="node31" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="955,557,1103,584"/>
<area shape="rect" id="node9" href="glock_8h.html#abcc871c62234b39ac052fe6a6a8b3f14" title="gfs2_glock_get" alt="" coords="1189,684,1299,710"/>
<area shape="rect" id="node14" href="glock_8h.html#a42aebd982c7bcb1484097cd5f9bc7149" title="gfs2_glock_hold" alt="" coords="1186,633,1302,660"/>
<area shape="rect" id="node15" href="glock_8h.html#a519b98b69a2fbb49b6dd3e2993abdf14" title="gfs2_glock_put" alt="" coords="1394,1140,1505,1166"/>
<area shape="rect" id="node16" href="glock_8h.html#ac3ebc62375a395dc7d14db5e0df98782" title="gfs2_glock_queue_put" alt="" coords="1168,734,1320,761"/>
<area shape="rect" id="node18" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="1187,785,1301,812"/>
<area shape="rect" id="node19" href="glock_8h.html#ac995caba0534a5669bf2ed4a9add045b" title="gfs2_holder_reinit" alt="" coords="1182,836,1306,862"/>
<area shape="rect" id="node20" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="1181,886,1307,913"/>
<area shape="rect" id="node21" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="1191,937,1297,964"/>
<area shape="rect" id="node22" href="glock_8h.html#aa415d68b6b43fb6556c729cb6b1a4c21" title="gfs2_glock_poll" alt="" coords="1188,988,1300,1014"/>
<area shape="rect" id="node23" href="glock_8h.html#a231787f76a0439bdcaca64496e5b33f8" title="gfs2_glock_wait" alt="" coords="1186,1038,1302,1065"/>
<area shape="rect" id="node24" href="glock_8h.html#ab593e34684b9cfe0fa746df98df2ff6e" title="gfs2_glock_dq" alt="" coords="1191,1089,1297,1116"/>
<area shape="rect" id="node25" href="glock_8h.html#a8dd8434f3f5b346d7a9827fbbe3846e1" title="gfs2_glock_dq_wait" alt="" coords="1175,1140,1313,1166"/>
<area shape="rect" id="node26" href="glock_8h.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="1172,1190,1316,1217"/>
<area shape="rect" id="node27" href="glock_8h.html#a96a5b213798300843706f6723fce5780" title="gfs2_glock_nq_num" alt="" coords="1175,1241,1313,1268"/>
<area shape="rect" id="node28" href="glock_8h.html#ad725a4c62857cc81a85c2f8c8aebdf70" title="gfs2_glock_nq_m" alt="" coords="1182,1292,1306,1318"/>
<area shape="rect" id="node29" href="glock_8h.html#a935b12383ca917515597a0d954071c6a" title="gfs2_glock_dq_m" alt="" coords="1182,1342,1306,1369"/>
<area shape="rect" id="node30" href="glock_8h.html#a7fc5c3f221967b86171f729566c20928" title="gfs2_dump_glock" alt="" coords="1182,1393,1306,1420"/>
<area shape="rect" id="node10" href="glock_8c.html#a4ad4727942bb2d8e026d026c633a8df2" title="find_insert_glock" alt="" coords="1389,633,1509,660"/>
<area shape="rect" id="node11" href="glock_8c.html#adcd488b47b9c7bafb5f2d295e78c529d" title="glock_work_func" alt="" coords="1389,734,1509,761"/>
<area shape="rect" id="node13" href="glock_8c.html#aa98af1497e21810b901485b7d45184c4" title="delete_work_func" alt="" coords="1387,684,1511,710"/>
<area shape="rect" id="node12" href="glock_8c.html#a3fbd1c29f3c83af19d4f291c1a7c55cc" title="__gfs2_glock_put" alt="" coords="1579,734,1703,761"/>
<area shape="rect" id="node17" href="glock_8c.html#aa2948bc5d5184ce3180b6008c780e871" title="gfs2_glock_queue_work" alt="" coords="1368,785,1531,812"/>
<area shape="rect" id="node32" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1179,532,1309,558"/>
<area shape="rect" id="node33" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1380,202,1519,229"/>
<area shape="rect" id="node36" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="937,304,1120,330"/>
<area shape="rect" id="node38" href="meta__io_8c.html#a6da2ae061883a4b99f85d25256db105f" title="gfs2_meta_read_endio" alt="" coords="952,456,1105,482"/>
<area shape="rect" id="node40" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="590,228,677,254"/>
<area shape="rect" id="node41" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="952,101,1105,128"/>
<area shape="rect" id="node44" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="773,202,855,229"/>
<area shape="rect" id="node42" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1191,101,1297,128"/>
<area shape="rect" id="node43" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1173,35,1315,76"/>
<area shape="rect" id="node45" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="972,202,1085,229"/>
<area shape="rect" id="node47" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="411,658,513,685"/>
<area shape="rect" id="node48" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="404,709,520,736"/>
<area shape="rect" id="node49" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="397,557,527,584"/>
<area shape="rect" id="node50" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="427,608,497,634"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_icgraph" id="gfs2_2bmap_8c_ad2009c5ae9997445248c4290ccbf621a_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="187,487,321,513"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1536,43,1639,69"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="369,487,525,513"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1695,43,1841,69"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1336,1613,1471,1640"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="573,461,695,488"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1345,93,1462,120"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="599,512,669,539"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1343,1563,1463,1589"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="579,411,689,437"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="746,460,861,487"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="761,740,846,767"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="925,1309,1056,1336"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="743,257,864,284"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="941,485,1040,512"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="912,435,1069,461"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="933,359,1048,385"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1141,245,1255,272"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1148,296,1248,323"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1143,347,1253,373"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1153,397,1243,424"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="1138,448,1258,475"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1151,499,1245,525"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="1124,144,1272,171"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1124,195,1272,221"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="923,853,1059,880"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1327,752,1480,779"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1528,701,1647,728"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1529,904,1646,931"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1117,904,1279,931"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1353,853,1454,880"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1154,1056,1242,1083"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="1135,1005,1261,1032"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="1142,853,1254,880"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="1151,600,1245,627"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1713,1005,1823,1032"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1356,1157,1451,1184"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1340,1497,1467,1524"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1360,1233,1447,1260"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1366,1296,1441,1323"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1355,1353,1452,1380"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1146,1411,1250,1437"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1368,1432,1439,1459"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1119,1309,1277,1336"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1557,1497,1617,1524"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="929,308,1052,335"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="941,156,1041,183"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="944,207,1037,233"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="928,257,1053,284"/>
</map>
</div>

</div>
</div>
<a id="a176e236e3a36c04b455e3e8a3df17b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176e236e3a36c04b455e3e8a3df17b07">&#9670;&nbsp;</a></span>sweep_bh_for_rgrps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sweep_bh_for_rgrps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__holder.html">gfs2_holder</a> *&#160;</td>
          <td class="paramname"><em>rd_gh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__be64 *&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>btotal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sweep_bh_for_rgrps - find an rgrp in a meta buffer and free blocks therein : inode : holder of resource group glock : buffer head to sweep : starting point in bh : end point in bh : true if bh points to metadata (rather than data) : place to keep count of total blocks freed</p>
<p>We sweep a metadata buffer (provided by the metapath) for blocks we need to free, and free them all. However, we do it one rgrp at a time. If this block has references to multiple rgrps, we break it into individual transactions. This allows other processes to use the rgrps while we're focused on a single one, for better concurrency / performance. At every transaction boundary, we rewrite the inode into the journal. That way the bitmaps are kept consistent with the inode and we can recover if we're interrupted by power-outages.</p>
<p>Returns: 0, or return code if an error occurred. *btotal has the total number of blocks freed </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_cgraph" id="gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="659,168,741,194"/>
<area shape="rect" id="node3" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="197,674,348,701"/>
<area shape="rect" id="node4" href="glops_8c.html#ab6009ec007c0d3fb5f6b4386afd5cbd1" title="gfs2_glock2rgrp" alt="" coords="215,725,330,752"/>
<area shape="rect" id="node5" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="199,776,346,818"/>
<area shape="rect" id="node6" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="203,269,342,296"/>
<area shape="rect" id="node8" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="647,320,753,346"/>
<area shape="rect" id="node9" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="207,1029,338,1056"/>
<area shape="rect" id="node26" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="647,1510,753,1537"/>
<area shape="rect" id="node27" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="217,1282,328,1309"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="413,168,567,194"/>
<area shape="rect" id="node30" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="212,1586,333,1613"/>
<area shape="rect" id="node33" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="627,548,773,574"/>
<area shape="rect" id="node39" href="rgrp_8c.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="205,472,340,498"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="193,6,352,33"/>
<area shape="rect" id="node45" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="192,62,353,89"/>
<area shape="rect" id="node47" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="225,1637,320,1664"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="214,168,331,194"/>
<area shape="rect" id="node49" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="217,1688,328,1714"/>
<area shape="rect" id="node50" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="201,1738,345,1765"/>
<area shape="rect" id="node7" href="rgrp_8h.html#a3f124d1d41cde1afea1184e49acd9763" title="check_and_update_goal" alt="" coords="409,218,571,245"/>
<area shape="rect" id="node10" href="glock_8h.html#acb2f32b5c94b7b15822a6a0ffbc1ce80" title="gfs2_holder_init" alt="" coords="433,826,547,853"/>
<area shape="rect" id="node11" href="glock_8h.html#a76c234c4287aacd1a01db8b90939b95d" title="gfs2_glock_nq" alt="" coords="437,877,543,904"/>
<area shape="rect" id="node12" href="glock_8h.html#aa7cac9d2600118ea097ebedcf18122e1" title="gfs2_holder_uninit" alt="" coords="427,928,553,954"/>
<area shape="rect" id="node13" href="glock_8h.html#aad119e85f824c9bfefdb0c196720656b" title="gfs2_glock_cb" alt="" coords="437,978,543,1005"/>
<area shape="rect" id="node14" href="glock_8h.html#a6f83e5c52d59fba832eb5ce60729871c" title="gfs2_glock_complete" alt="" coords="417,1029,563,1056"/>
<area shape="rect" id="node15" href="glock_8h.html#ae12f267adb12cab8b6d6eed843f607a4" title="gfs2_gl_hash_clear" alt="" coords="423,1080,557,1106"/>
<area shape="rect" id="node16" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="401,1130,579,1157"/>
<area shape="rect" id="node17" href="glock_8h.html#a0ae9abe8aacd2f18b66fe16488cfdb5b" title="gfs2_glock_thaw" alt="" coords="430,1181,550,1208"/>
<area shape="rect" id="node18" href="glock_8h.html#ac0a102f10ddffac59ebb2b990bb07214" title="gfs2_glock_add_to_lru" alt="" coords="414,1232,566,1258"/>
<area shape="rect" id="node19" href="glock_8h.html#a9364f3d563d7651f0c9b1d2eb1d6b0bb" title="gfs2_glock_free" alt="" coords="433,1282,547,1309"/>
<area shape="rect" id="node20" href="glock_8h.html#aff0d8dc3860a68523432d4a376e6566d" title="gfs2_glock_init" alt="" coords="435,1333,545,1360"/>
<area shape="rect" id="node21" href="glock_8h.html#a30b2011d1a0e40b938c6af0a777b6959" title="gfs2_glock_exit" alt="" coords="433,1384,547,1410"/>
<area shape="rect" id="node22" href="glock_8h.html#a14b05951d8ee2c3a42e82fbbfbc0ce4e" title="gfs2_create_debugfs_file" alt="" coords="407,1434,573,1461"/>
<area shape="rect" id="node23" href="glock_8h.html#aac332ab45a528e4d8b2625ab237be915" title="gfs2_delete_debugfs_file" alt="" coords="407,674,573,701"/>
<area shape="rect" id="node24" href="glock_8h.html#a74d46c6064130ebb105fd082bbb47b2d" title="gfs2_register_debugfs" alt="" coords="415,725,565,752"/>
<area shape="rect" id="node25" href="glock_8h.html#aac7a58fa4d8fc3ee5f0b64dc1a9c4ad0" title="gfs2_unregister_debugfs" alt="" coords="408,776,572,802"/>
<area shape="rect" id="node28" href="rgrp_8c.html#af4bcb2e7a58d78f2fcf825f3e35f5d34" title="__rs_deltree" alt="" coords="443,1485,537,1512"/>
<area shape="rect" id="node31" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="435,1637,545,1664"/>
<area shape="rect" id="node32" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="429,1586,551,1613"/>
<area shape="rect" id="node34" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="835,446,938,473"/>
<area shape="rect" id="node35" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="829,497,945,524"/>
<area shape="rect" id="node36" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="837,396,937,422"/>
<area shape="rect" id="node37" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="821,598,952,625"/>
<area shape="rect" id="node38" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="851,548,922,574"/>
<area shape="rect" id="node40" href="rgrp_8c.html#a6944f4b8be938e04df610379d66425a3" title="rgblk_free" alt="" coords="451,472,529,498"/>
<area shape="rect" id="node41" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="439,370,541,397"/>
<area shape="rect" id="node42" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="417,522,563,549"/>
<area shape="rect" id="node43" href="meta__io_8c.html#aded81d4aaa53da2be7a6cca126884933" title="gfs2_meta_wipe" alt="" coords="431,421,549,448"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="424,51,556,92"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_icgraph" id="gfs2_2bmap_8c_a176e236e3a36c04b455e3e8a3df17b07_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="192,499,280,525"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="366,448,445,475"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="328,499,483,525"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="560,549,679,576"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="552,296,687,323"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="559,347,680,373"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="558,448,681,475"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1522,220,1642,247"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="759,347,915,373"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1515,271,1649,297"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1341,93,1462,120"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1523,93,1641,120"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1004,347,1075,373"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="984,397,1095,424"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1711,93,1814,120"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1876,1588,2023,1615"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1167,397,1281,424"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1181,347,1267,373"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1336,296,1467,323"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1163,448,1285,475"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1533,1005,1631,1032"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1355,473,1448,500"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="994,448,1085,475"/>
<area shape="rect" id="node23" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="531,499,708,525"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="756,499,919,525"/>
<area shape="rect" id="node25" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="772,1031,903,1057"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="991,1157,1087,1184"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="991,1208,1087,1235"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="967,1259,1112,1285"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="991,1309,1088,1336"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="987,1360,1092,1387"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="987,1411,1092,1437"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="978,1461,1101,1488"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1180,1563,1268,1589"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1716,1613,1809,1640"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1160,1056,1288,1083"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1717,1664,1808,1691"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1360,1715,1443,1741"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1697,1157,1828,1184"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="974,600,1105,627"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1177,701,1271,728"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1348,676,1455,703"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="975,752,1103,779"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1169,904,1279,931"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="981,1005,1098,1032"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="994,904,1085,931"/>
<area shape="rect" id="node46" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="993,955,1086,981"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="982,1512,1097,1539"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="979,1765,1099,1792"/>
</map>
</div>

</div>
</div>
<a id="a6a4a123552788f37e9c996b878e44218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4a123552788f37e9c996b878e44218">&#9670;&nbsp;</a></span>trunc_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int trunc_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_cgraph" id="gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="577,505,658,531"/>
<area shape="rect" id="node3" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="152,657,273,683"/>
<area shape="rect" id="node7" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="132,294,293,321"/>
<area shape="rect" id="node21" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="139,454,286,481"/>
<area shape="rect" id="node22" href="gfs2_2log_8c.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="133,555,292,582"/>
<area shape="rect" id="node23" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="165,606,260,633"/>
<area shape="rect" id="node25" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="544,454,691,481"/>
<area shape="rect" id="node30" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="154,403,271,430"/>
<area shape="rect" id="node32" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="157,809,268,835"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="959,682,1069,709"/>
<area shape="rect" id="node5" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="358,707,479,734"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="557,733,677,759"/>
<area shape="rect" id="node8" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="353,287,485,328"/>
<area shape="rect" id="node17" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="368,235,469,262"/>
<area shape="rect" id="node9" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="560,294,675,321"/>
<area shape="rect" id="node10" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="770,353,861,379"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="964,150,1064,177"/>
<area shape="rect" id="node15" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="740,201,891,227"/>
<area shape="rect" id="node16" href="meta__io_8c.html#a8cc74b7c0b63694aa67fef1f20e85704" title="gfs2_submit_bhs" alt="" coords="755,302,876,329"/>
<area shape="rect" id="node11" href="glock_8h.html#a4bf0356b258804f5f3d3cbf3f0e2a6da" title="gfs2_glock2aspace" alt="" coords="947,353,1081,379"/>
<area shape="rect" id="node12" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="940,277,1088,303"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1136,125,1275,151"/>
<area shape="rect" id="node18" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="574,125,661,151"/>
<area shape="rect" id="node19" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="739,99,892,126"/>
<area shape="rect" id="node20" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="973,49,1055,75"/>
<area shape="rect" id="node24" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="349,606,488,633"/>
<area shape="rect" id="node26" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="764,809,867,835"/>
<area shape="rect" id="node27" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="757,859,873,886"/>
<area shape="rect" id="node28" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="750,454,881,481"/>
<area shape="rect" id="node29" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="780,505,851,531"/>
<area shape="rect" id="node31" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="341,429,496,455"/>
<area shape="rect" id="node33" href="gfs2_2trans_8c.html#a6ef229c79b5693477ba7e27fb66d5acf" title="gfs2_print_trans" alt="" coords="361,859,476,886"/>
<area shape="rect" id="node34" href="gfs2_2log_8c.html#a60ca61b3792ee2240074cb04f0512053" title="gfs2_log_commit" alt="" coords="358,809,479,835"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="564,1087,671,1114"/>
<area shape="rect" id="node35" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="576,809,659,835"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#a9f559589696422c428e0165d95b14aba" title="gfs2_merge_trans" alt="" coords="752,758,879,785"/>
<area shape="rect" id="node37" href="gfs2_2log_8c.html#a3dc8092ed1bcb8a756d91301455724e9" title="calc_reserved" alt="" coords="764,707,867,734"/>
<area shape="rect" id="node39" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="749,910,881,937"/>
<area shape="rect" id="node41" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="746,961,885,987"/>
<area shape="rect" id="node42" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="750,1011,881,1038"/>
<area shape="rect" id="node43" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="1153,1087,1258,1114"/>
<area shape="rect" id="node44" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="954,1138,1074,1165"/>
<area shape="rect" id="node45" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="1162,1277,1249,1303"/>
<area shape="rect" id="node46" href="lops_8h.html#ad96d3ea38c0beedc913e5b7eeca56b18" title="lops_after_commit" alt="" coords="751,1214,880,1241"/>
<area shape="rect" id="node47" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="762,1265,869,1291"/>
<area shape="rect" id="node48" href="gfs2_2log_8c.html#a3e998c1de5a5981c17e89c648074f7d3" title="gfs2_ail1_wait" alt="" coords="763,1315,868,1342"/>
<area shape="rect" id="node49" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="757,1366,874,1393"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="748,1113,883,1139"/>
<area shape="rect" id="node40" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="967,910,1061,937"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_icgraph" id="gfs2_2bmap_8c_a6a4a123552788f37e9c996b878e44218_icgraph">
<area shape="rect" id="node2" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="138,137,281,178"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="170,327,249,353"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="132,377,287,404"/>
<area shape="rect" id="node3" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="353,71,494,113"/>
<area shape="rect" id="node7" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="354,137,493,178"/>
<area shape="rect" id="node4" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="560,29,729,56"/>
<area shape="rect" id="node6" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="589,80,700,107"/>
<area shape="rect" id="node5" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="807,29,893,56"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="575,134,714,175"/>
<area shape="rect" id="node9" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="781,134,919,175"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="363,327,484,353"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="362,428,485,455"/>
<area shape="rect" id="node12" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1333,264,1453,291"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="567,377,723,404"/>
<area shape="rect" id="node14" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1325,327,1460,353"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1151,352,1273,379"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1334,403,1451,429"/>
<area shape="rect" id="node18" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="815,504,885,531"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="795,605,905,632"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1508,403,1611,429"/>
<area shape="rect" id="node19" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="977,555,1092,581"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="992,504,1077,531"/>
<area shape="rect" id="node21" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1147,453,1277,480"/>
<area shape="rect" id="node23" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="974,605,1095,632"/>
<area shape="rect" id="node22" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1344,1011,1441,1037"/>
<area shape="rect" id="node24" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1165,631,1259,657"/>
<area shape="rect" id="node27" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="805,656,895,683"/>
<area shape="rect" id="node29" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="335,555,512,581"/>
<area shape="rect" id="node30" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="563,555,726,581"/>
<area shape="rect" id="node31" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="579,1112,710,1139"/>
<area shape="rect" id="node32" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="802,1365,898,1392"/>
<area shape="rect" id="node33" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="802,1416,898,1443"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="777,1467,923,1493"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="801,1517,899,1544"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="797,1568,903,1595"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="797,1619,903,1645"/>
<area shape="rect" id="node38" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="789,1669,911,1696"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="806,757,894,784"/>
<area shape="rect" id="node40" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="803,808,897,835"/>
<area shape="rect" id="node41" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="971,1112,1099,1139"/>
<area shape="rect" id="node42" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="805,1061,895,1088"/>
<area shape="rect" id="node43" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="809,1112,891,1139"/>
<area shape="rect" id="node44" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="785,1163,915,1189"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="785,1264,915,1291"/>
<area shape="rect" id="node46" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="987,909,1082,936"/>
<area shape="rect" id="node47" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1159,884,1265,911"/>
<area shape="rect" id="node48" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="786,1315,914,1341"/>
<area shape="rect" id="node49" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="979,960,1090,987"/>
<area shape="rect" id="node50" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="791,1011,909,1037"/>
</map>
</div>

</div>
</div>
<a id="a5deec801489ba923431972f1e35f3537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5deec801489ba923431972f1e35f3537">&#9670;&nbsp;</a></span>trunc_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int trunc_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>newsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_cgraph" id="gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="790,304,857,330"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1179,506,1261,533"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="774,405,873,432"/>
<area shape="rect" id="node5" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="362,1317,483,1344"/>
<area shape="rect" id="node9" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="743,144,904,170"/>
<area shape="rect" id="node22" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="548,760,695,786"/>
<area shape="rect" id="node27" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="768,253,879,280"/>
<area shape="rect" id="node28" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="144,1216,291,1242"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="139,354,295,381"/>
<area shape="rect" id="node38" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="170,1317,265,1344"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="159,937,276,964"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="137,1114,297,1141"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="367,1114,478,1141"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="566,1368,677,1394"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="561,1317,682,1344"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="763,1317,883,1344"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="967,188,1099,230"/>
<area shape="rect" id="node18" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="983,137,1084,164"/>
<area shape="rect" id="node11" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1163,217,1277,244"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1357,354,1447,381"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1551,278,1651,305"/>
<area shape="rect" id="node17" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1327,202,1477,229"/>
<area shape="rect" id="node13" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1527,354,1675,381"/>
<area shape="rect" id="node14" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1727,354,1857,381"/>
<area shape="rect" id="node15" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1723,152,1861,178"/>
<area shape="rect" id="node19" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1177,137,1263,164"/>
<area shape="rect" id="node20" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1325,152,1479,178"/>
<area shape="rect" id="node21" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1559,50,1642,77"/>
<area shape="rect" id="node23" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="982,937,1085,964"/>
<area shape="rect" id="node24" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="975,1064,1091,1090"/>
<area shape="rect" id="node25" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="758,658,889,685"/>
<area shape="rect" id="node26" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="788,709,859,736"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="364,304,481,330"/>
<area shape="rect" id="node32" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="558,456,685,482"/>
<area shape="rect" id="node33" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="550,582,693,609"/>
<area shape="rect" id="node35" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="361,126,484,153"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="558,202,685,229"/>
<area shape="rect" id="node34" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="952,506,1115,533"/>
<area shape="rect" id="node36" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="561,152,682,178"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="554,101,689,128"/>
<area shape="rect" id="node39" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="353,1368,492,1394"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="345,976,500,1002"/>
<area shape="rect" id="node44" href="gfs2_2trans_8c.html#a6ef229c79b5693477ba7e27fb66d5acf" title="gfs2_print_trans" alt="" coords="564,1216,679,1242"/>
<area shape="rect" id="node45" href="gfs2_2log_8c.html#a60ca61b3792ee2240074cb04f0512053" title="gfs2_log_commit" alt="" coords="561,1064,682,1090"/>
<area shape="rect" id="node47" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="770,1114,877,1141"/>
<area shape="rect" id="node46" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="782,1064,865,1090"/>
<area shape="rect" id="node48" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="967,1114,1099,1141"/>
<area shape="rect" id="node49" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="964,1165,1103,1192"/>
<area shape="rect" id="node50" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="968,1216,1099,1242"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_icgraph" id="gfs2_2bmap_8c_a5deec801489ba923431972f1e35f3537_icgraph">
<area shape="rect" id="node2" href="ocfs2_2file_8c.html#ab1f194ddafdc364e98d2685f39dc2286" title="ocfs2_calc_trunc_pos" alt="" coords="137,161,287,188"/>
<area shape="rect" id="node3" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="335,103,477,145"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="173,212,251,239"/>
<area shape="rect" id="node4" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="533,103,674,145"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="534,34,673,75"/>
<area shape="rect" id="node5" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="729,111,899,137"/>
<area shape="rect" id="node7" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="759,161,869,188"/>
<area shape="rect" id="node6" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="973,113,1059,140"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="745,26,883,67"/>
<area shape="rect" id="node10" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="947,23,1085,65"/>
<area shape="rect" id="node11" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="1139,5,1294,32"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="1133,56,1300,83"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="345,263,467,289"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1737,403,1860,429"/>
<area shape="rect" id="node15" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1562,491,1682,517"/>
<area shape="rect" id="node16" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="525,1041,681,1068"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1555,1124,1689,1151"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="955,1263,1077,1289"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1563,1225,1681,1252"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="779,940,849,967"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="759,1288,869,1315"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1747,1225,1850,1252"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1908,1225,2055,1252"/>
<area shape="rect" id="node23" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="959,687,1073,713"/>
<area shape="rect" id="node31" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="973,940,1059,967"/>
<area shape="rect" id="node33" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1151,889,1282,916"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="955,1041,1077,1068"/>
<area shape="rect" id="node24" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1167,661,1266,688"/>
<area shape="rect" id="node25" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1138,712,1295,739"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1159,516,1274,543"/>
<area shape="rect" id="node27" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1370,516,1485,543"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1377,567,1477,593"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1372,415,1483,441"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1382,465,1473,492"/>
<area shape="rect" id="node32" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="1149,940,1285,967"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1559,880,1685,907"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1575,943,1669,969"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1579,1019,1665,1045"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1585,1072,1659,1099"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1573,823,1671,849"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1747,631,1851,657"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1372,769,1483,796"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1587,668,1657,695"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1348,921,1507,948"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1936,605,2027,632"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1155,1143,1278,1169"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1167,991,1267,1017"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1170,1041,1263,1068"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="1154,1092,1279,1119"/>
</map>
</div>

</div>
</div>
<a id="add6f8ed4ffa60627a4163f66e3a63349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6f8ed4ffa60627a4163f66e3a63349">&#9670;&nbsp;</a></span>walk_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool walk_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmetapath.html">metapath</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16 *&#160;</td>
          <td class="paramname"><em>end_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>end_aligned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_cgraph.png" border="0" usemap="#gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_cgraph" id="gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="137,5,241,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_icgraph.png" border="0" usemap="#gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_icgraph" id="gfs2_2bmap_8c_add6f8ed4ffa60627a4163f66e3a63349_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="137,423,225,449"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="311,296,390,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="273,397,428,424"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="505,448,624,475"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="497,499,632,525"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="504,245,625,272"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="503,296,626,323"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1467,63,1587,89"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="705,296,861,323"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1460,132,1595,159"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1286,195,1407,221"/>
<area shape="rect" id="node9" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1469,220,1586,247"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="949,296,1020,323"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="929,347,1040,373"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1657,1461,1759,1488"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1821,1487,1968,1513"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1112,347,1227,373"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1127,296,1212,323"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1281,245,1412,272"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1109,397,1230,424"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1479,1005,1576,1032"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1300,423,1393,449"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="939,448,1030,475"/>
<area shape="rect" id="node23" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="476,397,653,424"/>
<area shape="rect" id="node24" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="701,397,864,424"/>
<area shape="rect" id="node25" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="717,1005,848,1032"/>
<area shape="rect" id="node26" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="937,1107,1033,1133"/>
<area shape="rect" id="node27" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="937,1157,1033,1184"/>
<area shape="rect" id="node28" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="912,1208,1057,1235"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="936,1259,1033,1285"/>
<area shape="rect" id="node30" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="932,1309,1037,1336"/>
<area shape="rect" id="node31" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="932,1360,1037,1387"/>
<area shape="rect" id="node32" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="923,1411,1046,1437"/>
<area shape="rect" id="node33" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="1125,1512,1213,1539"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="1661,1575,1755,1601"/>
<area shape="rect" id="node35" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1105,1056,1233,1083"/>
<area shape="rect" id="node36" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="1663,1651,1753,1677"/>
<area shape="rect" id="node37" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="1305,549,1388,576"/>
<area shape="rect" id="node38" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="1643,1005,1773,1032"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="919,651,1050,677"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="1122,752,1217,779"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1293,727,1400,753"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="921,803,1049,829"/>
<area shape="rect" id="node43" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1114,904,1225,931"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="926,1005,1043,1032"/>
<area shape="rect" id="node45" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="939,904,1030,931"/>
<area shape="rect" id="node46" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="938,955,1031,981"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="927,1512,1042,1539"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="925,1715,1045,1741"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_41299403da4ddc3e223d1f20eb0b3a42.html">gfs2</a></li><li class="navelem"><a class="el" href="gfs2_2bmap_8c.html">bmap.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
