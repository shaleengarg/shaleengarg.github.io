<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: btrfs/free-space-tree.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('free-space-tree_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">free-space-tree.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/sched/mm.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ctree_8h_source.html">ctree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disk-io_8h_source.html">disk-io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="locking_8h_source.html">locking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="free-space-tree_8h_source.html">free-space-tree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction_8h_source.html">transaction.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for free-space-tree.c:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c__incl.png" border="0" usemap="#btrfs_2free-space-tree_8c" alt=""/></div>
<map name="btrfs_2free-space-tree_8c" id="btrfs_2free-space-tree_8c">
<area shape="rect" id="node4" href="ctree_8h.html" title="ctree.h" alt="" coords="1549,304,1611,331"/>
<area shape="rect" id="node33" href="disk-io_8h.html" title="disk&#45;io.h" alt="" coords="1005,80,1075,107"/>
<area shape="rect" id="node34" href="locking_8h.html" title="locking.h" alt="" coords="1100,80,1175,107"/>
<area shape="rect" id="node35" href="free-space-tree_8h.html" title="free&#45;space&#45;tree.h" alt="" coords="1199,80,1319,107"/>
<area shape="rect" id="node36" href="transaction_8h.html" title="transaction.h" alt="" coords="831,80,929,107"/>
<area shape="rect" id="node27" href="extent__io_8h.html" title="extent_io.h" alt="" coords="409,379,495,405"/>
<area shape="rect" id="node31" href="btrfs_2extent__map_8h.html" title="extent_map.h" alt="" coords="520,379,621,405"/>
<area shape="rect" id="node32" href="async-thread_8h.html" title="async&#45;thread.h" alt="" coords="3319,379,3427,405"/>
<area shape="rect" id="node29" href="ulist_8h.html" title="ulist.h" alt="" coords="357,453,414,480"/>
<area shape="rect" id="node37" href="btrfs__inode_8h.html" title="btrfs_inode.h" alt="" coords="691,155,789,181"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html" title="delayed&#45;ref.h" alt="" coords="286,155,383,181"/>
<area shape="rect" id="node39" href="ordered-data_8h.html" title="ordered&#45;data.h" alt="" coords="554,229,659,256"/>
<area shape="rect" id="node40" href="delayed-inode_8h.html" title="delayed&#45;inode.h" alt="" coords="338,229,451,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a18990b55255cf9ea3146b1be72e5438c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c">__add_block_group_free_space</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a18990b55255cf9ea3146b1be72e5438c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016a16cb724e64ea614bab6c9e3cb164"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a016a16cb724e64ea614bab6c9e3cb164">set_free_space_tree_thresholds</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *cache)</td></tr>
<tr class="separator:a016a16cb724e64ea614bab6c9e3cb164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca07c33e93685cc949b816d05bd6f2e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e">add_new_free_space_info</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:afca07c33e93685cc949b816d05bd6f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743a7e87e3df1f3a04def56a7716531b"><td class="memItemLeft" align="right" valign="top">struct btrfs_free_space_info *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b">search_free_space_info</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, int cow)</td></tr>
<tr class="separator:a743a7e87e3df1f3a04def56a7716531b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bb70899ea72cc9530bc8165090430b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b">btrfs_search_prev_slot</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct btrfs_key *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *p, int ins_len, int cow)</td></tr>
<tr class="separator:a87bb70899ea72cc9530bc8165090430b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb159a96f333dd29d60ea28af195e79"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a4fb159a96f333dd29d60ea28af195e79">free_space_bitmap_size</a> (u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>, u32 <a class="el" href="ctree_8h.html#ac5111ac84a30ac8257361f4dfbd9601b">sectorsize</a>)</td></tr>
<tr class="separator:a4fb159a96f333dd29d60ea28af195e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc3dfdc7847d9b4a32a7d811a339366"><td class="memItemLeft" align="right" valign="top">static u8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a1fc3dfdc7847d9b4a32a7d811a339366">alloc_bitmap</a> (u32 bitmap_size)</td></tr>
<tr class="separator:a1fc3dfdc7847d9b4a32a7d811a339366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5165dc521e94508b67380daa709941a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2">convert_free_space_to_bitmaps</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a5165dc521e94508b67380daa709941a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1145bfbc56da20ac823253f0b01d9675"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675">convert_free_space_to_extents</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a1145bfbc56da20ac823253f0b01d9675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada59ff1dca10f8844aea0ad46cbd73d3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3">update_free_space_extent_count</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, int new_extents)</td></tr>
<tr class="separator:ada59ff1dca10f8844aea0ad46cbd73d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485cc94659b93c3388493ee9673d8fed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed">free_space_test_bit</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a485cc94659b93c3388493ee9673d8fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae316e9a49fbe866ccacde0cd2576c56b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b">free_space_set_bits</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 *<a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 *<a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>, int bit)</td></tr>
<tr class="separator:ae316e9a49fbe866ccacde0cd2576c56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47a42834ae5d5436f7d6fedd70d8a91"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91">free_space_next_bitmap</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *p)</td></tr>
<tr class="separator:aa47a42834ae5d5436f7d6fedd70d8a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfe1f4fa42291bba5c02eff3c0d976c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c">modify_free_space_bitmap</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>, int remove)</td></tr>
<tr class="separator:a5dfe1f4fa42291bba5c02eff3c0d976c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8b8b87994dd6bff0ebcb2d4b857714"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714">remove_free_space_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a7d8b8b87994dd6bff0ebcb2d4b857714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259b79c4e6a9c79d4486a26705847e7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f">__remove_from_free_space_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a259b79c4e6a9c79d4486a26705847e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c168e74a08b881dc59945d1285d0473"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a9c168e74a08b881dc59945d1285d0473">remove_from_free_space_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a9c168e74a08b881dc59945d1285d0473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99f0a54ad2dc91a23b9e16beb5d5c5e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e">add_free_space_extent</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:aa99f0a54ad2dc91a23b9e16beb5d5c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771c2a253ee6dfeca15969a5a525d708"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708">__add_to_free_space_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a771c2a253ee6dfeca15969a5a525d708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993c3c9c24de076a30cd08520fbbb444"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a993c3c9c24de076a30cd08520fbbb444">add_to_free_space_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a993c3c9c24de076a30cd08520fbbb444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123b721c8479223b17c3f434303717a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1">populate_free_space_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:a123b721c8479223b17c3f434303717a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da6dce5e777157e252c84e386196315"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a8da6dce5e777157e252c84e386196315">btrfs_create_free_space_tree</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a8da6dce5e777157e252c84e386196315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0889f0179a51c5b0f0fc4e8f377d5f76"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a0889f0179a51c5b0f0fc4e8f377d5f76">clear_free_space_tree</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a0889f0179a51c5b0f0fc4e8f377d5f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e9b117815c36483318bca62d1074481"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a7e9b117815c36483318bca62d1074481">btrfs_clear_free_space_tree</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>)</td></tr>
<tr class="separator:a7e9b117815c36483318bca62d1074481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2012bd96411caadf5b82857cff7448c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#ad2012bd96411caadf5b82857cff7448c">add_block_group_free_space</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:ad2012bd96411caadf5b82857cff7448c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19dd18b81a929d28d3a897478c7684a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a19dd18b81a929d28d3a897478c7684a7">remove_block_group_free_space</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:a19dd18b81a929d28d3a897478c7684a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e973380fd7348d30419012e001f6d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4">load_free_space_bitmaps</a> (struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *caching_ctl, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u32 expected_extent_count)</td></tr>
<tr class="separator:a61e973380fd7348d30419012e001f6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cf3734456ff586c90c157ca8042a64"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64">load_free_space_extents</a> (struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *caching_ctl, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, u32 expected_extent_count)</td></tr>
<tr class="separator:af3cf3734456ff586c90c157ca8042a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e009aac692e3303dc0ed6ab48a554c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-tree_8c.html#a7e009aac692e3303dc0ed6ab48a554c6">load_free_space_tree</a> (struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *caching_ctl)</td></tr>
<tr class="separator:a7e009aac692e3303dc0ed6ab48a554c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a18990b55255cf9ea3146b1be72e5438c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18990b55255cf9ea3146b1be72e5438c">&#9670;&nbsp;</a></span>__add_block_group_free_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __add_block_group_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_cgraph.png" border="0" usemap="#free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_cgraph" id="free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="439,1119,612,1145"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="216,1323,391,1349"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="660,1077,823,1104"/>
<area shape="rect" id="node8" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1979,1081,2109,1108"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1323,1867,1479,1893"/>
<area shape="rect" id="node4" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="895,1125,1025,1166"/>
<area shape="rect" id="node34" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="906,752,1014,779"/>
<area shape="rect" id="node38" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1347,1309,1455,1336"/>
<area shape="rect" id="node40" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1119,904,1251,931"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1553,955,1675,981"/>
<area shape="rect" id="node15" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1107,1765,1262,1792"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1761,803,1901,829"/>
<area shape="rect" id="node7" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2197,701,2323,728"/>
<area shape="rect" id="node9" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="2189,1005,2331,1032"/>
<area shape="rect" id="node10" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1964,448,2124,475"/>
<area shape="rect" id="node11" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1745,448,1916,475"/>
<area shape="rect" id="node12" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1790,1005,1871,1032"/>
<area shape="rect" id="node13" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1754,600,1907,627"/>
<area shape="rect" id="node14" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1757,1512,1904,1539"/>
<area shape="rect" id="node16" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1560,1867,1668,1893"/>
<area shape="rect" id="node17" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="2396,1832,2495,1859"/>
<area shape="rect" id="node18" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1967,2339,2121,2365"/>
<area shape="rect" id="node20" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1766,1715,1895,1757"/>
<area shape="rect" id="node21" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1769,1832,1892,1859"/>
<area shape="rect" id="node22" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1972,1883,2116,1909"/>
<area shape="rect" id="node23" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="2172,1933,2348,1960"/>
<area shape="rect" id="node24" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1764,1883,1897,1909"/>
<area shape="rect" id="node25" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1786,1664,1875,1691"/>
<area shape="rect" id="node19" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="2206,2035,2314,2061"/>
<area shape="rect" id="node27" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1575,2161,1653,2188"/>
<area shape="rect" id="node28" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1531,2212,1697,2239"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1537,2263,1691,2289"/>
<area shape="rect" id="node32" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1531,1816,1697,1843"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1757,2288,1905,2315"/>
<area shape="rect" id="node31" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1765,2237,1897,2264"/>
<area shape="rect" id="node33" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1788,1613,1873,1640"/>
<area shape="rect" id="node35" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1119,600,1251,627"/>
<area shape="rect" id="node36" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1328,600,1475,627"/>
<area shape="rect" id="node37" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="1320,803,1483,829"/>
<area shape="rect" id="node39" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1569,1309,1659,1336"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="1321,1208,1481,1235"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="871,1765,1049,1792"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="447,1323,604,1349"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="1324,1259,1479,1285"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="1333,2491,1469,2517"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="1103,1715,1267,1741"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="1115,1816,1254,1843"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="1097,1454,1272,1495"/>
<area shape="rect" id="node50" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="689,1151,793,1177"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_icgraph.png" border="0" usemap="#free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_icgraph" id="free-space-tree_8c_a18990b55255cf9ea3146b1be72e5438c_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="430,226,571,267"/>
<area shape="rect" id="node30" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="413,376,588,403"/>
<area shape="rect" id="node36" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="216,454,365,495"/>
<area shape="rect" id="node3" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="636,5,835,32"/>
<area shape="rect" id="node20" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="678,107,793,133"/>
<area shape="rect" id="node23" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="657,157,813,184"/>
<area shape="rect" id="node24" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="674,208,797,235"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="666,56,805,83"/>
<area shape="rect" id="node26" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="679,309,791,336"/>
<area shape="rect" id="node27" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="676,360,795,387"/>
<area shape="rect" id="node28" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="676,411,795,437"/>
<area shape="rect" id="node29" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="674,259,797,285"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="906,127,1037,169"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="904,193,1039,234"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1131,293,1277,320"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1141,145,1267,186"/>
<area shape="rect" id="node7" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1348,816,1555,843"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2072,883,2193,909"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2081,715,2184,741"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1612,1035,1761,1061"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1603,766,1771,807"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1848,1136,1960,1163"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2049,1035,2216,1061"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2055,1187,2211,1229"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="2087,1136,2179,1163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2075,1085,2190,1112"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2053,1304,2213,1331"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1133,344,1275,371"/>
<area shape="rect" id="node21" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="883,259,1060,285"/>
<area shape="rect" id="node22" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1129,243,1279,269"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="655,512,816,539"/>
<area shape="rect" id="node33" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="1819,883,1989,909"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="904,344,1039,371"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2037,984,2228,1011"/>
<area shape="rect" id="node35" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2276,984,2363,1011"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="429,1078,572,1119"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="466,461,535,488"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="658,904,813,931"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1129,969,1279,1010"/>
<area shape="rect" id="node42" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1367,1035,1536,1061"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1606,1136,1767,1163"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1381,657,1521,698"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="2051,1253,2215,1280"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="895,867,1048,909"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1126,917,1282,944"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1108,715,1300,741"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="886,765,1057,792"/>
<area shape="rect" id="node44" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1831,1085,1977,1112"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="659,461,811,488"/>
</map>
</div>

</div>
</div>
<a id="a771c2a253ee6dfeca15969a5a525d708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771c2a253ee6dfeca15969a5a525d708">&#9670;&nbsp;</a></span>__add_to_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __add_to_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_cgraph.png" border="0" usemap="#free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_cgraph" id="free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="236,347,399,389"/>
<area shape="rect" id="node6" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1561,464,1690,491"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="903,849,1063,876"/>
<area shape="rect" id="node36" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="228,413,407,440"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="239,748,396,775"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="677,211,851,237"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="902,616,1065,643"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="905,515,1061,541"/>
<area shape="rect" id="node7" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1767,312,1910,339"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1775,1240,1902,1267"/>
<area shape="rect" id="node8" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1983,253,2105,280"/>
<area shape="rect" id="node9" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1967,305,2121,346"/>
<area shape="rect" id="node10" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1967,371,2121,397"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1967,1265,2121,1292"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1971,1215,2117,1241"/>
<area shape="rect" id="node15" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1131,1063,1254,1089"/>
<area shape="rect" id="node16" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1343,784,1466,811"/>
<area shape="rect" id="node17" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1555,1240,1695,1267"/>
<area shape="rect" id="node18" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1569,1392,1681,1419"/>
<area shape="rect" id="node19" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1317,1341,1492,1368"/>
<area shape="rect" id="node20" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1548,1291,1703,1317"/>
<area shape="rect" id="node21" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1333,1443,1476,1469"/>
<area shape="rect" id="node22" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1571,1493,1679,1520"/>
<area shape="rect" id="node23" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1561,1569,1690,1596"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1759,911,1919,937"/>
<area shape="rect" id="node25" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1346,1544,1463,1571"/>
<area shape="rect" id="node26" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1540,987,1711,1013"/>
<area shape="rect" id="node27" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1360,1291,1449,1317"/>
<area shape="rect" id="node28" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1323,885,1487,912"/>
<area shape="rect" id="node29" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1585,261,1666,288"/>
<area shape="rect" id="node30" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1328,936,1481,963"/>
<area shape="rect" id="node31" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1322,667,1487,693"/>
<area shape="rect" id="node32" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1335,718,1475,759"/>
<area shape="rect" id="node33" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1552,1189,1699,1216"/>
<area shape="rect" id="node34" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1367,1088,1442,1115"/>
<area shape="rect" id="node35" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1571,1088,1679,1115"/>
<area shape="rect" id="node37" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="906,759,1061,785"/>
<area shape="rect" id="node38" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="474,312,610,339"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="906,464,1061,491"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="682,464,846,491"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="695,160,833,187"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="455,581,629,622"/>
<area shape="rect" id="node41" href="extent__io_8c.html#a5476f8a8a038de2a49cb6b44b551956a" title="extent_buffer_test_bit" alt="" coords="690,261,838,288"/>
<area shape="rect" id="node40" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1116,464,1269,491"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a7e8bdd63562566f16a8d9c43b6d3767d" title="extent_buffer_bitmap_set" alt="" coords="899,160,1068,187"/>
<area shape="rect" id="node45" href="extent__io_8c.html#ae3047523da5fcaa68eac79da0851a5d4" title="extent_buffer_bitmap\l_clear" alt="" coords="911,94,1055,135"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="696,682,832,723"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="696,617,832,658"/>
<area shape="rect" id="node50" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="490,799,594,825"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_icgraph.png" border="0" usemap="#free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_icgraph" id="free-space-tree_8c_a771c2a253ee6dfeca15969a5a525d708_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="229,484,390,511"/>
<area shape="rect" id="node28" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="1929,796,2100,823"/>
<area shape="rect" id="node29" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="228,209,391,250"/>
<area shape="rect" id="node42" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="679,5,791,32"/>
<area shape="rect" id="node43" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="676,56,795,83"/>
<area shape="rect" id="node44" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="676,157,795,184"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="674,107,797,133"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="893,593,1028,620"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1102,488,1249,515"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1104,539,1247,565"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1316,537,1459,564"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1511,537,1679,564"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1727,537,1881,564"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2148,485,2355,512"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1939,587,2090,629"/>
<area shape="rect" id="node12" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2167,621,2336,648"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2437,592,2559,619"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2447,485,2549,512"/>
<area shape="rect" id="node13" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2403,769,2593,796"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2417,668,2579,695"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2641,769,2728,796"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2777,653,2884,680"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2776,795,2885,821"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="3163,588,3283,615"/>
<area shape="rect" id="node18" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2933,817,3115,858"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2956,882,3092,923"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2962,948,3086,975"/>
<area shape="rect" id="node21" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2964,999,3084,1025"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2948,664,3100,691"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2957,715,3091,741"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2974,765,3074,792"/>
<area shape="rect" id="node25" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="2946,613,3102,640"/>
<area shape="rect" id="node30" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="443,209,584,250"/>
<area shape="rect" id="node46" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="439,403,588,445"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="636,469,835,496"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="903,309,1018,336"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="883,360,1039,387"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="899,208,1022,235"/>
<area shape="rect" id="node41" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="666,259,805,285"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="895,462,1026,503"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="893,527,1028,569"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1324,390,1451,431"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1087,208,1264,235"/>
<area shape="rect" id="node37" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1312,208,1463,235"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1549,208,1640,235"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1523,637,1666,678"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="701,411,770,437"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1748,695,1860,721"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="885,411,1037,437"/>
</map>
</div>

</div>
</div>
<a id="a259b79c4e6a9c79d4486a26705847e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a259b79c4e6a9c79d4486a26705847e7f">&#9670;&nbsp;</a></span>__remove_from_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __remove_from_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_cgraph.png" border="0" usemap="#free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_cgraph" id="free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="195,458,357,499"/>
<area shape="rect" id="node6" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1739,550,1869,577"/>
<area shape="rect" id="node15" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="1082,562,1242,589"/>
<area shape="rect" id="node37" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="628,718,807,745"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="628,364,807,390"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="631,196,804,222"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="405,465,580,492"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="861,246,1023,273"/>
<area shape="rect" id="node5" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1084,305,1240,332"/>
<area shape="rect" id="node7" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1946,449,2089,476"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1954,1225,2081,1252"/>
<area shape="rect" id="node8" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="2161,500,2284,526"/>
<area shape="rect" id="node9" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="2145,383,2300,424"/>
<area shape="rect" id="node10" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="2145,449,2300,476"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="2145,1250,2300,1277"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="2149,1200,2296,1226"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="639,465,796,492"/>
<area shape="rect" id="node16" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1310,913,1433,940"/>
<area shape="rect" id="node17" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1522,753,1645,780"/>
<area shape="rect" id="node18" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1734,1326,1874,1353"/>
<area shape="rect" id="node19" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1748,1478,1860,1505"/>
<area shape="rect" id="node20" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1496,1377,1671,1404"/>
<area shape="rect" id="node21" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1727,1428,1881,1454"/>
<area shape="rect" id="node22" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1512,1529,1655,1556"/>
<area shape="rect" id="node23" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1750,1580,1858,1606"/>
<area shape="rect" id="node24" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1739,373,1869,400"/>
<area shape="rect" id="node25" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1937,946,2097,973"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1525,398,1642,425"/>
<area shape="rect" id="node27" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1719,972,1889,998"/>
<area shape="rect" id="node28" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1539,804,1628,830"/>
<area shape="rect" id="node29" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1501,972,1665,998"/>
<area shape="rect" id="node30" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1763,310,1845,337"/>
<area shape="rect" id="node31" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1507,1073,1660,1100"/>
<area shape="rect" id="node32" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1501,854,1666,881"/>
<area shape="rect" id="node33" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1513,906,1653,947"/>
<area shape="rect" id="node34" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1731,1124,1877,1150"/>
<area shape="rect" id="node35" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1546,1174,1621,1201"/>
<area shape="rect" id="node36" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1750,1225,1858,1252"/>
<area shape="rect" id="node38" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="1085,664,1239,690"/>
<area shape="rect" id="node39" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="874,1022,1010,1049"/>
<area shape="rect" id="node40" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1085,913,1239,940"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="860,769,1024,796"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="873,972,1011,998"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="855,298,1029,339"/>
<area shape="rect" id="node42" href="extent__io_8c.html#a5476f8a8a038de2a49cb6b44b551956a" title="extent_buffer_test_bit" alt="" coords="1088,1081,1236,1108"/>
<area shape="rect" id="node41" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1295,964,1448,990"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a7e8bdd63562566f16a8d9c43b6d3767d" title="extent_buffer_bitmap_set" alt="" coords="1077,1030,1247,1057"/>
<area shape="rect" id="node46" href="extent__io_8c.html#ae3047523da5fcaa68eac79da0851a5d4" title="extent_buffer_bitmap\l_clear" alt="" coords="1090,964,1234,1006"/>
<area shape="rect" id="node49" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="890,414,994,441"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_icgraph.png" border="0" usemap="#free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_icgraph" id="free-space-tree_8c_a259b79c4e6a9c79d4486a26705847e7f_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="195,376,393,403"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="237,781,351,808"/>
<area shape="rect" id="node44" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="216,427,372,453"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="233,477,355,504"/>
<area shape="rect" id="node46" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="225,528,363,555"/>
<area shape="rect" id="node47" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="238,579,350,605"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="235,629,353,656"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="235,680,353,707"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="233,731,355,757"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="465,343,595,385"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="463,409,597,450"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="669,359,815,385"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1286,271,1413,313"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="865,416,1008,443"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1056,532,1224,559"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1272,556,1427,583"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1743,710,1883,751"/>
<area shape="rect" id="node18" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1475,279,1681,305"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2141,347,2292,389"/>
<area shape="rect" id="node26" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2552,489,2721,516"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="2140,453,2293,494"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2348,489,2504,516"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1496,692,1660,719"/>
<area shape="rect" id="node32" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1482,793,1674,820"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1493,743,1663,769"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2788,489,2909,516"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1964,667,2067,693"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2976,489,3123,516"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2353,844,2499,871"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="2168,641,2265,668"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="2569,793,2705,820"/>
<area shape="rect" id="node14" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2789,793,2908,820"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2805,920,2892,947"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="2559,945,2714,972"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1739,93,1888,120"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1729,271,1897,313"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1959,68,2071,95"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2133,43,2300,69"/>
<area shape="rect" id="node22" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1945,119,2085,145"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1950,337,2081,364"/>
<area shape="rect" id="node30" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1948,271,2083,313"/>
<area shape="rect" id="node27" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="2769,241,2928,268"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1749,5,1877,32"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="2363,43,2489,69"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="671,416,813,443"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="441,604,619,631"/>
<area shape="rect" id="node41" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="667,604,817,631"/>
<area shape="rect" id="node42" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="891,604,982,631"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="1093,604,1187,631"/>
</map>
</div>

</div>
</div>
<a id="ad2012bd96411caadf5b82857cff7448c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2012bd96411caadf5b82857cff7448c">&#9670;&nbsp;</a></span>add_block_group_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_block_group_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_cgraph.png" border="0" usemap="#free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_cgraph" alt=""/></div>
<map name="free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_cgraph" id="free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="227,1719,341,1746"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="203,1771,365,1812"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="446,2241,555,2267"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="636,1386,809,1413"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="413,1778,588,1805"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="857,1386,1020,1413"/>
<area shape="rect" id="node12" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="2177,1285,2306,1311"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1521,1690,1677,1717"/>
<area shape="rect" id="node6" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="1092,1488,1223,1529"/>
<area shape="rect" id="node33" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="1103,1183,1211,1210"/>
<area shape="rect" id="node37" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1545,1437,1653,1463"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1316,525,1448,551"/>
<area shape="rect" id="node7" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1750,1133,1873,1159"/>
<area shape="rect" id="node22" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1305,1589,1459,1615"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1958,778,2098,805"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2377,981,2504,1007"/>
<area shape="rect" id="node13" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="2369,1158,2512,1185"/>
<area shape="rect" id="node18" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="2161,550,2321,577"/>
<area shape="rect" id="node19" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1943,677,2113,703"/>
<area shape="rect" id="node20" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1987,981,2069,1007"/>
<area shape="rect" id="node21" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1951,373,2105,399"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="2560,1006,2715,1033"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="2564,955,2711,982"/>
<area shape="rect" id="node14" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="2576,1299,2699,1326"/>
<area shape="rect" id="node16" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="2560,1121,2715,1163"/>
<area shape="rect" id="node17" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="2560,1187,2715,1214"/>
<area shape="rect" id="node15" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="2763,1415,2928,1442"/>
<area shape="rect" id="node23" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1757,1639,1865,1666"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="2164,2045,2319,2071"/>
<area shape="rect" id="node25" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="2387,1462,2495,1489"/>
<area shape="rect" id="node27" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1773,1741,1850,1767"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1734,1690,1889,1717"/>
<area shape="rect" id="node31" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1728,1893,1895,1919"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1954,1690,2102,1717"/>
<area shape="rect" id="node30" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1962,1741,2094,1767"/>
<area shape="rect" id="node32" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1985,2045,2071,2071"/>
<area shape="rect" id="node34" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1316,1031,1448,1058"/>
<area shape="rect" id="node35" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1525,829,1672,855"/>
<area shape="rect" id="node36" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="1517,727,1680,754"/>
<area shape="rect" id="node38" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1767,1386,1856,1413"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="1519,1386,1679,1413"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="1068,1985,1247,2011"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="644,1698,801,1725"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="1521,1943,1676,1970"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="1531,2298,1667,2325"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="1300,2010,1464,2037"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="1313,1909,1451,1935"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="1295,1691,1469,1732"/>
<area shape="rect" id="node49" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="887,1499,991,1526"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_icgraph.png" border="0" usemap="#free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_icgraph" alt=""/></div>
<map name="free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_icgraph" id="free-space-tree_8c_ad2012bd96411caadf5b82857cff7448c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="203,567,345,609"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="239,781,309,808"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="815,289,1021,316"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1543,43,1655,69"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="393,575,548,601"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="606,391,757,433"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1069,879,1239,905"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1296,296,1457,323"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1765,300,1887,327"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1775,195,1877,221"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1302,43,1451,69"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1070,282,1238,323"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1743,56,1909,83"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1748,406,1904,447"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1780,499,1872,525"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1769,119,1883,145"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1746,5,1906,32"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1084,398,1224,439"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1744,1520,1908,1547"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="605,509,758,550"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="840,625,996,652"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="822,456,1014,483"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="596,676,767,703"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1773,879,1879,905"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1316,1259,1437,1285"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1326,1309,1427,1336"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1331,1360,1422,1387"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1519,1309,1678,1336"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1287,1208,1467,1235"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1291,1461,1462,1488"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1319,1512,1434,1539"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1758,620,1894,647"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1308,448,1445,475"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1515,499,1683,525"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1731,751,1921,777"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1735,1199,1917,1225"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1325,803,1428,829"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1317,853,1436,880"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1316,904,1437,931"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1764,998,1888,1039"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1307,1005,1446,1032"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1743,551,1909,593"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1302,1056,1451,1083"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1297,1107,1456,1133"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1756,675,1896,717"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1307,1157,1447,1184"/>
<area shape="rect" id="node43" href="transaction_8h.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="1525,600,1672,627"/>
<area shape="rect" id="node44" href="transaction_8h.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="1525,297,1672,338"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="395,929,547,956"/>
</map>
</div>

</div>
</div>
<a id="aa99f0a54ad2dc91a23b9e16beb5d5c5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99f0a54ad2dc91a23b9e16beb5d5c5e">&#9670;&nbsp;</a></span>add_free_space_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_free_space_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_cgraph.png" border="0" usemap="#free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_cgraph" alt=""/></div>
<map name="free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_cgraph" id="free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="621,770,776,797"/>
<area shape="rect" id="node15" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1454,348,1583,374"/>
<area shape="rect" id="node33" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1008,1090,1163,1117"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="246,1446,350,1473"/>
<area shape="rect" id="node42" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="617,930,780,957"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="211,898,385,939"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1024,981,1147,1008"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1237,1782,1359,1809"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1449,905,1589,932"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1463,1057,1575,1084"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1211,1108,1385,1134"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1441,1158,1596,1185"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1669,1057,1795,1084"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1227,1006,1369,1033"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1465,956,1573,982"/>
<area shape="rect" id="node14" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1454,1605,1583,1632"/>
<area shape="rect" id="node16" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1661,297,1803,324"/>
<area shape="rect" id="node20" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1652,677,1812,704"/>
<area shape="rect" id="node21" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1239,1630,1357,1657"/>
<area shape="rect" id="node22" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1433,702,1604,729"/>
<area shape="rect" id="node23" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1253,1260,1343,1286"/>
<area shape="rect" id="node24" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1216,601,1380,628"/>
<area shape="rect" id="node25" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1257,246,1339,273"/>
<area shape="rect" id="node26" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1221,500,1375,526"/>
<area shape="rect" id="node27" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1215,1310,1381,1337"/>
<area shape="rect" id="node28" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1228,1362,1368,1403"/>
<area shape="rect" id="node29" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1445,1478,1592,1505"/>
<area shape="rect" id="node30" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1261,1529,1335,1556"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1860,1032,2015,1058"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1864,1082,2011,1109"/>
<area shape="rect" id="node17" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1876,348,1999,374"/>
<area shape="rect" id="node18" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1860,231,2015,272"/>
<area shape="rect" id="node19" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1860,297,2015,324"/>
<area shape="rect" id="node31" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1465,2086,1573,2113"/>
<area shape="rect" id="node32" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1683,2112,1781,2138"/>
<area shape="rect" id="node34" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1221,1732,1375,1758"/>
<area shape="rect" id="node36" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1030,1985,1141,2012"/>
<area shape="rect" id="node40" href="ctree_8h.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1008,1884,1163,1910"/>
<area shape="rect" id="node41" href="ctree_8h.html#abcf0350a6f0ef696eb19f4d9603c5548" title="btrfs_insert_item" alt="" coords="442,1446,561,1473"/>
<area shape="rect" id="node43" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="829,974,959,1015"/>
<area shape="rect" id="node37" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1227,1985,1369,2012"/>
<area shape="rect" id="node38" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1449,2213,1588,2240"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1220,1884,1376,1910"/>
<area shape="rect" id="node44" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="840,872,948,898"/>
<area shape="rect" id="node45" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="840,922,948,949"/>
<area shape="rect" id="node46" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="828,652,960,678"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="619,821,779,848"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="433,931,569,972"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="433,866,569,907"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_icgraph.png" border="0" usemap="#free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_icgraph" alt=""/></div>
<map name="free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_icgraph" id="free-space-tree_8c_aa99f0a54ad2dc91a23b9e16beb5d5c5e_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="211,187,385,213"/>
<area shape="rect" id="node3" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="434,485,595,512"/>
<area shape="rect" id="node28" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2135,809,2305,836"/>
<area shape="rect" id="node29" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="433,209,596,250"/>
<area shape="rect" id="node42" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="885,5,997,32"/>
<area shape="rect" id="node43" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="881,56,1000,83"/>
<area shape="rect" id="node44" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="881,157,1000,184"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="879,107,1002,133"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1099,593,1233,620"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1307,528,1454,555"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1309,579,1452,605"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1521,553,1664,580"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1716,553,1884,580"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1932,553,2087,580"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2353,501,2560,528"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2145,603,2295,645"/>
<area shape="rect" id="node12" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2372,640,2541,667"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2643,603,2764,629"/>
<area shape="rect" id="node13" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2608,780,2799,807"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2623,679,2784,705"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2847,780,2933,807"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2983,664,3089,691"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2981,805,3091,832"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="3368,599,3488,625"/>
<area shape="rect" id="node18" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="3139,827,3320,869"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="3161,893,3297,934"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="3167,959,3291,985"/>
<area shape="rect" id="node21" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="3169,1009,3289,1036"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="3153,675,3305,701"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="3162,725,3297,752"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="3179,776,3279,803"/>
<area shape="rect" id="node25" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="3151,624,3307,651"/>
<area shape="rect" id="node30" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="648,209,789,250"/>
<area shape="rect" id="node46" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="644,403,793,445"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="841,469,1040,496"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1109,309,1223,336"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1088,360,1244,387"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1105,208,1227,235"/>
<area shape="rect" id="node41" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="871,259,1010,285"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1101,462,1231,503"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1099,527,1233,569"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1529,435,1656,477"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1292,208,1469,235"/>
<area shape="rect" id="node37" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1517,208,1668,235"/>
<area shape="rect" id="node38" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1755,208,1845,235"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1729,637,1871,678"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="906,411,975,437"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1953,708,2065,735"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1090,411,1242,437"/>
</map>
</div>

</div>
</div>
<a id="afca07c33e93685cc949b816d05bd6f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afca07c33e93685cc949b816d05bd6f2e">&#9670;&nbsp;</a></span>add_new_free_space_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_new_free_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_cgraph.png" border="0" usemap="#free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_cgraph" alt=""/></div>
<map name="free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_cgraph" id="free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="227,1469,389,1496"/>
<area shape="rect" id="node12" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1482,1871,1611,1897"/>
<area shape="rect" id="node37" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="822,132,978,159"/>
<area shape="rect" id="node3" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="437,1255,568,1297"/>
<area shape="rect" id="node44" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="449,1556,557,1583"/>
<area shape="rect" id="node48" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="846,1111,954,1137"/>
<area shape="rect" id="node50" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="627,1921,759,1948"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1051,1516,1174,1543"/>
<area shape="rect" id="node23" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="616,487,771,513"/>
<area shape="rect" id="node5" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1270,1516,1393,1543"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1477,1364,1617,1391"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1491,1212,1603,1239"/>
<area shape="rect" id="node8" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1244,1263,1419,1289"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1699,1263,1826,1289"/>
<area shape="rect" id="node13" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1691,1972,1834,1999"/>
<area shape="rect" id="node18" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1467,2023,1627,2049"/>
<area shape="rect" id="node19" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1246,1972,1417,1999"/>
<area shape="rect" id="node20" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1291,2175,1372,2201"/>
<area shape="rect" id="node21" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1255,1871,1408,1897"/>
<area shape="rect" id="node22" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1258,807,1405,833"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1899,1288,2053,1315"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1903,1237,2049,1264"/>
<area shape="rect" id="node14" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1915,1729,2037,1756"/>
<area shape="rect" id="node16" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1899,1994,2053,2035"/>
<area shape="rect" id="node17" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1899,1943,2053,1969"/>
<area shape="rect" id="node15" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="2101,944,2267,971"/>
<area shape="rect" id="node24" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1059,487,1167,513"/>
<area shape="rect" id="node25" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1927,385,2025,412"/>
<area shape="rect" id="node26" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1469,908,1624,935"/>
<area shape="rect" id="node28" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1267,538,1396,579"/>
<area shape="rect" id="node29" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1270,284,1393,311"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1482,284,1611,311"/>
<area shape="rect" id="node31" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1475,335,1619,361"/>
<area shape="rect" id="node32" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1675,436,1851,463"/>
<area shape="rect" id="node33" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1265,604,1398,631"/>
<area shape="rect" id="node34" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1287,655,1376,681"/>
<area shape="rect" id="node35" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1278,705,1385,732"/>
<area shape="rect" id="node36" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1276,756,1387,783"/>
<area shape="rect" id="node27" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1709,908,1817,935"/>
<area shape="rect" id="node38" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1074,81,1151,108"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1035,31,1190,57"/>
<area shape="rect" id="node42" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1029,857,1196,884"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1257,5,1405,32"/>
<area shape="rect" id="node41" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1265,56,1397,83"/>
<area shape="rect" id="node43" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1289,1009,1374,1036"/>
<area shape="rect" id="node45" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="627,1617,759,1644"/>
<area shape="rect" id="node46" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="827,1972,973,1999"/>
<area shape="rect" id="node47" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="819,1719,981,1745"/>
<area shape="rect" id="node49" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1068,1111,1157,1137"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_icgraph.png" border="0" usemap="#free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_icgraph" alt=""/></div>
<map name="free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_icgraph" id="free-space-tree_8c_afca07c33e93685cc949b816d05bd6f2e_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="871,5,1042,32"/>
<area shape="rect" id="node16" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="227,150,389,191"/>
<area shape="rect" id="node3" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1783,333,1973,360"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2034,333,2121,360"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2183,265,2289,292"/>
<area shape="rect" id="node7" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2181,403,2291,429"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2568,203,2688,229"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="2339,330,2520,371"/>
<area shape="rect" id="node9" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="2361,395,2497,437"/>
<area shape="rect" id="node10" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="2367,461,2491,488"/>
<area shape="rect" id="node11" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="2369,512,2489,539"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="2353,563,2505,589"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="2362,613,2497,640"/>
<area shape="rect" id="node14" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="2379,279,2479,305"/>
<area shape="rect" id="node15" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="2351,228,2507,255"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="651,277,793,318"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="635,157,809,184"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="437,505,587,546"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="857,563,1056,589"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="899,360,1014,387"/>
<area shape="rect" id="node33" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="879,411,1035,437"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="895,461,1018,488"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="887,309,1026,336"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="901,259,1013,285"/>
<area shape="rect" id="node37" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="897,107,1016,133"/>
<area shape="rect" id="node38" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="897,157,1016,184"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="895,208,1018,235"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1127,401,1258,442"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1125,335,1260,377"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1331,371,1478,397"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1341,619,1468,661"/>
<area shape="rect" id="node22" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1528,692,1735,719"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1817,603,1939,629"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1827,657,1929,684"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1803,783,1953,809"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1794,709,1962,750"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2021,816,2133,843"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1333,233,1476,260"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1104,284,1281,311"/>
<area shape="rect" id="node32" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1329,284,1480,311"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="876,56,1037,83"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1125,233,1260,260"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="885,678,1028,719"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="687,512,757,539"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1115,685,1270,712"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1329,737,1480,778"/>
<area shape="rect" id="node47" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1547,556,1716,583"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1797,551,1959,577"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="881,512,1033,539"/>
</map>
</div>

</div>
</div>
<a id="a993c3c9c24de076a30cd08520fbbb444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a993c3c9c24de076a30cd08520fbbb444">&#9670;&nbsp;</a></span>add_to_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_to_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_cgraph.png" border="0" usemap="#free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_cgraph" id="free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="245,1245,359,1272"/>
<area shape="rect" id="node3" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="237,1297,367,1338"/>
<area shape="rect" id="node6" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="215,1363,389,1389"/>
<area shape="rect" id="node49" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="227,1413,377,1440"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1104,1616,1213,1643"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="445,879,608,921"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="676,789,827,816"/>
<area shape="rect" id="node7" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="445,1385,608,1426"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1511,1119,1641,1145"/>
<area shape="rect" id="node19" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="888,1195,1048,1221"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="437,1068,616,1095"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="448,1333,605,1360"/>
<area shape="rect" id="node8" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="665,1515,838,1541"/>
<area shape="rect" id="node9" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="887,1464,1049,1491"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="890,1304,1046,1331"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1718,992,1861,1019"/>
<area shape="rect" id="node16" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1726,359,1853,385"/>
<area shape="rect" id="node13" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1933,933,2056,960"/>
<area shape="rect" id="node14" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1917,985,2072,1026"/>
<area shape="rect" id="node15" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1917,1051,2072,1077"/>
<area shape="rect" id="node17" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1917,384,2072,411"/>
<area shape="rect" id="node18" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1921,333,2068,360"/>
<area shape="rect" id="node20" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1097,561,1220,588"/>
<area shape="rect" id="node21" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1294,536,1417,563"/>
<area shape="rect" id="node22" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1506,189,1646,216"/>
<area shape="rect" id="node23" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1520,384,1632,411"/>
<area shape="rect" id="node24" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1268,283,1443,309"/>
<area shape="rect" id="node25" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1499,333,1653,360"/>
<area shape="rect" id="node26" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1284,435,1427,461"/>
<area shape="rect" id="node27" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1522,485,1630,512"/>
<area shape="rect" id="node28" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1511,612,1641,639"/>
<area shape="rect" id="node29" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1709,815,1869,841"/>
<area shape="rect" id="node30" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1297,587,1414,613"/>
<area shape="rect" id="node31" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1491,840,1661,867"/>
<area shape="rect" id="node32" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1311,891,1400,917"/>
<area shape="rect" id="node33" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1273,840,1437,867"/>
<area shape="rect" id="node34" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1535,941,1617,968"/>
<area shape="rect" id="node35" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1279,739,1432,765"/>
<area shape="rect" id="node36" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1273,165,1438,192"/>
<area shape="rect" id="node37" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1285,217,1425,258"/>
<area shape="rect" id="node38" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1503,39,1649,65"/>
<area shape="rect" id="node39" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1318,64,1393,91"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="891,1093,1045,1120"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="683,891,819,917"/>
<area shape="rect" id="node43" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="891,941,1045,968"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="669,992,833,1019"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="682,1093,821,1120"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="664,1297,839,1338"/>
<area shape="rect" id="node48" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="699,1413,803,1440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_icgraph.png" border="0" usemap="#free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_icgraph" id="free-space-tree_8c_a993c3c9c24de076a30cd08520fbbb444_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="215,430,349,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="397,405,544,431"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="399,455,542,482"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="592,430,735,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="783,430,951,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="999,430,1153,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1719,137,1859,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1685,361,1892,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1215,197,1379,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1464,532,1615,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2384,609,2553,635"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1221,423,1374,464"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1461,478,1617,505"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1940,507,2111,534"/>
<area shape="rect" id="node47" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1201,291,1393,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2636,86,2757,113"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1974,238,2077,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1960,5,2091,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1963,71,2087,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="1970,137,2081,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1951,339,2100,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1941,391,2109,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1441,153,1637,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2643,305,2750,331"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2636,355,2757,382"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2646,406,2747,433"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2651,457,2742,483"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2840,533,2999,559"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2607,558,2787,585"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2611,609,2782,635"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2639,659,2754,686"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2629,710,2765,737"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2628,761,2765,787"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2619,812,2775,853"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2613,878,2781,905"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2601,929,2792,955"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2605,979,2788,1006"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2645,1030,2748,1057"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2637,1081,2756,1107"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2636,1131,2757,1158"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2635,1183,2759,1224"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2627,1249,2766,1275"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2613,137,2780,179"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2622,203,2771,230"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2617,254,2776,281"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1701,507,1876,534"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2159,507,2336,534"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1469,321,1609,347"/>
<area shape="rect" id="node49" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1455,255,1624,296"/>
</map>
</div>

</div>
</div>
<a id="a1fc3dfdc7847d9b4a32a7d811a339366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc3dfdc7847d9b4a32a7d811a339366">&#9670;&nbsp;</a></span>alloc_bitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u8* alloc_bitmap </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>bitmap_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a1fc3dfdc7847d9b4a32a7d811a339366_icgraph.png" border="0" usemap="#free-space-tree_8c_a1fc3dfdc7847d9b4a32a7d811a339366_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a1fc3dfdc7847d9b4a32a7d811a339366_icgraph" id="free-space-tree_8c_a1fc3dfdc7847d9b4a32a7d811a339366_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="148,591,284,633"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="148,657,284,698"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="332,591,507,633"/>
<area shape="rect" id="node44" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1510,224,1579,251"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="1219,548,1397,575"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="555,577,733,604"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="781,628,960,655"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="565,468,723,495"/>
<area shape="rect" id="node5" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1237,482,1379,523"/>
<area shape="rect" id="node36" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="783,439,958,465"/>
<area shape="rect" id="node6" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1445,275,1644,301"/>
<area shape="rect" id="node24" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1487,544,1602,571"/>
<area shape="rect" id="node29" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1467,595,1623,621"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1483,645,1606,672"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1475,493,1614,520"/>
<area shape="rect" id="node32" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1489,392,1601,419"/>
<area shape="rect" id="node33" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1485,341,1604,368"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1485,747,1604,773"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1483,443,1606,469"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1709,225,1839,266"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1707,57,1841,98"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1919,123,2066,149"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1929,318,2056,359"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="2133,123,2276,149"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="2328,123,2496,149"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2544,123,2699,149"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2965,245,3172,272"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2757,209,2907,250"/>
<area shape="rect" id="node14" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2984,107,3153,133"/>
<area shape="rect" id="node15" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3220,69,3411,96"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="3235,229,3396,256"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3459,69,3545,96"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3595,44,3701,71"/>
<area shape="rect" id="node18" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3593,95,3703,121"/>
<area shape="rect" id="node21" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="2141,376,2269,403"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1921,72,2064,99"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1904,519,2081,545"/>
<area shape="rect" id="node26" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="2129,519,2280,545"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="2367,519,2457,545"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2574,519,2669,545"/>
<area shape="rect" id="node37" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="1009,208,1170,235"/>
<area shape="rect" id="node39" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2747,5,2917,32"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="1008,461,1171,502"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1707,123,1841,149"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1233,217,1383,258"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="2341,174,2483,215"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2565,224,2677,251"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1698,291,1850,317"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1692,696,1856,723"/>
</map>
</div>

</div>
</div>
<a id="a7e9b117815c36483318bca62d1074481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e9b117815c36483318bca62d1074481">&#9670;&nbsp;</a></span>btrfs_clear_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_clear_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a7e9b117815c36483318bca62d1074481_cgraph.png" border="0" usemap="#free-space-tree_8c_a7e9b117815c36483318bca62d1074481_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a7e9b117815c36483318bca62d1074481_cgraph" id="free-space-tree_8c_a7e9b117815c36483318bca62d1074481_cgraph">
<area shape="rect" id="node2" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="236,537,388,564"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="663,537,832,564"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="895,5,1042,32"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1501,935,1627,961"/>
<area shape="rect" id="node30" href="free-space-tree_8c.html#a0889f0179a51c5b0f0fc4e8f377d5f76" title="clear_free_space_tree" alt="" coords="893,1011,1044,1037"/>
<area shape="rect" id="node32" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1315,1315,1423,1341"/>
<area shape="rect" id="node34" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="1309,1264,1429,1291"/>
<area shape="rect" id="node38" href="ctree_8h.html#a9a7fd6bb8da654fdf6ef692296f966fb" title="btrfs_del_root" alt="" coords="918,1061,1019,1088"/>
<area shape="rect" id="node40" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="686,1781,809,1808"/>
<area shape="rect" id="node41" href="ctree_8h.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="240,1576,384,1603"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="466,537,585,564"/>
<area shape="rect" id="node6" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="891,508,1046,535"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="902,559,1035,601"/>
<area shape="rect" id="node8" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="897,625,1040,666"/>
<area shape="rect" id="node9" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="893,1113,1044,1154"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="909,741,1028,768"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1109,741,1253,768"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="899,691,1038,717"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="893,843,1044,869"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a08a2e4a01f8eb487096e1422ec973cfc" title="btrfs_start_delalloc\l_flush" alt="" coords="903,894,1035,935"/>
<area shape="rect" id="node22" href="delayed-inode_8c.html#a8c6861e7722b06f9ded04e45b83fbc15" title="btrfs_run_delayed_items" alt="" coords="887,56,1051,83"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a1927d5ec2842a9ad39826e170bf35cbb" title="extwriter_counter_read" alt="" coords="891,107,1046,133"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#af3ea5a04e5165da96fdabc2dcef4b02f" title="btrfs_wait_delalloc\l_flush" alt="" coords="903,158,1034,199"/>
<area shape="rect" id="node25" href="btrfs_2transaction_8c.html#a01e6add3100b59f57f27ce881b3681b6" title="btrfs_wait_pending\l_ordered" alt="" coords="903,223,1034,265"/>
<area shape="rect" id="node26" href="ctree_8h.html#a8c8878169667452f2b9a132fd1d00ccb" title="btrfs_scrub_pause" alt="" coords="904,289,1033,316"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="880,340,1057,367"/>
<area shape="rect" id="node28" href="delayed-inode_8c.html#aa3c1a109907f5b8348989d763d488224" title="btrfs_assert_delayed\l_root_empty" alt="" coords="897,391,1040,433"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="909,457,1028,484"/>
<area shape="rect" id="node10" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1123,1061,1238,1088"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="1105,1213,1256,1240"/>
<area shape="rect" id="node12" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1126,1112,1235,1139"/>
<area shape="rect" id="node13" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1304,960,1433,987"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1695,909,1849,936"/>
<area shape="rect" id="node16" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1699,960,1845,987"/>
<area shape="rect" id="node31" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1119,1011,1242,1037"/>
<area shape="rect" id="node33" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1125,909,1236,936"/>
<area shape="rect" id="node35" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1481,1399,1647,1425"/>
<area shape="rect" id="node36" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1485,1235,1643,1261"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a5d6d3672069a2fb3866e895fec76db34" title="clear_extent_buffer\l_dirty" alt="" coords="1497,1286,1631,1327"/>
<area shape="rect" id="node39" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="1129,1163,1233,1189"/>
<area shape="rect" id="node42" href="ref-verify_8c.html#addf48048e72e9d8a2ee590004bc445ed" title="btrfs_ref_tree_mod" alt="" coords="460,1416,591,1443"/>
<area shape="rect" id="node43" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="436,1467,615,1493"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="460,1517,591,1544"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="460,1569,591,1610"/>
<area shape="rect" id="node46" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="464,1635,587,1661"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#aa61acca1ed78a89370c00c0ee8865e97" title="pin_down_extent" alt="" coords="465,1685,585,1712"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="452,1736,599,1763"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a0cfc265000250b53e31d1b0c836c54db" title="btrfs_free_reserved\l_bytes" alt="" coords="458,1787,593,1829"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a5a03b46ba34257238b4b04a3a71eea29" title="add_pinned_bytes" alt="" coords="462,1853,589,1880"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a7e9b117815c36483318bca62d1074481_icgraph.png" border="0" usemap="#free-space-tree_8c_a7e9b117815c36483318bca62d1074481_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a7e9b117815c36483318bca62d1074481_icgraph" id="free-space-tree_8c_a7e9b117815c36483318bca62d1074481_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="236,589,323,616"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="372,292,479,319"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="371,589,480,616"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1017,245,1137,272"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1264,224,1375,251"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="528,742,709,783"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="551,523,687,565"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="557,691,681,717"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="559,640,679,667"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="543,888,695,915"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="551,957,686,984"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="569,140,669,167"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="541,368,697,395"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="757,752,939,779"/>
<area shape="rect" id="node9" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1027,753,1128,780"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="775,471,921,497"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="761,531,935,557"/>
<area shape="rect" id="node12" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="999,317,1156,344"/>
<area shape="rect" id="node13" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1241,275,1397,301"/>
<area shape="rect" id="node14" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1232,325,1407,352"/>
<area shape="rect" id="node16" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1020,368,1135,395"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1285,535,1354,561"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1004,535,1151,577"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="990,470,1165,511"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1244,376,1395,403"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1255,427,1384,453"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1479,484,1630,511"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1471,535,1639,561"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1503,585,1607,612"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1475,433,1634,460"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="790,652,906,679"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1235,703,1404,729"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1024,652,1131,679"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="766,1059,930,1085"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="766,888,930,915"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1216,921,1423,948"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1008,804,1147,831"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="778,957,918,984"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="770,1008,926,1035"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1013,855,1142,897"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1003,973,1151,1014"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1031,1039,1124,1065"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1030,1089,1125,1116"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="791,115,905,141"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1029,56,1125,83"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="987,107,1168,149"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1018,5,1137,32"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="763,317,933,344"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="785,368,911,395"/>
</map>
</div>

</div>
</div>
<a id="a8da6dce5e777157e252c84e386196315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da6dce5e777157e252c84e386196315">&#9670;&nbsp;</a></span>btrfs_create_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_create_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a8da6dce5e777157e252c84e386196315_cgraph.png" border="0" usemap="#free-space-tree_8c_a8da6dce5e777157e252c84e386196315_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a8da6dce5e777157e252c84e386196315_cgraph" id="free-space-tree_8c_a8da6dce5e777157e252c84e386196315_cgraph">
<area shape="rect" id="node2" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="244,965,396,992"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="666,721,835,748"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#ac42d4f5f35cb875361bc52d2771f7fd1" title="btrfs_end_transaction" alt="" coords="911,1328,1057,1355"/>
<area shape="rect" id="node33" href="disk-io_8c.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="691,1836,811,1863"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="444,1431,615,1457"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="470,965,589,992"/>
<area shape="rect" id="node6" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1129,959,1284,985"/>
<area shape="rect" id="node7" href="btrfs_2transaction_8c.html#a7e07117bd718820fb3ac86f79fcc05fe" title="btrfs_trans_release\l_metadata" alt="" coords="917,978,1051,1019"/>
<area shape="rect" id="node8" href="ctree_8h.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="913,1043,1055,1085"/>
<area shape="rect" id="node9" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="909,1211,1059,1253"/>
<area shape="rect" id="node12" href="btrfs_2transaction_8c.html#a16ecc912c2adc8cf19cf96d49b0951ee" title="wait_for_commit" alt="" coords="925,1109,1043,1136"/>
<area shape="rect" id="node13" href="btrfs_2transaction_8c.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="1135,1085,1279,1112"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="915,1160,1053,1187"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#aa3797f9d27378ba664b0a25567a5e8bf" title="extwriter_counter_dec" alt="" coords="909,5,1059,32"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#a08a2e4a01f8eb487096e1422ec973cfc" title="btrfs_start_delalloc\l_flush" alt="" coords="918,57,1050,98"/>
<area shape="rect" id="node17" href="delayed-inode_8c.html#a8c6861e7722b06f9ded04e45b83fbc15" title="btrfs_run_delayed_items" alt="" coords="902,123,1066,149"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a1927d5ec2842a9ad39826e170bf35cbb" title="extwriter_counter_read" alt="" coords="907,173,1061,200"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#af3ea5a04e5165da96fdabc2dcef4b02f" title="btrfs_wait_delalloc\l_flush" alt="" coords="919,225,1049,266"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a01e6add3100b59f57f27ce881b3681b6" title="btrfs_wait_pending\l_ordered" alt="" coords="919,290,1049,331"/>
<area shape="rect" id="node21" href="ctree_8h.html#a8c8878169667452f2b9a132fd1d00ccb" title="btrfs_scrub_pause" alt="" coords="919,356,1049,383"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="895,407,1073,433"/>
<area shape="rect" id="node23" href="delayed-inode_8c.html#aa3c1a109907f5b8348989d763d488224" title="btrfs_assert_delayed\l_root_empty" alt="" coords="913,458,1055,499"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="925,575,1043,601"/>
<area shape="rect" id="node25" href="ctree_8h.html#a647e0a8ba8803131c2ed3235c7d9aab3" title="btrfs_set_root_node" alt="" coords="1138,549,1275,576"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a488c6eb8e7572d555ec64393c23564f0" title="btrfs_apply_pending\l_changes" alt="" coords="915,626,1053,667"/>
<area shape="rect" id="node27" href="tree-log_8c.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="905,692,1063,719"/>
<area shape="rect" id="node28" href="qgroup_8c.html#ac3a7ca77bc497d7a51bad0fd4c5a7bff" title="btrfs_qgroup_account\l_extents" alt="" coords="911,743,1057,785"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="906,1277,1062,1304"/>
<area shape="rect" id="node32" href="ctree_8h.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="913,861,1055,902"/>
<area shape="rect" id="node10" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1149,1299,1264,1325"/>
<area shape="rect" id="node11" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1152,1428,1261,1455"/>
<area shape="rect" id="node30" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1145,1583,1268,1609"/>
<area shape="rect" id="node31" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1143,1811,1270,1837"/>
<area shape="rect" id="node34" href="disk-io_8c.html#a60b993ca96d10a0f2d1ad36ec5dbcda2" title="btrfs_alloc_root" alt="" coords="929,2181,1039,2208"/>
<area shape="rect" id="node35" href="disk-io_8c.html#aacf54ca19f7cbab49b46ec618d893dec" title="__setup_root" alt="" coords="1158,2156,1255,2183"/>
<area shape="rect" id="node36" href="ctree_8h.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="909,1811,1059,1837"/>
<area shape="rect" id="node37" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="905,1912,1063,1939"/>
<area shape="rect" id="node38" href="ctree_8h.html#a174e51691b91106b11af4b68e1bd5bd4" title="btrfs_set_header_backref_rev" alt="" coords="887,1963,1081,1989"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a1412cbccbf2d3d13f0d8130755ceed91" title="write_extent_buffer_fsid" alt="" coords="903,2013,1065,2040"/>
<area shape="rect" id="node40" href="extent__io_8c.html#abb4068aabbe1eff92eb6dded5f02e161" title="write_extent_buffer\l_chunk_tree_uuid" alt="" coords="917,2065,1051,2106"/>
<area shape="rect" id="node41" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="906,1557,1062,1584"/>
<area shape="rect" id="node42" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="928,1659,1040,1685"/>
<area shape="rect" id="node43" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="948,1709,1020,1736"/>
<area shape="rect" id="node44" href="ctree_8h.html#a33b658c4deadc4262cc4bf945aac58ec" title="btrfs_insert_root" alt="" coords="926,1760,1042,1787"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="664,1557,837,1584"/>
<area shape="rect" id="node47" href="ctree_8c.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="663,1608,839,1635"/>
<area shape="rect" id="node48" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="673,1355,828,1381"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="663,1405,838,1432"/>
<area shape="rect" id="node50" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="695,1456,807,1483"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a8da6dce5e777157e252c84e386196315_icgraph.png" border="0" usemap="#free-space-tree_8c_a8da6dce5e777157e252c84e386196315_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a8da6dce5e777157e252c84e386196315_icgraph" id="free-space-tree_8c_a8da6dce5e777157e252c84e386196315_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="244,589,331,616"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="380,292,487,319"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="379,589,488,616"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1025,245,1145,272"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1272,224,1383,251"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="536,742,717,783"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="559,523,695,565"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="565,691,689,717"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="567,640,687,667"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="551,888,703,915"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="559,957,694,984"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="577,140,677,167"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="549,368,705,395"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="765,752,947,779"/>
<area shape="rect" id="node9" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1035,753,1136,780"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="783,471,929,497"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="769,531,943,557"/>
<area shape="rect" id="node12" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1007,317,1164,344"/>
<area shape="rect" id="node13" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1249,275,1405,301"/>
<area shape="rect" id="node14" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1240,325,1415,352"/>
<area shape="rect" id="node16" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1028,368,1143,395"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1293,535,1362,561"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1012,535,1159,577"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="998,470,1173,511"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1252,376,1403,403"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#a31d0069f6ad36fbbdb435877b951cc07" title="btrfs_ioctl_rm_dev" alt="" coords="1263,427,1392,453"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1487,484,1638,511"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1479,535,1647,561"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1511,585,1615,612"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1483,433,1642,460"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="798,652,914,679"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1243,703,1412,729"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1032,652,1139,679"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="774,1059,938,1085"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="774,888,938,915"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1224,921,1431,948"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1016,804,1155,831"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="786,957,926,984"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="778,1008,934,1035"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1021,855,1150,897"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1011,973,1159,1014"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1039,1039,1132,1065"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1038,1089,1133,1116"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="799,115,913,141"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1037,56,1133,83"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="995,107,1176,149"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1026,5,1145,32"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="771,317,941,344"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="793,368,919,395"/>
</map>
</div>

</div>
</div>
<a id="a87bb70899ea72cc9530bc8165090430b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bb70899ea72cc9530bc8165090430b">&#9670;&nbsp;</a></span>btrfs_search_prev_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_search_prev_slot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct btrfs_key *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ins_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_cgraph.png" border="0" usemap="#free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_cgraph" id="free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="208,806,331,832"/>
<area shape="rect" id="node3" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1301,223,1424,250"/>
<area shape="rect" id="node4" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="617,476,757,503"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="631,375,743,402"/>
<area shape="rect" id="node6" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="379,628,553,655"/>
<area shape="rect" id="node7" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="609,983,764,1010"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1299,755,1426,782"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="395,324,537,351"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="861,223,969,250"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1084,71,1213,98"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="622,1338,751,1364"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="844,1602,987,1628"/>
<area shape="rect" id="node23" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="835,1722,995,1748"/>
<area shape="rect" id="node25" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="857,426,974,452"/>
<area shape="rect" id="node28" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="601,1844,772,1871"/>
<area shape="rect" id="node30" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="421,831,511,858"/>
<area shape="rect" id="node33" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="384,1084,548,1111"/>
<area shape="rect" id="node42" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="425,1507,507,1534"/>
<area shape="rect" id="node43" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="389,1388,543,1415"/>
<area shape="rect" id="node47" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="383,1676,549,1703"/>
<area shape="rect" id="node48" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="396,1728,536,1769"/>
<area shape="rect" id="node49" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="613,780,760,807"/>
<area shape="rect" id="node50" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="429,730,503,756"/>
<area shape="rect" id="node8" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1287,1565,1439,1606"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1487,730,1641,756"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1491,780,1637,807"/>
<area shape="rect" id="node14" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1301,375,1424,402"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1307,46,1418,72"/>
<area shape="rect" id="node17" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1301,96,1424,123"/>
<area shape="rect" id="node20" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1087,1660,1210,1687"/>
<area shape="rect" id="node21" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1071,1594,1226,1636"/>
<area shape="rect" id="node22" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1071,1543,1226,1570"/>
<area shape="rect" id="node24" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1059,1722,1239,1748"/>
<area shape="rect" id="node26" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1069,476,1228,503"/>
<area shape="rect" id="node27" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1083,375,1214,402"/>
<area shape="rect" id="node29" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="820,1794,1011,1820"/>
<area shape="rect" id="node31" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="627,882,746,908"/>
<area shape="rect" id="node32" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="616,831,757,858"/>
<area shape="rect" id="node34" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="824,832,1007,873"/>
<area shape="rect" id="node35" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="623,1135,751,1162"/>
<area shape="rect" id="node40" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="646,932,727,959"/>
<area shape="rect" id="node41" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="636,578,737,604"/>
<area shape="rect" id="node36" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="847,1084,983,1111"/>
<area shape="rect" id="node37" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="829,1186,1001,1212"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="852,1263,979,1290"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="843,1458,988,1484"/>
<area shape="rect" id="node44" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="608,1439,765,1466"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a12d844363b833ecbd5b357019b5e8de7" title="btrfs_read_buffer" alt="" coords="627,1540,747,1567"/>
<area shape="rect" id="node46" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="613,1591,760,1618"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_icgraph.png" border="0" usemap="#free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_icgraph" id="free-space-tree_8c_a87bb70899ea72cc9530bc8165090430b_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="208,321,344,362"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="615,255,793,282"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="615,320,793,347"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="625,458,783,484"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="208,256,344,297"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="397,103,561,130"/>
<area shape="rect" id="node49" href="free-space-tree_8h.html#a19dd18b81a929d28d3a897478c7684a7" title="remove_block_group\l_free_space" alt="" coords="1307,738,1449,780"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="392,313,567,354"/>
<area shape="rect" id="node41" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1586,688,1655,715"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="1289,215,1467,242"/>
<area shape="rect" id="node5" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1307,286,1449,328"/>
<area shape="rect" id="node32" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="841,458,1016,484"/>
<area shape="rect" id="node6" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1521,462,1720,488"/>
<area shape="rect" id="node22" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1563,259,1678,286"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1543,310,1699,336"/>
<area shape="rect" id="node26" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1559,158,1682,184"/>
<area shape="rect" id="node27" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1551,208,1690,235"/>
<area shape="rect" id="node28" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1565,56,1677,83"/>
<area shape="rect" id="node29" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1561,107,1680,134"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1561,360,1680,387"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1559,411,1682,438"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1785,630,1915,672"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1783,462,1917,504"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1995,580,2142,607"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="2005,633,2132,674"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2205,660,2412,687"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2483,564,2605,591"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2493,682,2595,708"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2469,732,2619,759"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2460,616,2628,657"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2676,564,2823,591"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2679,732,2819,759"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2871,586,3037,612"/>
<area shape="rect" id="node17" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2883,707,3025,734"/>
<area shape="rect" id="node18" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="2919,758,2989,784"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1997,499,2140,526"/>
<area shape="rect" id="node23" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1980,234,2157,260"/>
<area shape="rect" id="node24" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="2233,234,2384,260"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="1069,508,1230,535"/>
<area shape="rect" id="node35" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="1064,626,1235,652"/>
<area shape="rect" id="node38" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="1068,560,1231,601"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1783,579,1917,606"/>
<area shape="rect" id="node36" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1283,626,1473,652"/>
<area shape="rect" id="node37" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1577,638,1664,664"/>
<area shape="rect" id="node39" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1303,560,1453,601"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1779,696,1921,737"/>
<area shape="rect" id="node42" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1774,528,1926,555"/>
<area shape="rect" id="node46" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1768,6,1932,32"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="2001,754,2137,796"/>
</map>
</div>

</div>
</div>
<a id="a0889f0179a51c5b0f0fc4e8f377d5f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0889f0179a51c5b0f0fc4e8f377d5f76">&#9670;&nbsp;</a></span>clear_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int clear_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_cgraph.png" border="0" usemap="#free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_cgraph" id="free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="208,1551,323,1578"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="204,1652,327,1679"/>
<area shape="rect" id="node19" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="618,1972,747,1999"/>
<area shape="rect" id="node44" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="407,516,517,543"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="211,2023,320,2050"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="835,35,957,62"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="613,1707,753,1734"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="627,1606,739,1632"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="375,1703,549,1730"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="605,1808,760,1835"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="833,1504,959,1531"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="391,1500,533,1527"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="842,1251,950,1278"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1053,1251,1182,1278"/>
<area shape="rect" id="node20" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="825,2226,967,2252"/>
<area shape="rect" id="node21" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="816,2074,976,2100"/>
<area shape="rect" id="node23" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="837,1150,955,1176"/>
<area shape="rect" id="node24" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="597,2175,768,2202"/>
<area shape="rect" id="node25" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="417,1348,507,1375"/>
<area shape="rect" id="node26" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="380,2074,544,2100"/>
<area shape="rect" id="node27" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="421,2226,503,2252"/>
<area shape="rect" id="node28" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="385,1871,539,1898"/>
<area shape="rect" id="node29" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="379,1399,545,1426"/>
<area shape="rect" id="node30" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="392,1805,532,1846"/>
<area shape="rect" id="node31" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="823,922,969,948"/>
<area shape="rect" id="node37" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="425,896,499,923"/>
<area shape="rect" id="node9" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1259,1997,1411,2038"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1040,1530,1195,1556"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1044,1479,1191,1506"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="835,1074,957,1100"/>
<area shape="rect" id="node17" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1279,1226,1390,1252"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1273,1276,1396,1303"/>
<area shape="rect" id="node22" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1027,2074,1207,2100"/>
<area shape="rect" id="node32" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1024,731,1211,758"/>
<area shape="rect" id="node33" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1057,846,1177,872"/>
<area shape="rect" id="node34" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1263,783,1406,810"/>
<area shape="rect" id="node35" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1285,560,1384,587"/>
<area shape="rect" id="node36" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1459,346,1597,372"/>
<area shape="rect" id="node38" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="618,795,747,822"/>
<area shape="rect" id="node39" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="627,1048,738,1075"/>
<area shape="rect" id="node40" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="631,1099,734,1126"/>
<area shape="rect" id="node41" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="629,694,737,720"/>
<area shape="rect" id="node42" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="627,643,739,670"/>
<area shape="rect" id="node43" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="818,604,974,631"/>
<area shape="rect" id="node45" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="827,288,965,315"/>
<area shape="rect" id="node46" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="631,339,734,366"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="599,86,766,112"/>
<area shape="rect" id="node48" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="623,136,743,163"/>
<area shape="rect" id="node49" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="633,187,733,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_icgraph.png" border="0" usemap="#free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_icgraph" id="free-space-tree_8c_a0889f0179a51c5b0f0fc4e8f377d5f76_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="204,560,291,587"/>
<area shape="rect" id="node28" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1439,43,1621,69"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="340,779,447,805"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="339,703,448,729"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="985,880,1105,907"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1232,880,1343,907"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="496,611,677,653"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="519,935,655,977"/>
<area shape="rect" id="node25" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="525,728,649,755"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="527,677,647,704"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="511,375,663,401"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="519,429,654,456"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="537,509,637,536"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="509,880,665,907"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="725,648,907,675"/>
<area shape="rect" id="node9" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="995,699,1096,725"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="743,1083,889,1109"/>
<area shape="rect" id="node15" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="729,1032,903,1059"/>
<area shape="rect" id="node12" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="967,1237,1124,1264"/>
<area shape="rect" id="node13" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1209,1237,1365,1264"/>
<area shape="rect" id="node14" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1200,1288,1375,1315"/>
<area shape="rect" id="node16" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="988,1187,1103,1213"/>
<area shape="rect" id="node18" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1253,1069,1322,1096"/>
<area shape="rect" id="node22" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="972,1121,1119,1162"/>
<area shape="rect" id="node23" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="958,1003,1133,1045"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1212,1187,1363,1213"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1455,993,1605,1020"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1446,1044,1614,1071"/>
<area shape="rect" id="node21" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1478,1095,1582,1121"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1451,648,1609,675"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="758,728,874,755"/>
<area shape="rect" id="node27" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1203,459,1372,485"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="992,800,1099,827"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="734,269,898,296"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="734,375,898,401"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1184,261,1391,288"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="976,379,1115,405"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="746,320,886,347"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="738,429,894,456"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="981,313,1110,354"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="971,195,1119,237"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="999,144,1092,171"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="998,429,1093,456"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="759,509,873,536"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="997,597,1093,624"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="955,481,1136,522"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="986,547,1105,573"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="731,931,901,957"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="753,829,879,856"/>
</map>
</div>

</div>
</div>
<a id="a5165dc521e94508b67380daa709941a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5165dc521e94508b67380daa709941a2">&#9670;&nbsp;</a></span>convert_free_space_to_bitmaps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convert_free_space_to_bitmaps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a5165dc521e94508b67380daa709941a2_cgraph.png" border="0" usemap="#free-space-tree_8c_a5165dc521e94508b67380daa709941a2_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a5165dc521e94508b67380daa709941a2_cgraph" id="free-space-tree_8c_a5165dc521e94508b67380daa709941a2_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a4fb159a96f333dd29d60ea28af195e79" title="free_space_bitmap_size" alt="" coords="189,5,352,32"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a1fc3dfdc7847d9b4a32a7d811a339366" title="alloc_bitmap" alt="" coords="223,56,318,83"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="193,1389,348,1416"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="872,1728,1001,1755"/>
<area shape="rect" id="node19" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1075,1019,1229,1045"/>
<area shape="rect" id="node24" href="extent__io_8c.html#a231f10ba17fe2897b6d5b74d7b820fe5" title="le_bitmap_set" alt="" coords="219,1129,322,1156"/>
<area shape="rect" id="node25" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="215,588,326,615"/>
<area shape="rect" id="node37" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="630,233,786,260"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="191,1307,351,1333"/>
<area shape="rect" id="node45" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="189,1479,352,1505"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="204,1779,337,1805"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="647,1449,769,1476"/>
<area shape="rect" id="node6" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="875,867,998,893"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1082,1576,1222,1603"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1096,1424,1208,1451"/>
<area shape="rect" id="node9" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="849,1475,1024,1501"/>
<area shape="rect" id="node10" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1075,1500,1229,1527"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1089,1297,1215,1324"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="865,1373,1008,1400"/>
<area shape="rect" id="node13" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1087,867,1217,893"/>
<area shape="rect" id="node15" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1081,1728,1223,1755"/>
<area shape="rect" id="node16" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1072,1880,1232,1907"/>
<area shape="rect" id="node17" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="878,765,995,792"/>
<area shape="rect" id="node18" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="851,1829,1022,1856"/>
<area shape="rect" id="node20" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1303,715,1411,741"/>
<area shape="rect" id="node23" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1280,1019,1433,1045"/>
<area shape="rect" id="node21" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1481,461,1580,488"/>
<area shape="rect" id="node22" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1628,689,1767,716"/>
<area shape="rect" id="node26" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="637,512,779,539"/>
<area shape="rect" id="node27" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="639,157,777,184"/>
<area shape="rect" id="node28" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1087,411,1217,437"/>
<area shape="rect" id="node29" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="432,259,535,285"/>
<area shape="rect" id="node30" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="615,323,801,349"/>
<area shape="rect" id="node31" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="400,309,567,336"/>
<area shape="rect" id="node32" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="648,664,768,691"/>
<area shape="rect" id="node34" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="658,816,758,843"/>
<area shape="rect" id="node35" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="423,461,543,488"/>
<area shape="rect" id="node36" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="427,157,539,184"/>
<area shape="rect" id="node42" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="657,765,759,792"/>
<area shape="rect" id="node43" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="653,715,763,741"/>
<area shape="rect" id="node33" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="854,664,1019,691"/>
<area shape="rect" id="node38" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="898,259,975,285"/>
<area shape="rect" id="node39" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="859,309,1014,336"/>
<area shape="rect" id="node40" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="853,360,1020,387"/>
<area shape="rect" id="node41" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="883,208,991,235"/>
<area shape="rect" id="node46" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="418,1471,549,1513"/>
<area shape="rect" id="node47" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="429,1677,537,1704"/>
<area shape="rect" id="node48" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="429,1319,537,1345"/>
<area shape="rect" id="node49" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="417,1576,549,1603"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a5165dc521e94508b67380daa709941a2_icgraph.png" border="0" usemap="#free-space-tree_8c_a5165dc521e94508b67380daa709941a2_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a5165dc521e94508b67380daa709941a2_icgraph" id="free-space-tree_8c_a5165dc521e94508b67380daa709941a2_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="189,527,364,569"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1367,284,1437,311"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="1076,616,1255,643"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="412,535,591,561"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="639,600,817,627"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="423,440,580,467"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1095,550,1236,591"/>
<area shape="rect" id="node37" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="641,411,815,437"/>
<area shape="rect" id="node5" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1303,233,1501,260"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1345,616,1459,643"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1324,667,1480,693"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1341,717,1463,744"/>
<area shape="rect" id="node32" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1333,565,1471,592"/>
<area shape="rect" id="node33" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1346,464,1458,491"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1343,515,1461,541"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1343,363,1461,389"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1341,413,1463,440"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1566,246,1697,287"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1564,129,1699,170"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1777,249,1923,276"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1787,313,1913,354"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1991,249,2133,276"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="2185,257,2353,284"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2401,263,2556,289"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2823,279,3029,305"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2614,162,2765,203"/>
<area shape="rect" id="node15" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2841,127,3011,153"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3112,191,3233,217"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="3121,279,3224,305"/>
<area shape="rect" id="node16" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3077,31,3268,57"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="3092,107,3253,133"/>
<area shape="rect" id="node17" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3316,31,3403,57"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3452,5,3559,32"/>
<area shape="rect" id="node19" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3451,56,3560,83"/>
<area shape="rect" id="node22" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1998,320,2126,347"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1779,195,1921,221"/>
<area shape="rect" id="node26" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1761,540,1939,567"/>
<area shape="rect" id="node27" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1987,540,2137,567"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="2224,540,2315,567"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2431,540,2526,567"/>
<area shape="rect" id="node38" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="866,187,1027,213"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2604,9,2775,36"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="865,433,1028,474"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1564,195,1699,221"/>
<area shape="rect" id="node42" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1091,214,1240,255"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="2198,154,2341,195"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2423,161,2535,188"/>
<area shape="rect" id="node46" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1555,312,1707,339"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1549,768,1713,795"/>
</map>
</div>

</div>
</div>
<a id="a1145bfbc56da20ac823253f0b01d9675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1145bfbc56da20ac823253f0b01d9675">&#9670;&nbsp;</a></span>convert_free_space_to_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convert_free_space_to_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_cgraph.png" border="0" usemap="#free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_cgraph" id="free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a4fb159a96f333dd29d60ea28af195e79" title="free_space_bitmap_size" alt="" coords="189,516,352,543"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a1fc3dfdc7847d9b4a32a7d811a339366" title="alloc_bitmap" alt="" coords="223,567,318,594"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="193,618,348,644"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="872,592,1001,619"/>
<area shape="rect" id="node17" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1072,947,1227,974"/>
<area shape="rect" id="node22" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="205,1910,336,1936"/>
<area shape="rect" id="node23" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="215,1327,326,1354"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="630,1707,786,1734"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="191,668,351,695"/>
<area shape="rect" id="node43" href="extent__io_8h.html#ab8fca161fdd3c83df820ed0a8efca353" title="le_test_bit" alt="" coords="229,1960,312,1987"/>
<area shape="rect" id="node46" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="189,719,352,746"/>
<area shape="rect" id="node5" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="647,288,769,315"/>
<area shape="rect" id="node6" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="875,1200,998,1227"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1079,187,1219,214"/>
<area shape="rect" id="node8" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1093,86,1205,112"/>
<area shape="rect" id="node9" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="849,86,1024,112"/>
<area shape="rect" id="node10" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1072,10,1227,36"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1086,491,1213,518"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="865,136,1008,163"/>
<area shape="rect" id="node13" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="872,238,1001,264"/>
<area shape="rect" id="node15" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1078,592,1221,619"/>
<area shape="rect" id="node16" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="857,491,1017,518"/>
<area shape="rect" id="node18" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1297,1048,1405,1075"/>
<area shape="rect" id="node21" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1275,947,1428,974"/>
<area shape="rect" id="node19" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1476,1403,1575,1430"/>
<area shape="rect" id="node20" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1623,1606,1761,1632"/>
<area shape="rect" id="node24" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="637,1352,779,1379"/>
<area shape="rect" id="node25" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="639,1504,777,1531"/>
<area shape="rect" id="node26" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1085,1302,1214,1328"/>
<area shape="rect" id="node27" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="432,1504,535,1531"/>
<area shape="rect" id="node28" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="615,1454,801,1480"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="400,1656,567,1683"/>
<area shape="rect" id="node30" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="648,1302,768,1328"/>
<area shape="rect" id="node32" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="658,1200,758,1227"/>
<area shape="rect" id="node33" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="423,1403,543,1430"/>
<area shape="rect" id="node34" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="427,1758,539,1784"/>
<area shape="rect" id="node40" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="657,998,759,1024"/>
<area shape="rect" id="node41" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="653,1048,763,1075"/>
<area shape="rect" id="node31" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="854,1263,1019,1290"/>
<area shape="rect" id="node36" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="898,1758,975,1784"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="859,1656,1014,1683"/>
<area shape="rect" id="node38" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="853,1707,1020,1734"/>
<area shape="rect" id="node39" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="883,1327,991,1354"/>
<area shape="rect" id="node44" href="extent__io_8h.html#a231f10ba17fe2897b6d5b74d7b820fe5" title="le_bitmap_set" alt="" coords="432,1935,535,1962"/>
<area shape="rect" id="node45" href="extent__io_8h.html#aedf1c61f61ce26c8e663c9c93c671f70" title="le_bitmap_clear" alt="" coords="427,1986,540,2012"/>
<area shape="rect" id="node47" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="418,357,549,398"/>
<area shape="rect" id="node48" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="429,423,537,450"/>
<area shape="rect" id="node49" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="429,719,537,746"/>
<area shape="rect" id="node50" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="417,474,549,500"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_icgraph.png" border="0" usemap="#free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_icgraph" id="free-space-tree_8c_a1145bfbc56da20ac823253f0b01d9675_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="189,611,364,653"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="1076,681,1255,708"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="412,597,591,624"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="639,648,817,675"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="423,517,580,544"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1095,598,1236,639"/>
<area shape="rect" id="node37" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="641,459,815,485"/>
<area shape="rect" id="node5" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1303,340,1501,367"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1345,703,1459,729"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1324,753,1480,780"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1341,804,1463,831"/>
<area shape="rect" id="node32" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1333,652,1471,679"/>
<area shape="rect" id="node33" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1346,601,1458,628"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1343,449,1461,476"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1343,500,1461,527"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1341,551,1463,577"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1566,333,1697,374"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1564,267,1699,309"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1777,276,1923,303"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1787,333,1913,374"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1991,269,2133,296"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="2185,269,2353,296"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2401,269,2556,296"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2823,285,3029,312"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2614,169,2765,210"/>
<area shape="rect" id="node15" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2841,149,3011,176"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3112,191,3233,217"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="3121,285,3224,312"/>
<area shape="rect" id="node16" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3077,31,3268,57"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="3092,136,3253,163"/>
<area shape="rect" id="node17" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3316,31,3403,57"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3452,5,3559,32"/>
<area shape="rect" id="node19" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3451,56,3560,83"/>
<area shape="rect" id="node22" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1998,336,2126,363"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1779,225,1921,252"/>
<area shape="rect" id="node26" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1761,627,1939,653"/>
<area shape="rect" id="node27" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1987,627,2137,653"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="2224,627,2315,653"/>
<area shape="rect" id="node29" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2431,627,2526,653"/>
<area shape="rect" id="node38" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="866,196,1027,223"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2604,16,2775,43"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="865,481,1028,522"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1564,216,1699,243"/>
<area shape="rect" id="node42" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1091,262,1240,303"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="2198,161,2341,202"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1367,395,1437,421"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2423,219,2535,245"/>
<area shape="rect" id="node46" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1555,399,1707,425"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1549,855,1713,881"/>
</map>
</div>

</div>
</div>
<a id="a4fb159a96f333dd29d60ea28af195e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb159a96f333dd29d60ea28af195e79">&#9670;&nbsp;</a></span>free_space_bitmap_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 free_space_bitmap_size </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sectorsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a4fb159a96f333dd29d60ea28af195e79_icgraph.png" border="0" usemap="#free-space-tree_8c_a4fb159a96f333dd29d60ea28af195e79_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a4fb159a96f333dd29d60ea28af195e79_icgraph" id="free-space-tree_8c_a4fb159a96f333dd29d60ea28af195e79_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="216,591,352,633"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="216,657,352,698"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="400,591,575,633"/>
<area shape="rect" id="node44" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1578,224,1647,251"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="1287,548,1465,575"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="623,577,801,604"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="849,628,1028,655"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="633,468,791,495"/>
<area shape="rect" id="node5" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1305,482,1447,523"/>
<area shape="rect" id="node36" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="851,439,1026,465"/>
<area shape="rect" id="node6" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1513,275,1712,301"/>
<area shape="rect" id="node24" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1555,544,1670,571"/>
<area shape="rect" id="node29" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1535,595,1691,621"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1551,645,1674,672"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1543,493,1682,520"/>
<area shape="rect" id="node32" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1557,392,1669,419"/>
<area shape="rect" id="node33" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1553,341,1672,368"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1553,747,1672,773"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1551,443,1674,469"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1777,225,1907,266"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1775,57,1909,98"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1987,123,2134,149"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1997,318,2124,359"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="2201,123,2344,149"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="2396,123,2564,149"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2612,123,2767,149"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="3033,245,3240,272"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2825,209,2975,250"/>
<area shape="rect" id="node14" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="3052,107,3221,133"/>
<area shape="rect" id="node15" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="3288,69,3479,96"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="3303,229,3464,256"/>
<area shape="rect" id="node16" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3527,69,3613,96"/>
<area shape="rect" id="node17" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3663,44,3769,71"/>
<area shape="rect" id="node18" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3661,95,3771,121"/>
<area shape="rect" id="node21" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="2209,376,2337,403"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1989,72,2132,99"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1972,519,2149,545"/>
<area shape="rect" id="node26" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="2197,519,2348,545"/>
<area shape="rect" id="node27" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="2435,519,2525,545"/>
<area shape="rect" id="node28" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2642,519,2737,545"/>
<area shape="rect" id="node37" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="1077,208,1238,235"/>
<area shape="rect" id="node39" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2815,5,2985,32"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="1076,461,1239,502"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1775,123,1909,149"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1301,217,1451,258"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="2409,174,2551,215"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2633,224,2745,251"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1766,291,1918,317"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1760,696,1924,723"/>
</map>
</div>

</div>
</div>
<a id="aa47a42834ae5d5436f7d6fedd70d8a91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47a42834ae5d5436f7d6fedd70d8a91">&#9670;&nbsp;</a></span>free_space_next_bitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int free_space_next_bitmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_cgraph.png" border="0" usemap="#free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_cgraph" alt=""/></div>
<map name="free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_cgraph" id="free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="217,162,372,189"/>
<area shape="rect" id="node7" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="871,542,1000,569"/>
<area shape="rect" id="node20" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="217,492,372,518"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1116,86,1224,113"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="420,162,573,189"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1354,86,1453,113"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1555,86,1693,113"/>
<area shape="rect" id="node8" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1099,628,1241,654"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1107,390,1233,417"/>
<area shape="rect" id="node9" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1342,706,1465,733"/>
<area shape="rect" id="node11" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1326,539,1481,580"/>
<area shape="rect" id="node13" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1326,605,1481,632"/>
<area shape="rect" id="node10" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1541,732,1707,758"/>
<area shape="rect" id="node12" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1548,568,1700,610"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1755,330,1909,357"/>
<area shape="rect" id="node16" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1330,398,1477,425"/>
<area shape="rect" id="node17" href="extent__io_8c.html#a664832bdb9196f366f7bae8d23fe6491" title="btrfs_release_extent\l_buffer_page" alt="" coords="1554,352,1694,394"/>
<area shape="rect" id="node18" href="extent__io_8c.html#ae5972708be74df23a5a9cafdd514b7c8" title="__free_extent_buffer" alt="" coords="1761,448,1903,474"/>
<area shape="rect" id="node19" href="extent__io_8c.html#a6f899034e3eb7e0649632be9a6cff7ba" title="btrfs_release_extent\l_buffer_rcu" alt="" coords="1554,470,1694,511"/>
<area shape="rect" id="node21" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="435,593,558,620"/>
<area shape="rect" id="node22" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1109,833,1231,860"/>
<area shape="rect" id="node23" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="865,188,1005,214"/>
<area shape="rect" id="node24" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="879,340,991,366"/>
<area shape="rect" id="node25" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="621,238,796,265"/>
<area shape="rect" id="node26" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="858,289,1013,316"/>
<area shape="rect" id="node27" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="637,441,780,468"/>
<area shape="rect" id="node28" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="881,492,989,518"/>
<area shape="rect" id="node30" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="871,948,1000,974"/>
<area shape="rect" id="node33" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1090,1100,1250,1126"/>
<area shape="rect" id="node35" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="650,897,767,924"/>
<area shape="rect" id="node38" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="850,1268,1021,1294"/>
<area shape="rect" id="node40" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="664,998,753,1025"/>
<area shape="rect" id="node43" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="627,1150,791,1177"/>
<area shape="rect" id="node45" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="668,644,749,670"/>
<area shape="rect" id="node46" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="632,593,785,620"/>
<area shape="rect" id="node47" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="626,1252,791,1278"/>
<area shape="rect" id="node48" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="639,1303,779,1344"/>
<area shape="rect" id="node49" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1097,36,1243,62"/>
<area shape="rect" id="node50" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="898,86,973,113"/>
<area shape="rect" id="node29" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1109,560,1231,586"/>
<area shape="rect" id="node31" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1115,973,1225,1000"/>
<area shape="rect" id="node32" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1109,922,1231,949"/>
<area shape="rect" id="node34" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1313,960,1493,986"/>
<area shape="rect" id="node36" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="856,897,1015,924"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="870,745,1001,772"/>
<area shape="rect" id="node39" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="1075,1268,1265,1294"/>
<area shape="rect" id="node41" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="876,998,995,1025"/>
<area shape="rect" id="node42" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="865,1049,1006,1076"/>
<area shape="rect" id="node44" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="844,1202,1027,1243"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_icgraph.png" border="0" usemap="#free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_icgraph" alt=""/></div>
<map name="free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_icgraph" id="free-space-tree_8c_aa47a42834ae5d5436f7d6fedd70d8a91_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="217,599,396,625"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="881,591,1023,633"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="444,489,619,516"/>
<area shape="rect" id="node4" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1075,380,1273,407"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1342,591,1457,617"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1321,641,1477,668"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1338,692,1461,719"/>
<area shape="rect" id="node37" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1330,743,1469,769"/>
<area shape="rect" id="node38" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1118,793,1230,820"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1115,489,1233,516"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1115,540,1233,567"/>
<area shape="rect" id="node41" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1113,844,1235,871"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1334,373,1465,414"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1332,255,1467,297"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1541,332,1687,359"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1551,447,1677,489"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1755,291,1897,317"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1949,291,2117,317"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2165,291,2320,317"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2587,351,2793,377"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2378,287,2529,329"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2605,188,2775,215"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2876,192,2997,219"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2885,317,2988,344"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2862,251,3011,277"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2853,369,3021,410"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="3080,165,3192,192"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2841,33,3032,60"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2856,137,3017,164"/>
<area shape="rect" id="node19" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3093,33,3179,60"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3241,8,3348,35"/>
<area shape="rect" id="node22" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3240,60,3349,87"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="3428,5,3548,32"/>
<area shape="rect" id="node23" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="3397,57,3579,98"/>
<area shape="rect" id="node26" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1762,505,1890,532"/>
<area shape="rect" id="node27" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1971,505,2096,532"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1543,281,1685,308"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1525,641,1703,668"/>
<area shape="rect" id="node32" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1751,641,1901,668"/>
<area shape="rect" id="node33" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1988,641,2079,668"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2195,641,2290,668"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="667,351,829,377"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2368,33,2539,60"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="667,423,829,465"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1332,321,1467,348"/>
<area shape="rect" id="node47" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="877,423,1027,465"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1962,197,2105,238"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1139,435,1209,461"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1323,439,1475,465"/>
</map>
</div>

</div>
</div>
<a id="ae316e9a49fbe866ccacde0cd2576c56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae316e9a49fbe866ccacde0cd2576c56b">&#9670;&nbsp;</a></span>free_space_set_bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_space_set_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_cgraph.png" border="0" usemap="#free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_cgraph" alt=""/></div>
<map name="free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_cgraph" id="free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="820,470,975,497"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a7e8bdd63562566f16a8d9c43b6d3767d" title="extent_buffer_bitmap_set" alt="" coords="192,377,361,403"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ae3047523da5fcaa68eac79da0851a5d4" title="extent_buffer_bitmap\l_clear" alt="" coords="205,428,349,469"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="199,611,355,638"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1062,431,1170,458"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1039,482,1193,509"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1284,533,1383,559"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1457,225,1596,251"/>
<area shape="rect" id="node8" href="extent__io_8c.html#abd07484f87c6ee98b4ff56ca27f7951c" title="eb_bitmap_offset" alt="" coords="431,381,554,407"/>
<area shape="rect" id="node11" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="454,637,531,663"/>
<area shape="rect" id="node12" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="410,687,575,714"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="415,822,570,849"/>
<area shape="rect" id="node16" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="409,439,576,466"/>
<area shape="rect" id="node30" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="644,771,752,798"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="624,873,772,899"/>
<area shape="rect" id="node15" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="632,822,764,849"/>
<area shape="rect" id="node17" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="655,293,741,319"/>
<area shape="rect" id="node18" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="836,115,959,142"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a1018c52846b75c19bf5f23735eac4ded" title="btrfs_get_fs_root" alt="" coords="837,65,957,91"/>
<area shape="rect" id="node23" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="841,166,953,193"/>
<area shape="rect" id="node24" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="834,217,961,243"/>
<area shape="rect" id="node25" href="ctree_8c.html#a5583fb14c86f35ee9dc82ba7538bba77" title="btrfs_comp_cpu_keys" alt="" coords="822,267,973,294"/>
<area shape="rect" id="node26" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1023,583,1209,610"/>
<area shape="rect" id="node27" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="828,318,967,345"/>
<area shape="rect" id="node28" href="ctree_8h.html#ac7597b449d0d7c9f7a21e34ad1c8138d" title="btrfs_item_end_nr" alt="" coords="834,419,961,446"/>
<area shape="rect" id="node29" href="tree-checker_8c.html#ae59bcda75d6f594618c4ba21e369c6c7" title="check_leaf_item" alt="" coords="839,369,956,395"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a77e367c4e91efe6cedbcffafa5b29d83" title="btrfs_lookup_fs_root" alt="" coords="1046,65,1186,91"/>
<area shape="rect" id="node21" href="disk-io_8c.html#ab428bbb1f4037e1d48162bce47a1f41c" title="btrfs_read_fs_root" alt="" coords="1053,115,1179,142"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a3ed74b56709d68f7e90f153ecac7c347" title="btrfs_init_fs_root" alt="" coords="1057,166,1175,193"/>
<area shape="rect" id="node31" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="824,689,971,715"/>
<area shape="rect" id="node34" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="833,521,962,563"/>
<area shape="rect" id="node36" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="836,793,959,819"/>
<area shape="rect" id="node37" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1051,735,1181,762"/>
<area shape="rect" id="node39" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1044,903,1188,930"/>
<area shape="rect" id="node41" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="1028,954,1204,981"/>
<area shape="rect" id="node43" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="831,945,964,971"/>
<area shape="rect" id="node44" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="853,1005,942,1031"/>
<area shape="rect" id="node47" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="844,1085,951,1111"/>
<area shape="rect" id="node49" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="842,1139,953,1166"/>
<area shape="rect" id="node32" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1056,685,1176,711"/>
<area shape="rect" id="node33" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1262,790,1405,817"/>
<area shape="rect" id="node35" href="ctree_8h.html#a713d9e8ab85dd576211f29c7adfd1901" title="btrfs_dir_item_key" alt="" coords="1051,533,1181,559"/>
<area shape="rect" id="node38" href="ctree_8h.html#af629a64daf06e6689e0aed2d0655b060" title="btrfs_tree_block_key" alt="" coords="1045,853,1187,879"/>
<area shape="rect" id="node40" href="ctree_8h.html#afbcffd692d8a5f49e66f7901f2275eb2" title="btrfs_extent_inline\l_ref_size" alt="" coords="1052,787,1180,828"/>
<area shape="rect" id="node42" href="ctree_8h.html#ad8e455ffd90235ec505392037ceb69f6" title="btrfs_file_extent_inline\l_item_len" alt="" coords="1257,947,1409,988"/>
<area shape="rect" id="node45" href="ctree_8h.html#a468f209ce619d17a76cc9c3a78f24cc6" title="btrfs_stripe_devid_nr" alt="" coords="1045,1055,1187,1082"/>
<area shape="rect" id="node46" href="ctree_8h.html#aeef125c97ae680c4a601d4680597c18b" title="btrfs_stripe_offset_nr" alt="" coords="1043,1005,1189,1031"/>
<area shape="rect" id="node48" href="ctree_8h.html#a26204c078cfb39ea1bc22b5e3029361f" title="btrfs_device_total\l_bytes" alt="" coords="1053,1107,1179,1148"/>
<area shape="rect" id="node50" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="1051,1173,1181,1199"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_icgraph.png" border="0" usemap="#free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_icgraph" alt=""/></div>
<map name="free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_icgraph" id="free-space-tree_8c_ae316e9a49fbe866ccacde0cd2576c56b_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="192,599,371,625"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="856,591,997,633"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="419,489,593,516"/>
<area shape="rect" id="node4" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1049,380,1248,407"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1317,591,1431,617"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1296,641,1452,668"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1313,692,1435,719"/>
<area shape="rect" id="node37" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1305,743,1443,769"/>
<area shape="rect" id="node38" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1093,793,1205,820"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1089,489,1208,516"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1089,540,1208,567"/>
<area shape="rect" id="node41" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1087,844,1210,871"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1309,373,1439,414"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1307,255,1441,297"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1515,332,1662,359"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1525,447,1652,489"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1729,291,1872,317"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1924,291,2092,317"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2140,291,2295,317"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2561,351,2768,377"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2353,287,2503,329"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2580,188,2749,215"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2851,192,2972,219"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2860,317,2963,344"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2837,251,2986,277"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2827,369,2995,410"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="3055,165,3167,192"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2816,33,3007,60"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2831,137,2992,164"/>
<area shape="rect" id="node19" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3067,33,3154,60"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3216,8,3323,35"/>
<area shape="rect" id="node22" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3215,60,3324,87"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="3403,5,3523,32"/>
<area shape="rect" id="node23" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="3372,57,3553,98"/>
<area shape="rect" id="node26" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1737,505,1865,532"/>
<area shape="rect" id="node27" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1945,505,2071,532"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1517,281,1660,308"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1500,641,1677,668"/>
<area shape="rect" id="node32" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1725,641,1876,668"/>
<area shape="rect" id="node33" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1963,641,2053,668"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2170,641,2265,668"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="642,351,803,377"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2343,33,2513,60"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="641,423,804,465"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1307,321,1441,348"/>
<area shape="rect" id="node47" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="852,423,1001,465"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1937,197,2079,238"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1114,435,1183,461"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1298,439,1450,465"/>
</map>
</div>

</div>
</div>
<a id="a485cc94659b93c3388493ee9673d8fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485cc94659b93c3388493ee9673d8fed">&#9670;&nbsp;</a></span>free_space_test_bit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_space_test_bit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_cgraph.png" border="0" usemap="#free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_cgraph" id="free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="189,56,344,83"/>
<area shape="rect" id="node7" href="extent__io_8c.html#a5476f8a8a038de2a49cb6b44b551956a" title="extent_buffer_test_bit" alt="" coords="193,107,341,133"/>
<area shape="rect" id="node3" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="415,5,523,32"/>
<area shape="rect" id="node6" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="392,56,545,83"/>
<area shape="rect" id="node4" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="593,5,692,32"/>
<area shape="rect" id="node5" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="740,5,879,32"/>
<area shape="rect" id="node8" href="extent__io_8c.html#abd07484f87c6ee98b4ff56ca27f7951c" title="eb_bitmap_offset" alt="" coords="407,107,530,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_icgraph.png" border="0" usemap="#free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_icgraph" id="free-space-tree_8c_a485cc94659b93c3388493ee9673d8fed_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="189,641,368,668"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="193,579,364,605"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#ac8ad01c20817dcebfba8015571d3cf7c" title="__check_free_space\l_extents" alt="" coords="207,715,350,757"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="882,707,1023,749"/>
<area shape="rect" id="node24" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="416,605,591,632"/>
<area shape="rect" id="node4" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1096,137,1295,164"/>
<area shape="rect" id="node13" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1138,748,1253,775"/>
<area shape="rect" id="node17" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1117,799,1273,825"/>
<area shape="rect" id="node18" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1134,849,1257,876"/>
<area shape="rect" id="node19" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1126,697,1265,724"/>
<area shape="rect" id="node20" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1139,647,1251,673"/>
<area shape="rect" id="node21" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1136,951,1255,977"/>
<area shape="rect" id="node22" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1136,1001,1255,1028"/>
<area shape="rect" id="node23" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1134,596,1257,623"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1366,57,1497,98"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1364,122,1499,163"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1570,35,1717,61"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1580,181,1707,222"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1799,60,1941,87"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1767,395,1973,421"/>
<area shape="rect" id="node10" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1806,188,1934,215"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1572,85,1715,112"/>
<area shape="rect" id="node14" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1343,799,1520,825"/>
<area shape="rect" id="node15" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1568,799,1719,825"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1825,799,1915,825"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="643,128,805,155"/>
<area shape="rect" id="node27" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="639,488,809,515"/>
<area shape="rect" id="node32" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="643,539,805,581"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1364,5,1499,32"/>
<area shape="rect" id="node28" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="857,533,1048,560"/>
<area shape="rect" id="node29" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1152,545,1239,572"/>
<area shape="rect" id="node30" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1378,555,1485,581"/>
<area shape="rect" id="node31" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1377,605,1486,632"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="878,455,1027,497"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1124,455,1267,497"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1161,404,1230,431"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1354,453,1509,480"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1568,505,1719,546"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1375,289,1487,316"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1586,264,1701,291"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="430,496,577,523"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="669,332,779,359"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="885,213,1020,240"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="1126,87,1265,113"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1575,387,1712,429"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="1347,188,1516,215"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1148,36,1243,63"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="863,791,1042,817"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1113,900,1277,927"/>
</map>
</div>

</div>
</div>
<a id="a61e973380fd7348d30419012e001f6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61e973380fd7348d30419012e001f6d4">&#9670;&nbsp;</a></span>load_free_space_bitmaps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_free_space_bitmaps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *&#160;</td>
          <td class="paramname"><em>caching_ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>expected_extent_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_cgraph.png" border="0" usemap="#free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_cgraph" id="free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="241,310,353,336"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="867,128,1022,155"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="229,360,365,387"/>
<area shape="rect" id="node45" href="ctree_8h.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="224,1771,369,1798"/>
<area shape="rect" id="node3" href="ctree_8h.html#ad2b49f0a25c8b0b0d7ba2f345874ae61" title="btrfs_next_old_item" alt="" coords="423,43,559,70"/>
<area shape="rect" id="node17" href="ctree_8h.html#a3c2c5319a132ef5f50ddb192fb12d353" title="btrfs_leaf_free_space" alt="" coords="871,78,1018,104"/>
<area shape="rect" id="node20" href="ctree_8h.html#a4cfa643395013d73d5cab3b9e70e7f9d" title="btrfs_drop_snapshot" alt="" coords="421,930,561,956"/>
<area shape="rect" id="node41" href="ctree_8h.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="644,803,775,830"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="643,296,775,323"/>
<area shape="rect" id="node9" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1113,524,1242,551"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1319,690,1445,716"/>
<area shape="rect" id="node11" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="883,550,1006,576"/>
<area shape="rect" id="node6" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1123,128,1231,155"/>
<area shape="rect" id="node8" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1101,238,1254,264"/>
<area shape="rect" id="node7" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1333,103,1431,130"/>
<area shape="rect" id="node12" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1116,904,1239,931"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1106,752,1249,779"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1328,1056,1436,1083"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1321,955,1443,982"/>
<area shape="rect" id="node16" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1493,980,1659,1007"/>
<area shape="rect" id="node18" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1084,183,1271,210"/>
<area shape="rect" id="node19" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1117,78,1237,104"/>
<area shape="rect" id="node21" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="887,651,1002,678"/>
<area shape="rect" id="node22" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="890,600,999,627"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="633,1158,785,1184"/>
<area shape="rect" id="node24" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="630,1208,789,1235"/>
<area shape="rect" id="node25" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="636,1259,783,1286"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="627,448,791,475"/>
<area shape="rect" id="node27" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="853,180,1036,221"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="887,1107,1003,1134"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="895,854,994,880"/>
<area shape="rect" id="node30" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="654,1310,765,1336"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="613,1360,805,1387"/>
<area shape="rect" id="node32" href="ctree_8h.html#af4968e7e809635e132a6720212e44bc8" title="btrfs_need_cleaner\l_sleep" alt="" coords="643,1412,775,1453"/>
<area shape="rect" id="node33" href="ctree_8h.html#aec5158a71cf7611e5b0e246f83131c1d" title="btrfs_update_root" alt="" coords="648,702,771,728"/>
<area shape="rect" id="node34" href="btrfs_2transaction_8c.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="636,1477,783,1518"/>
<area shape="rect" id="node35" href="ctree_8h.html#a9a7fd6bb8da654fdf6ef692296f966fb" title="btrfs_del_root" alt="" coords="659,550,760,576"/>
<area shape="rect" id="node36" href="ctree_8h.html#a15cf96e2e0009f46c278e6d53e0fdbf2" title="btrfs_find_root" alt="" coords="657,347,762,374"/>
<area shape="rect" id="node37" href="ctree_8h.html#a89d6e6fa43cf12c6b58081d8367674a7" title="btrfs_del_orphan_item" alt="" coords="634,600,785,627"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#ac9515622689f7f5439d14d1b3457c635" title="btrfs_add_dropped_root" alt="" coords="630,1543,789,1570"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="649,1594,769,1620"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a39d1765689f636375489f968fa27240a" title="btrfs_add_dead_root" alt="" coords="639,1644,779,1671"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a5476f8a8a038de2a49cb6b44b551956a" title="extent_buffer_test_bit" alt="" coords="417,1324,565,1351"/>
<area shape="rect" id="node44" href="extent__io_8c.html#abd07484f87c6ee98b4ff56ca27f7951c" title="eb_bitmap_offset" alt="" coords="648,1695,771,1722"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="423,1771,559,1798"/>
<area shape="rect" id="node50" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="418,1822,565,1848"/>
<area shape="rect" id="node47" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="875,1771,1015,1798"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="648,1796,771,1823"/>
<area shape="rect" id="node49" href="extent__io_8c.html#a0d209b399b57dc10932618d6624d82d4" title="find_first_extent_bit\l_state" alt="" coords="641,1848,777,1889"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_icgraph.png" border="0" usemap="#free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_icgraph" id="free-space-tree_8c_a61e973380fd7348d30419012e001f6d4_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="224,305,371,331"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="419,305,529,331"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="577,305,712,331"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="760,101,899,127"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2062,471,2177,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1169,379,1306,420"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="947,355,1116,382"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="782,406,877,433"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="964,71,1099,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="966,123,1097,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="964,5,1099,47"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1164,97,1311,123"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1166,46,1309,73"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1391,71,1533,98"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1174,313,1301,355"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1359,386,1565,413"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1398,509,1526,535"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1637,361,1758,387"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1646,411,1749,438"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1623,534,1772,561"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1613,295,1781,336"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1835,357,1982,383"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1835,458,1982,485"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1860,407,1957,434"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1853,509,1965,535"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2036,547,2203,574"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1839,559,1979,586"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="2251,471,2392,498"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2649,501,2839,527"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2466,551,2575,578"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2440,383,2601,410"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2451,435,2590,476"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2446,235,2595,262"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2887,501,3021,527"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2676,551,2812,578"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2889,577,3019,603"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1843,306,1974,333"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1841,240,1976,281"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1635,699,1760,726"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1829,734,1988,761"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="2062,733,2177,759"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="2054,784,2185,825"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1394,623,1530,650"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1649,801,1746,827"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1858,789,1959,815"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1829,839,1988,866"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="1165,444,1310,485"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="974,475,1089,502"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1198,510,1277,537"/>
</map>
</div>

</div>
</div>
<a id="af3cf3734456ff586c90c157ca8042a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cf3734456ff586c90c157ca8042a64">&#9670;&nbsp;</a></span>load_free_space_extents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_free_space_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *&#160;</td>
          <td class="paramname"><em>caching_ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>expected_extent_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_cgraph.png" border="0" usemap="#free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_cgraph" alt=""/></div>
<map name="free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_cgraph" id="free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="237,1332,349,1359"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="862,1332,1017,1359"/>
<area shape="rect" id="node42" href="ctree_8h.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="220,1636,365,1663"/>
<area shape="rect" id="node3" href="ctree_8h.html#ad2b49f0a25c8b0b0d7ba2f345874ae61" title="btrfs_next_old_item" alt="" coords="419,1332,555,1359"/>
<area shape="rect" id="node17" href="ctree_8h.html#a3c2c5319a132ef5f50ddb192fb12d353" title="btrfs_leaf_free_space" alt="" coords="866,1568,1013,1595"/>
<area shape="rect" id="node20" href="ctree_8h.html#a4cfa643395013d73d5cab3b9e70e7f9d" title="btrfs_drop_snapshot" alt="" coords="417,800,557,827"/>
<area shape="rect" id="node41" href="ctree_8h.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="639,136,769,163"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="638,1332,770,1359"/>
<area shape="rect" id="node9" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1107,876,1237,903"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1313,876,1440,903"/>
<area shape="rect" id="node11" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="878,825,1001,852"/>
<area shape="rect" id="node6" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1118,1332,1226,1359"/>
<area shape="rect" id="node8" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1095,1383,1249,1409"/>
<area shape="rect" id="node7" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1327,1448,1426,1475"/>
<area shape="rect" id="node12" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1111,523,1233,549"/>
<area shape="rect" id="node13" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1101,927,1243,953"/>
<area shape="rect" id="node14" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1323,775,1431,801"/>
<area shape="rect" id="node15" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1315,927,1438,953"/>
<area shape="rect" id="node16" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1488,579,1653,605"/>
<area shape="rect" id="node18" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1079,1513,1265,1540"/>
<area shape="rect" id="node19" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1112,1565,1232,1592"/>
<area shape="rect" id="node21" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="882,724,997,751"/>
<area shape="rect" id="node22" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="885,673,994,700"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a10449b67d057e12da72048346502fbed" title="btrfs_start_transaction" alt="" coords="628,1028,780,1055"/>
<area shape="rect" id="node24" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="625,1079,783,1105"/>
<area shape="rect" id="node25" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="631,1129,777,1156"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="622,825,786,852"/>
<area shape="rect" id="node27" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="848,1502,1031,1543"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="881,456,997,483"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="890,136,989,163"/>
<area shape="rect" id="node30" href="ctree_8h.html#ad9e3e6081bf6c57503beefcb2f833e5b" title="btrfs_node_key" alt="" coords="649,1281,759,1308"/>
<area shape="rect" id="node31" href="btrfs_2transaction_8c.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="608,187,800,213"/>
<area shape="rect" id="node32" href="ctree_8h.html#af4968e7e809635e132a6720212e44bc8" title="btrfs_need_cleaner\l_sleep" alt="" coords="638,238,770,279"/>
<area shape="rect" id="node33" href="ctree_8h.html#aec5158a71cf7611e5b0e246f83131c1d" title="btrfs_update_root" alt="" coords="643,775,765,801"/>
<area shape="rect" id="node34" href="btrfs_2transaction_8c.html#a5e70ac74ad7f714559b9d0aa685588cd" title="btrfs_end_transaction\l_throttle" alt="" coords="631,303,777,345"/>
<area shape="rect" id="node35" href="ctree_8h.html#a9a7fd6bb8da654fdf6ef692296f966fb" title="btrfs_del_root" alt="" coords="653,724,755,751"/>
<area shape="rect" id="node36" href="ctree_8h.html#a15cf96e2e0009f46c278e6d53e0fdbf2" title="btrfs_find_root" alt="" coords="651,977,757,1004"/>
<area shape="rect" id="node37" href="ctree_8h.html#a89d6e6fa43cf12c6b58081d8367674a7" title="btrfs_del_orphan_item" alt="" coords="629,471,779,497"/>
<area shape="rect" id="node38" href="btrfs_2transaction_8c.html#ac9515622689f7f5439d14d1b3457c635" title="btrfs_add_dropped_root" alt="" coords="625,521,783,548"/>
<area shape="rect" id="node39" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="644,572,764,599"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a39d1765689f636375489f968fa27240a" title="btrfs_add_dead_root" alt="" coords="634,623,774,649"/>
<area shape="rect" id="node43" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="419,1796,555,1823"/>
<area shape="rect" id="node48" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="413,1636,560,1663"/>
<area shape="rect" id="node44" href="extent__io_8c.html#aadde8cec886b76ebf3479e96c752665d" title="extent_state_in_tree" alt="" coords="869,1821,1009,1848"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a4952d3ab1782287038eb2b068378f0cf" title="free_extent_state" alt="" coords="643,1905,765,1932"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a0d209b399b57dc10932618d6624d82d4" title="find_first_extent_bit\l_state" alt="" coords="636,1789,772,1830"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a5f36b7002f901ce6bee186c8d1a8da42" title="cache_state_if_flags" alt="" coords="633,1855,775,1881"/>
<area shape="rect" id="node49" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="623,1687,785,1713"/>
<area shape="rect" id="node50" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="619,1636,789,1663"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_icgraph.png" border="0" usemap="#free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_icgraph" alt=""/></div>
<map name="free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_icgraph" id="free-space-tree_8c_af3cf3734456ff586c90c157ca8042a64_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="220,305,367,331"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="415,305,525,331"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="573,305,708,331"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="756,101,895,127"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="2058,471,2173,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1165,379,1302,420"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="943,355,1112,382"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="778,406,873,433"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="960,71,1095,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="962,123,1093,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="960,5,1095,47"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1160,97,1307,123"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1162,46,1305,73"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1387,71,1529,98"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1170,313,1297,355"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1355,386,1561,413"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1394,509,1522,535"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1633,361,1754,387"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1642,411,1745,438"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1619,534,1768,561"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1609,295,1777,336"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1831,357,1978,383"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1831,458,1978,485"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1856,407,1953,434"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1849,509,1961,535"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2032,547,2199,574"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1835,559,1975,586"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="2247,471,2388,498"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2645,501,2835,527"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2462,551,2571,578"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2436,383,2597,410"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2447,435,2586,476"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2442,235,2591,262"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2883,501,3017,527"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2672,551,2808,578"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2885,577,3015,603"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1839,306,1970,333"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1837,240,1972,281"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1631,699,1756,726"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1825,734,1984,761"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="2058,733,2173,759"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="2050,784,2181,825"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1390,623,1526,650"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1645,801,1742,827"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1854,789,1955,815"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1825,839,1984,866"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="1161,444,1306,485"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="970,475,1085,502"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="1194,510,1273,537"/>
</map>
</div>

</div>
</div>
<a id="a7e009aac692e3303dc0ed6ab48a554c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e009aac692e3303dc0ed6ab48a554c6">&#9670;&nbsp;</a></span>load_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__caching__control.html">btrfs_caching_control</a> *&#160;</td>
          <td class="paramname"><em>caching_ctl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_cgraph.png" border="0" usemap="#free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_cgraph" id="free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="834,40,949,67"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="205,660,365,687"/>
<area shape="rect" id="node36" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="200,319,371,346"/>
<area shape="rect" id="node41" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="837,800,946,827"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="202,370,369,396"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="830,851,953,878"/>
<area shape="rect" id="node5" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1042,243,1165,270"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1254,699,1394,726"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1268,598,1380,624"/>
<area shape="rect" id="node8" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1016,648,1191,675"/>
<area shape="rect" id="node9" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1247,800,1401,827"/>
<area shape="rect" id="node11" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1474,547,1601,574"/>
<area shape="rect" id="node14" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1032,344,1175,371"/>
<area shape="rect" id="node15" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1270,294,1378,320"/>
<area shape="rect" id="node17" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1259,991,1389,1018"/>
<area shape="rect" id="node20" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1259,1104,1389,1131"/>
<area shape="rect" id="node21" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1466,1155,1609,1182"/>
<area shape="rect" id="node22" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1457,1436,1617,1463"/>
<area shape="rect" id="node24" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1045,851,1162,878"/>
<area shape="rect" id="node26" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1239,1526,1409,1552"/>
<area shape="rect" id="node27" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1059,952,1148,979"/>
<area shape="rect" id="node28" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1021,1424,1185,1451"/>
<area shape="rect" id="node29" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1063,1155,1144,1182"/>
<area shape="rect" id="node30" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1027,1104,1180,1131"/>
<area shape="rect" id="node31" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1021,1206,1186,1232"/>
<area shape="rect" id="node32" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1033,1308,1173,1349"/>
<area shape="rect" id="node33" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1251,496,1397,523"/>
<area shape="rect" id="node34" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1066,446,1141,472"/>
<area shape="rect" id="node10" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1893,1117,2045,1158"/>
<area shape="rect" id="node12" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1678,522,1833,548"/>
<area shape="rect" id="node13" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1682,572,1829,599"/>
<area shape="rect" id="node16" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1263,395,1385,422"/>
<area shape="rect" id="node18" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1482,1016,1593,1043"/>
<area shape="rect" id="node19" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1476,966,1599,992"/>
<area shape="rect" id="node23" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1665,1436,1845,1463"/>
<area shape="rect" id="node25" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1245,851,1403,878"/>
<area shape="rect" id="node35" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1270,218,1378,244"/>
<area shape="rect" id="node37" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="435,344,547,371"/>
<area shape="rect" id="node44" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="612,192,767,219"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="423,192,559,219"/>
<area shape="rect" id="node47" href="ctree_8h.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="419,420,564,447"/>
<area shape="rect" id="node38" href="ctree_8h.html#ad2b49f0a25c8b0b0d7ba2f345874ae61" title="btrfs_next_old_item" alt="" coords="621,395,757,422"/>
<area shape="rect" id="node39" href="ctree_8h.html#a3c2c5319a132ef5f50ddb192fb12d353" title="btrfs_leaf_free_space" alt="" coords="616,294,763,320"/>
<area shape="rect" id="node40" href="ctree_8h.html#a4cfa643395013d73d5cab3b9e70e7f9d" title="btrfs_drop_snapshot" alt="" coords="619,344,759,371"/>
<area shape="rect" id="node43" href="ctree_8h.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="624,243,755,270"/>
<area shape="rect" id="node42" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="815,91,968,118"/>
<area shape="rect" id="node46" href="extent__io_8c.html#a5476f8a8a038de2a49cb6b44b551956a" title="extent_buffer_test_bit" alt="" coords="615,142,763,168"/>
<area shape="rect" id="node48" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="621,446,757,472"/>
<area shape="rect" id="node49" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="616,496,763,523"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_icgraph.png" border="0" usemap="#free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_icgraph" id="free-space-tree_8c_a7e009aac692e3303dc0ed6ab48a554c6_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="200,329,311,355"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="359,329,493,355"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="541,101,680,127"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1843,471,1958,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="950,379,1087,420"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="728,379,897,406"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="563,435,658,462"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="745,71,880,98"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="747,123,878,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="745,5,880,47"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="945,97,1092,123"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="947,46,1090,73"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1172,71,1315,98"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="955,313,1082,355"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1140,386,1347,413"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1179,547,1307,574"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1418,361,1539,387"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1427,411,1530,438"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1404,534,1553,561"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1395,295,1563,336"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1617,357,1763,383"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1617,458,1763,485"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1641,407,1739,434"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1634,509,1746,535"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1817,547,1984,574"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1620,559,1760,586"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="2032,471,2173,498"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2431,501,2620,527"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2247,551,2357,578"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2221,383,2383,410"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2233,435,2371,476"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2227,235,2377,262"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2668,501,2803,527"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2457,602,2593,629"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2670,577,2801,603"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="2447,383,2604,410"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1625,306,1755,333"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1623,240,1757,281"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1416,699,1541,726"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1611,734,1769,761"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1843,733,1958,759"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1835,784,1966,825"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1175,666,1311,693"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1430,801,1527,827"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1639,789,1741,815"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1611,839,1769,866"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="946,444,1091,485"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="755,499,870,526"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="979,510,1058,537"/>
</map>
</div>

</div>
</div>
<a id="a5dfe1f4fa42291bba5c02eff3c0d976c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfe1f4fa42291bba5c02eff3c0d976c">&#9670;&nbsp;</a></span>modify_free_space_bitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int modify_free_space_bitmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_cgraph.png" border="0" usemap="#free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_cgraph" id="free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="674,693,829,720"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1342,1212,1471,1239"/>
<area shape="rect" id="node33" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="469,323,605,349"/>
<area shape="rect" id="node34" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1109,56,1263,83"/>
<area shape="rect" id="node38" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="455,584,619,611"/>
<area shape="rect" id="node39" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="467,483,606,509"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="232,774,407,815"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="906,756,1029,783"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1125,579,1247,605"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1337,431,1477,457"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1351,680,1463,707"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1099,528,1273,555"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1329,616,1484,643"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1557,643,1683,669"/>
<area shape="rect" id="node11" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1115,731,1257,757"/>
<area shape="rect" id="node12" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1353,781,1461,808"/>
<area shape="rect" id="node13" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1342,1009,1471,1036"/>
<area shape="rect" id="node15" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1549,1161,1691,1188"/>
<area shape="rect" id="node20" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1540,1465,1700,1492"/>
<area shape="rect" id="node21" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1127,984,1245,1011"/>
<area shape="rect" id="node22" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1321,1491,1492,1517"/>
<area shape="rect" id="node23" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1141,933,1231,960"/>
<area shape="rect" id="node24" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1104,1440,1268,1467"/>
<area shape="rect" id="node25" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1366,1085,1447,1112"/>
<area shape="rect" id="node26" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1109,832,1263,859"/>
<area shape="rect" id="node27" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1103,411,1269,437"/>
<area shape="rect" id="node28" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1116,462,1256,503"/>
<area shape="rect" id="node29" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1333,208,1480,235"/>
<area shape="rect" id="node30" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1149,157,1223,184"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1748,643,1903,669"/>
<area shape="rect" id="node16" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1764,1303,1887,1329"/>
<area shape="rect" id="node18" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1748,1125,1903,1166"/>
<area shape="rect" id="node19" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1748,1191,1903,1217"/>
<area shape="rect" id="node17" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1951,1469,2116,1496"/>
<area shape="rect" id="node31" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1353,56,1461,83"/>
<area shape="rect" id="node32" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1571,183,1669,209"/>
<area shape="rect" id="node36" href="extent__io_8c.html#a5476f8a8a038de2a49cb6b44b551956a" title="extent_buffer_test_bit" alt="" coords="677,323,825,349"/>
<area shape="rect" id="node35" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1330,5,1483,32"/>
<area shape="rect" id="node37" href="extent__io_8c.html#abd07484f87c6ee98b4ff56ca27f7951c" title="eb_bitmap_offset" alt="" coords="906,424,1029,451"/>
<area shape="rect" id="node40" href="extent__io_8c.html#a7e8bdd63562566f16a8d9c43b6d3767d" title="extent_buffer_bitmap_set" alt="" coords="667,424,836,451"/>
<area shape="rect" id="node41" href="extent__io_8c.html#ae3047523da5fcaa68eac79da0851a5d4" title="extent_buffer_bitmap\l_clear" alt="" coords="679,475,823,517"/>
<area shape="rect" id="node42" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="673,857,829,884"/>
<area shape="rect" id="node43" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="929,857,1006,884"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="890,908,1045,935"/>
<area shape="rect" id="node45" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="884,959,1051,985"/>
<area shape="rect" id="node46" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="913,705,1021,732"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="671,744,831,771"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="469,803,605,845"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="469,686,605,727"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_icgraph.png" border="0" usemap="#free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_icgraph" id="free-space-tree_8c_a5dfe1f4fa42291bba5c02eff3c0d976c_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="669,585,811,626"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="232,483,407,509"/>
<area shape="rect" id="node3" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="863,373,1061,400"/>
<area shape="rect" id="node30" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1130,584,1245,611"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1109,635,1265,661"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1126,685,1249,712"/>
<area shape="rect" id="node37" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1118,736,1257,763"/>
<area shape="rect" id="node38" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="906,787,1018,813"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="903,483,1021,509"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="903,533,1021,560"/>
<area shape="rect" id="node41" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="901,837,1023,864"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1122,366,1253,407"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1120,249,1255,290"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1329,325,1475,352"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1339,450,1465,491"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1543,293,1685,320"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1737,293,1905,320"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1953,293,2108,320"/>
<area shape="rect" id="node9" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2375,353,2581,380"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2166,290,2317,331"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2393,192,2563,219"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2664,195,2785,221"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2673,320,2776,347"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2650,253,2799,280"/>
<area shape="rect" id="node14" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2641,371,2809,413"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2868,167,2980,193"/>
<area shape="rect" id="node17" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2629,36,2820,63"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2644,144,2805,171"/>
<area shape="rect" id="node18" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2881,36,2967,63"/>
<area shape="rect" id="node19" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3029,9,3136,36"/>
<area shape="rect" id="node21" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3028,64,3137,91"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="3216,5,3336,32"/>
<area shape="rect" id="node22" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="3185,122,3367,163"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="3208,57,3344,98"/>
<area shape="rect" id="node26" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1550,508,1678,535"/>
<area shape="rect" id="node27" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1759,508,1884,535"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1331,275,1473,301"/>
<area shape="rect" id="node31" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1313,635,1491,661"/>
<area shape="rect" id="node32" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1539,635,1689,661"/>
<area shape="rect" id="node33" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1776,635,1867,661"/>
<area shape="rect" id="node34" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="1983,635,2078,661"/>
<area shape="rect" id="node43" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="455,344,617,371"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2156,36,2327,63"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="455,417,617,458"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1120,315,1255,341"/>
<area shape="rect" id="node47" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="665,417,815,458"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1750,190,1893,231"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="927,428,997,455"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1111,432,1263,459"/>
</map>
</div>

</div>
</div>
<a id="a123b721c8479223b17c3f434303717a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123b721c8479223b17c3f434303717a1">&#9670;&nbsp;</a></span>populate_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int populate_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a123b721c8479223b17c3f434303717a1_cgraph.png" border="0" usemap="#free-space-tree_8c_a123b721c8479223b17c3f434303717a1_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a123b721c8479223b17c3f434303717a1_cgraph" id="free-space-tree_8c_a123b721c8479223b17c3f434303717a1_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1355,140,1469,166"/>
<area shape="rect" id="node3" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1357,190,1467,217"/>
<area shape="rect" id="node7" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="657,561,831,588"/>
<area shape="rect" id="node28" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1335,545,1489,572"/>
<area shape="rect" id="node38" href="ctree_8c.html#a6f498679a70e49aa8606ece51746a574" title="btrfs_search_slot_for_read" alt="" coords="879,1237,1055,1264"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="224,444,399,470"/>
<area shape="rect" id="node46" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="688,89,800,116"/>
<area shape="rect" id="node4" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1786,697,1915,724"/>
<area shape="rect" id="node5" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1993,1178,2135,1205"/>
<area shape="rect" id="node6" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2001,900,2127,926"/>
<area shape="rect" id="node8" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="885,874,1048,901"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="889,672,1045,698"/>
<area shape="rect" id="node9" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="1127,1120,1257,1162"/>
<area shape="rect" id="node26" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="1138,849,1246,876"/>
<area shape="rect" id="node27" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1138,900,1246,926"/>
<area shape="rect" id="node31" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1126,1069,1258,1096"/>
<area shape="rect" id="node10" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1351,1254,1473,1281"/>
<area shape="rect" id="node11" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1569,1001,1691,1028"/>
<area shape="rect" id="node12" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1781,1457,1921,1484"/>
<area shape="rect" id="node13" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1795,1305,1907,1332"/>
<area shape="rect" id="node14" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1543,1356,1717,1382"/>
<area shape="rect" id="node15" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1773,1406,1928,1433"/>
<area shape="rect" id="node16" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1559,950,1701,977"/>
<area shape="rect" id="node17" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1786,1648,1915,1674"/>
<area shape="rect" id="node18" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1984,1812,2144,1838"/>
<area shape="rect" id="node19" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1571,1660,1689,1686"/>
<area shape="rect" id="node20" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1765,1812,1936,1838"/>
<area shape="rect" id="node21" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1585,1508,1675,1534"/>
<area shape="rect" id="node22" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1548,1710,1712,1737"/>
<area shape="rect" id="node23" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1589,1204,1671,1230"/>
<area shape="rect" id="node24" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1553,1102,1707,1129"/>
<area shape="rect" id="node25" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1547,1558,1713,1585"/>
<area shape="rect" id="node29" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1576,646,1684,673"/>
<area shape="rect" id="node30" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1553,444,1707,470"/>
<area shape="rect" id="node33" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1153,697,1231,724"/>
<area shape="rect" id="node34" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1329,292,1495,318"/>
<area shape="rect" id="node35" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1115,748,1269,774"/>
<area shape="rect" id="node36" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1109,798,1275,825"/>
<area shape="rect" id="node37" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1138,646,1246,673"/>
<area shape="rect" id="node39" href="ctree_8c.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="1138,1288,1246,1314"/>
<area shape="rect" id="node40" href="ctree_8c.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1138,950,1246,977"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="447,495,609,536"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="448,900,608,926"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="1103,342,1281,369"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="665,477,823,504"/>
<area shape="rect" id="node47" href="ctree_8h.html#ad2b49f0a25c8b0b0d7ba2f345874ae61" title="btrfs_next_old_item" alt="" coords="899,773,1035,800"/>
<area shape="rect" id="node48" href="ctree_8h.html#a3c2c5319a132ef5f50ddb192fb12d353" title="btrfs_leaf_free_space" alt="" coords="893,89,1040,116"/>
<area shape="rect" id="node49" href="ctree_8h.html#a4cfa643395013d73d5cab3b9e70e7f9d" title="btrfs_drop_snapshot" alt="" coords="1122,64,1262,90"/>
<area shape="rect" id="node50" href="ctree_8h.html#a272e20ec5084fc8b055816fc2d37ba80" title="btrfs_drop_subtree" alt="" coords="1127,241,1257,268"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a123b721c8479223b17c3f434303717a1_icgraph.png" border="0" usemap="#free-space-tree_8c_a123b721c8479223b17c3f434303717a1_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a123b721c8479223b17c3f434303717a1_icgraph" id="free-space-tree_8c_a123b721c8479223b17c3f434303717a1_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="224,923,415,949"/>
<area shape="rect" id="node3" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="463,511,549,537"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="599,73,705,100"/>
<area shape="rect" id="node7" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="597,645,707,672"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1244,5,1364,32"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1491,5,1601,32"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="755,326,936,367"/>
<area shape="rect" id="node11" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="777,478,913,519"/>
<area shape="rect" id="node26" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="783,813,907,840"/>
<area shape="rect" id="node30" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="785,884,905,911"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="769,645,921,672"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="778,696,913,723"/>
<area shape="rect" id="node43" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="795,752,895,779"/>
<area shape="rect" id="node48" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="767,107,923,133"/>
<area shape="rect" id="node9" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="984,296,1165,323"/>
<area shape="rect" id="node10" href="check-integrity_8h.html#a23f395ad3205ddb3788d69f85058aea2" title="btrfsic_mount" alt="" coords="1253,208,1355,235"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a1d850eb43077174ccbe6327c20d9d7d3" title="btrfs_read_dev_super" alt="" coords="1001,489,1148,516"/>
<area shape="rect" id="node16" href="volumes_8h.html#a90a62fe6214fe8a2b6bb63b4ba42a122" title="btrfs_scratch_superblocks" alt="" coords="987,376,1162,403"/>
<area shape="rect" id="node13" href="volumes_8c.html#a2eb1b15d203f2a45e03ee25da6112244" title="btrfs_get_bdev_and_sb" alt="" coords="1225,493,1383,520"/>
<area shape="rect" id="node14" href="volumes_8c.html#afe2869f66076adcd80a4f257a21f5747" title="btrfs_open_one_device" alt="" coords="1468,491,1624,517"/>
<area shape="rect" id="node15" href="volumes_8c.html#a30d763eb03f425cfafba421829bc63e7" title="btrfs_find_device_by_path" alt="" coords="1459,541,1633,568"/>
<area shape="rect" id="node17" href="volumes_8h.html#a2ea88a5fdd3e268c1c292023da2072b8" title="btrfs_rm_device" alt="" coords="1247,376,1361,403"/>
<area shape="rect" id="node19" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1511,325,1581,352"/>
<area shape="rect" id="node23" href="volumes_8h.html#abf9ccdfe002a1d42a91765acf96aa4db" title="btrfs_rm_dev_replace\l_free_srcdev" alt="" coords="1231,259,1377,301"/>
<area shape="rect" id="node24" href="volumes_8h.html#a808b1d21c8d77df5382af87538b84241" title="btrfs_destroy_dev_replace\l_tgtdev" alt="" coords="1217,427,1391,469"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#aad769fc07893d14cbfda7347fac01aa6" title="btrfs_ioctl_rm_dev_v2" alt="" coords="1471,376,1621,403"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="1706,351,1857,377"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="1697,401,1865,428"/>
<area shape="rect" id="node22" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="1729,300,1833,327"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1702,931,1861,957"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a1ff223ae3709d028efd50ee730ee608d" title="write_all_supers" alt="" coords="1017,1007,1133,1033"/>
<area shape="rect" id="node28" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1461,1065,1631,1092"/>
<area shape="rect" id="node29" href="tree-log_8h.html#a4204724f0e95d8b6afd845beb78bf402" title="btrfs_sync_log" alt="" coords="1251,1200,1357,1227"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="993,595,1157,621"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="993,645,1157,672"/>
<area shape="rect" id="node33" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1443,645,1649,672"/>
<area shape="rect" id="node35" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="1235,595,1373,621"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="1005,784,1145,811"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a298a9e3c3aa5dd4e96bd9d9a2330cc31" title="btrfs_trim_free_extents" alt="" coords="997,696,1153,723"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1239,747,1369,789"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1230,865,1378,906"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1257,813,1351,840"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1257,696,1351,723"/>
<area shape="rect" id="node44" href="btrfs_2scrub_8c.html#a41e09eb4feba543c6486fd1b3380b0df" title="btrfs_scrub_dev" alt="" coords="1017,956,1132,983"/>
<area shape="rect" id="node45" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1256,981,1352,1008"/>
<area shape="rect" id="node46" href="dev-replace_8c.html#ac8403418365581967b80b44e873c31fc" title="btrfs_dev_replace_continue\l_on_mount" alt="" coords="1213,1033,1395,1074"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#a9ee947ab94e97186c9e29bf369e85b25" title="btrfs_ioctl_scrub" alt="" coords="1245,1099,1363,1125"/>
<area shape="rect" id="node49" href="btrfs_2super_8c.html#aac54036808fa2a882cdeee6ccd7fd753" title="btrfs_parse_early_options" alt="" coords="989,56,1160,83"/>
<area shape="rect" id="node50" href="btrfs_2super_8c.html#a04b2fa4fdfcb09647ea0da9c492983ca" title="btrfs_control_ioctl" alt="" coords="1012,107,1137,133"/>
</map>
</div>

</div>
</div>
<a id="a19dd18b81a929d28d3a897478c7684a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19dd18b81a929d28d3a897478c7684a7">&#9670;&nbsp;</a></span>remove_block_group_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int remove_block_group_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_cgraph.png" border="0" usemap="#free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_cgraph" id="free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="216,799,331,825"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="196,849,351,876"/>
<area shape="rect" id="node14" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="843,849,973,876"/>
<area shape="rect" id="node40" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="196,1849,351,1876"/>
<area shape="rect" id="node42" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="632,1685,743,1712"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="421,900,530,927"/>
<area shape="rect" id="node4" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="414,596,537,623"/>
<area shape="rect" id="node5" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1060,2065,1183,2092"/>
<area shape="rect" id="node6" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="838,301,978,328"/>
<area shape="rect" id="node7" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="852,251,964,277"/>
<area shape="rect" id="node8" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="600,327,775,353"/>
<area shape="rect" id="node9" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="831,403,985,429"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1058,849,1185,876"/>
<area shape="rect" id="node11" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="616,124,759,151"/>
<area shape="rect" id="node12" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1067,748,1175,775"/>
<area shape="rect" id="node13" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1278,309,1407,336"/>
<area shape="rect" id="node15" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1050,900,1193,927"/>
<area shape="rect" id="node16" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1041,647,1201,673"/>
<area shape="rect" id="node19" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1063,1027,1180,1053"/>
<area shape="rect" id="node20" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="823,545,993,572"/>
<area shape="rect" id="node21" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="643,849,732,876"/>
<area shape="rect" id="node22" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="605,596,769,623"/>
<area shape="rect" id="node23" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="647,1052,728,1079"/>
<area shape="rect" id="node24" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="611,748,764,775"/>
<area shape="rect" id="node25" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="605,428,770,455"/>
<area shape="rect" id="node26" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="617,479,757,521"/>
<area shape="rect" id="node27" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1048,1331,1195,1357"/>
<area shape="rect" id="node33" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="650,1280,725,1307"/>
<area shape="rect" id="node17" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1253,647,1433,673"/>
<area shape="rect" id="node18" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="1484,1204,1649,1231"/>
<area shape="rect" id="node28" href="ctree_8h.html#ab02e1c880ffc6919e7f0030537458bf6" title="BTRFS_LEAF_DATA_SIZE" alt="" coords="1249,1609,1436,1636"/>
<area shape="rect" id="node29" href="ctree_8c.html#ac707f4795fef0390a27f57f9659873ac" title="leaf_space_used" alt="" coords="1283,1559,1403,1585"/>
<area shape="rect" id="node30" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1495,1660,1638,1687"/>
<area shape="rect" id="node31" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1517,1888,1616,1915"/>
<area shape="rect" id="node32" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1697,1851,1836,1877"/>
<area shape="rect" id="node34" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="843,1660,973,1687"/>
<area shape="rect" id="node35" href="ctree_8c.html#a3f744d0bdb299b702428cbe2ee6c7cf6" title="push_leaf_right" alt="" coords="853,1153,963,1180"/>
<area shape="rect" id="node36" href="ctree_8c.html#a68d2d64c706cfcba125a1220e48fb36d" title="push_leaf_left" alt="" coords="857,1204,959,1231"/>
<area shape="rect" id="node37" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="854,2217,962,2244"/>
<area shape="rect" id="node38" href="ctree_8c.html#ac8ec2aa6c9121aedd78f3467936fee09" title="fixup_low_keys" alt="" coords="852,1457,964,1484"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1043,1457,1199,1484"/>
<area shape="rect" id="node41" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="399,1849,552,1876"/>
<area shape="rect" id="node43" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1052,1913,1191,1940"/>
<area shape="rect" id="node44" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="857,1812,959,1839"/>
<area shape="rect" id="node45" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="825,2167,991,2193"/>
<area shape="rect" id="node48" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="1283,1685,1403,1712"/>
<area shape="rect" id="node49" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="858,2065,958,2092"/>
<area shape="rect" id="node46" href="extent__io_8c.html#adf92b3473afd8419f7477233e21b8d1a" title="memcpy_extent_buffer" alt="" coords="1044,2167,1199,2193"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a3a111056cc620e21a9d649c97cb13679" title="copy_pages" alt="" coords="1297,2141,1389,2168"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_icgraph.png" border="0" usemap="#free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_icgraph" id="free-space-tree_8c_a19dd18b81a929d28d3a897478c7684a7_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="196,818,332,859"/>
<area shape="rect" id="node47" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="229,947,299,973"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="380,825,587,852"/>
<area shape="rect" id="node35" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="865,461,1005,488"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="663,1060,784,1087"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="884,208,987,235"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="649,680,798,707"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="639,789,807,830"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1687,579,1833,605"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1071,208,1217,235"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1095,5,1193,32"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1295,157,1431,184"/>
<area shape="rect" id="node9" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1508,132,1627,159"/>
<area shape="rect" id="node10" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1524,309,1611,336"/>
<area shape="rect" id="node12" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1285,259,1440,285"/>
<area shape="rect" id="node15" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1282,360,1443,387"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1707,309,1813,336"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a664e824d825c90f94492122e35dfc8a5" title="btrfs_remount" alt="" coords="1516,360,1619,387"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a727584f687f90b26e216838c539d53ed" title="btrfs_mount" alt="" coords="1715,360,1805,387"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1317,5,1409,32"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="879,641,991,668"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1061,731,1227,757"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1066,513,1222,554"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1098,579,1190,605"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1087,629,1201,656"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1064,680,1224,707"/>
<area shape="rect" id="node24" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1293,749,1432,790"/>
<area shape="rect" id="node33" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1277,697,1448,724"/>
<area shape="rect" id="node25" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1496,512,1639,539"/>
<area shape="rect" id="node26" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1695,462,1825,503"/>
<area shape="rect" id="node27" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1881,453,1996,480"/>
<area shape="rect" id="node28" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1693,411,1827,437"/>
<area shape="rect" id="node29" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1904,369,1973,396"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#ab86ea9db5ed84b06889965b77c28aaf0" title="btrfs_merge_bio_hook" alt="" coords="2053,293,2203,320"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#a3588a5100bea0ff657bcb906c13597c2" title="btrfs_submit_direct_hook" alt="" coords="2044,344,2212,371"/>
<area shape="rect" id="node32" href="volumes_8h.html#a6bb7de644af0064f83ef490a109cd955" title="btrfs_map_bio" alt="" coords="2076,395,2180,421"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1061,411,1227,437"/>
<area shape="rect" id="node37" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1305,309,1420,336"/>
<area shape="rect" id="node38" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1318,461,1407,488"/>
<area shape="rect" id="node39" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="1511,571,1623,597"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="870,905,1001,932"/>
<area shape="rect" id="node45" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="868,789,1003,830"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1059,1015,1229,1041"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1069,883,1219,925"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1067,949,1221,990"/>
<area shape="rect" id="node46" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1073,832,1215,859"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="407,1073,559,1100"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="635,1115,812,1141"/>
<area shape="rect" id="node50" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="860,1116,1011,1143"/>
</map>
</div>

</div>
</div>
<a id="a7d8b8b87994dd6bff0ebcb2d4b857714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8b8b87994dd6bff0ebcb2d4b857714">&#9670;&nbsp;</a></span>remove_free_space_extent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int remove_free_space_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_cgraph.png" border="0" usemap="#free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_cgraph" id="free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="643,849,797,876"/>
<area shape="rect" id="node13" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1475,301,1605,328"/>
<area shape="rect" id="node30" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1029,1584,1184,1611"/>
<area shape="rect" id="node32" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="267,1888,371,1915"/>
<area shape="rect" id="node42" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="639,1052,801,1079"/>
<area shape="rect" id="node47" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="232,967,407,1009"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1045,925,1168,952"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1258,1787,1381,1813"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1470,1280,1610,1307"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1484,1077,1596,1104"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1232,1229,1407,1256"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1463,1179,1617,1205"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1690,1280,1817,1307"/>
<area shape="rect" id="node10" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1248,1027,1391,1053"/>
<area shape="rect" id="node11" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1486,976,1594,1003"/>
<area shape="rect" id="node12" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1475,900,1605,927"/>
<area shape="rect" id="node14" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1682,251,1825,277"/>
<area shape="rect" id="node15" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1673,748,1833,775"/>
<area shape="rect" id="node16" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1261,875,1378,901"/>
<area shape="rect" id="node17" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1455,773,1625,800"/>
<area shape="rect" id="node18" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1275,555,1364,581"/>
<area shape="rect" id="node19" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1237,723,1401,749"/>
<area shape="rect" id="node20" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1279,200,1360,227"/>
<area shape="rect" id="node21" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1243,504,1396,531"/>
<area shape="rect" id="node22" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1237,605,1402,632"/>
<area shape="rect" id="node23" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1249,657,1389,698"/>
<area shape="rect" id="node24" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1467,1533,1613,1560"/>
<area shape="rect" id="node25" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1282,1635,1357,1661"/>
<area shape="rect" id="node26" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1475,2065,1605,2092"/>
<area shape="rect" id="node29" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1486,1837,1594,1864"/>
<area shape="rect" id="node27" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1704,2065,1803,2092"/>
<area shape="rect" id="node28" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="1881,2065,2020,2092"/>
<area shape="rect" id="node31" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="1243,1483,1396,1509"/>
<area shape="rect" id="node33" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1051,2167,1162,2193"/>
<area shape="rect" id="node40" href="ctree_8h.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1029,1977,1184,2004"/>
<area shape="rect" id="node41" href="ctree_8h.html#abcf0350a6f0ef696eb19f4d9603c5548" title="btrfs_insert_item" alt="" coords="463,1888,582,1915"/>
<area shape="rect" id="node43" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="850,1103,981,1145"/>
<area shape="rect" id="node34" href="ctree_8h.html#af89888d8d22cc18d1f4136e19136c2fd" title="btrfs_init_map_token" alt="" coords="1248,2040,1391,2067"/>
<area shape="rect" id="node35" href="ctree_8h.html#a0c0e832bc53bcf4fca2eed8101fe1371" title="btrfs_item_offset_nr" alt="" coords="1471,2141,1609,2168"/>
<area shape="rect" id="node36" href="ctree_8h.html#aedfb5a5c14b8308e32ef4fdd4d55bc5a" title="leaf_data_end" alt="" coords="1268,2141,1371,2168"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a770c7f7264c39bb0a6dd0eca827e6c2b" title="memmove_extent_buffer" alt="" coords="1236,2091,1403,2117"/>
<area shape="rect" id="node38" href="disk-io_8c.html#ac98755ea4a6e94160f645277d1888b47" title="clean_tree_block" alt="" coords="1259,2395,1379,2421"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1241,1888,1397,1915"/>
<area shape="rect" id="node44" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="861,1052,969,1079"/>
<area shape="rect" id="node45" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="861,951,969,977"/>
<area shape="rect" id="node46" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="849,773,981,800"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="640,900,800,927"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="455,937,591,978"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="455,1002,591,1043"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_icgraph.png" border="0" usemap="#free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_icgraph" id="free-space-tree_8c_a7d8b8b87994dd6bff0ebcb2d4b857714_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="232,645,373,686"/>
<area shape="rect" id="node3" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="421,449,620,476"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="463,652,578,679"/>
<area shape="rect" id="node44" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="443,703,599,729"/>
<area shape="rect" id="node45" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="459,753,582,780"/>
<area shape="rect" id="node46" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="451,804,590,831"/>
<area shape="rect" id="node47" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="465,855,577,881"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="461,500,580,527"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="461,551,580,577"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="459,601,582,628"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="691,410,822,451"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="689,475,824,517"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="895,425,1042,452"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1513,333,1639,374"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1092,483,1235,509"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1283,485,1451,512"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1499,488,1653,515"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1970,666,2110,707"/>
<area shape="rect" id="node18" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1701,340,1908,367"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2368,257,2519,298"/>
<area shape="rect" id="node26" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2779,427,2948,453"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="2367,394,2520,435"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2575,427,2731,453"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1723,391,1887,417"/>
<area shape="rect" id="node32" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1709,644,1901,671"/>
<area shape="rect" id="node33" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1719,492,1890,519"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="3015,532,3136,559"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2191,659,2293,685"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="3203,532,3349,559"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2370,684,2517,711"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="2395,633,2492,660"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="2585,583,2721,609"/>
<area shape="rect" id="node15" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2820,659,2907,685"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="2575,633,2730,660"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1965,96,2115,123"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1956,274,2124,315"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2186,20,2298,47"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2360,45,2527,72"/>
<area shape="rect" id="node22" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2172,121,2312,148"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="2177,340,2307,367"/>
<area shape="rect" id="node30" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="2175,274,2309,315"/>
<area shape="rect" id="node27" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="2996,307,3155,333"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1976,8,2104,35"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="2801,187,2926,213"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="897,483,1040,509"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="668,677,845,704"/>
<area shape="rect" id="node41" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="893,677,1044,704"/>
<area shape="rect" id="node42" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1118,677,1209,704"/>
<area shape="rect" id="node43" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="1319,677,1414,704"/>
</map>
</div>

</div>
</div>
<a id="a9c168e74a08b881dc59945d1285d0473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c168e74a08b881dc59945d1285d0473">&#9670;&nbsp;</a></span>remove_from_free_space_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int remove_from_free_space_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_cgraph.png" border="0" usemap="#free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_cgraph" id="free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="270,5,385,32"/>
<area shape="rect" id="node3" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="262,57,393,98"/>
<area shape="rect" id="node6" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="257,610,398,651"/>
<area shape="rect" id="node49" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="252,173,403,200"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1548,123,1657,149"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#aeeaa2e156294739421220cde258a3db2" title="block_group_cache_tree\l_search" alt="" coords="451,57,613,98"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="673,64,824,91"/>
<area shape="rect" id="node7" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="451,713,613,754"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1955,709,2085,736"/>
<area shape="rect" id="node18" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="1333,1177,1493,1204"/>
<area shape="rect" id="node39" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="884,645,1063,672"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="884,587,1063,613"/>
<area shape="rect" id="node8" href="free-space-tree_8c.html#afca07c33e93685cc949b816d05bd6f2e" title="add_new_free_space_info" alt="" coords="887,300,1060,327"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="661,747,836,773"/>
<area shape="rect" id="node9" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="1117,325,1279,352"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1335,477,1491,504"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="2162,632,2305,659"/>
<area shape="rect" id="node16" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2170,1304,2297,1331"/>
<area shape="rect" id="node13" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="2377,573,2500,600"/>
<area shape="rect" id="node14" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="2361,625,2516,666"/>
<area shape="rect" id="node15" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="2361,691,2516,717"/>
<area shape="rect" id="node46" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="895,747,1052,773"/>
<area shape="rect" id="node19" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1541,1279,1664,1305"/>
<area shape="rect" id="node20" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1738,899,1861,925"/>
<area shape="rect" id="node21" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1950,1531,2090,1557"/>
<area shape="rect" id="node22" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1964,1776,2076,1803"/>
<area shape="rect" id="node23" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="1712,1675,1887,1701"/>
<area shape="rect" id="node24" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1943,1700,2097,1727"/>
<area shape="rect" id="node25" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="1728,1827,1871,1853"/>
<area shape="rect" id="node26" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1966,1877,2074,1904"/>
<area shape="rect" id="node27" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1955,1431,2085,1457"/>
<area shape="rect" id="node28" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="2153,1076,2313,1103"/>
<area shape="rect" id="node29" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="1741,1405,1858,1432"/>
<area shape="rect" id="node30" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1935,1051,2105,1077"/>
<area shape="rect" id="node31" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="1755,949,1844,976"/>
<area shape="rect" id="node32" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1717,1051,1881,1077"/>
<area shape="rect" id="node33" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1979,581,2061,608"/>
<area shape="rect" id="node34" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1723,1152,1876,1179"/>
<area shape="rect" id="node35" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="1717,1557,1882,1584"/>
<area shape="rect" id="node36" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="1729,1609,1869,1650"/>
<area shape="rect" id="node37" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1947,1304,2093,1331"/>
<area shape="rect" id="node38" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1762,1355,1837,1381"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="1336,899,1491,925"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a485cc94659b93c3388493ee9673d8fed" title="free_space_test_bit" alt="" coords="1130,645,1266,672"/>
<area shape="rect" id="node42" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1336,696,1491,723"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#aa47a42834ae5d5436f7d6fedd70d8a91" title="free_space_next_bitmap" alt="" coords="1116,797,1280,824"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#ae316e9a49fbe866ccacde0cd2576c56b" title="free_space_set_bits" alt="" coords="1129,477,1267,504"/>
<area shape="rect" id="node45" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="1111,579,1285,621"/>
<area shape="rect" id="node47" href="ctree_8h.html#a5959efdb93f339c3df065aabc41ae604" title="btrfs_del_item" alt="" coords="1146,949,1250,976"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_icgraph.png" border="0" usemap="#free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_icgraph" id="free-space-tree_8c_a9c168e74a08b881dc59945d1285d0473_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="254,686,385,727"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="252,751,387,793"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="435,701,581,728"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1050,571,1177,613"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="629,759,772,785"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="820,781,988,808"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1036,908,1191,935"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1507,1006,1647,1047"/>
<area shape="rect" id="node19" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1239,579,1445,605"/>
<area shape="rect" id="node36" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2116,633,2272,660"/>
<area shape="rect" id="node37" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2320,688,2489,715"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1907,681,2058,722"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1906,563,2059,605"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1260,1085,1424,1112"/>
<area shape="rect" id="node44" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1246,984,1438,1011"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1257,1136,1427,1163"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2562,807,2683,833"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1728,959,1831,985"/>
<area shape="rect" id="node9" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="2756,807,2903,833"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="2331,984,2478,1011"/>
<area shape="rect" id="node17" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1934,933,2031,960"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="2555,1009,2691,1036"/>
<area shape="rect" id="node13" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2770,1009,2889,1036"/>
<area shape="rect" id="node14" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2786,908,2873,935"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="2545,959,2700,985"/>
<area shape="rect" id="node16" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="2542,857,2703,884"/>
<area shape="rect" id="node18" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="2148,883,2240,909"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1503,309,1652,336"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1493,513,1661,554"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1723,183,1835,209"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1899,56,2066,83"/>
<area shape="rect" id="node30" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1709,309,1849,336"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2545,510,2701,551"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="1937,208,2029,235"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1925,259,2040,285"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="1903,157,2063,184"/>
<area shape="rect" id="node26" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="2125,411,2263,453"/>
<area shape="rect" id="node28" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="2537,201,2708,228"/>
<area shape="rect" id="node27" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2333,389,2476,416"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1899,411,2066,437"/>
<area shape="rect" id="node32" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1948,309,2017,336"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1714,579,1845,605"/>
<area shape="rect" id="node41" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1712,411,1847,453"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1897,629,2068,656"/>
<area shape="rect" id="node38" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="2543,77,2702,104"/>
<area shape="rect" id="node42" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1911,512,2054,539"/>
<area shape="rect" id="node47" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1513,132,1641,159"/>
<area shape="rect" id="node48" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="2131,5,2257,32"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="437,759,579,785"/>
</map>
</div>

</div>
</div>
<a id="a743a7e87e3df1f3a04def56a7716531b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743a7e87e3df1f3a04def56a7716531b">&#9670;&nbsp;</a></span>search_free_space_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct btrfs_free_space_info* search_free_space_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_cgraph.png" border="0" usemap="#free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_cgraph" alt=""/></div>
<map name="free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_cgraph" id="free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="213,806,336,832"/>
<area shape="rect" id="node3" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1307,223,1429,250"/>
<area shape="rect" id="node4" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="622,476,762,503"/>
<area shape="rect" id="node5" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="636,375,748,402"/>
<area shape="rect" id="node6" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="384,628,559,655"/>
<area shape="rect" id="node7" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="615,983,769,1010"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1305,755,1431,782"/>
<area shape="rect" id="node12" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="400,324,543,351"/>
<area shape="rect" id="node13" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="867,223,975,250"/>
<area shape="rect" id="node15" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1089,71,1219,98"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="627,1338,757,1364"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="849,1602,992,1628"/>
<area shape="rect" id="node23" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="841,1722,1001,1748"/>
<area shape="rect" id="node25" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="862,426,979,452"/>
<area shape="rect" id="node28" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="607,1844,777,1871"/>
<area shape="rect" id="node30" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="427,831,516,858"/>
<area shape="rect" id="node33" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="389,1084,553,1111"/>
<area shape="rect" id="node42" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="431,1507,512,1534"/>
<area shape="rect" id="node43" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="395,1388,548,1415"/>
<area shape="rect" id="node47" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="389,1676,554,1703"/>
<area shape="rect" id="node48" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="401,1728,541,1769"/>
<area shape="rect" id="node49" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="619,780,765,807"/>
<area shape="rect" id="node50" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="434,730,509,756"/>
<area shape="rect" id="node8" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1292,1565,1444,1606"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1492,730,1647,756"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1496,780,1643,807"/>
<area shape="rect" id="node14" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1307,375,1429,402"/>
<area shape="rect" id="node16" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1313,46,1423,72"/>
<area shape="rect" id="node17" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1307,96,1429,123"/>
<area shape="rect" id="node20" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1093,1660,1215,1687"/>
<area shape="rect" id="node21" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1077,1594,1231,1636"/>
<area shape="rect" id="node22" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1077,1543,1231,1570"/>
<area shape="rect" id="node24" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1064,1722,1244,1748"/>
<area shape="rect" id="node26" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="1075,476,1233,503"/>
<area shape="rect" id="node27" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1089,375,1219,402"/>
<area shape="rect" id="node29" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="825,1794,1016,1820"/>
<area shape="rect" id="node31" href="ctree_8c.html#aae879f485f664006df2ba365bde160d1" title="btrfs_bin_search" alt="" coords="633,882,751,908"/>
<area shape="rect" id="node32" href="ctree_8c.html#ab3d83f60ae03e6dc5e491d3125719202" title="key_search_validate" alt="" coords="621,831,763,858"/>
<area shape="rect" id="node34" href="ctree_8h.html#a27b7a6f1b94c295fd85d206928b7a925" title="BTRFS_NODEPTRS_PER\l_BLOCK" alt="" coords="829,832,1012,873"/>
<area shape="rect" id="node35" href="ctree_8c.html#aaf9eee447f9362980d60f99f3aa1c49b" title="reada_for_balance" alt="" coords="628,1135,756,1162"/>
<area shape="rect" id="node40" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="651,932,733,959"/>
<area shape="rect" id="node41" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="641,578,743,604"/>
<area shape="rect" id="node36" href="ctree_8h.html#a9ca99151243051fd833c04ccb60cb813" title="btrfs_node_blockptr" alt="" coords="853,1084,989,1111"/>
<area shape="rect" id="node37" href="ctree_8h.html#a24640de1c20d5396785211a65207d3ce" title="btrfs_node_ptr_generation" alt="" coords="835,1186,1007,1212"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a148a9ba58a2db0f9bb08394872125eba" title="find_extent_buffer" alt="" coords="857,1263,984,1290"/>
<area shape="rect" id="node39" href="disk-io_8c.html#a6a2a272c0769f807c5590f69fbbc348e" title="btrfs_buffer_uptodate" alt="" coords="848,1458,993,1484"/>
<area shape="rect" id="node44" href="ctree_8h.html#afb0e884209be94f6358dc7d99ae472a7" title="btrfs_node_key_to_cpu" alt="" coords="613,1439,771,1466"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a12d844363b833ecbd5b357019b5e8de7" title="btrfs_read_buffer" alt="" coords="632,1540,752,1567"/>
<area shape="rect" id="node46" href="ctree_8c.html#ae984721a150eae4023bbe3cf25e6070c" title="btrfs_unlock_up_safe" alt="" coords="619,1591,765,1618"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_icgraph.png" border="0" usemap="#free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_icgraph" id="free-space-tree_8c_a743a7e87e3df1f3a04def56a7716531b_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="219,310,355,351"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#ada59ff1dca10f8844aea0ad46cbd73d3" title="update_free_space_extent\l_count" alt="" coords="408,302,583,343"/>
<area shape="rect" id="node5" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="1327,339,1469,381"/>
<area shape="rect" id="node26" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="859,512,1034,539"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a523642c842105928cd17c5b3e47ce814" title="check_free_space_extents" alt="" coords="1309,245,1487,272"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="219,193,355,234"/>
<area shape="rect" id="node42" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="213,869,360,896"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#ac8ad01c20817dcebfba8015571d3cf7c" title="__check_free_space\l_extents" alt="" coords="424,25,567,66"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1606,624,1675,651"/>
<area shape="rect" id="node4" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="631,344,809,371"/>
<area shape="rect" id="node37" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="857,293,1036,320"/>
<area shape="rect" id="node38" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="641,453,799,480"/>
<area shape="rect" id="node6" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1541,675,1740,701"/>
<area shape="rect" id="node15" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1583,296,1698,323"/>
<area shape="rect" id="node19" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1563,347,1719,373"/>
<area shape="rect" id="node20" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1579,195,1702,221"/>
<area shape="rect" id="node21" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1571,245,1710,272"/>
<area shape="rect" id="node22" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1585,448,1697,475"/>
<area shape="rect" id="node23" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1581,499,1700,525"/>
<area shape="rect" id="node24" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1581,397,1700,424"/>
<area shape="rect" id="node25" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1579,549,1702,576"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1807,781,1938,822"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1805,663,1940,705"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="2021,751,2167,777"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="2031,831,2157,873"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="2263,725,2405,752"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2231,904,2437,931"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="2270,839,2398,865"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="2023,700,2165,727"/>
<area shape="rect" id="node16" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="2005,372,2183,399"/>
<area shape="rect" id="node17" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="2259,372,2409,399"/>
<area shape="rect" id="node18" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="2485,372,2576,399"/>
<area shape="rect" id="node27" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="1089,668,1250,695"/>
<area shape="rect" id="node29" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="1084,727,1255,753"/>
<area shape="rect" id="node32" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="1088,395,1251,437"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1805,729,1940,756"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1303,869,1493,896"/>
<area shape="rect" id="node31" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1597,907,1684,933"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="1323,665,1473,706"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="2023,897,2165,938"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1797,604,1949,631"/>
<area shape="rect" id="node40" href="free-space-tree-tests_8c.html#ad9decab3c16e6e3201a123e2935c1be2" title="test_empty_block_group" alt="" coords="1791,144,1955,171"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1114,925,1225,952"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="1331,983,1465,1009"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="1571,781,1710,808"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="2025,983,2163,1025"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="1788,847,1957,873"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1583,1059,1698,1085"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1593,1109,1688,1136"/>
</map>
</div>

</div>
</div>
<a id="a016a16cb724e64ea614bab6c9e3cb164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016a16cb724e64ea614bab6c9e3cb164">&#9670;&nbsp;</a></span>set_free_space_tree_thresholds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_free_space_tree_thresholds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_a016a16cb724e64ea614bab6c9e3cb164_icgraph.png" border="0" usemap="#free-space-tree_8c_a016a16cb724e64ea614bab6c9e3cb164_icgraph" alt=""/></div>
<map name="free-space-tree_8c_a016a16cb724e64ea614bab6c9e3cb164_icgraph" id="free-space-tree_8c_a016a16cb724e64ea614bab6c9e3cb164_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a97fecf81cbed11a3223cd24040fde860" title="btrfs_create_block\l_group_cache" alt="" coords="193,35,323,77"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="371,68,535,95"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="2020,68,2184,95"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="583,533,789,560"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1483,323,1569,349"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="861,559,982,585"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="870,457,973,484"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2601,477,2751,504"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="837,711,1005,753"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1053,559,1200,585"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1053,384,1200,411"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1078,457,1175,484"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1265,412,1401,439"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1467,437,1585,464"/>
<area shape="rect" id="node41" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1256,311,1411,337"/>
<area shape="rect" id="node42" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1253,361,1414,388"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1635,481,1741,508"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1633,344,1743,371"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2042,412,2162,439"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1791,347,1972,389"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1813,413,1949,454"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1819,479,1943,505"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1821,529,1941,556"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1805,93,1957,120"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1814,245,1949,272"/>
<area shape="rect" id="node39" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1831,296,1931,323"/>
<area shape="rect" id="node40" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1803,195,1959,221"/>
<area shape="rect" id="node21" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2232,93,2371,120"/>
<area shape="rect" id="node22" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2424,233,2548,260"/>
<area shape="rect" id="node36" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2419,107,2553,133"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2813,477,2925,504"/>
<area shape="rect" id="node35" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="3035,208,3105,235"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="2987,604,3153,631"/>
<area shape="rect" id="node33" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2799,335,2939,361"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2992,386,3148,427"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="3024,452,3116,479"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="3013,503,3127,529"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a67e717a3e151b2371209d5f979d8345e" title="btrfs_force_chunk_alloc" alt="" coords="2990,553,3150,580"/>
<area shape="rect" id="node29" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="3217,626,3356,667"/>
<area shape="rect" id="node31" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="3201,575,3372,601"/>
<area shape="rect" id="node30" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="3420,484,3563,511"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="2987,284,3153,311"/>
<area shape="rect" id="node37" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2602,119,2750,145"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1287,513,1379,540"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1061,711,1192,737"/>
<area shape="rect" id="node50" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="2234,718,2369,759"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="1248,812,1419,839"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1258,565,1409,606"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1257,686,1410,727"/>
</map>
</div>

</div>
</div>
<a id="ada59ff1dca10f8844aea0ad46cbd73d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada59ff1dca10f8844aea0ad46cbd73d3">&#9670;&nbsp;</a></span>update_free_space_extent_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int update_free_space_extent_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_extents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_cgraph.png" border="0" usemap="#free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_cgraph" alt=""/></div>
<map name="free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_cgraph" id="free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_cgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a743a7e87e3df1f3a04def56a7716531b" title="search_free_space_info" alt="" coords="413,832,573,859"/>
<area shape="rect" id="node13" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1070,1492,1199,1519"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="623,275,779,301"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a5165dc521e94508b67380daa709941a2" title="convert_free_space\l_to_bitmaps" alt="" coords="228,546,364,587"/>
<area shape="rect" id="node48" href="free-space-tree_8c.html#a1145bfbc56da20ac823253f0b01d9675" title="convert_free_space\l_to_extents" alt="" coords="228,723,364,765"/>
<area shape="rect" id="node3" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="639,1025,762,1052"/>
<area shape="rect" id="node4" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="853,477,975,504"/>
<area shape="rect" id="node5" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1065,731,1205,757"/>
<area shape="rect" id="node6" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1292,680,1404,707"/>
<area shape="rect" id="node7" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="827,781,1001,808"/>
<area shape="rect" id="node8" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1057,933,1212,960"/>
<area shape="rect" id="node9" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1285,908,1411,935"/>
<area shape="rect" id="node10" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="843,832,985,859"/>
<area shape="rect" id="node11" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1081,1035,1189,1061"/>
<area shape="rect" id="node12" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1070,1427,1199,1453"/>
<area shape="rect" id="node14" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1277,1237,1419,1264"/>
<area shape="rect" id="node15" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1268,1709,1428,1736"/>
<area shape="rect" id="node16" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="855,1304,973,1331"/>
<area shape="rect" id="node17" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1049,1709,1220,1736"/>
<area shape="rect" id="node18" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="869,1405,959,1432"/>
<area shape="rect" id="node19" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="832,1659,996,1685"/>
<area shape="rect" id="node20" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1094,1237,1175,1264"/>
<area shape="rect" id="node21" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="837,1253,991,1280"/>
<area shape="rect" id="node22" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="831,883,997,909"/>
<area shape="rect" id="node23" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="844,934,984,975"/>
<area shape="rect" id="node24" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1061,629,1208,656"/>
<area shape="rect" id="node25" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="877,680,951,707"/>
<area shape="rect" id="node27" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="875,275,953,301"/>
<area shape="rect" id="node28" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="831,224,997,251"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="837,56,991,83"/>
<area shape="rect" id="node32" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="831,325,997,352"/>
<area shape="rect" id="node35" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="860,173,968,200"/>
<area shape="rect" id="node30" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1061,5,1209,32"/>
<area shape="rect" id="node31" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1069,56,1201,83"/>
<area shape="rect" id="node33" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1092,477,1177,504"/>
<area shape="rect" id="node34" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1271,351,1425,377"/>
<area shape="rect" id="node36" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="1085,376,1184,403"/>
<area shape="rect" id="node37" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1070,209,1199,250"/>
<area shape="rect" id="node38" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1073,157,1196,184"/>
<area shape="rect" id="node39" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1276,249,1420,276"/>
<area shape="rect" id="node41" href="free-space-tree_8c.html#a4fb159a96f333dd29d60ea28af195e79" title="free_space_bitmap_size" alt="" coords="412,680,575,707"/>
<area shape="rect" id="node42" href="free-space-tree_8c.html#a1fc3dfdc7847d9b4a32a7d811a339366" title="alloc_bitmap" alt="" coords="446,731,541,757"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a87bb70899ea72cc9530bc8165090430b" title="btrfs_search_prev_slot" alt="" coords="416,579,571,605"/>
<area shape="rect" id="node44" href="extent__io_8c.html#a231f10ba17fe2897b6d5b74d7b820fe5" title="le_bitmap_set" alt="" coords="442,376,545,403"/>
<area shape="rect" id="node45" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="438,477,549,504"/>
<area shape="rect" id="node46" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="412,629,575,656"/>
<area shape="rect" id="node47" href="extent__io_8c.html#a897d780c52e4c2af5b8449baa6721b16" title="write_extent_buffer" alt="" coords="427,325,560,352"/>
<area shape="rect" id="node49" href="extent__io_8c.html#a13f34ad4413ed7398240de3304b1045b" title="read_extent_buffer" alt="" coords="428,1405,559,1432"/>
<area shape="rect" id="node50" href="extent__io_8h.html#ab8fca161fdd3c83df820ed0a8efca353" title="le_test_bit" alt="" coords="452,1456,535,1483"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_icgraph.png" border="0" usemap="#free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_icgraph" alt=""/></div>
<map name="free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_icgraph" id="free-space-tree_8c_ada59ff1dca10f8844aea0ad46cbd73d3_icgraph">
<area shape="rect" id="node2" href="free-space-tree_8c.html#a5dfe1f4fa42291bba5c02eff3c0d976c" title="modify_free_space_bitmap" alt="" coords="228,655,407,681"/>
<area shape="rect" id="node49" href="free-space-tree_8c.html#a7d8b8b87994dd6bff0ebcb2d4b857714" title="remove_free_space_extent" alt="" coords="455,731,633,757"/>
<area shape="rect" id="node50" href="free-space-tree_8c.html#aa99f0a54ad2dc91a23b9e16beb5d5c5e" title="add_free_space_extent" alt="" coords="239,553,396,580"/>
<area shape="rect" id="node3" href="free-space-tree_8c.html#a259b79c4e6a9c79d4486a26705847e7f" title="__remove_from_free\l_space_tree" alt="" coords="896,681,1037,722"/>
<area shape="rect" id="node40" href="free-space-tree_8c.html#a771c2a253ee6dfeca15969a5a525d708" title="__add_to_free_space_tree" alt="" coords="457,499,631,525"/>
<area shape="rect" id="node4" href="free-space-tree_8h.html#a9c168e74a08b881dc59945d1285d0473" title="remove_from_free_space_tree" alt="" coords="1089,368,1288,395"/>
<area shape="rect" id="node28" href="free-space-tree-tests_8c.html#ad1b97430f468460cca9519dba0747def" title="test_remove_all" alt="" coords="1357,781,1471,808"/>
<area shape="rect" id="node33" href="free-space-tree-tests_8c.html#a0d9d383a3b582e61481e53bef44d2a6d" title="test_remove_beginning" alt="" coords="1336,832,1492,859"/>
<area shape="rect" id="node34" href="free-space-tree-tests_8c.html#a0f47f00080c62f0bac03820564b32e39" title="test_remove_end" alt="" coords="1353,680,1475,707"/>
<area shape="rect" id="node35" href="free-space-tree-tests_8c.html#a73e4f792162b2c72c8b2a70e9bed07b3" title="test_remove_middle" alt="" coords="1345,731,1483,757"/>
<area shape="rect" id="node36" href="free-space-tree-tests_8c.html#af8ab11353538da00cabe0fd86b2f69c9" title="test_merge_left" alt="" coords="1133,629,1245,656"/>
<area shape="rect" id="node37" href="free-space-tree-tests_8c.html#a5b05ee08d7af34abd6bb3c6829a7b1d0" title="test_merge_right" alt="" coords="1129,477,1248,504"/>
<area shape="rect" id="node38" href="free-space-tree-tests_8c.html#a6da12731c69d8ad341c52dffb0062692" title="test_merge_both" alt="" coords="1129,528,1248,555"/>
<area shape="rect" id="node39" href="free-space-tree-tests_8c.html#a7cada2f6a3bbdf622dbb069cf0202ccb" title="test_merge_none" alt="" coords="1127,579,1250,605"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="1349,361,1479,402"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="1347,243,1481,285"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="1555,320,1702,347"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1565,445,1692,486"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1769,289,1912,316"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1964,289,2132,316"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="2180,289,2335,316"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2601,321,2808,348"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="2393,285,2543,326"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2620,184,2789,211"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2891,188,3012,215"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2900,377,3003,404"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2877,245,3026,272"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2867,311,3035,353"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="3095,163,3207,189"/>
<area shape="rect" id="node18" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2856,31,3047,57"/>
<area shape="rect" id="node22" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="2871,133,3032,160"/>
<area shape="rect" id="node19" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="3107,31,3194,57"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="3256,5,3363,32"/>
<area shape="rect" id="node21" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="3255,56,3364,83"/>
<area shape="rect" id="node24" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1777,503,1905,529"/>
<area shape="rect" id="node25" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1985,503,2111,529"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="1557,269,1700,296"/>
<area shape="rect" id="node29" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="1540,629,1717,656"/>
<area shape="rect" id="node30" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1765,629,1916,656"/>
<area shape="rect" id="node31" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="2003,629,2093,656"/>
<area shape="rect" id="node32" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="2210,629,2305,656"/>
<area shape="rect" id="node41" href="free-space-tree_8h.html#a993c3c9c24de076a30cd08520fbbb444" title="add_to_free_space_tree" alt="" coords="682,327,843,353"/>
<area shape="rect" id="node43" href="free-space-tree_8c.html#a123b721c8479223b17c3f434303717a1" title="populate_free_space_tree" alt="" coords="2383,31,2553,57"/>
<area shape="rect" id="node44" href="free-space-tree_8c.html#a18990b55255cf9ea3146b1be72e5438c" title="__add_block_group_free\l_space" alt="" coords="681,462,844,503"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="1347,309,1481,336"/>
<area shape="rect" id="node45" href="free-space-tree_8h.html#ad2012bd96411caadf5b82857cff7448c" title="add_block_group_free\l_space" alt="" coords="892,353,1041,394"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#adf93feeb3925fb87a313806cf9132865" title="btrfs_create_pending\l_block_groups" alt="" coords="1977,185,2119,226"/>
<area shape="rect" id="node47" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="1154,423,1223,449"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="1338,427,1490,453"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e99c6e840ca93ced115462758f746de3.html">btrfs</a></li><li class="navelem"><a class="el" href="free-space-tree_8c.html">free-space-tree.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
