<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ext4/indirect.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('indirect_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">indirect.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ext4__jbd2_8h_source.html">ext4_jbd2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="truncate_8h_source.html">truncate.h</a>&quot;</code><br />
<code>#include &lt;linux/dax.h&gt;</code><br />
<code>#include &lt;linux/uio.h&gt;</code><br />
<code>#include &lt;trace/events/ext4.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for indirect.c:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c__incl.png" border="0" usemap="#ext4_2indirect_8c" alt=""/></div>
<map name="ext4_2indirect_8c" id="ext4_2indirect_8c">
<area shape="rect" id="node2" href="ext4__jbd2_8h.html" title="ext4_jbd2.h" alt="" coords="719,80,809,107"/>
<area shape="rect" id="node32" href="truncate_8h.html" title="truncate.h" alt="" coords="833,80,913,107"/>
<area shape="rect" id="node5" href="ext4_8h.html" title="ext4.h" alt="" coords="1601,155,1660,181"/>
<area shape="rect" id="node31" href="extents__status_8h.html" title="extents_status.h" alt="" coords="3451,229,3570,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIndirect.html">Indirect</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab053a0bb3c41bab2ebae31eaac9a9c1c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#ab053a0bb3c41bab2ebae31eaac9a9c1c">add_chain</a> (<a class="el" href="structIndirect.html">Indirect</a> *p, struct buffer_head *bh, __le32 *<a class="el" href="reiserfs_8h.html#af3897e7afa3b7be539f8526da2af92a6">v</a>)</td></tr>
<tr class="separator:ab053a0bb3c41bab2ebae31eaac9a9c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a538a84ff7e7ad067b9e0ca0920e8983b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a538a84ff7e7ad067b9e0ca0920e8983b">ext4_block_to_path</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> i_block, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> offsets[4], int *boundary)</td></tr>
<tr class="separator:a538a84ff7e7ad067b9e0ca0920e8983b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad571d2ebb565c914ef4c9b329afd73a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structIndirect.html">Indirect</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6">ext4_get_branch</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int depth, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> *offsets, <a class="el" href="structIndirect.html">Indirect</a> chain[4], int *err)</td></tr>
<tr class="separator:ad571d2ebb565c914ef4c9b329afd73a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b659dfd96918b217c640c79bd2fd43d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ext4_8h.html#a322aba3d2eedf7bd141ae72a7ed4969b">ext4_fsblk_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a8b659dfd96918b217c640c79bd2fd43d">ext4_find_near</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, <a class="el" href="structIndirect.html">Indirect</a> *ind)</td></tr>
<tr class="separator:a8b659dfd96918b217c640c79bd2fd43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4061213f04ddb3c8800cf964169242bf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ext4_8h.html#a322aba3d2eedf7bd141ae72a7ed4969b">ext4_fsblk_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a4061213f04ddb3c8800cf964169242bf">ext4_find_goal</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>, <a class="el" href="structIndirect.html">Indirect</a> *partial)</td></tr>
<tr class="separator:a4061213f04ddb3c8800cf964169242bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d77246e7ec855073ec7bc2009dfd62"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a28d77246e7ec855073ec7bc2009dfd62">ext4_blks_to_allocate</a> (<a class="el" href="structIndirect.html">Indirect</a> *branch, int k, unsigned int blks, int blocks_to_boundary)</td></tr>
<tr class="separator:a28d77246e7ec855073ec7bc2009dfd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464d7f0108a179f586d0885e98b82b97"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a464d7f0108a179f586d0885e98b82b97">ext4_alloc_branch</a> (handle_t *handle, struct <a class="el" href="structext4__allocation__request.html">ext4_allocation_request</a> *ar, int indirect_blks, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> *offsets, <a class="el" href="structIndirect.html">Indirect</a> *branch)</td></tr>
<tr class="separator:a464d7f0108a179f586d0885e98b82b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7c22051a96692690846dc4429cc3c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a5f7c22051a96692690846dc4429cc3c7">ext4_splice_branch</a> (handle_t *handle, struct <a class="el" href="structext4__allocation__request.html">ext4_allocation_request</a> *ar, <a class="el" href="structIndirect.html">Indirect</a> *where, int num)</td></tr>
<tr class="separator:a5f7c22051a96692690846dc4429cc3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a6de58faf07728fd7ca5210966069b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b">ext4_ind_map_blocks</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structext4__map__blocks.html">ext4_map_blocks</a> *map, int <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:af1a6de58faf07728fd7ca5210966069b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b886bd028174b8de8be6ff3915e22a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a55b886bd028174b8de8be6ff3915e22a">ext4_ind_calc_metadata_amount</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, sector_t lblock)</td></tr>
<tr class="separator:a55b886bd028174b8de8be6ff3915e22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f74c2d512df943f5002f0902d1bc25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a77f74c2d512df943f5002f0902d1bc25">ext4_ind_trans_blocks</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int nrblocks)</td></tr>
<tr class="separator:a77f74c2d512df943f5002f0902d1bc25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f8981413ee487f7632bf3014713653"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a15f8981413ee487f7632bf3014713653">try_to_extend_transaction</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a15f8981413ee487f7632bf3014713653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de7ee6f7a66dd8e78c4aa7d0db889fb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a9de7ee6f7a66dd8e78c4aa7d0db889fb">all_zeroes</a> (__le32 *p, __le32 *q)</td></tr>
<tr class="separator:a9de7ee6f7a66dd8e78c4aa7d0db889fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace368e7d58960fca281d2aad27473c03"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structIndirect.html">Indirect</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#ace368e7d58960fca281d2aad27473c03">ext4_find_shared</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int depth, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> offsets[4], <a class="el" href="structIndirect.html">Indirect</a> chain[4], __le32 *top)</td></tr>
<tr class="separator:ace368e7d58960fca281d2aad27473c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87038b58ea000415732f73a015375fb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#aa87038b58ea000415732f73a015375fb">ext4_clear_blocks</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *bh, <a class="el" href="ext4_8h.html#a322aba3d2eedf7bd141ae72a7ed4969b">ext4_fsblk_t</a> block_to_free, unsigned long <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>, __le32 *first, __le32 *last)</td></tr>
<tr class="separator:aa87038b58ea000415732f73a015375fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ebefad2501d004ef3b3738b0251d83"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a00ebefad2501d004ef3b3738b0251d83">ext4_free_data</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *this_bh, __le32 *first, __le32 *last)</td></tr>
<tr class="separator:a00ebefad2501d004ef3b3738b0251d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486f94a562b7fa65afed2a64ef8dd6f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a486f94a562b7fa65afed2a64ef8dd6f9">ext4_free_branches</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *parent_bh, __le32 *first, __le32 *last, int depth)</td></tr>
<tr class="separator:a486f94a562b7fa65afed2a64ef8dd6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee8a0cec6071c2b1393be609afcda63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63">ext4_ind_truncate</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a7ee8a0cec6071c2b1393be609afcda63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71d362aaa6812eeb879dc6692f4a0e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4">ext4_ind_remove_space</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, <a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> end)</td></tr>
<tr class="separator:ad71d362aaa6812eeb879dc6692f4a0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab053a0bb3c41bab2ebae31eaac9a9c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab053a0bb3c41bab2ebae31eaac9a9c1c">&#9670;&nbsp;</a></span>add_chain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void add_chain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ab053a0bb3c41bab2ebae31eaac9a9c1c_icgraph.png" border="0" usemap="#indirect_8c_ab053a0bb3c41bab2ebae31eaac9a9c1c_icgraph" alt=""/></div>
<map name="indirect_8c_ab053a0bb3c41bab2ebae31eaac9a9c1c_icgraph" id="indirect_8c_ab053a0bb3c41bab2ebae31eaac9a9c1c_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6" title="ext4_get_branch" alt="" coords="135,745,253,771"/>
<area shape="rect" id="node3" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="301,417,449,443"/>
<area shape="rect" id="node46" href="indirect_8c.html#ace368e7d58960fca281d2aad27473c03" title="ext4_find_shared" alt="" coords="717,939,839,966"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="511,417,635,443"/>
<area shape="rect" id="node12" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1337,619,1437,646"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="500,559,645,586"/>
<area shape="rect" id="node44" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="497,5,648,47"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="1127,122,1281,149"/>
<area shape="rect" id="node7" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1341,211,1434,238"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="716,619,840,646"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="719,569,837,595"/>
<area shape="rect" id="node29" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="1124,518,1284,545"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="945,299,1034,326"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="696,670,860,697"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="715,223,841,250"/>
<area shape="rect" id="node39" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="703,274,853,301"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="911,823,1068,864"/>
<area shape="rect" id="node41" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="711,325,845,367"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1728,140,1891,181"/>
<area shape="rect" id="node9" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="924,771,1055,798"/>
<area shape="rect" id="node11" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="934,569,1045,595"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="1119,619,1289,646"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="916,670,1063,697"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="1137,670,1271,697"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="922,503,1057,544"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1504,274,1661,301"/>
<area shape="rect" id="node14" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1506,173,1659,199"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1521,325,1645,351"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1545,375,1620,402"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1756,401,1863,427"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1505,477,1661,503"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1503,527,1663,554"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1497,579,1668,620"/>
<area shape="rect" id="node21" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1485,645,1680,671"/>
<area shape="rect" id="node22" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1744,726,1875,753"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1497,821,1668,863"/>
<area shape="rect" id="node24" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1485,695,1680,722"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1520,887,1645,914"/>
<area shape="rect" id="node26" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1529,938,1636,965"/>
<area shape="rect" id="node27" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1499,989,1666,1015"/>
<area shape="rect" id="node28" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1521,223,1644,250"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1161,249,1247,275"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1141,299,1267,326"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="908,889,1071,915"/>
<area shape="rect" id="node45" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="712,13,844,39"/>
<area shape="rect" id="node47" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="927,990,1052,1017"/>
<area shape="rect" id="node49" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="908,939,1071,966"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="1153,930,1255,957"/>
<area shape="rect" id="node50" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="1144,875,1264,902"/>
</map>
</div>

</div>
</div>
<a id="a9de7ee6f7a66dd8e78c4aa7d0db889fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de7ee6f7a66dd8e78c4aa7d0db889fb">&#9670;&nbsp;</a></span>all_zeroes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int all_zeroes </td>
          <td>(</td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a9de7ee6f7a66dd8e78c4aa7d0db889fb_icgraph.png" border="0" usemap="#indirect_8c_a9de7ee6f7a66dd8e78c4aa7d0db889fb_icgraph" alt=""/></div>
<map name="indirect_8c_a9de7ee6f7a66dd8e78c4aa7d0db889fb_icgraph" id="indirect_8c_a9de7ee6f7a66dd8e78c4aa7d0db889fb_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#ace368e7d58960fca281d2aad27473c03" title="ext4_find_shared" alt="" coords="135,535,256,561"/>
<area shape="rect" id="node3" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="323,560,448,587"/>
<area shape="rect" id="node48" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="304,484,467,511"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="524,712,625,739"/>
<area shape="rect" id="node6" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="905,504,1005,531"/>
<area shape="rect" id="node5" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="692,661,812,688"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="707,712,797,739"/>
<area shape="rect" id="node37" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1569,988,1714,1015"/>
<area shape="rect" id="node38" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1576,1145,1707,1172"/>
<area shape="rect" id="node39" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="683,977,821,1018"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1108,391,1265,417"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1347,197,1500,224"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1125,441,1249,468"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1604,493,1679,520"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1809,627,1915,653"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1109,719,1265,745"/>
<area shape="rect" id="node26" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1107,769,1267,796"/>
<area shape="rect" id="node27" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1101,821,1272,862"/>
<area shape="rect" id="node28" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1089,71,1284,97"/>
<area shape="rect" id="node29" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1358,40,1489,67"/>
<area shape="rect" id="node30" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1101,223,1272,265"/>
<area shape="rect" id="node31" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1089,121,1284,148"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1124,289,1249,316"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1133,340,1240,367"/>
<area shape="rect" id="node34" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1103,668,1270,695"/>
<area shape="rect" id="node35" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1125,887,1248,913"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1345,325,1502,366"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1332,273,1515,300"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1563,249,1720,290"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="2004,219,2167,261"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1768,256,1956,283"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1342,391,1505,417"/>
<area shape="rect" id="node24" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1349,441,1498,468"/>
<area shape="rect" id="node17" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1789,475,1935,501"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1801,576,1923,603"/>
<area shape="rect" id="node20" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1785,373,1939,400"/>
<area shape="rect" id="node21" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1819,424,1905,451"/>
<area shape="rect" id="node22" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1779,525,1945,552"/>
<area shape="rect" id="node23" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="2046,937,2125,964"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="895,1203,1015,1229"/>
<area shape="rect" id="node41" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="1116,1120,1257,1147"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="900,883,1011,909"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="869,933,1041,960"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="897,984,1014,1011"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="884,1085,1027,1112"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="888,1137,1023,1178"/>
<area shape="rect" id="node47" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="878,817,1033,858"/>
<area shape="rect" id="node49" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="515,484,635,511"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="701,509,803,536"/>
</map>
</div>

</div>
</div>
<a id="a464d7f0108a179f586d0885e98b82b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464d7f0108a179f586d0885e98b82b97">&#9670;&nbsp;</a></span>ext4_alloc_branch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ext4_alloc_branch </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structext4__allocation__request.html">ext4_allocation_request</a> *&#160;</td>
          <td class="paramname"><em>ar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indirect_blks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a> *&#160;</td>
          <td class="paramname"><em>branch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_alloc_branch - allocate and set up a chain of blocks. : handle for this transaction : owner : number of allocated indirect blocks : number of allocated direct blocks : preferred place for allocation : offsets (in the blocks) to store the pointers to next. : place to store the chain in.</p>
<p>This function allocates blocks, zeroes out all but the last one, links them into chain and (if we are synchronous) writes them to disk. In other words, it prepares a branch that can be spliced onto the inode. It stores the information about that chain in the branch[], in the same format as <a class="el" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6">ext4_get_branch()</a> would do. We are calling it after we had read the existing part of chain and partial points to the last triple of that (one with zero -&gt;key). Upon the exit we have the same picture as after the successful <a class="el" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f">ext4_get_block()</a>, except that in one place chain is disconnected - *branch-&gt;p is still zero (we did not set the last link), but branch-&gt;key contains the number that should be placed into *branch-&gt;p to fill that gap.</p>
<p>If allocation fails we free all blocks we've allocated (and forget their buffer_heads) and return the error value the from failed ext4_alloc_block() (normally -ENOSPC). Otherwise we set the chain as described above and return 0. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a464d7f0108a179f586d0885e98b82b97_cgraph.png" border="0" usemap="#indirect_8c_a464d7f0108a179f586d0885e98b82b97_cgraph" alt=""/></div>
<map name="indirect_8c_a464d7f0108a179f586d0885e98b82b97_cgraph" id="indirect_8c_a464d7f0108a179f586d0885e98b82b97_cgraph">
<area shape="rect" id="node2" href="mballoc_8c.html#a57b8bebd1cd731464103b7b8e5c05ae2" title="ext4_mb_new_blocks" alt="" coords="387,477,535,504"/>
<area shape="rect" id="node39" href="ext4_2balloc_8c.html#ae92d08af7c5087844f276b829af9cf52" title="ext4_new_meta_blocks" alt="" coords="180,2013,339,2040"/>
<area shape="rect" id="node40" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="209,2115,309,2141"/>
<area shape="rect" id="node42" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="627,1481,748,1508"/>
<area shape="rect" id="node3" href="ext4_2balloc_8c.html#a343b19ed05537fda8263ae120d553c15" title="ext4_claim_free_clusters" alt="" coords="604,167,771,193"/>
<area shape="rect" id="node5" href="mballoc_8c.html#a1219e0b673e6e10e7b4b7867c0d7f8ea" title="ext4_mb_initialize\l_context" alt="" coords="624,218,751,259"/>
<area shape="rect" id="node8" href="mballoc_8c.html#aaeeac8f5180c8cabe5a530d5be2222dd" title="ext4_mb_use_preallocated" alt="" coords="599,284,776,311"/>
<area shape="rect" id="node10" href="mballoc_8h.html#a5dcbc664637c42cf18f65506f728e0c8" title="ext4_grp_offs_to_block" alt="" coords="859,309,1016,336"/>
<area shape="rect" id="node13" href="mballoc_8c.html#a6d4937e7d3b3e105575352d17953ff95" title="ext4_mb_normalize_request" alt="" coords="595,419,780,445"/>
<area shape="rect" id="node15" href="mballoc_8c.html#a88a5a6a12550926f88f2cc6d987dfc3b" title="ext4_mb_regular_allocator" alt="" coords="600,565,775,592"/>
<area shape="rect" id="node24" href="mballoc_8c.html#a3eba93009bef7352c77013b99cfca861" title="ext4_mb_new_preallocation" alt="" coords="596,616,779,643"/>
<area shape="rect" id="node25" href="mballoc_8c.html#aa308d7647ea00d4af21ca60bc3ee46c2" title="ext4_discard_allocated\l_blocks" alt="" coords="610,1051,765,1093"/>
<area shape="rect" id="node28" href="mballoc_8c.html#acd28fdf96c37940f98bd74ba3e380d32" title="ext4_mb_mark_diskspace_used" alt="" coords="583,949,792,976"/>
<area shape="rect" id="node36" href="mballoc_8c.html#a42764a57e022c833d62b818eee2a6b81" title="ext4_mb_discard_preallocations" alt="" coords="583,1000,791,1027"/>
<area shape="rect" id="node37" href="mballoc_8c.html#ac028a7ae0b9dbd3c631846f59a124ba6" title="ext4_mb_show_ac" alt="" coords="622,65,753,92"/>
<area shape="rect" id="node38" href="mballoc_8c.html#a3f47cd832a270cb6f160c4c66fa07a12" title="ext4_mb_release_context" alt="" coords="602,116,773,143"/>
<area shape="rect" id="node4" href="ext4_2balloc_8c.html#ac9f82cc964f90f8a60ea8a0863934aad" title="ext4_has_free_clusters" alt="" coords="859,5,1016,32"/>
<area shape="rect" id="node6" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="1083,251,1243,293"/>
<area shape="rect" id="node7" href="mballoc_8c.html#a706d45003c8c2c7a16e931ee5f91aac3" title="ext4_mb_group_or_file" alt="" coords="861,107,1014,133"/>
<area shape="rect" id="node9" href="mballoc_8c.html#a11cbe11118fa4acb14ff30819f505a07" title="ext4_mb_use_inode_pa" alt="" coords="858,157,1017,184"/>
<area shape="rect" id="node11" href="mballoc_8c.html#ab8b63455561f9b64b3b8eeb7f13940ce" title="ext4_mb_check_group_pa" alt="" coords="850,208,1025,235"/>
<area shape="rect" id="node12" href="mballoc_8c.html#a2df8edecb0759b95fdf5d60c19942c46" title="ext4_mb_use_group_pa" alt="" coords="857,259,1017,285"/>
<area shape="rect" id="node14" href="mballoc_8c.html#a6b4f83c26d73904f646bc6b2a54c4570" title="ext4_mb_normalize_group\l_request" alt="" coords="850,411,1025,453"/>
<area shape="rect" id="node16" href="mballoc_8c.html#a9b5f48d2b8bd348a6832ca0b7dde086c" title="ext4_mb_find_by_goal" alt="" coords="861,645,1013,672"/>
<area shape="rect" id="node17" href="mballoc_8c.html#a68a3892518dc676bee0d84046ca337bd" title="ext4_mb_load_buddy" alt="" coords="1090,696,1235,723"/>
<area shape="rect" id="node19" href="mballoc_8c.html#a895096684e2beb921a56a36f312f14cb" title="ext4_mb_unload_buddy" alt="" coords="1083,848,1242,875"/>
<area shape="rect" id="node20" href="mballoc_8c.html#a0530f5d7bd64632ef62511773552fef0" title="ext4_mb_good_group" alt="" coords="864,477,1011,504"/>
<area shape="rect" id="node21" href="mballoc_8c.html#a4ed40f9719c4727779316a6145401f06" title="ext4_mb_simple_scan\l_group" alt="" coords="861,529,1013,570"/>
<area shape="rect" id="node22" href="mballoc_8c.html#aeddcb1e5366030cf40660b3436ecc9ec" title="ext4_mb_scan_aligned" alt="" coords="860,797,1015,824"/>
<area shape="rect" id="node18" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="1291,1127,1461,1153"/>
<area shape="rect" id="node23" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1117,1152,1208,1179"/>
<area shape="rect" id="node26" href="mballoc_8c.html#ad6cb694a8dfc088c304af6adda0b18a7" title="mb_free_blocks" alt="" coords="880,1405,995,1432"/>
<area shape="rect" id="node27" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1135,1608,1190,1635"/>
<area shape="rect" id="node29" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="856,949,1019,976"/>
<area shape="rect" id="node30" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="864,1000,1011,1027"/>
<area shape="rect" id="node31" href="ext4_2super_8c.html#acde7ca6fb08b2c3413dde40c235670e9" title="ext4_free_group_clusters" alt="" coords="853,1051,1021,1077"/>
<area shape="rect" id="node32" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="862,1101,1013,1128"/>
<area shape="rect" id="node33" href="ext4_2super_8c.html#acb0ccbdca2f749f5116758688a87a8f1" title="ext4_free_group_clusters_set" alt="" coords="841,1152,1034,1179"/>
<area shape="rect" id="node34" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="840,1203,1035,1229"/>
<area shape="rect" id="node35" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="845,1253,1030,1280"/>
<area shape="rect" id="node41" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="391,2115,530,2141"/>
<area shape="rect" id="node43" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="872,1659,1003,1685"/>
<area shape="rect" id="node44" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="872,1709,1003,1736"/>
<area shape="rect" id="node45" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="877,1760,997,1787"/>
<area shape="rect" id="node46" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="1099,1887,1226,1913"/>
<area shape="rect" id="node47" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="844,1861,1031,1888"/>
<area shape="rect" id="node48" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="886,1912,989,1939"/>
<area shape="rect" id="node49" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="856,1963,1019,1989"/>
<area shape="rect" id="node50" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="870,1557,1005,1584"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a464d7f0108a179f586d0885e98b82b97_icgraph.png" border="0" usemap="#indirect_8c_a464d7f0108a179f586d0885e98b82b97_icgraph" alt=""/></div>
<map name="indirect_8c_a464d7f0108a179f586d0885e98b82b97_icgraph" id="indirect_8c_a464d7f0108a179f586d0885e98b82b97_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="180,923,328,950"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="389,426,513,453"/>
<area shape="rect" id="node11" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1241,553,1341,579"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="379,949,524,975"/>
<area shape="rect" id="node49" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="376,1000,527,1041"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="1010,71,1163,98"/>
<area shape="rect" id="node6" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1245,110,1338,137"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="595,251,719,278"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="598,713,715,739"/>
<area shape="rect" id="node28" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="1007,578,1167,605"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="825,173,915,199"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="575,311,739,338"/>
<area shape="rect" id="node39" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="593,527,720,554"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="581,426,732,453"/>
<area shape="rect" id="node43" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="791,360,949,401"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="589,629,724,671"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1653,64,1816,105"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="805,243,935,270"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="815,629,925,655"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="1001,679,1172,706"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="797,730,943,757"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="1019,730,1154,757"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="803,832,937,873"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1429,299,1587,326"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1431,97,1585,123"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1446,350,1570,377"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1471,451,1545,478"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1681,426,1788,453"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1430,502,1586,529"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1428,553,1588,579"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1423,604,1593,645"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1411,795,1605,822"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1669,733,1800,759"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1423,847,1593,888"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1411,670,1605,697"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1445,913,1571,939"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1455,147,1561,174"/>
<area shape="rect" id="node26" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1425,198,1591,225"/>
<area shape="rect" id="node27" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1447,249,1569,275"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1220,730,1363,757"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1043,122,1130,149"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1024,223,1149,250"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="787,295,953,336"/>
<area shape="rect" id="node41" href="ext4_2extents_8c.html#a3ec84ef7a0909231930de67ff5bb3372" title="ext4_zero_range" alt="" coords="811,477,929,503"/>
<area shape="rect" id="node42" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1035,477,1138,503"/>
<area shape="rect" id="node44" href="page-io_8c.html#a87c0cd222e6c4a69faa13f5f532aea8e" title="ext4_end_io" alt="" coords="1041,375,1133,402"/>
<area shape="rect" id="node45" href="page-io_8c.html#a77f25c7f513620cab7320117896f832a" title="ext4_put_io_end" alt="" coords="1028,274,1145,301"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="575,949,738,975"/>
<area shape="rect" id="node50" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="591,1007,723,1034"/>
</map>
</div>

</div>
</div>
<a id="a28d77246e7ec855073ec7bc2009dfd62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d77246e7ec855073ec7bc2009dfd62">&#9670;&nbsp;</a></span>ext4_blks_to_allocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ext4_blks_to_allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a> *&#160;</td>
          <td class="paramname"><em>branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>blks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocks_to_boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_blks_to_allocate - Look up the block map and count the number of direct blocks need to be allocated for the given branch.</p>
<p>: chain of indirect blocks : number of blocks need for indirect blocks : number of data blocks to be mapped. : the offset in the indirect block</p>
<p>return the total number of blocks to be allocate, including the direct and indirect blocks. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_cgraph.png" border="0" usemap="#indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_cgraph" alt=""/></div>
<map name="indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_cgraph" id="indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="201,5,256,32"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="304,5,423,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_icgraph.png" border="0" usemap="#indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_icgraph" alt=""/></div>
<map name="indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_icgraph" id="indirect_8c_a28d77246e7ec855073ec7bc2009dfd62_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="201,923,349,950"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="411,426,535,453"/>
<area shape="rect" id="node11" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1263,553,1363,579"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="400,949,545,975"/>
<area shape="rect" id="node49" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="397,1000,548,1041"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="1031,71,1185,98"/>
<area shape="rect" id="node6" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1266,110,1359,137"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="616,251,740,278"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="619,713,737,739"/>
<area shape="rect" id="node28" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="1028,578,1188,605"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="847,173,936,199"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="596,311,760,338"/>
<area shape="rect" id="node39" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="615,527,741,554"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="603,426,753,453"/>
<area shape="rect" id="node43" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="813,360,970,401"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="611,629,745,671"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1675,64,1837,105"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="826,243,957,270"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="836,629,947,655"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="1023,679,1193,706"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="818,730,965,757"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="1041,730,1175,757"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="824,832,959,873"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1451,299,1608,326"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1453,97,1606,123"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1467,350,1591,377"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1492,451,1567,478"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1703,426,1809,453"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1451,502,1607,529"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1449,553,1609,579"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1444,604,1615,645"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1432,795,1627,822"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1691,733,1821,759"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1444,847,1615,888"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1432,670,1627,697"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1467,913,1592,939"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1476,147,1583,174"/>
<area shape="rect" id="node26" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1446,198,1613,225"/>
<area shape="rect" id="node27" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1468,249,1591,275"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1241,730,1384,757"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1065,122,1151,149"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1045,223,1171,250"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="808,295,975,336"/>
<area shape="rect" id="node41" href="ext4_2extents_8c.html#a3ec84ef7a0909231930de67ff5bb3372" title="ext4_zero_range" alt="" coords="832,477,951,503"/>
<area shape="rect" id="node42" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1057,477,1159,503"/>
<area shape="rect" id="node44" href="page-io_8c.html#a87c0cd222e6c4a69faa13f5f532aea8e" title="ext4_end_io" alt="" coords="1062,375,1154,402"/>
<area shape="rect" id="node45" href="page-io_8c.html#a77f25c7f513620cab7320117896f832a" title="ext4_put_io_end" alt="" coords="1049,274,1167,301"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="597,949,759,975"/>
<area shape="rect" id="node50" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="612,1007,744,1034"/>
</map>
</div>

</div>
</div>
<a id="a538a84ff7e7ad067b9e0ca0920e8983b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a538a84ff7e7ad067b9e0ca0920e8983b">&#9670;&nbsp;</a></span>ext4_block_to_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ext4_block_to_path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a>&#160;</td>
          <td class="paramname"><em>i_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a>&#160;</td>
          <td class="paramname"><em>offsets</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_block_to_path - parse the block number into array of offsets : inode in question (we are only interested in its superblock) : block number to be parsed : array to store the offsets in : set this non-zero if the referred-to block is likely to be followed (on disk) by an indirect block.</p>
<p>To store the locations of file's data ext4 uses a data structure common for UNIX filesystems - tree of pointers anchored in the inode, with data blocks at leaves and indirect blocks in intermediate nodes. This function translates the block number into path in that tree - return value is the path length and [n] is the offset of pointer to (n+1)th node in the nth one. If  is out of range (negative or too large) warning is printed and zero returned.</p>
<p>Note: function doesn't find node addresses, so no IO is needed. All we need to know is the capacity of indirect blocks (taken from the inode-&gt;i_sb). </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a538a84ff7e7ad067b9e0ca0920e8983b_icgraph.png" border="0" usemap="#indirect_8c_a538a84ff7e7ad067b9e0ca0920e8983b_icgraph" alt=""/></div>
<map name="indirect_8c_a538a84ff7e7ad067b9e0ca0920e8983b_icgraph" id="indirect_8c_a538a84ff7e7ad067b9e0ca0920e8983b_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="188,723,336,750"/>
<area shape="rect" id="node42" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="602,233,727,259"/>
<area shape="rect" id="node49" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="583,1085,746,1111"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="397,679,521,706"/>
<area shape="rect" id="node11" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1241,578,1341,605"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="387,885,532,911"/>
<area shape="rect" id="node40" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="384,760,535,801"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="797,55,950,82"/>
<area shape="rect" id="node6" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="618,511,711,538"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="603,781,727,807"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="606,461,723,487"/>
<area shape="rect" id="node28" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="1005,629,1165,655"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="620,410,709,437"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="583,679,747,706"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="601,730,728,757"/>
<area shape="rect" id="node34" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="798,983,949,1010"/>
<area shape="rect" id="node36" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="795,816,952,857"/>
<area shape="rect" id="node37" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="597,563,732,604"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1655,5,1817,47"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="808,765,939,791"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="818,578,929,605"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="1000,527,1171,554"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="800,477,947,503"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1431,342,1588,369"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1433,38,1586,65"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1447,393,1571,419"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1472,494,1547,521"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1683,443,1789,470"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1431,545,1587,571"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1429,595,1589,622"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1424,647,1595,688"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1412,713,1607,739"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1671,827,1801,854"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1424,815,1595,856"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1412,763,1607,790"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1447,139,1572,166"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1456,190,1563,217"/>
<area shape="rect" id="node26" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1426,241,1593,267"/>
<area shape="rect" id="node27" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1448,291,1571,318"/>
<area shape="rect" id="node35" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1034,983,1137,1010"/>
<area shape="rect" id="node39" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="1004,933,1167,959"/>
<area shape="rect" id="node41" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="599,983,731,1010"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="823,233,924,259"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="1025,325,1145,351"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="1040,375,1131,402"/>
<area shape="rect" id="node46" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1219,73,1364,99"/>
<area shape="rect" id="node47" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1020,207,1151,234"/>
<area shape="rect" id="node48" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="1016,259,1155,300"/>
<area shape="rect" id="node50" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="813,1034,933,1061"/>
</map>
</div>

</div>
</div>
<a id="aa87038b58ea000415732f73a015375fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87038b58ea000415732f73a015375fb">&#9670;&nbsp;</a></span>ext4_clear_blocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ext4_clear_blocks </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a322aba3d2eedf7bd141ae72a7ed4969b">ext4_fsblk_t</a>&#160;</td>
          <td class="paramname"><em>block_to_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_aa87038b58ea000415732f73a015375fb_cgraph.png" border="0" usemap="#indirect_8c_aa87038b58ea000415732f73a015375fb_cgraph" alt=""/></div>
<map name="indirect_8c_aa87038b58ea000415732f73a015375fb_cgraph" id="indirect_8c_aa87038b58ea000415732f73a015375fb_cgraph">
<area shape="rect" id="node2" href="ext4__jbd2_8h.html#a35ab556b109173fda3d1115d31f81ee1" title="ext4_should_journal_data" alt="" coords="180,573,349,600"/>
<area shape="rect" id="node4" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="650,687,801,713"/>
<area shape="rect" id="node5" href="indirect_8c.html#a15f8981413ee487f7632bf3014713653" title="try_to_extend_transaction" alt="" coords="403,207,575,233"/>
<area shape="rect" id="node10" href="truncate_8h.html#aacba0c57ccbce48fe5d7d9efca6c92c5" title="ext4_blocks_for_truncate" alt="" coords="641,265,809,292"/>
<area shape="rect" id="node11" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="412,479,565,505"/>
<area shape="rect" id="node21" href="ext4_2inode_8c.html#ae085990652c7f8fb3af734131731510d" title="ext4_truncate_restart\l_trans" alt="" coords="192,625,337,666"/>
<area shape="rect" id="node40" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="428,1067,549,1093"/>
<area shape="rect" id="node3" href="ext4__jbd2_8h.html#a2c994e4f6e8a7a887eaa53f810e001a6" title="ext4_inode_journal_mode" alt="" coords="871,759,1040,785"/>
<area shape="rect" id="node6" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="892,239,1019,265"/>
<area shape="rect" id="node7" href="ext4__jbd2_8h.html#a1f4264a2f6f554a15afa7b120b04a659" title="ext4_handle_has_enough\l_credits" alt="" coords="641,199,810,241"/>
<area shape="rect" id="node8" href="ext4__jbd2_8h.html#a5abe3b6c88ef932325d222fb1d4db43a" title="ext4_journal_extend" alt="" coords="656,31,795,57"/>
<area shape="rect" id="node9" href="jbd2_2transaction_8c.html#a55c019b6a7a78ba926ee5fb7b86c779d" title="jbd2_journal_extend" alt="" coords="887,5,1024,32"/>
<area shape="rect" id="node12" href="ext4_2inode_8c.html#a552b73d9ee8de05e1db350d7236e10fd" title="ext4_reserve_inode\l_write" alt="" coords="658,519,793,561"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a871af54c003d0c27e4cf5632f131e1a7" title="ext4_try_to_expand\l_extra_isize" alt="" coords="657,82,793,123"/>
<area shape="rect" id="node19" href="ext4_2inode_8c.html#a58ee3792cc73e4507f2df8113459f701" title="ext4_mark_iloc_dirty" alt="" coords="654,468,797,495"/>
<area shape="rect" id="node13" href="ext4_8h.html#a79d9f5f3b67b075c3c2078ecda6dae44" title="ext4_forced_shutdown" alt="" coords="879,497,1032,524"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a2a6bdbd0d503d15641be3f78b31baa71" title="ext4_get_inode_loc" alt="" coords="888,548,1023,575"/>
<area shape="rect" id="node16" href="ext4_2xattr_8h.html#a7ff1de30fb9ada5237249ff42cc98b53" title="ext4_write_trylock\l_xattr" alt="" coords="891,107,1019,149"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#af71a5db86bdd0aa707e9cae04bd96714" title="__ext4_expand_extra\l_isize" alt="" coords="882,173,1029,214"/>
<area shape="rect" id="node18" href="ext4_2xattr_8h.html#a31b98558413e4c1c3a51708ab71da323" title="ext4_write_unlock_xattr" alt="" coords="875,56,1035,83"/>
<area shape="rect" id="node20" href="ext4_2inode_8c.html#a4aa92e4f6ca382fb11cb79d7ed7c65b8" title="ext4_do_update_inode" alt="" coords="879,447,1031,473"/>
<area shape="rect" id="node22" href="ext4__jbd2_8h.html#a13ebc6694765b05a33e8b3e84b57f74b" title="ext4_journal_restart" alt="" coords="421,636,557,663"/>
<area shape="rect" id="node24" href="mballoc_8c.html#a66900dc648d49dbd76c2b7e1d4ae39b7" title="ext4_discard_preallocations" alt="" coords="397,1649,580,1676"/>
<area shape="rect" id="node23" href="jbd2_2transaction_8c.html#aeb2bbe5827a848a6ccf2ae009553038f" title="jbd2_journal_restart" alt="" coords="658,636,793,663"/>
<area shape="rect" id="node25" href="ext4_2balloc_8c.html#a2da45db152dced20e12bf92fd1acc2ee" title="ext4_get_group_number" alt="" coords="645,1700,806,1727"/>
<area shape="rect" id="node26" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="875,1667,1035,1709"/>
<area shape="rect" id="node27" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="640,1599,811,1625"/>
<area shape="rect" id="node28" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="644,1447,807,1473"/>
<area shape="rect" id="node32" href="mballoc_8c.html#a895096684e2beb921a56a36f312f14cb" title="ext4_mb_unload_buddy" alt="" coords="646,1548,805,1575"/>
<area shape="rect" id="node33" href="mballoc_8c.html#a0e45155633c387aabe70c4a9ec401d31" title="ext4_mb_release_inode_pa" alt="" coords="635,1649,815,1676"/>
<area shape="rect" id="node38" href="mballoc_8c.html#abcce229dcccb1714b2d0a30ea5f7e23d" title="ext4_mb_pa_callback" alt="" coords="651,1751,799,1777"/>
<area shape="rect" id="node39" href="mballoc_8c.html#ac028a7ae0b9dbd3c631846f59a124ba6" title="ext4_mb_show_ac" alt="" coords="660,1801,791,1828"/>
<area shape="rect" id="node29" href="ext4_2balloc_8c.html#a736740fdf9d8ed52c52d54007166e06d" title="ext4_read_block_bitmap\l_nowait" alt="" coords="874,1447,1037,1489"/>
<area shape="rect" id="node30" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="1088,1375,1235,1401"/>
<area shape="rect" id="node31" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="1096,1440,1227,1467"/>
<area shape="rect" id="node34" href="mballoc_8c.html#ad6cb694a8dfc088c304af6adda0b18a7" title="mb_free_blocks" alt="" coords="898,1080,1013,1107"/>
<area shape="rect" id="node35" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1134,1055,1189,1081"/>
<area shape="rect" id="node37" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1116,1156,1207,1183"/>
<area shape="rect" id="node36" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1283,1055,1401,1081"/>
<area shape="rect" id="node41" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="660,1092,791,1119"/>
<area shape="rect" id="node42" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="665,1143,785,1169"/>
<area shape="rect" id="node43" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="632,940,819,967"/>
<area shape="rect" id="node44" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="674,1244,777,1271"/>
<area shape="rect" id="node45" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="644,367,807,393"/>
<area shape="rect" id="node46" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="658,1295,793,1321"/>
<area shape="rect" id="node47" href="ext4_2super_8c.html#acde7ca6fb08b2c3413dde40c235670e9" title="ext4_free_group_clusters" alt="" coords="641,737,809,764"/>
<area shape="rect" id="node48" href="ext4_2super_8c.html#acb0ccbdca2f749f5116758688a87a8f1" title="ext4_free_group_clusters_set" alt="" coords="629,788,822,815"/>
<area shape="rect" id="node49" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="628,839,823,865"/>
<area shape="rect" id="node50" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="633,889,818,916"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_aa87038b58ea000415732f73a015375fb_icgraph.png" border="0" usemap="#indirect_8c_aa87038b58ea000415732f73a015375fb_icgraph" alt=""/></div>
<map name="indirect_8c_aa87038b58ea000415732f73a015375fb_icgraph" id="indirect_8c_aa87038b58ea000415732f73a015375fb_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a00ebefad2501d004ef3b3738b0251d83" title="ext4_free_data" alt="" coords="180,797,288,823"/>
<area shape="rect" id="node3" href="indirect_8c.html#a486f94a562b7fa65afed2a64ef8dd6f9" title="ext4_free_branches" alt="" coords="336,797,472,823"/>
<area shape="rect" id="node4" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="539,746,664,773"/>
<area shape="rect" id="node48" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="520,847,683,874"/>
<area shape="rect" id="node5" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="731,594,832,621"/>
<area shape="rect" id="node7" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1309,695,1409,722"/>
<area shape="rect" id="node6" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="889,543,1009,570"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="904,645,995,671"/>
<area shape="rect" id="node36" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1287,78,1432,105"/>
<area shape="rect" id="node37" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="884,695,1015,722"/>
<area shape="rect" id="node39" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="880,317,1019,359"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1499,210,1656,237"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1737,42,1891,69"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1515,370,1639,397"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1995,401,2069,427"/>
<area shape="rect" id="node20" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="2199,269,2306,295"/>
<area shape="rect" id="node24" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1499,495,1655,522"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1497,546,1657,573"/>
<area shape="rect" id="node26" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1492,597,1663,639"/>
<area shape="rect" id="node27" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1480,663,1675,690"/>
<area shape="rect" id="node28" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1749,726,1879,753"/>
<area shape="rect" id="node29" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1492,789,1663,831"/>
<area shape="rect" id="node30" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1480,855,1675,882"/>
<area shape="rect" id="node31" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1515,906,1640,933"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1524,957,1631,983"/>
<area shape="rect" id="node33" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1494,1007,1661,1034"/>
<area shape="rect" id="node34" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1516,1058,1639,1085"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1735,203,1893,244"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1723,151,1905,178"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1953,35,2111,76"/>
<area shape="rect" id="node14" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="2395,5,2557,47"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="2159,42,2347,69"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1733,370,1895,397"/>
<area shape="rect" id="node23" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1739,319,1889,346"/>
<area shape="rect" id="node18" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="2179,451,2326,478"/>
<area shape="rect" id="node19" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="2192,821,2313,847"/>
<area shape="rect" id="node21" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="2175,350,2330,377"/>
<area shape="rect" id="node22" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="2209,401,2296,427"/>
<area shape="rect" id="node38" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="1113,695,1192,722"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="1093,223,1213,250"/>
<area shape="rect" id="node41" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="1289,165,1430,191"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="1097,274,1208,301"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="1067,325,1239,351"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="1094,375,1211,402"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1081,426,1224,453"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="1085,477,1220,519"/>
<area shape="rect" id="node47" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="1075,157,1230,199"/>
<area shape="rect" id="node49" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="889,847,1009,874"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1101,797,1204,823"/>
</map>
</div>

</div>
</div>
<a id="a4061213f04ddb3c8800cf964169242bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4061213f04ddb3c8800cf964169242bf">&#9670;&nbsp;</a></span>ext4_find_goal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ext4_8h.html#a322aba3d2eedf7bd141ae72a7ed4969b">ext4_fsblk_t</a> ext4_find_goal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a>&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a> *&#160;</td>
          <td class="paramname"><em>partial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_find_goal - find a preferred place for allocation. : owner : block we want : pointer to the last triple within a chain</p>
<p>Normally this function find the preferred place for block allocation, returns it. Because this is only used for non-extent files, we limit the block nr to 32 bits. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a4061213f04ddb3c8800cf964169242bf_cgraph.png" border="0" usemap="#indirect_8c_a4061213f04ddb3c8800cf964169242bf_cgraph" alt=""/></div>
<map name="indirect_8c_a4061213f04ddb3c8800cf964169242bf_cgraph" id="indirect_8c_a4061213f04ddb3c8800cf964169242bf_cgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a8b659dfd96918b217c640c79bd2fd43d" title="ext4_find_near" alt="" coords="160,13,267,39"/>
<area shape="rect" id="node3" href="ext4_2balloc_8c.html#abd3e8985f662567f2a53bd3769a2a978" title="ext4_inode_to_goal\l_block" alt="" coords="315,5,449,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a4061213f04ddb3c8800cf964169242bf_icgraph.png" border="0" usemap="#indirect_8c_a4061213f04ddb3c8800cf964169242bf_icgraph" alt=""/></div>
<map name="indirect_8c_a4061213f04ddb3c8800cf964169242bf_icgraph" id="indirect_8c_a4061213f04ddb3c8800cf964169242bf_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="160,923,308,950"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="369,426,493,453"/>
<area shape="rect" id="node11" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1221,553,1321,579"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="359,949,504,975"/>
<area shape="rect" id="node49" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="356,1000,507,1041"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="990,71,1143,98"/>
<area shape="rect" id="node6" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1225,110,1318,137"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="575,251,699,278"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="578,713,695,739"/>
<area shape="rect" id="node28" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="987,578,1147,605"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="805,173,895,199"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="555,311,719,338"/>
<area shape="rect" id="node39" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="573,527,700,554"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="561,426,712,453"/>
<area shape="rect" id="node43" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="771,360,929,401"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="569,629,704,671"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1633,64,1796,105"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="785,243,915,270"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="795,629,905,655"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="981,679,1152,706"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="777,730,923,757"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="999,730,1134,757"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="783,832,917,873"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1409,299,1567,326"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1411,97,1565,123"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1426,350,1550,377"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1451,451,1525,478"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1661,426,1768,453"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1410,502,1566,529"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1408,553,1568,579"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1403,604,1573,645"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1391,795,1585,822"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1649,733,1780,759"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1403,847,1573,888"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1391,670,1585,697"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1425,913,1551,939"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1435,147,1541,174"/>
<area shape="rect" id="node26" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1405,198,1571,225"/>
<area shape="rect" id="node27" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1427,249,1549,275"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1200,730,1343,757"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1023,122,1110,149"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1004,223,1129,250"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="767,295,933,336"/>
<area shape="rect" id="node41" href="ext4_2extents_8c.html#a3ec84ef7a0909231930de67ff5bb3372" title="ext4_zero_range" alt="" coords="791,477,909,503"/>
<area shape="rect" id="node42" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1015,477,1118,503"/>
<area shape="rect" id="node44" href="page-io_8c.html#a87c0cd222e6c4a69faa13f5f532aea8e" title="ext4_end_io" alt="" coords="1021,375,1113,402"/>
<area shape="rect" id="node45" href="page-io_8c.html#a77f25c7f513620cab7320117896f832a" title="ext4_put_io_end" alt="" coords="1008,274,1125,301"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="555,949,718,975"/>
<area shape="rect" id="node50" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="571,1007,703,1034"/>
</map>
</div>

</div>
</div>
<a id="a8b659dfd96918b217c640c79bd2fd43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b659dfd96918b217c640c79bd2fd43d">&#9670;&nbsp;</a></span>ext4_find_near()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ext4_8h.html#a322aba3d2eedf7bd141ae72a7ed4969b">ext4_fsblk_t</a> ext4_find_near </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a> *&#160;</td>
          <td class="paramname"><em>ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_find_near - find a place for allocation with sufficient locality : owner : descriptor of indirect block.</p>
<p>This function returns the preferred place for block allocation. It is used when heuristic for sequential allocation fails. Rules are:</p><ul>
<li>if there is a block to the left of our position - allocate near it.</li>
<li>if pointer will live in indirect block - allocate near that block.</li>
<li>if pointer will live in inode - allocate in the same cylinder group.</li>
</ul>
<p>In the latter case we colour the starting block by the callers PID to prevent it from clashing with concurrent allocations for a different inode in the same block group. The PID is used here so that functionally related files will be close-by on-disk.</p>
<p>Caller must make sure that  is valid and will stay that way. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_cgraph.png" border="0" usemap="#indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_cgraph" alt=""/></div>
<map name="indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_cgraph" id="indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_cgraph">
<area shape="rect" id="node2" href="ext4_2balloc_8c.html#abd3e8985f662567f2a53bd3769a2a978" title="ext4_inode_to_goal\l_block" alt="" coords="160,5,295,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_icgraph.png" border="0" usemap="#indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_icgraph" alt=""/></div>
<map name="indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_icgraph" id="indirect_8c_a8b659dfd96918b217c640c79bd2fd43d_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a4061213f04ddb3c8800cf964169242bf" title="ext4_find_goal" alt="" coords="160,605,267,631"/>
<area shape="rect" id="node3" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="315,605,463,631"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="524,514,648,541"/>
<area shape="rect" id="node12" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1376,494,1476,521"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="513,630,659,657"/>
<area shape="rect" id="node49" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="511,812,661,853"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="1145,189,1298,215"/>
<area shape="rect" id="node7" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1379,163,1473,190"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="729,565,853,591"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="733,783,850,810"/>
<area shape="rect" id="node29" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="1141,494,1301,521"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="960,286,1049,313"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="709,682,873,709"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="728,514,855,541"/>
<area shape="rect" id="node41" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="716,362,867,389"/>
<area shape="rect" id="node44" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="1143,700,1300,741"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="724,616,859,657"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1788,5,1951,47"/>
<area shape="rect" id="node9" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="939,539,1070,566"/>
<area shape="rect" id="node11" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="949,657,1060,683"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="1136,595,1307,622"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="931,859,1078,886"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="1154,809,1289,835"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="937,961,1072,1003"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1564,241,1721,267"/>
<area shape="rect" id="node14" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1566,38,1719,65"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1581,291,1705,318"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1605,342,1680,369"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1816,367,1923,394"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1565,443,1721,470"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1563,494,1723,521"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1557,545,1728,587"/>
<area shape="rect" id="node21" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1545,686,1740,713"/>
<area shape="rect" id="node22" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1804,654,1935,681"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1557,788,1728,829"/>
<area shape="rect" id="node24" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1545,737,1740,763"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1580,854,1705,881"/>
<area shape="rect" id="node26" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1589,89,1696,115"/>
<area shape="rect" id="node27" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1559,139,1726,166"/>
<area shape="rect" id="node28" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1581,190,1704,217"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1355,809,1497,835"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1178,239,1265,266"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1159,341,1284,367"/>
<area shape="rect" id="node39" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="921,591,1088,632"/>
<area shape="rect" id="node42" href="ext4_2extents_8c.html#a3ec84ef7a0909231930de67ff5bb3372" title="ext4_zero_range" alt="" coords="945,387,1064,414"/>
<area shape="rect" id="node43" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1170,391,1273,418"/>
<area shape="rect" id="node45" href="page-io_8c.html#a87c0cd222e6c4a69faa13f5f532aea8e" title="ext4_end_io" alt="" coords="1380,707,1472,734"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="923,910,1086,937"/>
<area shape="rect" id="node50" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="725,885,857,911"/>
</map>
</div>

</div>
</div>
<a id="ace368e7d58960fca281d2aad27473c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace368e7d58960fca281d2aad27473c03">&#9670;&nbsp;</a></span>ext4_find_shared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structIndirect.html">Indirect</a>* ext4_find_shared </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a>&#160;</td>
          <td class="paramname"><em>offsets</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a>&#160;</td>
          <td class="paramname"><em>chain</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>top</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_find_shared - find the indirect blocks for partial truncation. : inode in question : depth of the affected branch : offsets of pointers in that branch (see ext4_block_to_path) : place to store the pointers to partial indirect blocks : place to the (detached) top of branch</p>
<p>This is a helper function used by <a class="el" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af">ext4_truncate()</a>.</p>
<p>When we do <a class="el" href="itree__common_8c.html#ae461e1d2e7084d9c36aa21af0225941d">truncate()</a> we may have to clean the ends of several indirect blocks but leave the blocks themselves alive. Block is partially truncated if some data below the new i_size is referred from it (and it is on the path to the first completely truncated data block, indeed). We have to free the top of that path along with everything to the right of the path. Since no allocation past the truncation point is possible until <a class="el" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af">ext4_truncate()</a> finishes, we may safely do the latter, but top of branch may require special attention - pageout below the truncation point might try to populate it.</p>
<p>We atomically detach the top of branch from the tree, store the block number of its root in *, pointers to buffer_heads of partially truncated blocks - in [].bh and pointers to their last elements that should not be removed - in [].p. Return value is the pointer to last filled element of .</p>
<p>The work left to caller to do the actual freeing of subtrees: a) free the subtree starting from * b) free the subtrees whose roots are stored in ([i].p+1 .. end of [i].bh-&gt;b_data) c) free the subtrees growing from the inode past the [0]. (no partially truncated stuff there). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ace368e7d58960fca281d2aad27473c03_cgraph.png" border="0" usemap="#indirect_8c_ace368e7d58960fca281d2aad27473c03_cgraph" alt=""/></div>
<map name="indirect_8c_ace368e7d58960fca281d2aad27473c03_cgraph" id="indirect_8c_ace368e7d58960fca281d2aad27473c03_cgraph">
<area shape="rect" id="node2" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6" title="ext4_get_branch" alt="" coords="175,210,293,237"/>
<area shape="rect" id="node14" href="indirect_8c.html#a9de7ee6f7a66dd8e78c4aa7d0db889fb" title="all_zeroes" alt="" coords="193,261,275,287"/>
<area shape="rect" id="node3" href="indirect_8c.html#ab053a0bb3c41bab2ebae31eaac9a9c1c" title="add_chain" alt="" coords="358,159,439,186"/>
<area shape="rect" id="node4" href="buffer_8c.html#a7b0cdad45bd4bd8a2c448eb9aae7a036" title="bh_uptodate_or_lock" alt="" coords="723,337,865,363"/>
<area shape="rect" id="node7" href="buffer_8c.html#a9eecb9b0e2ab4cf8f375d735cba57288" title="bh_submit_read" alt="" coords="341,210,456,237"/>
<area shape="rect" id="node5" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="953,261,1053,287"/>
<area shape="rect" id="node6" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1121,185,1260,211"/>
<area shape="rect" id="node8" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="504,210,655,237"/>
<area shape="rect" id="node10" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="538,134,621,161"/>
<area shape="rect" id="node9" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="703,235,885,262"/>
<area shape="rect" id="node11" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="737,83,851,110"/>
<area shape="rect" id="node12" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="933,83,1073,110"/>
<area shape="rect" id="node13" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="950,33,1057,59"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ace368e7d58960fca281d2aad27473c03_icgraph.png" border="0" usemap="#indirect_8c_ace368e7d58960fca281d2aad27473c03_icgraph" alt=""/></div>
<map name="indirect_8c_ace368e7d58960fca281d2aad27473c03_icgraph" id="indirect_8c_ace368e7d58960fca281d2aad27473c03_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="193,580,319,607"/>
<area shape="rect" id="node48" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="175,504,337,531"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="395,732,496,759"/>
<area shape="rect" id="node5" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="776,504,876,531"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="563,732,683,759"/>
<area shape="rect" id="node24" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1883,937,2029,964"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="577,631,668,657"/>
<area shape="rect" id="node38" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1447,1039,1577,1065"/>
<area shape="rect" id="node39" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="553,1301,692,1342"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="979,441,1136,468"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1217,189,1371,216"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="995,567,1119,593"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1475,516,1549,543"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="2085,937,2192,964"/>
<area shape="rect" id="node26" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="979,719,1135,745"/>
<area shape="rect" id="node27" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="977,769,1137,796"/>
<area shape="rect" id="node28" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="972,821,1143,862"/>
<area shape="rect" id="node29" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="960,71,1155,97"/>
<area shape="rect" id="node30" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1229,40,1359,67"/>
<area shape="rect" id="node31" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="972,223,1143,265"/>
<area shape="rect" id="node32" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="960,121,1155,148"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="995,289,1120,316"/>
<area shape="rect" id="node34" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1004,340,1111,367"/>
<area shape="rect" id="node35" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="974,617,1141,644"/>
<area shape="rect" id="node36" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="996,887,1119,913"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1215,375,1373,417"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1203,441,1385,468"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1433,241,1591,282"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1875,211,2037,253"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1639,248,1827,275"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1213,617,1375,644"/>
<area shape="rect" id="node25" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1219,567,1369,593"/>
<area shape="rect" id="node16" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1659,516,1806,543"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1672,668,1793,695"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1655,415,1810,441"/>
<area shape="rect" id="node20" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1689,465,1776,492"/>
<area shape="rect" id="node21" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1650,567,1815,593"/>
<area shape="rect" id="node23" href="ext4_2ialloc_8c.html#a1982a264b61bdf54ef92728f40095a6a" title="ext4_orphan_get" alt="" coords="1673,937,1792,964"/>
<area shape="rect" id="node22" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="1917,567,1995,593"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="766,1527,886,1553"/>
<area shape="rect" id="node41" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="987,1501,1128,1528"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="771,1207,881,1233"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="740,1257,912,1284"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="767,1308,885,1335"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="755,1359,897,1385"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="759,1410,893,1451"/>
<area shape="rect" id="node47" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="749,1141,903,1182"/>
<area shape="rect" id="node49" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="385,504,505,531"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="571,529,674,556"/>
</map>
</div>

</div>
</div>
<a id="a486f94a562b7fa65afed2a64ef8dd6f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486f94a562b7fa65afed2a64ef8dd6f9">&#9670;&nbsp;</a></span>ext4_free_branches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ext4_free_branches </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>parent_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_free_branches - free an array of branches : JBD handle for this transaction : inode we are dealing with : the buffer_head which contains * and * : array of block numbers : pointer immediately past the end of array : depth of the branches to free</p>
<p>We are freeing all blocks referred from these branches (numbers are stored as little-endian 32-bit) and updating -&gt;i_blocks appropriately. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_cgraph.png" border="0" usemap="#indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_cgraph" alt=""/></div>
<map name="indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_cgraph" id="indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_cgraph">
<area shape="rect" id="node2" href="ext4__jbd2_8h.html#ad2c0ac58916f3f169ba3315ee74a028c" title="ext4_handle_is_aborted" alt="" coords="345,43,504,70"/>
<area shape="rect" id="node4" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="794,630,945,656"/>
<area shape="rect" id="node5" href="indirect_8c.html#a15f8981413ee487f7632bf3014713653" title="try_to_extend_transaction" alt="" coords="552,167,724,194"/>
<area shape="rect" id="node9" href="truncate_8h.html#aacba0c57ccbce48fe5d7d9efca6c92c5" title="ext4_blocks_for_truncate" alt="" coords="785,192,953,219"/>
<area shape="rect" id="node10" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="561,462,715,488"/>
<area shape="rect" id="node20" href="ext4_2inode_8c.html#ae085990652c7f8fb3af734131731510d" title="ext4_truncate_restart\l_trans" alt="" coords="565,513,711,554"/>
<area shape="rect" id="node36" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="577,1035,699,1062"/>
<area shape="rect" id="node49" href="indirect_8c.html#a00ebefad2501d004ef3b3738b0251d83" title="ext4_free_data" alt="" coords="189,680,297,707"/>
<area shape="rect" id="node3" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="1041,127,1168,154"/>
<area shape="rect" id="node6" href="ext4__jbd2_8h.html#a1f4264a2f6f554a15afa7b120b04a659" title="ext4_handle_has_enough\l_credits" alt="" coords="785,76,954,117"/>
<area shape="rect" id="node7" href="ext4__jbd2_8h.html#a5abe3b6c88ef932325d222fb1d4db43a" title="ext4_journal_extend" alt="" coords="800,142,939,168"/>
<area shape="rect" id="node8" href="jbd2_2transaction_8c.html#a55c019b6a7a78ba926ee5fb7b86c779d" title="jbd2_journal_extend" alt="" coords="1036,178,1173,204"/>
<area shape="rect" id="node11" href="ext4_2inode_8c.html#a552b73d9ee8de05e1db350d7236e10fd" title="ext4_reserve_inode\l_write" alt="" coords="802,513,937,554"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a871af54c003d0c27e4cf5632f131e1a7" title="ext4_try_to_expand\l_extra_isize" alt="" coords="801,345,937,386"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#a58ee3792cc73e4507f2df8113459f701" title="ext4_mark_iloc_dirty" alt="" coords="798,462,941,488"/>
<area shape="rect" id="node12" href="ext4_8h.html#a79d9f5f3b67b075c3c2078ecda6dae44" title="ext4_forced_shutdown" alt="" coords="1028,512,1181,539"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a2a6bdbd0d503d15641be3f78b31baa71" title="ext4_get_inode_loc" alt="" coords="1037,563,1172,590"/>
<area shape="rect" id="node15" href="ext4_2xattr_8h.html#a7ff1de30fb9ada5237249ff42cc98b53" title="ext4_write_trylock\l_xattr" alt="" coords="1041,280,1169,321"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#af71a5db86bdd0aa707e9cae04bd96714" title="__ext4_expand_extra\l_isize" alt="" coords="1031,345,1178,386"/>
<area shape="rect" id="node17" href="ext4_2xattr_8h.html#a31b98558413e4c1c3a51708ab71da323" title="ext4_write_unlock_xattr" alt="" coords="1025,228,1185,255"/>
<area shape="rect" id="node19" href="ext4_2inode_8c.html#a4aa92e4f6ca382fb11cb79d7ed7c65b8" title="ext4_do_update_inode" alt="" coords="1029,462,1181,488"/>
<area shape="rect" id="node21" href="ext4__jbd2_8h.html#a13ebc6694765b05a33e8b3e84b57f74b" title="ext4_journal_restart" alt="" coords="801,411,937,438"/>
<area shape="rect" id="node23" href="mballoc_8c.html#a66900dc648d49dbd76c2b7e1d4ae39b7" title="ext4_discard_preallocations" alt="" coords="778,579,961,606"/>
<area shape="rect" id="node22" href="jbd2_2transaction_8c.html#aeb2bbe5827a848a6ccf2ae009553038f" title="jbd2_journal_restart" alt="" coords="1037,411,1172,438"/>
<area shape="rect" id="node24" href="ext4_2balloc_8c.html#a2da45db152dced20e12bf92fd1acc2ee" title="ext4_get_group_number" alt="" coords="1024,795,1185,822"/>
<area shape="rect" id="node25" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="1243,1064,1403,1105"/>
<area shape="rect" id="node26" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="1019,1238,1190,1264"/>
<area shape="rect" id="node27" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="1023,1288,1186,1315"/>
<area shape="rect" id="node28" href="mballoc_8c.html#a895096684e2beb921a56a36f312f14cb" title="ext4_mb_unload_buddy" alt="" coords="1025,1339,1184,1366"/>
<area shape="rect" id="node29" href="mballoc_8c.html#a0e45155633c387aabe70c4a9ec401d31" title="ext4_mb_release_inode_pa" alt="" coords="1015,1187,1195,1214"/>
<area shape="rect" id="node34" href="mballoc_8c.html#abcce229dcccb1714b2d0a30ea5f7e23d" title="ext4_mb_pa_callback" alt="" coords="1031,614,1179,640"/>
<area shape="rect" id="node35" href="mballoc_8c.html#ac028a7ae0b9dbd3c631846f59a124ba6" title="ext4_mb_show_ac" alt="" coords="1039,664,1170,691"/>
<area shape="rect" id="node30" href="mballoc_8c.html#ad6cb694a8dfc088c304af6adda0b18a7" title="mb_free_blocks" alt="" coords="1265,1440,1380,1467"/>
<area shape="rect" id="node31" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1469,1491,1523,1518"/>
<area shape="rect" id="node33" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1451,1415,1541,1442"/>
<area shape="rect" id="node32" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1589,1491,1708,1518"/>
<area shape="rect" id="node37" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="796,1542,943,1568"/>
<area shape="rect" id="node38" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="804,680,935,707"/>
<area shape="rect" id="node39" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="804,731,935,758"/>
<area shape="rect" id="node40" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="809,782,929,808"/>
<area shape="rect" id="node41" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="776,832,963,859"/>
<area shape="rect" id="node42" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="818,883,921,910"/>
<area shape="rect" id="node43" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="788,243,951,270"/>
<area shape="rect" id="node44" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="802,934,937,960"/>
<area shape="rect" id="node45" href="ext4_2super_8c.html#acde7ca6fb08b2c3413dde40c235670e9" title="ext4_free_group_clusters" alt="" coords="785,984,953,1011"/>
<area shape="rect" id="node46" href="ext4_2super_8c.html#acb0ccbdca2f749f5116758688a87a8f1" title="ext4_free_group_clusters_set" alt="" coords="773,1035,966,1062"/>
<area shape="rect" id="node47" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="772,1086,967,1112"/>
<area shape="rect" id="node48" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="777,1187,962,1214"/>
<area shape="rect" id="node50" href="indirect_8c.html#aa87038b58ea000415732f73a015375fb" title="ext4_clear_blocks" alt="" coords="361,512,488,539"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_icgraph.png" border="0" usemap="#indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_icgraph" alt=""/></div>
<map name="indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_icgraph" id="indirect_8c_a486f94a562b7fa65afed2a64ef8dd6f9_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="208,580,333,607"/>
<area shape="rect" id="node48" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="189,504,352,531"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="409,732,511,759"/>
<area shape="rect" id="node5" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="791,504,891,531"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="577,732,697,759"/>
<area shape="rect" id="node24" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1898,937,2043,964"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="592,631,683,657"/>
<area shape="rect" id="node38" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1461,1039,1592,1065"/>
<area shape="rect" id="node39" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="568,1301,707,1342"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="993,441,1151,468"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1232,189,1385,216"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1010,567,1134,593"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1489,516,1564,543"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="2100,937,2207,964"/>
<area shape="rect" id="node26" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="994,719,1150,745"/>
<area shape="rect" id="node27" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="992,769,1152,796"/>
<area shape="rect" id="node28" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="987,821,1157,862"/>
<area shape="rect" id="node29" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="975,71,1169,97"/>
<area shape="rect" id="node30" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1243,40,1374,67"/>
<area shape="rect" id="node31" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="987,223,1157,265"/>
<area shape="rect" id="node32" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="975,121,1169,148"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1009,289,1135,316"/>
<area shape="rect" id="node34" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1019,340,1125,367"/>
<area shape="rect" id="node35" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="989,617,1155,644"/>
<area shape="rect" id="node36" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1011,887,1133,913"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1230,375,1387,417"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1217,441,1400,468"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1448,241,1605,282"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1889,211,2052,253"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1653,248,1841,275"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1227,617,1390,644"/>
<area shape="rect" id="node25" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1234,567,1383,593"/>
<area shape="rect" id="node16" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1674,516,1821,543"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1687,668,1808,695"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1670,415,1825,441"/>
<area shape="rect" id="node20" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1704,465,1791,492"/>
<area shape="rect" id="node21" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1665,567,1830,593"/>
<area shape="rect" id="node23" href="ext4_2ialloc_8c.html#a1982a264b61bdf54ef92728f40095a6a" title="ext4_orphan_get" alt="" coords="1688,937,1807,964"/>
<area shape="rect" id="node22" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="1931,567,2010,593"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="781,1527,901,1553"/>
<area shape="rect" id="node41" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="1001,1501,1143,1528"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="785,1207,896,1233"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="755,1257,927,1284"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="782,1308,899,1335"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="769,1359,912,1385"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="773,1410,908,1451"/>
<area shape="rect" id="node47" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="763,1141,918,1182"/>
<area shape="rect" id="node49" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="400,504,520,531"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="586,529,689,556"/>
</map>
</div>

</div>
</div>
<a id="a00ebefad2501d004ef3b3738b0251d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ebefad2501d004ef3b3738b0251d83">&#9670;&nbsp;</a></span>ext4_free_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="structext4__free__data.html">ext4_free_data</a> </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>this_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__le32 *&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="structext4__free__data.html">ext4_free_data</a> - free a list of data blocks : handle for this transaction : inode we are dealing with : indirect buffer_head which contains * and * : array of block numbers : points immediately past the end of array</p>
<p>We are freeing all blocks referred from that array (numbers are stored as little-endian 32-bit) and updating -&gt;i_blocks appropriately.</p>
<p>We accumulate contiguous runs of blocks to free. Conveniently, if these blocks are contiguous then releasing them at one time will only affect one or two bitmap blocks (+ group descriptor(s) and superblock) and we won't actually use a lot of journal space.</p>
<p>will be NULL if  and  point into the inode's direct block pointers. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a00ebefad2501d004ef3b3738b0251d83_cgraph.png" border="0" usemap="#indirect_8c_a00ebefad2501d004ef3b3738b0251d83_cgraph" alt=""/></div>
<map name="indirect_8c_a00ebefad2501d004ef3b3738b0251d83_cgraph" id="indirect_8c_a00ebefad2501d004ef3b3738b0251d83_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1253,752,1307,779"/>
<area shape="rect" id="node4" href="indirect_8c.html#aa87038b58ea000415732f73a015375fb" title="ext4_clear_blocks" alt="" coords="161,955,288,981"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1373,752,1492,779"/>
<area shape="rect" id="node5" href="ext4__jbd2_8h.html#a35ab556b109173fda3d1115d31f81ee1" title="ext4_should_journal_data" alt="" coords="337,705,507,732"/>
<area shape="rect" id="node7" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="578,1411,729,1437"/>
<area shape="rect" id="node8" href="indirect_8c.html#a15f8981413ee487f7632bf3014713653" title="try_to_extend_transaction" alt="" coords="336,1528,508,1555"/>
<area shape="rect" id="node13" href="truncate_8h.html#aacba0c57ccbce48fe5d7d9efca6c92c5" title="ext4_blocks_for_truncate" alt="" coords="569,1629,737,1656"/>
<area shape="rect" id="node14" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="345,1717,499,1744"/>
<area shape="rect" id="node24" href="ext4_2inode_8c.html#ae085990652c7f8fb3af734131731510d" title="ext4_truncate_restart\l_trans" alt="" coords="349,491,495,533"/>
<area shape="rect" id="node38" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="361,929,483,956"/>
<area shape="rect" id="node6" href="ext4__jbd2_8h.html#a2c994e4f6e8a7a887eaa53f810e001a6" title="ext4_inode_journal_mode" alt="" coords="804,625,973,652"/>
<area shape="rect" id="node9" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="825,1469,952,1496"/>
<area shape="rect" id="node10" href="ext4__jbd2_8h.html#a1f4264a2f6f554a15afa7b120b04a659" title="ext4_handle_has_enough\l_credits" alt="" coords="569,1462,738,1503"/>
<area shape="rect" id="node11" href="ext4__jbd2_8h.html#a5abe3b6c88ef932325d222fb1d4db43a" title="ext4_journal_extend" alt="" coords="584,1579,723,1605"/>
<area shape="rect" id="node12" href="jbd2_2transaction_8c.html#a55c019b6a7a78ba926ee5fb7b86c779d" title="jbd2_journal_extend" alt="" coords="820,1704,957,1731"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a552b73d9ee8de05e1db350d7236e10fd" title="ext4_reserve_inode\l_write" alt="" coords="586,1681,721,1722"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#a871af54c003d0c27e4cf5632f131e1a7" title="ext4_try_to_expand\l_extra_isize" alt="" coords="585,1798,721,1839"/>
<area shape="rect" id="node22" href="ext4_2inode_8c.html#a58ee3792cc73e4507f2df8113459f701" title="ext4_mark_iloc_dirty" alt="" coords="582,1747,725,1773"/>
<area shape="rect" id="node16" href="ext4_8h.html#a79d9f5f3b67b075c3c2078ecda6dae44" title="ext4_forced_shutdown" alt="" coords="812,1653,965,1680"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#a2a6bdbd0d503d15641be3f78b31baa71" title="ext4_get_inode_loc" alt="" coords="821,1603,956,1629"/>
<area shape="rect" id="node19" href="ext4_2xattr_8h.html#a7ff1de30fb9ada5237249ff42cc98b53" title="ext4_write_trylock\l_xattr" alt="" coords="825,1857,953,1898"/>
<area shape="rect" id="node20" href="ext4_2inode_8c.html#af71a5db86bdd0aa707e9cae04bd96714" title="__ext4_expand_extra\l_isize" alt="" coords="815,1922,962,1963"/>
<area shape="rect" id="node21" href="ext4_2xattr_8h.html#a31b98558413e4c1c3a51708ab71da323" title="ext4_write_unlock_xattr" alt="" coords="809,1805,969,1832"/>
<area shape="rect" id="node23" href="ext4_2inode_8c.html#a4aa92e4f6ca382fb11cb79d7ed7c65b8" title="ext4_do_update_inode" alt="" coords="813,1755,965,1781"/>
<area shape="rect" id="node25" href="ext4__jbd2_8h.html#a13ebc6694765b05a33e8b3e84b57f74b" title="ext4_journal_restart" alt="" coords="585,499,721,525"/>
<area shape="rect" id="node27" href="mballoc_8c.html#a66900dc648d49dbd76c2b7e1d4ae39b7" title="ext4_discard_preallocations" alt="" coords="562,245,745,272"/>
<area shape="rect" id="node26" href="jbd2_2transaction_8c.html#aeb2bbe5827a848a6ccf2ae009553038f" title="jbd2_journal_restart" alt="" coords="821,499,956,525"/>
<area shape="rect" id="node28" href="ext4_2balloc_8c.html#a2da45db152dced20e12bf92fd1acc2ee" title="ext4_get_group_number" alt="" coords="808,144,969,171"/>
<area shape="rect" id="node29" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="1027,187,1187,229"/>
<area shape="rect" id="node30" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="803,347,974,373"/>
<area shape="rect" id="node31" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="807,397,970,424"/>
<area shape="rect" id="node32" href="mballoc_8c.html#a895096684e2beb921a56a36f312f14cb" title="ext4_mb_unload_buddy" alt="" coords="809,296,968,323"/>
<area shape="rect" id="node33" href="mballoc_8c.html#a0e45155633c387aabe70c4a9ec401d31" title="ext4_mb_release_inode_pa" alt="" coords="799,245,979,272"/>
<area shape="rect" id="node36" href="mballoc_8c.html#abcce229dcccb1714b2d0a30ea5f7e23d" title="ext4_mb_pa_callback" alt="" coords="815,93,963,120"/>
<area shape="rect" id="node37" href="mballoc_8c.html#ac028a7ae0b9dbd3c631846f59a124ba6" title="ext4_mb_show_ac" alt="" coords="823,195,954,221"/>
<area shape="rect" id="node34" href="mballoc_8c.html#ad6cb694a8dfc088c304af6adda0b18a7" title="mb_free_blocks" alt="" coords="1049,803,1164,829"/>
<area shape="rect" id="node35" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1235,828,1325,855"/>
<area shape="rect" id="node39" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="580,955,727,981"/>
<area shape="rect" id="node40" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="588,1005,719,1032"/>
<area shape="rect" id="node41" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="588,1056,719,1083"/>
<area shape="rect" id="node42" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="593,1107,713,1133"/>
<area shape="rect" id="node43" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="560,701,747,728"/>
<area shape="rect" id="node44" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="602,1157,705,1184"/>
<area shape="rect" id="node45" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="572,1360,735,1387"/>
<area shape="rect" id="node46" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="586,1208,721,1235"/>
<area shape="rect" id="node47" href="ext4_2super_8c.html#acde7ca6fb08b2c3413dde40c235670e9" title="ext4_free_group_clusters" alt="" coords="569,1259,737,1285"/>
<area shape="rect" id="node48" href="ext4_2super_8c.html#acb0ccbdca2f749f5116758688a87a8f1" title="ext4_free_group_clusters_set" alt="" coords="557,1309,750,1336"/>
<area shape="rect" id="node49" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="556,600,751,627"/>
<area shape="rect" id="node50" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="561,651,746,677"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a00ebefad2501d004ef3b3738b0251d83_icgraph.png" border="0" usemap="#indirect_8c_a00ebefad2501d004ef3b3738b0251d83_icgraph" alt=""/></div>
<map name="indirect_8c_a00ebefad2501d004ef3b3738b0251d83_icgraph" id="indirect_8c_a00ebefad2501d004ef3b3738b0251d83_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a486f94a562b7fa65afed2a64ef8dd6f9" title="ext4_free_branches" alt="" coords="161,529,297,556"/>
<area shape="rect" id="node3" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="364,580,489,607"/>
<area shape="rect" id="node48" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="345,479,508,505"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="565,732,667,759"/>
<area shape="rect" id="node6" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="947,504,1047,531"/>
<area shape="rect" id="node5" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="733,681,853,708"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="748,732,839,759"/>
<area shape="rect" id="node37" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1610,988,1755,1015"/>
<area shape="rect" id="node38" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1617,1141,1748,1168"/>
<area shape="rect" id="node39" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="724,1026,863,1067"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1149,391,1307,417"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1388,197,1541,224"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1166,441,1290,468"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1645,493,1720,520"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1850,627,1957,653"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1150,719,1306,745"/>
<area shape="rect" id="node26" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1148,769,1308,796"/>
<area shape="rect" id="node27" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1143,821,1313,862"/>
<area shape="rect" id="node28" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1131,71,1325,97"/>
<area shape="rect" id="node29" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1399,40,1530,67"/>
<area shape="rect" id="node30" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1143,223,1313,265"/>
<area shape="rect" id="node31" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1131,121,1325,148"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1165,289,1291,316"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1175,340,1281,367"/>
<area shape="rect" id="node34" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1145,668,1311,695"/>
<area shape="rect" id="node35" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1167,887,1289,913"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1386,325,1543,366"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1373,273,1556,300"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1604,249,1761,290"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="2045,219,2208,261"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1809,256,1997,283"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1383,391,1546,417"/>
<area shape="rect" id="node24" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1390,441,1539,468"/>
<area shape="rect" id="node17" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1830,475,1977,501"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1843,576,1964,603"/>
<area shape="rect" id="node20" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1826,373,1981,400"/>
<area shape="rect" id="node21" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1860,424,1947,451"/>
<area shape="rect" id="node22" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1821,525,1986,552"/>
<area shape="rect" id="node23" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="2087,937,2166,964"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="937,1252,1057,1279"/>
<area shape="rect" id="node41" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="1157,1116,1299,1143"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="941,932,1052,959"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="911,983,1083,1009"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="938,1033,1055,1060"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="925,1135,1068,1161"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="929,1186,1064,1227"/>
<area shape="rect" id="node47" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="919,866,1074,907"/>
<area shape="rect" id="node49" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="556,479,676,505"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="742,529,845,556"/>
</map>
</div>

</div>
</div>
<a id="ad571d2ebb565c914ef4c9b329afd73a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad571d2ebb565c914ef4c9b329afd73a6">&#9670;&nbsp;</a></span>ext4_get_branch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structIndirect.html">Indirect</a>* ext4_get_branch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a> *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a>&#160;</td>
          <td class="paramname"><em>chain</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_get_branch - read the chain of indirect blocks leading to data : inode in question : depth of the chain (1 - direct pointer, etc.) : offsets of pointers in inode/indirect blocks : place to store the result : here we store the error value</p>
<p>Function fills the array of triples &lt;key, p, bh&gt; and returns NULL if everything went OK or the pointer to the last filled triple (incomplete one) otherwise. Upon the return chain[i].key contains the number of (i+1)-th block in the chain (as it is stored in memory, i.e. little-endian 32-bit), chain[i].p contains the address of that number (it points into struct inode for i==0 and into the bh-&gt;b_data for i&gt;0) and chain[i].bh points to the buffer_head of i-th indirect block for i&gt;0 and NULL for i==0. In other words, it holds the block numbers of the chain, addresses they were taken from (and where we can verify that chain did not change) and buffer_heads hosting these numbers.</p>
<p>Function stops when it stumbles upon zero pointer (absent block) (pointer to last triple returned, * == 0) or when it gets an IO error reading an indirect block (ditto, * == -EIO) or when it reads all -1 indirect blocks successfully and finds the whole chain, all way to the data (returns NULL, *err == 0). </p><pre class="fragment">Need to be called with
down_read(&amp;EXT4_I(inode)-&gt;i_data_sem)</pre> <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_cgraph.png" border="0" usemap="#indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_cgraph" alt=""/></div>
<map name="indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_cgraph" id="indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_cgraph">
<area shape="rect" id="node2" href="indirect_8c.html#ab053a0bb3c41bab2ebae31eaac9a9c1c" title="add_chain" alt="" coords="189,159,270,186"/>
<area shape="rect" id="node3" href="buffer_8c.html#a7b0cdad45bd4bd8a2c448eb9aae7a036" title="bh_uptodate_or_lock" alt="" coords="553,337,696,363"/>
<area shape="rect" id="node6" href="buffer_8c.html#a9eecb9b0e2ab4cf8f375d735cba57288" title="bh_submit_read" alt="" coords="172,210,287,237"/>
<area shape="rect" id="node4" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="784,261,884,287"/>
<area shape="rect" id="node5" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="952,185,1091,211"/>
<area shape="rect" id="node7" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="335,210,485,237"/>
<area shape="rect" id="node9" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="369,134,451,161"/>
<area shape="rect" id="node8" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="533,235,716,262"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="568,83,681,110"/>
<area shape="rect" id="node11" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="764,83,904,110"/>
<area shape="rect" id="node12" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="781,33,887,59"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_icgraph.png" border="0" usemap="#indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_icgraph" alt=""/></div>
<map name="indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_icgraph" id="indirect_8c_ad571d2ebb565c914ef4c9b329afd73a6_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="172,417,320,443"/>
<area shape="rect" id="node46" href="indirect_8c.html#ace368e7d58960fca281d2aad27473c03" title="ext4_find_shared" alt="" coords="588,983,709,1010"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="381,417,505,443"/>
<area shape="rect" id="node11" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1212,613,1312,639"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="371,590,516,617"/>
<area shape="rect" id="node44" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="368,5,519,47"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="1002,122,1155,149"/>
<area shape="rect" id="node6" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1215,198,1309,225"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="587,627,711,654"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="590,554,707,581"/>
<area shape="rect" id="node28" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="999,481,1159,507"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="817,278,907,305"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="567,722,731,749"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="585,223,712,250"/>
<area shape="rect" id="node39" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="573,274,724,301"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="783,867,941,908"/>
<area shape="rect" id="node41" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="581,325,716,367"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1603,140,1765,181"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="797,750,927,777"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="807,481,917,507"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="993,689,1164,715"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="789,598,935,625"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="1011,613,1146,639"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="795,532,929,573"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1379,274,1536,301"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1381,173,1534,199"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1395,325,1519,351"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1420,375,1495,402"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1631,401,1737,427"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1379,477,1535,503"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1377,527,1537,554"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1372,579,1543,620"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1360,645,1555,671"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1619,727,1749,754"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1372,821,1543,863"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1360,695,1555,722"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1395,887,1520,914"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1404,938,1511,965"/>
<area shape="rect" id="node26" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1374,989,1541,1015"/>
<area shape="rect" id="node27" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1396,223,1519,250"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1035,227,1122,254"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1016,278,1141,305"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="779,801,945,843"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="997,791,1160,818"/>
<area shape="rect" id="node45" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="583,13,715,39"/>
<area shape="rect" id="node47" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="799,1034,925,1061"/>
<area shape="rect" id="node49" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="781,983,943,1010"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="1028,957,1129,983"/>
<area shape="rect" id="node50" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="1019,898,1139,925"/>
</map>
</div>

</div>
</div>
<a id="a55b886bd028174b8de8be6ff3915e22a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b886bd028174b8de8be6ff3915e22a">&#9670;&nbsp;</a></span>ext4_ind_calc_metadata_amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ext4_ind_calc_metadata_amount </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>lblock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a55b886bd028174b8de8be6ff3915e22a_icgraph.png" border="0" usemap="#indirect_8c_a55b886bd028174b8de8be6ff3915e22a_icgraph" alt=""/></div>
<map name="indirect_8c_a55b886bd028174b8de8be6ff3915e22a_icgraph" id="indirect_8c_a55b886bd028174b8de8be6ff3915e22a_icgraph">
<area shape="rect" id="node2" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="216,934,316,961"/>
<area shape="rect" id="node3" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="371,71,528,98"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="603,122,757,149"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="387,298,511,325"/>
<area shape="rect" id="node12" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="893,285,967,311"/>
<area shape="rect" id="node15" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1123,522,1230,549"/>
<area shape="rect" id="node24" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="371,487,527,514"/>
<area shape="rect" id="node28" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="369,683,529,710"/>
<area shape="rect" id="node34" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="865,883,995,910"/>
<area shape="rect" id="node38" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="364,1313,535,1355"/>
<area shape="rect" id="node40" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="583,821,777,847"/>
<area shape="rect" id="node42" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="364,1379,535,1420"/>
<area shape="rect" id="node44" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="583,997,777,1023"/>
<area shape="rect" id="node45" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="387,1495,512,1522"/>
<area shape="rect" id="node48" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="396,1546,503,1573"/>
<area shape="rect" id="node49" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="366,1597,533,1623"/>
<area shape="rect" id="node50" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="388,1647,511,1674"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="601,5,759,47"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="589,71,771,98"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="851,129,1009,171"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1319,99,1481,140"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1083,133,1271,159"/>
<area shape="rect" id="node11" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="599,247,761,274"/>
<area shape="rect" id="node23" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="605,298,755,325"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1103,183,1250,210"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1116,386,1237,413"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1099,234,1254,261"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1133,285,1220,311"/>
<area shape="rect" id="node19" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1094,335,1259,362"/>
<area shape="rect" id="node20" href="ext4_2ialloc_8c.html#a1982a264b61bdf54ef92728f40095a6a" title="ext4_orphan_get" alt="" coords="1117,650,1236,677"/>
<area shape="rect" id="node21" href="ext4_2resize_8c.html#aa6ebaba76cd3ee43cda4b589343fab85" title="ext4_group_add" alt="" coords="1119,855,1234,882"/>
<area shape="rect" id="node22" href="ext4_2resize_8c.html#af61f6b95ffebb0c483a924651c5acd05" title="ext4_resize_fs" alt="" coords="1123,1214,1230,1241"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#a29cf15a2bc142d6643c83291cdd15d86" title="ext4_mount" alt="" coords="1355,522,1445,549"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#a4bb939239f57cc9409bd7adf2d8d30dc" title="ext4_superblock_csum\l_verify" alt="" coords="852,485,1008,527"/>
<area shape="rect" id="node26" href="ext4_2super_8c.html#a9204302ce0f5dce6aa7ed3aa6e209f77" title="ext4_superblock_csum_set" alt="" coords="589,399,771,426"/>
<area shape="rect" id="node27" href="ext4_2super_8c.html#a42f899a9c10d50fe8f5b3559941c090e" title="ext4_get_dev_journal" alt="" coords="607,450,753,477"/>
<area shape="rect" id="node29" href="ext4_2super_8c.html#ac7655812fc4e841dc5d0823e15e991de" title="ext4_group_desc_csum\l_verify" alt="" coords="600,653,760,695"/>
<area shape="rect" id="node30" href="ext4_2super_8c.html#a6229b975323082871346a120bdd27668" title="ext4_check_descriptors" alt="" coords="850,602,1010,629"/>
<area shape="rect" id="node31" href="ext4_2super_8c.html#a53bb017534f1781ca291af7518077e38" title="ext4_remount" alt="" coords="879,690,981,717"/>
<area shape="rect" id="node32" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="587,946,773,973"/>
<area shape="rect" id="node33" href="ext4_2ialloc_8c.html#a77e48aa4d3820d339341058dbbc89d71" title="ext4_free_inode" alt="" coords="873,821,987,847"/>
<area shape="rect" id="node35" href="mballoc_8c.html#acd28fdf96c37940f98bd74ba3e380d32" title="ext4_mb_mark_diskspace_used" alt="" coords="825,985,1035,1011"/>
<area shape="rect" id="node36" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="869,1035,991,1062"/>
<area shape="rect" id="node37" href="mballoc_8c.html#a30bc1d29eb49bfbb8f43600225edce86" title="ext4_group_add_blocks" alt="" coords="851,1086,1009,1113"/>
<area shape="rect" id="node39" href="ext4_2ialloc_8c.html#a70de7e50a28d849ae744f31cc7ae7db2" title="ext4_validate_inode\l_bitmap" alt="" coords="611,1313,749,1355"/>
<area shape="rect" id="node41" href="ext4_2resize_8c.html#a3caf3263b0b8885a18369647bbc5d268" title="ext4_set_bitmap_checksums" alt="" coords="834,934,1026,961"/>
<area shape="rect" id="node43" href="ext4_2balloc_8c.html#aeb7e1511336f16d9d62ee82294dd8d2f" title="ext4_validate_block\l_bitmap" alt="" coords="611,1379,749,1420"/>
<area shape="rect" id="node46" href="ext4_2namei_8c.html#aaa0fc934b6b1fd6b63b766f88ef81eae" title="ext4_dirent_csum_verify" alt="" coords="598,1445,762,1471"/>
<area shape="rect" id="node47" href="ext4_2namei_8c.html#aac018820cb0c5117d2bcb5e39927600e" title="ext4_dirent_csum_set" alt="" coords="605,1495,755,1522"/>
</map>
</div>

</div>
</div>
<a id="af1a6de58faf07728fd7ca5210966069b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a6de58faf07728fd7ca5210966069b">&#9670;&nbsp;</a></span>ext4_ind_map_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ext4_ind_map_blocks </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structext4__map__blocks.html">ext4_map_blocks</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_af1a6de58faf07728fd7ca5210966069b_cgraph.png" border="0" usemap="#indirect_8c_af1a6de58faf07728fd7ca5210966069b_cgraph" alt=""/></div>
<map name="indirect_8c_af1a6de58faf07728fd7ca5210966069b_cgraph" id="indirect_8c_af1a6de58faf07728fd7ca5210966069b_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="693,417,747,444"/>
<area shape="rect" id="node4" href="indirect_8c.html#a538a84ff7e7ad067b9e0ca0920e8983b" title="ext4_block_to_path" alt="" coords="219,1355,354,1381"/>
<area shape="rect" id="node5" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6" title="ext4_get_branch" alt="" coords="227,1304,346,1331"/>
<area shape="rect" id="node13" href="indirect_8c.html#a4061213f04ddb3c8800cf964169242bf" title="ext4_find_goal" alt="" coords="233,1431,340,1457"/>
<area shape="rect" id="node16" href="indirect_8c.html#a28d77246e7ec855073ec7bc2009dfd62" title="ext4_blks_to_allocate" alt="" coords="213,645,361,672"/>
<area shape="rect" id="node17" href="indirect_8c.html#a464d7f0108a179f586d0885e98b82b97" title="ext4_alloc_branch" alt="" coords="223,873,350,900"/>
<area shape="rect" id="node47" href="indirect_8c.html#a5f7c22051a96692690846dc4429cc3c7" title="ext4_splice_branch" alt="" coords="219,1063,354,1089"/>
<area shape="rect" id="node49" href="ext4__jbd2_8h.html#adbe2e1dbd00fbeae5dd16e6ce41d805f" title="ext4_update_inode_fsync\l_trans" alt="" coords="201,1195,372,1237"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="907,5,1025,32"/>
<area shape="rect" id="node6" href="indirect_8c.html#ab053a0bb3c41bab2ebae31eaac9a9c1c" title="add_chain" alt="" coords="459,1431,540,1457"/>
<area shape="rect" id="node7" href="buffer_8c.html#a7b0cdad45bd4bd8a2c448eb9aae7a036" title="bh_uptodate_or_lock" alt="" coords="428,1304,571,1331"/>
<area shape="rect" id="node10" href="buffer_8c.html#a9eecb9b0e2ab4cf8f375d735cba57288" title="bh_submit_read" alt="" coords="442,1380,557,1407"/>
<area shape="rect" id="node8" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="670,1355,770,1381"/>
<area shape="rect" id="node9" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="897,1405,1035,1432"/>
<area shape="rect" id="node11" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="645,1405,795,1432"/>
<area shape="rect" id="node12" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="679,1456,761,1483"/>
<area shape="rect" id="node14" href="indirect_8c.html#a8b659dfd96918b217c640c79bd2fd43d" title="ext4_find_near" alt="" coords="446,1536,553,1563"/>
<area shape="rect" id="node15" href="ext4_2balloc_8c.html#abd3e8985f662567f2a53bd3769a2a978" title="ext4_inode_to_goal\l_block" alt="" coords="653,1558,787,1599"/>
<area shape="rect" id="node18" href="mballoc_8c.html#a57b8bebd1cd731464103b7b8e5c05ae2" title="ext4_mb_new_blocks" alt="" coords="646,468,794,495"/>
<area shape="rect" id="node36" href="ext4_2balloc_8c.html#ae92d08af7c5087844f276b829af9cf52" title="ext4_new_meta_blocks" alt="" coords="420,519,579,545"/>
<area shape="rect" id="node37" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="439,873,560,900"/>
<area shape="rect" id="node19" href="ext4_2balloc_8c.html#a343b19ed05537fda8263ae120d553c15" title="ext4_claim_free_clusters" alt="" coords="883,275,1049,301"/>
<area shape="rect" id="node20" href="mballoc_8c.html#a1219e0b673e6e10e7b4b7867c0d7f8ea" title="ext4_mb_initialize\l_context" alt="" coords="903,377,1029,418"/>
<area shape="rect" id="node22" href="mballoc_8c.html#aaeeac8f5180c8cabe5a530d5be2222dd" title="ext4_mb_use_preallocated" alt="" coords="877,595,1055,621"/>
<area shape="rect" id="node23" href="mballoc_8h.html#a5dcbc664637c42cf18f65506f728e0c8" title="ext4_grp_offs_to_block" alt="" coords="1121,595,1279,621"/>
<area shape="rect" id="node24" href="mballoc_8c.html#a6d4937e7d3b3e105575352d17953ff95" title="ext4_mb_normalize_request" alt="" coords="873,325,1059,352"/>
<area shape="rect" id="node25" href="mballoc_8c.html#a88a5a6a12550926f88f2cc6d987dfc3b" title="ext4_mb_regular_allocator" alt="" coords="879,493,1053,520"/>
<area shape="rect" id="node26" href="mballoc_8c.html#a3eba93009bef7352c77013b99cfca861" title="ext4_mb_new_preallocation" alt="" coords="875,544,1057,571"/>
<area shape="rect" id="node27" href="mballoc_8c.html#aa308d7647ea00d4af21ca60bc3ee46c2" title="ext4_discard_allocated\l_blocks" alt="" coords="889,57,1043,98"/>
<area shape="rect" id="node28" href="mballoc_8c.html#acd28fdf96c37940f98bd74ba3e380d32" title="ext4_mb_mark_diskspace_used" alt="" coords="861,747,1071,773"/>
<area shape="rect" id="node33" href="mballoc_8c.html#a42764a57e022c833d62b818eee2a6b81" title="ext4_mb_discard_preallocations" alt="" coords="862,123,1070,149"/>
<area shape="rect" id="node34" href="mballoc_8c.html#ac028a7ae0b9dbd3c631846f59a124ba6" title="ext4_mb_show_ac" alt="" coords="901,173,1031,200"/>
<area shape="rect" id="node35" href="mballoc_8c.html#a3f47cd832a270cb6f160c4c66fa07a12" title="ext4_mb_release_context" alt="" coords="881,224,1051,251"/>
<area shape="rect" id="node21" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="1120,377,1280,418"/>
<area shape="rect" id="node29" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="1119,1152,1281,1179"/>
<area shape="rect" id="node30" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="1127,721,1273,748"/>
<area shape="rect" id="node31" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="1125,785,1275,812"/>
<area shape="rect" id="node32" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1155,924,1245,951"/>
<area shape="rect" id="node38" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="655,949,785,976"/>
<area shape="rect" id="node39" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="655,1000,785,1027"/>
<area shape="rect" id="node40" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="660,1051,780,1077"/>
<area shape="rect" id="node41" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="635,1101,805,1128"/>
<area shape="rect" id="node42" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="903,899,1029,925"/>
<area shape="rect" id="node43" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="627,595,813,621"/>
<area shape="rect" id="node44" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="669,645,771,672"/>
<area shape="rect" id="node45" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="639,899,801,925"/>
<area shape="rect" id="node46" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="653,797,787,824"/>
<area shape="rect" id="node48" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="423,1063,576,1089"/>
<area shape="rect" id="node50" href="ext4__jbd2_8h.html#aa21de2fd1f0d34dafc03f46e8ba0213e" title="ext4_force_commit" alt="" coords="433,1253,566,1280"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_af1a6de58faf07728fd7ca5210966069b_icgraph.png" border="0" usemap="#indirect_8c_af1a6de58faf07728fd7ca5210966069b_icgraph" alt=""/></div>
<map name="indirect_8c_af1a6de58faf07728fd7ca5210966069b_icgraph" id="indirect_8c_af1a6de58faf07728fd7ca5210966069b_icgraph">
<area shape="rect" id="node2" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="215,559,339,586"/>
<area shape="rect" id="node10" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1067,594,1167,621"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="204,829,349,855"/>
<area shape="rect" id="node49" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="201,977,352,1019"/>
<area shape="rect" id="node3" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="835,225,989,251"/>
<area shape="rect" id="node5" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1070,955,1163,982"/>
<area shape="rect" id="node6" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="420,450,544,477"/>
<area shape="rect" id="node8" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="423,147,541,174"/>
<area shape="rect" id="node27" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="832,482,992,509"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="651,711,740,738"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="400,778,564,805"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="419,727,545,754"/>
<area shape="rect" id="node39" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="407,509,557,535"/>
<area shape="rect" id="node42" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="617,275,774,316"/>
<area shape="rect" id="node45" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="415,611,549,652"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1479,148,1641,189"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="630,442,761,469"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="640,341,751,367"/>
<area shape="rect" id="node28" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="827,174,997,201"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="622,122,769,149"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="845,73,979,99"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="628,5,763,47"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1255,282,1412,309"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1257,181,1410,207"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1271,333,1395,359"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1296,434,1371,461"/>
<area shape="rect" id="node15" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1507,409,1613,435"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1255,485,1411,511"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1253,535,1413,562"/>
<area shape="rect" id="node18" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1248,587,1419,628"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1236,845,1431,871"/>
<area shape="rect" id="node20" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1495,695,1625,722"/>
<area shape="rect" id="node21" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1248,779,1419,820"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1236,727,1431,754"/>
<area shape="rect" id="node23" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1271,895,1396,922"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1280,946,1387,973"/>
<area shape="rect" id="node25" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1250,997,1417,1023"/>
<area shape="rect" id="node26" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1272,231,1395,258"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1045,73,1188,99"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="869,930,955,957"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="849,695,975,722"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="612,763,779,804"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a3ec84ef7a0909231930de67ff5bb3372" title="ext4_zero_range" alt="" coords="636,543,755,570"/>
<area shape="rect" id="node41" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="861,543,963,570"/>
<area shape="rect" id="node43" href="page-io_8c.html#a87c0cd222e6c4a69faa13f5f532aea8e" title="ext4_end_io" alt="" coords="866,279,958,306"/>
<area shape="rect" id="node44" href="page-io_8c.html#a77f25c7f513620cab7320117896f832a" title="ext4_put_io_end" alt="" coords="853,381,971,407"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a9150c771420c4eb8487a97a9ece1d799" title="ext4_try_add_inline\l_entry" alt="" coords="628,645,763,687"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="401,829,563,855"/>
<area shape="rect" id="node50" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="416,1031,548,1058"/>
</map>
</div>

</div>
</div>
<a id="ad71d362aaa6812eeb879dc6692f4a0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71d362aaa6812eeb879dc6692f4a0e4">&#9670;&nbsp;</a></span>ext4_ind_remove_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ext4_ind_remove_space </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ext4_8h.html#a2b6b50b1d5f1a0b9e8a87833d3118eca">ext4_lblk_t</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ext4_ind_remove_space - remove space from the range : JBD handle for this transaction : inode we are dealing with : First block to remove : One block after the last block to remove (exclusive)</p>
<p>Free the blocks in the defined range (end is exclusive endpoint of range). This is used by <a class="el" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed">ext4_punch_hole()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_cgraph.png" border="0" usemap="#indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_cgraph" alt=""/></div>
<map name="indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_cgraph" id="indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_cgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a538a84ff7e7ad067b9e0ca0920e8983b" title="ext4_block_to_path" alt="" coords="217,156,351,183"/>
<area shape="rect" id="node3" href="indirect_8c.html#a00ebefad2501d004ef3b3738b0251d83" title="ext4_free_data" alt="" coords="425,712,533,739"/>
<area shape="rect" id="node41" href="indirect_8c.html#ace368e7d58960fca281d2aad27473c03" title="ext4_find_shared" alt="" coords="223,207,345,233"/>
<area shape="rect" id="node49" href="indirect_8c.html#a486f94a562b7fa65afed2a64ef8dd6f9" title="ext4_free_branches" alt="" coords="216,1272,352,1299"/>
<area shape="rect" id="node4" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1318,259,1373,285"/>
<area shape="rect" id="node6" href="indirect_8c.html#aa87038b58ea000415732f73a015375fb" title="ext4_clear_blocks" alt="" coords="615,1169,741,1196"/>
<area shape="rect" id="node5" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1479,259,1597,285"/>
<area shape="rect" id="node7" href="ext4__jbd2_8h.html#a35ab556b109173fda3d1115d31f81ee1" title="ext4_should_journal_data" alt="" coords="799,461,968,488"/>
<area shape="rect" id="node9" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="1039,1272,1190,1299"/>
<area shape="rect" id="node10" href="indirect_8c.html#a15f8981413ee487f7632bf3014713653" title="try_to_extend_transaction" alt="" coords="797,1373,969,1400"/>
<area shape="rect" id="node14" href="truncate_8h.html#aacba0c57ccbce48fe5d7d9efca6c92c5" title="ext4_blocks_for_truncate" alt="" coords="1031,1323,1199,1349"/>
<area shape="rect" id="node15" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="807,1549,960,1576"/>
<area shape="rect" id="node19" href="ext4_2inode_8c.html#ae085990652c7f8fb3af734131731510d" title="ext4_truncate_restart\l_trans" alt="" coords="811,1105,956,1146"/>
<area shape="rect" id="node26" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="823,715,944,741"/>
<area shape="rect" id="node8" href="ext4__jbd2_8h.html#a2c994e4f6e8a7a887eaa53f810e001a6" title="ext4_inode_journal_mode" alt="" coords="1261,95,1430,121"/>
<area shape="rect" id="node11" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="1282,1403,1409,1429"/>
<area shape="rect" id="node12" href="ext4__jbd2_8h.html#a1f4264a2f6f554a15afa7b120b04a659" title="ext4_handle_has_enough\l_credits" alt="" coords="1030,1425,1199,1466"/>
<area shape="rect" id="node13" href="ext4__jbd2_8h.html#a5abe3b6c88ef932325d222fb1d4db43a" title="ext4_journal_extend" alt="" coords="1045,1491,1184,1517"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a552b73d9ee8de05e1db350d7236e10fd" title="ext4_reserve_inode\l_write" alt="" coords="1047,1659,1182,1701"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#a871af54c003d0c27e4cf5632f131e1a7" title="ext4_try_to_expand\l_extra_isize" alt="" coords="1047,1542,1183,1583"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#a58ee3792cc73e4507f2df8113459f701" title="ext4_mark_iloc_dirty" alt="" coords="1043,1608,1186,1635"/>
<area shape="rect" id="node20" href="ext4__jbd2_8h.html#a13ebc6694765b05a33e8b3e84b57f74b" title="ext4_journal_restart" alt="" coords="1047,1221,1183,1248"/>
<area shape="rect" id="node21" href="mballoc_8c.html#a66900dc648d49dbd76c2b7e1d4ae39b7" title="ext4_discard_preallocations" alt="" coords="1023,917,1206,944"/>
<area shape="rect" id="node22" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="1260,561,1431,588"/>
<area shape="rect" id="node23" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="1264,712,1427,739"/>
<area shape="rect" id="node24" href="mballoc_8c.html#a895096684e2beb921a56a36f312f14cb" title="ext4_mb_unload_buddy" alt="" coords="1266,863,1425,889"/>
<area shape="rect" id="node25" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="1265,938,1425,979"/>
<area shape="rect" id="node27" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="1041,1019,1188,1045"/>
<area shape="rect" id="node28" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="1049,1069,1180,1096"/>
<area shape="rect" id="node29" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="1049,309,1180,336"/>
<area shape="rect" id="node30" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="1055,360,1175,387"/>
<area shape="rect" id="node31" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1300,171,1391,197"/>
<area shape="rect" id="node32" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="1021,107,1208,133"/>
<area shape="rect" id="node33" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="1063,512,1166,539"/>
<area shape="rect" id="node34" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="1033,1171,1196,1197"/>
<area shape="rect" id="node35" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="1047,563,1182,589"/>
<area shape="rect" id="node36" href="mballoc_8c.html#ad6cb694a8dfc088c304af6adda0b18a7" title="mb_free_blocks" alt="" coords="1057,259,1172,285"/>
<area shape="rect" id="node37" href="ext4_2super_8c.html#acde7ca6fb08b2c3413dde40c235670e9" title="ext4_free_group_clusters" alt="" coords="1031,664,1199,691"/>
<area shape="rect" id="node38" href="ext4_2super_8c.html#acb0ccbdca2f749f5116758688a87a8f1" title="ext4_free_group_clusters_set" alt="" coords="1018,715,1211,741"/>
<area shape="rect" id="node39" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1017,765,1212,792"/>
<area shape="rect" id="node40" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="1022,867,1207,893"/>
<area shape="rect" id="node42" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6" title="ext4_get_branch" alt="" coords="420,157,539,184"/>
<area shape="rect" id="node48" href="indirect_8c.html#a9de7ee6f7a66dd8e78c4aa7d0db889fb" title="all_zeroes" alt="" coords="439,107,520,133"/>
<area shape="rect" id="node43" href="indirect_8c.html#ab053a0bb3c41bab2ebae31eaac9a9c1c" title="add_chain" alt="" coords="637,157,719,184"/>
<area shape="rect" id="node44" href="buffer_8c.html#a7b0cdad45bd4bd8a2c448eb9aae7a036" title="bh_uptodate_or_lock" alt="" coords="607,107,749,133"/>
<area shape="rect" id="node47" href="buffer_8c.html#a9eecb9b0e2ab4cf8f375d735cba57288" title="bh_submit_read" alt="" coords="621,56,735,83"/>
<area shape="rect" id="node45" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="833,56,933,83"/>
<area shape="rect" id="node46" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1045,5,1184,32"/>
<area shape="rect" id="node50" href="ext4__jbd2_8h.html#ad2c0ac58916f3f169ba3315ee74a028c" title="ext4_handle_is_aborted" alt="" coords="400,1663,559,1689"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_icgraph.png" border="0" usemap="#indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_icgraph" alt=""/></div>
<map name="indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_icgraph" id="indirect_8c_ad71d362aaa6812eeb879dc6692f4a0e4_icgraph">
<area shape="rect" id="node2" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="216,903,336,930"/>
<area shape="rect" id="node3" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="535,903,635,930"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="384,954,487,981"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="689,71,847,98"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="922,122,1075,149"/>
<area shape="rect" id="node11" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="706,298,830,325"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1211,285,1286,311"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1442,511,1549,538"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="690,475,846,502"/>
<area shape="rect" id="node29" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="688,683,848,710"/>
<area shape="rect" id="node35" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1183,889,1314,915"/>
<area shape="rect" id="node39" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="683,1313,853,1355"/>
<area shape="rect" id="node41" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="901,821,1096,847"/>
<area shape="rect" id="node43" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="683,1379,853,1420"/>
<area shape="rect" id="node45" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="901,997,1096,1023"/>
<area shape="rect" id="node46" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="705,1445,831,1471"/>
<area shape="rect" id="node47" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="715,1495,821,1522"/>
<area shape="rect" id="node48" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="685,1546,851,1573"/>
<area shape="rect" id="node49" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="707,1597,829,1623"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="920,5,1077,47"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="907,71,1090,98"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1170,129,1327,171"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1637,99,1800,140"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1401,133,1589,159"/>
<area shape="rect" id="node12" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="917,247,1080,274"/>
<area shape="rect" id="node24" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="924,298,1073,325"/>
<area shape="rect" id="node14" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1422,183,1569,210"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1435,386,1556,413"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1418,234,1573,261"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1452,285,1539,311"/>
<area shape="rect" id="node20" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1413,335,1578,362"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a1982a264b61bdf54ef92728f40095a6a" title="ext4_orphan_get" alt="" coords="1436,645,1555,671"/>
<area shape="rect" id="node22" href="ext4_2resize_8c.html#aa6ebaba76cd3ee43cda4b589343fab85" title="ext4_group_add" alt="" coords="1438,861,1553,887"/>
<area shape="rect" id="node23" href="ext4_2resize_8c.html#af61f6b95ffebb0c483a924651c5acd05" title="ext4_resize_fs" alt="" coords="1442,1241,1549,1267"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a29cf15a2bc142d6643c83291cdd15d86" title="ext4_mount" alt="" coords="1673,511,1764,538"/>
<area shape="rect" id="node26" href="ext4_2super_8c.html#a4bb939239f57cc9409bd7adf2d8d30dc" title="ext4_superblock_csum\l_verify" alt="" coords="1171,463,1327,504"/>
<area shape="rect" id="node27" href="ext4_2super_8c.html#a9204302ce0f5dce6aa7ed3aa6e209f77" title="ext4_superblock_csum_set" alt="" coords="908,399,1089,426"/>
<area shape="rect" id="node28" href="ext4_2super_8c.html#a42f899a9c10d50fe8f5b3559941c090e" title="ext4_get_dev_journal" alt="" coords="926,501,1071,527"/>
<area shape="rect" id="node30" href="ext4_2super_8c.html#ac7655812fc4e841dc5d0823e15e991de" title="ext4_group_desc_csum\l_verify" alt="" coords="919,653,1079,695"/>
<area shape="rect" id="node31" href="ext4_2super_8c.html#a6229b975323082871346a120bdd27668" title="ext4_check_descriptors" alt="" coords="1169,602,1329,629"/>
<area shape="rect" id="node32" href="ext4_2super_8c.html#a53bb017534f1781ca291af7518077e38" title="ext4_remount" alt="" coords="1198,690,1299,717"/>
<area shape="rect" id="node33" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="906,946,1091,973"/>
<area shape="rect" id="node34" href="ext4_2ialloc_8c.html#a77e48aa4d3820d339341058dbbc89d71" title="ext4_free_inode" alt="" coords="1191,787,1306,814"/>
<area shape="rect" id="node36" href="mballoc_8c.html#acd28fdf96c37940f98bd74ba3e380d32" title="ext4_mb_mark_diskspace_used" alt="" coords="1144,946,1353,973"/>
<area shape="rect" id="node37" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="1188,997,1309,1023"/>
<area shape="rect" id="node38" href="mballoc_8c.html#a30bc1d29eb49bfbb8f43600225edce86" title="ext4_group_add_blocks" alt="" coords="1169,1047,1328,1074"/>
<area shape="rect" id="node40" href="ext4_2ialloc_8c.html#a70de7e50a28d849ae744f31cc7ae7db2" title="ext4_validate_inode\l_bitmap" alt="" coords="930,1313,1067,1355"/>
<area shape="rect" id="node42" href="ext4_2resize_8c.html#a3caf3263b0b8885a18369647bbc5d268" title="ext4_set_bitmap_checksums" alt="" coords="1153,838,1345,865"/>
<area shape="rect" id="node44" href="ext4_2balloc_8c.html#aeb7e1511336f16d9d62ee82294dd8d2f" title="ext4_validate_block\l_bitmap" alt="" coords="930,1379,1067,1420"/>
</map>
</div>

</div>
</div>
<a id="a77f74c2d512df943f5002f0902d1bc25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f74c2d512df943f5002f0902d1bc25">&#9670;&nbsp;</a></span>ext4_ind_trans_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ext4_ind_trans_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrblocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a77f74c2d512df943f5002f0902d1bc25_icgraph.png" border="0" usemap="#indirect_8c_a77f74c2d512df943f5002f0902d1bc25_icgraph" alt=""/></div>
<map name="indirect_8c_a77f74c2d512df943f5002f0902d1bc25_icgraph" id="indirect_8c_a77f74c2d512df943f5002f0902d1bc25_icgraph">
<area shape="rect" id="node2" href="ext4_2inode_8c.html#a303bdd4625dc75b5cfdc961ae1763f6a" title="ext4_index_trans_blocks" alt="" coords="205,945,372,972"/>
<area shape="rect" id="node7" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="851,916,951,943"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#aaa3bf8e533c037e10b09ac84541daa01" title="ext4_meta_trans_blocks" alt="" coords="420,975,584,1001"/>
<area shape="rect" id="node4" href="ext4_2inode_8c.html#a7b7b42f50f82b44467e1c8eeb67674f7" title="ext4_begin_ordered\l_truncate" alt="" coords="650,1033,785,1074"/>
<area shape="rect" id="node5" href="ext4_2inode_8c.html#ab101c495804821de8483ae16fd645940" title="ext4_da_writepages\l_trans_blocks" alt="" coords="648,1098,787,1139"/>
<area shape="rect" id="node6" href="ext4_2inode_8c.html#a29ec5fbdef329216526ecb0d5be08dd8" title="ext4_writepage_trans\l_blocks" alt="" coords="644,967,791,1009"/>
<area shape="rect" id="node50" href="ext4_2inode_8c.html#a2db6bd5c696ce35b121610548406defb" title="ext4_chunk_trans_blocks" alt="" coords="632,916,803,943"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1017,64,1175,91"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1261,123,1414,149"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1034,299,1158,325"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1524,299,1599,325"/>
<area shape="rect" id="node20" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1730,476,1837,503"/>
<area shape="rect" id="node29" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1018,527,1174,553"/>
<area shape="rect" id="node33" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1016,720,1176,747"/>
<area shape="rect" id="node39" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1496,884,1627,911"/>
<area shape="rect" id="node40" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1011,1302,1181,1343"/>
<area shape="rect" id="node42" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="999,947,1193,973"/>
<area shape="rect" id="node44" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1011,1367,1181,1409"/>
<area shape="rect" id="node45" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="999,1023,1193,1049"/>
<area shape="rect" id="node46" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1033,1433,1159,1460"/>
<area shape="rect" id="node47" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1043,1484,1149,1511"/>
<area shape="rect" id="node48" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1013,1535,1179,1561"/>
<area shape="rect" id="node49" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1035,1585,1157,1612"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1259,57,1416,98"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1246,5,1429,32"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1483,143,1640,185"/>
<area shape="rect" id="node14" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1925,113,2088,154"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1689,147,1877,173"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1256,299,1419,325"/>
<area shape="rect" id="node28" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1263,248,1412,275"/>
<area shape="rect" id="node18" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1710,248,1857,275"/>
<area shape="rect" id="node19" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1723,400,1844,427"/>
<area shape="rect" id="node22" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1706,299,1861,325"/>
<area shape="rect" id="node23" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1740,349,1827,376"/>
<area shape="rect" id="node24" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1701,197,1866,224"/>
<area shape="rect" id="node25" href="ext4_2ialloc_8c.html#a1982a264b61bdf54ef92728f40095a6a" title="ext4_orphan_get" alt="" coords="1724,608,1843,635"/>
<area shape="rect" id="node26" href="ext4_2resize_8c.html#aa6ebaba76cd3ee43cda4b589343fab85" title="ext4_group_add" alt="" coords="1726,820,1841,847"/>
<area shape="rect" id="node27" href="ext4_2resize_8c.html#af61f6b95ffebb0c483a924651c5acd05" title="ext4_resize_fs" alt="" coords="1730,1195,1837,1221"/>
<area shape="rect" id="node21" href="ext4_2super_8c.html#a29cf15a2bc142d6643c83291cdd15d86" title="ext4_mount" alt="" coords="1961,476,2052,503"/>
<area shape="rect" id="node30" href="ext4_2super_8c.html#a4bb939239f57cc9409bd7adf2d8d30dc" title="ext4_superblock_csum\l_verify" alt="" coords="1483,482,1639,523"/>
<area shape="rect" id="node31" href="ext4_2super_8c.html#a9204302ce0f5dce6aa7ed3aa6e209f77" title="ext4_superblock_csum_set" alt="" coords="1247,552,1428,579"/>
<area shape="rect" id="node32" href="ext4_2super_8c.html#a42f899a9c10d50fe8f5b3559941c090e" title="ext4_get_dev_journal" alt="" coords="1265,451,1410,477"/>
<area shape="rect" id="node34" href="ext4_2super_8c.html#ac7655812fc4e841dc5d0823e15e991de" title="ext4_group_desc_csum\l_verify" alt="" coords="1257,654,1417,695"/>
<area shape="rect" id="node35" href="ext4_2super_8c.html#a6229b975323082871346a120bdd27668" title="ext4_check_descriptors" alt="" coords="1481,603,1641,629"/>
<area shape="rect" id="node36" href="ext4_2super_8c.html#a53bb017534f1781ca291af7518077e38" title="ext4_remount" alt="" coords="1511,691,1612,717"/>
<area shape="rect" id="node37" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="1245,821,1430,848"/>
<area shape="rect" id="node38" href="ext4_2ialloc_8c.html#a77e48aa4d3820d339341058dbbc89d71" title="ext4_free_inode" alt="" coords="1504,821,1619,848"/>
<area shape="rect" id="node41" href="ext4_2ialloc_8c.html#a70de7e50a28d849ae744f31cc7ae7db2" title="ext4_validate_inode\l_bitmap" alt="" coords="1269,1302,1406,1343"/>
<area shape="rect" id="node43" href="ext4_2resize_8c.html#a3caf3263b0b8885a18369647bbc5d268" title="ext4_set_bitmap_checksums" alt="" coords="1241,1048,1433,1075"/>
</map>
</div>

</div>
</div>
<a id="a7ee8a0cec6071c2b1393be609afcda63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee8a0cec6071c2b1393be609afcda63">&#9670;&nbsp;</a></span>ext4_ind_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ext4_ind_truncate </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_cgraph.png" border="0" usemap="#indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_cgraph" alt=""/></div>
<map name="indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_cgraph" id="indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_cgraph">
<area shape="rect" id="node2" href="indirect_8c.html#a538a84ff7e7ad067b9e0ca0920e8983b" title="ext4_block_to_path" alt="" coords="192,1024,327,1051"/>
<area shape="rect" id="node3" href="extents__status_8c.html#a70a054c3c3e2e65cd6d0265c547759f8" title="ext4_es_remove_extent" alt="" coords="179,1075,340,1101"/>
<area shape="rect" id="node16" href="indirect_8c.html#a00ebefad2501d004ef3b3738b0251d83" title="ext4_free_data" alt="" coords="413,1412,521,1439"/>
<area shape="rect" id="node43" href="indirect_8c.html#ace368e7d58960fca281d2aad27473c03" title="ext4_find_shared" alt="" coords="199,1488,320,1515"/>
<area shape="rect" id="node49" href="indirect_8c.html#a486f94a562b7fa65afed2a64ef8dd6f9" title="ext4_free_branches" alt="" coords="191,1125,327,1152"/>
<area shape="rect" id="node4" href="extents__status_8c.html#a327c63ef64ff10f743aa5a168867b442" title="__es_remove_extent" alt="" coords="396,284,539,311"/>
<area shape="rect" id="node5" href="extents__status_8c.html#a135eae32abd1c7c18b9c8c3ec08ab9d2" title="__es_tree_search" alt="" coords="607,157,732,184"/>
<area shape="rect" id="node6" href="extents__status_8c.html#ab5dd31e66e4605653b8fd1c797922fa7" title="ext4_es_end" alt="" coords="830,157,926,184"/>
<area shape="rect" id="node7" href="extents__status_8h.html#a775d98da8ffccf6d97b2289cfef4e385" title="ext4_es_is_written" alt="" coords="813,233,943,260"/>
<area shape="rect" id="node8" href="extents__status_8h.html#a3eddcfd066f866b3d212f72c138be532" title="ext4_es_is_unwritten" alt="" coords="805,297,951,324"/>
<area shape="rect" id="node9" href="extents__status_8h.html#a501828682c0abccbb82d7ece9451e705" title="ext4_es_pblock" alt="" coords="613,411,726,437"/>
<area shape="rect" id="node10" href="extents__status_8h.html#a6c820f1c3489d87af204de3f8ce758c2" title="ext4_es_store_pblock\l_status" alt="" coords="595,462,744,503"/>
<area shape="rect" id="node11" href="extents__status_8h.html#aff960667fe870906066044b4766a59eb" title="ext4_es_status" alt="" coords="614,528,725,555"/>
<area shape="rect" id="node12" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="603,259,735,285"/>
<area shape="rect" id="node13" href="extents__status_8h.html#af66cd7b0600ad1763901740179be8e52" title="ext4_es_store_pblock" alt="" coords="803,348,953,375"/>
<area shape="rect" id="node14" href="extents__status_8c.html#abcba28426e734f70c4b6ab11e98ad528" title="__es_shrink" alt="" coords="623,5,715,32"/>
<area shape="rect" id="node15" href="extents__status_8c.html#aaed5a52e84c64a562ffb6d870c2cad82" title="ext4_es_free_extent" alt="" coords="599,56,739,83"/>
<area shape="rect" id="node17" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1076,1640,1131,1667"/>
<area shape="rect" id="node19" href="indirect_8c.html#aa87038b58ea000415732f73a015375fb" title="ext4_clear_blocks" alt="" coords="606,1177,733,1204"/>
<area shape="rect" id="node18" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1269,1640,1387,1667"/>
<area shape="rect" id="node20" href="ext4__jbd2_8h.html#a35ab556b109173fda3d1115d31f81ee1" title="ext4_should_journal_data" alt="" coords="793,1184,963,1211"/>
<area shape="rect" id="node21" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="1028,1589,1179,1616"/>
<area shape="rect" id="node22" href="indirect_8c.html#a15f8981413ee487f7632bf3014713653" title="try_to_extend_transaction" alt="" coords="792,772,964,799"/>
<area shape="rect" id="node26" href="truncate_8h.html#aacba0c57ccbce48fe5d7d9efca6c92c5" title="ext4_blocks_for_truncate" alt="" coords="1019,797,1187,824"/>
<area shape="rect" id="node27" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="801,973,955,1000"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#ae085990652c7f8fb3af734131731510d" title="ext4_truncate_restart\l_trans" alt="" coords="805,1118,951,1159"/>
<area shape="rect" id="node37" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="817,1260,939,1287"/>
<area shape="rect" id="node23" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="1265,747,1391,773"/>
<area shape="rect" id="node24" href="ext4__jbd2_8h.html#a1f4264a2f6f554a15afa7b120b04a659" title="ext4_handle_has_enough\l_credits" alt="" coords="1019,630,1188,671"/>
<area shape="rect" id="node25" href="ext4__jbd2_8h.html#a5abe3b6c88ef932325d222fb1d4db43a" title="ext4_journal_extend" alt="" coords="1034,696,1173,723"/>
<area shape="rect" id="node28" href="ext4_2inode_8c.html#a552b73d9ee8de05e1db350d7236e10fd" title="ext4_reserve_inode\l_write" alt="" coords="1036,966,1171,1007"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a871af54c003d0c27e4cf5632f131e1a7" title="ext4_try_to_expand\l_extra_isize" alt="" coords="1035,849,1171,890"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a58ee3792cc73e4507f2df8113459f701" title="ext4_mark_iloc_dirty" alt="" coords="1032,915,1175,941"/>
<area shape="rect" id="node32" href="ext4__jbd2_8h.html#a13ebc6694765b05a33e8b3e84b57f74b" title="ext4_journal_restart" alt="" coords="1035,1032,1171,1059"/>
<area shape="rect" id="node33" href="mballoc_8c.html#a66900dc648d49dbd76c2b7e1d4ae39b7" title="ext4_discard_preallocations" alt="" coords="1012,1184,1195,1211"/>
<area shape="rect" id="node34" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="1243,1159,1413,1185"/>
<area shape="rect" id="node35" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="1247,1324,1409,1351"/>
<area shape="rect" id="node36" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="1248,1510,1408,1551"/>
<area shape="rect" id="node38" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="1030,1336,1177,1363"/>
<area shape="rect" id="node39" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="1038,1387,1169,1413"/>
<area shape="rect" id="node40" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="1038,1488,1169,1515"/>
<area shape="rect" id="node41" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="1043,1235,1163,1261"/>
<area shape="rect" id="node42" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="1058,1285,1149,1312"/>
<area shape="rect" id="node44" href="indirect_8c.html#ad571d2ebb565c914ef4c9b329afd73a6" title="ext4_get_branch" alt="" coords="408,1488,527,1515"/>
<area shape="rect" id="node48" href="indirect_8c.html#a9de7ee6f7a66dd8e78c4aa7d0db889fb" title="all_zeroes" alt="" coords="427,1539,508,1565"/>
<area shape="rect" id="node45" href="indirect_8c.html#ab053a0bb3c41bab2ebae31eaac9a9c1c" title="add_chain" alt="" coords="629,1513,710,1540"/>
<area shape="rect" id="node46" href="buffer_8c.html#a7b0cdad45bd4bd8a2c448eb9aae7a036" title="bh_uptodate_or_lock" alt="" coords="598,1564,741,1591"/>
<area shape="rect" id="node47" href="buffer_8c.html#a9eecb9b0e2ab4cf8f375d735cba57288" title="bh_submit_read" alt="" coords="612,1463,727,1489"/>
<area shape="rect" id="node50" href="ext4__jbd2_8h.html#ad2c0ac58916f3f169ba3315ee74a028c" title="ext4_handle_is_aborted" alt="" coords="388,661,547,688"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_icgraph.png" border="0" usemap="#indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_icgraph" alt=""/></div>
<map name="indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_icgraph" id="indirect_8c_a7ee8a0cec6071c2b1393be609afcda63_icgraph">
<area shape="rect" id="node2" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="179,704,280,731"/>
<area shape="rect" id="node4" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="551,704,651,731"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="337,704,457,731"/>
<area shape="rect" id="node23" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1658,1243,1803,1269"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="352,755,443,781"/>
<area shape="rect" id="node41" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1221,140,1352,167"/>
<area shape="rect" id="node42" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="328,333,467,374"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="753,755,911,781"/>
<area shape="rect" id="node8" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="992,5,1145,32"/>
<area shape="rect" id="node12" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="770,880,894,907"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1249,817,1324,844"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1860,1087,1967,1113"/>
<area shape="rect" id="node27" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="754,981,910,1008"/>
<area shape="rect" id="node30" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="752,1184,912,1211"/>
<area shape="rect" id="node31" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="747,1235,917,1277"/>
<area shape="rect" id="node32" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="735,333,929,360"/>
<area shape="rect" id="node33" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1003,303,1134,329"/>
<area shape="rect" id="node34" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="747,435,917,477"/>
<area shape="rect" id="node35" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="735,384,929,411"/>
<area shape="rect" id="node36" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="769,501,895,528"/>
<area shape="rect" id="node37" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="779,603,885,629"/>
<area shape="rect" id="node38" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="749,704,915,731"/>
<area shape="rect" id="node39" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="771,1083,893,1109"/>
<area shape="rect" id="node6" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="990,689,1147,730"/>
<area shape="rect" id="node7" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="977,755,1160,781"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="1208,57,1365,98"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1649,27,1812,69"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="1413,64,1601,91"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="987,931,1150,957"/>
<area shape="rect" id="node26" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="994,880,1143,907"/>
<area shape="rect" id="node15" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="1434,868,1581,895"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="1447,645,1568,672"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="1430,767,1585,793"/>
<area shape="rect" id="node19" href="ext4_2super_8c.html#ab34ff9f99899cbd04747819c6848c4a4" title="ext4_statfs" alt="" coords="1464,817,1551,844"/>
<area shape="rect" id="node20" href="ext4_2ioctl_8c.html#aba6f8525ace6ac4297042deb8dce934e" title="swap_inode_boot_loader" alt="" coords="1425,703,1590,729"/>
<area shape="rect" id="node22" href="ext4_2ialloc_8c.html#a1982a264b61bdf54ef92728f40095a6a" title="ext4_orphan_get" alt="" coords="1448,1243,1567,1269"/>
<area shape="rect" id="node24" href="ext4_2resize_8c.html#aa6ebaba76cd3ee43cda4b589343fab85" title="ext4_group_add" alt="" coords="1450,977,1565,1004"/>
<area shape="rect" id="node25" href="ext4_2resize_8c.html#af61f6b95ffebb0c483a924651c5acd05" title="ext4_resize_fs" alt="" coords="1454,552,1561,579"/>
<area shape="rect" id="node21" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="1691,380,1770,407"/>
<area shape="rect" id="node28" href="ext4_2super_8c.html#a4bb939239f57cc9409bd7adf2d8d30dc" title="ext4_superblock_csum\l_verify" alt="" coords="1209,1050,1365,1091"/>
<area shape="rect" id="node29" href="ext4_2super_8c.html#a9204302ce0f5dce6aa7ed3aa6e209f77" title="ext4_superblock_csum_set" alt="" coords="978,1083,1159,1109"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="541,107,661,133"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="761,107,903,133"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="545,340,656,367"/>
<area shape="rect" id="node46" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="515,391,687,417"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="542,441,659,468"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="529,492,672,519"/>
<area shape="rect" id="node49" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="533,209,668,250"/>
<area shape="rect" id="node50" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="523,274,678,315"/>
</map>
</div>

</div>
</div>
<a id="a5f7c22051a96692690846dc4429cc3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f7c22051a96692690846dc4429cc3c7">&#9670;&nbsp;</a></span>ext4_splice_branch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ext4_splice_branch </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structext4__allocation__request.html">ext4_allocation_request</a> *&#160;</td>
          <td class="paramname"><em>ar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIndirect.html">Indirect</a> *&#160;</td>
          <td class="paramname"><em>where</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ext4_splice_branch - splice the allocated branch onto inode. : handle for this transaction : owner : (logical) number of block we are adding : chain of indirect blocks (with a missing link - see ext4_alloc_branch) : location of missing link : number of indirect blocks we are adding : number of direct blocks we are adding</p>
<p>This function fills the missing link and does all housekeeping needed in inode (-&gt;i_blocks, etc.). In case of success we end up with the full chain to new block and return 0. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a5f7c22051a96692690846dc4429cc3c7_cgraph.png" border="0" usemap="#indirect_8c_a5f7c22051a96692690846dc4429cc3c7_cgraph" alt=""/></div>
<map name="indirect_8c_a5f7c22051a96692690846dc4429cc3c7_cgraph" id="indirect_8c_a5f7c22051a96692690846dc4429cc3c7_cgraph">
<area shape="rect" id="node2" href="ext4__jbd2_8h.html#a3097f2ddc97f9ccd92f4e79153372656" title="ext4_mark_inode_dirty" alt="" coords="188,197,341,224"/>
<area shape="rect" id="node14" href="mballoc_8c.html#a1b082a750dc1a35e494a1e4446145846" title="ext4_free_blocks" alt="" coords="204,897,325,924"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a552b73d9ee8de05e1db350d7236e10fd" title="ext4_reserve_inode\l_write" alt="" coords="419,103,554,145"/>
<area shape="rect" id="node6" href="ext4_2inode_8c.html#a871af54c003d0c27e4cf5632f131e1a7" title="ext4_try_to_expand\l_extra_isize" alt="" coords="419,241,555,282"/>
<area shape="rect" id="node12" href="ext4_2inode_8c.html#a58ee3792cc73e4507f2df8113459f701" title="ext4_mark_iloc_dirty" alt="" coords="415,52,558,79"/>
<area shape="rect" id="node4" href="ext4_8h.html#a79d9f5f3b67b075c3c2078ecda6dae44" title="ext4_forced_shutdown" alt="" coords="640,56,793,83"/>
<area shape="rect" id="node5" href="ext4_2inode_8c.html#a2a6bdbd0d503d15641be3f78b31baa71" title="ext4_get_inode_loc" alt="" coords="879,441,1013,468"/>
<area shape="rect" id="node7" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="653,628,780,655"/>
<area shape="rect" id="node8" href="jbd2_2transaction_8c.html#a55c019b6a7a78ba926ee5fb7b86c779d" title="jbd2_journal_extend" alt="" coords="648,157,785,184"/>
<area shape="rect" id="node9" href="ext4_2xattr_8h.html#a7ff1de30fb9ada5237249ff42cc98b53" title="ext4_write_trylock\l_xattr" alt="" coords="653,209,781,250"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#af71a5db86bdd0aa707e9cae04bd96714" title="__ext4_expand_extra\l_isize" alt="" coords="643,274,790,315"/>
<area shape="rect" id="node11" href="ext4_2xattr_8h.html#a31b98558413e4c1c3a51708ab71da323" title="ext4_write_unlock_xattr" alt="" coords="637,340,797,367"/>
<area shape="rect" id="node13" href="ext4_2inode_8c.html#a4aa92e4f6ca382fb11cb79d7ed7c65b8" title="ext4_do_update_inode" alt="" coords="641,5,793,32"/>
<area shape="rect" id="node15" href="block__validity_8c.html#a73d74bb851009ad187b9673740e079cd" title="ext4_data_block_valid" alt="" coords="871,644,1021,671"/>
<area shape="rect" id="node16" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="919,1404,973,1431"/>
<area shape="rect" id="node18" href="ext4_2balloc_8c.html#a76c7f04d0e6fdcb93af845697cb3302d" title="ext4_get_group_no_and\l_offset" alt="" coords="866,1101,1026,1142"/>
<area shape="rect" id="node19" href="ext4_2balloc_8c.html#a377bc98246eb5fb4b912df26d05feab2" title="ext4_read_block_bitmap" alt="" coords="865,897,1027,924"/>
<area shape="rect" id="node21" href="ext4_2balloc_8c.html#a25075b6d3e6db4fea13fab4092f04f40" title="ext4_get_group_desc" alt="" coords="1312,831,1459,857"/>
<area shape="rect" id="node22" href="ext4_2super_8c.html#a14cdb5bb2b294d30fad533a4fe5c58c1" title="ext4_block_bitmap" alt="" coords="1320,999,1451,1025"/>
<area shape="rect" id="node24" href="ext4_2super_8c.html#a2fd84d1fa874156fb1b4099020683564" title="ext4_inode_bitmap" alt="" coords="881,695,1011,721"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#a5f20c2693f541db677d3a3b56dacf895" title="ext4_inode_table" alt="" coords="886,745,1006,772"/>
<area shape="rect" id="node26" href="mballoc_8c.html#ac73406d706988225c4beda401d5a248c" title="mb_test_bit" alt="" coords="901,1277,991,1304"/>
<area shape="rect" id="node28" href="mballoc_8c.html#a2fb2f0248e76da3d409f59efd9f9707a" title="ext4_mb_load_buddy_gfp" alt="" coords="401,1049,572,1076"/>
<area shape="rect" id="node32" href="ext4__jbd2_8h.html#affc77077950f822fa946a2691fd37b4a" title="ext4_should_writeback_data" alt="" coords="393,1303,580,1329"/>
<area shape="rect" id="node34" href="mballoc_8c.html#a6efc7af38b68dac46f74e320a2408eaa" title="mb_clear_bits" alt="" coords="895,1673,997,1700"/>
<area shape="rect" id="node36" href="mballoc_8c.html#a629d2b832ed62ddd5e8de84ac4b3a4e5" title="ext4_mb_free_metadata" alt="" coords="405,695,568,721"/>
<area shape="rect" id="node38" href="mballoc_8c.html#a264c67697cef1472e23eafb304a30bce" title="ext4_issue_discard" alt="" coords="419,1572,554,1599"/>
<area shape="rect" id="node39" href="mballoc_8c.html#ad6cb694a8dfc088c304af6adda0b18a7" title="mb_free_blocks" alt="" coords="429,1521,544,1548"/>
<area shape="rect" id="node45" href="ext4_2super_8c.html#acde7ca6fb08b2c3413dde40c235670e9" title="ext4_free_group_clusters" alt="" coords="862,492,1030,519"/>
<area shape="rect" id="node46" href="ext4_2super_8c.html#acb0ccbdca2f749f5116758688a87a8f1" title="ext4_free_group_clusters_set" alt="" coords="849,543,1043,569"/>
<area shape="rect" id="node47" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="389,948,584,975"/>
<area shape="rect" id="node49" href="ext4_2super_8c.html#a3fe055bddf9ac382c7790bd740dfc0a6" title="ext4_group_desc_csum_set" alt="" coords="853,593,1039,620"/>
<area shape="rect" id="node50" href="mballoc_8c.html#a895096684e2beb921a56a36f312f14cb" title="ext4_mb_unload_buddy" alt="" coords="407,593,566,620"/>
<area shape="rect" id="node17" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1113,1404,1231,1431"/>
<area shape="rect" id="node20" href="ext4_2balloc_8c.html#a736740fdf9d8ed52c52d54007166e06d" title="ext4_read_block_bitmap\l_nowait" alt="" coords="1091,933,1253,974"/>
<area shape="rect" id="node23" href="ext4_2balloc_8c.html#aa8a5937c22903950935bdcc44293ba56" title="ext4_wait_block_bitmap" alt="" coords="1091,864,1253,891"/>
<area shape="rect" id="node27" href="mballoc_8c.html#a5c8d02c67a5c9809c77b0b6eeafbd608" title="mb_correct_addr_and_bit" alt="" coords="1301,1433,1469,1460"/>
<area shape="rect" id="node29" href="mballoc_8c.html#a1e78349b9364a27131c73d754133df02" title="ext4_mb_init_group" alt="" coords="649,999,784,1025"/>
<area shape="rect" id="node30" href="mballoc_8c.html#a26e9f2bb187eecd8d6b936e337da662a" title="ext4_mb_init_cache" alt="" coords="877,1049,1015,1076"/>
<area shape="rect" id="node31" href="mballoc_8c.html#a753d51654905ee4069283da52149b319" title="mb_cmp_bitmaps" alt="" coords="654,1201,779,1228"/>
<area shape="rect" id="node33" href="ext4__jbd2_8h.html#a2c994e4f6e8a7a887eaa53f810e001a6" title="ext4_inode_journal_mode" alt="" coords="632,1303,801,1329"/>
<area shape="rect" id="node35" href="mballoc_8c.html#a9d7fa8cf7aa12092d4697d212674eea6" title="mb_clear_bit" alt="" coords="1124,1564,1220,1591"/>
<area shape="rect" id="node37" href="mballoc_8c.html#a8bce472ad7df579c99f3ebd121c39fe4" title="ext4_try_merge_freed\l_extent" alt="" coords="643,679,791,721"/>
<area shape="rect" id="node40" href="mballoc_8c.html#a0cf568b41ea04454c6bc6e5e7db7cba6" title="mb_free_blocks_double" alt="" coords="637,1521,796,1548"/>
<area shape="rect" id="node41" href="mballoc_8c.html#afbc972dbc56f6c04adc28710c3bc3b12" title="mb_test_and_clear_bits" alt="" coords="637,1724,797,1751"/>
<area shape="rect" id="node42" href="mballoc_8c.html#ae59d25b684722fd8c67ffb9d71aa4d57" title="mb_regenerate_buddy" alt="" coords="641,1572,792,1599"/>
<area shape="rect" id="node43" href="mballoc_8c.html#a87b13c1e21d05e11d5c2f3572f65d08f" title="mb_buddy_mark_free" alt="" coords="643,1673,790,1700"/>
<area shape="rect" id="node44" href="mballoc_8c.html#aaa1d8e0e00d754591a9e7975bdb44cad" title="mb_set_largest_free\l_order" alt="" coords="647,1455,787,1497"/>
<area shape="rect" id="node48" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="667,897,767,924"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a5f7c22051a96692690846dc4429cc3c7_icgraph.png" border="0" usemap="#indirect_8c_a5f7c22051a96692690846dc4429cc3c7_icgraph" alt=""/></div>
<map name="indirect_8c_a5f7c22051a96692690846dc4429cc3c7_icgraph" id="indirect_8c_a5f7c22051a96692690846dc4429cc3c7_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#af1a6de58faf07728fd7ca5210966069b" title="ext4_ind_map_blocks" alt="" coords="188,923,336,950"/>
<area shape="rect" id="node3" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="397,426,521,453"/>
<area shape="rect" id="node11" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1249,553,1349,579"/>
<area shape="rect" id="node47" href="ext4_2inode_8c.html#af710e5c0c2f08c518121356172e776c7" title="ext4_da_map_blocks" alt="" coords="387,949,532,975"/>
<area shape="rect" id="node49" href="extents__status_8c.html#a7c596863552efb0dd50d091dba9d7919" title="ext4_es_try_to_merge\l_right" alt="" coords="384,1000,535,1041"/>
<area shape="rect" id="node4" href="ext4_2xattr_8c.html#a0da9ac7cd50dc9b3a5797cd48529a09f" title="ext4_xattr_inode_write" alt="" coords="1018,71,1171,98"/>
<area shape="rect" id="node6" href="ext4_2dir_8c.html#af726159d8eeac53a920842050c18a4b1" title="ext4_readdir" alt="" coords="1253,110,1346,137"/>
<area shape="rect" id="node7" href="ext4_2file_8c.html#a204eaa5ad14c8c48a7eb14fecebccac0" title="ext4_overwrite_io" alt="" coords="603,251,727,278"/>
<area shape="rect" id="node9" href="ext4_2inode_8c.html#afac1eae553a568c68230f39ef401ad65" title="_ext4_get_block" alt="" coords="606,713,723,739"/>
<area shape="rect" id="node28" href="readpage_8c.html#afe6b4cfa27d4b1e8ced8a89942987309" title="ext4_mpage_readpages" alt="" coords="1015,578,1175,605"/>
<area shape="rect" id="node34" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="833,173,923,199"/>
<area shape="rect" id="node37" href="ext4_2inode_8c.html#a5b480472578143eadeaedf1c6086278f" title="mpage_map_one_extent" alt="" coords="583,311,747,338"/>
<area shape="rect" id="node39" href="ext4_2inode_8c.html#a6ae9735ea939ca2987079069cc0d9a82" title="ext4_iomap_begin" alt="" coords="601,527,728,554"/>
<area shape="rect" id="node40" href="ext4_2extents_8c.html#a21cc82d919196bce923ca5f2e3c44c5f" title="ext4_alloc_file_blocks" alt="" coords="589,426,740,453"/>
<area shape="rect" id="node43" href="ext4_2extents_8c.html#a56a70bbb1d8a11ce9c4917527fd0bb6f" title="ext4_convert_unwritten\l_extents" alt="" coords="799,360,957,401"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a946c9fc4f304427dccd4bf98f3590733" title="ext4_convert_inline\l_data_nolock" alt="" coords="597,629,732,671"/>
<area shape="rect" id="node5" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="1661,64,1824,105"/>
<area shape="rect" id="node8" href="ext4_2file_8c.html#a2d978096b5fc5b1e10ae256d93886822" title="ext4_file_write_iter" alt="" coords="813,243,943,270"/>
<area shape="rect" id="node10" href="ext4_2inode_8c.html#a63f4c91b1571fdd8ca2343267ce6ac9f" title="ext4_get_block" alt="" coords="823,629,933,655"/>
<area shape="rect" id="node29" href="ext4_2inode_8c.html#a2636d0dc8b3ebe9e675f5243f3f6d24e" title="ext4_get_block_unwritten" alt="" coords="1009,679,1180,706"/>
<area shape="rect" id="node30" href="ext4_2inode_8c.html#a1079f7cb8e34d29f0a5814fb0faf3898" title="ext4_get_block_trans" alt="" coords="805,730,951,757"/>
<area shape="rect" id="node31" href="ext4_2inode_8c.html#a1d9ca973f43bcbb0d42294d1401b946d" title="ext4_dio_get_block" alt="" coords="1027,730,1162,757"/>
<area shape="rect" id="node33" href="ext4_2inode_8c.html#af9c89d919f4d0edbc83d181c583aeaf6" title="ext4_dio_get_block\l_overwrite" alt="" coords="811,832,945,873"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1437,299,1595,326"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1439,97,1593,123"/>
<area shape="rect" id="node14" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1454,350,1578,377"/>
<area shape="rect" id="node15" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="1479,451,1553,478"/>
<area shape="rect" id="node16" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="1689,426,1796,453"/>
<area shape="rect" id="node17" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1438,502,1594,529"/>
<area shape="rect" id="node18" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1436,553,1596,579"/>
<area shape="rect" id="node19" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1431,604,1601,645"/>
<area shape="rect" id="node20" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1419,795,1613,822"/>
<area shape="rect" id="node21" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1677,733,1808,759"/>
<area shape="rect" id="node22" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1431,847,1601,888"/>
<area shape="rect" id="node23" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1419,670,1613,697"/>
<area shape="rect" id="node24" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1453,913,1579,939"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1463,147,1569,174"/>
<area shape="rect" id="node26" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1433,198,1599,225"/>
<area shape="rect" id="node27" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1455,249,1577,275"/>
<area shape="rect" id="node32" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1228,730,1371,757"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1051,122,1138,149"/>
<area shape="rect" id="node36" href="ext4_2inode_8c.html#a8fc454656f2b55dbe236a9a679a39a59" title="ext4_bread_batch" alt="" coords="1032,223,1157,250"/>
<area shape="rect" id="node38" href="ext4_2inode_8c.html#a5d5c0f1ccb2f9411fc0a32761b8b5086" title="mpage_map_and_submit\l_extent" alt="" coords="795,295,961,336"/>
<area shape="rect" id="node41" href="ext4_2extents_8c.html#a3ec84ef7a0909231930de67ff5bb3372" title="ext4_zero_range" alt="" coords="819,477,937,503"/>
<area shape="rect" id="node42" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1043,477,1146,503"/>
<area shape="rect" id="node44" href="page-io_8c.html#a87c0cd222e6c4a69faa13f5f532aea8e" title="ext4_end_io" alt="" coords="1049,375,1141,402"/>
<area shape="rect" id="node45" href="page-io_8c.html#a77f25c7f513620cab7320117896f832a" title="ext4_put_io_end" alt="" coords="1036,274,1153,301"/>
<area shape="rect" id="node48" href="ext4_2inode_8c.html#a0ff2a4bc549a17d9c97fb421e4f87944" title="ext4_da_get_block_prep" alt="" coords="583,949,746,975"/>
<area shape="rect" id="node50" href="extents__status_8c.html#ad14eddc0bdcf54c9c4365f5b623e18f5" title="__es_insert_extent" alt="" coords="599,1007,731,1034"/>
</map>
</div>

</div>
</div>
<a id="a15f8981413ee487f7632bf3014713653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f8981413ee487f7632bf3014713653">&#9670;&nbsp;</a></span>try_to_extend_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_to_extend_transaction </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a15f8981413ee487f7632bf3014713653_cgraph.png" border="0" usemap="#indirect_8c_a15f8981413ee487f7632bf3014713653_cgraph" alt=""/></div>
<map name="indirect_8c_a15f8981413ee487f7632bf3014713653_cgraph" id="indirect_8c_a15f8981413ee487f7632bf3014713653_cgraph">
<area shape="rect" id="node2" href="ext4__jbd2_8h.html#a78c49cee36d540815bf9f71aa8c2101c" title="ext4_handle_valid" alt="" coords="448,36,575,62"/>
<area shape="rect" id="node3" href="ext4__jbd2_8h.html#a1f4264a2f6f554a15afa7b120b04a659" title="ext4_handle_has_enough\l_credits" alt="" coords="225,28,395,70"/>
<area shape="rect" id="node4" href="ext4__jbd2_8h.html#a5abe3b6c88ef932325d222fb1d4db43a" title="ext4_journal_extend" alt="" coords="241,94,379,121"/>
<area shape="rect" id="node7" href="truncate_8h.html#aacba0c57ccbce48fe5d7d9efca6c92c5" title="ext4_blocks_for_truncate" alt="" coords="226,145,394,172"/>
<area shape="rect" id="node5" href="jbd2_2transaction_8c.html#a55c019b6a7a78ba926ee5fb7b86c779d" title="jbd2_journal_extend" alt="" coords="443,94,580,121"/>
<area shape="rect" id="node6" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="628,94,695,121"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="indirect_8c_a15f8981413ee487f7632bf3014713653_icgraph.png" border="0" usemap="#indirect_8c_a15f8981413ee487f7632bf3014713653_icgraph" alt=""/></div>
<map name="indirect_8c_a15f8981413ee487f7632bf3014713653_icgraph" id="indirect_8c_a15f8981413ee487f7632bf3014713653_icgraph">
<area shape="rect" id="node2" href="indirect_8c.html#aa87038b58ea000415732f73a015375fb" title="ext4_clear_blocks" alt="" coords="225,739,352,765"/>
<area shape="rect" id="node4" href="indirect_8c.html#a486f94a562b7fa65afed2a64ef8dd6f9" title="ext4_free_branches" alt="" coords="556,789,692,816"/>
<area shape="rect" id="node3" href="indirect_8c.html#a00ebefad2501d004ef3b3738b0251d83" title="ext4_free_data" alt="" coords="400,739,508,765"/>
<area shape="rect" id="node5" href="indirect_8c.html#a7ee8a0cec6071c2b1393be609afcda63" title="ext4_ind_truncate" alt="" coords="759,688,884,715"/>
<area shape="rect" id="node48" href="indirect_8c.html#ad71d362aaa6812eeb879dc6692f4a0e4" title="ext4_ind_remove_space" alt="" coords="740,789,903,816"/>
<area shape="rect" id="node6" href="ext4_2inode_8c.html#a987fcff16f39fbadbc0abdf18c80f1af" title="ext4_truncate" alt="" coords="951,536,1052,563"/>
<area shape="rect" id="node8" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="1529,637,1629,664"/>
<area shape="rect" id="node7" href="ext4_2inode_8c.html#acac39b08982bff2a03597fcc2a451f9b" title="ext4_evict_inode" alt="" coords="1109,637,1229,664"/>
<area shape="rect" id="node35" href="ext4_2inode_8c.html#a7ab300cca2dea799812237891ba018fa" title="ext4_setattr" alt="" coords="1124,536,1215,563"/>
<area shape="rect" id="node36" href="ext4_2super_8c.html#a1f0ee2abbc1b34a5d29926ce752ba7aa" title="ext4_orphan_cleanup" alt="" coords="1507,5,1652,32"/>
<area shape="rect" id="node37" href="ext4_2ioctl_8c.html#af9d2bdea020f74489aad9f3baa198f58" title="ext4_ioctl_setflags" alt="" coords="1104,587,1235,613"/>
<area shape="rect" id="node39" href="truncate_8h.html#a5950dc5a24eadd1a68de049490e82a35" title="ext4_truncate_failed\l_write" alt="" coords="1100,245,1239,286"/>
<area shape="rect" id="node9" href="ext4_2xattr_8c.html#a2c7661d3da8f12c429b520df3e8554a9" title="ext4_xattr_block_csum" alt="" coords="1719,224,1876,251"/>
<area shape="rect" id="node12" href="ext4_2xattr_8c.html#aa899285452685704f6d2f8842c660872" title="ext4_xattr_inode_hash" alt="" coords="1957,107,2111,133"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#a428518e650c9871371bf5b597e70e78e" title="ext4_inode_csum" alt="" coords="1735,348,1859,375"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#a60558e0c1383fbb906447bfaccb225e0" title="ext4_iget" alt="" coords="2215,407,2289,433"/>
<area shape="rect" id="node21" href="ext4_2super_8c.html#afbd5bc21c085ba46199b01d9c906c0c4" title="ext4_fill_super" alt="" coords="2419,203,2526,229"/>
<area shape="rect" id="node24" href="ext4_2super_8c.html#a25af757e94b4002315ff457cd12a7f9a" title="ext4_superblock_csum" alt="" coords="1719,473,1875,500"/>
<area shape="rect" id="node25" href="ext4_2super_8c.html#ada47feb58bede348343f55ed2a229b4b" title="ext4_group_desc_csum" alt="" coords="1717,524,1877,551"/>
<area shape="rect" id="node26" href="ext4_2bitmap_8c.html#a5c7c7b628f94a7b1c2616be7431881e9" title="ext4_inode_bitmap_csum\l_verify" alt="" coords="1712,575,1883,617"/>
<area shape="rect" id="node27" href="ext4_2bitmap_8c.html#ae9e0030a78f599dc570c9997a47c6416" title="ext4_inode_bitmap_csum_set" alt="" coords="1700,641,1895,668"/>
<area shape="rect" id="node28" href="ext4_2ialloc_8c.html#a65b58ad4c4f8f84f9d905ff4d19e0b22" title="__ext4_new_inode" alt="" coords="1969,724,2099,751"/>
<area shape="rect" id="node29" href="ext4_2bitmap_8c.html#a087a814d9bb1ded95d8fe25808bf5de9" title="ext4_block_bitmap_csum\l_verify" alt="" coords="1712,818,1883,859"/>
<area shape="rect" id="node30" href="ext4_2bitmap_8c.html#ae6104efa98f862d2d5a68ebcd3b32967" title="ext4_block_bitmap_csum_set" alt="" coords="1700,692,1895,719"/>
<area shape="rect" id="node31" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1735,884,1860,911"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="1744,935,1851,961"/>
<area shape="rect" id="node33" href="ext4_2extents_8c.html#a5f85cdea5483c90bb1dec6ef29fb37b9" title="ext4_extent_block_csum" alt="" coords="1714,72,1881,99"/>
<area shape="rect" id="node34" href="mmp_8c.html#ad41c587259b93d0d43722fc5f460d130" title="ext4_mmp_csum" alt="" coords="1736,173,1859,200"/>
<area shape="rect" id="node10" href="ext4_2xattr_8c.html#abd6251df5339b7dbf9e44b6b87ee48bd" title="ext4_xattr_block_csum\l_verify" alt="" coords="1955,209,2113,250"/>
<area shape="rect" id="node11" href="ext4_2xattr_8c.html#a144bbe2c81ca62c3342c69b5c51eeb08" title="ext4_xattr_block_csum_set" alt="" coords="1943,157,2125,184"/>
<area shape="rect" id="node13" href="ext4_2xattr_8c.html#af2ad56886d37bfb906e051ad38a70842" title="ext4_xattr_inode_verify\l_hashes" alt="" coords="2173,195,2331,237"/>
<area shape="rect" id="node15" href="ext4_2xattr_8c.html#a7b341b7d5087c4fab24be0248ea8e8c7" title="ext4_xattr_inode_lookup\l_create" alt="" coords="2615,179,2777,221"/>
<area shape="rect" id="node14" href="ext4_2xattr_8c.html#ace19e64d42dfe77c690680e95d1ead66" title="ext4_xattr_inode_cache_find" alt="" coords="2379,253,2567,280"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#a4f2067c7d4a24e093d42151357b9bf1f" title="ext4_inode_csum_verify" alt="" coords="1953,376,2115,403"/>
<area shape="rect" id="node23" href="ext4_2inode_8c.html#a7080cdf072b545634b6e577e7467d670" title="ext4_inode_csum_set" alt="" coords="1959,325,2109,352"/>
<area shape="rect" id="node19" href="ext4_2xattr_8c.html#aaaaa0f9996ec0a85cea4adbbe67dd03e" title="ext4_xattr_inode_iget" alt="" coords="2399,381,2546,408"/>
<area shape="rect" id="node20" href="ext4_2inode_8c.html#afdd173ab9fb51cbe466532497f62922c" title="ext4_iget_normal" alt="" coords="2412,751,2533,777"/>
<area shape="rect" id="node22" href="ext4_2super_8c.html#a5df878936bc8e7a996a8193f0513c41c" title="ext4_get_journal_inode" alt="" coords="2395,432,2550,459"/>
<area shape="rect" id="node38" href="ext4_2ioctl_8c.html#a2fa5ddb556e7609a87c658cf20fa8950" title="ext4_ioctl" alt="" coords="1333,587,1412,613"/>
<area shape="rect" id="node40" href="ext4_2inode_8c.html#a517ef86874a2c9512c6382d3f7af8a91" title="ext4_write_begin" alt="" coords="1313,49,1433,76"/>
<area shape="rect" id="node41" href="ext4_2inode_8c.html#ab9a39b1976e22bcdb37695dd4d4f37e5" title="ext4_da_write_begin" alt="" coords="1509,75,1650,101"/>
<area shape="rect" id="node42" href="ext4_2inode_8c.html#ae215ae8947e91c6e11de95beef82d18d" title="ext4_write_end" alt="" coords="1317,151,1428,177"/>
<area shape="rect" id="node43" href="ext4_2inode_8c.html#ab687ea3b87769c2bc7b5f97f9eaef329" title="ext4_journalled_write_end" alt="" coords="1287,201,1459,228"/>
<area shape="rect" id="node44" href="ext4_2inode_8c.html#a218cdf83b7abb5b786b250f624721499" title="ext4_iomap_end" alt="" coords="1314,252,1431,279"/>
<area shape="rect" id="node45" href="ext4_2inode_8c.html#a33acb88c3491f6a3b92cc45fe78064df" title="ext4_direct_IO_write" alt="" coords="1301,303,1444,329"/>
<area shape="rect" id="node46" href="ext4_2inline_8c.html#a0dea19a5aa0904fb55b398868b13536a" title="ext4_convert_inline\l_data_to_extent" alt="" coords="1305,354,1440,395"/>
<area shape="rect" id="node47" href="ext4_2inline_8c.html#a70ab297665998caf260fd390dbed35c9" title="ext4_da_convert_inline\l_data_to_extent" alt="" coords="1295,419,1450,461"/>
<area shape="rect" id="node49" href="ext4_2inode_8c.html#af0d589d62be2d6bf2b500515ffb7d5ed" title="ext4_punch_hole" alt="" coords="1109,789,1229,816"/>
<area shape="rect" id="node50" href="ext4_2extents_8c.html#a8ac3857579969f564aaa22af517ad909" title="ext4_fallocate" alt="" coords="1321,739,1424,765"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1fe01efdd94ac2d899d74fcd8796118c.html">ext4</a></li><li class="navelem"><a class="el" href="indirect_8c.html">indirect.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
