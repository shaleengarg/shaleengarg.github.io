<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/segment.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nilfs2_2segment_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">segment.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &lt;linux/bitops.h&gt;</code><br />
<code>#include &lt;linux/bio.h&gt;</code><br />
<code>#include &lt;linux/completion.h&gt;</code><br />
<code>#include &lt;linux/blkdev.h&gt;</code><br />
<code>#include &lt;linux/backing-dev.h&gt;</code><br />
<code>#include &lt;linux/freezer.h&gt;</code><br />
<code>#include &lt;linux/kthread.h&gt;</code><br />
<code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &lt;linux/pagevec.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/sched/signal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nilfs_8h_source.html">nilfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btnode_8h_source.html">btnode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page_8h_source.html">page.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2segment_8h_source.html">segment.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sufile_8h_source.html">sufile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cpfile_8h_source.html">cpfile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ifile_8h_source.html">ifile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="segbuf_8h_source.html">segbuf.h</a>&quot;</code><br />
<code>#include &lt;trace/events/nilfs2.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for segment.c:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c__incl.png" border="0" usemap="#nilfs2_2segment_8c" alt=""/></div>
<map name="nilfs2_2segment_8c" id="nilfs2_2segment_8c">
<area shape="rect" id="node16" href="nilfs_8h.html" title="nilfs.h" alt="" coords="989,304,1046,331"/>
<area shape="rect" id="node29" href="btnode_8h.html" title="btnode.h" alt="" coords="1877,379,1949,405"/>
<area shape="rect" id="node30" href="page_8h.html" title="page.h" alt="" coords="1736,229,1797,256"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html" title="segment.h" alt="" coords="447,229,529,256"/>
<area shape="rect" id="node33" href="sufile_8h.html" title="sufile.h" alt="" coords="1824,80,1888,107"/>
<area shape="rect" id="node36" href="cpfile_8h.html" title="cpfile.h" alt="" coords="147,453,211,480"/>
<area shape="rect" id="node37" href="ifile_8h.html" title="ifile.h" alt="" coords="1387,80,1440,107"/>
<area shape="rect" id="node38" href="segbuf_8h.html" title="segbuf.h" alt="" coords="2075,80,2147,107"/>
<area shape="rect" id="node21" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="1160,379,1243,405"/>
<area shape="rect" id="node26" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="493,379,558,405"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="563,453,623,480"/>
<area shape="rect" id="node28" href="dat_8h.html" title="dat.h" alt="" coords="437,453,488,480"/>
<area shape="rect" id="node34" href="mdt_8h.html" title="mdt.h" alt="" coords="1613,155,1667,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__segctor__wait__request.html">nilfs_segctor_wait_request</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5c69bcf918e32b83ee2e1e1d2a1782cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a5c69bcf918e32b83ee2e1e1d2a1782cc">SC_N_INODEVEC</a>&#160;&#160;&#160;16   /* <a class="el" href="cifspdu_8h.html#afee99cfbf88e335aaa3094422618ae5e">Size</a> of locally allocated <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> vector */</td></tr>
<tr class="separator:a5c69bcf918e32b83ee2e1e1d2a1782cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc803a1271e826c8cd7644ede00a5a11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#afc803a1271e826c8cd7644ede00a5a11">SC_MAX_SEGDELTA</a></td></tr>
<tr class="separator:afc803a1271e826c8cd7644ede00a5a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40473b47b4871fa538a0fa131f94e774"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a40473b47b4871fa538a0fa131f94e774">CREATE_TRACE_POINTS</a></td></tr>
<tr class="separator:a40473b47b4871fa538a0fa131f94e774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae06d2dacb71c17ab52d0909c9d8240"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a7ae06d2dacb71c17ab52d0909c9d8240">NILFS_CF_NODE</a>&#160;&#160;&#160;0x0001	/* Collecting node blocks */</td></tr>
<tr class="separator:a7ae06d2dacb71c17ab52d0909c9d8240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c72589673b5e873b73756f790d50e51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a4c72589673b5e873b73756f790d50e51">NILFS_CF_IFILE_STARTED</a>&#160;&#160;&#160;0x0002	/* IFILE stage has started */</td></tr>
<tr class="separator:a4c72589673b5e873b73756f790d50e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4206d8bae4241a68777a8d20ddb4fa84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a4206d8bae4241a68777a8d20ddb4fa84">NILFS_CF_SUFREED</a>&#160;&#160;&#160;0x0004	/* segment usages has been freed */</td></tr>
<tr class="separator:a4206d8bae4241a68777a8d20ddb4fa84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddd66e26c2a875c83f37c1325eb8146"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a1ddd66e26c2a875c83f37c1325eb8146">NILFS_CF_HISTORY_MASK</a>&#160;&#160;&#160;(<a class="el" href="nilfs2_2segment_8c.html#a4c72589673b5e873b73756f790d50e51">NILFS_CF_IFILE_STARTED</a> | <a class="el" href="nilfs2_2segment_8c.html#a4206d8bae4241a68777a8d20ddb4fa84">NILFS_CF_SUFREED</a>)</td></tr>
<tr class="separator:a1ddd66e26c2a875c83f37c1325eb8146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff26f9adcc94930145a778710489ea1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aeff26f9adcc94930145a778710489ea1">nilfs_cnt32_gt</a>(a,  b)</td></tr>
<tr class="separator:aeff26f9adcc94930145a778710489ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc68085c20fbb1f5208fe5aa991b5066"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#acc68085c20fbb1f5208fe5aa991b5066">nilfs_cnt32_ge</a>(a,  b)</td></tr>
<tr class="separator:acc68085c20fbb1f5208fe5aa991b5066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7f9ac4c93bdd4697accedd48a278b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a8d7f9ac4c93bdd4697accedd48a278b0">nilfs_cnt32_lt</a>(a,  b)&#160;&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#aeff26f9adcc94930145a778710489ea1">nilfs_cnt32_gt</a>(b, a)</td></tr>
<tr class="separator:a8d7f9ac4c93bdd4697accedd48a278b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e5afaf931f017c7124866ec51c0305"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a84e5afaf931f017c7124866ec51c0305">nilfs_cnt32_le</a>(a,  b)&#160;&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#acc68085c20fbb1f5208fe5aa991b5066">nilfs_cnt32_ge</a>(b, a)</td></tr>
<tr class="separator:a84e5afaf931f017c7124866ec51c0305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9982fa57a4c78e18fb8b5d7b4afef6e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a9982fa57a4c78e18fb8b5d7b4afef6e3">FLUSH_FILE_BIT</a>&#160;&#160;&#160;(0x1) /* data file only */</td></tr>
<tr class="separator:a9982fa57a4c78e18fb8b5d7b4afef6e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc79bda19ffe0b589ef5f50787a7008"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#addc79bda19ffe0b589ef5f50787a7008">FLUSH_DAT_BIT</a>&#160;&#160;&#160;BIT(NILFS_DAT_INO) /* DAT only */</td></tr>
<tr class="separator:addc79bda19ffe0b589ef5f50787a7008"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6f202bbbced0e3a7de5dc2d9029b29b7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="nilfs2_2segment_8c.html#a6f202bbbced0e3a7de5dc2d9029b29b7a3992011d07f8f4605a43f43afae2db58">SC_LSEG_SR</a> = 1, 
<a class="el" href="nilfs2_2segment_8c.html#a6f202bbbced0e3a7de5dc2d9029b29b7afdacba1dce05c98be652779aa53b5b5e">SC_LSEG_DSYNC</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a6f202bbbced0e3a7de5dc2d9029b29b7a7c800f53d6a39390f0c49cad622d91d1">SC_FLUSH_FILE</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a6f202bbbced0e3a7de5dc2d9029b29b7a15f473f0eb43a83783d8805387293497">SC_FLUSH_DAT</a>
 }</td></tr>
<tr class="separator:a6f202bbbced0e3a7de5dc2d9029b29b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6a8ceda748c82eca58fbab436ca300"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300a48c52f95e679e06546b3cd52f2e2eab4">NILFS_ST_INIT</a> = 0, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300ad1ad08a3b0b0fdc92280b3a1fb011c70">NILFS_ST_GC</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300a947b04bcd769fbf98fd8fabf0f2ac961">NILFS_ST_FILE</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300a78d7567279283ce4556db018a1abd2f2">NILFS_ST_IFILE</a>, 
<br />
&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300a217e5158fce7339b79d5a20fe0c74280">NILFS_ST_CPFILE</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300a707577348c615377a46b057c9e0acfb8">NILFS_ST_SUFILE</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300aee7e3bac5dcfe0c9f680bd576949c103">NILFS_ST_DAT</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300ade6425461a1842c44316491d79e1cc52">NILFS_ST_SR</a>, 
<br />
&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300a0ab05bc2e311ec068ed7da5e9d19de11">NILFS_ST_DSYNC</a>, 
<a class="el" href="nilfs2_2segment_8c.html#a0c6a8ceda748c82eca58fbab436ca300aa14b5f007b5ceebf149eac6070bc3491">NILFS_ST_DONE</a>
<br />
 }</td></tr>
<tr class="separator:a0c6a8ceda748c82eca58fbab436ca300"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaffe4cc5e23bc52435b3f779defc6553"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aaffe4cc5e23bc52435b3f779defc6553">nilfs_sc_cstage_inc</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:aaffe4cc5e23bc52435b3f779defc6553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5178d3fd1af80a6dfe7402161af775b7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7">nilfs_sc_cstage_set</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int next_scnt)</td></tr>
<tr class="separator:a5178d3fd1af80a6dfe7402161af775b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106167b91db47aa55788611baecc2929"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929">nilfs_sc_cstage_get</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a106167b91db47aa55788611baecc2929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55509ef3ea01cc74488f916f1d551f3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3">nilfs_segctor_start_timer</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *)</td></tr>
<tr class="separator:aa55509ef3ea01cc74488f916f1d551f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c179e5f28f728a442e31641f71c795"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795">nilfs_segctor_do_flush</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *, int)</td></tr>
<tr class="separator:a23c179e5f28f728a442e31641f71c795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0928f7eed2b4d7f3a934480a1025bda7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7">nilfs_segctor_do_immediate_flush</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *)</td></tr>
<tr class="separator:a0928f7eed2b4d7f3a934480a1025bda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6facffe5bf73523d4936fec680fa35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35">nilfs_dispose_list</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *, struct list_head *, int)</td></tr>
<tr class="separator:a6b6facffe5bf73523d4936fec680fa35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0ba1bf162679380f6096c9f83b94ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea">nilfs_prepare_segment_lock</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> *ti)</td></tr>
<tr class="separator:ada0ba1bf162679380f6096c9f83b94ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a012a0fc0026d060aa426f15cfb8a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ae4a012a0fc0026d060aa426f15cfb8a7">nilfs_transaction_begin</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> *ti, int vacancy_check)</td></tr>
<tr class="separator:ae4a012a0fc0026d060aa426f15cfb8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2205a18ad59765e0f2bcf33b0830749"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749">nilfs_transaction_commit</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:ad2205a18ad59765e0f2bcf33b0830749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7aca46b9402488a8be66db96c8091e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ab7aca46b9402488a8be66db96c8091e6">nilfs_transaction_abort</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:ab7aca46b9402488a8be66db96c8091e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe95c1377231f98569c62d5cd7c5ee91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#afe95c1377231f98569c62d5cd7c5ee91">nilfs_relax_pressure_in_lock</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:afe95c1377231f98569c62d5cd7c5ee91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b69f4181745f44662620421e0f88ab0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0">nilfs_transaction_lock</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> *ti, int gcflag)</td></tr>
<tr class="separator:a8b69f4181745f44662620421e0f88ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183704facbe2e823d313437cf1ef2672"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672">nilfs_transaction_unlock</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:a183704facbe2e823d313437cf1ef2672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5958f1d95c64f327b6e6fd733d722aad"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad">nilfs_segctor_map_segsum_entry</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *ssp, unsigned int bytes)</td></tr>
<tr class="separator:a5958f1d95c64f327b6e6fd733d722aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bd4ec246077eb3f8a8974c17457006"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006">nilfs_segctor_reset_segment_buffer</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a39bd4ec246077eb3f8a8974c17457006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9807a7126231dfa8ee7d7f91ba3fc7e1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1">nilfs_segctor_feed_segment</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a9807a7126231dfa8ee7d7f91ba3fc7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85858fb40e1f103a76c3b687018ed807"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807">nilfs_segctor_add_super_root</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a85858fb40e1f103a76c3b687018ed807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cc6aeaaafc2694fd7c342d2eab0a66"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66">nilfs_segctor_segsum_block_required</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, const struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *ssp, unsigned int binfo_size)</td></tr>
<tr class="separator:a85cc6aeaaafc2694fd7c342d2eab0a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c30c841e80044de622494a894368c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3">nilfs_segctor_begin_finfo</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:ae8c30c841e80044de622494a894368c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b60f1ae24c083f2c68d7055dea509b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b">nilfs_segctor_end_finfo</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a50b60f1ae24c083f2c68d7055dea509b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727dcab7fbe9bc5d59671b2e13acb698"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698">nilfs_segctor_add_file_block</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct buffer_head *bh, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned int binfo_size)</td></tr>
<tr class="separator:a727dcab7fbe9bc5d59671b2e13acb698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e21b984b71a487ba13e57a7d590312"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312">nilfs_collect_file_data</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct buffer_head *bh, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a44e21b984b71a487ba13e57a7d590312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6d7fa2a9578d73a4f90db3fdd787a2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2">nilfs_collect_file_node</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct buffer_head *bh, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a5b6d7fa2a9578d73a4f90db3fdd787a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260078ed7922483f1ce0b0a341f3e2c3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3">nilfs_collect_file_bmap</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct buffer_head *bh, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a260078ed7922483f1ce0b0a341f3e2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7118b301c296cb91ec186d8ec67a6e7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ab7118b301c296cb91ec186d8ec67a6e7">nilfs_write_file_data_binfo</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *ssp, union nilfs_binfo *binfo)</td></tr>
<tr class="separator:ab7118b301c296cb91ec186d8ec67a6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed1f765e8fe080fdc9c552eba815d89"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#afed1f765e8fe080fdc9c552eba815d89">nilfs_write_file_node_binfo</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *ssp, union nilfs_binfo *binfo)</td></tr>
<tr class="separator:afed1f765e8fe080fdc9c552eba815d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d45a6aa306f69789c3a4b76db4bef3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3">nilfs_collect_dat_data</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct buffer_head *bh, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:aa2d45a6aa306f69789c3a4b76db4bef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab95ed2c78d0657806e26b064925bac9b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b">nilfs_collect_dat_bmap</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct buffer_head *bh, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:ab95ed2c78d0657806e26b064925bac9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af347d69ebb791bdaef97d139a54dfc86"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#af347d69ebb791bdaef97d139a54dfc86">nilfs_write_dat_data_binfo</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *ssp, union nilfs_binfo *binfo)</td></tr>
<tr class="separator:af347d69ebb791bdaef97d139a54dfc86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4c93a4c34064d14016839fbfcf2ea0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a2a4c93a4c34064d14016839fbfcf2ea0">nilfs_write_dat_node_binfo</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *ssp, union nilfs_binfo *binfo)</td></tr>
<tr class="separator:a2a4c93a4c34064d14016839fbfcf2ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69fe342fa35cdc28f6c078c4b7201a09"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a69fe342fa35cdc28f6c078c4b7201a09">nilfs_lookup_dirty_data_buffers</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct list_head *listp, size_t nlimit, loff_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, loff_t end)</td></tr>
<tr class="separator:a69fe342fa35cdc28f6c078c4b7201a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a136cc66a7ca5131f7603271a44ecf99e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a136cc66a7ca5131f7603271a44ecf99e">nilfs_lookup_dirty_node_buffers</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct list_head *listp)</td></tr>
<tr class="separator:a136cc66a7ca5131f7603271a44ecf99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4937564a8e4e3f93f7cba490ca3e04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a6e4937564a8e4e3f93f7cba490ca3e04">nilfs_iput_work_func</a> (struct work_struct *work)</td></tr>
<tr class="separator:a6e4937564a8e4e3f93f7cba490ca3e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3942085ca8ef837029410515b850bab2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2">nilfs_test_metadata_dirty</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a3942085ca8ef837029410515b850bab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fea956c9b756d0f2be3c56a4569e720"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720">nilfs_segctor_clean</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a5fea956c9b756d0f2be3c56a4569e720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aee792199cf274a08966e72ad5bda4b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b">nilfs_segctor_confirm</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a8aee792199cf274a08966e72ad5bda4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c98686e38ca6a463b8121558402441"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a78c98686e38ca6a463b8121558402441">nilfs_segctor_clear_metadata_dirty</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a78c98686e38ca6a463b8121558402441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e41f513f78a1d22d3ecdb5387101abf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf">nilfs_segctor_create_checkpoint</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a8e41f513f78a1d22d3ecdb5387101abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575e642d5347643b2e55e16d470c9e4f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f">nilfs_segctor_fill_in_checkpoint</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a575e642d5347643b2e55e16d470c9e4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822048d2520be4c95b92fea20e3e6b8a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a">nilfs_fill_in_file_bmap</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *ifile, struct <a class="el" href="structnilfs__inode__info.html">nilfs_inode_info</a> *ii)</td></tr>
<tr class="separator:a822048d2520be4c95b92fea20e3e6b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9646fd4f406244d5cd782f5d220f4aaa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa">nilfs_segctor_fill_in_file_bmap</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a9646fd4f406244d5cd782f5d220f4aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd2bfd7408d91f09c954196835b05eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb">nilfs_segctor_fill_in_super_root</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a4bd2bfd7408d91f09c954196835b05eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b2f847cf14fdb22b140aea427b564c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c">nilfs_redirty_inodes</a> (struct list_head *head)</td></tr>
<tr class="separator:a41b2f847cf14fdb22b140aea427b564c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1070dc291425e83910d480f6c9bd518f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a1070dc291425e83910d480f6c9bd518f">nilfs_drop_collected_inodes</a> (struct list_head *head)</td></tr>
<tr class="separator:a1070dc291425e83910d480f6c9bd518f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6597daa41d51e252f25e4a0c8027bbb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ac6597daa41d51e252f25e4a0c8027bbb">nilfs_segctor_apply_buffers</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct list_head *listp, int(*collect)(struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *, struct buffer_head *, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *))</td></tr>
<tr class="separator:ac6597daa41d51e252f25e4a0c8027bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf2c923fddae2656bb73aeb0fbb3baa"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#addf2c923fddae2656bb73aeb0fbb3baa">nilfs_segctor_buffer_rest</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:addf2c923fddae2656bb73aeb0fbb3baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b68878b13cea892fdcc2eb8a4ed7e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2">nilfs_segctor_scan_file</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a> *sc_ops)</td></tr>
<tr class="separator:a54b68878b13cea892fdcc2eb8a4ed7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c6bac7991c2db1aab03b5884a8c7f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7">nilfs_segctor_scan_file_dsync</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a96c6bac7991c2db1aab03b5884a8c7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c1356e891d7a42317a2926baaad700"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700">nilfs_segctor_collect_blocks</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int mode)</td></tr>
<tr class="separator:ac5c1356e891d7a42317a2926baaad700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefe9b057b0e0d967e78abdfad63f7fc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc">nilfs_segctor_begin_construction</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:abefe9b057b0e0d967e78abdfad63f7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908a0ffa2889c863319f35f979a28530"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530">nilfs_segctor_extend_segments</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, int nadd)</td></tr>
<tr class="separator:a908a0ffa2889c863319f35f979a28530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa460eb83c61cec1ca9286a5c74b04c77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77">nilfs_free_incomplete_logs</a> (struct list_head *logs, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:aa460eb83c61cec1ca9286a5c74b04c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e55835a8c7bac0db60b81df4d707d4e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e">nilfs_segctor_update_segusage</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *sufile)</td></tr>
<tr class="separator:a5e55835a8c7bac0db60b81df4d707d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad2a278dd41af2f12f1e28a0b61ec8c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c">nilfs_cancel_segusage</a> (struct list_head *logs, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *sufile)</td></tr>
<tr class="separator:a2ad2a278dd41af2f12f1e28a0b61ec8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1718603d405fa5903c6230390dad55d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3">nilfs_segctor_truncate_segments</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *last, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *sufile)</td></tr>
<tr class="separator:a1718603d405fa5903c6230390dad55d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a623b056ff9bd308d6704a6d44b2a5ff8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8">nilfs_segctor_collect</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, int mode)</td></tr>
<tr class="separator:a623b056ff9bd308d6704a6d44b2a5ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6194a6d85e10dcd389bbaa0c5c14fda3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a6194a6d85e10dcd389bbaa0c5c14fda3">nilfs_list_replace_buffer</a> (struct buffer_head *old_bh, struct buffer_head *new_bh)</td></tr>
<tr class="separator:a6194a6d85e10dcd389bbaa0c5c14fda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f908be4c8ec4db5ffed685614d6602"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602">nilfs_segctor_update_payload_blocknr</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, int mode)</td></tr>
<tr class="separator:a68f908be4c8ec4db5ffed685614d6602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b6ab5ea47dd22b60896728d79280b78"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78">nilfs_segctor_assign</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int mode)</td></tr>
<tr class="separator:a0b6ab5ea47dd22b60896728d79280b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d84faff80b488fb23952be7bd5c0da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a01d84faff80b488fb23952be7bd5c0da">nilfs_begin_page_io</a> (struct page *page)</td></tr>
<tr class="separator:a01d84faff80b488fb23952be7bd5c0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860212a92caeb10e765a54525c8935e7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7">nilfs_segctor_prepare_write</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a860212a92caeb10e765a54525c8935e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f292d5fafad3776cf07573c3c7b46a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a">nilfs_segctor_write</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a30f292d5fafad3776cf07573c3c7b46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16dc692dbd44d7383adcfa601135a4a4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4">nilfs_end_page_io</a> (struct page *page, int err)</td></tr>
<tr class="separator:a16dc692dbd44d7383adcfa601135a4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d24a60ef5de5f10b3d2fd206ea3aae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae">nilfs_abort_logs</a> (struct list_head *logs, int err)</td></tr>
<tr class="separator:ad9d24a60ef5de5f10b3d2fd206ea3aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309af2cb7fa5f929676eb2aeb83abf1a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a">nilfs_segctor_abort_construction</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, int err)</td></tr>
<tr class="separator:a309af2cb7fa5f929676eb2aeb83abf1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7861689dce5089c651962abd6bddb8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a2c7861689dce5089c651962abd6bddb8">nilfs_set_next_segment</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf)</td></tr>
<tr class="separator:a2c7861689dce5089c651962abd6bddb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c1399db7625966aac20550eaa19c966"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966">nilfs_segctor_complete_write</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a4c1399db7625966aac20550eaa19c966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f1609ad1b2d71d4f26fd1b650e9acf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf">nilfs_segctor_wait</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a38f1609ad1b2d71d4f26fd1b650e9acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15bdc407779c43878600587697d73136"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136">nilfs_segctor_collect_dirty_files</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a15bdc407779c43878600587697d73136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a38cbf8f4c68e0d2cc6c384368bd48"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48">nilfs_segctor_drop_written_files</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a48a38cbf8f4c68e0d2cc6c384368bd48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640e77718e5f25c27d6dcc9a10fa8997"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997">nilfs_segctor_do_construct</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int mode)</td></tr>
<tr class="separator:a640e77718e5f25c27d6dcc9a10fa8997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253d648bff2e689773f61cd8097c7b8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a253d648bff2e689773f61cd8097c7b8a">nilfs_flush_segment</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, ino_t <a class="el" href="xfs__export_8h.html#ace6b53078098dab03e74e0bc1eab5eb8">ino</a>)</td></tr>
<tr class="separator:a253d648bff2e689773f61cd8097c7b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece5ba8b7c1a8df29083370bfb0f3aad"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad">nilfs_segctor_sync</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:aece5ba8b7c1a8df29083370bfb0f3aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3e55d324de166f073db74a7eb57fde"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aef3e55d324de166f073db74a7eb57fde">nilfs_segctor_wakeup</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int err)</td></tr>
<tr class="separator:aef3e55d324de166f073db74a7eb57fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8bab60b16b37c93e180e1ea3e1580ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad">nilfs_construct_segment</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:ad8bab60b16b37c93e180e1ea3e1580ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d237ddff4eceb734233dc317e0075d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a3d237ddff4eceb734233dc317e0075d5">nilfs_construct_dsync_segment</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, loff_t end)</td></tr>
<tr class="separator:a3d237ddff4eceb734233dc317e0075d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d1fbf5aeb3c08db664728f67d892fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe">nilfs_segctor_accept</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:ad6d1fbf5aeb3c08db664728f67d892fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b4127ef65dc5b6772abed38d8b57d9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9">nilfs_segctor_notify</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int mode, int err)</td></tr>
<tr class="separator:a48b4127ef65dc5b6772abed38d8b57d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a995d883df35bebf400352d48cc380a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a">nilfs_segctor_construct</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int mode)</td></tr>
<tr class="separator:a7a995d883df35bebf400352d48cc380a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfab781acf18797a0e45ef07137dd7d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#adfab781acf18797a0e45ef07137dd7d3">nilfs_construction_timeout</a> (struct timer_list *t)</td></tr>
<tr class="separator:adfab781acf18797a0e45ef07137dd7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff101f52e4bf1099c796f00b25b4c3b1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aff101f52e4bf1099c796f00b25b4c3b1">nilfs_remove_written_gcinodes</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct list_head *head)</td></tr>
<tr class="separator:aff101f52e4bf1099c796f00b25b4c3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b57268547a16ef8a641cb8cb0fdf876"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a3b57268547a16ef8a641cb8cb0fdf876">nilfs_clean_segments</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct nilfs_argv *argv, void **kbufs)</td></tr>
<tr class="separator:a3b57268547a16ef8a641cb8cb0fdf876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94663ea74105a230816c915236ad199a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a">nilfs_segctor_thread_construct</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci, int mode)</td></tr>
<tr class="separator:a94663ea74105a230816c915236ad199a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cef1108b7fa7e06a421b10f2d6cf3ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a6cef1108b7fa7e06a421b10f2d6cf3ac">nilfs_segctor_flush_mode</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a6cef1108b7fa7e06a421b10f2d6cf3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d3b93661aea1ce6d75d52641a734f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7">nilfs_segctor_thread</a> (void *arg)</td></tr>
<tr class="separator:a39d3b93661aea1ce6d75d52641a734f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb2af3cf720ef8a382baa244f770a64"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64">nilfs_segctor_start_thread</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:accb2af3cf720ef8a382baa244f770a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6bad92d64b23f1bc7cdfca3b44df6bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#ab6bad92d64b23f1bc7cdfca3b44df6bb">nilfs_segctor_kill_thread</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci) __acquires(&amp;sci -&gt; sc_state_lock) __releases(&amp;sci-&gt;sc_state_lock)</td></tr>
<tr class="separator:ab6bad92d64b23f1bc7cdfca3b44df6bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642f913818c60b9458a79aadb090f3ad"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad">nilfs_segctor_new</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a642f913818c60b9458a79aadb090f3ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eda3501e8ed1cdd3323a4a77257416f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f">nilfs_segctor_write_out</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a2eda3501e8ed1cdd3323a4a77257416f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53eace4b3351e7a47d95a83e02257fda"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda">nilfs_segctor_destroy</a> (struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *sci)</td></tr>
<tr class="separator:a53eace4b3351e7a47d95a83e02257fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc0b22d29c5e0dc0550492c2814845f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#accc0b22d29c5e0dc0550492c2814845f">nilfs_attach_log_writer</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:accc0b22d29c5e0dc0550492c2814845f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ad97768e43fb1c81c962ab7f895fb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a86ad97768e43fb1c81c962ab7f895fb0">nilfs_detach_log_writer</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:a86ad97768e43fb1c81c962ab7f895fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa90805f64de26b6a6ce61e85b3d8caba"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aa90805f64de26b6a6ce61e85b3d8caba">nilfs_sc_file_ops</a></td></tr>
<tr class="separator:aa90805f64de26b6a6ce61e85b3d8caba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba7dbbb1be9bef8a129b0af6e85eb3a"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#a3ba7dbbb1be9bef8a129b0af6e85eb3a">nilfs_sc_dat_ops</a></td></tr>
<tr class="separator:a3ba7dbbb1be9bef8a129b0af6e85eb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa96f28dc8615e5c1355d0a84ec2d670e"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8c.html#aa96f28dc8615e5c1355d0a84ec2d670e">nilfs_sc_dsync_ops</a></td></tr>
<tr class="separator:aa96f28dc8615e5c1355d0a84ec2d670e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a40473b47b4871fa538a0fa131f94e774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40473b47b4871fa538a0fa131f94e774">&#9670;&nbsp;</a></span>CREATE_TRACE_POINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CREATE_TRACE_POINTS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="addc79bda19ffe0b589ef5f50787a7008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc79bda19ffe0b589ef5f50787a7008">&#9670;&nbsp;</a></span>FLUSH_DAT_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLUSH_DAT_BIT&#160;&#160;&#160;BIT(NILFS_DAT_INO) /* DAT only */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9982fa57a4c78e18fb8b5d7b4afef6e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9982fa57a4c78e18fb8b5d7b4afef6e3">&#9670;&nbsp;</a></span>FLUSH_FILE_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLUSH_FILE_BIT&#160;&#160;&#160;(0x1) /* data file only */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1ddd66e26c2a875c83f37c1325eb8146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddd66e26c2a875c83f37c1325eb8146">&#9670;&nbsp;</a></span>NILFS_CF_HISTORY_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_CF_HISTORY_MASK&#160;&#160;&#160;(<a class="el" href="nilfs2_2segment_8c.html#a4c72589673b5e873b73756f790d50e51">NILFS_CF_IFILE_STARTED</a> | <a class="el" href="nilfs2_2segment_8c.html#a4206d8bae4241a68777a8d20ddb4fa84">NILFS_CF_SUFREED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c72589673b5e873b73756f790d50e51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c72589673b5e873b73756f790d50e51">&#9670;&nbsp;</a></span>NILFS_CF_IFILE_STARTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_CF_IFILE_STARTED&#160;&#160;&#160;0x0002	/* IFILE stage has started */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ae06d2dacb71c17ab52d0909c9d8240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae06d2dacb71c17ab52d0909c9d8240">&#9670;&nbsp;</a></span>NILFS_CF_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_CF_NODE&#160;&#160;&#160;0x0001	/* Collecting node blocks */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4206d8bae4241a68777a8d20ddb4fa84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4206d8bae4241a68777a8d20ddb4fa84">&#9670;&nbsp;</a></span>NILFS_CF_SUFREED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_CF_SUFREED&#160;&#160;&#160;0x0004	/* segment usages has been freed */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acc68085c20fbb1f5208fe5aa991b5066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc68085c20fbb1f5208fe5aa991b5066">&#9670;&nbsp;</a></span>nilfs_cnt32_ge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_cnt32_ge</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(typecheck(__u32, a) &amp;&amp; typecheck(__u32, b) &amp;&amp; \</div><div class="line">     ((__s32)(a) - (__s32)(b) &gt;= 0))</div></div><!-- fragment -->
</div>
</div>
<a id="aeff26f9adcc94930145a778710489ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff26f9adcc94930145a778710489ea1">&#9670;&nbsp;</a></span>nilfs_cnt32_gt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_cnt32_gt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(typecheck(__u32, a) &amp;&amp; typecheck(__u32, b) &amp;&amp; \</div><div class="line">     ((__s32)(b) - (__s32)(a) &lt; 0))</div></div><!-- fragment -->
</div>
</div>
<a id="a84e5afaf931f017c7124866ec51c0305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e5afaf931f017c7124866ec51c0305">&#9670;&nbsp;</a></span>nilfs_cnt32_le</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_cnt32_le</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#acc68085c20fbb1f5208fe5aa991b5066">nilfs_cnt32_ge</a>(b, a)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8d7f9ac4c93bdd4697accedd48a278b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7f9ac4c93bdd4697accedd48a278b0">&#9670;&nbsp;</a></span>nilfs_cnt32_lt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_cnt32_lt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="nilfs2_2segment_8c.html#aeff26f9adcc94930145a778710489ea1">nilfs_cnt32_gt</a>(b, a)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc803a1271e826c8cd7644ede00a5a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc803a1271e826c8cd7644ede00a5a11">&#9670;&nbsp;</a></span>SC_MAX_SEGDELTA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SC_MAX_SEGDELTA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">64   <span class="comment">/*</span></div><div class="line"><span class="comment">                  * Upper limit of the number of segments</span></div><div class="line"><span class="comment">                  * appended in collection retry loop</span></div><div class="line"><span class="comment">                  */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a5c69bcf918e32b83ee2e1e1d2a1782cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c69bcf918e32b83ee2e1e1d2a1782cc">&#9670;&nbsp;</a></span>SC_N_INODEVEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SC_N_INODEVEC&#160;&#160;&#160;16   /* <a class="el" href="cifspdu_8h.html#afee99cfbf88e335aaa3094422618ae5e">Size</a> of locally allocated <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> vector */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a6f202bbbced0e3a7de5dc2d9029b29b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f202bbbced0e3a7de5dc2d9029b29b7">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6f202bbbced0e3a7de5dc2d9029b29b7a3992011d07f8f4605a43f43afae2db58"></a>SC_LSEG_SR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6f202bbbced0e3a7de5dc2d9029b29b7afdacba1dce05c98be652779aa53b5b5e"></a>SC_LSEG_DSYNC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6f202bbbced0e3a7de5dc2d9029b29b7a7c800f53d6a39390f0c49cad622d91d1"></a>SC_FLUSH_FILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6f202bbbced0e3a7de5dc2d9029b29b7a15f473f0eb43a83783d8805387293497"></a>SC_FLUSH_DAT&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a0c6a8ceda748c82eca58fbab436ca300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c6a8ceda748c82eca58fbab436ca300">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300a48c52f95e679e06546b3cd52f2e2eab4"></a>NILFS_ST_INIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300ad1ad08a3b0b0fdc92280b3a1fb011c70"></a>NILFS_ST_GC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300a947b04bcd769fbf98fd8fabf0f2ac961"></a>NILFS_ST_FILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300a78d7567279283ce4556db018a1abd2f2"></a>NILFS_ST_IFILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300a217e5158fce7339b79d5a20fe0c74280"></a>NILFS_ST_CPFILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300a707577348c615377a46b057c9e0acfb8"></a>NILFS_ST_SUFILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300aee7e3bac5dcfe0c9f680bd576949c103"></a>NILFS_ST_DAT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300ade6425461a1842c44316491d79e1cc52"></a>NILFS_ST_SR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300a0ab05bc2e311ec068ed7da5e9d19de11"></a>NILFS_ST_DSYNC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c6a8ceda748c82eca58fbab436ca300aa14b5f007b5ceebf149eac6070bc3491"></a>NILFS_ST_DONE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad9d24a60ef5de5f10b3d2fd206ea3aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d24a60ef5de5f10b3d2fd206ea3aae">&#9670;&nbsp;</a></span>nilfs_abort_logs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_abort_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_cgraph" id="nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4" title="nilfs_end_page_io" alt="" coords="167,46,293,73"/>
<area shape="rect" id="node3" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="343,5,471,47"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="341,71,472,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_icgraph" id="nilfs2_2segment_8c_ad9d24a60ef5de5f10b3d2fd206ea3aae_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="167,345,299,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="347,352,525,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1201,286,1350,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="992,411,1149,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="573,345,757,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1422,200,1527,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1417,301,1533,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1625,149,1745,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1841,107,1956,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1833,208,1964,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2065,157,2155,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2064,5,2156,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2061,56,2159,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2067,107,2153,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2071,232,2149,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1201,352,1349,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1206,403,1345,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1197,469,1353,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1596,352,1775,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1405,411,1544,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1621,403,1750,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1823,411,1975,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2377,436,2482,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2060,512,2160,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2023,461,2197,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2541,499,2630,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2245,461,2323,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2371,575,2488,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2536,575,2635,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1401,469,1548,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1608,469,1763,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1843,563,1954,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="805,185,944,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="997,352,1145,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1001,149,1140,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1225,99,1325,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1216,149,1335,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1415,251,1534,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1429,99,1520,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1626,235,1745,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1616,286,1755,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1828,309,1969,336"/>
</map>
</div>

</div>
</div>
<a id="accc0b22d29c5e0dc0550492c2814845f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc0b22d29c5e0dc0550492c2814845f">&#9670;&nbsp;</a></span>nilfs_attach_log_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_attach_log_writer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_attach_log_writer - attach log writer : super block instance : root object of the current filesystem tree</p>
<p>This allocates a log writer object, initializes it, and starts the log writer.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_cgraph" id="nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="205,224,360,251"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="219,93,346,120"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="218,377,347,418"/>
<area shape="rect" id="node3" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="434,224,529,251"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="408,275,555,301"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="627,140,749,167"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ab6bad92d64b23f1bc7cdfca3b44df6bb" title="nilfs_segctor_kill\l_thread" alt="" coords="629,191,747,233"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="1280,380,1427,407"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="610,452,766,479"/>
<area shape="rect" id="node39" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="638,257,738,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1493,417,1629,458"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1494,483,1629,509"/>
<area shape="rect" id="node8" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1680,424,1823,451"/>
<area shape="rect" id="node11" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1699,483,1804,509"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1923,365,1993,392"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="1887,417,2029,458"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1871,483,2045,509"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="829,612,977,639"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="824,511,981,537"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="821,561,984,588"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1032,765,1216,806"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1264,691,1443,717"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1492,817,1631,844"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1491,534,1632,575"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1494,599,1629,641"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1491,716,1632,743"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1682,741,1821,768"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="1053,663,1195,689"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1057,409,1191,436"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1065,460,1183,487"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="1055,511,1193,537"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1057,561,1191,588"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="1057,612,1191,639"/>
<area shape="rect" id="node32" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="881,165,924,192"/>
<area shape="rect" id="node33" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1087,140,1161,167"/>
<area shape="rect" id="node38" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1055,191,1193,217"/>
<area shape="rect" id="node34" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1302,64,1405,91"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1294,115,1413,141"/>
<area shape="rect" id="node36" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1292,165,1415,192"/>
<area shape="rect" id="node37" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1328,216,1379,243"/>
<area shape="rect" id="node40" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="839,242,966,283"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a4af5a977af148ee222180ae10226f487" title="nilfs_get_root" alt="" coords="431,5,531,32"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a6e4937564a8e4e3f93f7cba490ca3e04" title="nilfs_iput_work_func" alt="" coords="411,123,552,149"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#adfab781acf18797a0e45ef07137dd7d3" title="nilfs_construction\l_timeout" alt="" coords="419,57,543,98"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="412,528,551,555"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a6cef1108b7fa7e06a421b10f2d6cf3ac" title="nilfs_segctor_flush_mode" alt="" coords="603,553,773,580"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="619,605,757,646"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a9151c9e879ecd826e57e7a77e249a066" title="nilfs_sb_need_update" alt="" coords="614,503,762,529"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="838,663,967,705"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_icgraph" id="nilfs2_2segment_8c_accc0b22d29c5e0dc0550492c2814845f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1770,144,1875,171"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1773,245,1873,272"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="205,119,380,145"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1941,220,2030,247"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="428,119,505,145"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="553,148,671,175"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="748,148,847,175"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="719,207,876,233"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="928,261,1076,288"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="933,145,1071,186"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="924,211,1080,237"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1128,337,1307,364"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1393,463,1471,489"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1573,501,1693,528"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1765,501,1880,528"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1757,451,1888,477"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1941,476,2030,503"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1939,527,2031,553"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1936,577,2035,604"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1943,425,2028,452"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1148,152,1287,179"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1367,145,1497,186"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1557,144,1709,171"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1144,223,1291,249"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1355,235,1509,261"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1578,245,1689,272"/>
</map>
</div>

</div>
</div>
<a id="a01d84faff80b488fb23952be7bd5c0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d84faff80b488fb23952be7bd5c0da">&#9670;&nbsp;</a></span>nilfs_begin_page_io()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_begin_page_io </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a01d84faff80b488fb23952be7bd5c0da_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a01d84faff80b488fb23952be7bd5c0da_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a01d84faff80b488fb23952be7bd5c0da_icgraph" id="nilfs2_2segment_8c_a01d84faff80b488fb23952be7bd5c0da_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="189,345,336,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="384,352,563,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1238,286,1387,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1029,411,1187,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="611,345,795,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1459,200,1565,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1454,301,1570,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1663,149,1783,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1879,107,1993,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1871,208,2001,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2103,157,2192,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2101,5,2193,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2098,56,2197,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2105,107,2190,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2109,232,2186,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1239,352,1387,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1243,403,1382,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1235,469,1391,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1633,352,1812,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1443,411,1581,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1658,403,1787,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1860,411,2012,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2414,436,2519,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2097,512,2197,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2060,461,2235,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2578,499,2667,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2283,461,2360,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2408,575,2525,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2573,575,2672,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1439,469,1585,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1645,469,1800,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1881,563,1991,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="843,185,981,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1034,352,1182,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1039,149,1177,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1263,99,1363,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1253,149,1372,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1453,251,1571,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1467,99,1557,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1663,235,1782,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1653,286,1792,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1865,309,2007,336"/>
</map>
</div>

</div>
</div>
<a id="a2ad2a278dd41af2f12f1e28a0b61ec8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad2a278dd41af2f12f1e28a0b61ec8c">&#9670;&nbsp;</a></span>nilfs_cancel_segusage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_cancel_segusage </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>sufile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_cgraph" id="nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_cgraph">
<area shape="rect" id="node2" href="sufile_8c.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="208,255,375,296"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1074,71,1170,98"/>
<area shape="rect" id="node4" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="423,313,589,355"/>
<area shape="rect" id="node24" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1284,274,1407,301"/>
<area shape="rect" id="node41" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1274,426,1417,453"/>
<area shape="rect" id="node49" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="433,65,579,107"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="643,321,781,347"/>
<area shape="rect" id="node47" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="638,211,786,238"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="840,527,985,554"/>
<area shape="rect" id="node18" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="835,317,991,343"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1043,578,1201,605"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1286,527,1405,554"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1295,578,1395,605"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1280,730,1411,757"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1529,426,1600,453"/>
<area shape="rect" id="node16" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1270,629,1421,655"/>
<area shape="rect" id="node17" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1304,679,1387,706"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1485,527,1644,554"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1495,603,1634,630"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1491,693,1639,735"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1497,759,1632,786"/>
<area shape="rect" id="node19" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1045,211,1199,238"/>
<area shape="rect" id="node22" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1049,364,1195,405"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1039,122,1205,149"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1045,313,1199,339"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1253,173,1437,199"/>
<area shape="rect" id="node21" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1279,223,1412,250"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1283,325,1407,351"/>
<area shape="rect" id="node25" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1504,237,1625,263"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1497,313,1632,339"/>
<area shape="rect" id="node26" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1696,203,1868,230"/>
<area shape="rect" id="node28" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1692,305,1872,347"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1712,371,1852,412"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1715,436,1849,477"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1713,254,1851,281"/>
<area shape="rect" id="node29" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1957,282,2047,309"/>
<area shape="rect" id="node32" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1979,333,2025,359"/>
<area shape="rect" id="node30" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="2149,231,2254,258"/>
<area shape="rect" id="node31" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="2132,282,2271,309"/>
<area shape="rect" id="node33" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="2163,383,2239,410"/>
<area shape="rect" id="node34" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="2319,383,2416,410"/>
<area shape="rect" id="node35" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="2161,333,2242,359"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1927,403,2077,430"/>
<area shape="rect" id="node39" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1920,454,2084,481"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1281,5,1410,47"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1269,71,1421,98"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1263,122,1427,149"/>
<area shape="rect" id="node48" href="sufile_8c.html#a048a58aad760411d79b7e01d28babbb5" title="nilfs_sufile_segment\l_usages_per_block" alt="" coords="842,95,983,136"/>
<area shape="rect" id="node50" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="637,73,787,99"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_icgraph" id="nilfs2_2segment_8c_a2ad2a278dd41af2f12f1e28a0b61ec8c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="208,345,340,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="388,352,567,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1242,286,1391,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1033,411,1191,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="615,345,799,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1463,200,1569,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1458,301,1574,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1667,149,1787,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1883,107,1997,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1875,208,2005,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2107,157,2196,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2105,5,2197,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2102,56,2201,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2109,107,2194,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2113,232,2190,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1243,352,1391,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1247,403,1386,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1239,469,1395,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1637,352,1816,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1447,411,1585,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1662,403,1791,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1864,411,2016,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2418,436,2523,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2101,512,2201,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2064,461,2239,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2582,499,2671,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2287,461,2364,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2412,575,2529,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2577,575,2676,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1443,469,1589,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1649,469,1804,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1885,563,1995,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="847,185,985,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1038,352,1186,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1043,149,1181,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1267,99,1367,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1257,149,1376,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1457,251,1575,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1471,99,1561,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1667,235,1786,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1657,286,1796,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1869,309,2011,336"/>
</map>
</div>

</div>
</div>
<a id="a3b57268547a16ef8a641cb8cb0fdf876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b57268547a16ef8a641cb8cb0fdf876">&#9670;&nbsp;</a></span>nilfs_clean_segments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_clean_segments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_argv *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>kbufs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_cgraph" id="nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="225,525,373,551"/>
<area shape="rect" id="node14" href="mdt_8c.html#a1b91aea5f3e024d438f92e11efb9309b" title="nilfs_mdt_save_to_shadow_map" alt="" coords="676,797,888,823"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a0a4a3b447f57cba6a9d7e2c8c2ed3049" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="473,217,599,259"/>
<area shape="rect" id="node28" href="mdt_8c.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="705,1008,859,1049"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="457,594,615,621"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#aff101f52e4bf1099c796f00b25b4c3b1" title="nilfs_remove_written\l_gcinodes" alt="" coords="227,731,370,772"/>
<area shape="rect" id="node45" href="the__nilfs_8c.html#a7791ded5e1399589f827371de0638a52" title="nilfs_discard_segments" alt="" coords="219,1015,378,1042"/>
<area shape="rect" id="node48" href="mdt_8c.html#a49d73bacfcef709cc1cb5956355ee9d3" title="nilfs_mdt_clear_shadow_map" alt="" coords="201,847,396,874"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="217,1066,380,1093"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="444,456,628,497"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="693,391,871,418"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="946,339,1085,366"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="945,208,1086,249"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="947,508,1083,549"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="948,574,1083,601"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="948,391,1083,432"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="945,457,1086,483"/>
<area shape="rect" id="node7" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1155,274,1278,301"/>
<area shape="rect" id="node8" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1145,223,1288,250"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1339,434,1409,461"/>
<area shape="rect" id="node15" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1169,847,1265,874"/>
<area shape="rect" id="node16" href="nilfs2_2page_8c.html#ab1f505f6520c69332f0ee920a731e817" title="nilfs_copy_dirty_pages" alt="" coords="938,797,1093,823"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#aa549c9215d24ae7f44f0128fa9d81f98" title="nilfs_bmap_save" alt="" coords="955,695,1075,722"/>
<area shape="rect" id="node17" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712" title="nilfs_copy_page" alt="" coords="1159,957,1275,983"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="723,263,841,304"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="697,179,867,206"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="936,91,1095,132"/>
<area shape="rect" id="node21" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="952,273,1079,315"/>
<area shape="rect" id="node23" href="dat_8c.html#a91e8f9af4bb7b8f3e12f9344f70c058f" title="nilfs_dat_freev" alt="" coords="962,157,1069,183"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8c.html#a01ec88eea126f6a0861c9da00aadb1d7" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1143,5,1291,47"/>
<area shape="rect" id="node26" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1147,71,1286,98"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8c.html#ada48e8abd9d75673881ee7c8fb799d00" title="nilfs_bmap_mark" alt="" coords="1156,122,1277,149"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8c.html#aa1ef67260a902eaecb3a5aacacdd0ed8" title="nilfs_palloc_clear\l_cache" alt="" coords="954,949,1077,991"/>
<area shape="rect" id="node30" href="nilfs2_2page_8c.html#a32dd4d34ca4d02776c242eb9ff785a87" title="nilfs_clear_dirty_pages" alt="" coords="938,1167,1093,1194"/>
<area shape="rect" id="node32" href="nilfs2_2page_8c.html#ad19e6ab8bc4014fe39746b3dd2c97b90" title="nilfs_copy_back_pages" alt="" coords="936,1015,1095,1042"/>
<area shape="rect" id="node33" href="nilfs2_2bmap_8c.html#aefd222edab3f6a8ce0617e4f9659472a" title="nilfs_bmap_restore" alt="" coords="949,1066,1081,1093"/>
<area shape="rect" id="node31" href="nilfs2_2page_8c.html#a39eadb85dcf25cb2ceebf0232851674c" title="nilfs_clear_dirty_page" alt="" coords="1143,1167,1291,1194"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="711,543,853,570"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="709,442,855,469"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="715,594,849,621"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="723,645,841,671"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="713,695,851,722"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="715,746,849,773"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="715,493,849,519"/>
<area shape="rect" id="node43" href="btnode_8c.html#acd52f7f39a72cca11a6240f97c821d20" title="nilfs_btnode_cache\l_clear" alt="" coords="469,731,603,772"/>
<area shape="rect" id="node44" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="515,679,557,706"/>
<area shape="rect" id="node46" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="503,1066,569,1093"/>
<area shape="rect" id="node47" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="453,1015,619,1042"/>
<area shape="rect" id="node49" href="mdt_8c.html#a3e93261fc9d1372c65be2e8d954f3d0a" title="nilfs_release_frozen\l_buffers" alt="" coords="467,899,605,940"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_icgraph" id="nilfs2_2segment_8c_a3b57268547a16ef8a641cb8cb0fdf876_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="201,107,380,133"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="428,107,505,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="553,81,673,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="729,81,844,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="721,132,852,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="905,5,994,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="903,56,995,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="900,107,999,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="907,157,992,184"/>
</map>
</div>

</div>
</div>
<a id="ab95ed2c78d0657806e26b064925bac9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab95ed2c78d0657806e26b064925bac9b">&#9670;&nbsp;</a></span>nilfs_collect_dat_bmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_collect_dat_bmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ab95ed2c78d0657806e26b064925bac9b_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ab95ed2c78d0657806e26b064925bac9b_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ab95ed2c78d0657806e26b064925bac9b_cgraph" id="nilfs2_2segment_8c_ab95ed2c78d0657806e26b064925bac9b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="208,181,356,223"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66" title="nilfs_segctor_segsum\l_block_required" alt="" coords="407,5,557,47"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="404,71,560,98"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="608,123,789,164"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="418,240,546,281"/>
<area shape="rect" id="node12" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="1033,277,1171,319"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="415,123,549,164"/>
<area shape="rect" id="node15" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="410,547,554,588"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="663,71,734,98"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="633,240,765,281"/>
<area shape="rect" id="node9" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="849,205,955,231"/>
<area shape="rect" id="node11" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="838,255,966,282"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1015,205,1189,231"/>
<area shape="rect" id="node13" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1237,277,1411,319"/>
<area shape="rect" id="node16" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="613,423,785,464"/>
<area shape="rect" id="node17" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="643,706,755,733"/>
<area shape="rect" id="node20" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="633,655,764,682"/>
<area shape="rect" id="node22" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="643,554,755,581"/>
<area shape="rect" id="node29" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="634,605,763,631"/>
<area shape="rect" id="node31" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="625,488,773,529"/>
<area shape="rect" id="node18" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="839,706,965,733"/>
<area shape="rect" id="node19" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="1031,706,1173,733"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="841,655,963,682"/>
<area shape="rect" id="node23" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="839,554,965,581"/>
<area shape="rect" id="node24" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="1031,605,1173,647"/>
<area shape="rect" id="node25" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="1023,503,1181,530"/>
<area shape="rect" id="node27" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="1243,554,1405,581"/>
<area shape="rect" id="node26" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="1258,503,1390,530"/>
<area shape="rect" id="node28" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="1459,554,1592,581"/>
<area shape="rect" id="node30" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="841,605,963,631"/>
<area shape="rect" id="node32" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="837,357,967,399"/>
<area shape="rect" id="node33" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="837,423,967,464"/>
<area shape="rect" id="node34" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="837,488,967,529"/>
</map>
</div>

</div>
</div>
<a id="aa2d45a6aa306f69789c3a4b76db4bef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d45a6aa306f69789c3a4b76db4bef3">&#9670;&nbsp;</a></span>nilfs_collect_dat_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_collect_dat_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aa2d45a6aa306f69789c3a4b76db4bef3_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_aa2d45a6aa306f69789c3a4b76db4bef3_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aa2d45a6aa306f69789c3a4b76db4bef3_cgraph" id="nilfs2_2segment_8c_aa2d45a6aa306f69789c3a4b76db4bef3_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#afb743019402ac67c539a449d627a07da" title="nilfs_bmap_propagate" alt="" coords="201,166,351,193"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="658,272,729,298"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="202,411,350,452"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="409,155,544,196"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="647,162,740,189"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="845,162,949,189"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1029,137,1164,164"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1029,188,1164,214"/>
<area shape="rect" id="node7" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1238,137,1399,164"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1259,188,1379,214"/>
<area shape="rect" id="node10" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1645,137,1781,164"/>
<area shape="rect" id="node16" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1464,188,1587,214"/>
<area shape="rect" id="node17" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1453,239,1597,280"/>
<area shape="rect" id="node11" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1829,86,1983,113"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2033,137,2133,164"/>
<area shape="rect" id="node14" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2184,137,2323,164"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1865,188,1947,214"/>
<area shape="rect" id="node12" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="2031,36,2136,62"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66" title="nilfs_segctor_segsum\l_block_required" alt="" coords="402,440,551,482"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="399,272,555,298"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="603,323,784,364"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="413,506,541,547"/>
<area shape="rect" id="node28" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="1027,543,1166,584"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="409,323,544,364"/>
<area shape="rect" id="node31" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="405,732,549,774"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="627,506,759,547"/>
<area shape="rect" id="node25" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="844,470,949,497"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="833,521,961,548"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1009,470,1184,497"/>
<area shape="rect" id="node29" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1232,543,1405,584"/>
<area shape="rect" id="node32" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="607,623,779,664"/>
<area shape="rect" id="node33" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="637,689,749,716"/>
<area shape="rect" id="node36" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="628,740,759,766"/>
<area shape="rect" id="node38" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="637,790,749,817"/>
<area shape="rect" id="node45" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="629,841,758,868"/>
<area shape="rect" id="node47" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="619,924,767,966"/>
<area shape="rect" id="node34" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="833,689,960,716"/>
<area shape="rect" id="node35" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="1025,681,1168,708"/>
<area shape="rect" id="node37" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="836,740,957,766"/>
<area shape="rect" id="node39" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="833,790,960,817"/>
<area shape="rect" id="node40" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="1025,732,1168,774"/>
<area shape="rect" id="node41" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="1017,798,1176,825"/>
<area shape="rect" id="node43" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="1237,849,1400,876"/>
<area shape="rect" id="node42" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="1253,798,1385,825"/>
<area shape="rect" id="node44" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="1459,849,1592,876"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="835,841,958,868"/>
<area shape="rect" id="node48" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="832,892,961,934"/>
<area shape="rect" id="node49" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="832,958,961,999"/>
<area shape="rect" id="node50" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="832,1023,961,1064"/>
</map>
</div>

</div>
</div>
<a id="a260078ed7922483f1ce0b0a341f3e2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a260078ed7922483f1ce0b0a341f3e2c3">&#9670;&nbsp;</a></span>nilfs_collect_file_bmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_collect_file_bmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a260078ed7922483f1ce0b0a341f3e2c3_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a260078ed7922483f1ce0b0a341f3e2c3_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a260078ed7922483f1ce0b0a341f3e2c3_cgraph" id="nilfs2_2segment_8c_a260078ed7922483f1ce0b0a341f3e2c3_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="208,181,356,223"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66" title="nilfs_segctor_segsum\l_block_required" alt="" coords="407,5,557,47"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="404,71,560,98"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="608,123,789,164"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="418,240,546,281"/>
<area shape="rect" id="node12" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="1033,277,1171,319"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="415,123,549,164"/>
<area shape="rect" id="node15" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="410,547,554,588"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="663,71,734,98"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="633,240,765,281"/>
<area shape="rect" id="node9" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="849,205,955,231"/>
<area shape="rect" id="node11" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="838,255,966,282"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1015,205,1189,231"/>
<area shape="rect" id="node13" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1237,277,1411,319"/>
<area shape="rect" id="node16" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="613,423,785,464"/>
<area shape="rect" id="node17" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="643,706,755,733"/>
<area shape="rect" id="node20" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="633,655,764,682"/>
<area shape="rect" id="node22" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="643,554,755,581"/>
<area shape="rect" id="node29" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="634,605,763,631"/>
<area shape="rect" id="node31" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="625,488,773,529"/>
<area shape="rect" id="node18" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="839,706,965,733"/>
<area shape="rect" id="node19" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="1031,706,1173,733"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="841,655,963,682"/>
<area shape="rect" id="node23" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="839,554,965,581"/>
<area shape="rect" id="node24" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="1031,605,1173,647"/>
<area shape="rect" id="node25" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="1023,503,1181,530"/>
<area shape="rect" id="node27" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="1243,554,1405,581"/>
<area shape="rect" id="node26" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="1258,503,1390,530"/>
<area shape="rect" id="node28" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="1459,554,1592,581"/>
<area shape="rect" id="node30" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="841,605,963,631"/>
<area shape="rect" id="node32" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="837,357,967,399"/>
<area shape="rect" id="node33" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="837,423,967,464"/>
<area shape="rect" id="node34" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="837,488,967,529"/>
</map>
</div>

</div>
</div>
<a id="a44e21b984b71a487ba13e57a7d590312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e21b984b71a487ba13e57a7d590312">&#9670;&nbsp;</a></span>nilfs_collect_file_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_collect_file_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_cgraph" id="nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#afb743019402ac67c539a449d627a07da" title="nilfs_bmap_propagate" alt="" coords="200,166,349,193"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="657,272,727,298"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="201,411,349,452"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="408,155,543,196"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="645,162,739,189"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="843,162,947,189"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1028,137,1163,164"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1028,188,1163,214"/>
<area shape="rect" id="node7" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1237,137,1398,164"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1257,188,1377,214"/>
<area shape="rect" id="node10" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1644,137,1780,164"/>
<area shape="rect" id="node16" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1463,188,1585,214"/>
<area shape="rect" id="node17" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1452,239,1596,280"/>
<area shape="rect" id="node11" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1828,86,1981,113"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2032,137,2132,164"/>
<area shape="rect" id="node14" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2183,137,2321,164"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1863,188,1946,214"/>
<area shape="rect" id="node12" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="2029,36,2135,62"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66" title="nilfs_segctor_segsum\l_block_required" alt="" coords="401,440,550,482"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="397,272,553,298"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="601,323,783,364"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="411,506,539,547"/>
<area shape="rect" id="node28" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="1026,543,1165,584"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="408,323,543,364"/>
<area shape="rect" id="node31" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="403,732,547,774"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="626,506,758,547"/>
<area shape="rect" id="node25" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="843,470,948,497"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="831,521,959,548"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1008,470,1183,497"/>
<area shape="rect" id="node29" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1231,543,1404,584"/>
<area shape="rect" id="node32" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="606,623,778,664"/>
<area shape="rect" id="node33" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="636,689,748,716"/>
<area shape="rect" id="node36" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="627,740,757,766"/>
<area shape="rect" id="node38" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="636,790,748,817"/>
<area shape="rect" id="node45" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="627,841,757,868"/>
<area shape="rect" id="node47" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="618,924,766,966"/>
<area shape="rect" id="node34" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="832,689,959,716"/>
<area shape="rect" id="node35" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="1024,681,1167,708"/>
<area shape="rect" id="node37" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="835,740,956,766"/>
<area shape="rect" id="node39" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="832,790,959,817"/>
<area shape="rect" id="node40" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="1024,732,1167,774"/>
<area shape="rect" id="node41" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="1016,798,1175,825"/>
<area shape="rect" id="node43" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="1236,849,1399,876"/>
<area shape="rect" id="node42" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="1251,798,1383,825"/>
<area shape="rect" id="node44" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="1457,849,1591,876"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="834,841,957,868"/>
<area shape="rect" id="node48" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="831,892,960,934"/>
<area shape="rect" id="node49" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="831,958,960,999"/>
<area shape="rect" id="node50" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="831,1023,960,1064"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_icgraph" id="nilfs2_2segment_8c_a44e21b984b71a487ba13e57a7d590312_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="200,345,331,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="379,345,520,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="568,352,709,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="757,352,936,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1611,286,1761,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1403,411,1560,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="984,345,1168,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1833,200,1938,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1827,301,1943,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2036,149,2156,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2252,107,2367,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2244,208,2375,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2476,157,2565,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2475,5,2567,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2471,56,2570,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2478,107,2563,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2482,232,2559,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1612,352,1760,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1617,403,1755,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1608,469,1764,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2007,352,2185,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1816,411,1955,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2031,403,2161,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2233,411,2385,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2787,436,2893,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2471,512,2571,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2433,461,2608,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2951,499,3041,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2656,461,2733,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2781,575,2899,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2947,575,3045,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1812,469,1959,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2019,469,2173,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2254,563,2365,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1216,185,1355,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1407,352,1555,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1412,149,1551,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1636,99,1736,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1627,149,1745,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1826,251,1945,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1840,99,1931,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2037,235,2155,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2027,286,2165,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2239,309,2380,336"/>
</map>
</div>

</div>
</div>
<a id="a5b6d7fa2a9578d73a4f90db3fdd787a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6d7fa2a9578d73a4f90db3fdd787a2">&#9670;&nbsp;</a></span>nilfs_collect_file_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_collect_file_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5b6d7fa2a9578d73a4f90db3fdd787a2_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5b6d7fa2a9578d73a4f90db3fdd787a2_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5b6d7fa2a9578d73a4f90db3fdd787a2_cgraph" id="nilfs2_2segment_8c_a5b6d7fa2a9578d73a4f90db3fdd787a2_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#afb743019402ac67c539a449d627a07da" title="nilfs_bmap_propagate" alt="" coords="204,325,353,352"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="243,376,314,403"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="401,318,536,359"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="584,325,677,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="725,325,829,352"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="877,300,1012,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="877,351,1012,377"/>
<area shape="rect" id="node7" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1060,300,1221,327"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1081,351,1201,377"/>
<area shape="rect" id="node10" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1461,300,1597,327"/>
<area shape="rect" id="node20" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1280,351,1403,377"/>
<area shape="rect" id="node21" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1269,402,1413,443"/>
<area shape="rect" id="node11" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1645,249,1799,276"/>
<area shape="rect" id="node14" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2038,275,2177,301"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1868,300,1968,327"/>
<area shape="rect" id="node16" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1681,81,1763,108"/>
<area shape="rect" id="node12" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1865,132,1971,159"/>
<area shape="rect" id="node13" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1847,183,1989,225"/>
<area shape="rect" id="node17" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1861,31,1975,57"/>
<area shape="rect" id="node18" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2037,56,2177,83"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2054,5,2161,32"/>
</map>
</div>

</div>
</div>
<a id="a3d237ddff4eceb734233dc317e0075d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d237ddff4eceb734233dc317e0075d5">&#9670;&nbsp;</a></span>nilfs_construct_dsync_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_construct_dsync_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_construct_dsync_segment - construct a data-only logical segment : super block : inode whose data blocks should be written out : start byte offset : end byte offset (inclusive)</p>
<p>Return Value: On success, 0 is retured. On errors, one of the following negative error code is returned.</p>
<p>%-EROFS - Read only filesystem.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOSPC - No space left on device (only in a panic state).</p>
<p>%-ERESTARTSYS - Interrupted.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_cgraph" id="nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="210,1012,358,1039"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="645,600,824,627"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1665,496,1736,523"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="203,1233,365,1260"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="219,1284,349,1311"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="413,885,597,926"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1279,287,1418,313"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1278,170,1419,211"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1077,111,1213,153"/>
<area shape="rect" id="node13" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1296,236,1401,263"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1078,228,1213,255"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1078,462,1213,503"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="875,600,1017,627"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1279,775,1418,801"/>
<area shape="rect" id="node33" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="879,819,1013,845"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="880,753,1012,794"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="875,869,1017,896"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="888,921,1004,962"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="888,986,1004,1027"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1087,279,1203,321"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="875,1051,1017,1093"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="873,1117,1019,1158"/>
<area shape="rect" id="node44" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="872,55,1020,97"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="881,172,1011,199"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="883,701,1009,728"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="882,274,1010,315"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="879,441,1013,468"/>
<area shape="rect" id="node7" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="1478,170,1614,211"/>
<area shape="rect" id="node8" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1485,547,1607,573"/>
<area shape="rect" id="node9" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1475,496,1617,523"/>
<area shape="rect" id="node12" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1475,119,1617,145"/>
<area shape="rect" id="node16" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="1287,724,1410,751"/>
<area shape="rect" id="node17" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="1287,673,1411,700"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="1285,338,1413,379"/>
<area shape="rect" id="node19" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="1271,404,1427,431"/>
<area shape="rect" id="node20" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1273,521,1425,548"/>
<area shape="rect" id="node21" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="1289,623,1408,649"/>
<area shape="rect" id="node22" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="1274,455,1423,497"/>
<area shape="rect" id="node23" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="1288,572,1409,599"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="1079,345,1211,386"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1075,527,1216,569"/>
<area shape="rect" id="node28" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1284,869,1413,910"/>
<area shape="rect" id="node29" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="1089,724,1201,751"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1074,593,1217,634"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1070,658,1221,699"/>
<area shape="rect" id="node31" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1301,1032,1396,1059"/>
<area shape="rect" id="node35" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="1081,927,1210,953"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="1089,1079,1202,1105"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="1068,977,1223,1004"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_icgraph" id="nilfs2_2segment_8c_a3d237ddff4eceb734233dc317e0075d5_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="208,139,313,165"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="203,189,319,216"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="367,139,487,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="543,111,657,137"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="535,164,665,191"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="718,5,807,32"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="717,56,809,83"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="713,107,812,133"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="720,157,805,184"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="724,232,801,259"/>
</map>
</div>

</div>
</div>
<a id="ad8bab60b16b37c93e180e1ea3e1580ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8bab60b16b37c93e180e1ea3e1580ad">&#9670;&nbsp;</a></span>nilfs_construct_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_construct_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_construct_segment - construct a logical segment : super block</p>
<p>Return Value: On success, 0 is retured. On errors, one of the following negative error code is returned.</p>
<p>%-EROFS - Read only filesystem.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOSPC - No space left on device (only in a panic state).</p>
<p>%-ERESTARTSYS - Interrupted.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_cgraph" id="nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="217,5,348,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_icgraph" id="nilfs2_2segment_8c_ad8bab60b16b37c93e180e1ea3e1580ad_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="252,281,357,308"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="250,53,359,80"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1055,28,1161,55"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="860,155,959,181"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a88f66d269c57dae4d6eaf9eae22016b9" title="nilfs_ioctl_sync" alt="" coords="1237,185,1349,212"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="217,205,392,232"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749" title="nilfs_transaction_commit" alt="" coords="221,788,388,815"/>
<area shape="rect" id="node50" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="232,839,377,865"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1048,915,1168,941"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1236,1421,1351,1448"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1228,560,1359,587"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1411,1428,1501,1455"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1410,1504,1502,1531"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1407,1605,1505,1632"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1413,1365,1499,1392"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1417,408,1495,435"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1234,81,1353,108"/>
<area shape="rect" id="node17" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="479,205,557,232"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="661,256,766,283"/>
<area shape="rect" id="node20" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="655,205,772,232"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="865,256,954,283"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="831,205,988,232"/>
<area shape="rect" id="node23" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="646,864,781,891"/>
<area shape="rect" id="node24" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="463,991,573,1017"/>
<area shape="rect" id="node27" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1060,1260,1156,1287"/>
<area shape="rect" id="node29" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1071,1371,1145,1397"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="663,763,763,789"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="864,712,955,739"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="463,1523,573,1549"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="459,661,577,688"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="460,813,576,840"/>
<area shape="rect" id="node43" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="475,1675,561,1701"/>
<area shape="rect" id="node44" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="477,459,559,485"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1230,318,1357,359"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1234,401,1353,442"/>
<area shape="rect" id="node47" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1036,488,1180,515"/>
<area shape="rect" id="node48" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="440,611,596,637"/>
<area shape="rect" id="node25" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="644,1117,783,1144"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="660,1067,767,1093"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="657,965,770,992"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1049,1041,1167,1068"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="660,1016,767,1043"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1039,1126,1177,1167"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="860,1117,959,1144"/>
<area shape="rect" id="node28" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="859,1320,960,1347"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="847,1067,971,1093"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="845,965,973,992"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="850,1016,969,1043"/>
<area shape="rect" id="node49" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="644,611,783,637"/>
</map>
</div>

</div>
</div>
<a id="adfab781acf18797a0e45ef07137dd7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfab781acf18797a0e45ef07137dd7d3">&#9670;&nbsp;</a></span>nilfs_construction_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_construction_timeout </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_adfab781acf18797a0e45ef07137dd7d3_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_adfab781acf18797a0e45ef07137dd7d3_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_adfab781acf18797a0e45ef07137dd7d3_icgraph" id="nilfs2_2segment_8c_adfab781acf18797a0e45ef07137dd7d3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="177,119,304,145"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="352,119,504,145"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1911,188,2017,215"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1914,75,2014,101"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="552,119,727,145"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2093,137,2182,164"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="775,144,852,171"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="900,199,1017,225"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1095,199,1193,225"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1065,252,1223,279"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1275,312,1423,339"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1279,246,1418,287"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1271,195,1427,221"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1475,388,1653,415"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1740,513,1817,540"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1904,539,2024,565"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2080,539,2195,565"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2072,488,2203,515"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2255,463,2345,489"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2254,513,2346,540"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2251,564,2349,591"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2257,615,2343,641"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1495,271,1633,297"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1714,297,1843,338"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1491,144,1637,171"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1701,119,1856,145"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1909,125,2019,152"/>
</map>
</div>

</div>
</div>
<a id="a86ad97768e43fb1c81c962ab7f895fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ad97768e43fb1c81c962ab7f895fb0">&#9670;&nbsp;</a></span>nilfs_detach_log_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_detach_log_writer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_detach_log_writer - destroy log writer : super block instance</p>
<p>This kills log writer daemon, frees the log writer object, and destroys list of dirty files. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_cgraph" id="nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1496,110,1591,137"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="208,874,355,901"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="419,984,542,1010"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#ab6bad92d64b23f1bc7cdfca3b44df6bb" title="nilfs_segctor_kill\l_thread" alt="" coords="421,867,540,908"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="1065,946,1212,973"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="403,725,559,752"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="431,816,531,842"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1282,1098,1418,1139"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1283,1046,1417,1073"/>
<area shape="rect" id="node7" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1472,1105,1615,1132"/>
<area shape="rect" id="node10" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1491,1010,1596,1037"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1715,1076,1785,1102"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="1679,1127,1821,1168"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1663,1010,1837,1037"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="614,700,762,726"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="831,750,988,777"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="607,649,769,676"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="817,638,1001,679"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1049,592,1228,618"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1281,282,1419,309"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1279,334,1421,375"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1283,399,1417,440"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1279,516,1421,542"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1474,490,1613,517"/>
<area shape="rect" id="node22" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="1283,566,1417,593"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1284,216,1416,258"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="1279,617,1421,644"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1292,668,1408,710"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1292,734,1408,775"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1292,799,1408,840"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="1279,864,1421,906"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="1277,930,1423,971"/>
<area shape="rect" id="node30" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="1276,48,1424,90"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="1285,114,1415,141"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1287,165,1413,192"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="1067,693,1210,720"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1071,744,1206,770"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1080,794,1197,821"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="1069,845,1208,872"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1071,896,1206,922"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="1071,642,1206,669"/>
<area shape="rect" id="node42" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="667,984,709,1010"/>
<area shape="rect" id="node43" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="872,1048,947,1074"/>
<area shape="rect" id="node48" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="840,984,979,1010"/>
<area shape="rect" id="node44" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1087,1048,1190,1074"/>
<area shape="rect" id="node45" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1079,1098,1198,1125"/>
<area shape="rect" id="node46" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1077,1149,1200,1176"/>
<area shape="rect" id="node47" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1113,997,1164,1024"/>
<area shape="rect" id="node50" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="625,808,751,850"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_icgraph" id="nilfs2_2segment_8c_a86ad97768e43fb1c81c962ab7f895fb0_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1581,69,1691,95"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1773,246,1878,273"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1775,170,1875,197"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="208,145,383,171"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1560,246,1712,273"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1943,207,2033,234"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="431,229,508,255"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="556,229,673,255"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="751,203,849,230"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="721,254,879,281"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="931,313,1079,339"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="935,247,1074,288"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="927,195,1083,222"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1131,363,1309,390"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1396,539,1473,566"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1576,527,1696,554"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1768,527,1883,554"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1760,578,1891,605"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1943,553,2033,579"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1942,603,2034,630"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1939,451,2037,478"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1945,502,2031,529"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1151,254,1289,281"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1370,247,1499,288"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1147,145,1293,171"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1357,145,1512,171"/>
</map>
</div>

</div>
</div>
<a id="a6b6facffe5bf73523d4936fec680fa35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6facffe5bf73523d4936fec680fa35">&#9670;&nbsp;</a></span>nilfs_dispose_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_dispose_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_cgraph" id="nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="176,411,219,437"/>
<area shape="rect" id="node3" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="267,411,341,437"/>
<area shape="rect" id="node24" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1021,107,1159,133"/>
<area shape="rect" id="node4" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1039,664,1141,691"/>
<area shape="rect" id="node6" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="391,461,510,488"/>
<area shape="rect" id="node18" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="389,309,512,336"/>
<area shape="rect" id="node19" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="425,360,476,387"/>
<area shape="rect" id="node5" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1232,664,1359,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="566,461,723,488"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="575,563,714,589"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="777,344,960,371"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="802,497,935,538"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="779,445,958,472"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="787,395,950,421"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="795,563,943,589"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1046,504,1134,531"/>
<area shape="rect" id="node11" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1246,504,1345,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1420,504,1559,531"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1008,395,1172,421"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="585,411,704,437"/>
<area shape="rect" id="node21" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="583,208,706,235"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="560,360,729,387"/>
<area shape="rect" id="node23" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="825,251,913,277"/>
<area shape="rect" id="node25" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="607,512,683,539"/>
<area shape="rect" id="node28" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="607,259,683,285"/>
<area shape="rect" id="node29" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="593,157,696,184"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="841,613,896,640"/>
<area shape="rect" id="node27" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1021,613,1159,640"/>
<area shape="rect" id="node30" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="810,56,927,83"/>
<area shape="rect" id="node35" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="829,157,909,184"/>
<area shape="rect" id="node31" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1026,5,1154,32"/>
<area shape="rect" id="node32" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1009,56,1171,83"/>
<area shape="rect" id="node33" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1220,56,1371,83"/>
<area shape="rect" id="node34" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1419,56,1560,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_icgraph" id="nilfs2_2segment_8c_a6b6facffe5bf73523d4936fec680fa35_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a6e4937564a8e4e3f93f7cba490ca3e04" title="nilfs_iput_work_func" alt="" coords="176,528,317,555"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1679,477,1825,504"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1889,528,2044,555"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="365,528,492,555"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="540,528,692,555"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2099,413,2205,440"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2102,553,2202,580"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="740,528,915,555"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2281,483,2370,509"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="963,376,1040,403"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1088,325,1205,352"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1283,325,1381,352"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1253,275,1411,301"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1463,259,1611,285"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1467,310,1606,351"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1459,427,1615,453"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1663,259,1841,285"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1928,107,2005,133"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2092,81,2212,108"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2268,81,2383,108"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2260,132,2391,159"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2443,5,2533,32"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2442,56,2534,83"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2439,107,2537,133"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2445,157,2531,184"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1683,313,1821,340"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1902,255,2031,297"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2097,503,2207,529"/>
</map>
</div>

</div>
</div>
<a id="a1070dc291425e83910d480f6c9bd518f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1070dc291425e83910d480f6c9bd518f">&#9670;&nbsp;</a></span>nilfs_drop_collected_inodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_drop_collected_inodes </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a1070dc291425e83910d480f6c9bd518f_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a1070dc291425e83910d480f6c9bd518f_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a1070dc291425e83910d480f6c9bd518f_icgraph" id="nilfs2_2segment_8c_a1070dc291425e83910d480f6c9bd518f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="191,345,347,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="395,352,521,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="569,352,748,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1423,286,1573,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1215,411,1372,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="796,345,980,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1645,200,1750,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1639,301,1755,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1848,149,1968,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2064,107,2179,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2056,208,2187,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2288,157,2377,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2287,5,2379,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2283,56,2382,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2290,107,2375,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2294,232,2371,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1424,352,1572,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1429,403,1567,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1420,469,1576,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1819,352,1997,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1628,411,1767,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1843,403,1973,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2045,411,2197,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2599,436,2705,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2283,512,2383,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2245,461,2420,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2763,499,2853,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2468,461,2545,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2593,575,2711,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2759,575,2857,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1624,469,1771,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1831,469,1985,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2066,563,2177,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1028,185,1167,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1219,352,1367,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1224,149,1363,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1448,99,1548,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1439,149,1557,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1638,251,1757,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1652,99,1743,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1849,235,1967,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1839,286,1977,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2051,309,2192,336"/>
</map>
</div>

</div>
</div>
<a id="a16dc692dbd44d7383adcfa601135a4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16dc692dbd44d7383adcfa601135a4a4">&#9670;&nbsp;</a></span>nilfs_end_page_io()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_end_page_io </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_cgraph" id="nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_cgraph">
<area shape="rect" id="node2" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="181,5,309,47"/>
<area shape="rect" id="node3" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="180,71,311,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_icgraph" id="nilfs2_2segment_8c_a16dc692dbd44d7383adcfa601135a4a4_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="201,323,315,349"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="180,374,336,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="384,315,516,357"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="564,352,743,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1418,286,1567,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1209,411,1367,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="791,345,975,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1639,200,1745,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1634,301,1750,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1843,149,1963,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2059,107,2173,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2051,208,2181,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2283,157,2372,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2281,5,2373,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2278,56,2377,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2285,107,2370,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2289,232,2366,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1419,352,1567,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1423,403,1562,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1415,469,1571,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1813,352,1992,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1623,411,1761,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1838,403,1967,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2040,411,2192,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2594,436,2699,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2277,512,2377,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2240,461,2415,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2758,499,2847,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2463,461,2540,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2588,575,2705,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2753,575,2852,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1619,469,1765,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1825,469,1980,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2061,563,2171,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1023,185,1161,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1214,352,1362,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1219,149,1357,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1443,99,1543,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1433,149,1552,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1633,251,1751,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1647,99,1737,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1843,235,1962,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1833,286,1972,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2045,309,2187,336"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="387,381,513,408"/>
</map>
</div>

</div>
</div>
<a id="a822048d2520be4c95b92fea20e3e6b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a822048d2520be4c95b92fea20e3e6b8a">&#9670;&nbsp;</a></span>nilfs_fill_in_file_bmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_fill_in_file_bmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__inode__info.html">nilfs_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ii</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_cgraph" id="nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_cgraph">
<area shape="rect" id="node2" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="207,512,350,539"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#ac580a6c63197dea17f308f83a2a9bd08" title="nilfs_bmap_write" alt="" coords="219,584,339,611"/>
<area shape="rect" id="node8" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="200,679,357,705"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab" title="nilfs_palloc_block\l_get_entry" alt="" coords="606,470,731,511"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1052,871,1179,897"/>
<area shape="rect" id="node6" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1067,499,1163,525"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="1239,1149,1372,1190"/>
<area shape="rect" id="node9" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="418,1147,534,1189"/>
<area shape="rect" id="node32" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="419,703,533,745"/>
<area shape="rect" id="node36" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="408,623,544,665"/>
<area shape="rect" id="node37" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="405,1630,547,1671"/>
<area shape="rect" id="node41" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="616,208,721,235"/>
<area shape="rect" id="node10" href="nilfs2_2alloc_8c.html#a2526803bd330f64dcb666c31878f4eb4" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="600,1147,737,1189"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="595,609,743,650"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8c.html#a1f8d7aba0f6f185aa44dd4bfd3502dfe" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="607,951,730,993"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8c.html#ab3f5baf644a55149f2f20c5db5eb0ebf" title="nilfs_palloc_commit\l_alloc_entry" alt="" coords="600,1315,737,1357"/>
<area shape="rect" id="node26" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="830,1323,953,1349"/>
<area shape="rect" id="node30" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="820,1491,963,1517"/>
<area shape="rect" id="node11" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1049,1685,1182,1726"/>
<area shape="rect" id="node12" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="818,638,965,679"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="829,1023,954,1065"/>
<area shape="rect" id="node16" href="nilfs2_2alloc_8c.html#ab8256a97ece9ba89e3cbe79f0468830b" title="nilfs_palloc_rest_groups\l_in_desc_block" alt="" coords="810,1374,973,1415"/>
<area shape="rect" id="node17" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589" title="nilfs_mdt_bgl_lock" alt="" coords="826,921,957,948"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8c.html#aee132c5b54bde254f3af2bdc8f878c83" title="nilfs_palloc_group\l_desc_nfrees" alt="" coords="828,1206,955,1247"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="812,703,971,745"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a855136bfe85f7785f4f6663d4dea862c" title="nilfs_palloc_find_available_slot" alt="" coords="791,1272,992,1299"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0" title="nilfs_palloc_group\l_desc_add_entries" alt="" coords="826,1089,957,1130"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1040,645,1191,672"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1049,1374,1182,1415"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="830,521,953,562"/>
<area shape="rect" id="node27" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1055,1272,1176,1299"/>
<area shape="rect" id="node28" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1048,1323,1183,1349"/>
<area shape="rect" id="node29" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1046,1221,1185,1248"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1080,1520,1151,1547"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8c.html#afa77aa08a79995b4842a1eb8747bb28c" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="600,703,737,745"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8c.html#afff65bfc742d413273c521e44ddf03df" title="nilfs_palloc_abort\l_free_entry" alt="" coords="607,1082,730,1123"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8c.html#a56970c9a75cb02b1ccec9e1e5ba5ed49" title="nilfs_palloc_commit\l_free_entry" alt="" coords="600,1017,737,1058"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a815c851e023aca4cb389509b1664fe97" title="nilfs_palloc_count\l_max_entries" alt="" coords="605,1630,732,1671"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="828,1542,955,1583"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="821,1659,961,1701"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="832,99,951,125"/>
<area shape="rect" id="node44" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="842,149,941,176"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842" title="nilfs_palloc_init_blockgroup" alt="" coords="801,267,982,293"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b" title="nilfs_palloc_setup\l_cache" alt="" coords="828,201,955,242"/>
<area shape="rect" id="node47" href="ifile_8c.html#a03a081dea13d3bbdbbe6df452fef3a9f" title="NILFS_IFILE_I" alt="" coords="836,317,947,344"/>
<area shape="rect" id="node48" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="805,769,978,796"/>
<area shape="rect" id="node49" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="1051,23,1180,49"/>
<area shape="rect" id="node50" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="851,48,932,75"/>
<area shape="rect" id="node43" href="inode_8c.html#a0e9a0440646ab0424be87f1ee6387c64" title="iget5_locked" alt="" coords="1068,99,1163,125"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_icgraph" id="nilfs2_2segment_8c_a822048d2520be4c95b92fea20e3e6b8a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="200,345,316,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="364,352,543,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1218,286,1367,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1009,411,1167,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="591,345,775,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1439,200,1545,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1434,301,1550,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1643,149,1763,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1859,107,1973,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1851,208,1981,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2083,157,2172,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2081,5,2173,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2078,56,2177,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2085,107,2170,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2089,232,2166,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1219,352,1367,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1223,403,1362,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1215,469,1371,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1613,352,1792,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1423,411,1561,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1638,403,1767,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1840,411,1992,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2394,436,2499,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2077,512,2177,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2040,461,2215,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2558,499,2647,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2263,461,2340,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2388,575,2505,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2553,575,2652,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1419,469,1565,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1625,469,1780,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1861,563,1971,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="823,185,961,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1014,352,1162,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1019,149,1157,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1243,99,1343,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1233,149,1352,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1433,251,1551,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1447,99,1537,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1643,235,1762,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1633,286,1772,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1845,309,1987,336"/>
</map>
</div>

</div>
</div>
<a id="a253d648bff2e689773f61cd8097c7b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253d648bff2e689773f61cd8097c7b8a">&#9670;&nbsp;</a></span>nilfs_flush_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_flush_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>ino</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_flush_segment - trigger a segment construction for resource control : super block : inode number of the file to be flushed out. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_cgraph" id="nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a0958be515d06e808278718a66314d13c" title="nilfs_doing_construction" alt="" coords="192,56,355,83"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="197,107,349,133"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="403,5,577,32"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a4f28eeeb1e43263dd51971c1089e72a7" title="nilfs_acl_chmod" alt="" coords="432,56,548,83"/>
<area shape="rect" id="node5" href="nilfs_8h.html#ab1fd1beb5cf70ab584a99abfa28f72c2" title="nilfs_init_acl" alt="" coords="443,107,537,133"/>
<area shape="rect" id="node6" href="fs__struct_8c.html#ab40b5dfd0c4e09a3fa89604cb0a5294b" title="current_umask" alt="" coords="625,107,733,133"/>
<area shape="rect" id="node7" href="fs__struct_8c.html#a7cd69ee2bda612041d181e00324a908c" title="EXPORT_SYMBOL" alt="" coords="781,107,920,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_icgraph" id="nilfs2_2segment_8c_a253d648bff2e689773f61cd8097c7b8a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="210,5,319,32"/>
<area shape="rect" id="node3" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="192,56,337,83"/>
</map>
</div>

</div>
</div>
<a id="aa460eb83c61cec1ca9286a5c74b04c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa460eb83c61cec1ca9286a5c74b04c77">&#9670;&nbsp;</a></span>nilfs_free_incomplete_logs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_free_incomplete_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_cgraph" id="nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_cgraph">
<area shape="rect" id="node2" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="255,1148,368,1175"/>
<area shape="rect" id="node49" href="the__nilfs_8h.html#a45205c72b751a5a68b64d428da9370ed" title="nilfs_terminate_segment" alt="" coords="229,1097,393,1124"/>
<area shape="rect" id="node50" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="240,1047,383,1073"/>
<area shape="rect" id="node3" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="441,1097,572,1124"/>
<area shape="rect" id="node34" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="1101,1325,1235,1352"/>
<area shape="rect" id="node4" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="620,1097,800,1124"/>
<area shape="rect" id="node7" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1939,1379,2035,1405"/>
<area shape="rect" id="node10" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1315,601,1469,642"/>
<area shape="rect" id="node12" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="1309,1899,1475,1941"/>
<area shape="rect" id="node5" href="sufile_8h.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="848,1072,1031,1099"/>
<area shape="rect" id="node8" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="868,955,1011,997"/>
<area shape="rect" id="node9" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1109,1472,1227,1499"/>
<area shape="rect" id="node24" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1092,1537,1244,1564"/>
<area shape="rect" id="node25" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="1085,1613,1251,1654"/>
<area shape="rect" id="node26" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1359,2285,1425,2312"/>
<area shape="rect" id="node27" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="870,597,1009,624"/>
<area shape="rect" id="node28" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1093,1701,1243,1728"/>
<area shape="rect" id="node30" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1093,904,1243,931"/>
<area shape="rect" id="node32" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1099,824,1237,851"/>
<area shape="rect" id="node33" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="1096,1173,1240,1200"/>
<area shape="rect" id="node35" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="1079,1224,1257,1251"/>
<area shape="rect" id="node36" href="sufile_8h.html#a7e943e59486cd6176a3317bed589b7c9" title="nilfs_sufile_do_set\l_error" alt="" coords="1103,1107,1233,1149"/>
<area shape="rect" id="node37" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="876,720,1003,747"/>
<area shape="rect" id="node41" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1110,251,1226,277"/>
<area shape="rect" id="node48" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="1103,1988,1233,2015"/>
<area shape="rect" id="node6" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1347,1021,1437,1048"/>
<area shape="rect" id="node15" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="1319,1478,1465,1519"/>
<area shape="rect" id="node17" href="sufile_8c.html#a34ecb984fd0f57101d2ee0b4bde4bf95" title="nilfs_sufile_segment\l_usages_in_block" alt="" coords="1321,2067,1463,2109"/>
<area shape="rect" id="node18" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1540,1224,1663,1251"/>
<area shape="rect" id="node22" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1321,1275,1463,1301"/>
<area shape="rect" id="node11" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1532,743,1671,769"/>
<area shape="rect" id="node13" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="1527,1379,1675,1405"/>
<area shape="rect" id="node14" href="sufile_8c.html#a048a58aad760411d79b7e01d28babbb5" title="nilfs_sufile_segment\l_usages_per_block" alt="" coords="1737,1849,1878,1890"/>
<area shape="rect" id="node16" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="1527,1852,1676,1879"/>
<area shape="rect" id="node19" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1747,1224,1868,1251"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1740,1275,1875,1301"/>
<area shape="rect" id="node21" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1738,1173,1877,1200"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1566,296,1637,323"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a51bb53199a62a87f269e03404136d00f" title="nilfs_segment_is_active" alt="" coords="1311,1848,1473,1875"/>
<area shape="rect" id="node31" href="sufile_8c.html#af1d36bfa94541a3fdad59955464852ea" title="nilfs_sufile_mod_counter" alt="" coords="1309,1173,1475,1200"/>
<area shape="rect" id="node38" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="1339,397,1445,424"/>
<area shape="rect" id="node39" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="1099,1377,1237,1418"/>
<area shape="rect" id="node40" href="the__nilfs_8c.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="1097,425,1239,452"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="1333,43,1451,69"/>
<area shape="rect" id="node43" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="1343,93,1441,120"/>
<area shape="rect" id="node44" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1724,271,1891,297"/>
<area shape="rect" id="node45" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="1305,296,1479,323"/>
<area shape="rect" id="node46" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="1537,169,1666,196"/>
<area shape="rect" id="node47" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="1351,195,1433,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_icgraph" id="nilfs2_2segment_8c_aa460eb83c61cec1ca9286a5c74b04c77_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="229,345,361,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="409,352,588,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1263,286,1413,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1055,411,1212,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="636,345,820,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1485,200,1590,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1479,301,1595,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1688,149,1808,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1904,107,2019,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1896,208,2027,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2128,157,2217,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2127,5,2219,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2123,56,2222,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2130,107,2215,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2134,232,2211,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1264,352,1412,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1269,403,1407,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1260,469,1416,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1659,352,1837,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1468,411,1607,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1683,403,1813,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1885,411,2037,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2439,436,2545,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2123,512,2223,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2085,461,2260,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2603,499,2693,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2308,461,2385,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2433,575,2551,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2599,575,2697,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1464,469,1611,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1671,469,1825,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1906,563,2017,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="868,185,1007,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1059,352,1207,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1064,149,1203,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1288,99,1388,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1279,149,1397,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1478,251,1597,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1492,99,1583,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1689,235,1807,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1679,286,1817,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1891,309,2032,336"/>
</map>
</div>

</div>
</div>
<a id="a6e4937564a8e4e3f93f7cba490ca3e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4937564a8e4e3f93f7cba490ca3e04">&#9670;&nbsp;</a></span>nilfs_iput_work_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_iput_work_func </td>
          <td>(</td>
          <td class="paramtype">struct work_struct *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_cgraph" id="nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="195,411,317,437"/>
<area shape="rect" id="node3" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="365,411,408,437"/>
<area shape="rect" id="node4" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="456,411,531,437"/>
<area shape="rect" id="node25" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1210,107,1349,133"/>
<area shape="rect" id="node5" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1228,664,1331,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="581,461,699,488"/>
<area shape="rect" id="node19" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="579,309,701,336"/>
<area shape="rect" id="node20" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="615,360,665,387"/>
<area shape="rect" id="node6" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1421,664,1548,691"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="755,461,913,488"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="765,563,903,589"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="967,344,1149,371"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="991,497,1125,538"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="969,445,1147,472"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="977,395,1139,421"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="984,563,1132,589"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1235,504,1323,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1435,504,1534,531"/>
<area shape="rect" id="node13" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1609,504,1748,531"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1197,395,1361,421"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="775,411,893,437"/>
<area shape="rect" id="node22" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="773,208,895,235"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="749,360,919,387"/>
<area shape="rect" id="node24" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="1014,251,1102,277"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="796,512,872,539"/>
<area shape="rect" id="node29" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="796,259,872,285"/>
<area shape="rect" id="node30" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="783,157,885,184"/>
<area shape="rect" id="node27" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="1031,613,1085,640"/>
<area shape="rect" id="node28" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1210,613,1349,640"/>
<area shape="rect" id="node31" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="999,56,1117,83"/>
<area shape="rect" id="node36" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1018,157,1098,184"/>
<area shape="rect" id="node32" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1215,5,1343,32"/>
<area shape="rect" id="node33" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1198,56,1361,83"/>
<area shape="rect" id="node34" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1409,56,1560,83"/>
<area shape="rect" id="node35" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1608,56,1749,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_icgraph" id="nilfs2_2segment_8c_a6e4937564a8e4e3f93f7cba490ca3e04_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="195,119,321,145"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="369,119,521,145"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1929,188,2034,215"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1931,75,2031,101"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="569,119,744,145"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2110,137,2199,164"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="792,144,869,171"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="917,199,1035,225"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1112,199,1211,225"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1083,252,1240,279"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1292,312,1440,339"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1297,246,1435,287"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1288,195,1444,221"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1492,388,1671,415"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1757,513,1835,540"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1921,539,2041,565"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2097,539,2212,565"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2089,488,2220,515"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2273,463,2362,489"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2271,513,2363,540"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2268,564,2367,591"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2275,615,2360,641"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1512,271,1651,297"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1731,297,1861,338"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1508,144,1655,171"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1719,119,1873,145"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1926,125,2037,152"/>
</map>
</div>

</div>
</div>
<a id="a6194a6d85e10dcd389bbaa0c5c14fda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6194a6d85e10dcd389bbaa0c5c14fda3">&#9670;&nbsp;</a></span>nilfs_list_replace_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_list_replace_buffer </td>
          <td>(</td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>old_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>new_bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a6194a6d85e10dcd389bbaa0c5c14fda3_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a6194a6d85e10dcd389bbaa0c5c14fda3_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a6194a6d85e10dcd389bbaa0c5c14fda3_icgraph" id="nilfs2_2segment_8c_a6194a6d85e10dcd389bbaa0c5c14fda3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="172,345,315,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="363,352,504,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="552,352,731,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1406,286,1555,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1197,411,1355,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="779,345,963,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1627,200,1733,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1622,301,1738,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1831,149,1951,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2047,107,2161,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2039,208,2169,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2271,157,2360,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2269,5,2361,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2266,56,2365,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2273,107,2358,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2277,232,2354,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1407,352,1555,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1411,403,1550,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1403,469,1559,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1801,352,1980,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1611,411,1749,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1826,403,1955,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2028,411,2180,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2582,436,2687,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2265,512,2365,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2228,461,2403,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2746,499,2835,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2451,461,2528,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2576,575,2693,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2741,575,2840,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1607,469,1753,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1813,469,1968,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2049,563,2159,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1011,185,1149,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1202,352,1350,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1207,149,1345,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1431,99,1531,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1421,149,1540,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1621,251,1739,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1635,99,1725,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1831,235,1950,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1821,286,1960,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2033,309,2175,336"/>
</map>
</div>

</div>
</div>
<a id="a69fe342fa35cdc28f6c078c4b7201a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69fe342fa35cdc28f6c078c4b7201a09">&#9670;&nbsp;</a></span>nilfs_lookup_dirty_data_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t nilfs_lookup_dirty_data_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>listp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nlimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_cgraph" id="nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_cgraph">
<area shape="rect" id="node2" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="176,157,324,184"/>
<area shape="rect" id="node3" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="372,107,503,133"/>
<area shape="rect" id="node6" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="771,107,909,133"/>
<area shape="rect" id="node4" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="575,56,699,83"/>
<area shape="rect" id="node7" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="589,157,685,184"/>
<area shape="rect" id="node8" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="577,5,696,32"/>
<area shape="rect" id="node9" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="551,107,723,133"/>
<area shape="rect" id="node5" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="783,31,897,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_icgraph" id="nilfs2_2segment_8c_a69fe342fa35cdc28f6c078c4b7201a09_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="176,323,331,349"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="188,374,319,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="379,345,520,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="568,352,709,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="757,352,936,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1611,286,1761,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1403,411,1560,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="984,345,1168,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1833,200,1938,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1827,301,1943,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2036,149,2156,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2252,107,2367,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2244,208,2375,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2476,157,2565,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2475,5,2567,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2471,56,2570,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2478,107,2563,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2482,232,2559,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1612,352,1760,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1617,403,1755,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1608,469,1764,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2007,352,2185,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1816,411,1955,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2031,403,2161,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2233,411,2385,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2787,436,2893,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2471,512,2571,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2433,461,2608,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2951,499,3041,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2656,461,2733,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2781,575,2899,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2947,575,3045,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1812,469,1959,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2019,469,2173,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2254,563,2365,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1216,185,1355,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1407,352,1555,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1412,149,1551,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1636,99,1736,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1627,149,1745,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1826,251,1945,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1840,99,1931,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2037,235,2155,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2027,286,2165,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2239,309,2380,336"/>
</map>
</div>

</div>
</div>
<a id="a136cc66a7ca5131f7603271a44ecf99e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136cc66a7ca5131f7603271a44ecf99e">&#9670;&nbsp;</a></span>nilfs_lookup_dirty_node_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_lookup_dirty_node_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>listp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_cgraph" id="nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="176,13,247,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_icgraph" id="nilfs2_2segment_8c_a136cc66a7ca5131f7603271a44ecf99e_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="176,352,331,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="379,345,520,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="568,352,709,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="757,352,936,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1611,286,1761,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1403,411,1560,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="984,345,1168,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1833,200,1938,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1827,301,1943,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2036,149,2156,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2252,107,2367,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2244,208,2375,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2476,157,2565,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2475,5,2567,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2471,56,2570,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2478,107,2563,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2482,232,2559,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1612,352,1760,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1617,403,1755,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1608,469,1764,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2007,352,2185,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1816,411,1955,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2031,403,2161,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2233,411,2385,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2787,436,2893,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2471,512,2571,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2433,461,2608,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2951,499,3041,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2656,461,2733,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2781,575,2899,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2947,575,3045,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1812,469,1959,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2019,469,2173,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2254,563,2365,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1216,185,1355,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1407,352,1555,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1412,149,1551,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1636,99,1736,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1627,149,1745,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1826,251,1945,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1840,99,1931,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2037,235,2155,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2027,286,2165,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2239,309,2380,336"/>
</map>
</div>

</div>
</div>
<a id="ada0ba1bf162679380f6096c9f83b94ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0ba1bf162679380f6096c9f83b94ea">&#9670;&nbsp;</a></span>nilfs_prepare_segment_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_prepare_segment_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> *&#160;</td>
          <td class="paramname"><em>ti</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ada0ba1bf162679380f6096c9f83b94ea_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ada0ba1bf162679380f6096c9f83b94ea_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ada0ba1bf162679380f6096c9f83b94ea_icgraph" id="nilfs2_2segment_8c_ada0ba1bf162679380f6096c9f83b94ea_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ae4a012a0fc0026d060aa426f15cfb8a7" title="nilfs_transaction_begin" alt="" coords="237,828,392,855"/>
<area shape="rect" id="node3" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="853,144,987,171"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="659,360,768,387"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1280,499,1376,525"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1680,803,1769,829"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1679,853,1771,880"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1675,904,1774,931"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1682,549,1767,576"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1453,1173,1584,1200"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1291,361,1365,388"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1475,357,1562,384"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1477,575,1560,601"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1269,195,1387,221"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="870,803,970,829"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1087,853,1178,880"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="459,955,577,981"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="460,904,576,931"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="650,1570,777,1611"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="654,1451,773,1493"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1256,1741,1400,1768"/>
<area shape="rect" id="node39" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="440,1287,596,1313"/>
<area shape="rect" id="node5" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="851,549,989,576"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1268,803,1388,829"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="867,296,973,323"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="863,347,977,373"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="867,397,973,424"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1259,274,1397,315"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1083,549,1182,576"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1082,448,1183,475"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1071,499,1195,525"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1069,651,1197,677"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1461,803,1576,829"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1686,1640,1763,1667"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1461,853,1577,880"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1274,549,1382,576"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1073,296,1192,323"/>
<area shape="rect" id="node31" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1448,281,1589,308"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1637,281,1812,308"/>
<area shape="rect" id="node40" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="644,1348,783,1375"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="841,1107,999,1149"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="845,1224,995,1251"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="843,1275,997,1317"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="831,1341,1009,1382"/>
<area shape="rect" id="node47" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="843,1523,997,1565"/>
<area shape="rect" id="node48" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1064,1501,1201,1528"/>
<area shape="rect" id="node49" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1057,1589,1208,1616"/>
<area shape="rect" id="node50" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="837,1406,1003,1447"/>
<area shape="rect" id="node42" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1069,1107,1196,1149"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1059,1225,1206,1266"/>
</map>
</div>

</div>
</div>
<a id="a41b2f847cf14fdb22b140aea427b564c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41b2f847cf14fdb22b140aea427b564c">&#9670;&nbsp;</a></span>nilfs_redirty_inodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_redirty_inodes </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a41b2f847cf14fdb22b140aea427b564c_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a41b2f847cf14fdb22b140aea427b564c_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a41b2f847cf14fdb22b140aea427b564c_icgraph" id="nilfs2_2segment_8c_a41b2f847cf14fdb22b140aea427b564c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="188,352,367,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1042,286,1191,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="833,411,991,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="415,345,599,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1263,200,1369,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1258,301,1374,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1467,149,1587,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1683,107,1797,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1675,208,1805,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1907,157,1996,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1905,5,1997,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1902,56,2001,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1909,107,1994,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1913,232,1990,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1043,352,1191,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1047,403,1186,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1039,469,1195,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1437,352,1616,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1247,411,1385,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1462,403,1591,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1664,411,1816,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2218,436,2323,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1901,512,2001,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1864,461,2039,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2382,499,2471,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2087,461,2164,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2212,575,2329,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2377,575,2476,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1243,469,1389,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1449,469,1604,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1685,563,1795,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="647,185,785,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="838,352,986,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="843,149,981,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1067,99,1167,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1057,149,1176,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1257,251,1375,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1271,99,1361,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1467,235,1586,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1457,286,1596,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1669,309,1811,336"/>
</map>
</div>

</div>
</div>
<a id="afe95c1377231f98569c62d5cd7c5ee91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe95c1377231f98569c62d5cd7c5ee91">&#9670;&nbsp;</a></span>nilfs_relax_pressure_in_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_relax_pressure_in_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_cgraph" id="nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="192,815,376,857"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="424,823,603,849"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1064,260,1203,287"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1063,194,1204,235"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="657,135,793,177"/>
<area shape="rect" id="node11" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1081,311,1186,337"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="855,252,989,279"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="855,770,989,811"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="654,588,795,615"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1064,492,1203,519"/>
<area shape="rect" id="node32" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="657,721,792,748"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="856,1115,988,1157"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="654,823,795,849"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="667,874,783,915"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="667,939,783,981"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="864,303,980,345"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="653,1057,796,1098"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="651,1122,798,1163"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="651,1187,799,1229"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="659,1253,790,1280"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="859,1300,985,1327"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="661,1355,789,1397"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="657,1421,792,1448"/>
<area shape="rect" id="node6" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="1273,194,1409,235"/>
<area shape="rect" id="node7" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1279,853,1402,880"/>
<area shape="rect" id="node8" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1269,803,1412,829"/>
<area shape="rect" id="node10" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="851,100,993,127"/>
<area shape="rect" id="node14" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="1072,727,1195,753"/>
<area shape="rect" id="node15" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="1071,777,1195,804"/>
<area shape="rect" id="node16" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="1069,661,1197,702"/>
<area shape="rect" id="node17" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="1055,609,1211,636"/>
<area shape="rect" id="node18" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1057,879,1209,905"/>
<area shape="rect" id="node19" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="1074,828,1193,855"/>
<area shape="rect" id="node20" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="1059,981,1208,1022"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="1073,929,1194,956"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="856,369,988,410"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="851,551,993,593"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1069,543,1198,585"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="866,435,978,461"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="851,835,993,877"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="847,486,997,527"/>
<area shape="rect" id="node29" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1086,1047,1181,1073"/>
<area shape="rect" id="node30" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="1070,1148,1197,1175"/>
<area shape="rect" id="node34" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="1069,1300,1198,1327"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="1077,1199,1190,1225"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="1056,1249,1211,1276"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1045,1097,1221,1124"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="851,901,993,942"/>
<area shape="rect" id="node40" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84" title="nilfs_segbuf_fill_in\l_segsum" alt="" coords="857,966,987,1007"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_icgraph" id="nilfs2_2segment_8c_afe95c1377231f98569c62d5cd7c5ee91_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="192,488,331,515"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="379,463,479,489"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="527,539,645,565"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="527,361,645,388"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2437,425,2557,452"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="905,488,996,515"/>
<area shape="rect" id="node5" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="703,336,822,363"/>
<area shape="rect" id="node6" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="693,266,832,307"/>
<area shape="rect" id="node7" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="880,228,1021,255"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1069,220,1244,247"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1292,177,1369,204"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2634,68,2739,95"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1417,177,1535,204"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2805,105,2894,132"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1612,203,1711,229"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1583,152,1740,179"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1792,211,1940,237"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1797,145,1935,186"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1788,93,1944,120"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1992,324,2171,351"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2257,336,2335,363"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2629,425,2744,452"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2621,349,2752,376"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2805,501,2894,528"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2803,349,2895,376"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2800,400,2899,427"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2807,451,2892,477"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2012,163,2151,189"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2231,177,2361,218"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2421,195,2573,221"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2637,144,2737,171"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2008,93,2155,120"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2219,93,2373,120"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2442,93,2553,120"/>
</map>
</div>

</div>
</div>
<a id="aff101f52e4bf1099c796f00b25b4c3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff101f52e4bf1099c796f00b25b4c3b1">&#9670;&nbsp;</a></span>nilfs_remove_written_gcinodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_remove_written_gcinodes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_cgraph" id="nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_cgraph">
<area shape="rect" id="node2" href="btnode_8c.html#acd52f7f39a72cca11a6240f97c821d20" title="nilfs_btnode_cache\l_clear" alt="" coords="196,345,331,386"/>
<area shape="rect" id="node3" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="242,411,285,437"/>
<area shape="rect" id="node4" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="379,411,453,437"/>
<area shape="rect" id="node25" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1133,107,1271,133"/>
<area shape="rect" id="node5" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1151,664,1253,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="503,461,622,488"/>
<area shape="rect" id="node19" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="501,309,624,336"/>
<area shape="rect" id="node20" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="537,360,588,387"/>
<area shape="rect" id="node6" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1344,664,1471,691"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="678,461,835,488"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="687,563,826,589"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="889,344,1072,371"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="914,497,1047,538"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="891,445,1070,472"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="899,395,1062,421"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="907,563,1055,589"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1158,504,1246,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1358,504,1457,531"/>
<area shape="rect" id="node13" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1532,504,1671,531"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1120,395,1284,421"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="697,411,816,437"/>
<area shape="rect" id="node22" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="695,208,818,235"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="672,360,841,387"/>
<area shape="rect" id="node24" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="937,251,1025,277"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="719,512,795,539"/>
<area shape="rect" id="node29" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="719,259,795,285"/>
<area shape="rect" id="node30" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="705,157,808,184"/>
<area shape="rect" id="node27" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="953,613,1008,640"/>
<area shape="rect" id="node28" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1133,613,1271,640"/>
<area shape="rect" id="node31" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="922,56,1039,83"/>
<area shape="rect" id="node36" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="941,157,1021,184"/>
<area shape="rect" id="node32" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1138,5,1266,32"/>
<area shape="rect" id="node33" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1121,56,1283,83"/>
<area shape="rect" id="node34" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1332,56,1483,83"/>
<area shape="rect" id="node35" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1531,56,1672,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_icgraph" id="nilfs2_2segment_8c_aff101f52e4bf1099c796f00b25b4c3b1_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="196,107,344,133"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="392,107,571,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="619,107,696,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="744,81,864,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="920,81,1035,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="912,132,1043,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1095,5,1185,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1094,56,1186,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1091,107,1189,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1097,157,1183,184"/>
</map>
</div>

</div>
</div>
<a id="a106167b91db47aa55788611baecc2929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106167b91db47aa55788611baecc2929">&#9670;&nbsp;</a></span>nilfs_sc_cstage_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_sc_cstage_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a106167b91db47aa55788611baecc2929_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a106167b91db47aa55788611baecc2929_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a106167b91db47aa55788611baecc2929_icgraph" id="nilfs2_2segment_8c_a106167b91db47aa55788611baecc2929_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="192,429,333,470"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="381,377,523,404"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="571,352,749,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1425,286,1574,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1216,411,1373,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="797,345,981,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1646,200,1751,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1641,301,1757,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1849,149,1969,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2065,107,2180,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2057,208,2188,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2289,157,2379,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2288,5,2380,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2285,56,2383,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2291,107,2377,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2295,232,2373,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1425,352,1573,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1430,403,1569,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1421,469,1577,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1820,352,1999,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1629,411,1768,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1845,403,1974,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2047,411,2199,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2601,436,2706,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2284,512,2384,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2247,461,2421,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2765,499,2854,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2469,461,2547,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2595,575,2712,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2760,575,2859,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1625,469,1772,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1832,469,1987,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2067,563,2178,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1029,185,1168,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1221,352,1369,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1225,149,1364,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1449,99,1549,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1440,149,1559,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1639,251,1758,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1653,99,1744,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1850,235,1969,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1840,286,1979,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2052,309,2193,336"/>
</map>
</div>

</div>
</div>
<a id="aaffe4cc5e23bc52435b3f779defc6553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaffe4cc5e23bc52435b3f779defc6553">&#9670;&nbsp;</a></span>nilfs_sc_cstage_inc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_sc_cstage_inc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aaffe4cc5e23bc52435b3f779defc6553_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_aaffe4cc5e23bc52435b3f779defc6553_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aaffe4cc5e23bc52435b3f779defc6553_icgraph" id="nilfs2_2segment_8c_aaffe4cc5e23bc52435b3f779defc6553_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="191,345,332,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="380,352,521,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="569,352,748,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1423,286,1573,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1215,411,1372,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="796,345,980,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1645,200,1750,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1639,301,1755,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1848,149,1968,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2064,107,2179,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2056,208,2187,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2288,157,2377,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2287,5,2379,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2283,56,2382,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2290,107,2375,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2294,232,2371,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1424,352,1572,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1429,403,1567,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1420,469,1576,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1819,352,1997,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1628,411,1767,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1843,403,1973,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2045,411,2197,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2599,436,2705,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2283,512,2383,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2245,461,2420,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2763,499,2853,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2468,461,2545,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2593,575,2711,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2759,575,2857,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1624,469,1771,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1831,469,1985,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2066,563,2177,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1028,185,1167,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1219,352,1367,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1224,149,1363,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1448,99,1548,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1439,149,1557,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1638,251,1757,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1652,99,1743,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1849,235,1967,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1839,286,1977,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2051,309,2192,336"/>
</map>
</div>

</div>
</div>
<a id="a5178d3fd1af80a6dfe7402161af775b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5178d3fd1af80a6dfe7402161af775b7">&#9670;&nbsp;</a></span>nilfs_sc_cstage_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_sc_cstage_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_scnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5178d3fd1af80a6dfe7402161af775b7_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5178d3fd1af80a6dfe7402161af775b7_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5178d3fd1af80a6dfe7402161af775b7_icgraph" id="nilfs2_2segment_8c_a5178d3fd1af80a6dfe7402161af775b7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="192,374,333,415"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="571,352,749,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="381,377,523,404"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1425,286,1574,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1216,411,1373,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="797,345,981,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1646,200,1751,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1641,301,1757,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1849,149,1969,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2065,107,2180,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2057,208,2188,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2289,157,2379,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2288,5,2380,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2285,56,2383,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2291,107,2377,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2295,232,2373,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1425,352,1573,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1430,403,1569,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1421,469,1577,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1820,352,1999,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1629,411,1768,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1845,403,1974,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2047,411,2199,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2601,436,2706,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2284,512,2384,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2247,461,2421,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2765,499,2854,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2469,461,2547,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2595,575,2712,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2760,575,2859,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1625,469,1772,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1832,469,1987,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2067,563,2178,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1029,185,1168,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1221,352,1369,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1225,149,1364,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1449,99,1549,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1440,149,1559,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1639,251,1758,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1653,99,1744,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1850,235,1969,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1840,286,1979,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2052,309,2193,336"/>
</map>
</div>

</div>
</div>
<a id="a309af2cb7fa5f929676eb2aeb83abf1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309af2cb7fa5f929676eb2aeb83abf1a">&#9670;&nbsp;</a></span>nilfs_segctor_abort_construction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_abort_construction </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_cgraph" id="nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="226,455,321,481"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="209,505,338,532"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="217,556,330,583"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="813,980,967,1007"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="185,683,361,709"/>
<area shape="rect" id="node46" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="825,515,955,557"/>
<area shape="rect" id="node47" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="210,860,337,887"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="430,501,553,528"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4" title="nilfs_end_page_io" alt="" coords="428,552,555,579"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="623,541,751,582"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="621,475,752,517"/>
<area shape="rect" id="node10" href="sufile_8c.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="1036,1170,1203,1211"/>
<area shape="rect" id="node11" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1692,565,1788,592"/>
<area shape="rect" id="node12" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="1259,617,1425,658"/>
<area shape="rect" id="node15" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="1269,886,1415,927"/>
<area shape="rect" id="node17" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1487,1079,1609,1105"/>
<area shape="rect" id="node21" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1271,1155,1413,1181"/>
<area shape="rect" id="node13" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1479,363,1617,389"/>
<area shape="rect" id="node14" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="1474,620,1622,647"/>
<area shape="rect" id="node16" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="1473,835,1623,861"/>
<area shape="rect" id="node18" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1679,1079,1801,1105"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1673,1129,1807,1156"/>
<area shape="rect" id="node20" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1671,1028,1809,1055"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1513,1155,1583,1181"/>
<area shape="rect" id="node24" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="435,708,548,735"/>
<area shape="rect" id="node44" href="the__nilfs_8h.html#a45205c72b751a5a68b64d428da9370ed" title="nilfs_terminate_segment" alt="" coords="409,657,573,684"/>
<area shape="rect" id="node45" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="420,759,563,785"/>
<area shape="rect" id="node25" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="621,657,752,684"/>
<area shape="rect" id="node41" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="1052,936,1187,963"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="800,657,980,684"/>
<area shape="rect" id="node31" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1265,195,1419,237"/>
<area shape="rect" id="node27" href="sufile_8h.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1028,531,1211,557"/>
<area shape="rect" id="node29" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="1048,465,1191,506"/>
<area shape="rect" id="node30" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1060,733,1179,760"/>
<area shape="rect" id="node32" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1043,1053,1195,1080"/>
<area shape="rect" id="node33" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="1036,1105,1203,1146"/>
<area shape="rect" id="node34" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1086,683,1153,709"/>
<area shape="rect" id="node35" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1050,308,1189,335"/>
<area shape="rect" id="node36" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1044,632,1195,659"/>
<area shape="rect" id="node37" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1044,784,1195,811"/>
<area shape="rect" id="node39" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1051,413,1188,440"/>
<area shape="rect" id="node40" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="1047,885,1191,912"/>
<area shape="rect" id="node42" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="1030,835,1209,861"/>
<area shape="rect" id="node43" href="sufile_8h.html#a7e943e59486cd6176a3317bed589b7c9" title="nilfs_sufile_do_set\l_error" alt="" coords="1054,987,1185,1029"/>
<area shape="rect" id="node28" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1297,565,1387,592"/>
<area shape="rect" id="node38" href="sufile_8c.html#af1d36bfa94541a3fdad59955464852ea" title="nilfs_sufile_mod_counter" alt="" coords="1259,1003,1425,1029"/>
<area shape="rect" id="node48" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="426,860,557,887"/>
<area shape="rect" id="node49" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="623,911,750,937"/>
<area shape="rect" id="node50" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="626,860,747,887"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_icgraph" id="nilfs2_2segment_8c_a309af2cb7fa5f929676eb2aeb83abf1a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="185,352,364,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1039,286,1189,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="831,411,988,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="412,345,596,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1261,200,1366,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1255,301,1371,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1464,149,1584,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1680,107,1795,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1672,208,1803,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1904,157,1993,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1903,5,1995,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1899,56,1998,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1906,107,1991,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1910,232,1987,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1040,352,1188,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1045,403,1183,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1036,469,1192,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1435,352,1613,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1244,411,1383,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1459,403,1589,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1661,411,1813,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2215,436,2321,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1899,512,1999,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1861,461,2036,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2379,499,2469,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2084,461,2161,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2209,575,2327,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2375,575,2473,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1240,469,1387,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1447,469,1601,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1682,563,1793,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="644,185,783,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="835,352,983,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="840,149,979,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1064,99,1164,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1055,149,1173,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1254,251,1373,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1268,99,1359,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1465,235,1583,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1455,286,1593,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1667,309,1808,336"/>
</map>
</div>

</div>
</div>
<a id="ad6d1fbf5aeb3c08db664728f67d892fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d1fbf5aeb3c08db664728f67d892fe">&#9670;&nbsp;</a></span>nilfs_segctor_accept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_accept </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_accept - record accepted sequence count of log-write requests : segment constructor object </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad6d1fbf5aeb3c08db664728f67d892fe_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad6d1fbf5aeb3c08db664728f67d892fe_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad6d1fbf5aeb3c08db664728f67d892fe_icgraph" id="nilfs2_2segment_8c_ad6d1fbf5aeb3c08db664728f67d892fe_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="196,259,353,285"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="405,149,553,176"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="410,222,549,263"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="401,288,557,315"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="605,139,784,165"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="871,132,948,159"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1051,81,1171,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1265,81,1379,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1257,132,1387,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1462,157,1551,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1461,5,1553,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1457,56,1556,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1464,107,1549,133"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="625,229,764,256"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="845,222,974,263"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1035,233,1187,260"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1610,323,1715,349"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1272,233,1372,260"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1235,385,1409,412"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1774,297,1863,324"/>
<area shape="rect" id="node21" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1468,385,1545,412"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1604,399,1721,425"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1769,399,1868,425"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="621,288,768,315"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="832,288,987,315"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1055,284,1166,311"/>
</map>
</div>

</div>
</div>
<a id="a727dcab7fbe9bc5d59671b2e13acb698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a727dcab7fbe9bc5d59671b2e13acb698">&#9670;&nbsp;</a></span>nilfs_segctor_add_file_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_add_file_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>binfo_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_cgraph" id="nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66" title="nilfs_segctor_segsum\l_block_required" alt="" coords="205,5,354,47"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="201,71,357,98"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="405,123,587,164"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="215,240,343,281"/>
<area shape="rect" id="node11" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="830,277,969,319"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="212,123,347,164"/>
<area shape="rect" id="node14" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="207,547,351,588"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="461,71,531,98"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="430,240,562,281"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="647,205,752,231"/>
<area shape="rect" id="node10" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="635,255,763,282"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="812,205,987,231"/>
<area shape="rect" id="node12" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1035,277,1208,319"/>
<area shape="rect" id="node15" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="410,423,582,464"/>
<area shape="rect" id="node16" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="440,706,552,733"/>
<area shape="rect" id="node19" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="431,655,561,682"/>
<area shape="rect" id="node21" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="440,554,552,581"/>
<area shape="rect" id="node28" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="431,605,561,631"/>
<area shape="rect" id="node30" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="422,488,570,529"/>
<area shape="rect" id="node17" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="636,706,763,733"/>
<area shape="rect" id="node18" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="828,706,971,733"/>
<area shape="rect" id="node20" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="639,655,760,682"/>
<area shape="rect" id="node22" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="636,554,763,581"/>
<area shape="rect" id="node23" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="828,605,971,647"/>
<area shape="rect" id="node24" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="820,503,979,530"/>
<area shape="rect" id="node26" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="1040,554,1203,581"/>
<area shape="rect" id="node25" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="1055,503,1187,530"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="1256,554,1389,581"/>
<area shape="rect" id="node29" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="638,605,761,631"/>
<area shape="rect" id="node31" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="635,357,764,399"/>
<area shape="rect" id="node32" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="635,423,764,464"/>
<area shape="rect" id="node33" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="635,488,764,529"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_icgraph" id="nilfs2_2segment_8c_a727dcab7fbe9bc5d59671b2e13acb698_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="205,352,352,379"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="201,403,356,429"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="205,453,353,480"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="201,504,356,531"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="404,345,535,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="583,345,724,386"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="772,352,913,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="961,352,1140,379"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1815,286,1965,327"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1607,411,1764,437"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1188,345,1372,386"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2037,200,2142,227"/>
<area shape="rect" id="node17" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2031,301,2147,328"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2240,149,2360,176"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2456,107,2571,133"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2448,208,2579,235"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2680,157,2769,184"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2679,5,2771,32"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2675,56,2774,83"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2682,107,2767,133"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2686,232,2763,259"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1816,352,1964,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1821,403,1959,445"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1812,469,1968,496"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2211,352,2389,379"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2020,411,2159,437"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2235,403,2365,445"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2437,411,2589,437"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2991,436,3097,463"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2675,512,2775,539"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2637,461,2812,488"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3155,499,3245,525"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2860,461,2937,488"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2985,575,3103,601"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="3151,575,3249,601"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2016,469,2163,496"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2223,469,2377,496"/>
<area shape="rect" id="node35" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2458,563,2569,589"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1420,185,1559,226"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1611,352,1759,379"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1616,149,1755,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1840,99,1940,125"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1831,149,1949,176"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2030,251,2149,277"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2044,99,2135,125"/>
<area shape="rect" id="node41" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2241,235,2359,261"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2231,286,2369,327"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2443,309,2584,336"/>
</map>
</div>

</div>
</div>
<a id="a85858fb40e1f103a76c3b687018ed807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85858fb40e1f103a76c3b687018ed807">&#9670;&nbsp;</a></span>nilfs_segctor_add_super_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_add_super_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_cgraph" id="nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="251,26,379,67"/>
<area shape="rect" id="node9" href="segbuf_8c.html#a2c98ed4ccb2e713f1fc449ff36ac9b9f" title="nilfs_segbuf_extend\l_payload" alt="" coords="245,91,384,133"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="452,26,584,67"/>
<area shape="rect" id="node4" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="663,8,769,35"/>
<area shape="rect" id="node6" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="652,60,780,87"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="828,5,1003,32"/>
<area shape="rect" id="node7" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="846,57,985,98"/>
<area shape="rect" id="node8" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1051,57,1224,98"/>
<area shape="rect" id="node10" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="432,91,604,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_icgraph" id="nilfs2_2segment_8c_a85858fb40e1f103a76c3b687018ed807_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="245,345,387,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="435,352,576,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="624,352,803,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1478,286,1627,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1269,411,1427,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="851,345,1035,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1699,200,1805,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1694,301,1810,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1903,149,2023,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2119,107,2233,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2111,208,2241,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2343,157,2432,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2341,5,2433,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2338,56,2437,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2345,107,2430,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2349,232,2426,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1479,352,1627,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1483,403,1622,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1475,469,1631,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1873,352,2052,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1683,411,1821,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1898,403,2027,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2100,411,2252,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2654,436,2759,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2337,512,2437,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2300,461,2475,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2818,499,2907,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2523,461,2600,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2648,575,2765,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2813,575,2912,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1679,469,1825,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1885,469,2040,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2121,563,2231,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1083,185,1221,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1274,352,1422,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1279,149,1417,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1503,99,1603,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1493,149,1612,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1693,251,1811,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1707,99,1797,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1903,235,2022,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1893,286,2032,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2105,309,2247,336"/>
</map>
</div>

</div>
</div>
<a id="ac6597daa41d51e252f25e4a0c8027bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6597daa41d51e252f25e4a0c8027bbb">&#9670;&nbsp;</a></span>nilfs_segctor_apply_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_apply_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>listp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *, struct buffer_head *, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *)&#160;</td>
          <td class="paramname"><em>collect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ac6597daa41d51e252f25e4a0c8027bbb_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ac6597daa41d51e252f25e4a0c8027bbb_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ac6597daa41d51e252f25e4a0c8027bbb_icgraph" id="nilfs2_2segment_8c_ac6597daa41d51e252f25e4a0c8027bbb_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="188,323,343,349"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="200,374,331,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="391,345,532,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="580,352,721,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="769,352,948,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1623,286,1773,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1415,411,1572,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="996,345,1180,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1845,200,1950,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1839,301,1955,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2048,149,2168,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2264,107,2379,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2256,208,2387,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2488,157,2577,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2487,5,2579,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2483,56,2582,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2490,107,2575,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2494,232,2571,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1624,352,1772,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1629,403,1767,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1620,469,1776,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2019,352,2197,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1828,411,1967,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2043,403,2173,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2245,411,2397,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2799,436,2905,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2483,512,2583,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2445,461,2620,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2963,499,3053,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2668,461,2745,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2793,575,2911,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2959,575,3057,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1824,469,1971,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2031,469,2185,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2266,563,2377,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1228,185,1367,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1419,352,1567,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1424,149,1563,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1648,99,1748,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1639,149,1757,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1838,251,1957,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1852,99,1943,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2049,235,2167,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2039,286,2177,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2251,309,2392,336"/>
</map>
</div>

</div>
</div>
<a id="a0b6ab5ea47dd22b60896728d79280b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b6ab5ea47dd22b60896728d79280b78">&#9670;&nbsp;</a></span>nilfs_segctor_assign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_assign </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_cgraph" id="nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="195,318,337,359"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84" title="nilfs_segbuf_fill_in\l_segsum" alt="" coords="201,383,331,425"/>
<area shape="rect" id="node3" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="443,208,509,235"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="385,259,567,301"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#a0916dd1fafed37f0de176751552782b4" title="nilfs_bmap_assign" alt="" coords="411,325,541,352"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="441,376,511,403"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a6194a6d85e10dcd389bbaa0c5c14fda3" title="nilfs_list_replace\l_buffer" alt="" coords="417,427,535,469"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="615,318,749,359"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="797,325,891,352"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="939,325,1043,352"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1091,300,1225,327"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1091,351,1225,377"/>
<area shape="rect" id="node10" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1273,300,1435,327"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1294,351,1414,377"/>
<area shape="rect" id="node13" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1675,300,1811,327"/>
<area shape="rect" id="node23" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1493,351,1616,377"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1483,402,1627,443"/>
<area shape="rect" id="node14" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1859,249,2012,276"/>
<area shape="rect" id="node17" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2251,275,2390,301"/>
<area shape="rect" id="node18" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2081,300,2181,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1894,81,1977,108"/>
<area shape="rect" id="node15" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="2079,132,2184,159"/>
<area shape="rect" id="node16" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="2060,183,2203,225"/>
<area shape="rect" id="node20" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2075,31,2188,57"/>
<area shape="rect" id="node21" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2251,56,2391,83"/>
<area shape="rect" id="node22" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2267,5,2374,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_icgraph" id="nilfs2_2segment_8c_a0b6ab5ea47dd22b60896728d79280b78_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="195,352,373,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1049,286,1198,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="840,411,997,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="421,345,605,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1270,200,1375,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1265,301,1381,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1473,149,1593,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1689,107,1804,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1681,208,1812,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1913,157,2003,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1912,5,2004,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1909,56,2007,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1915,107,2001,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1919,232,1997,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1049,352,1197,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1054,403,1193,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1045,469,1201,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1444,352,1623,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1253,411,1392,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1469,403,1598,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1671,411,1823,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2225,436,2330,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1908,512,2008,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1871,461,2045,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2389,499,2478,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2093,461,2171,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2219,575,2336,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2384,575,2483,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1249,469,1396,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1456,469,1611,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1691,563,1802,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="653,185,792,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="845,352,993,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="849,149,988,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1073,99,1173,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1064,149,1183,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1263,251,1382,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1277,99,1368,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1474,235,1593,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1464,286,1603,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1676,309,1817,336"/>
</map>
</div>

</div>
</div>
<a id="abefe9b057b0e0d967e78abdfad63f7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abefe9b057b0e0d967e78abdfad63f7fc">&#9670;&nbsp;</a></span>nilfs_segctor_begin_construction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_begin_construction </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_begin_construction - setup segment buffer to make a new log : <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> : nilfs object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_cgraph" id="nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="205,731,327,757"/>
<area shape="rect" id="node3" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="420,5,544,32"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="202,833,330,874"/>
<area shape="rect" id="node6" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="188,899,344,925"/>
<area shape="rect" id="node7" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="635,1219,787,1245"/>
<area shape="rect" id="node23" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="207,949,325,976"/>
<area shape="rect" id="node48" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="191,1758,341,1799"/>
<area shape="rect" id="node50" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="205,1824,327,1851"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="851,259,1017,285"/>
<area shape="rect" id="node8" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="851,681,1017,722"/>
<area shape="rect" id="node15" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="873,1285,995,1312"/>
<area shape="rect" id="node21" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="863,1235,1005,1261"/>
<area shape="rect" id="node9" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1071,609,1209,636"/>
<area shape="rect" id="node12" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="1066,696,1214,723"/>
<area shape="rect" id="node10" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1280,635,1425,661"/>
<area shape="rect" id="node11" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1275,584,1431,611"/>
<area shape="rect" id="node13" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1491,860,1587,887"/>
<area shape="rect" id="node14" href="sufile_8c.html#a048a58aad760411d79b7e01d28babbb5" title="nilfs_sufile_segment\l_usages_per_block" alt="" coords="1282,823,1423,865"/>
<area shape="rect" id="node16" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1079,1336,1201,1363"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1073,1285,1207,1312"/>
<area shape="rect" id="node20" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1071,1387,1209,1413"/>
<area shape="rect" id="node17" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1267,1340,1439,1367"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1263,1274,1443,1315"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1105,1235,1175,1261"/>
<area shape="rect" id="node24" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="889,1361,979,1388"/>
<area shape="rect" id="node25" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="857,563,1011,605"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="392,899,572,925"/>
<area shape="rect" id="node30" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="861,1067,1007,1109"/>
<area shape="rect" id="node32" href="sufile_8c.html#a34ecb984fd0f57101d2ee0b4bde4bf95" title="nilfs_sufile_segment\l_usages_in_block" alt="" coords="863,849,1005,890"/>
<area shape="rect" id="node27" href="sufile_8h.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="620,1488,803,1515"/>
<area shape="rect" id="node28" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="640,1539,783,1581"/>
<area shape="rect" id="node29" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="652,848,771,875"/>
<area shape="rect" id="node33" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="635,1067,787,1093"/>
<area shape="rect" id="node34" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="628,1001,795,1042"/>
<area shape="rect" id="node35" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="901,411,967,437"/>
<area shape="rect" id="node36" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="642,341,781,368"/>
<area shape="rect" id="node37" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="636,747,787,773"/>
<area shape="rect" id="node38" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="636,797,787,824"/>
<area shape="rect" id="node39" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="643,392,780,419"/>
<area shape="rect" id="node40" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="646,544,777,571"/>
<area shape="rect" id="node41" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="639,1336,783,1363"/>
<area shape="rect" id="node42" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="644,1387,779,1413"/>
<area shape="rect" id="node43" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="622,1437,801,1464"/>
<area shape="rect" id="node44" href="sufile_8h.html#a7e943e59486cd6176a3317bed589b7c9" title="nilfs_sufile_do_set\l_error" alt="" coords="646,1270,777,1311"/>
<area shape="rect" id="node45" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="648,1117,775,1144"/>
<area shape="rect" id="node46" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="653,899,769,925"/>
<area shape="rect" id="node47" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="646,595,777,621"/>
<area shape="rect" id="node31" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="1065,889,1215,916"/>
<area shape="rect" id="node49" href="the__nilfs_8h.html#a2eaeef6fdc47c7f32d69dc50faddad8e" title="nilfs_get_segment_start\l_blocknr" alt="" coords="401,1758,563,1799"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_icgraph" id="nilfs2_2segment_8c_abefe9b057b0e0d967e78abdfad63f7fc_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="188,352,367,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1042,286,1191,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="833,411,991,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="415,345,599,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1263,200,1369,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1258,301,1374,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1467,149,1587,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1683,107,1797,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1675,208,1805,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1907,157,1996,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1905,5,1997,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1902,56,2001,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1909,107,1994,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1913,232,1990,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1043,352,1191,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1047,403,1186,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1039,469,1195,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1437,352,1616,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1247,411,1385,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1462,403,1591,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1664,411,1816,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2218,436,2323,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1901,512,2001,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1864,461,2039,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2382,499,2471,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2087,461,2164,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2212,575,2329,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2377,575,2476,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1243,469,1389,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1449,469,1604,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1685,563,1795,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="647,185,785,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="838,352,986,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="843,149,981,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1067,99,1167,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1057,149,1176,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1257,251,1375,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1271,99,1361,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1467,235,1586,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1457,286,1596,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1669,309,1811,336"/>
</map>
</div>

</div>
</div>
<a id="ae8c30c841e80044de622494a894368c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c30c841e80044de622494a894368c3">&#9670;&nbsp;</a></span>nilfs_segctor_begin_finfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_begin_finfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_cgraph" id="nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="188,5,369,47"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="243,71,314,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_icgraph" id="nilfs2_2segment_8c_ae8c30c841e80044de622494a894368c3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="188,421,336,462"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="388,352,535,379"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="384,403,539,429"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="387,453,535,480"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="384,504,539,531"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="587,345,717,386"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="765,345,907,386"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="955,352,1096,379"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1144,352,1323,379"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1998,286,2147,327"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1789,411,1947,437"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1371,345,1555,386"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2219,200,2325,227"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2214,301,2330,328"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2423,149,2543,176"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2639,107,2753,133"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2631,208,2761,235"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2863,157,2952,184"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2861,5,2953,32"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2858,56,2957,83"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2865,107,2950,133"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2869,232,2946,259"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1999,352,2147,379"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2003,403,2142,445"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1995,469,2151,496"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2393,352,2572,379"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2203,411,2341,437"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2418,403,2547,445"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2620,411,2772,437"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3174,436,3279,463"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2857,512,2957,539"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2820,461,2995,488"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3338,499,3427,525"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3043,461,3120,488"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3168,575,3285,601"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="3333,575,3432,601"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2199,469,2345,496"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2405,469,2560,496"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2641,563,2751,589"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1603,185,1741,226"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1794,352,1942,379"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1799,149,1937,176"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2023,99,2123,125"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2013,149,2132,176"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2213,251,2331,277"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2227,99,2317,125"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2423,235,2542,261"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2413,286,2552,327"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2625,309,2767,336"/>
</map>
</div>

</div>
</div>
<a id="addf2c923fddae2656bb73aeb0fbb3baa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf2c923fddae2656bb73aeb0fbb3baa">&#9670;&nbsp;</a></span>nilfs_segctor_buffer_rest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t nilfs_segctor_buffer_rest </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_addf2c923fddae2656bb73aeb0fbb3baa_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_addf2c923fddae2656bb73aeb0fbb3baa_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_addf2c923fddae2656bb73aeb0fbb3baa_icgraph" id="nilfs2_2segment_8c_addf2c923fddae2656bb73aeb0fbb3baa_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="219,323,373,349"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="231,374,361,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="421,345,563,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="611,352,752,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="800,352,979,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1654,286,1803,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1445,411,1603,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1027,345,1211,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1875,200,1981,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1870,301,1986,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2079,149,2199,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2295,107,2409,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2287,208,2417,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2519,157,2608,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2517,5,2609,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2514,56,2613,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2521,107,2606,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2525,232,2602,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1655,352,1803,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1659,403,1798,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1651,469,1807,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2049,352,2228,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1859,411,1997,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2074,403,2203,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2276,411,2428,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2830,436,2935,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2513,512,2613,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2476,461,2651,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2994,499,3083,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2699,461,2776,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2824,575,2941,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2989,575,3088,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1855,469,2001,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2061,469,2216,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2297,563,2407,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1259,185,1397,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1450,352,1598,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1455,149,1593,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1679,99,1779,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1669,149,1788,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1869,251,1987,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1883,99,1973,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2079,235,2198,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2069,286,2208,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2281,309,2423,336"/>
</map>
</div>

</div>
</div>
<a id="a5fea956c9b756d0f2be3c56a4569e720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fea956c9b756d0f2be3c56a4569e720">&#9670;&nbsp;</a></span>nilfs_segctor_clean()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_clean </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_cgraph" id="nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="188,5,293,32"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="341,5,516,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_icgraph" id="nilfs2_2segment_8c_a5fea956c9b756d0f2be3c56a4569e720_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="433,220,580,247"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="188,301,367,328"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="647,220,804,247"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1072,157,1219,184"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="856,279,1004,305"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="861,213,999,254"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="852,161,1008,188"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1056,275,1235,301"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1303,299,1381,325"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1467,411,1587,437"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1671,411,1785,437"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1663,309,1793,336"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1895,436,1984,463"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1893,487,1985,513"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1890,335,1989,361"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1897,385,1982,412"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1076,220,1215,247"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1462,227,1591,269"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1652,259,1804,285"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2206,132,2311,159"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1889,56,1989,83"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1852,208,2027,235"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2370,81,2459,108"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2075,107,2152,133"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2200,5,2317,32"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2365,5,2464,32"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1449,157,1604,184"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1673,107,1783,133"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="855,330,1005,371"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="415,378,599,419"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1289,349,1395,376"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1087,325,1203,352"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="656,401,795,442"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="651,276,799,303"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="861,427,999,453"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1095,485,1195,512"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1283,400,1401,427"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1283,552,1401,579"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1297,451,1387,477"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1467,552,1586,579"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1457,471,1596,513"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1657,360,1799,387"/>
</map>
</div>

</div>
</div>
<a id="a78c98686e38ca6a463b8121558402441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c98686e38ca6a463b8121558402441">&#9670;&nbsp;</a></span>nilfs_segctor_clear_metadata_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_clear_metadata_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_cgraph" id="nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a421795f7ee0e2e591f2d185ac9cdc3a5" title="nilfs_mdt_clear_dirty" alt="" coords="184,13,327,39"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="375,13,445,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_icgraph" id="nilfs2_2segment_8c_a78c98686e38ca6a463b8121558402441_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="184,345,340,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="388,352,515,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="563,352,741,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1417,286,1566,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1208,411,1365,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="789,345,973,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1638,200,1743,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1633,301,1749,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1841,149,1961,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2057,107,2172,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2049,208,2180,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2281,157,2371,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2280,5,2372,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2277,56,2375,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2283,107,2369,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2287,232,2365,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1417,352,1565,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1422,403,1561,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1413,469,1569,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1812,352,1991,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1621,411,1760,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1837,403,1966,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2039,411,2191,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2593,436,2698,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2276,512,2376,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2239,461,2413,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2757,499,2846,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2461,461,2539,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2587,575,2704,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2752,575,2851,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1617,469,1764,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1824,469,1979,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2059,563,2170,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1021,185,1160,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1213,352,1361,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1217,149,1356,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1441,99,1541,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1432,149,1551,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1631,251,1750,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1645,99,1736,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1842,235,1961,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1832,286,1971,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2044,309,2185,336"/>
</map>
</div>

</div>
</div>
<a id="a623b056ff9bd308d6704a6d44b2a5ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a623b056ff9bd308d6704a6d44b2a5ff8">&#9670;&nbsp;</a></span>nilfs_segctor_collect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_collect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_cgraph" id="nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="855,556,987,597"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="199,436,341,477"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="420,190,559,217"/>
<area shape="rect" id="node31" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="425,901,554,943"/>
<area shape="rect" id="node37" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="214,1271,326,1298"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="418,1129,561,1171"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="195,1049,345,1091"/>
<area shape="rect" id="node3" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1095,521,1201,547"/>
<area shape="rect" id="node5" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="1084,571,1212,598"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1285,523,1460,550"/>
<area shape="rect" id="node6" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="1303,575,1442,616"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="420,291,559,318"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#aaffe4cc5e23bc52435b3f779defc6553" title="nilfs_sc_cstage_inc" alt="" coords="421,342,558,369"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="1071,239,1225,266"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="851,767,990,808"/>
<area shape="rect" id="node26" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="429,850,549,877"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="393,502,585,529"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1083,356,1213,397"/>
<area shape="rect" id="node12" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1325,473,1420,499"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#addf2c923fddae2656bb73aeb0fbb3baa" title="nilfs_segctor_buffer_rest" alt="" coords="1290,239,1455,266"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a69fe342fa35cdc28f6c078c4b7201a09" title="nilfs_lookup_dirty\l_data_buffers" alt="" coords="1311,291,1434,332"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#ac6597daa41d51e252f25e4a0c8027bbb" title="nilfs_segctor_apply\l_buffers" alt="" coords="1305,356,1440,397"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a136cc66a7ca5131f7603271a44ecf99e" title="nilfs_lookup_dirty\l_node_buffers" alt="" coords="1311,123,1434,164"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1508,189,1579,215"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#a63dba5d9babfbd2aac577674ebe5acf2" title="nilfs_bmap_lookup_dirty\l_buffers" alt="" coords="1291,5,1454,47"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="1295,189,1451,215"/>
<area shape="rect" id="node21" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec" title="nilfs_cpfile_get_checkpoint" alt="" coords="1059,774,1237,801"/>
<area shape="rect" id="node23" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1311,1002,1434,1029"/>
<area shape="rect" id="node24" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1301,926,1444,953"/>
<area shape="rect" id="node25" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249" title="nilfs_cpfile_put_checkpoint" alt="" coords="1059,723,1237,750"/>
<area shape="rect" id="node22" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1325,673,1421,699"/>
<area shape="rect" id="node27" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="639,905,777,931"/>
<area shape="rect" id="node29" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="1081,977,1215,1003"/>
<area shape="rect" id="node28" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="831,955,1011,982"/>
<area shape="rect" id="node30" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="1059,1027,1237,1054"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="644,560,772,601"/>
<area shape="rect" id="node34" href="segbuf_8c.html#a2c98ed4ccb2e713f1fc449ff36ac9b9f" title="nilfs_segbuf_extend\l_payload" alt="" coords="639,495,777,536"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="1299,422,1446,449"/>
<area shape="rect" id="node38" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="645,1427,771,1454"/>
<area shape="rect" id="node39" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="849,1427,992,1454"/>
<area shape="rect" id="node41" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1072,1129,1224,1155"/>
<area shape="rect" id="node42" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="647,1107,769,1134"/>
<area shape="rect" id="node43" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="646,1158,770,1185"/>
<area shape="rect" id="node44" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="649,955,767,982"/>
<area shape="rect" id="node45" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="633,1209,783,1251"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="647,1377,769,1403"/>
<area shape="rect" id="node47" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="651,1057,765,1083"/>
<area shape="rect" id="node48" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="645,1275,771,1302"/>
<area shape="rect" id="node50" href="segbuf_8c.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="424,1377,555,1403"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_icgraph" id="nilfs2_2segment_8c_a623b056ff9bd308d6704a6d44b2a5ff8_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="195,352,373,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1049,286,1198,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="840,411,997,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="421,345,605,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1270,200,1375,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1265,301,1381,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1473,149,1593,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1689,107,1804,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1681,208,1812,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1913,157,2003,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1912,5,2004,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1909,56,2007,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1915,107,2001,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1919,232,1997,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1049,352,1197,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1054,403,1193,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1045,469,1201,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1444,352,1623,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1253,411,1392,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1469,403,1598,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1671,411,1823,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2225,436,2330,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1908,512,2008,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1871,461,2045,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2389,499,2478,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2093,461,2171,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2219,575,2336,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2384,575,2483,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1249,469,1396,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1456,469,1611,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1691,563,1802,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="653,185,792,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="845,352,993,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="849,149,988,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1073,99,1173,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1064,149,1183,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1263,251,1382,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1277,99,1368,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1474,235,1593,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1464,286,1603,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1676,309,1817,336"/>
</map>
</div>

</div>
</div>
<a id="ac5c1356e891d7a42317a2926baaad700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c1356e891d7a42317a2926baaad700">&#9670;&nbsp;</a></span>nilfs_segctor_collect_blocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_collect_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_cgraph" id="nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="221,687,360,714"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="221,738,360,765"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#aaffe4cc5e23bc52435b3f779defc6553" title="nilfs_sc_cstage_inc" alt="" coords="222,789,359,815"/>
<area shape="rect" id="node5" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="238,839,343,866"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="897,227,1052,254"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="678,992,817,1033"/>
<area shape="rect" id="node35" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="231,1251,351,1278"/>
<area shape="rect" id="node45" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="226,1051,355,1092"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="195,1361,387,1387"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="909,344,1040,385"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="435,839,609,866"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1154,410,1249,437"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#addf2c923fddae2656bb73aeb0fbb3baa" title="nilfs_segctor_buffer_rest" alt="" coords="1119,177,1284,203"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a69fe342fa35cdc28f6c078c4b7201a09" title="nilfs_lookup_dirty\l_data_buffers" alt="" coords="1140,344,1263,385"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#ac6597daa41d51e252f25e4a0c8027bbb" title="nilfs_segctor_apply\l_buffers" alt="" coords="1134,279,1269,320"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a136cc66a7ca5131f7603271a44ecf99e" title="nilfs_lookup_dirty\l_node_buffers" alt="" coords="1140,111,1263,152"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1394,198,1465,225"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a63dba5d9babfbd2aac577674ebe5acf2" title="nilfs_bmap_lookup_dirty\l_buffers" alt="" coords="1120,45,1283,87"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="1123,227,1279,254"/>
<area shape="rect" id="node11" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1355,566,1503,593"/>
<area shape="rect" id="node12" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1568,755,1707,782"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="1339,249,1520,291"/>
<area shape="rect" id="node20" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec" title="nilfs_cpfile_get_checkpoint" alt="" coords="885,865,1064,891"/>
<area shape="rect" id="node29" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1368,1235,1491,1262"/>
<area shape="rect" id="node33" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1130,1058,1273,1085"/>
<area shape="rect" id="node34" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249" title="nilfs_cpfile_put_checkpoint" alt="" coords="885,814,1064,841"/>
<area shape="rect" id="node21" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="1150,839,1253,866"/>
<area shape="rect" id="node22" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1381,1391,1477,1418"/>
<area shape="rect" id="node23" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1124,512,1279,553"/>
<area shape="rect" id="node25" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="1112,577,1291,619"/>
<area shape="rect" id="node26" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="1140,992,1263,1033"/>
<area shape="rect" id="node27" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="1142,643,1261,684"/>
<area shape="rect" id="node28" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1" title="nilfs_cpfile_block\l_add_valid_checkpoints" alt="" coords="1121,708,1282,749"/>
<area shape="rect" id="node32" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="1140,773,1263,815"/>
<area shape="rect" id="node24" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1360,847,1499,874"/>
<area shape="rect" id="node30" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1577,1261,1698,1287"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1570,1210,1705,1237"/>
<area shape="rect" id="node36" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="453,1251,591,1278"/>
<area shape="rect" id="node38" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="907,1311,1042,1338"/>
<area shape="rect" id="node37" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="657,1251,837,1278"/>
<area shape="rect" id="node43" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="670,1168,825,1209"/>
<area shape="rect" id="node44" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="673,1442,821,1469"/>
<area shape="rect" id="node42" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="885,1261,1064,1287"/>
<area shape="rect" id="node39" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="1128,1413,1275,1455"/>
<area shape="rect" id="node40" href="sufile_8c.html#af1d36bfa94541a3fdad59955464852ea" title="nilfs_sufile_mod_counter" alt="" coords="1118,1311,1285,1338"/>
<area shape="rect" id="node41" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1156,1362,1247,1389"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="458,1419,586,1460"/>
<area shape="rect" id="node48" href="segbuf_8c.html#a2c98ed4ccb2e713f1fc449ff36ac9b9f" title="nilfs_segbuf_extend\l_payload" alt="" coords="453,1353,591,1395"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="1128,461,1275,487"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_icgraph" id="nilfs2_2segment_8c_ac5c1356e891d7a42317a2926baaad700_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="195,352,336,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="384,352,563,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1238,286,1387,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1029,411,1187,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="611,345,795,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1459,200,1565,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1454,301,1570,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1663,149,1783,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1879,107,1993,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1871,208,2001,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2103,157,2192,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2101,5,2193,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2098,56,2197,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2105,107,2190,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2109,232,2186,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1239,352,1387,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1243,403,1382,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1235,469,1391,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1633,352,1812,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1443,411,1581,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1658,403,1787,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1860,411,2012,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2414,436,2519,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2097,512,2197,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2060,461,2235,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2578,499,2667,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2283,461,2360,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2408,575,2525,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2573,575,2672,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1439,469,1585,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1645,469,1800,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1881,563,1991,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="843,185,981,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1034,352,1182,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1039,149,1177,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1263,99,1363,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1253,149,1372,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1453,251,1571,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1467,99,1557,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1663,235,1782,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1653,286,1792,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1865,309,2007,336"/>
</map>
</div>

</div>
</div>
<a id="a15bdc407779c43878600587697d73136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15bdc407779c43878600587697d73136">&#9670;&nbsp;</a></span>nilfs_segctor_collect_dirty_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_collect_dirty_files </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_cgraph" id="nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_cgraph">
<area shape="rect" id="node2" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="195,461,331,503"/>
<area shape="rect" id="node16" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="2145,471,2267,498"/>
<area shape="rect" id="node38" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="2135,421,2277,447"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="379,440,527,481"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1358,269,1454,295"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1331,378,1481,405"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="575,312,697,353"/>
<area shape="rect" id="node6" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1529,378,1668,405"/>
<area shape="rect" id="node7" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1721,273,1867,299"/>
<area shape="rect" id="node13" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1716,378,1872,405"/>
<area shape="rect" id="node8" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1924,218,2083,245"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="2147,319,2265,346"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2156,269,2256,295"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="2359,370,2430,397"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2325,421,2464,447"/>
<area shape="rect" id="node14" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1926,269,2081,295"/>
<area shape="rect" id="node15" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1931,371,2076,412"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1920,437,2087,463"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1927,487,2080,514"/>
<area shape="rect" id="node17" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="2334,471,2455,498"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="2327,551,2462,578"/>
<area shape="rect" id="node18" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="2516,442,2688,469"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="2512,544,2692,585"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="2532,609,2672,651"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="2535,675,2669,716"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="2533,493,2671,519"/>
<area shape="rect" id="node21" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="2777,521,2867,547"/>
<area shape="rect" id="node25" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="2799,571,2845,598"/>
<area shape="rect" id="node22" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="2969,470,3074,497"/>
<area shape="rect" id="node24" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="2952,521,3091,547"/>
<area shape="rect" id="node23" href="dcache_8c.html#ab9c0fece5c680f2c592413b6d3239ae9" title="__dget_dlock" alt="" coords="3139,470,3237,497"/>
<area shape="rect" id="node26" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="2983,622,3059,649"/>
<area shape="rect" id="node27" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="3139,673,3237,699"/>
<area shape="rect" id="node29" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="2981,571,3062,598"/>
<area shape="rect" id="node28" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="3297,673,3376,699"/>
<area shape="rect" id="node30" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="3285,546,3388,573"/>
<area shape="rect" id="node31" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="3141,622,3235,649"/>
<area shape="rect" id="node32" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="3143,571,3233,598"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="2747,642,2897,669"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="2740,693,2904,719"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="745,235,872,262"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="920,53,1053,95"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="920,228,1053,269"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1101,269,1283,295"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1118,371,1266,412"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1129,137,1255,179"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="1129,203,1255,244"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1339,116,1473,157"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1111,35,1273,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_icgraph" id="nilfs2_2segment_8c_a15bdc407779c43878600587697d73136_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="195,352,373,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1049,286,1198,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="840,411,997,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="421,345,605,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1270,200,1375,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1265,301,1381,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1473,149,1593,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1689,107,1804,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1681,208,1812,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1913,157,2003,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1912,5,2004,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1909,56,2007,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1915,107,2001,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1919,232,1997,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1049,352,1197,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1054,403,1193,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1045,469,1201,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1444,352,1623,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1253,411,1392,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1469,403,1598,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1671,411,1823,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2225,436,2330,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1908,512,2008,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1871,461,2045,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2389,499,2478,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2093,461,2171,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2219,575,2336,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2384,575,2483,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1249,469,1396,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1456,469,1611,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1691,563,1802,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="653,185,792,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="845,352,993,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="849,149,988,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1073,99,1173,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1064,149,1183,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1263,251,1382,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1277,99,1368,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1474,235,1593,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1464,286,1603,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1676,309,1817,336"/>
</map>
</div>

</div>
</div>
<a id="a4c1399db7625966aac20550eaa19c966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c1399db7625966aac20550eaa19c966">&#9670;&nbsp;</a></span>nilfs_segctor_complete_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_complete_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_cgraph" id="nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4" title="nilfs_end_page_io" alt="" coords="226,45,353,71"/>
<area shape="rect" id="node5" href="segbuf_8h.html#a15cc542af844e0b57c1d5f20787d3446" title="nilfs_segbuf_simplex" alt="" coords="217,95,361,122"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a1070dc291425e83910d480f6c9bd518f" title="nilfs_drop_collected\l_inodes" alt="" coords="221,147,358,188"/>
<area shape="rect" id="node7" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="237,213,342,239"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a2c7861689dce5089c651962abd6bddb8" title="nilfs_set_next_segment" alt="" coords="209,263,369,290"/>
<area shape="rect" id="node10" href="the__nilfs_8c.html#a37c9de257ceab8b46cec8c42fb529506" title="nilfs_set_last_segment" alt="" coords="211,314,367,341"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a78c98686e38ca6a463b8121558402441" title="nilfs_segctor_clear\l_metadata_dirty" alt="" coords="224,365,355,407"/>
<area shape="rect" id="node3" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="441,5,569,47"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="439,71,570,112"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="417,213,592,239"/>
<area shape="rect" id="node12" href="mdt_8h.html#a421795f7ee0e2e591f2d185ac9cdc3a5" title="nilfs_mdt_clear_dirty" alt="" coords="433,373,576,399"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="640,373,711,399"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_icgraph" id="nilfs2_2segment_8c_a4c1399db7625966aac20550eaa19c966_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="209,352,336,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="384,352,563,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1238,286,1387,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1029,411,1187,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="611,345,795,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1459,200,1565,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1454,301,1570,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1663,149,1783,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1879,107,1993,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1871,208,2001,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2103,157,2192,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2101,5,2193,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2098,56,2197,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2105,107,2190,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2109,232,2186,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1239,352,1387,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1243,403,1382,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1235,469,1391,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1633,352,1812,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1443,411,1581,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1658,403,1787,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1860,411,2012,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2414,436,2519,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2097,512,2197,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2060,461,2235,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2578,499,2667,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2283,461,2360,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2408,575,2525,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2573,575,2672,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1439,469,1585,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1645,469,1800,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1881,563,1991,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="843,185,981,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1034,352,1182,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1039,149,1177,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1263,99,1363,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1253,149,1372,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1453,251,1571,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1467,99,1557,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1663,235,1782,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1653,286,1792,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1865,309,2007,336"/>
</map>
</div>

</div>
</div>
<a id="a8aee792199cf274a08966e72ad5bda4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aee792199cf274a08966e72ad5bda4b">&#9670;&nbsp;</a></span>nilfs_segctor_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_confirm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_cgraph" id="nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="200,57,336,98"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="201,123,335,149"/>
<area shape="rect" id="node3" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="384,64,527,91"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="403,123,508,149"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="627,5,697,32"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="591,57,733,98"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a5399d2acb05251b7a62d8895ba4d4027" title="nilfs_bmap_dirty" alt="" coords="815,39,932,65"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8h.html#acdd57fe8b71bb70aaf1a0cb3c0ad79d6" title="nilfs_bmap_clear_dirty" alt="" coords="797,89,949,116"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="575,123,749,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_icgraph" id="nilfs2_2segment_8c_a8aee792199cf274a08966e72ad5bda4b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="200,205,357,231"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="625,306,772,333"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="409,146,557,173"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="414,197,553,239"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="405,263,561,290"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="609,146,788,173"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="875,146,952,173"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1055,150,1175,177"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1269,150,1383,177"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1261,99,1391,126"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1466,103,1555,130"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1465,154,1557,181"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1461,205,1560,231"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1468,53,1553,79"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="629,226,768,253"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="849,229,978,271"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1039,255,1191,282"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1614,319,1719,346"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1276,407,1376,434"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1239,255,1413,282"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1778,345,1867,371"/>
<area shape="rect" id="node21" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1472,255,1549,282"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1608,243,1725,270"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1773,243,1872,270"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="836,306,991,333"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1059,306,1170,333"/>
</map>
</div>

</div>
</div>
<a id="a7a995d883df35bebf400352d48cc380a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a995d883df35bebf400352d48cc380a">&#9670;&nbsp;</a></span>nilfs_segctor_construct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_construct - form logs and write them to disk : segment constructor object : mode of log forming </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_cgraph" id="nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="229,254,371,281"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="227,305,373,331"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="211,618,389,645"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="233,1339,367,1366"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="241,1618,359,1645"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="231,1715,369,1742"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="233,1858,367,1885"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="233,2094,367,2121"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="451,5,587,47"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="452,71,587,98"/>
<area shape="rect" id="node5" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="649,13,792,39"/>
<area shape="rect" id="node6" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="668,101,773,127"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="450,589,589,615"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="449,640,590,681"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="452,705,587,747"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="449,822,590,849"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="651,797,790,823"/>
<area shape="rect" id="node14" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="452,873,587,899"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="453,924,585,965"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="449,990,590,1017"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="461,1041,577,1083"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="461,1107,577,1148"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="461,123,577,164"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="448,1172,591,1213"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="446,188,593,229"/>
<area shape="rect" id="node22" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="445,253,593,295"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="454,319,585,346"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="456,370,583,397"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="455,421,583,463"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="452,487,587,514"/>
<area shape="rect" id="node28" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="439,1238,600,1265"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="441,1289,597,1315"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="479,1339,559,1366"/>
<area shape="rect" id="node32" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="471,1390,567,1417"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="484,1441,555,1467"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="481,1491,558,1518"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="466,1542,573,1569"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="448,1593,591,1619"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="440,1643,599,1670"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b" title="nilfs_count_free_blocks" alt="" coords="440,1694,599,1721"/>
<area shape="rect" id="node39" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="459,1745,579,1771"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="437,1795,601,1822"/>
<area shape="rect" id="node41" href="the__nilfs_8h.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="469,1846,569,1873"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a90dd6a38fbbe4af1b07031036a6ee500" title="nilfs_near_disk_full" alt="" coords="453,1897,586,1923"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#aa7659acbf3f2fe3722694bfa4633fb75" title="nilfs_fall_back_super\l_block" alt="" coords="447,1948,591,1989"/>
<area shape="rect" id="node44" href="the__nilfs_8h.html#adc41b5847eb3eeacab43d47c8aa744fa" title="nilfs_swap_super_block" alt="" coords="439,2014,600,2041"/>
<area shape="rect" id="node46" href="the__nilfs_8c.html#afbb3b8234eb658d4f2535b173d3553a0" title="nilfs_count_free_blocks" alt="" coords="440,2065,599,2091"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="459,2115,579,2142"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#aef3e55d324de166f073db74a7eb57fde" title="nilfs_segctor_wakeup" alt="" coords="445,2166,593,2193"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_icgraph" id="nilfs2_2segment_8c_a7a995d883df35bebf400352d48cc380a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="215,149,363,176"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="219,222,358,263"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="211,288,367,315"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="415,139,593,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="680,132,757,159"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="860,81,980,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1074,81,1189,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1066,132,1197,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1271,157,1361,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1270,5,1362,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1267,56,1365,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1273,107,1359,133"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="435,229,573,256"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="654,222,783,263"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="844,233,996,260"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1419,323,1525,349"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1081,233,1181,260"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1044,385,1219,412"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1583,297,1673,324"/>
<area shape="rect" id="node20" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1277,385,1355,412"/>
<area shape="rect" id="node21" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1413,399,1531,425"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1579,399,1677,425"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="431,288,577,315"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="641,288,796,315"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="865,284,975,311"/>
</map>
</div>

</div>
</div>
<a id="a8e41f513f78a1d22d3ecdb5387101abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e41f513f78a1d22d3ecdb5387101abf">&#9670;&nbsp;</a></span>nilfs_segctor_create_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_create_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_cgraph" id="nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec" title="nilfs_cpfile_get_checkpoint" alt="" coords="192,349,371,376"/>
<area shape="rect" id="node19" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1281,757,1403,784"/>
<area shape="rect" id="node36" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1271,340,1413,367"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249" title="nilfs_cpfile_put_checkpoint" alt="" coords="192,808,371,835"/>
<area shape="rect" id="node3" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="457,225,559,252"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1087,273,1183,300"/>
<area shape="rect" id="node5" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="431,525,585,566"/>
<area shape="rect" id="node39" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="419,407,597,449"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="447,277,569,318"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="449,342,567,383"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1" title="nilfs_cpfile_block\l_add_valid_checkpoints" alt="" coords="427,94,589,135"/>
<area shape="rect" id="node49" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="447,159,569,201"/>
<area shape="rect" id="node6" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="651,527,789,553"/>
<area shape="rect" id="node7" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="851,593,996,620"/>
<area shape="rect" id="node16" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="845,517,1001,544"/>
<area shape="rect" id="node8" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1056,656,1215,683"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1283,453,1401,480"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1292,707,1392,733"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1277,656,1407,683"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1499,395,1570,421"/>
<area shape="rect" id="node14" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1267,555,1417,581"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1301,605,1383,632"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1465,635,1604,661"/>
<area shape="rect" id="node17" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1058,504,1213,531"/>
<area shape="rect" id="node18" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1063,387,1208,429"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1052,555,1219,581"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1059,453,1212,480"/>
<area shape="rect" id="node20" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1474,700,1595,727"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1467,765,1602,792"/>
<area shape="rect" id="node21" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1656,648,1828,675"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1652,817,1832,858"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1672,882,1812,923"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1675,699,1809,741"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1673,765,1811,792"/>
<area shape="rect" id="node24" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1917,795,2007,821"/>
<area shape="rect" id="node27" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1939,845,1985,872"/>
<area shape="rect" id="node25" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="2109,744,2214,771"/>
<area shape="rect" id="node26" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="2092,795,2231,821"/>
<area shape="rect" id="node28" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="2123,896,2199,923"/>
<area shape="rect" id="node29" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="2279,896,2376,923"/>
<area shape="rect" id="node30" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="2121,845,2202,872"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1887,685,2037,712"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1880,736,2044,763"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="646,356,794,383"/>
<area shape="rect" id="node42" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="647,415,793,441"/>
<area shape="rect" id="node41" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="843,299,1004,341"/>
<area shape="rect" id="node44" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="645,284,795,311"/>
<area shape="rect" id="node47" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="693,101,747,128"/>
<area shape="rect" id="node48" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="864,101,983,128"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_icgraph" id="nilfs2_2segment_8c_a8e41f513f78a1d22d3ecdb5387101abf_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="192,345,333,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="381,352,523,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="571,352,749,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1425,286,1574,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1216,411,1373,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="797,345,981,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1646,200,1751,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1641,301,1757,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1849,149,1969,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2065,107,2180,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2057,208,2188,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2289,157,2379,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2288,5,2380,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2285,56,2383,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2291,107,2377,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2295,232,2373,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1425,352,1573,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1430,403,1569,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1421,469,1577,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1820,352,1999,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1629,411,1768,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1845,403,1974,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2047,411,2199,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2601,436,2706,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2284,512,2384,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2247,461,2421,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2765,499,2854,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2469,461,2547,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2595,575,2712,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2760,575,2859,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1625,469,1772,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1832,469,1987,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2067,563,2178,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1029,185,1168,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1221,352,1369,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1225,149,1364,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1449,99,1549,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1440,149,1559,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1639,251,1758,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1653,99,1744,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1850,235,1969,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1840,286,1979,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2052,309,2193,336"/>
</map>
</div>

</div>
</div>
<a id="a53eace4b3351e7a47d95a83e02257fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53eace4b3351e7a47d95a83e02257fda">&#9670;&nbsp;</a></span>nilfs_segctor_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_destroy - destroy the segment constructor. : <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a></p>
<p><a class="el" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda">nilfs_segctor_destroy()</a> kills the segctord thread and frees the <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> struct. Caller must hold the segment semaphore. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_cgraph" id="nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ab6bad92d64b23f1bc7cdfca3b44df6bb" title="nilfs_segctor_kill\l_thread" alt="" coords="219,744,337,785"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="863,361,1009,387"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="200,919,356,946"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="645,1555,768,1582"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="228,1471,328,1498"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1086,35,1222,76"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1087,101,1221,127"/>
<area shape="rect" id="node5" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1283,42,1425,69"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1301,162,1407,189"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1525,71,1596,98"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="1489,5,1632,47"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1473,162,1648,189"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="411,869,559,895"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="628,970,785,997"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="404,919,567,946"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="615,861,799,903"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="847,670,1025,697"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1085,319,1223,346"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1083,371,1225,412"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1087,436,1221,477"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1083,553,1225,579"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1285,670,1423,697"/>
<area shape="rect" id="node20" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="1087,502,1221,529"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1088,604,1220,645"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="1083,670,1225,697"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1096,721,1212,763"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1096,839,1212,880"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1096,253,1212,295"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="1083,904,1225,945"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="1081,969,1227,1011"/>
<area shape="rect" id="node28" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="1080,1035,1228,1076"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="1089,1101,1219,1127"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1091,1151,1217,1178"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="1090,1203,1218,1244"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="1087,151,1221,178"/>
<area shape="rect" id="node32" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1333,1471,1375,1498"/>
<area shape="rect" id="node33" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1523,1497,1598,1523"/>
<area shape="rect" id="node34" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1491,1446,1630,1473"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="865,1097,1007,1123"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="869,945,1003,971"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="877,1345,995,1371"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="867,894,1005,921"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="869,995,1003,1022"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="869,1046,1003,1073"/>
<area shape="rect" id="node39" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1073,1269,1235,1295"/>
<area shape="rect" id="node41" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="1076,1421,1232,1447"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="1114,1319,1194,1346"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="1106,1370,1202,1397"/>
<area shape="rect" id="node50" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="422,1523,549,1564"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_icgraph" id="nilfs2_2segment_8c_a53eace4b3351e7a47d95a83e02257fda_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="200,144,355,171"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="435,169,545,196"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1942,192,2047,219"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1945,123,2045,149"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="403,119,577,145"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1729,123,1881,149"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2113,167,2202,193"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="625,144,703,171"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="751,199,868,225"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="945,199,1044,225"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="916,257,1073,284"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1125,261,1273,288"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1130,195,1269,237"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1121,312,1277,339"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1325,425,1504,452"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1578,437,1655,464"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1745,425,1865,452"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1937,425,2052,452"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1929,476,2060,503"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2113,451,2202,477"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2111,501,2203,528"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2108,349,2207,376"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2115,400,2200,427"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1345,201,1484,228"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1552,145,1681,186"/>
</map>
</div>

</div>
</div>
<a id="a640e77718e5f25c27d6dcc9a10fa8997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640e77718e5f25c27d6dcc9a10fa8997">&#9670;&nbsp;</a></span>nilfs_segctor_do_construct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_do_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_cgraph" id="nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="647,249,785,275"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="645,1229,787,1271"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="238,164,374,205"/>
<area shape="rect" id="node9" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="663,143,769,170"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="239,26,373,53"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="436,684,571,725"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="235,545,377,571"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="647,319,785,346"/>
<area shape="rect" id="node30" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="239,1010,373,1037"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="437,867,569,908"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="235,1061,377,1087"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="248,1112,364,1153"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="248,792,364,833"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="445,63,561,104"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="235,1177,377,1219"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="233,1243,379,1284"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="232,1308,380,1349"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="241,1374,371,1401"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="440,933,567,959"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="242,1425,370,1467"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="239,1491,373,1518"/>
<area shape="rect" id="node4" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="857,1229,993,1271"/>
<area shape="rect" id="node5" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="863,895,986,922"/>
<area shape="rect" id="node6" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="853,786,996,813"/>
<area shape="rect" id="node8" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="432,129,575,155"/>
<area shape="rect" id="node12" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="655,655,777,682"/>
<area shape="rect" id="node13" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="654,706,778,733"/>
<area shape="rect" id="node14" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="652,488,780,529"/>
<area shape="rect" id="node15" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="638,437,794,463"/>
<area shape="rect" id="node16" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="640,605,792,631"/>
<area shape="rect" id="node17" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="657,757,775,783"/>
<area shape="rect" id="node18" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="641,808,791,849"/>
<area shape="rect" id="node19" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="655,554,777,581"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="437,281,569,323"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="433,399,574,440"/>
<area shape="rect" id="node24" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="651,371,781,412"/>
<area shape="rect" id="node25" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="447,515,559,542"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="432,749,575,791"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="428,567,579,608"/>
<area shape="rect" id="node27" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="669,874,763,901"/>
<area shape="rect" id="node28" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="653,975,779,1002"/>
<area shape="rect" id="node32" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="651,1178,781,1205"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="659,1026,773,1053"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="639,1077,793,1103"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="628,1127,804,1154"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="432,1035,575,1076"/>
<area shape="rect" id="node38" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84" title="nilfs_segbuf_fill_in\l_segsum" alt="" coords="439,1100,568,1141"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="430,1166,577,1193"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec" title="nilfs_cpfile_get_checkpoint" alt="" coords="627,925,805,951"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_icgraph" id="nilfs2_2segment_8c_a640e77718e5f25c27d6dcc9a10fa8997_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="859,286,1009,327"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="651,411,808,437"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="232,345,416,386"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1081,200,1186,227"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1075,301,1191,328"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1284,149,1404,176"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1500,107,1615,133"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1492,208,1623,235"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1724,157,1813,184"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1723,5,1815,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1719,56,1818,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1726,107,1811,133"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1730,232,1807,259"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="860,352,1008,379"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="865,403,1003,445"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="856,469,1012,496"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1255,352,1433,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1064,411,1203,437"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1279,403,1409,445"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1481,411,1633,437"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2035,436,2141,463"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1719,512,1819,539"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1681,461,1856,488"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2199,499,2289,525"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1904,461,1981,488"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2029,575,2147,601"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2195,575,2293,601"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1060,469,1207,496"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1267,469,1421,496"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1502,563,1613,589"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="464,185,603,226"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="655,352,803,379"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="660,149,799,176"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="884,99,984,125"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="875,149,993,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1074,251,1193,277"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1088,99,1179,125"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1285,235,1403,261"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1275,286,1413,327"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1487,309,1628,336"/>
</map>
</div>

</div>
</div>
<a id="a23c179e5f28f728a442e31641f71c795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c179e5f28f728a442e31641f71c795">&#9670;&nbsp;</a></span>nilfs_segctor_do_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_do_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a23c179e5f28f728a442e31641f71c795_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a23c179e5f28f728a442e31641f71c795_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a23c179e5f28f728a442e31641f71c795_icgraph" id="nilfs2_2segment_8c_a23c179e5f28f728a442e31641f71c795_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749" title="nilfs_transaction_commit" alt="" coords="205,623,372,649"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8h.html#a64e9be8bfc928b337eb526d43cc708a9" title="nilfs_flush_segment" alt="" coords="219,1755,358,1781"/>
<area shape="rect" id="node3" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="626,623,761,649"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="443,1172,553,1199"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1065,1349,1161,1376"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1433,1160,1522,1187"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1431,1527,1523,1553"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1428,1577,1527,1604"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1435,1337,1520,1364"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1243,265,1373,292"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1076,1501,1149,1528"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="643,673,743,700"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="855,461,945,488"/>
<area shape="rect" id="node30" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="443,1704,553,1731"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="634,360,753,387"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="440,433,556,460"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="455,5,541,32"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="457,56,539,83"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1245,149,1371,190"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1249,83,1367,125"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1236,215,1380,241"/>
<area shape="rect" id="node38" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="420,764,576,791"/>
<area shape="rect" id="node5" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="624,1248,763,1275"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1053,781,1173,808"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="640,1349,747,1376"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="637,1400,750,1427"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1053,1036,1172,1063"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="640,1299,747,1325"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1043,1190,1182,1231"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="851,1299,949,1325"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="849,1451,951,1477"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="838,1349,962,1376"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="836,1248,964,1275"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1251,1160,1365,1187"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1439,215,1516,241"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1250,1552,1366,1579"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="841,680,959,707"/>
<area shape="rect" id="node28" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1237,1211,1379,1237"/>
<area shape="rect" id="node39" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="624,797,763,824"/>
<area shape="rect" id="node40" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="821,731,979,773"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="825,797,975,824"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="823,849,977,890"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="811,914,989,955"/>
<area shape="rect" id="node44" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="823,563,977,605"/>
<area shape="rect" id="node45" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1044,701,1181,728"/>
<area shape="rect" id="node46" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1037,512,1188,539"/>
<area shape="rect" id="node47" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="817,979,983,1021"/>
<area shape="rect" id="node49" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="443,1755,553,1781"/>
<area shape="rect" id="node50" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="425,1805,571,1832"/>
</map>
</div>

</div>
</div>
<a id="a0928f7eed2b4d7f3a934480a1025bda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0928f7eed2b4d7f3a934480a1025bda7">&#9670;&nbsp;</a></span>nilfs_segctor_do_immediate_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_do_immediate_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_cgraph" id="nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="237,944,416,971"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="877,107,1016,134"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="876,894,1017,936"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="470,92,606,133"/>
<area shape="rect" id="node10" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="894,234,999,260"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="668,208,803,235"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="668,712,803,753"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="467,530,609,556"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="877,340,1016,367"/>
<area shape="rect" id="node31" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="471,995,605,1022"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="669,949,801,990"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="467,1046,609,1072"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="480,1097,596,1138"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="480,1162,596,1204"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="480,434,596,476"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="467,1228,609,1269"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="465,1293,611,1334"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="464,1358,612,1400"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="473,1424,603,1451"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="672,1015,799,1042"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="474,1476,602,1517"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="471,1542,605,1568"/>
<area shape="rect" id="node5" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="1086,894,1222,936"/>
<area shape="rect" id="node6" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1093,700,1215,727"/>
<area shape="rect" id="node7" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1083,751,1225,778"/>
<area shape="rect" id="node9" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="664,56,807,83"/>
<area shape="rect" id="node13" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="885,574,1008,600"/>
<area shape="rect" id="node14" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="885,624,1009,651"/>
<area shape="rect" id="node15" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="883,457,1011,498"/>
<area shape="rect" id="node16" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="869,523,1025,550"/>
<area shape="rect" id="node17" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="871,726,1023,752"/>
<area shape="rect" id="node18" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="887,675,1006,702"/>
<area shape="rect" id="node19" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="872,777,1021,818"/>
<area shape="rect" id="node20" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="886,843,1007,870"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="669,310,801,352"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="665,376,806,417"/>
<area shape="rect" id="node25" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="882,392,1011,433"/>
<area shape="rect" id="node26" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="679,559,791,586"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="664,777,807,818"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="660,493,811,534"/>
<area shape="rect" id="node28" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="899,960,994,987"/>
<area shape="rect" id="node29" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="883,1011,1010,1038"/>
<area shape="rect" id="node33" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="882,1214,1011,1240"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="890,1163,1003,1190"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="869,1062,1024,1088"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="859,1112,1035,1139"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="664,1132,807,1173"/>
<area shape="rect" id="node39" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84" title="nilfs_segbuf_fill_in\l_segsum" alt="" coords="671,1066,800,1108"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="662,1198,809,1224"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_icgraph" id="nilfs2_2segment_8c_a0928f7eed2b4d7f3a934480a1025bda7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="237,259,376,301"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1819,447,1967,473"/>
<area shape="rect" id="node3" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="424,107,563,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="611,107,711,133"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="759,5,877,32"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="759,183,877,209"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2669,157,2789,184"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1137,56,1228,83"/>
<area shape="rect" id="node6" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="935,208,1054,235"/>
<area shape="rect" id="node7" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="925,271,1064,313"/>
<area shape="rect" id="node8" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1112,291,1253,317"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1301,339,1476,365"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1524,363,1601,389"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2866,519,2971,545"/>
<area shape="rect" id="node13" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1649,363,1767,389"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3037,468,3126,495"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1844,396,1943,423"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1815,345,1972,372"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2024,320,2172,347"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2029,371,2167,413"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2020,441,2176,468"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2224,312,2403,339"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2489,232,2567,259"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2861,157,2976,184"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2853,215,2984,241"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3037,183,3126,209"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3035,233,3127,260"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3032,81,3131,108"/>
<area shape="rect" id="node24" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3039,132,3124,159"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2244,363,2383,389"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2463,385,2593,426"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2653,392,2805,419"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2869,443,2969,469"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2240,464,2387,491"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2451,479,2605,505"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2674,493,2785,520"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2023,493,2173,534"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2475,333,2581,360"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2255,515,2371,541"/>
</map>
</div>

</div>
</div>
<a id="a48a38cbf8f4c68e0d2cc6c384368bd48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a38cbf8f4c68e0d2cc6c384368bd48">&#9670;&nbsp;</a></span>nilfs_segctor_drop_written_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_drop_written_files </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_cgraph" id="nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="181,411,224,437"/>
<area shape="rect" id="node3" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="272,411,347,437"/>
<area shape="rect" id="node24" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1026,107,1165,133"/>
<area shape="rect" id="node4" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1044,664,1147,691"/>
<area shape="rect" id="node6" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="397,461,515,488"/>
<area shape="rect" id="node18" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="395,309,517,336"/>
<area shape="rect" id="node19" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="431,360,481,387"/>
<area shape="rect" id="node5" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1237,664,1364,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="571,461,729,488"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="581,563,719,589"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="783,344,965,371"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="807,497,941,538"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="785,445,963,472"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="793,395,955,421"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="800,563,948,589"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1051,504,1139,531"/>
<area shape="rect" id="node11" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1251,504,1350,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1425,504,1564,531"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1013,395,1177,421"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="591,411,709,437"/>
<area shape="rect" id="node21" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="589,208,711,235"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="565,360,735,387"/>
<area shape="rect" id="node23" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="830,251,918,277"/>
<area shape="rect" id="node25" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="612,512,688,539"/>
<area shape="rect" id="node28" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="612,259,688,285"/>
<area shape="rect" id="node29" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="599,157,701,184"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="847,613,901,640"/>
<area shape="rect" id="node27" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1026,613,1165,640"/>
<area shape="rect" id="node30" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="815,56,933,83"/>
<area shape="rect" id="node35" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="834,157,914,184"/>
<area shape="rect" id="node31" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1031,5,1159,32"/>
<area shape="rect" id="node32" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1014,56,1177,83"/>
<area shape="rect" id="node33" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1225,56,1376,83"/>
<area shape="rect" id="node34" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1424,56,1565,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_icgraph" id="nilfs2_2segment_8c_a48a38cbf8f4c68e0d2cc6c384368bd48_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="181,352,360,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1035,286,1185,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="827,411,984,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="408,345,592,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1257,200,1362,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1251,301,1367,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1460,149,1580,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1676,107,1791,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1668,208,1799,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1900,157,1989,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1899,5,1991,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1895,56,1994,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1902,107,1987,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1906,232,1983,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1036,352,1184,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1041,403,1179,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1032,469,1188,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1431,352,1609,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1240,411,1379,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1455,403,1585,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1657,411,1809,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2211,436,2317,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1895,512,1995,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1857,461,2032,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2375,499,2465,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2080,461,2157,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2205,575,2323,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2371,575,2469,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1236,469,1383,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1443,469,1597,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1678,563,1789,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="640,185,779,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="831,352,979,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="836,149,975,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1060,99,1160,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1051,149,1169,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1250,251,1369,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1264,99,1355,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1461,235,1579,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1451,286,1589,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1663,309,1804,336"/>
</map>
</div>

</div>
</div>
<a id="a50b60f1ae24c083f2c68d7055dea509b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b60f1ae24c083f2c68d7055dea509b">&#9670;&nbsp;</a></span>nilfs_segctor_end_finfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_end_finfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_cgraph" id="nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="265,5,335,32"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="209,57,391,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_icgraph" id="nilfs2_2segment_8c_a50b60f1ae24c083f2c68d7055dea509b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="209,395,357,437"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="620,302,751,343"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="608,251,763,277"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="409,352,556,379"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="405,504,560,531"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="409,403,557,429"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="405,453,560,480"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="811,273,952,314"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1000,280,1141,307"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1189,280,1368,307"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2043,145,2193,186"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1835,384,1992,411"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1416,273,1600,314"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2265,80,2370,107"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2259,131,2375,157"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2468,181,2588,208"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2684,181,2799,208"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2676,29,2807,56"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2908,80,2997,107"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2907,131,2999,157"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2903,181,3002,208"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2910,232,2995,259"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2914,29,2991,56"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2044,333,2192,360"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2049,435,2187,477"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2040,384,2196,411"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2439,333,2617,360"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2248,443,2387,469"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2463,435,2593,477"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2665,435,2817,461"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3219,359,3325,385"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2903,283,3003,309"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2865,485,3040,512"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3379,321,3468,348"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3088,485,3165,512"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3213,536,3331,563"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2244,384,2391,411"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2451,384,2605,411"/>
<area shape="rect" id="node35" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2686,384,2797,411"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1648,237,1787,278"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1839,333,1987,360"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1844,232,1983,259"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2068,232,2168,259"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2059,61,2177,88"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2258,283,2377,309"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2272,232,2363,259"/>
<area shape="rect" id="node41" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2469,283,2587,309"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2459,510,2597,551"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2671,536,2812,563"/>
</map>
</div>

</div>
</div>
<a id="a908a0ffa2889c863319f35f979a28530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908a0ffa2889c863319f35f979a28530">&#9670;&nbsp;</a></span>nilfs_segctor_extend_segments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_extend_segments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nadd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_cgraph" id="nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="223,992,318,1019"/>
<area shape="rect" id="node3" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="637,1413,789,1440"/>
<area shape="rect" id="node15" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="209,1093,332,1120"/>
<area shape="rect" id="node16" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="421,5,545,32"/>
<area shape="rect" id="node18" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="211,1195,330,1221"/>
<area shape="rect" id="node44" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="196,1693,345,1734"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="652,1784,773,1811"/>
<area shape="rect" id="node47" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="427,807,540,833"/>
<area shape="rect" id="node48" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="207,1835,334,1861"/>
<area shape="rect" id="node4" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="852,1457,1019,1498"/>
<area shape="rect" id="node9" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1080,1187,1203,1213"/>
<area shape="rect" id="node13" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="864,984,1007,1011"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1072,503,1211,529"/>
<area shape="rect" id="node6" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="1067,1347,1215,1373"/>
<area shape="rect" id="node7" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1453,887,1549,913"/>
<area shape="rect" id="node8" href="sufile_8c.html#a048a58aad760411d79b7e01d28babbb5" title="nilfs_sufile_segment\l_usages_per_block" alt="" coords="1264,1773,1405,1814"/>
<area shape="rect" id="node10" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1274,1144,1395,1171"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1267,1195,1402,1221"/>
<area shape="rect" id="node12" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1265,1245,1404,1272"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1106,984,1177,1011"/>
<area shape="rect" id="node17" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="852,1035,1019,1061"/>
<area shape="rect" id="node19" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="890,680,981,707"/>
<area shape="rect" id="node20" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="858,310,1013,351"/>
<area shape="rect" id="node21" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="393,857,573,884"/>
<area shape="rect" id="node25" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="862,1289,1009,1330"/>
<area shape="rect" id="node27" href="sufile_8c.html#a34ecb984fd0f57101d2ee0b4bde4bf95" title="nilfs_sufile_segment\l_usages_in_block" alt="" coords="865,1827,1006,1869"/>
<area shape="rect" id="node22" href="sufile_8h.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="621,781,804,808"/>
<area shape="rect" id="node23" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="641,614,784,655"/>
<area shape="rect" id="node24" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="653,1119,772,1145"/>
<area shape="rect" id="node28" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="637,1245,789,1272"/>
<area shape="rect" id="node29" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="629,1297,796,1338"/>
<area shape="rect" id="node30" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="902,1944,969,1971"/>
<area shape="rect" id="node31" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="643,461,782,488"/>
<area shape="rect" id="node32" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="637,1464,788,1491"/>
<area shape="rect" id="node33" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="637,832,788,859"/>
<area shape="rect" id="node35" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="644,563,781,589"/>
<area shape="rect" id="node36" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="647,512,778,539"/>
<area shape="rect" id="node37" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="641,1051,785,1077"/>
<area shape="rect" id="node38" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="645,883,780,909"/>
<area shape="rect" id="node39" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="623,933,802,960"/>
<area shape="rect" id="node40" href="sufile_8h.html#a7e943e59486cd6176a3317bed589b7c9" title="nilfs_sufile_do_set\l_error" alt="" coords="647,985,778,1026"/>
<area shape="rect" id="node41" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="649,731,776,757"/>
<area shape="rect" id="node42" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="655,680,771,707"/>
<area shape="rect" id="node43" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="647,1515,778,1541"/>
<area shape="rect" id="node26" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="1067,1725,1216,1752"/>
<area shape="rect" id="node34" href="sufile_8c.html#af1d36bfa94541a3fdad59955464852ea" title="nilfs_sufile_mod_counter" alt="" coords="852,883,1019,909"/>
<area shape="rect" id="node45" href="the__nilfs_8h.html#a2eaeef6fdc47c7f32d69dc50faddad8e" title="nilfs_get_segment_start\l_blocknr" alt="" coords="403,1718,564,1759"/>
<area shape="rect" id="node49" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="418,1835,549,1861"/>
<area shape="rect" id="node50" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="649,1835,776,1861"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_icgraph" id="nilfs2_2segment_8c_a908a0ffa2889c863319f35f979a28530_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="196,352,337,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="385,352,564,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1239,286,1389,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1031,411,1188,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="612,345,796,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1461,200,1566,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1455,301,1571,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1664,149,1784,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1880,107,1995,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1872,208,2003,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2104,157,2193,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2103,5,2195,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2099,56,2198,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2106,107,2191,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2110,232,2187,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1240,352,1388,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1245,403,1383,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1236,469,1392,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1635,352,1813,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1444,411,1583,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1659,403,1789,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1861,411,2013,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2415,436,2521,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2099,512,2199,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2061,461,2236,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2579,499,2669,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2284,461,2361,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2409,575,2527,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2575,575,2673,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1440,469,1587,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1647,469,1801,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1882,563,1993,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="844,185,983,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1035,352,1183,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1040,149,1179,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1264,99,1364,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1255,149,1373,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1454,251,1573,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1468,99,1559,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1665,235,1783,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1655,286,1793,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1867,309,2008,336"/>
</map>
</div>

</div>
</div>
<a id="a9807a7126231dfa8ee7d7f91ba3fc7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9807a7126231dfa8ee7d7f91ba3fc7e1">&#9670;&nbsp;</a></span>nilfs_segctor_feed_segment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_feed_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_cgraph" id="nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="181,27,313,69"/>
<area shape="rect" id="node3" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="373,8,478,35"/>
<area shape="rect" id="node5" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="361,60,489,87"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="537,5,712,32"/>
<area shape="rect" id="node6" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="555,57,694,98"/>
<area shape="rect" id="node7" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="760,57,933,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_icgraph" id="nilfs2_2segment_8c_a9807a7126231dfa8ee7d7f91ba3fc7e1_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="580,215,772,241"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="181,273,329,314"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="820,273,961,314"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1009,280,1151,307"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1199,280,1377,307"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2053,145,2202,186"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1844,384,2001,411"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1425,273,1609,314"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2274,80,2379,107"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2269,131,2385,157"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2477,181,2597,208"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2693,181,2808,208"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2685,29,2816,56"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2917,80,3007,107"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2916,131,3008,157"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2913,181,3011,208"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2919,232,3005,259"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2923,29,3001,56"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2053,333,2201,360"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2058,435,2197,477"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2049,384,2205,411"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2448,333,2627,360"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2257,443,2396,469"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2473,435,2602,477"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2675,435,2827,461"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3229,377,3334,404"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2912,283,3012,309"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2875,485,3049,512"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3388,315,3477,341"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3097,485,3175,512"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3223,536,3340,563"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2253,384,2400,411"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2460,384,2615,411"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2695,384,2806,411"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1657,237,1796,278"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1849,333,1997,360"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1853,232,1992,259"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2077,232,2177,259"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2068,61,2187,88"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2267,283,2386,309"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2281,232,2372,259"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2478,283,2597,309"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2468,510,2607,551"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2680,536,2821,563"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="381,381,528,408"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="377,229,532,256"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="381,280,529,307"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="377,331,532,357"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="611,302,741,343"/>
</map>
</div>

</div>
</div>
<a id="a575e642d5347643b2e55e16d470c9e4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575e642d5347643b2e55e16d470c9e4f">&#9670;&nbsp;</a></span>nilfs_segctor_fill_in_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_fill_in_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_cgraph" id="nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec" title="nilfs_cpfile_get_checkpoint" alt="" coords="169,376,348,403"/>
<area shape="rect" id="node48" href="nilfs2_2inode_8c.html#a1ead1ca232cacac6b9e04aee04144f67" title="nilfs_write_inode_common" alt="" coords="171,739,347,765"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249" title="nilfs_cpfile_put_checkpoint" alt="" coords="169,789,348,816"/>
<area shape="rect" id="node3" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="434,208,537,235"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1065,528,1161,555"/>
<area shape="rect" id="node5" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="408,310,563,351"/>
<area shape="rect" id="node22" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1275,259,1397,285"/>
<area shape="rect" id="node34" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1265,520,1407,547"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="396,427,575,469"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="424,569,547,610"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="426,493,545,534"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1" title="nilfs_cpfile_block\l_add_valid_checkpoints" alt="" coords="405,77,566,118"/>
<area shape="rect" id="node47" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="424,142,547,183"/>
<area shape="rect" id="node6" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="628,317,767,344"/>
<area shape="rect" id="node7" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="828,183,973,209"/>
<area shape="rect" id="node17" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="823,317,979,344"/>
<area shape="rect" id="node8" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1033,157,1192,184"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1277,208,1395,235"/>
<area shape="rect" id="node11" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1286,56,1386,83"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1271,157,1401,184"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1520,495,1591,521"/>
<area shape="rect" id="node15" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1261,107,1411,133"/>
<area shape="rect" id="node16" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1295,5,1377,32"/>
<area shape="rect" id="node10" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1476,208,1635,235"/>
<area shape="rect" id="node12" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1486,81,1625,108"/>
<area shape="rect" id="node18" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1035,309,1190,336"/>
<area shape="rect" id="node21" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1040,462,1185,503"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1029,360,1196,387"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1036,411,1189,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1244,411,1428,437"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1269,360,1403,387"/>
<area shape="rect" id="node23" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1495,347,1616,373"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1488,259,1623,285"/>
<area shape="rect" id="node24" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1687,383,1859,409"/>
<area shape="rect" id="node26" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1683,186,1863,227"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1703,251,1843,293"/>
<area shape="rect" id="node30" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1706,317,1839,358"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1703,135,1842,161"/>
<area shape="rect" id="node27" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1947,175,2038,201"/>
<area shape="rect" id="node28" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1969,225,2016,252"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1917,291,2068,317"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1911,341,2075,368"/>
<area shape="rect" id="node38" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="623,493,771,520"/>
<area shape="rect" id="node40" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="624,435,771,461"/>
<area shape="rect" id="node39" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="820,521,981,562"/>
<area shape="rect" id="node42" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="623,576,772,603"/>
<area shape="rect" id="node45" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="670,84,725,111"/>
<area shape="rect" id="node46" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="841,84,960,111"/>
<area shape="rect" id="node49" href="nilfs2_2bmap_8c.html#ac580a6c63197dea17f308f83a2a9bd08" title="nilfs_bmap_write" alt="" coords="425,789,545,816"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_icgraph" id="nilfs2_2segment_8c_a575e642d5347643b2e55e16d470c9e4f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="169,352,348,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1023,286,1173,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="815,411,972,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="396,345,580,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1245,200,1350,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1239,301,1355,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1448,149,1568,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1664,107,1779,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1656,208,1787,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1888,157,1977,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1887,5,1979,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1883,56,1982,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1890,107,1975,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1894,232,1971,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1024,352,1172,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1029,403,1167,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1020,469,1176,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1419,352,1597,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1228,411,1367,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1443,403,1573,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1645,411,1797,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2199,436,2305,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1883,512,1983,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1845,461,2020,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2363,499,2453,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2068,461,2145,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2193,575,2311,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2359,575,2457,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1224,469,1371,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1431,469,1585,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1666,563,1777,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="628,185,767,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="819,352,967,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="824,149,963,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1048,99,1148,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1039,149,1157,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1238,251,1357,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1252,99,1343,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1449,235,1567,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1439,286,1577,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1651,309,1792,336"/>
</map>
</div>

</div>
</div>
<a id="a9646fd4f406244d5cd782f5d220f4aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9646fd4f406244d5cd782f5d220f4aaa">&#9670;&nbsp;</a></span>nilfs_segctor_fill_in_file_bmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_fill_in_file_bmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_cgraph" id="nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="169,612,316,639"/>
<area shape="rect" id="node3" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="371,544,514,571"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8c.html#ac580a6c63197dea17f308f83a2a9bd08" title="nilfs_bmap_write" alt="" coords="383,612,503,639"/>
<area shape="rect" id="node9" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="364,699,521,725"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab" title="nilfs_palloc_block\l_get_entry" alt="" coords="770,474,895,515"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1216,819,1343,845"/>
<area shape="rect" id="node7" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1231,524,1327,551"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="1403,1122,1536,1163"/>
<area shape="rect" id="node10" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="582,1146,698,1187"/>
<area shape="rect" id="node33" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="583,702,697,743"/>
<area shape="rect" id="node37" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="572,621,708,662"/>
<area shape="rect" id="node38" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="569,1650,711,1691"/>
<area shape="rect" id="node42" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="780,208,885,235"/>
<area shape="rect" id="node11" href="nilfs2_2alloc_8c.html#a2526803bd330f64dcb666c31878f4eb4" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="764,1146,901,1187"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="759,603,907,645"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8c.html#a1f8d7aba0f6f185aa44dd4bfd3502dfe" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="771,950,894,991"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8c.html#ab3f5baf644a55149f2f20c5db5eb0ebf" title="nilfs_palloc_commit\l_alloc_entry" alt="" coords="764,1314,901,1355"/>
<area shape="rect" id="node27" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="994,1321,1117,1348"/>
<area shape="rect" id="node31" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="984,1489,1127,1516"/>
<area shape="rect" id="node12" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1213,1679,1346,1721"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="982,637,1129,678"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="993,1022,1118,1063"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8c.html#ab8256a97ece9ba89e3cbe79f0468830b" title="nilfs_palloc_rest_groups\l_in_desc_block" alt="" coords="974,1373,1137,1414"/>
<area shape="rect" id="node18" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589" title="nilfs_mdt_bgl_lock" alt="" coords="990,869,1121,896"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#aee132c5b54bde254f3af2bdc8f878c83" title="nilfs_palloc_group\l_desc_nfrees" alt="" coords="992,1205,1119,1246"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="976,702,1135,743"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a855136bfe85f7785f4f6663d4dea862c" title="nilfs_palloc_find_available_slot" alt="" coords="955,1271,1156,1297"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0" title="nilfs_palloc_group\l_desc_add_entries" alt="" coords="990,1087,1121,1129"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1204,644,1355,671"/>
<area shape="rect" id="node16" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1213,1373,1346,1414"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="994,571,1117,613"/>
<area shape="rect" id="node28" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1219,1271,1340,1297"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1212,1321,1347,1348"/>
<area shape="rect" id="node30" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1210,1220,1349,1247"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1244,1544,1315,1571"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8c.html#afa77aa08a79995b4842a1eb8747bb28c" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="764,702,901,743"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8c.html#afff65bfc742d413273c521e44ddf03df" title="nilfs_palloc_abort\l_free_entry" alt="" coords="771,1081,894,1122"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a56970c9a75cb02b1ccec9e1e5ba5ed49" title="nilfs_palloc_commit\l_free_entry" alt="" coords="764,1015,901,1057"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a815c851e023aca4cb389509b1664fe97" title="nilfs_palloc_count\l_max_entries" alt="" coords="769,1650,896,1691"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="992,1591,1119,1633"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="985,1709,1125,1750"/>
<area shape="rect" id="node43" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="996,99,1115,125"/>
<area shape="rect" id="node44" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="1006,149,1105,176"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842" title="nilfs_palloc_init_blockgroup" alt="" coords="965,267,1146,293"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b" title="nilfs_palloc_setup\l_cache" alt="" coords="992,201,1119,242"/>
<area shape="rect" id="node47" href="ifile_8c.html#a03a081dea13d3bbdbbe6df452fef3a9f" title="NILFS_IFILE_I" alt="" coords="1000,317,1111,344"/>
<area shape="rect" id="node48" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="969,971,1142,997"/>
<area shape="rect" id="node49" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="1215,23,1344,49"/>
<area shape="rect" id="node50" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="1015,48,1096,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_icgraph" id="nilfs2_2segment_8c_a9646fd4f406244d5cd782f5d220f4aaa_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="169,352,348,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1023,286,1173,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="815,411,972,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="396,345,580,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1245,200,1350,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1239,301,1355,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1448,149,1568,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1664,107,1779,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1656,208,1787,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1888,157,1977,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1887,5,1979,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1883,56,1982,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1890,107,1975,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1894,232,1971,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1024,352,1172,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1029,403,1167,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1020,469,1176,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1419,352,1597,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1228,411,1367,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1443,403,1573,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1645,411,1797,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2199,436,2305,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1883,512,1983,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1845,461,2020,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2363,499,2453,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2068,461,2145,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2193,575,2311,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2359,575,2457,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1224,469,1371,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1431,469,1585,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1666,563,1777,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="628,185,767,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="819,352,967,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="824,149,963,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1048,99,1148,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1039,149,1157,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1238,251,1357,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1252,99,1343,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1449,235,1567,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1439,286,1577,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1651,309,1792,336"/>
</map>
</div>

</div>
</div>
<a id="a4bd2bfd7408d91f09c954196835b05eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bd2bfd7408d91f09c954196835b05eb">&#9670;&nbsp;</a></span>nilfs_segctor_fill_in_super_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_fill_in_super_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_cgraph" id="nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="205,5,310,32"/>
<area shape="rect" id="node4" href="nilfs2_2inode_8c.html#a1ead1ca232cacac6b9e04aee04144f67" title="nilfs_write_inode_common" alt="" coords="169,56,345,83"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="393,5,568,32"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="445,56,516,83"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#ac580a6c63197dea17f308f83a2a9bd08" title="nilfs_bmap_write" alt="" coords="421,107,541,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_icgraph" id="nilfs2_2segment_8c_a4bd2bfd7408d91f09c954196835b05eb_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="169,352,348,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1023,286,1173,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="815,411,972,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="396,345,580,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1245,200,1350,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1239,301,1355,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1448,149,1568,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1664,107,1779,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1656,208,1787,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1888,157,1977,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1887,5,1979,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1883,56,1982,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1890,107,1975,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1894,232,1971,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1024,352,1172,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1029,403,1167,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1020,469,1176,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1419,352,1597,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1228,411,1367,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1443,403,1573,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1645,411,1797,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2199,436,2305,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1883,512,1983,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1845,461,2020,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2363,499,2453,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2068,461,2145,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2193,575,2311,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2359,575,2457,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1224,469,1371,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1431,469,1585,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1666,563,1777,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="628,185,767,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="819,352,967,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="824,149,963,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1048,99,1148,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1039,149,1157,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1238,251,1357,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1252,99,1343,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1449,235,1567,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1439,286,1577,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1651,309,1792,336"/>
</map>
</div>

</div>
</div>
<a id="a6cef1108b7fa7e06a421b10f2d6cf3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cef1108b7fa7e06a421b10f2d6cf3ac">&#9670;&nbsp;</a></span>nilfs_segctor_flush_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_flush_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a6cef1108b7fa7e06a421b10f2d6cf3ac_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a6cef1108b7fa7e06a421b10f2d6cf3ac_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a6cef1108b7fa7e06a421b10f2d6cf3ac_icgraph" id="nilfs2_2segment_8c_a6cef1108b7fa7e06a421b10f2d6cf3ac_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="224,224,363,251"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="411,151,540,193"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="588,93,740,120"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2147,93,2253,120"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2150,43,2250,69"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="788,144,963,171"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2329,68,2418,95"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1011,220,1088,247"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1136,220,1253,247"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1331,195,1429,221"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1301,245,1459,272"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1511,245,1659,272"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1515,347,1654,389"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1507,195,1663,221"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1711,245,1889,272"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1976,371,2053,397"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2140,396,2260,423"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2316,396,2431,423"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2308,345,2439,372"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2491,320,2581,347"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2490,371,2582,397"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2487,421,2585,448"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2493,472,2579,499"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1727,195,1873,221"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1937,119,2092,145"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2145,144,2255,171"/>
</map>
</div>

</div>
</div>
<a id="ab6bad92d64b23f1bc7cdfca3b44df6bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6bad92d64b23f1bc7cdfca3b44df6bb">&#9670;&nbsp;</a></span>nilfs_segctor_kill_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_kill_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td> &amp; -&gt; sc_state_lock)
	__releases(&amp;sci-&gt;sc_state_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ab6bad92d64b23f1bc7cdfca3b44df6bb_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ab6bad92d64b23f1bc7cdfca3b44df6bb_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ab6bad92d64b23f1bc7cdfca3b44df6bb_icgraph" id="nilfs2_2segment_8c_ab6bad92d64b23f1bc7cdfca3b44df6bb_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="172,304,319,331"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="367,144,521,171"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="601,169,712,196"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2109,192,2214,219"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2111,123,2211,149"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="569,119,744,145"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1896,123,2048,149"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2279,167,2369,193"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="792,144,869,171"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="917,199,1035,225"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1112,199,1211,225"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1083,257,1240,284"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1292,261,1440,288"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1297,195,1435,237"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1288,312,1444,339"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1492,425,1671,452"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1745,437,1822,464"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1912,425,2032,452"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2104,425,2219,452"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2096,476,2227,503"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2279,451,2369,477"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2278,501,2370,528"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2275,349,2373,376"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2281,400,2367,427"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1512,201,1651,228"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1719,145,1848,186"/>
</map>
</div>

</div>
</div>
<a id="a5958f1d95c64f327b6e6fd733d722aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5958f1d95c64f327b6e6fd733d722aad">&#9670;&nbsp;</a></span>nilfs_segctor_map_segsum_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* nilfs_segctor_map_segsum_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *&#160;</td>
          <td class="paramname"><em>ssp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5958f1d95c64f327b6e6fd733d722aad_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5958f1d95c64f327b6e6fd733d722aad_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5958f1d95c64f327b6e6fd733d722aad_icgraph" id="nilfs2_2segment_8c_a5958f1d95c64f327b6e6fd733d722aad_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="245,150,380,191"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="439,99,587,141"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="235,216,391,243"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#ab7118b301c296cb91ec186d8ec67a6e7" title="nilfs_write_file_data\l_binfo" alt="" coords="244,318,381,359"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#afed1f765e8fe080fdc9c552eba815d89" title="nilfs_write_file_node\l_binfo" alt="" coords="243,383,383,425"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#af347d69ebb791bdaef97d139a54dfc86" title="nilfs_write_dat_data\l_binfo" alt="" coords="243,449,382,490"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a2a4c93a4c34064d14016839fbfcf2ea0" title="nilfs_write_dat_node\l_binfo" alt="" coords="242,514,383,555"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="441,310,584,351"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="639,157,785,184"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="635,56,789,83"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="638,107,786,133"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="635,5,789,32"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="849,193,980,234"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1040,251,1181,293"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1229,263,1371,289"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1419,292,1597,319"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2086,183,2235,225"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1877,376,2035,403"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1645,285,1829,326"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2307,123,2413,149"/>
<area shape="rect" id="node19" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2302,173,2418,200"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2511,173,2631,200"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2727,123,2841,149"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2719,173,2849,200"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2951,21,3040,48"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2949,72,3041,99"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2946,123,3045,149"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2953,173,3038,200"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2957,248,3034,275"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2087,325,2235,352"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2091,427,2230,469"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2083,376,2239,403"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2481,308,2660,335"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2291,444,2429,471"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2506,459,2635,501"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2708,477,2860,504"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2943,503,3048,529"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2945,351,3045,377"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2908,427,3083,453"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2287,389,2433,416"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2493,397,2648,424"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2729,376,2839,403"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1887,259,2025,301"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1882,325,2030,352"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2091,267,2230,293"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2310,275,2410,301"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2301,224,2419,251"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="837,259,992,285"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="844,317,985,344"/>
</map>
</div>

</div>
</div>
<a id="a642f913818c60b9458a79aadb090f3ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642f913818c60b9458a79aadb090f3ad">&#9670;&nbsp;</a></span>nilfs_segctor_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a>* nilfs_segctor_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_cgraph" id="nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a4af5a977af148ee222180ae10226f487" title="nilfs_get_root" alt="" coords="201,360,301,387"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a6e4937564a8e4e3f93f7cba490ca3e04" title="nilfs_iput_work_func" alt="" coords="180,411,321,437"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#adfab781acf18797a0e45ef07137dd7d3" title="nilfs_construction\l_timeout" alt="" coords="189,462,313,503"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="369,411,492,437"/>
<area shape="rect" id="node5" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="540,411,583,437"/>
<area shape="rect" id="node6" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="631,411,705,437"/>
<area shape="rect" id="node27" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1385,107,1523,133"/>
<area shape="rect" id="node7" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1403,664,1505,691"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="755,461,874,488"/>
<area shape="rect" id="node21" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="753,309,876,336"/>
<area shape="rect" id="node22" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="789,360,840,387"/>
<area shape="rect" id="node8" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1596,664,1723,691"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="930,461,1087,488"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="939,563,1078,589"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="1141,344,1324,371"/>
<area shape="rect" id="node12" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="1166,497,1299,538"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="1143,445,1322,472"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="1151,395,1314,421"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="1159,563,1307,589"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1410,504,1498,531"/>
<area shape="rect" id="node14" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1610,504,1709,531"/>
<area shape="rect" id="node15" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1784,504,1923,531"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1372,395,1536,421"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="949,411,1068,437"/>
<area shape="rect" id="node24" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="947,208,1070,235"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="924,360,1093,387"/>
<area shape="rect" id="node26" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="1189,251,1277,277"/>
<area shape="rect" id="node28" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="971,512,1047,539"/>
<area shape="rect" id="node31" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="971,259,1047,285"/>
<area shape="rect" id="node32" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="957,157,1060,184"/>
<area shape="rect" id="node29" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="1205,613,1260,640"/>
<area shape="rect" id="node30" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1385,613,1523,640"/>
<area shape="rect" id="node33" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1174,56,1291,83"/>
<area shape="rect" id="node38" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1193,157,1273,184"/>
<area shape="rect" id="node34" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1390,5,1518,32"/>
<area shape="rect" id="node35" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1373,56,1535,83"/>
<area shape="rect" id="node36" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1584,56,1735,83"/>
<area shape="rect" id="node37" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1783,56,1924,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_icgraph" id="nilfs2_2segment_8c_a642f913818c60b9458a79aadb090f3ad_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="180,119,332,145"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1739,188,1845,215"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1742,75,1842,101"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="380,119,555,145"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1921,137,2010,164"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="603,144,680,171"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="728,199,845,225"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="923,199,1021,225"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="893,252,1051,279"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1103,312,1251,339"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1107,246,1246,287"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1099,195,1255,221"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1303,388,1481,415"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1568,513,1645,540"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1732,539,1852,565"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1908,539,2023,565"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1900,488,2031,515"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2083,463,2173,489"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2082,513,2174,540"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2079,564,2177,591"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2085,615,2171,641"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1323,271,1461,297"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1542,297,1671,338"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1319,144,1465,171"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1529,119,1684,145"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1737,125,1847,152"/>
</map>
</div>

</div>
</div>
<a id="a48b4127ef65dc5b6772abed38d8b57d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b4127ef65dc5b6772abed38d8b57d9">&#9670;&nbsp;</a></span>nilfs_segctor_notify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_notify </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_notify - notify the result of request to caller threads : segment constructor object : mode of log forming : error code to be notified </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_cgraph" id="nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#aef3e55d324de166f073db74a7eb57fde" title="nilfs_segctor_wakeup" alt="" coords="188,5,336,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_icgraph" id="nilfs2_2segment_8c_a48b4127ef65dc5b6772abed38d8b57d9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="188,259,345,285"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="397,149,545,176"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="402,222,541,263"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="393,288,549,315"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="597,139,776,165"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="863,132,940,159"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1043,81,1163,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1257,81,1371,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1249,132,1379,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1454,157,1543,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1453,5,1545,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1449,56,1548,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1456,107,1541,133"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="617,229,756,256"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="837,222,966,263"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1027,233,1179,260"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1602,323,1707,349"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1264,233,1364,260"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1227,385,1401,412"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1766,297,1855,324"/>
<area shape="rect" id="node21" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1460,385,1537,412"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1596,399,1713,425"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1761,399,1860,425"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="613,288,760,315"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="824,288,979,315"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1047,284,1158,311"/>
</map>
</div>

</div>
</div>
<a id="a860212a92caeb10e765a54525c8935e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a860212a92caeb10e765a54525c8935e7">&#9670;&nbsp;</a></span>nilfs_segctor_prepare_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_prepare_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_cgraph" id="nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a01d84faff80b488fb23952be7bd5c0da" title="nilfs_begin_page_io" alt="" coords="200,13,336,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_icgraph" id="nilfs2_2segment_8c_a860212a92caeb10e765a54525c8935e7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="200,352,379,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1054,286,1203,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="845,411,1003,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="427,345,611,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1275,200,1381,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1270,301,1386,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1479,149,1599,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1695,107,1809,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1687,208,1817,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1919,157,2008,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1917,5,2009,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1914,56,2013,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1921,107,2006,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1925,232,2002,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1055,352,1203,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1059,403,1198,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1051,469,1207,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1449,352,1628,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1259,411,1397,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1474,403,1603,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1676,411,1828,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2230,436,2335,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1913,512,2013,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1876,461,2051,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2394,499,2483,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2099,461,2176,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2224,575,2341,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2389,575,2488,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1255,469,1401,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1461,469,1616,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1697,563,1807,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="659,185,797,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="850,352,998,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="855,149,993,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1079,99,1179,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1069,149,1188,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1269,251,1387,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1283,99,1373,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1479,235,1598,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1469,286,1608,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1681,309,1823,336"/>
</map>
</div>

</div>
</div>
<a id="a39bd4ec246077eb3f8a8974c17457006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bd4ec246077eb3f8a8974c17457006">&#9670;&nbsp;</a></span>nilfs_segctor_reset_segment_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_reset_segment_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_reset_segment_buffer - reset the current segment buffer : <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_cgraph" id="nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="197,8,302,35"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="185,60,313,87"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="361,5,536,32"/>
<area shape="rect" id="node5" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="379,57,518,98"/>
<area shape="rect" id="node6" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="584,57,757,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_icgraph" id="nilfs2_2segment_8c_a39bd4ec246077eb3f8a8974c17457006_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="185,255,313,297"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1189,233,1331,260"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="760,259,952,285"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="361,350,509,391"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1000,255,1141,297"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1379,233,1557,260"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2046,94,2195,135"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1837,333,1995,360"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1605,226,1789,267"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2466,17,2571,44"/>
<area shape="rect" id="node17" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2262,29,2378,56"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2660,107,2780,133"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2876,107,2991,133"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2868,159,2999,185"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3075,107,3165,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3074,157,3166,184"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3071,5,3169,32"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3077,56,3163,83"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3081,232,3159,259"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2047,275,2195,301"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2051,326,2190,367"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2043,392,2199,419"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2844,272,3023,299"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2251,337,2389,364"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2454,337,2583,378"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2644,376,2796,403"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3223,376,3329,403"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2883,427,2983,453"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2846,503,3021,529"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3383,401,3472,428"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3081,503,3159,529"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3217,528,3335,555"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2247,405,2393,432"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2441,420,2596,447"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2665,427,2775,453"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1847,197,1985,238"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1842,275,1990,301"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2051,181,2190,208"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2270,181,2370,208"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2261,131,2379,157"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2459,220,2578,247"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2473,169,2564,196"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2661,157,2779,184"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2651,209,2789,250"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="561,459,708,485"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="557,357,712,384"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="561,408,709,435"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="557,307,712,333"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="791,382,921,423"/>
</map>
</div>

</div>
</div>
<a id="a54b68878b13cea892fdcc2eb8a4ed7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b68878b13cea892fdcc2eb8a4ed7e2">&#9670;&nbsp;</a></span>nilfs_segctor_scan_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_scan_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a> *&#160;</td>
          <td class="paramname"><em>sc_ops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_cgraph" id="nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="243,48,338,75"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#addf2c923fddae2656bb73aeb0fbb3baa" title="nilfs_segctor_buffer_rest" alt="" coords="208,99,373,125"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a69fe342fa35cdc28f6c078c4b7201a09" title="nilfs_lookup_dirty\l_data_buffers" alt="" coords="229,150,352,191"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#ac6597daa41d51e252f25e4a0c8027bbb" title="nilfs_segctor_apply\l_buffers" alt="" coords="223,215,358,257"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a136cc66a7ca5131f7603271a44ecf99e" title="nilfs_lookup_dirty\l_node_buffers" alt="" coords="229,333,352,374"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="477,340,547,367"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a63dba5d9babfbd2aac577674ebe5acf2" title="nilfs_bmap_lookup_dirty\l_buffers" alt="" coords="209,450,372,491"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="213,399,369,425"/>
<area shape="rect" id="node5" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="438,157,586,184"/>
<area shape="rect" id="node6" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="651,107,781,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1049,107,1188,133"/>
<area shape="rect" id="node7" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="853,56,977,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="867,157,963,184"/>
<area shape="rect" id="node11" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="856,5,975,32"/>
<area shape="rect" id="node12" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="829,107,1001,133"/>
<area shape="rect" id="node8" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="1061,31,1176,57"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="421,391,603,433"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_icgraph" id="nilfs2_2segment_8c_a54b68878b13cea892fdcc2eb8a4ed7e2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="208,345,349,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="397,352,539,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="587,352,765,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1441,286,1590,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1232,411,1389,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="813,345,997,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1662,200,1767,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1657,301,1773,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1865,149,1985,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2081,107,2196,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2073,208,2204,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2305,157,2395,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2304,5,2396,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2301,56,2399,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2307,107,2393,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2311,232,2389,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1441,352,1589,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1446,403,1585,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1437,469,1593,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1836,352,2015,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1645,411,1784,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1861,403,1990,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2063,411,2215,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2617,436,2722,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2300,512,2400,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2263,461,2437,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2781,499,2870,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2485,461,2563,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2611,575,2728,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2776,575,2875,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1641,469,1788,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1848,469,2003,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2083,563,2194,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1045,185,1184,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1237,352,1385,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1241,149,1380,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1465,99,1565,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1456,149,1575,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1655,251,1774,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1669,99,1760,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1866,235,1985,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1856,286,1995,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2068,309,2209,336"/>
</map>
</div>

</div>
</div>
<a id="a96c6bac7991c2db1aab03b5884a8c7f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c6bac7991c2db1aab03b5884a8c7f7">&#9670;&nbsp;</a></span>nilfs_segctor_scan_file_dsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_scan_file_dsync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_cgraph" id="nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="219,48,314,75"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#addf2c923fddae2656bb73aeb0fbb3baa" title="nilfs_segctor_buffer_rest" alt="" coords="184,99,349,125"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a69fe342fa35cdc28f6c078c4b7201a09" title="nilfs_lookup_dirty\l_data_buffers" alt="" coords="205,150,328,191"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#ac6597daa41d51e252f25e4a0c8027bbb" title="nilfs_segctor_apply\l_buffers" alt="" coords="199,215,334,257"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="193,452,340,479"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a50b60f1ae24c083f2c68d7055dea509b" title="nilfs_segctor_end_finfo" alt="" coords="595,383,751,409"/>
<area shape="rect" id="node5" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="398,157,546,184"/>
<area shape="rect" id="node6" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="607,107,738,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1028,120,1167,147"/>
<area shape="rect" id="node7" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="827,56,951,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="841,157,937,184"/>
<area shape="rect" id="node11" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="830,5,949,32"/>
<area shape="rect" id="node12" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="803,107,975,133"/>
<area shape="rect" id="node8" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="1040,31,1155,57"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8c.html#afb743019402ac67c539a449d627a07da" title="nilfs_bmap_propagate" alt="" coords="397,765,547,792"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="854,324,925,351"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="398,533,546,574"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="605,957,740,998"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="843,964,936,991"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="1045,964,1149,991"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1235,996,1369,1023"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1235,945,1369,972"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a85cc6aeaaafc2694fd7c342d2eab0a66" title="nilfs_segctor_segsum\l_block_required" alt="" coords="598,891,747,933"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="799,375,980,417"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="609,826,737,867"/>
<area shape="rect" id="node31" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="1233,789,1371,830"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#ae8c30c841e80044de622494a894368c3" title="nilfs_segctor_begin\l_finfo" alt="" coords="605,434,740,475"/>
<area shape="rect" id="node34" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="601,565,745,606"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="823,826,955,867"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1045,876,1150,903"/>
<area shape="rect" id="node30" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1" title="nilfs_segbuf_reset" alt="" coords="1033,825,1161,852"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1215,876,1389,903"/>
<area shape="rect" id="node32" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="1437,789,1611,830"/>
<area shape="rect" id="node35" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="803,506,975,547"/>
<area shape="rect" id="node36" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="833,572,945,599"/>
<area shape="rect" id="node39" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="824,623,955,649"/>
<area shape="rect" id="node41" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="833,673,945,700"/>
<area shape="rect" id="node45" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="825,724,954,751"/>
<area shape="rect" id="node47" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="815,441,963,482"/>
<area shape="rect" id="node37" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="1034,572,1161,599"/>
<area shape="rect" id="node38" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="1231,572,1373,599"/>
<area shape="rect" id="node40" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="1037,623,1158,649"/>
<area shape="rect" id="node42" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="1034,673,1161,700"/>
<area shape="rect" id="node43" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="1231,687,1373,729"/>
<area shape="rect" id="node44" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="1223,636,1381,663"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="1036,724,1159,751"/>
<area shape="rect" id="node48" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="1033,506,1162,547"/>
<area shape="rect" id="node49" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="1033,375,1162,417"/>
<area shape="rect" id="node50" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="1033,441,1162,482"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_icgraph" id="nilfs2_2segment_8c_a96c6bac7991c2db1aab03b5884a8c7f7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="184,345,325,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="373,352,515,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="563,352,741,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1417,286,1566,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1208,411,1365,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="789,345,973,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1638,200,1743,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1633,301,1749,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1841,149,1961,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2057,107,2172,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2049,208,2180,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2281,157,2371,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2280,5,2372,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2277,56,2375,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2283,107,2369,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2287,232,2365,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1417,352,1565,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1422,403,1561,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1413,469,1569,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1812,352,1991,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1621,411,1760,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1837,403,1966,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2039,411,2191,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2593,436,2698,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2276,512,2376,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2239,461,2413,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2757,499,2846,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2461,461,2539,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2587,575,2704,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2752,575,2851,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1617,469,1764,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1824,469,1979,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2059,563,2170,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1021,185,1160,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1213,352,1361,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1217,149,1356,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1441,99,1541,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1432,149,1551,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1631,251,1750,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1645,99,1736,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1842,235,1961,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1832,286,1971,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2044,309,2185,336"/>
</map>
</div>

</div>
</div>
<a id="a85cc6aeaaafc2694fd7c342d2eab0a66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cc6aeaaafc2694fd7c342d2eab0a66">&#9670;&nbsp;</a></span>nilfs_segctor_segsum_block_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_segsum_block_required </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *&#160;</td>
          <td class="paramname"><em>ssp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>binfo_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a85cc6aeaaafc2694fd7c342d2eab0a66_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a85cc6aeaaafc2694fd7c342d2eab0a66_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a85cc6aeaaafc2694fd7c342d2eab0a66_icgraph" id="nilfs2_2segment_8c_a85cc6aeaaafc2694fd7c342d2eab0a66_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="203,421,351,462"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="403,352,549,379"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="399,403,553,429"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="402,453,550,480"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="399,504,553,531"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="601,345,732,386"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="780,345,921,386"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="969,352,1111,379"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1159,352,1337,379"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2013,286,2162,327"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1804,411,1961,437"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1385,345,1569,386"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2234,200,2339,227"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2229,301,2345,328"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2437,149,2557,176"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2653,107,2768,133"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2645,208,2776,235"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2877,157,2967,184"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2876,5,2968,32"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2873,56,2971,83"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2879,107,2965,133"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2883,232,2961,259"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2013,352,2161,379"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2018,403,2157,445"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2009,469,2165,496"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2408,352,2587,379"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2217,411,2356,437"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2433,403,2562,445"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2635,411,2787,437"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3189,436,3294,463"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2872,512,2972,539"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2835,461,3009,488"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3353,499,3442,525"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3057,461,3135,488"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3183,575,3300,601"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="3348,575,3447,601"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2213,469,2360,496"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2420,469,2575,496"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2655,563,2766,589"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1617,185,1756,226"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1809,352,1957,379"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1813,149,1952,176"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2037,99,2137,125"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2028,149,2147,176"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2227,251,2346,277"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2241,99,2332,125"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2438,235,2557,261"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2428,286,2567,327"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2640,309,2781,336"/>
</map>
</div>

</div>
</div>
<a id="accb2af3cf720ef8a382baa244f770a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb2af3cf720ef8a382baa244f770a64">&#9670;&nbsp;</a></span>nilfs_segctor_start_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_start_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_cgraph" id="nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="183,1087,321,1113"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a6cef1108b7fa7e06a421b10f2d6cf3ac" title="nilfs_segctor_flush_mode" alt="" coords="369,1028,540,1055"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="385,1079,524,1121"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a9151c9e879ecd826e57e7a77e249a066" title="nilfs_sb_need_update" alt="" coords="381,1145,529,1172"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="595,896,743,923"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="812,1113,969,1140"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="605,1109,734,1150"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="588,1175,751,1201"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="799,833,983,874"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1031,633,1209,660"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1269,56,1407,83"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1267,107,1409,149"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1270,1173,1406,1214"/>
<area shape="rect" id="node11" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1483,909,1589,936"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1271,1121,1405,1148"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1271,275,1405,317"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1267,224,1409,251"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1467,199,1605,225"/>
<area shape="rect" id="node16" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="1271,392,1405,419"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1272,443,1404,485"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="1267,509,1409,536"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1280,561,1396,602"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1280,626,1396,667"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1280,691,1396,733"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="1267,757,1409,798"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="1265,822,1411,863"/>
<area shape="rect" id="node24" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="1264,887,1412,929"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="1273,953,1403,980"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1275,1004,1401,1031"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="1274,1055,1402,1097"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="1271,5,1405,32"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="1049,1215,1191,1241"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="1047,1113,1193,1140"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1053,1265,1187,1292"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1061,1509,1179,1536"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="1051,1012,1189,1039"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1053,1063,1187,1089"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="1053,1164,1187,1191"/>
<area shape="rect" id="node33" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1257,1256,1419,1283"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="1260,1611,1416,1637"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="1298,1661,1378,1688"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="1290,1712,1386,1739"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1303,1763,1373,1789"/>
<area shape="rect" id="node39" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1299,1307,1377,1333"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="1285,1357,1391,1384"/>
<area shape="rect" id="node41" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="1267,1408,1409,1435"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="1259,1459,1417,1485"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b" title="nilfs_count_free_blocks" alt="" coords="1259,1509,1417,1536"/>
<area shape="rect" id="node44" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="1278,1560,1398,1587"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_icgraph" id="nilfs2_2segment_8c_accb2af3cf720ef8a382baa244f770a64_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="183,119,335,145"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1742,93,1847,120"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1745,195,1845,221"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="383,119,557,145"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1923,144,2013,171"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="605,144,683,171"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="731,195,848,221"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="925,195,1024,221"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="896,245,1053,272"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1105,245,1253,272"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1110,347,1249,389"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1101,195,1257,221"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1305,351,1484,377"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1571,371,1648,397"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1735,396,1855,423"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1911,396,2025,423"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1903,345,2033,372"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2086,320,2175,347"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2085,371,2177,397"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2081,421,2180,448"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2088,472,2173,499"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1325,409,1464,436"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1321,195,1468,221"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1532,144,1687,171"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1739,144,1850,171"/>
</map>
</div>

</div>
</div>
<a id="aa55509ef3ea01cc74488f916f1d551f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55509ef3ea01cc74488f916f1d551f3">&#9670;&nbsp;</a></span>nilfs_segctor_start_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_start_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_start_timer - set timer of background write : <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a></p>
<p>If the timer has already been set, it ignores the new request. This function MUST be called within a section locking the segment semaphore. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aa55509ef3ea01cc74488f916f1d551f3_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_aa55509ef3ea01cc74488f916f1d551f3_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aa55509ef3ea01cc74488f916f1d551f3_icgraph" id="nilfs2_2segment_8c_aa55509ef3ea01cc74488f916f1d551f3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749" title="nilfs_transaction_commit" alt="" coords="183,1081,349,1108"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="197,1407,335,1449"/>
<area shape="rect" id="node3" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="603,879,738,905"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="421,1081,530,1108"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1042,904,1138,931"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1410,327,1499,353"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1409,25,1501,52"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1405,143,1504,169"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1412,727,1497,753"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1220,1043,1351,1069"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1053,777,1127,804"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="621,1284,721,1311"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="832,1284,923,1311"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="421,1436,530,1463"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="416,1157,535,1184"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="417,1385,533,1412"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="432,1588,519,1615"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="434,1639,517,1665"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1222,1447,1349,1489"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1226,1526,1345,1567"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1213,676,1357,703"/>
<area shape="rect" id="node37" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="397,480,553,507"/>
<area shape="rect" id="node5" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="601,929,740,956"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1030,1056,1150,1083"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="617,980,724,1007"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="614,1031,727,1057"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1031,1284,1149,1311"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="617,1132,724,1159"/>
<area shape="rect" id="node26" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1021,1382,1159,1423"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="828,980,927,1007"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="827,879,928,905"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="815,929,939,956"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="813,1031,941,1057"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1228,360,1343,387"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1416,1093,1493,1120"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="818,1385,937,1412"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1215,1389,1356,1416"/>
<area shape="rect" id="node38" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="601,385,740,412"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="798,443,957,485"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="802,144,953,171"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="800,195,955,237"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="788,313,967,354"/>
<area shape="rect" id="node43" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="800,509,955,550"/>
<area shape="rect" id="node44" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1021,389,1159,416"/>
<area shape="rect" id="node45" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1015,575,1165,601"/>
<area shape="rect" id="node46" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="794,378,961,419"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="406,1689,545,1716"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="606,1682,735,1723"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="801,1689,953,1716"/>
</map>
</div>

</div>
</div>
<a id="aece5ba8b7c1a8df29083370bfb0f3aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece5ba8b7c1a8df29083370bfb0f3aad">&#9670;&nbsp;</a></span>nilfs_segctor_sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aece5ba8b7c1a8df29083370bfb0f3aad_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_aece5ba8b7c1a8df29083370bfb0f3aad_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aece5ba8b7c1a8df29083370bfb0f3aad_icgraph" id="nilfs2_2segment_8c_aece5ba8b7c1a8df29083370bfb0f3aad_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#ace4dd33f62112603f9df2513713ed770" title="nilfs_construct_segment" alt="" coords="184,1083,348,1109"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="191,1017,341,1058"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="431,1057,536,1084"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="429,1387,538,1413"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1231,1361,1337,1388"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1039,145,1137,172"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a88f66d269c57dae4d6eaf9eae22016b9" title="nilfs_ioctl_sync" alt="" coords="1417,1425,1529,1452"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="396,95,571,121"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749" title="nilfs_transaction_commit" alt="" coords="400,804,567,831"/>
<area shape="rect" id="node48" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="411,1108,556,1135"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1224,939,1344,965"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1416,329,1531,356"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1408,1193,1539,1220"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1598,51,1687,77"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1597,203,1689,229"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1593,304,1692,331"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1600,368,1685,395"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1604,1252,1681,1279"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1414,1359,1533,1385"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="658,95,735,121"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="839,44,945,71"/>
<area shape="rect" id="node21" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="833,95,951,121"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1043,44,1133,71"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1009,95,1167,121"/>
<area shape="rect" id="node24" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="825,804,959,831"/>
<area shape="rect" id="node25" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="642,677,751,704"/>
<area shape="rect" id="node28" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1236,551,1332,577"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="842,956,942,983"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1043,1007,1133,1033"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="642,1159,751,1185"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1029,1057,1147,1084"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1030,905,1146,932"/>
<area shape="rect" id="node40" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="660,247,733,273"/>
<area shape="rect" id="node41" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="653,297,740,324"/>
<area shape="rect" id="node42" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="655,348,738,375"/>
<area shape="rect" id="node43" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1410,809,1537,850"/>
<area shape="rect" id="node44" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1225,1245,1343,1286"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1401,1304,1545,1331"/>
<area shape="rect" id="node46" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="619,399,775,425"/>
<area shape="rect" id="node26" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="823,703,961,729"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="839,652,945,679"/>
<area shape="rect" id="node30" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="835,551,949,577"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1225,804,1343,831"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="839,601,945,628"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1215,855,1353,897"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1039,703,1137,729"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1029,804,1147,831"/>
<area shape="rect" id="node47" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="823,247,961,273"/>
<area shape="rect" id="node50" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="425,44,541,71"/>
</map>
</div>

</div>
</div>
<a id="a39d3b93661aea1ce6d75d52641a734f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d3b93661aea1ce6d75d52641a734f7">&#9670;&nbsp;</a></span>nilfs_segctor_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segctor_thread - main loop of the segment constructor thread. </p><ul>
<li>: pointer to a struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a>.</li>
</ul>
<p><a class="el" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7">nilfs_segctor_thread()</a> initializes a timer and serves as a daemon to execute segment constructions. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_cgraph" id="nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a6cef1108b7fa7e06a421b10f2d6cf3ac" title="nilfs_segctor_flush_mode" alt="" coords="192,1032,363,1059"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="208,1083,347,1125"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a9151c9e879ecd826e57e7a77e249a066" title="nilfs_sb_need_update" alt="" coords="203,1149,351,1176"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="418,896,566,923"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="635,1119,792,1145"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="427,1113,557,1154"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="411,1179,573,1205"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="621,831,805,873"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="853,627,1032,653"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1093,224,1231,251"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1091,275,1233,317"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1094,1122,1230,1163"/>
<area shape="rect" id="node10" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1309,1100,1414,1127"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1095,1188,1229,1215"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1095,393,1229,434"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1091,341,1233,368"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1292,400,1431,427"/>
<area shape="rect" id="node15" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="1095,509,1229,536"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1096,561,1228,602"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="1091,627,1233,653"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1104,743,1220,785"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1104,809,1220,850"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1104,678,1220,719"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="1091,874,1233,915"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="1089,939,1235,981"/>
<area shape="rect" id="node23" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="1088,1005,1236,1046"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="1097,5,1227,32"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1099,56,1225,83"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="1098,107,1226,149"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="1095,173,1229,200"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="871,1220,1014,1247"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="869,1119,1016,1145"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="875,1271,1010,1297"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="884,1539,1001,1565"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="873,1017,1012,1044"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="875,1068,1010,1095"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="875,1169,1010,1196"/>
<area shape="rect" id="node32" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1081,1260,1243,1287"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="1084,1311,1240,1337"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="1122,1361,1202,1388"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="1114,1412,1210,1439"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1127,1463,1197,1489"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1123,1513,1201,1540"/>
<area shape="rect" id="node39" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="1109,1564,1215,1591"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="1091,1615,1233,1641"/>
<area shape="rect" id="node41" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="1083,1665,1241,1692"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b" title="nilfs_count_free_blocks" alt="" coords="1083,1716,1241,1743"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="1102,1767,1222,1793"/>
<area shape="rect" id="node44" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="1080,1817,1244,1844"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_icgraph" id="nilfs2_2segment_8c_a39d3b93661aea1ce6d75d52641a734f7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="192,151,321,193"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="369,93,521,120"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1929,93,2034,120"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1931,43,2031,69"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="569,144,744,171"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2110,68,2199,95"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="792,220,869,247"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="917,220,1035,247"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1112,195,1211,221"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1083,245,1240,272"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1292,245,1440,272"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1297,347,1435,389"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1288,195,1444,221"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1492,245,1671,272"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1757,371,1835,397"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1921,396,2041,423"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2097,396,2212,423"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2089,345,2220,372"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2273,320,2362,347"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2271,371,2363,397"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2268,421,2367,448"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2275,472,2360,499"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1508,195,1655,221"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1719,119,1873,145"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1926,144,2037,171"/>
</map>
</div>

</div>
</div>
<a id="a94663ea74105a230816c915236ad199a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94663ea74105a230816c915236ad199a">&#9670;&nbsp;</a></span>nilfs_segctor_thread_construct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_thread_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_cgraph" id="nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="199,910,347,937"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="416,1113,573,1139"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="209,1113,338,1155"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="192,1179,355,1206"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="403,851,587,892"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="635,669,813,695"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="874,669,1013,695"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="873,720,1014,761"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="875,1172,1011,1213"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1090,1033,1195,1059"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="876,1121,1011,1147"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="876,1004,1011,1045"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="873,837,1014,863"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1073,811,1212,838"/>
<area shape="rect" id="node13" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="876,1070,1011,1097"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="877,5,1009,47"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="873,71,1014,98"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="885,123,1001,164"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="885,188,1001,229"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="885,939,1001,980"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="872,253,1015,295"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="870,319,1017,360"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="869,384,1017,425"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="878,450,1009,477"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="880,501,1007,527"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="879,552,1007,593"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="876,618,1011,645"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="653,1214,795,1241"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="651,1113,797,1139"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="657,1265,791,1291"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="665,1610,783,1637"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="655,1011,793,1038"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="657,1062,791,1089"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="657,1163,791,1190"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="863,1255,1024,1282"/>
<area shape="rect" id="node32" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="865,1829,1021,1855"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="903,1879,983,1906"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="895,1930,991,1957"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="908,1981,979,2007"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="905,1306,982,1333"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="890,1357,997,1383"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="872,1407,1015,1434"/>
<area shape="rect" id="node39" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="864,1458,1023,1485"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b" title="nilfs_count_free_blocks" alt="" coords="864,1509,1023,1535"/>
<area shape="rect" id="node41" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="883,1559,1003,1586"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="861,1610,1025,1637"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="893,1661,993,1687"/>
<area shape="rect" id="node44" href="the__nilfs_8h.html#a90dd6a38fbbe4af1b07031036a6ee500" title="nilfs_near_disk_full" alt="" coords="877,1711,1010,1738"/>
<area shape="rect" id="node45" href="the__nilfs_8h.html#aa7659acbf3f2fe3722694bfa4633fb75" title="nilfs_fall_back_super\l_block" alt="" coords="871,1763,1015,1804"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_icgraph" id="nilfs2_2segment_8c_a94663ea74105a230816c915236ad199a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="192,220,331,247"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="379,174,508,215"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="556,169,708,196"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2115,105,2221,132"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2118,213,2218,240"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="756,169,931,196"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2297,169,2386,196"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="979,144,1056,171"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1104,144,1221,171"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1299,144,1397,171"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1269,296,1427,323"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1479,347,1627,373"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1475,296,1631,323"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1679,347,1857,373"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1944,347,2021,373"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2108,347,2228,373"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2284,347,2399,373"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2276,296,2407,323"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2459,271,2549,297"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2458,321,2550,348"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2455,372,2553,399"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2461,423,2547,449"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1695,296,1841,323"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1905,188,2060,215"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2113,163,2223,189"/>
</map>
</div>

</div>
</div>
<a id="a1718603d405fa5903c6230390dad55d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1718603d405fa5903c6230390dad55d3">&#9670;&nbsp;</a></span>nilfs_segctor_truncate_segments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_truncate_segments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>sufile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_cgraph" id="nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_cgraph">
<area shape="rect" id="node2" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="213,904,326,931"/>
<area shape="rect" id="node47" href="segbuf_8c.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="204,1181,335,1208"/>
<area shape="rect" id="node3" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="383,904,513,931"/>
<area shape="rect" id="node34" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="1042,819,1177,845"/>
<area shape="rect" id="node4" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="561,904,741,931"/>
<area shape="rect" id="node7" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1880,1181,1976,1208"/>
<area shape="rect" id="node10" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1256,347,1411,389"/>
<area shape="rect" id="node12" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="1250,1291,1417,1333"/>
<area shape="rect" id="node5" href="sufile_8h.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="789,777,972,804"/>
<area shape="rect" id="node8" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="809,485,952,526"/>
<area shape="rect" id="node9" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1050,1139,1169,1165"/>
<area shape="rect" id="node24" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1033,1088,1185,1115"/>
<area shape="rect" id="node25" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="1026,1255,1193,1297"/>
<area shape="rect" id="node26" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1300,2184,1367,2211"/>
<area shape="rect" id="node27" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="811,397,950,424"/>
<area shape="rect" id="node28" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1034,1512,1185,1539"/>
<area shape="rect" id="node30" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1034,616,1185,643"/>
<area shape="rect" id="node32" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1041,261,1178,288"/>
<area shape="rect" id="node33" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="1037,869,1181,896"/>
<area shape="rect" id="node35" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="1020,920,1199,947"/>
<area shape="rect" id="node36" href="sufile_8h.html#a7e943e59486cd6176a3317bed589b7c9" title="nilfs_sufile_do_set\l_error" alt="" coords="1044,971,1175,1013"/>
<area shape="rect" id="node37" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="817,625,944,652"/>
<area shape="rect" id="node41" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1051,1321,1167,1348"/>
<area shape="rect" id="node46" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="1044,1668,1175,1695"/>
<area shape="rect" id="node6" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1288,768,1379,795"/>
<area shape="rect" id="node15" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="1260,1174,1407,1215"/>
<area shape="rect" id="node17" href="sufile_8c.html#a34ecb984fd0f57101d2ee0b4bde4bf95" title="nilfs_sufile_segment\l_usages_in_block" alt="" coords="1263,1814,1404,1855"/>
<area shape="rect" id="node18" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1481,945,1604,972"/>
<area shape="rect" id="node22" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1262,1021,1405,1048"/>
<area shape="rect" id="node11" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1473,435,1612,461"/>
<area shape="rect" id="node13" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="1469,819,1617,845"/>
<area shape="rect" id="node14" href="sufile_8c.html#a048a58aad760411d79b7e01d28babbb5" title="nilfs_sufile_segment\l_usages_per_block" alt="" coords="1678,1737,1819,1778"/>
<area shape="rect" id="node16" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="1468,1700,1617,1727"/>
<area shape="rect" id="node19" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1688,1021,1809,1048"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1681,920,1816,947"/>
<area shape="rect" id="node21" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1679,971,1818,997"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1507,1585,1578,1612"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a51bb53199a62a87f269e03404136d00f" title="nilfs_segment_is_active" alt="" coords="1252,1560,1415,1587"/>
<area shape="rect" id="node31" href="sufile_8c.html#af1d36bfa94541a3fdad59955464852ea" title="nilfs_sufile_mod_counter" alt="" coords="1250,869,1417,896"/>
<area shape="rect" id="node38" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="1280,464,1387,491"/>
<area shape="rect" id="node39" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="1040,1190,1179,1231"/>
<area shape="rect" id="node40" href="the__nilfs_8c.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="1038,565,1181,592"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="1274,1661,1393,1688"/>
<area shape="rect" id="node43" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="1284,1611,1383,1637"/>
<area shape="rect" id="node44" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1665,2032,1832,2059"/>
<area shape="rect" id="node45" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="1247,1712,1420,1739"/>
<area shape="rect" id="node48" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="385,1181,511,1208"/>
<area shape="rect" id="node50" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="387,1232,509,1259"/>
<area shape="rect" id="node49" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="580,1423,723,1449"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_icgraph" id="nilfs2_2segment_8c_a1718603d405fa5903c6230390dad55d3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="204,352,345,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="393,352,572,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1247,286,1397,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1039,411,1196,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="620,345,804,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1469,200,1574,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1463,301,1579,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1672,149,1792,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1888,107,2003,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1880,208,2011,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2112,157,2201,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2111,5,2203,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2107,56,2206,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2114,107,2199,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2118,232,2195,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1248,352,1396,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1253,403,1391,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1244,469,1400,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1643,352,1821,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1452,411,1591,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1667,403,1797,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1869,411,2021,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2423,436,2529,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2107,512,2207,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2069,461,2244,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2587,499,2677,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2292,461,2369,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2417,575,2535,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2583,575,2681,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1448,469,1595,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1655,469,1809,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1890,563,2001,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="852,185,991,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1043,352,1191,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1048,149,1187,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1272,99,1372,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1263,149,1381,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1462,251,1581,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1476,99,1567,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1673,235,1791,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1663,286,1801,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1875,309,2016,336"/>
</map>
</div>

</div>
</div>
<a id="a68f908be4c8ec4db5ffed685614d6602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f908be4c8ec4db5ffed685614d6602">&#9670;&nbsp;</a></span>nilfs_segctor_update_payload_blocknr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_update_payload_blocknr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_cgraph" id="nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_cgraph">
<area shape="rect" id="node2" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="253,208,320,235"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="196,259,377,301"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8c.html#a0916dd1fafed37f0de176751552782b4" title="nilfs_bmap_assign" alt="" coords="221,325,352,352"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="251,376,322,403"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a6194a6d85e10dcd389bbaa0c5c14fda3" title="nilfs_list_replace\l_buffer" alt="" coords="227,427,346,469"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="425,318,560,359"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="608,325,701,352"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="749,325,853,352"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="901,300,1036,327"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="901,351,1036,377"/>
<area shape="rect" id="node9" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1084,300,1245,327"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1105,351,1225,377"/>
<area shape="rect" id="node12" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1485,300,1621,327"/>
<area shape="rect" id="node22" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1304,351,1427,377"/>
<area shape="rect" id="node23" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1293,402,1437,443"/>
<area shape="rect" id="node13" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1669,249,1823,276"/>
<area shape="rect" id="node16" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2062,275,2201,301"/>
<area shape="rect" id="node17" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1892,300,1992,327"/>
<area shape="rect" id="node18" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1705,81,1787,108"/>
<area shape="rect" id="node14" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1889,132,1995,159"/>
<area shape="rect" id="node15" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1871,183,2013,225"/>
<area shape="rect" id="node19" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1885,31,1999,57"/>
<area shape="rect" id="node20" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2061,56,2201,83"/>
<area shape="rect" id="node21" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2078,5,2185,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_icgraph" id="nilfs2_2segment_8c_a68f908be4c8ec4db5ffed685614d6602_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="196,352,337,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="385,352,564,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1239,286,1389,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1031,411,1188,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="612,345,796,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1461,200,1566,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1455,301,1571,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1664,149,1784,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1880,107,1995,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1872,208,2003,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2104,157,2193,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2103,5,2195,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2099,56,2198,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2106,107,2191,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2110,232,2187,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1240,352,1388,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1245,403,1383,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1236,469,1392,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1635,352,1813,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1444,411,1583,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1659,403,1789,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1861,411,2013,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2415,436,2521,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2099,512,2199,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2061,461,2236,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2579,499,2669,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2284,461,2361,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2409,575,2527,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2575,575,2673,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1440,469,1587,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1647,469,1801,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1882,563,1993,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="844,185,983,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1035,352,1183,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1040,149,1179,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1264,99,1364,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1255,149,1373,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1454,251,1573,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1468,99,1559,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1665,235,1783,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1655,286,1793,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1867,309,2008,336"/>
</map>
</div>

</div>
</div>
<a id="a5e55835a8c7bac0db60b81df4d707d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e55835a8c7bac0db60b81df4d707d4e">&#9670;&nbsp;</a></span>nilfs_segctor_update_segusage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_update_segusage </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>sufile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_cgraph" id="nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_cgraph">
<area shape="rect" id="node2" href="sufile_8c.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="196,255,363,296"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1062,71,1158,98"/>
<area shape="rect" id="node4" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="411,313,577,355"/>
<area shape="rect" id="node24" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1272,274,1395,301"/>
<area shape="rect" id="node41" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1262,426,1405,453"/>
<area shape="rect" id="node49" href="sufile_8c.html#a22641f45cc119a770bda855c5e2e6fcb" title="nilfs_sufile_block\l_get_segment_usage" alt="" coords="421,65,567,107"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="631,321,769,347"/>
<area shape="rect" id="node47" href="sufile_8c.html#a10c3757a2afcb34eb7d66ee614608724" title="nilfs_sufile_get_blkoff" alt="" coords="626,211,774,238"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="828,527,973,554"/>
<area shape="rect" id="node18" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="823,317,979,343"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1031,578,1189,605"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1274,527,1393,554"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1283,578,1383,605"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1268,730,1399,757"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1517,426,1588,453"/>
<area shape="rect" id="node16" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1258,629,1409,655"/>
<area shape="rect" id="node17" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1292,679,1375,706"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1473,527,1632,554"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1483,603,1622,630"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1479,693,1627,735"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1485,759,1620,786"/>
<area shape="rect" id="node19" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1033,211,1187,238"/>
<area shape="rect" id="node22" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1037,364,1183,405"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1027,122,1193,149"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1033,313,1187,339"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1241,173,1425,199"/>
<area shape="rect" id="node21" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1267,223,1400,250"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1271,325,1395,351"/>
<area shape="rect" id="node25" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1492,237,1613,263"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1485,313,1620,339"/>
<area shape="rect" id="node26" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1684,203,1856,230"/>
<area shape="rect" id="node28" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1680,305,1860,347"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1700,371,1840,412"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1703,436,1837,477"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1701,254,1839,281"/>
<area shape="rect" id="node29" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1945,282,2035,309"/>
<area shape="rect" id="node32" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1967,333,2013,359"/>
<area shape="rect" id="node30" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="2137,231,2242,258"/>
<area shape="rect" id="node31" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="2120,282,2259,309"/>
<area shape="rect" id="node33" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="2151,383,2227,410"/>
<area shape="rect" id="node34" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="2307,383,2404,410"/>
<area shape="rect" id="node35" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="2149,333,2230,359"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1915,403,2065,430"/>
<area shape="rect" id="node39" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1908,454,2072,481"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1269,5,1398,47"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1257,71,1409,98"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1251,122,1415,149"/>
<area shape="rect" id="node48" href="sufile_8c.html#a048a58aad760411d79b7e01d28babbb5" title="nilfs_sufile_segment\l_usages_per_block" alt="" coords="830,95,971,136"/>
<area shape="rect" id="node50" href="sufile_8c.html#a618eb2bb692e0a971e9606f29e87261c" title="nilfs_sufile_get_offset" alt="" coords="625,73,775,99"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_icgraph" id="nilfs2_2segment_8c_a5e55835a8c7bac0db60b81df4d707d4e_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="196,352,375,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1050,286,1199,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="841,411,999,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="423,345,607,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1271,200,1377,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1266,301,1382,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1475,149,1595,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1691,107,1805,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1683,208,1813,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1915,157,2004,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1913,5,2005,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1910,56,2009,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1917,107,2002,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1921,232,1998,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1051,352,1199,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1055,403,1194,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1047,469,1203,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1445,352,1624,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1255,411,1393,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1470,403,1599,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1672,411,1824,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2226,436,2331,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1909,512,2009,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1872,461,2047,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2390,499,2479,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2095,461,2172,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2220,575,2337,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2385,575,2484,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1251,469,1397,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1457,469,1612,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1693,563,1803,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="655,185,793,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="846,352,994,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="851,149,989,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1075,99,1175,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1065,149,1184,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1265,251,1383,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1279,99,1369,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1475,235,1594,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1465,286,1604,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1677,309,1819,336"/>
</map>
</div>

</div>
</div>
<a id="a38f1609ad1b2d71d4f26fd1b650e9acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f1609ad1b2d71d4f26fd1b650e9acf">&#9670;&nbsp;</a></span>nilfs_segctor_wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_cgraph" id="nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="193,85,323,112"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="180,217,336,258"/>
<area shape="rect" id="node17" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="195,363,321,389"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="403,5,525,32"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4" title="nilfs_end_page_io" alt="" coords="401,56,527,83"/>
<area shape="rect" id="node8" href="segbuf_8h.html#a15cc542af844e0b57c1d5f20787d3446" title="nilfs_segbuf_simplex" alt="" coords="392,107,536,133"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a1070dc291425e83910d480f6c9bd518f" title="nilfs_drop_collected\l_inodes" alt="" coords="395,158,533,199"/>
<area shape="rect" id="node10" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="411,224,517,251"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a2c7861689dce5089c651962abd6bddb8" title="nilfs_set_next_segment" alt="" coords="384,275,544,301"/>
<area shape="rect" id="node13" href="the__nilfs_8c.html#a37c9de257ceab8b46cec8c42fb529506" title="nilfs_set_last_segment" alt="" coords="386,325,542,352"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a78c98686e38ca6a463b8121558402441" title="nilfs_segctor_clear\l_metadata_dirty" alt="" coords="399,377,529,418"/>
<area shape="rect" id="node6" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="615,17,743,58"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="614,82,745,123"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="592,224,767,251"/>
<area shape="rect" id="node15" href="mdt_8h.html#a421795f7ee0e2e591f2d185ac9cdc3a5" title="nilfs_mdt_clear_dirty" alt="" coords="608,384,751,411"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="851,384,921,411"/>
<area shape="rect" id="node18" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="399,443,529,469"/>
<area shape="rect" id="node19" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="616,439,743,465"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="619,489,740,516"/>
<area shape="rect" id="node20" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="815,439,957,465"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_icgraph" id="nilfs2_2segment_8c_a38f1609ad1b2d71d4f26fd1b650e9acf_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="180,352,359,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1034,286,1183,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="825,411,983,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="407,345,591,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1255,200,1361,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1250,301,1366,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1459,149,1579,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1675,107,1789,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1667,208,1797,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1899,157,1988,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1897,5,1989,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1894,56,1993,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1901,107,1986,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1905,232,1982,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1035,352,1183,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1039,403,1178,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1031,469,1187,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1429,352,1608,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1239,411,1377,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1454,403,1583,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1656,411,1808,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2210,436,2315,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1893,512,1993,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1856,461,2031,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2374,499,2463,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2079,461,2156,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2204,575,2321,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2369,575,2468,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1235,469,1381,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1441,469,1596,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1677,563,1787,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="639,185,777,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="830,352,978,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="835,149,973,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1059,99,1159,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1049,149,1168,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1249,251,1367,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1263,99,1353,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1459,235,1578,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1449,286,1588,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1661,309,1803,336"/>
</map>
</div>

</div>
</div>
<a id="aef3e55d324de166f073db74a7eb57fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3e55d324de166f073db74a7eb57fde">&#9670;&nbsp;</a></span>nilfs_segctor_wakeup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_aef3e55d324de166f073db74a7eb57fde_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_aef3e55d324de166f073db74a7eb57fde_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_aef3e55d324de166f073db74a7eb57fde_icgraph" id="nilfs2_2segment_8c_aef3e55d324de166f073db74a7eb57fde_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="201,259,336,285"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="384,259,541,285"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="593,149,741,176"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="598,222,737,263"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="589,288,745,315"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="793,139,972,165"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1059,132,1136,159"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1239,81,1359,108"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1453,81,1567,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1445,132,1575,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1650,157,1739,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1649,5,1741,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1645,56,1744,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1652,107,1737,133"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="813,229,952,256"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1033,222,1162,263"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1223,233,1375,260"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1798,323,1903,349"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1460,233,1560,260"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1423,385,1597,412"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1962,297,2051,324"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1656,385,1733,412"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1792,399,1909,425"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1957,399,2056,425"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="809,288,956,315"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1020,288,1175,315"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1243,284,1354,311"/>
</map>
</div>

</div>
</div>
<a id="a30f292d5fafad3776cf07573c3c7b46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30f292d5fafad3776cf07573c3c7b46a">&#9670;&nbsp;</a></span>nilfs_segctor_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segctor_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_cgraph" id="nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="184,71,296,98"/>
<area shape="rect" id="node3" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="344,71,471,98"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="527,5,669,47"/>
<area shape="rect" id="node5" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="519,71,677,98"/>
<area shape="rect" id="node7" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="725,122,888,149"/>
<area shape="rect" id="node6" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="741,71,873,98"/>
<area shape="rect" id="node8" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="936,122,1069,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_icgraph" id="nilfs2_2segment_8c_a30f292d5fafad3776cf07573c3c7b46a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="184,352,363,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1038,286,1187,327"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="829,411,987,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="411,345,595,386"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1259,200,1365,227"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1254,301,1370,328"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1463,149,1583,176"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1679,107,1793,133"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1671,208,1801,235"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1903,157,1992,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1901,5,1993,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1898,56,1997,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1905,107,1990,133"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1909,232,1986,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1039,352,1187,379"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1043,403,1182,445"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1035,469,1191,496"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1433,352,1612,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1243,411,1381,437"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1458,403,1587,445"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1660,411,1812,437"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2214,436,2319,463"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1897,512,1997,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1860,461,2035,488"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2378,499,2467,525"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2083,461,2160,488"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2208,575,2325,601"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2373,575,2472,601"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1239,469,1385,496"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1445,469,1600,496"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1681,563,1791,589"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="643,185,781,226"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="834,352,982,379"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="839,149,977,176"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1063,99,1163,125"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1053,149,1172,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1253,251,1371,277"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1267,99,1357,125"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1463,235,1582,261"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1453,286,1592,327"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1665,309,1807,336"/>
</map>
</div>

</div>
</div>
<a id="a2eda3501e8ed1cdd3323a4a77257416f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eda3501e8ed1cdd3323a4a77257416f">&#9670;&nbsp;</a></span>nilfs_segctor_write_out()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segctor_write_out </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_cgraph" id="nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="217,907,365,934"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="433,1114,591,1140"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="209,1112,372,1139"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="420,848,604,889"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="652,664,831,691"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="891,832,1030,859"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="890,934,1031,976"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="893,1117,1029,1158"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1107,1095,1213,1122"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="893,1183,1028,1210"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="893,52,1028,93"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="890,883,1031,910"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1091,442,1229,468"/>
<area shape="rect" id="node13" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="893,118,1028,144"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="895,169,1027,210"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="890,235,1031,262"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="903,286,1019,328"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="903,352,1019,393"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="903,1000,1019,1041"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="889,417,1032,458"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="887,482,1034,524"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="887,548,1035,589"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="895,614,1026,640"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="897,664,1024,691"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="897,716,1025,757"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="893,782,1028,808"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="670,1215,813,1242"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="668,1114,815,1140"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="674,1266,809,1292"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="683,1651,800,1678"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="672,1012,811,1039"/>
<area shape="rect" id="node48" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="674,1063,809,1090"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="674,1164,809,1191"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="880,1255,1041,1282"/>
<area shape="rect" id="node32" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="883,1626,1039,1652"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="921,1676,1001,1703"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="913,1727,1009,1754"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="925,1778,996,1804"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="922,1828,999,1855"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="907,1879,1014,1906"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="889,1930,1032,1956"/>
<area shape="rect" id="node39" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="881,1980,1040,2007"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b" title="nilfs_count_free_blocks" alt="" coords="881,2031,1040,2058"/>
<area shape="rect" id="node41" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="901,1306,1021,1332"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="879,1356,1043,1383"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="911,1407,1011,1434"/>
<area shape="rect" id="node44" href="the__nilfs_8h.html#a90dd6a38fbbe4af1b07031036a6ee500" title="nilfs_near_disk_full" alt="" coords="894,1458,1027,1484"/>
<area shape="rect" id="node45" href="the__nilfs_8h.html#aa7659acbf3f2fe3722694bfa4633fb75" title="nilfs_fall_back_super\l_block" alt="" coords="889,1509,1033,1550"/>
<area shape="rect" id="node46" href="the__nilfs_8h.html#adc41b5847eb3eeacab43d47c8aa744fa" title="nilfs_swap_super_block" alt="" coords="880,1575,1041,1602"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_icgraph" id="nilfs2_2segment_8c_a2eda3501e8ed1cdd3323a4a77257416f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="209,228,356,255"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="404,144,559,171"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="639,169,749,196"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2138,144,2243,171"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2141,93,2241,120"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="607,119,781,145"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1925,93,2077,120"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2309,119,2398,145"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="829,144,907,171"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="955,203,1072,229"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1149,203,1248,229"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1120,312,1277,339"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1325,317,1473,344"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1330,195,1469,237"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1521,324,1700,351"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1774,336,1851,363"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1941,324,2061,351"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2133,324,2248,351"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2125,375,2256,401"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2309,400,2398,427"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2307,248,2399,275"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2304,299,2403,325"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2311,349,2396,376"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1541,203,1680,229"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1748,195,1877,237"/>
</map>
</div>

</div>
</div>
<a id="a2c7861689dce5089c651962abd6bddb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c7861689dce5089c651962abd6bddb8">&#9670;&nbsp;</a></span>nilfs_set_next_segment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_set_next_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a2c7861689dce5089c651962abd6bddb8_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a2c7861689dce5089c651962abd6bddb8_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a2c7861689dce5089c651962abd6bddb8_icgraph" id="nilfs2_2segment_8c_a2c7861689dce5089c651962abd6bddb8_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="213,345,369,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="417,352,544,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="592,352,771,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1446,286,1595,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1237,411,1395,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="819,345,1003,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1667,200,1773,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1662,301,1778,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1871,149,1991,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2087,107,2201,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2079,208,2209,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2311,157,2400,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2309,5,2401,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2306,56,2405,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2313,107,2398,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2317,232,2394,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1447,352,1595,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1451,403,1590,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1443,469,1599,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1841,352,2020,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1651,411,1789,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1866,403,1995,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2068,411,2220,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2622,436,2727,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2305,512,2405,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2268,461,2443,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2786,499,2875,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2491,461,2568,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2616,575,2733,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2781,575,2880,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1647,469,1793,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1853,469,2008,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2089,563,2199,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1051,185,1189,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1242,352,1390,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1247,149,1385,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1471,99,1571,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1461,149,1580,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1661,251,1779,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1675,99,1765,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1871,235,1990,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1861,286,2000,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2073,309,2215,336"/>
</map>
</div>

</div>
</div>
<a id="a3942085ca8ef837029410515b850bab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3942085ca8ef837029410515b850bab2">&#9670;&nbsp;</a></span>nilfs_test_metadata_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_test_metadata_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_cgraph" id="nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="189,64,332,91"/>
<area shape="rect" id="node7" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="208,119,313,145"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="432,5,503,32"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="396,57,539,98"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a5399d2acb05251b7a62d8895ba4d4027" title="nilfs_bmap_dirty" alt="" coords="620,39,737,65"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#acdd57fe8b71bb70aaf1a0cb3c0ad79d6" title="nilfs_bmap_clear_dirty" alt="" coords="603,89,755,116"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="380,123,555,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_icgraph" id="nilfs2_2segment_8c_a3942085ca8ef837029410515b850bab2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="435,220,581,247"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="189,301,368,328"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="648,220,805,247"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1073,157,1220,184"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="857,279,1005,305"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="862,213,1001,254"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="853,161,1009,188"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1057,275,1236,301"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1305,299,1382,325"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1468,411,1588,437"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1672,411,1787,437"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1664,309,1795,336"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1896,436,1985,463"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1895,487,1987,513"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1891,335,1990,361"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1898,385,1983,412"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1077,220,1216,247"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1463,227,1593,269"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1653,259,1805,285"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2207,132,2313,159"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1891,56,1991,83"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1853,208,2028,235"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2371,81,2461,108"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2076,107,2153,133"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2201,5,2319,32"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2367,5,2465,32"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1451,157,1605,184"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1674,107,1785,133"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="857,330,1006,371"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="416,378,600,419"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1291,349,1396,376"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1089,325,1205,352"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="657,401,796,442"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="653,276,801,303"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="862,427,1001,453"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1097,485,1197,512"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1284,400,1403,427"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1284,552,1403,579"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1298,451,1389,477"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1469,552,1587,579"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1459,471,1597,513"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1659,360,1800,387"/>
</map>
</div>

</div>
</div>
<a id="ab7aca46b9402488a8be66db96c8091e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7aca46b9402488a8be66db96c8091e6">&#9670;&nbsp;</a></span>nilfs_transaction_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_transaction_abort </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ab7aca46b9402488a8be66db96c8091e6_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ab7aca46b9402488a8be66db96c8091e6_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ab7aca46b9402488a8be66db96c8091e6_icgraph" id="nilfs2_2segment_8c_ab7aca46b9402488a8be66db96c8091e6_icgraph">
<area shape="rect" id="node2" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="619,43,754,69"/>
<area shape="rect" id="node3" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="425,257,535,284"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1075,651,1171,677"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1475,752,1564,779"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1473,803,1565,829"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1470,853,1569,880"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1477,625,1562,652"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1086,499,1159,525"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1270,1019,1357,1045"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1272,1095,1355,1121"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1063,233,1182,260"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="868,904,959,931"/>
<area shape="rect" id="node33" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="417,1571,543,1613"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="225,1565,344,1606"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1051,1312,1195,1339"/>
<area shape="rect" id="node36" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="207,1341,363,1368"/>
<area shape="rect" id="node4" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="617,651,756,677"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1063,752,1183,779"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="633,93,740,120"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="630,144,743,171"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="633,195,740,221"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="637,853,737,880"/>
<area shape="rect" id="node29" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1053,285,1192,326"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="864,651,963,677"/>
<area shape="rect" id="node15" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="863,549,964,576"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="851,752,975,779"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="849,701,977,728"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1256,752,1371,779"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1248,904,1379,931"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1481,1312,1558,1339"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1255,803,1371,829"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1069,1056,1177,1083"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="854,397,973,424"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1243,292,1384,319"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1432,292,1607,319"/>
<area shape="rect" id="node37" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="411,1407,549,1433"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="607,1158,766,1199"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="611,1641,762,1668"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="609,1275,764,1317"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="597,1341,776,1382"/>
<area shape="rect" id="node47" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="609,1458,764,1499"/>
<area shape="rect" id="node48" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="845,1455,982,1481"/>
<area shape="rect" id="node49" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="838,1404,989,1431"/>
<area shape="rect" id="node50" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="603,1575,770,1617"/>
<area shape="rect" id="node39" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="850,1107,977,1149"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="840,1637,987,1678"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="834,1506,993,1547"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="839,1571,987,1613"/>
<area shape="rect" id="node45" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="824,1315,1003,1341"/>
</map>
</div>

</div>
</div>
<a id="ae4a012a0fc0026d060aa426f15cfb8a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4a012a0fc0026d060aa426f15cfb8a7">&#9670;&nbsp;</a></span>nilfs_transaction_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_transaction_begin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> *&#160;</td>
          <td class="paramname"><em>ti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vacancy_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_transaction_begin - start indivisible file operations. : super block : <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> : flags for vacancy rate checks</p>
<p><a class="el" href="nilfs2_2segment_8c.html#ae4a012a0fc0026d060aa426f15cfb8a7">nilfs_transaction_begin()</a> acquires a reader/writer semaphore, called the segment semaphore, to make a segment construction and write tasks exclusive. The function is used with <a class="el" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749">nilfs_transaction_commit()</a> in pairs. The region enclosed by these two functions can be nested. To avoid a deadlock, the semaphore is only acquired or released in the outermost call.</p>
<p>This function allocates a <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> struct to keep context information on it. It is initialized and hooked onto the current task in the outermost call. If a pre-allocated struct is given to , it is used instead; otherwise a new struct is assigned from a slab.</p>
<p>When  flag is set, this function will check the amount of free space, and will wait for the GC to reclaim disk space if low capacity.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available.</p>
<p>%-ENOSPC - No space left on device </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_cgraph" id="nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="208,5,392,32"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="233,56,367,83"/>
<area shape="rect" id="node4" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="440,56,623,83"/>
<area shape="rect" id="node5" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="671,56,761,83"/>
<area shape="rect" id="node6" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="809,56,905,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_icgraph" id="nilfs2_2segment_8c_ae4a012a0fc0026d060aa426f15cfb8a7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="621,144,755,171"/>
<area shape="rect" id="node3" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="427,372,536,399"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1056,448,1152,475"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1456,499,1545,525"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1455,549,1547,576"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1451,600,1550,627"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1458,372,1543,399"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1229,1021,1360,1048"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1067,296,1141,323"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1251,1084,1338,1111"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1253,1160,1336,1187"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1045,179,1163,205"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="638,752,738,779"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="859,803,950,829"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="227,904,345,931"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="228,853,344,880"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="418,1807,545,1849"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="422,1174,541,1215"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1032,1523,1176,1549"/>
<area shape="rect" id="node38" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="208,1321,364,1348"/>
<area shape="rect" id="node4" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="619,549,757,576"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1044,701,1164,728"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="635,296,741,323"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="631,347,745,373"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="635,397,741,424"/>
<area shape="rect" id="node29" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1035,230,1173,271"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="855,499,954,525"/>
<area shape="rect" id="node15" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="854,397,955,424"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="843,651,967,677"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="841,549,969,576"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1237,499,1352,525"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1462,1224,1539,1251"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1237,549,1353,576"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1050,1123,1158,1149"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="845,347,964,373"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1224,237,1365,264"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1413,237,1588,264"/>
<area shape="rect" id="node39" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="412,1415,551,1441"/>
<area shape="rect" id="node40" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="609,1225,767,1266"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="613,1655,763,1681"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="611,1342,765,1383"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="599,1407,777,1449"/>
<area shape="rect" id="node47" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="611,1538,765,1579"/>
<area shape="rect" id="node48" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="836,1381,973,1408"/>
<area shape="rect" id="node49" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="829,1523,980,1549"/>
<area shape="rect" id="node50" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="605,1473,771,1514"/>
<area shape="rect" id="node41" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="841,955,968,997"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="831,1574,978,1615"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="825,1639,984,1681"/>
</map>
</div>

</div>
</div>
<a id="ad2205a18ad59765e0f2bcf33b0830749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2205a18ad59765e0f2bcf33b0830749">&#9670;&nbsp;</a></span>nilfs_transaction_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_transaction_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_transaction_commit - commit indivisible file operations. : super block</p>
<p><a class="el" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749">nilfs_transaction_commit()</a> releases the read semaphore which is acquired by <a class="el" href="nilfs2_2segment_8c.html#ae4a012a0fc0026d060aa426f15cfb8a7">nilfs_transaction_begin()</a>. This is only performed in outermost call of this function. If a commit flag is set, <a class="el" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749">nilfs_transaction_commit()</a> sets a timer to start the segment constructor. If a sync flag is set, it starts construction directly. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_cgraph" id="nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="237,5,367,47"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="226,71,378,98"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="220,122,384,149"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="432,122,563,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_icgraph" id="nilfs2_2segment_8c_ad2205a18ad59765e0f2bcf33b0830749_icgraph">
<area shape="rect" id="node2" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="633,298,767,325"/>
<area shape="rect" id="node3" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="439,526,548,553"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1060,298,1156,325"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1460,678,1549,705"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1459,729,1551,755"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1455,779,1554,806"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1462,337,1547,363"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1233,1125,1364,1151"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1071,197,1145,223"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1255,323,1342,350"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1257,374,1340,401"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="650,703,750,730"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="867,754,958,781"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="243,1679,353,1706"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="239,805,357,831"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="240,855,356,882"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="430,1579,557,1620"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="434,1644,553,1685"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1036,1481,1180,1507"/>
<area shape="rect" id="node39" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="220,1187,376,1214"/>
<area shape="rect" id="node4" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="631,399,769,426"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1048,678,1168,705"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="647,501,753,527"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="643,551,757,578"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1049,594,1167,621"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="647,349,753,375"/>
<area shape="rect" id="node29" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1039,519,1177,560"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="863,349,962,375"/>
<area shape="rect" id="node15" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="862,298,963,325"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="851,399,975,426"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="849,450,977,477"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1241,678,1356,705"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1466,1481,1543,1507"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1241,729,1357,755"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1054,349,1162,375"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="853,602,972,629"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1228,526,1369,553"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1417,526,1592,553"/>
<area shape="rect" id="node40" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="424,1249,563,1275"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="621,957,779,999"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="625,1489,775,1515"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="623,1176,777,1217"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="611,1241,789,1283"/>
<area shape="rect" id="node47" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="623,1372,777,1413"/>
<area shape="rect" id="node48" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="844,1247,981,1274"/>
<area shape="rect" id="node49" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="837,1422,988,1449"/>
<area shape="rect" id="node50" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="617,1307,783,1348"/>
<area shape="rect" id="node42" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="849,957,976,999"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="839,1473,986,1515"/>
</map>
</div>

</div>
</div>
<a id="a8b69f4181745f44662620421e0f88ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b69f4181745f44662620421e0f88ab0">&#9670;&nbsp;</a></span>nilfs_transaction_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_transaction_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__transaction__info.html">nilfs_transaction_info</a> *&#160;</td>
          <td class="paramname"><em>ti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gcflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_cgraph" id="nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="201,815,385,857"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="433,823,612,849"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1073,260,1212,287"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1072,194,1213,235"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="666,135,802,177"/>
<area shape="rect" id="node11" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1090,311,1195,337"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="864,252,999,279"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="864,770,999,811"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="663,588,805,615"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1073,492,1212,519"/>
<area shape="rect" id="node32" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="667,721,801,748"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="865,1115,997,1157"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="663,823,805,849"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="676,874,792,915"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="676,939,792,981"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="873,303,989,345"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="663,1057,805,1098"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="661,1122,807,1163"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="660,1187,808,1229"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="669,1253,799,1280"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="868,1300,995,1327"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="670,1355,798,1397"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="667,1421,801,1448"/>
<area shape="rect" id="node6" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="1282,194,1418,235"/>
<area shape="rect" id="node7" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1289,853,1411,880"/>
<area shape="rect" id="node8" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1279,803,1421,829"/>
<area shape="rect" id="node10" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="860,100,1003,127"/>
<area shape="rect" id="node14" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="1081,727,1204,753"/>
<area shape="rect" id="node15" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="1081,777,1205,804"/>
<area shape="rect" id="node16" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="1079,661,1207,702"/>
<area shape="rect" id="node17" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="1065,609,1221,636"/>
<area shape="rect" id="node18" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1067,879,1219,905"/>
<area shape="rect" id="node19" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="1083,828,1202,855"/>
<area shape="rect" id="node20" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="1068,981,1217,1022"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="1082,929,1203,956"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="865,369,997,410"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="861,551,1002,593"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1078,543,1207,585"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="875,435,987,461"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="860,835,1003,877"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="856,486,1007,527"/>
<area shape="rect" id="node29" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1095,1047,1190,1073"/>
<area shape="rect" id="node30" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="1079,1148,1206,1175"/>
<area shape="rect" id="node34" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="1078,1300,1207,1327"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="1086,1199,1199,1225"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="1065,1249,1220,1276"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1055,1097,1231,1124"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="860,901,1003,942"/>
<area shape="rect" id="node40" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84" title="nilfs_segbuf_fill_in\l_segsum" alt="" coords="867,966,996,1007"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_icgraph" id="nilfs2_2segment_8c_a8b69f4181745f44662620421e0f88ab0_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1300,162,1449,203"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1707,259,1855,285"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="201,353,340,394"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1703,563,1859,589"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1523,169,1629,196"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1518,119,1634,145"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1721,157,1841,184"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1939,107,2053,133"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1931,208,2061,235"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2166,157,2255,184"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2165,5,2257,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2161,56,2260,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2168,107,2253,133"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2172,232,2249,259"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1907,259,2085,285"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="388,437,527,464"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="575,458,704,499"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="752,489,904,516"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2339,475,2444,501"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2341,576,2441,603"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="952,489,1127,516"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2495,525,2584,552"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1175,461,1252,488"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1316,411,1433,437"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1527,411,1625,437"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1497,360,1655,387"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1923,563,2069,589"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2133,551,2288,577"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2336,525,2447,552"/>
</map>
</div>

</div>
</div>
<a id="a183704facbe2e823d313437cf1ef2672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183704facbe2e823d313437cf1ef2672">&#9670;&nbsp;</a></span>nilfs_transaction_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_transaction_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a183704facbe2e823d313437cf1ef2672_icgraph.png" border="0" usemap="#nilfs2_2segment_8c_a183704facbe2e823d313437cf1ef2672_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a183704facbe2e823d313437cf1ef2672_icgraph" id="nilfs2_2segment_8c_a183704facbe2e823d313437cf1ef2672_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1315,162,1464,203"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1721,259,1869,285"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="216,353,355,394"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1717,563,1873,589"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1538,169,1643,196"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1533,119,1649,145"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1735,157,1855,184"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1953,107,2068,133"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1945,208,2076,235"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2181,157,2270,184"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2179,5,2271,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2176,56,2275,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2183,107,2268,133"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2187,232,2264,259"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1921,259,2100,285"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="403,437,541,464"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="589,458,719,499"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="767,489,919,516"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2353,475,2459,501"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2356,576,2456,603"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="967,489,1141,516"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2509,525,2599,552"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1189,461,1267,488"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1331,411,1448,437"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1541,411,1640,437"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1512,360,1669,387"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1937,563,2084,589"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2148,551,2303,577"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2351,525,2461,552"/>
</map>
</div>

</div>
</div>
<a id="af347d69ebb791bdaef97d139a54dfc86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af347d69ebb791bdaef97d139a54dfc86">&#9670;&nbsp;</a></span>nilfs_write_dat_data_binfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_write_dat_data_binfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *&#160;</td>
          <td class="paramname"><em>ssp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union nilfs_binfo *&#160;</td>
          <td class="paramname"><em>binfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_af347d69ebb791bdaef97d139a54dfc86_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_af347d69ebb791bdaef97d139a54dfc86_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_af347d69ebb791bdaef97d139a54dfc86_cgraph" id="nilfs2_2segment_8c_af347d69ebb791bdaef97d139a54dfc86_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="192,5,373,47"/>
</map>
</div>

</div>
</div>
<a id="a2a4c93a4c34064d14016839fbfcf2ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4c93a4c34064d14016839fbfcf2ea0">&#9670;&nbsp;</a></span>nilfs_write_dat_node_binfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_write_dat_node_binfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *&#160;</td>
          <td class="paramname"><em>ssp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union nilfs_binfo *&#160;</td>
          <td class="paramname"><em>binfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_a2a4c93a4c34064d14016839fbfcf2ea0_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_a2a4c93a4c34064d14016839fbfcf2ea0_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_a2a4c93a4c34064d14016839fbfcf2ea0_cgraph" id="nilfs2_2segment_8c_a2a4c93a4c34064d14016839fbfcf2ea0_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="195,5,376,47"/>
</map>
</div>

</div>
</div>
<a id="ab7118b301c296cb91ec186d8ec67a6e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7118b301c296cb91ec186d8ec67a6e7">&#9670;&nbsp;</a></span>nilfs_write_file_data_binfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_write_file_data_binfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *&#160;</td>
          <td class="paramname"><em>ssp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union nilfs_binfo *&#160;</td>
          <td class="paramname"><em>binfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_ab7118b301c296cb91ec186d8ec67a6e7_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_ab7118b301c296cb91ec186d8ec67a6e7_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_ab7118b301c296cb91ec186d8ec67a6e7_cgraph" id="nilfs2_2segment_8c_ab7118b301c296cb91ec186d8ec67a6e7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="191,5,372,47"/>
</map>
</div>

</div>
</div>
<a id="afed1f765e8fe080fdc9c552eba815d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed1f765e8fe080fdc9c552eba815d89">&#9670;&nbsp;</a></span>nilfs_write_file_node_binfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_write_file_node_binfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a> *&#160;</td>
          <td class="paramname"><em>sci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a> *&#160;</td>
          <td class="paramname"><em>ssp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union nilfs_binfo *&#160;</td>
          <td class="paramname"><em>binfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8c_afed1f765e8fe080fdc9c552eba815d89_cgraph.png" border="0" usemap="#nilfs2_2segment_8c_afed1f765e8fe080fdc9c552eba815d89_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8c_afed1f765e8fe080fdc9c552eba815d89_cgraph" id="nilfs2_2segment_8c_afed1f765e8fe080fdc9c552eba815d89_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a5958f1d95c64f327b6e6fd733d722aad" title="nilfs_segctor_map_segsum\l_entry" alt="" coords="193,5,375,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3ba7dbbb1be9bef8a129b0af6e85eb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba7dbbb1be9bef8a129b0af6e85eb3a">&#9670;&nbsp;</a></span>nilfs_sc_dat_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a> nilfs_sc_dat_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .collect_data = <a class="code" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3">nilfs_collect_dat_data</a>,</div><div class="line">    .collect_node = <a class="code" href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2">nilfs_collect_file_node</a>,</div><div class="line">    .collect_bmap = <a class="code" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b">nilfs_collect_dat_bmap</a>,</div><div class="line">    .write_data_binfo = <a class="code" href="nilfs2_2segment_8c.html#af347d69ebb791bdaef97d139a54dfc86">nilfs_write_dat_data_binfo</a>,</div><div class="line">    .write_node_binfo = <a class="code" href="nilfs2_2segment_8c.html#a2a4c93a4c34064d14016839fbfcf2ea0">nilfs_write_dat_node_binfo</a>,</div><div class="line">}</div><div class="ttc" id="nilfs2_2segment_8c_html_a2a4c93a4c34064d14016839fbfcf2ea0"><div class="ttname"><a href="nilfs2_2segment_8c.html#a2a4c93a4c34064d14016839fbfcf2ea0">nilfs_write_dat_node_binfo</a></div><div class="ttdeci">static void nilfs_write_dat_node_binfo(struct nilfs_sc_info *sci, struct nilfs_segsum_pointer *ssp, union nilfs_binfo *binfo)</div><div class="ttdef"><b>Definition:</b> segment.c:666</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_af347d69ebb791bdaef97d139a54dfc86"><div class="ttname"><a href="nilfs2_2segment_8c.html#af347d69ebb791bdaef97d139a54dfc86">nilfs_write_dat_data_binfo</a></div><div class="ttdeci">static void nilfs_write_dat_data_binfo(struct nilfs_sc_info *sci, struct nilfs_segsum_pointer *ssp, union nilfs_binfo *binfo)</div><div class="ttdef"><b>Definition:</b> segment.c:657</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_aa2d45a6aa306f69789c3a4b76db4bef3"><div class="ttname"><a href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3">nilfs_collect_dat_data</a></div><div class="ttdeci">static int nilfs_collect_dat_data(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:634</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_a5b6d7fa2a9578d73a4f90db3fdd787a2"><div class="ttname"><a href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2">nilfs_collect_file_node</a></div><div class="ttdeci">static int nilfs_collect_file_node(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:593</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_ab95ed2c78d0657806e26b064925bac9b"><div class="ttname"><a href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b">nilfs_collect_dat_bmap</a></div><div class="ttdeci">static int nilfs_collect_dat_bmap(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:649</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa96f28dc8615e5c1355d0a84ec2d670e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa96f28dc8615e5c1355d0a84ec2d670e">&#9670;&nbsp;</a></span>nilfs_sc_dsync_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a> nilfs_sc_dsync_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .collect_data = <a class="code" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312">nilfs_collect_file_data</a>,</div><div class="line">    .collect_node = NULL,</div><div class="line">    .collect_bmap = NULL,</div><div class="line">    .write_data_binfo = <a class="code" href="nilfs2_2segment_8c.html#ab7118b301c296cb91ec186d8ec67a6e7">nilfs_write_file_data_binfo</a>,</div><div class="line">    .write_node_binfo = NULL,</div><div class="line">}</div><div class="ttc" id="nilfs2_2segment_8c_html_a44e21b984b71a487ba13e57a7d590312"><div class="ttname"><a href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312">nilfs_collect_file_data</a></div><div class="ttdeci">static int nilfs_collect_file_data(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:577</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_ab7118b301c296cb91ec186d8ec67a6e7"><div class="ttname"><a href="nilfs2_2segment_8c.html#ab7118b301c296cb91ec186d8ec67a6e7">nilfs_write_file_data_binfo</a></div><div class="ttdeci">static void nilfs_write_file_data_binfo(struct nilfs_sc_info *sci, struct nilfs_segsum_pointer *ssp, union nilfs_binfo *binfo)</div><div class="ttdef"><b>Definition:</b> segment.c:608</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa90805f64de26b6a6ce61e85b3d8caba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90805f64de26b6a6ce61e85b3d8caba">&#9670;&nbsp;</a></span>nilfs_sc_file_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structnilfs__sc__operations.html">nilfs_sc_operations</a> nilfs_sc_file_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .collect_data = <a class="code" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312">nilfs_collect_file_data</a>,</div><div class="line">    .collect_node = <a class="code" href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2">nilfs_collect_file_node</a>,</div><div class="line">    .collect_bmap = <a class="code" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3">nilfs_collect_file_bmap</a>,</div><div class="line">    .write_data_binfo = <a class="code" href="nilfs2_2segment_8c.html#ab7118b301c296cb91ec186d8ec67a6e7">nilfs_write_file_data_binfo</a>,</div><div class="line">    .write_node_binfo = <a class="code" href="nilfs2_2segment_8c.html#afed1f765e8fe080fdc9c552eba815d89">nilfs_write_file_node_binfo</a>,</div><div class="line">}</div><div class="ttc" id="nilfs2_2segment_8c_html_a260078ed7922483f1ce0b0a341f3e2c3"><div class="ttname"><a href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3">nilfs_collect_file_bmap</a></div><div class="ttdeci">static int nilfs_collect_file_bmap(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:600</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_a44e21b984b71a487ba13e57a7d590312"><div class="ttname"><a href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312">nilfs_collect_file_data</a></div><div class="ttdeci">static int nilfs_collect_file_data(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:577</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_afed1f765e8fe080fdc9c552eba815d89"><div class="ttname"><a href="nilfs2_2segment_8c.html#afed1f765e8fe080fdc9c552eba815d89">nilfs_write_file_node_binfo</a></div><div class="ttdeci">static void nilfs_write_file_node_binfo(struct nilfs_sc_info *sci, struct nilfs_segsum_pointer *ssp, union nilfs_binfo *binfo)</div><div class="ttdef"><b>Definition:</b> segment.c:617</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_ab7118b301c296cb91ec186d8ec67a6e7"><div class="ttname"><a href="nilfs2_2segment_8c.html#ab7118b301c296cb91ec186d8ec67a6e7">nilfs_write_file_data_binfo</a></div><div class="ttdeci">static void nilfs_write_file_data_binfo(struct nilfs_sc_info *sci, struct nilfs_segsum_pointer *ssp, union nilfs_binfo *binfo)</div><div class="ttdef"><b>Definition:</b> segment.c:608</div></div>
<div class="ttc" id="nilfs2_2segment_8c_html_a5b6d7fa2a9578d73a4f90db3fdd787a2"><div class="ttname"><a href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2">nilfs_collect_file_node</a></div><div class="ttdeci">static int nilfs_collect_file_node(struct nilfs_sc_info *sci, struct buffer_head *bh, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:593</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="nilfs2_2segment_8c.html">segment.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
