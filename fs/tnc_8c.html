<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/tnc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tnc_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tnc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tnc.c:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c__incl.png" border="0" usemap="#ubifs_2tnc_8c" alt=""/></div>
<map name="ubifs_2tnc_8c" id="ubifs_2tnc_8c">
<area shape="rect" id="node4" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1160,80,1221,107"/>
<area shape="rect" id="node21" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node23" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node24" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6fb6103aaef759b86ee5299bdcac9ae7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="tnc_8c.html#a6fb6103aaef759b86ee5299bdcac9ae7a0aa6d717fda25d394cbb4da0e928ac47">NAME_LESS</a> = 0, 
<a class="el" href="tnc_8c.html#a6fb6103aaef759b86ee5299bdcac9ae7a7a449b8447e0d0150f8a8c4044f085ba">NAME_MATCHES</a> = 1, 
<a class="el" href="tnc_8c.html#a6fb6103aaef759b86ee5299bdcac9ae7abd5ef77fdadfb35a4a852348dc7207d1">NAME_GREATER</a> = 2, 
<a class="el" href="tnc_8c.html#a6fb6103aaef759b86ee5299bdcac9ae7a67de9d2494b5b8c202f545e2b3f4979f">NOT_ON_MEDIA</a> = 3
 }</td></tr>
<tr class="separator:a6fb6103aaef759b86ee5299bdcac9ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4a07029bc1a7b847675eec1555f0b9e8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8">try_read_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:a4a07029bc1a7b847675eec1555f0b9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74144891470c972de07b035100bdba69"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a74144891470c972de07b035100bdba69">fallible_read_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, void *node)</td></tr>
<tr class="separator:a74144891470c972de07b035100bdba69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f5f773a93872a89b7bab3ff0d096d8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8">insert_old_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs)</td></tr>
<tr class="separator:a86f5f773a93872a89b7bab3ff0d096d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb06b4070b4a33080b62c3882163a274"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274">insert_old_idx_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:adb06b4070b4a33080b62c3882163a274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1088246a07a8a02137dd74aeb7e307"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307">ins_clr_old_idx_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:a1f1088246a07a8a02137dd74aeb7e307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e38c99f12ee3c060c9214d14ec62f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a01e38c99f12ee3c060c9214d14ec62f3">destroy_old_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a01e38c99f12ee3c060c9214d14ec62f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af101265220290f9d46f256f608211450"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#af101265220290f9d46f256f608211450">copy_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:af101265220290f9d46f256f608211450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749c75be0b18685c751d2489acc6c6ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae">add_idx_dirt</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int dirt)</td></tr>
<tr class="separator:a749c75be0b18685c751d2489acc6c6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b2ffc67c87b26f8e48221449e1a2ec"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec">dirty_cow_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr)</td></tr>
<tr class="separator:af6b2ffc67c87b26f8e48221449e1a2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54dade5f765b017d5533820732fb00b5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5">lnc_add</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, const void *node)</td></tr>
<tr class="separator:a54dade5f765b017d5533820732fb00b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab826cda3ab0724fd2a2d83039137ba7f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f">lnc_add_directly</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, void *node)</td></tr>
<tr class="separator:ab826cda3ab0724fd2a2d83039137ba7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48dcf7fc1db2312050ac0378020c802b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b">lnc_free</a> (struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr)</td></tr>
<tr class="separator:a48dcf7fc1db2312050ac0378020c802b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8ba6d4ce8281dbb79e417150da8e4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e">tnc_read_hashed_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, void *node)</td></tr>
<tr class="separator:add8ba6d4ce8281dbb79e417150da8e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbea7c5c3f1fb57489e50389104f26d8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8">matches_name</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:afbea7c5c3f1fb57489e50389104f26d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6989d53af75d6eb9a7b78f6335d3437"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437">get_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode, int n)</td></tr>
<tr class="separator:ad6989d53af75d6eb9a7b78f6335d3437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a0a93befc7348c0e11ee3a038d8d81"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81">tnc_next</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n)</td></tr>
<tr class="separator:aa6a0a93befc7348c0e11ee3a038d8d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad078bd3a3bb09883e602d4c2add8267e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e">tnc_prev</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n)</td></tr>
<tr class="separator:ad078bd3a3bb09883e602d4c2add8267e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacbd9954b161bf32cc3317abd3080f83"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83">resolve_collision</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:aacbd9954b161bf32cc3317abd3080f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989752a25da4eb8e16a26d9c4beea922"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922">fallible_matches_name</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a989752a25da4eb8e16a26d9c4beea922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4be79a5c50df84c2528fff0e619b5ca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca">fallible_resolve_collision</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n, const struct fscrypt_name *nm, int adding)</td></tr>
<tr class="separator:ae4be79a5c50df84c2528fff0e619b5ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9cf8fc929db321a999947190bbbe2a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a7f9cf8fc929db321a999947190bbbe2a">matches_position</a> (struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, int lnum, int offs)</td></tr>
<tr class="separator:a7f9cf8fc929db321a999947190bbbe2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb341a90edaa5dca2a3c232a5f4a5d67"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67">resolve_collision_directly</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n, int lnum, int offs)</td></tr>
<tr class="separator:acb341a90edaa5dca2a3c232a5f4a5d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609646516a8a0f3fd9f2b2a1a1849737"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737">dirty_cow_bottom_up</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:a609646516a8a0f3fd9f2b2a1a1849737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2004703a60d098f1644d4f3e25338759"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759">ubifs_lookup_level0</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n)</td></tr>
<tr class="separator:a2004703a60d098f1644d4f3e25338759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af871df87e75b12ea907320baac2614d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5">lookup_level0_dirty</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n)</td></tr>
<tr class="separator:af871df87e75b12ea907320baac2614d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5f32bdeedb5786676c542035310ccc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc">maybe_leb_gced</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int gc_seq1)</td></tr>
<tr class="separator:abd5f32bdeedb5786676c542035310ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e762f5309412966e944b237a2c03c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3">ubifs_tnc_locate</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, int *lnum, int *offs)</td></tr>
<tr class="separator:a93e762f5309412966e944b237a2c03c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a85587c22ac5f315c3fe1d76a9301e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a45a85587c22ac5f315c3fe1d76a9301e">ubifs_tnc_get_bu_keys</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structbu__info.html">bu_info</a> *bu)</td></tr>
<tr class="separator:a45a85587c22ac5f315c3fe1d76a9301e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053bcfb703360c8d2a4f2474ee8569a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a053bcfb703360c8d2a4f2474ee8569a1">read_wbuf</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:a053bcfb703360c8d2a4f2474ee8569a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab54327c23143999c0f58a686e0d3f303"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#ab54327c23143999c0f58a686e0d3f303">validate_data_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr)</td></tr>
<tr class="separator:ab54327c23143999c0f58a686e0d3f303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7748d9645dfee9cdc9c0d62afd5a50d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#ae7748d9645dfee9cdc9c0d62afd5a50d">ubifs_tnc_bulk_read</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structbu__info.html">bu_info</a> *bu)</td></tr>
<tr class="separator:ae7748d9645dfee9cdc9c0d62afd5a50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b285d72aebec3db396b997bd896bb03"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03">do_lookup_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a5b285d72aebec3db396b997bd896bb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acd7162c6b75b30de6dc29c1f0f292a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a8acd7162c6b75b30de6dc29c1f0f292a">ubifs_tnc_lookup_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a8acd7162c6b75b30de6dc29c1f0f292a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63fc44948a23cd401f725d74c0ffd761"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761">search_dh_cookie</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *dent, uint32_t cookie, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n)</td></tr>
<tr class="separator:a63fc44948a23cd401f725d74c0ffd761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027a44988553312db51170eef310520a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a027a44988553312db51170eef310520a">do_lookup_dh</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *dent, uint32_t cookie)</td></tr>
<tr class="separator:a027a44988553312db51170eef310520a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6f5ed6702d98146cc08a882918cb99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a1e6f5ed6702d98146cc08a882918cb99">ubifs_tnc_lookup_dh</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, uint32_t cookie)</td></tr>
<tr class="separator:a1e6f5ed6702d98146cc08a882918cb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6349d876e412d65df3eb84b8b5f8d9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#abf6349d876e412d65df3eb84b8b5f8d9">correct_parent_keys</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:abf6349d876e412d65df3eb84b8b5f8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd8f1092141f1581ecab599e8d16f33"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#adfd8f1092141f1581ecab599e8d16f33">insert_zbranch</a> (struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode, const struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, int n)</td></tr>
<tr class="separator:adfd8f1092141f1581ecab599e8d16f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87449d9ca6fdc3ca6e74cc409e7a1506"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506">tnc_insert</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, int n)</td></tr>
<tr class="separator:a87449d9ca6fdc3ca6e74cc409e7a1506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9bccdd201d5b2525ba901e00ece03f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f">ubifs_tnc_add</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a0f9bccdd201d5b2525ba901e00ece03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57909b33c6b9924633e733ac7dd4cfc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a57909b33c6b9924633e733ac7dd4cfc7">ubifs_tnc_replace</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int old_lnum, int old_offs, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a57909b33c6b9924633e733ac7dd4cfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f4b8ea4414cb096acbac0c4ae433c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a76f4b8ea4414cb096acbac0c4ae433c9">ubifs_tnc_add_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a76f4b8ea4414cb096acbac0c4ae433c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4894fa7f0b1e5bf45d6168b302fdce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce">tnc_delete</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode, int n)</td></tr>
<tr class="separator:a6c4894fa7f0b1e5bf45d6168b302fdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a35dc3d88f050a79040c66540d2885f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a1a35dc3d88f050a79040c66540d2885f">ubifs_tnc_remove</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a1a35dc3d88f050a79040c66540d2885f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f37bcb32fdd0e4c25fca00b7a66198"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198">ubifs_tnc_remove_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a45f37bcb32fdd0e4c25fca00b7a66198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bae0dd5ac22531cbdfe78042f3f3a7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a6bae0dd5ac22531cbdfe78042f3f3a7e">ubifs_tnc_remove_dh</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, uint32_t cookie)</td></tr>
<tr class="separator:a6bae0dd5ac22531cbdfe78042f3f3a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa025e235d64c7ec4ec36c40906d7488b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b">key_in_range</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *from_key, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *to_key)</td></tr>
<tr class="separator:aa025e235d64c7ec4ec36c40906d7488b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3e5b7438f8f8463357069869364077"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077">ubifs_tnc_remove_range</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *from_key, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *to_key)</td></tr>
<tr class="separator:aba3e5b7438f8f8463357069869364077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928b6fd97b873a391e906fa28720273e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e">ubifs_tnc_remove_ino</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, ino_t inum)</td></tr>
<tr class="separator:a928b6fd97b873a391e906fa28720273e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">has to be NULL.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>ubifs_tnc_next_ent - walk directory or extended attribute entries. <code></code>: UBIFS file-system description object : key of last entry : name of last entry found or NULL</p>
<p>This function finds and reads the next directory or extended attribute entry after the given key () if there is one.  is used to resolve collisions.</p>
<p>If the name of the current entry is not known and only the key is known, -&gt;name has to be NULL. In this case the semantics of this function is a little bit different and it returns the entry corresponding to this key, not the next one. If the key was not found, the closest "right" entry is returned.</p>
<p>If the fist entry has to be found,  has to contain the lowest possible key value for this inode and</p>
<p>This function returns the found directory or extended attribute entry node in case of success, %-ENOENT is returned if no entry was found, and a negative error code is returned in case of failure. </p>
</div></td></tr>
<tr class="memitem:aab11d1b085510e4c3a49e8ea79e84b14"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14">ubifs_tnc_next_ent</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:aab11d1b085510e4c3a49e8ea79e84b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a482a899cade80092e7af9709cc937886"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a482a899cade80092e7af9709cc937886">tnc_destroy_cnext</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a482a899cade80092e7af9709cc937886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0250b1b8a26f9ab4196fbec0dff74b14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a0250b1b8a26f9ab4196fbec0dff74b14">ubifs_tnc_close</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a0250b1b8a26f9ab4196fbec0dff74b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0411d12758cf4d8593fcc3d7c9b80a5d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d">left_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:a0411d12758cf4d8593fcc3d7c9b80a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa498d8d889570756d93ad186764ab7e1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1">right_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:aa498d8d889570756d93ad186764ab7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3d0b0e8f6fb62cd3fc14718c0971db"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db">lookup_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs)</td></tr>
<tr class="separator:a9a3d0b0e8f6fb62cd3fc14718c0971db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a7fe7d3853972004012eaa58fc7d3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#af4a7fe7d3853972004012eaa58fc7d3f">is_idx_node_in_tnc</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs)</td></tr>
<tr class="separator:af4a7fe7d3853972004012eaa58fc7d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3232f2796c5e91880eccb4bfcce63ce0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0">is_leaf_node_in_tnc</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int lnum, int offs)</td></tr>
<tr class="separator:a3232f2796c5e91880eccb4bfcce63ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4e198020559a2622dfb16bdc5b3b24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a6a4e198020559a2622dfb16bdc5b3b24">ubifs_tnc_has_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs, int is_idx)</td></tr>
<tr class="separator:a6a4e198020559a2622dfb16bdc5b3b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a388ce018049e8a7da4da512f8e1dcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a3a388ce018049e8a7da4da512f8e1dcf">ubifs_dirty_idx_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs)</td></tr>
<tr class="separator:a3a388ce018049e8a7da4da512f8e1dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5137cb242abdf6e16fa3c7fffb0e992f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f">dbg_check_inode_size</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a5137cb242abdf6e16fa3c7fffb0e992f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a6fb6103aaef759b86ee5299bdcac9ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb6103aaef759b86ee5299bdcac9ae7">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6fb6103aaef759b86ee5299bdcac9ae7a0aa6d717fda25d394cbb4da0e928ac47"></a>NAME_LESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6fb6103aaef759b86ee5299bdcac9ae7a7a449b8447e0d0150f8a8c4044f085ba"></a>NAME_MATCHES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6fb6103aaef759b86ee5299bdcac9ae7abd5ef77fdadfb35a4a852348dc7207d1"></a>NAME_GREATER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6fb6103aaef759b86ee5299bdcac9ae7a67de9d2494b5b8c202f545e2b3f4979f"></a>NOT_ON_MEDIA&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a749c75be0b18685c751d2489acc6c6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749c75be0b18685c751d2489acc6c6ae">&#9670;&nbsp;</a></span>add_idx_dirt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_idx_dirt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>add_idx_dirt - add dirt due to a dirty znode. <code></code>: UBIFS file-system description object : LEB number of index node : size of index node</p>
<p>This function updates lprops dirty space and the new size of the index. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a749c75be0b18685c751d2489acc6c6ae_cgraph.png" border="0" usemap="#tnc_8c_a749c75be0b18685c751d2489acc6c6ae_cgraph" alt=""/></div>
<map name="tnc_8c_a749c75be0b18685c751d2489acc6c6ae_cgraph" id="tnc_8c_a749c75be0b18685c751d2489acc6c6ae_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="145,743,248,769"/>
<area shape="rect" id="node3" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="296,743,437,769"/>
<area shape="rect" id="node4" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="497,641,615,668"/>
<area shape="rect" id="node5" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="675,743,823,769"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2767,499,2839,525"/>
<area shape="rect" id="node42" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="498,692,614,719"/>
<area shape="rect" id="node49" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="485,920,627,947"/>
<area shape="rect" id="node6" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="2172,625,2296,652"/>
<area shape="rect" id="node15" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="871,717,991,744"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="2007,641,2124,668"/>
<area shape="rect" id="node19" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="872,553,989,580"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="871,667,991,693"/>
<area shape="rect" id="node7" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2536,673,2689,714"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2361,549,2468,576"/>
<area shape="rect" id="node10" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="2344,397,2485,424"/>
<area shape="rect" id="node14" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2360,701,2469,728"/>
<area shape="rect" id="node11" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2557,397,2668,424"/>
<area shape="rect" id="node12" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2740,321,2867,348"/>
<area shape="rect" id="node13" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2561,296,2664,323"/>
<area shape="rect" id="node16" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1039,717,1184,744"/>
<area shape="rect" id="node17" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="1249,692,1373,719"/>
<area shape="rect" id="node20" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="2189,245,2279,272"/>
<area shape="rect" id="node27" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1065,515,1158,541"/>
<area shape="rect" id="node21" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2536,107,2689,149"/>
<area shape="rect" id="node22" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2533,195,2692,221"/>
<area shape="rect" id="node23" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2361,347,2468,373"/>
<area shape="rect" id="node24" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2360,144,2469,171"/>
<area shape="rect" id="node25" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2356,245,2473,272"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2349,296,2480,323"/>
<area shape="rect" id="node28" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1251,515,1372,541"/>
<area shape="rect" id="node29" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1457,515,1575,541"/>
<area shape="rect" id="node30" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1820,641,1959,668"/>
<area shape="rect" id="node31" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1641,515,1772,541"/>
<area shape="rect" id="node32" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1647,413,1767,440"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1831,439,1947,465"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1824,489,1955,516"/>
<area shape="rect" id="node35" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1831,591,1947,617"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1827,540,1951,567"/>
<area shape="rect" id="node38" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1056,667,1167,693"/>
<area shape="rect" id="node39" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1063,616,1159,643"/>
<area shape="rect" id="node40" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="1249,616,1373,643"/>
<area shape="rect" id="node41" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1456,616,1576,643"/>
<area shape="rect" id="node43" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="695,641,802,668"/>
<area shape="rect" id="node44" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="692,692,805,719"/>
<area shape="rect" id="node45" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1051,464,1172,491"/>
<area shape="rect" id="node46" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1650,464,1763,491"/>
<area shape="rect" id="node47" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1232,413,1391,440"/>
<area shape="rect" id="node48" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1439,413,1593,440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a749c75be0b18685c751d2489acc6c6ae_icgraph.png" border="0" usemap="#tnc_8c_a749c75be0b18685c751d2489acc6c6ae_icgraph" alt=""/></div>
<map name="tnc_8c_a749c75be0b18685c751d2489acc6c6ae_icgraph" id="tnc_8c_a749c75be0b18685c751d2489acc6c6ae_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="145,512,265,539"/>
<area shape="rect" id="node3" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="313,436,460,463"/>
<area shape="rect" id="node4" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="512,512,645,539"/>
<area shape="rect" id="node50" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="537,563,620,589"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="717,259,841,285"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="920,512,1048,539"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="704,461,855,488"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="706,613,853,640"/>
<area shape="rect" id="node47" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="697,360,861,387"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="508,120,649,147"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="933,309,1035,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="717,563,842,589"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1125,715,1241,741"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1114,208,1251,235"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1111,309,1254,336"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1119,461,1246,488"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1123,613,1243,640"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1121,107,1245,133"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1110,157,1255,184"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1107,259,1259,285"/>
<area shape="rect" id="node32" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1117,563,1248,589"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1347,563,1438,589"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1346,613,1439,640"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1351,664,1434,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1354,715,1431,741"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1347,765,1438,792"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1349,816,1436,843"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1348,867,1437,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1345,917,1441,944"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1341,968,1444,995"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1551,411,1659,437"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1562,639,1649,665"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1343,208,1442,235"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1555,157,1655,184"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1331,309,1454,336"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1317,360,1468,387"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1339,411,1446,437"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1343,157,1442,184"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1344,259,1441,285"/>
<area shape="rect" id="node33" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1333,461,1452,488"/>
<area shape="rect" id="node35" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="939,59,1029,85"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="1135,56,1231,83"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1307,31,1479,57"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1531,56,1679,83"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1527,5,1684,32"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="909,360,1059,387"/>
<area shape="rect" id="node44" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1127,512,1239,539"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1117,411,1248,437"/>
<area shape="rect" id="node48" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="917,411,1051,437"/>
</map>
</div>

</div>
</div>
<a id="af101265220290f9d46f256f608211450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af101265220290f9d46f256f608211450">&#9670;&nbsp;</a></span>copy_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* copy_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>copy_znode - copy a dirty znode. <code></code>: UBIFS file-system description object : znode to copy</p>
<p>A dirty znode being committed may not be changed, so it is copied. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af101265220290f9d46f256f608211450_cgraph.png" border="0" usemap="#tnc_8c_af101265220290f9d46f256f608211450_cgraph" alt=""/></div>
<map name="tnc_8c_af101265220290f9d46f256f608211450_cgraph" id="tnc_8c_af101265220290f9d46f256f608211450_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="145,5,272,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af101265220290f9d46f256f608211450_icgraph.png" border="0" usemap="#tnc_8c_af101265220290f9d46f256f608211450_icgraph" alt=""/></div>
<map name="tnc_8c_af101265220290f9d46f256f608211450_icgraph" id="tnc_8c_af101265220290f9d46f256f608211450_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="145,512,265,539"/>
<area shape="rect" id="node3" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="313,436,460,463"/>
<area shape="rect" id="node4" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="512,512,645,539"/>
<area shape="rect" id="node50" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="537,563,620,589"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="717,259,841,285"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="920,512,1048,539"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="704,461,855,488"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="706,613,853,640"/>
<area shape="rect" id="node47" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="697,360,861,387"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="508,120,649,147"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="933,309,1035,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="717,563,842,589"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1125,715,1241,741"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1114,208,1251,235"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1111,309,1254,336"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1119,461,1246,488"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1123,613,1243,640"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1121,107,1245,133"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1110,157,1255,184"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1107,259,1259,285"/>
<area shape="rect" id="node32" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1117,563,1248,589"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1347,563,1438,589"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1346,613,1439,640"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1351,664,1434,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1354,715,1431,741"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1347,765,1438,792"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1349,816,1436,843"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1348,867,1437,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1345,917,1441,944"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1341,968,1444,995"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1551,411,1659,437"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1562,639,1649,665"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1343,208,1442,235"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1555,157,1655,184"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1331,309,1454,336"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1317,360,1468,387"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1339,411,1446,437"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1343,157,1442,184"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1344,259,1441,285"/>
<area shape="rect" id="node33" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1333,461,1452,488"/>
<area shape="rect" id="node35" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="939,59,1029,85"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="1135,56,1231,83"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1307,31,1479,57"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1531,56,1679,83"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1527,5,1684,32"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="909,360,1059,387"/>
<area shape="rect" id="node44" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1127,512,1239,539"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1117,411,1248,437"/>
<area shape="rect" id="node48" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="917,411,1051,437"/>
</map>
</div>

</div>
</div>
<a id="abf6349d876e412d65df3eb84b8b5f8d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf6349d876e412d65df3eb84b8b5f8d9">&#9670;&nbsp;</a></span>correct_parent_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void correct_parent_keys </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>correct_parent_keys - correct parent znodes' keys. <code></code>: UBIFS file-system description object : znode to correct parent znodes for</p>
<p>This is a helper function for '<a class="el" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506">tnc_insert()</a>'. When the key of the leftmost zbranch changes, keys of parent znodes have to be corrected. This helper function is called in such situations and corrects the keys if needed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_cgraph.png" border="0" usemap="#tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_cgraph" alt=""/></div>
<map name="tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_cgraph" id="tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="193,5,276,32"/>
<area shape="rect" id="node3" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="195,56,274,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_icgraph.png" border="0" usemap="#tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_icgraph" alt=""/></div>
<map name="tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_icgraph" id="tnc_8c_abf6349d876e412d65df3eb84b8b5f8d9_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="193,487,272,513"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="333,512,435,539"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="320,360,448,387"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="514,411,630,437"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="503,777,641,804"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="501,715,643,741"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="509,309,635,336"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="512,360,632,387"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="510,853,634,880"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="499,537,645,564"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="496,613,648,640"/>
<area shape="rect" id="node38" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="507,259,637,285"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="726,563,817,589"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="725,461,818,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="730,512,813,539"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="733,157,810,184"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="726,208,817,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="728,259,815,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="727,309,816,336"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="723,360,819,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="720,411,823,437"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="909,664,1017,691"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1094,613,1227,640"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1307,664,1381,691"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1080,664,1241,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="915,512,1011,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="920,107,1007,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1111,81,1211,108"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="722,816,821,843"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="907,816,1020,843"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="913,867,1013,893"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1113,867,1208,893"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="710,715,833,741"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="696,765,847,792"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="902,765,1025,792"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="910,56,1017,83"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="914,613,1013,640"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="723,664,820,691"/>
<area shape="rect" id="node39" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="712,5,831,32"/>
<area shape="rect" id="node40" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="895,5,1032,32"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1114,5,1207,32"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1289,5,1399,32"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1447,5,1540,32"/>
</map>
</div>

</div>
</div>
<a id="a5137cb242abdf6e16fa3c7fffb0e992f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5137cb242abdf6e16fa3c7fffb0e992f">&#9670;&nbsp;</a></span>dbg_check_inode_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dbg_check_inode_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>dbg_check_inode_size - check if inode size is correct. <code></code>: UBIFS file-system description object : inode number : inode size</p>
<p>This function makes sure that the inode size () is correct and it does not have any pages beyond . Returns zero if the inode is OK, %-EINVAL if it has a data page beyond , and other negative error code in case of other errors. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_cgraph.png" border="0" usemap="#tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_cgraph" alt=""/></div>
<map name="tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_cgraph" id="tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="213,43,329,69"/>
<area shape="rect" id="node3" href="key_8h.html#aa31c368518eb702eaa02487c8699797f" title="data_key_init" alt="" coords="399,119,498,145"/>
<area shape="rect" id="node4" href="key_8h.html#a24afd66ebcd9bb96e1e62581474d5e66" title="highest_data_key" alt="" coords="209,93,333,120"/>
<area shape="rect" id="node5" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="576,372,712,399"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1955,1031,2027,1057"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2271,1512,2353,1539"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="812,701,884,728"/>
<area shape="rect" id="node29" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="799,93,897,120"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="208,448,335,475"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2275,499,2349,525"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1191,628,1313,655"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1595,347,1677,373"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1589,195,1683,221"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="773,347,923,373"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="812,651,884,677"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1409,701,1498,728"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1577,1259,1695,1285"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1929,1208,2053,1235"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="2125,499,2199,525"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="2102,701,2222,728"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2271,1284,2353,1311"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1759,1157,1865,1184"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1749,1208,1875,1235"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="2125,1259,2199,1285"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="2111,1157,2213,1184"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="2115,1208,2209,1235"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="2101,1107,2223,1133"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2273,1461,2351,1488"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="1007,651,1090,677"/>
<area shape="rect" id="node31" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="405,499,493,525"/>
<area shape="rect" id="node32" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="421,783,476,809"/>
<area shape="rect" id="node34" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="389,549,509,576"/>
<area shape="rect" id="node35" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="383,448,515,475"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#ab0cc00dca67ee2f47ffc26909bd27db9" title="get_dent_type" alt="" coords="397,397,501,424"/>
<area shape="rect" id="node33" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="585,967,703,993"/>
<area shape="rect" id="node36" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="563,600,725,627"/>
<area shape="rect" id="node42" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="585,701,703,728"/>
<area shape="rect" id="node48" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="971,448,1127,475"/>
<area shape="rect" id="node37" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="1175,729,1329,756"/>
<area shape="rect" id="node38" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1390,600,1517,627"/>
<area shape="rect" id="node40" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1395,777,1511,804"/>
<area shape="rect" id="node39" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1584,752,1688,779"/>
<area shape="rect" id="node41" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1743,651,1881,677"/>
<area shape="rect" id="node43" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="993,803,1104,829"/>
<area shape="rect" id="node44" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1181,929,1323,956"/>
<area shape="rect" id="node45" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1398,955,1509,981"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1377,1208,1529,1235"/>
<area shape="rect" id="node47" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1418,904,1489,931"/>
<area shape="rect" id="node49" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1420,296,1487,323"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_icgraph.png" border="0" usemap="#tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_icgraph" alt=""/></div>
<map name="tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_icgraph" id="tnc_8c_a5137cb242abdf6e16fa3c7fffb0e992f_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="210,649,333,676"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="208,700,335,726"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="389,674,492,701"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="383,725,499,752"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="384,776,497,802"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="391,624,490,650"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="547,666,656,693"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="704,192,869,218"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="704,616,869,642"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="727,666,847,693"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="925,1104,1082,1130"/>
<area shape="rect" id="node23" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="954,1154,1053,1181"/>
<area shape="rect" id="node24" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="743,565,831,592"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="929,74,1077,101"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="929,126,1077,167"/>
<area shape="rect" id="node9" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="1158,394,1274,421"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="917,344,1089,370"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1142,344,1290,370"/>
<area shape="rect" id="node12" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1352,394,1459,421"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1137,1357,1295,1384"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="961,293,1046,320"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1359,1446,1452,1473"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1343,1522,1468,1549"/>
<area shape="rect" id="node19" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="934,698,1073,725"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="929,394,1077,421"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="1150,1458,1282,1485"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="725,749,848,776"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="928,546,1079,573"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="947,1002,1059,1029"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="953,1053,1053,1080"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="928,901,1079,928"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="942,597,1065,624"/>
<area shape="rect" id="node32" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="964,749,1043,776"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1143,1509,1289,1536"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="934,648,1073,674"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="1145,1560,1287,1586"/>
<area shape="rect" id="node36" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="966,952,1041,978"/>
<area shape="rect" id="node37" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="937,496,1070,522"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="727,1332,847,1358"/>
<area shape="rect" id="node40" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="941,1981,1065,2008"/>
<area shape="rect" id="node41" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="1147,1930,1285,1957"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="926,1509,1081,1536"/>
<area shape="rect" id="node43" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="929,1560,1078,1586"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="925,1610,1081,1637"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="1141,901,1291,928"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="938,1662,1069,1703"/>
<area shape="rect" id="node47" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="963,1728,1044,1754"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="959,1778,1048,1805"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="548,489,655,516"/>
</map>
</div>

</div>
</div>
<a id="a01e38c99f12ee3c060c9214d14ec62f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e38c99f12ee3c060c9214d14ec62f3">&#9670;&nbsp;</a></span>destroy_old_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_old_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>destroy_old_idx - destroy the old_idx RB-tree. <code></code>: UBIFS file-system description object</p>
<p>During start commit, the old_idx RB-tree is used to avoid overwriting index nodes that were in the index last commit but have since been deleted. This is necessary for recovery i.e. the old index must be kept intact until the new index is successfully written. The old-idx RB-tree is used for the in-the-gaps method of writing index nodes and is destroyed every commit. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a01e38c99f12ee3c060c9214d14ec62f3_icgraph.png" border="0" usemap="#tnc_8c_a01e38c99f12ee3c060c9214d14ec62f3_icgraph" alt=""/></div>
<map name="tnc_8c_a01e38c99f12ee3c060c9214d14ec62f3_icgraph" id="tnc_8c_a01e38c99f12ee3c060c9214d14ec62f3_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14" title="ubifs_tnc_close" alt="" coords="189,113,303,140"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="167,164,325,191"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="878,113,989,140"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1089,113,1183,140"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="1086,56,1186,83"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1281,56,1390,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1479,56,1572,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="1278,5,1393,32"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="373,164,460,191"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="515,164,626,191"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="508,360,633,387"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="876,164,991,191"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1073,164,1199,191"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1274,107,1397,133"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="693,436,795,463"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="687,335,801,361"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="855,284,1012,311"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="871,968,996,995"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="681,385,807,412"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1073,360,1199,387"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1459,689,1592,716"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1289,461,1382,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1294,309,1377,336"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1291,512,1380,539"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1287,411,1383,437"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1284,360,1387,387"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1482,309,1569,336"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1078,537,1194,564"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1067,1069,1205,1096"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1065,1171,1207,1197"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1073,303,1199,329"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1076,227,1196,253"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1074,1120,1198,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1063,1019,1209,1045"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1060,968,1212,995"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1290,563,1381,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1297,613,1374,640"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1290,664,1381,691"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1292,715,1379,741"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1286,1069,1385,1096"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1475,1069,1575,1096"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1274,1171,1397,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1260,1221,1411,1248"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1282,208,1389,235"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1286,1019,1385,1045"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1287,968,1384,995"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1067,639,1205,665"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1274,867,1397,893"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1279,917,1392,944"/>
</map>
</div>

</div>
</div>
<a id="a609646516a8a0f3fd9f2b2a1a1849737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609646516a8a0f3fd9f2b2a1a1849737">&#9670;&nbsp;</a></span>dirty_cow_bottom_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* dirty_cow_bottom_up </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>dirty_cow_bottom_up - dirty a znode and its ancestors. <code></code>: UBIFS file-system description object : znode to dirty</p>
<p>If we do not have a unique key that resides in a znode, then we cannot dirty that znode from the top down (i.e. by using lookup_level0_dirty) This function records the path back to the last dirty ancestor, and then dirties the znodes on that path. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_cgraph.png" border="0" usemap="#tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_cgraph" alt=""/></div>
<map name="tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_cgraph" id="tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="209,689,311,716"/>
<area shape="rect" id="node3" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="200,740,320,767"/>
<area shape="rect" id="node4" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="368,664,471,691"/>
<area shape="rect" id="node5" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="373,715,465,741"/>
<area shape="rect" id="node48" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="373,765,465,792"/>
<area shape="rect" id="node50" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="713,816,815,843"/>
<area shape="rect" id="node6" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="531,715,633,741"/>
<area shape="rect" id="node7" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="693,689,835,716"/>
<area shape="rect" id="node8" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="895,613,1012,640"/>
<area shape="rect" id="node9" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1072,613,1220,640"/>
<area shape="rect" id="node13" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2087,563,2159,589"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="895,715,1011,741"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="883,563,1024,589"/>
<area shape="rect" id="node10" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1455,613,1579,640"/>
<area shape="rect" id="node19" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1269,31,1389,57"/>
<area shape="rect" id="node22" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1270,563,1387,589"/>
<area shape="rect" id="node23" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1270,664,1387,691"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1269,107,1389,133"/>
<area shape="rect" id="node11" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1849,682,2003,723"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1668,563,1775,589"/>
<area shape="rect" id="node14" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1651,309,1792,336"/>
<area shape="rect" id="node18" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1667,664,1776,691"/>
<area shape="rect" id="node15" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1871,324,1981,351"/>
<area shape="rect" id="node16" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2059,299,2186,325"/>
<area shape="rect" id="node17" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1875,273,1977,300"/>
<area shape="rect" id="node20" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1444,5,1589,32"/>
<area shape="rect" id="node21" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="1659,5,1783,32"/>
<area shape="rect" id="node24" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1472,360,1561,387"/>
<area shape="rect" id="node31" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1470,867,1563,893"/>
<area shape="rect" id="node25" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1849,135,2003,177"/>
<area shape="rect" id="node26" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1847,425,2005,452"/>
<area shape="rect" id="node27" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1668,360,1775,387"/>
<area shape="rect" id="node28" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1667,157,1776,184"/>
<area shape="rect" id="node29" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1663,208,1780,235"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1656,259,1787,285"/>
<area shape="rect" id="node32" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1661,917,1782,944"/>
<area shape="rect" id="node33" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1867,917,1985,944"/>
<area shape="rect" id="node34" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="2053,943,2192,969"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1461,56,1572,83"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1469,107,1565,133"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="1659,56,1783,83"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1866,56,1986,83"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="1093,664,1199,691"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1089,715,1203,741"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1268,917,1389,944"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1869,968,1983,995"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1437,968,1596,995"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1644,968,1799,995"/>
<area shape="rect" id="node49" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="519,765,645,792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_icgraph.png" border="0" usemap="#tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_icgraph" alt=""/></div>
<map name="tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_icgraph" id="tnc_8c_a609646516a8a0f3fd9f2b2a1a1849737_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="204,664,337,691"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="409,816,533,843"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="612,461,740,488"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="396,613,547,640"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="398,461,545,488"/>
<area shape="rect" id="node48" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="389,715,553,741"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="200,968,341,995"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="625,563,727,589"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="409,765,534,792"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="817,309,933,336"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="806,613,943,640"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="803,816,946,843"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="811,512,938,539"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="815,461,935,488"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="813,715,937,741"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="802,664,947,691"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="799,563,951,589"/>
<area shape="rect" id="node32" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="809,765,940,792"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1039,56,1130,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1038,107,1131,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1043,461,1126,488"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1046,157,1123,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1039,208,1130,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1041,259,1128,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1040,309,1129,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1037,360,1133,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1033,5,1136,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1243,233,1351,260"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1249,461,1345,488"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1254,512,1341,539"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1424,537,1524,564"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1035,613,1134,640"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1247,664,1347,691"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1023,816,1146,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1009,867,1160,893"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1244,563,1351,589"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1035,664,1134,691"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1036,411,1133,437"/>
<area shape="rect" id="node33" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1025,765,1144,792"/>
<area shape="rect" id="node34" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1229,765,1366,792"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="631,993,721,1020"/>
<area shape="rect" id="node37" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="827,1019,923,1045"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="999,1044,1171,1071"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1223,1019,1371,1045"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1219,1069,1376,1096"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="601,917,751,944"/>
<area shape="rect" id="node45" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="819,968,931,995"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="809,917,940,944"/>
<area shape="rect" id="node49" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="609,816,743,843"/>
</map>
</div>

</div>
</div>
<a id="af6b2ffc67c87b26f8e48221449e1a2ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b2ffc67c87b26f8e48221449e1a2ec">&#9670;&nbsp;</a></span>dirty_cow_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* dirty_cow_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>dirty_cow_znode - ensure a znode is not being committed. <code></code>: UBIFS file-system description object : branch of znode to check</p>
<p>Returns dirtied znode on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_cgraph.png" border="0" usemap="#tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_cgraph" alt=""/></div>
<map name="tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_cgraph" id="tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="173,684,276,711"/>
<area shape="rect" id="node3" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="179,735,271,761"/>
<area shape="rect" id="node48" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="179,785,271,812"/>
<area shape="rect" id="node50" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="518,917,621,944"/>
<area shape="rect" id="node4" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="336,713,439,740"/>
<area shape="rect" id="node5" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="499,703,640,729"/>
<area shape="rect" id="node6" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="700,677,817,704"/>
<area shape="rect" id="node7" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="877,639,1025,665"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2084,588,2156,615"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="701,424,817,451"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="688,627,829,653"/>
<area shape="rect" id="node8" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1452,715,1576,741"/>
<area shape="rect" id="node17" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1073,639,1193,665"/>
<area shape="rect" id="node20" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1075,740,1192,767"/>
<area shape="rect" id="node21" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1075,475,1192,501"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1073,588,1193,615"/>
<area shape="rect" id="node9" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1847,783,2000,825"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1665,613,1772,640"/>
<area shape="rect" id="node12" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1648,512,1789,539"/>
<area shape="rect" id="node16" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1664,765,1773,792"/>
<area shape="rect" id="node13" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1868,512,1979,539"/>
<area shape="rect" id="node14" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2057,436,2183,463"/>
<area shape="rect" id="node15" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1872,461,1975,488"/>
<area shape="rect" id="node18" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1241,639,1387,665"/>
<area shape="rect" id="node19" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="1452,627,1576,653"/>
<area shape="rect" id="node22" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1469,411,1559,437"/>
<area shape="rect" id="node29" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1267,275,1361,301"/>
<area shape="rect" id="node23" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1847,277,2000,318"/>
<area shape="rect" id="node24" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1844,208,2003,235"/>
<area shape="rect" id="node25" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1665,360,1772,387"/>
<area shape="rect" id="node26" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1664,259,1773,285"/>
<area shape="rect" id="node27" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1660,411,1777,437"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1653,461,1784,488"/>
<area shape="rect" id="node30" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1453,107,1575,133"/>
<area shape="rect" id="node31" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1660,107,1777,133"/>
<area shape="rect" id="node32" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="2051,107,2189,133"/>
<area shape="rect" id="node33" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1858,107,1989,133"/>
<area shape="rect" id="node34" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1863,56,1983,83"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1259,588,1369,615"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1266,537,1362,564"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="1452,563,1576,589"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1659,664,1779,691"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="898,323,1005,349"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="895,373,1008,400"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1253,107,1375,133"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1867,5,1980,32"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1435,56,1593,83"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1641,56,1796,83"/>
<area shape="rect" id="node49" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="324,785,451,812"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_icgraph.png" border="0" usemap="#tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_icgraph" alt=""/></div>
<map name="tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_icgraph" id="tnc_8c_af6b2ffc67c87b26f8e48221449e1a2ec_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="173,436,320,463"/>
<area shape="rect" id="node3" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="372,512,505,539"/>
<area shape="rect" id="node50" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="397,563,480,589"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="577,259,701,285"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="780,512,908,539"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="564,461,715,488"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="566,613,713,640"/>
<area shape="rect" id="node47" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="557,360,721,387"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="368,120,509,147"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="793,309,895,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="577,563,702,589"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="985,715,1101,741"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="974,208,1111,235"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="971,309,1114,336"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="979,461,1106,488"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="983,613,1103,640"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="981,107,1105,133"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="970,157,1115,184"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="967,259,1119,285"/>
<area shape="rect" id="node32" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="977,563,1108,589"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1207,563,1298,589"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1206,613,1299,640"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1211,664,1294,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1214,715,1291,741"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1207,765,1298,792"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1209,816,1296,843"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1208,867,1297,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1205,917,1301,944"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1201,968,1304,995"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1411,360,1519,387"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1417,664,1513,691"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1422,563,1509,589"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1203,208,1302,235"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1415,171,1515,197"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1191,309,1314,336"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1177,360,1328,387"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1199,411,1306,437"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1203,157,1302,184"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1204,259,1301,285"/>
<area shape="rect" id="node33" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1193,461,1312,488"/>
<area shape="rect" id="node35" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="799,59,889,85"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="995,56,1091,83"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1167,31,1339,57"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1391,5,1539,32"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1387,56,1544,83"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="769,360,919,387"/>
<area shape="rect" id="node44" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="987,512,1099,539"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="977,411,1108,437"/>
<area shape="rect" id="node48" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="777,411,911,437"/>
</map>
</div>

</div>
</div>
<a id="a027a44988553312db51170eef310520a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027a44988553312db51170eef310520a">&#9670;&nbsp;</a></span>do_lookup_dh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_lookup_dh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *&#160;</td>
          <td class="paramname"><em>dent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a027a44988553312db51170eef310520a_cgraph.png" border="0" usemap="#tnc_8c_a027a44988553312db51170eef310520a_cgraph" alt=""/></div>
<map name="tnc_8c_a027a44988553312db51170eef310520a_cgraph" id="tnc_8c_a027a44988553312db51170eef310520a_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1066,144,1161,171"/>
<area shape="rect" id="node4" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="164,1499,284,1525"/>
<area shape="rect" id="node5" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1759,1397,1837,1424"/>
<area shape="rect" id="node6" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="156,144,292,171"/>
<area shape="rect" id="node29" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="161,676,287,703"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1761,257,1835,284"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="674,296,797,323"/>
<area shape="rect" id="node25" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1072,93,1155,120"/>
<area shape="rect" id="node26" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="463,43,613,69"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="340,296,412,323"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="886,347,975,373"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1055,1093,1172,1120"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1433,840,1505,867"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1407,1017,1531,1044"/>
<area shape="rect" id="node19" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1602,460,1677,487"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1579,371,1699,397"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1757,1093,1839,1120"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1236,941,1343,968"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1226,992,1353,1019"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1602,1043,1677,1069"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1588,941,1691,968"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1592,992,1687,1019"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1579,1296,1700,1323"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1757,1043,1839,1069"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1748,1296,1848,1323"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1759,1347,1837,1373"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1757,1245,1839,1272"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="497,296,579,323"/>
<area shape="rect" id="node30" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="460,676,616,703"/>
<area shape="rect" id="node41" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="340,347,412,373"/>
<area shape="rect" id="node31" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="867,499,994,525"/>
<area shape="rect" id="node33" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="664,739,807,765"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="897,840,964,867"/>
<area shape="rect" id="node32" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1061,663,1165,689"/>
<area shape="rect" id="node34" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="875,688,986,715"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="855,1017,1007,1044"/>
<area shape="rect" id="node37" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="895,739,966,765"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1073,992,1154,1019"/>
<area shape="rect" id="node39" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1220,688,1359,715"/>
<area shape="rect" id="node40" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1413,739,1524,765"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a027a44988553312db51170eef310520a_icgraph.png" border="0" usemap="#tnc_8c_a027a44988553312db51170eef310520a_icgraph" alt=""/></div>
<map name="tnc_8c_a027a44988553312db51170eef310520a_icgraph" id="tnc_8c_a027a44988553312db51170eef310520a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="156,5,297,32"/>
<area shape="rect" id="node3" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="345,5,440,32"/>
</map>
</div>

</div>
</div>
<a id="a5b285d72aebec3db396b997bd896bb03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b285d72aebec3db396b997bd896bb03">&#9670;&nbsp;</a></span>do_lookup_nm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_lookup_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>do_lookup_nm- look up a "hashed" node. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : node name</p>
<p>This function looks up and reads a node which contains name hash in the key. Since the hash may have collisions, there may be many nodes with the same key, so we have to sequentially look to all of them until the needed one is found. This function returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a5b285d72aebec3db396b997bd896bb03_cgraph.png" border="0" usemap="#tnc_8c_a5b285d72aebec3db396b997bd896bb03_cgraph" alt=""/></div>
<map name="tnc_8c_a5b285d72aebec3db396b997bd896bb03_cgraph" id="tnc_8c_a5b285d72aebec3db396b997bd896bb03_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="160,144,296,171"/>
<area shape="rect" id="node28" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="169,321,287,348"/>
<area shape="rect" id="node39" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="464,701,620,728"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1771,195,1846,221"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="681,245,804,272"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1083,43,1165,69"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1077,448,1171,475"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="668,43,817,69"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="344,245,416,272"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="897,245,986,272"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1065,803,1183,829"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1443,904,1515,931"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1417,549,1541,576"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1613,397,1687,424"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1590,296,1710,323"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1767,1005,1850,1032"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1247,904,1353,931"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1237,853,1363,880"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1613,752,1687,779"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1599,549,1701,576"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1603,499,1697,525"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1589,701,1711,728"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1767,803,1850,829"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1769,600,1848,627"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1759,651,1859,677"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1769,701,1848,728"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1768,752,1849,779"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="501,245,583,272"/>
<area shape="rect" id="node29" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="487,499,597,525"/>
<area shape="rect" id="node38" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="344,296,416,323"/>
<area shape="rect" id="node30" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="671,625,814,652"/>
<area shape="rect" id="node35" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1066,499,1182,525"/>
<area shape="rect" id="node31" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="886,651,997,677"/>
<area shape="rect" id="node32" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="865,853,1017,880"/>
<area shape="rect" id="node34" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="906,600,977,627"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1083,701,1165,728"/>
<area shape="rect" id="node36" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1231,752,1369,779"/>
<area shape="rect" id="node37" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1424,752,1535,779"/>
<area shape="rect" id="node40" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="878,1056,1005,1083"/>
<area shape="rect" id="node42" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="908,752,975,779"/>
<area shape="rect" id="node41" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1072,1056,1176,1083"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a5b285d72aebec3db396b997bd896bb03_icgraph.png" border="0" usemap="#tnc_8c_a5b285d72aebec3db396b997bd896bb03_icgraph" alt=""/></div>
<map name="tnc_8c_a5b285d72aebec3db396b997bd896bb03_icgraph" id="tnc_8c_a5b285d72aebec3db396b997bd896bb03_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="160,107,305,133"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="353,69,461,96"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="523,5,657,32"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="353,132,461,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="360,183,455,209"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="719,31,792,57"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="509,107,671,133"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="553,157,627,184"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="509,208,671,235"/>
</map>
</div>

</div>
</div>
<a id="a989752a25da4eb8e16a26d9c4beea922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989752a25da4eb8e16a26d9c4beea922">&#9670;&nbsp;</a></span>fallible_matches_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fallible_matches_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>fallible_matches_name - determine if a dent matches a given name. <code></code>: UBIFS file-system description object : zbranch of dent : name to match</p>
<p>This is a "fallible" version of '<a class="el" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8">matches_name()</a>' function which does not panic if the direntry/xentry referred by  does not exist on the media.</p>
<p>This function checks if xentry/direntry referred by zbranch  matches name . Returns NAME_MATCHES it does, NAME_LESS if the name referred by  is less than , NAME_GREATER if it is greater than , and  if xentry/direntry referred by  does not exist on the media. A negative error code is returned in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a989752a25da4eb8e16a26d9c4beea922_cgraph.png" border="0" usemap="#tnc_8c_a989752a25da4eb8e16a26d9c4beea922_cgraph" alt=""/></div>
<map name="tnc_8c_a989752a25da4eb8e16a26d9c4beea922_cgraph" id="tnc_8c_a989752a25da4eb8e16a26d9c4beea922_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="372,167,499,193"/>
<area shape="rect" id="node10" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="208,217,324,244"/>
<area shape="rect" id="node3" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="564,293,668,320"/>
<area shape="rect" id="node7" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="751,91,826,117"/>
<area shape="rect" id="node8" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="579,192,653,219"/>
<area shape="rect" id="node9" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="575,141,657,168"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="747,445,830,472"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="735,344,842,371"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="892,344,964,371"/>
<area shape="rect" id="node11" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="547,40,685,67"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="373,344,497,371"/>
<area shape="rect" id="node12" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="733,40,844,67"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="579,496,653,523"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="565,344,667,371"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="569,395,663,421"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="555,243,677,269"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="556,445,676,472"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="747,496,830,523"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="749,192,828,219"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="739,243,839,269"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="749,293,828,320"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="748,141,829,168"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a989752a25da4eb8e16a26d9c4beea922_icgraph.png" border="0" usemap="#tnc_8c_a989752a25da4eb8e16a26d9c4beea922_icgraph" alt=""/></div>
<map name="tnc_8c_a989752a25da4eb8e16a26d9c4beea922_icgraph" id="tnc_8c_a989752a25da4eb8e16a26d9c4beea922_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="208,605,371,632"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1185,515,1313,541"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="976,605,1127,632"/>
<area shape="rect" id="node39" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="419,813,551,840"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1392,309,1508,336"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1387,107,1513,133"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1390,512,1510,539"/>
<area shape="rect" id="node22" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1385,765,1515,792"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1606,461,1697,488"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1797,360,1890,387"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1802,107,1885,133"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1613,157,1690,184"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1606,208,1697,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1608,512,1695,539"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1799,157,1888,184"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1795,208,1891,235"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1792,309,1895,336"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1789,613,1897,640"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1960,639,2093,665"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1979,107,2075,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1983,284,2070,311"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2141,145,2241,172"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1973,5,2080,32"/>
<area shape="rect" id="node23" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1592,765,1711,792"/>
<area shape="rect" id="node24" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1775,791,1912,817"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1980,829,2073,856"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1177,643,1322,669"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1175,867,1324,893"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1794,664,1893,691"/>
<area shape="rect" id="node30" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1394,867,1506,893"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1385,816,1515,843"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1379,968,1521,995"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1576,968,1727,995"/>
<area shape="rect" id="node31" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="1606,917,1697,944"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1589,816,1714,843"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1588,259,1715,285"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1590,1019,1713,1045"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1782,968,1905,995"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="612,1067,712,1093"/>
<area shape="rect" id="node41" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="614,712,710,739"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="1372,613,1528,640"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="599,864,725,891"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="797,813,904,840"/>
<area shape="rect" id="node43" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1576,613,1727,640"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1210,813,1289,840"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="988,864,1115,891"/>
<area shape="rect" id="node50" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="773,915,928,941"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1613,715,1689,741"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="999,813,1104,840"/>
</map>
</div>

</div>
</div>
<a id="a74144891470c972de07b035100bdba69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74144891470c972de07b035100bdba69">&#9670;&nbsp;</a></span>fallible_read_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fallible_read_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>fallible_read_node - try to read a leaf node. <code></code>: UBIFS file-system description object : key of node to read : position of node : node returned</p>
<p>This function tries to read a node and returns %1 if the node is read, %0 if the node is not present, and a negative error code in the case of error. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a74144891470c972de07b035100bdba69_cgraph.png" border="0" usemap="#tnc_8c_a74144891470c972de07b035100bdba69_cgraph" alt=""/></div>
<map name="tnc_8c_a74144891470c972de07b035100bdba69_cgraph" id="tnc_8c_a74144891470c972de07b035100bdba69_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="180,56,284,83"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="195,107,269,133"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="195,157,269,184"/>
<area shape="rect" id="node8" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="191,208,273,235"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="344,5,427,32"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="332,56,439,83"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="487,81,559,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a74144891470c972de07b035100bdba69_icgraph.png" border="0" usemap="#tnc_8c_a74144891470c972de07b035100bdba69_icgraph" alt=""/></div>
<map name="tnc_8c_a74144891470c972de07b035100bdba69_icgraph" id="tnc_8c_a74144891470c972de07b035100bdba69_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="386,430,542,456"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="610,176,727,203"/>
<area shape="rect" id="node46" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="180,582,335,608"/>
<area shape="rect" id="node16" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="615,278,722,304"/>
<area shape="rect" id="node17" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="605,480,732,507"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="793,632,940,659"/>
<area shape="rect" id="node31" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="603,430,735,456"/>
<area shape="rect" id="node4" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1392,24,1515,51"/>
<area shape="rect" id="node6" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1007,126,1127,152"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1564,176,1695,203"/>
<area shape="rect" id="node7" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1226,24,1311,51"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1414,227,1493,254"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1207,75,1331,102"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1196,430,1341,456"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1198,328,1339,355"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1582,354,1677,380"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1399,556,1507,583"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1563,531,1696,558"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1399,404,1507,431"/>
<area shape="rect" id="node18" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="815,480,918,507"/>
<area shape="rect" id="node20" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1009,784,1125,811"/>
<area shape="rect" id="node21" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1223,734,1314,760"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1222,1088,1315,1115"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1227,784,1310,811"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1230,835,1307,862"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1223,886,1314,912"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1225,683,1312,710"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1224,936,1313,963"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1221,987,1317,1014"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1217,1038,1320,1064"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1410,708,1497,735"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="817,430,917,456"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="819,379,915,406"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="989,683,1145,710"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="803,328,930,355"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1014,227,1121,254"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="792,531,941,558"/>
<area shape="rect" id="node35" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1193,582,1344,608"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1205,480,1332,507"/>
<area shape="rect" id="node40" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="990,328,1145,355"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="1216,227,1321,254"/>
<area shape="rect" id="node42" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1011,632,1123,659"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="996,531,1139,558"/>
<area shape="rect" id="node44" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1193,531,1344,558"/>
<area shape="rect" id="node45" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1002,734,1133,760"/>
<area shape="rect" id="node47" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="383,632,545,659"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="803,784,931,811"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="593,683,744,710"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1004,835,1131,862"/>
</map>
</div>

</div>
</div>
<a id="ae4be79a5c50df84c2528fff0e619b5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4be79a5c50df84c2528fff0e619b5ca">&#9670;&nbsp;</a></span>fallible_resolve_collision()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fallible_resolve_collision </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>adding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>fallible_resolve_collision - resolve a collision even if nodes are missing. <code></code>: UBIFS file-system description object : key : znode is returned here <br />
: branch number is passed and returned here : name of directory entry : indicates caller is adding a key to the TNC</p>
<p>This is a "fallible" version of the '<a class="el" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83">resolve_collision()</a>' function which does not panic if one of the nodes referred to by TNC does not exist on the media. This may happen when replaying the journal if a deleted node was Garbage-collected and the commit was not done. A branch that refers to a node that is not present is called a dangling branch. The following are the return codes for this function: o if  was found, %1 is returned and  and <br />
 are set to the found branch; o if we are  and  was not found, %0 is returned; o if we are not  and  was not found, but a dangling branch was found, then %1 is returned and  and <br />
 are set to the dangling branch; o a negative error code is returned in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_cgraph.png" border="0" usemap="#tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_cgraph" alt=""/></div>
<map name="tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_cgraph" id="tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="467,162,621,188"/>
<area shape="rect" id="node10" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="861,48,944,75"/>
<area shape="rect" id="node25" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="216,212,288,239"/>
<area shape="rect" id="node32" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="216,263,288,290"/>
<area shape="rect" id="node3" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="669,150,796,176"/>
<area shape="rect" id="node11" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="845,251,961,278"/>
<area shape="rect" id="node4" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="851,454,955,480"/>
<area shape="rect" id="node8" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1550,99,1625,126"/>
<area shape="rect" id="node9" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1391,302,1466,328"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1546,682,1629,708"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1025,504,1132,531"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1222,403,1294,430"/>
<area shape="rect" id="node12" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1009,251,1148,278"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1196,606,1320,632"/>
<area shape="rect" id="node13" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1203,251,1313,278"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1391,631,1466,658"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1377,530,1480,556"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1381,580,1476,607"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1368,479,1489,506"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1369,428,1489,455"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1546,631,1629,658"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1548,504,1627,531"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1537,555,1637,582"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1548,403,1627,430"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1547,454,1628,480"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="336,263,419,290"/>
<area shape="rect" id="node27" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="483,288,605,315"/>
<area shape="rect" id="node28" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="688,302,777,328"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="844,606,961,632"/>
<area shape="rect" id="node31" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1031,55,1126,82"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1015,606,1142,632"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_icgraph.png" border="0" usemap="#tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_icgraph" alt=""/></div>
<map name="tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_icgraph" id="tnc_8c_ae4be79a5c50df84c2528fff0e619b5ca_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="983,443,1111,469"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="773,519,924,545"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="216,772,348,799"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1189,367,1305,393"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1184,127,1311,153"/>
<area shape="rect" id="node20" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1187,316,1307,343"/>
<area shape="rect" id="node21" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1182,645,1313,672"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1403,493,1494,520"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1594,443,1687,469"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1599,291,1682,317"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1410,88,1487,115"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1403,139,1494,165"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1405,899,1492,925"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1596,189,1685,216"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1593,240,1689,267"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1589,341,1692,368"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1587,493,1695,520"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1757,519,1891,545"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1776,291,1872,317"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1781,139,1867,165"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1939,88,2039,115"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1771,37,1877,64"/>
<area shape="rect" id="node22" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1389,645,1508,672"/>
<area shape="rect" id="node23" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1572,671,1709,697"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1777,709,1871,736"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="974,544,1119,571"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="972,797,1121,824"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1591,544,1690,571"/>
<area shape="rect" id="node29" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1191,797,1303,824"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1182,747,1313,773"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1176,899,1319,925"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1373,848,1524,875"/>
<area shape="rect" id="node30" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="1403,797,1494,824"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1386,696,1511,723"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1385,392,1512,419"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1387,949,1510,976"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1579,848,1702,875"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="409,823,509,849"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="411,873,507,900"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="1169,1000,1325,1027"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="396,721,523,748"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="595,671,701,697"/>
<area shape="rect" id="node42" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1373,1051,1524,1077"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1007,683,1086,709"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="785,772,912,799"/>
<area shape="rect" id="node50" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="571,823,725,849"/>
<area shape="rect" id="node45" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1411,595,1487,621"/>
<area shape="rect" id="node46" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1200,696,1295,723"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="796,671,901,697"/>
</map>
</div>

</div>
</div>
<a id="ad6989d53af75d6eb9a7b78f6335d3437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6989d53af75d6eb9a7b78f6335d3437">&#9670;&nbsp;</a></span>get_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* get_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get_znode - get a TNC znode that may not be loaded yet. <code></code>: UBIFS file-system description object : parent znode <br />
: znode branch slot number</p>
<p>This function returns the znode or a negative error code. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_cgraph.png" border="0" usemap="#tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_cgraph" alt=""/></div>
<map name="tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_cgraph" id="tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_cgraph">
<area shape="rect" id="node2" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="136,341,259,368"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="307,341,396,368"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="444,113,561,140"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="810,113,882,140"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="784,164,908,190"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="979,265,1054,292"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1138,366,1213,393"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="957,316,1077,342"/>
<area shape="rect" id="node22" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="461,468,544,494"/>
<area shape="rect" id="node23" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="625,506,720,533"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1134,12,1217,38"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="619,62,726,89"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="609,113,736,140"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="979,62,1054,89"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="965,113,1068,140"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="969,164,1064,190"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="956,214,1077,241"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1134,62,1217,89"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1136,138,1215,165"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1125,189,1225,216"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1136,240,1215,266"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1135,290,1216,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_icgraph.png" border="0" usemap="#tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_icgraph" alt=""/></div>
<map name="tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_icgraph" id="tnc_8c_ad6989d53af75d6eb9a7b78f6335d3437_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="145,758,217,785"/>
<area shape="rect" id="node35" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="145,707,217,734"/>
<area shape="rect" id="node43" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="315,353,398,379"/>
<area shape="rect" id="node44" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="139,954,222,981"/>
<area shape="rect" id="node45" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="305,1163,408,1190"/>
<area shape="rect" id="node50" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="136,1131,225,1158"/>
<area shape="rect" id="node3" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="297,707,416,734"/>
<area shape="rect" id="node13" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="504,758,636,785"/>
<area shape="rect" id="node20" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="920,910,1075,937"/>
<area shape="rect" id="node22" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="275,581,438,607"/>
<area shape="rect" id="node23" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="273,302,440,329"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="492,1011,648,1038"/>
<area shape="rect" id="node27" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="293,631,420,658"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="488,302,652,329"/>
<area shape="rect" id="node33" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="501,1062,639,1089"/>
<area shape="rect" id="node4" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="517,707,623,734"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="722,606,850,633"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="495,403,645,430"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="713,657,859,683"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="939,429,1055,455"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="937,555,1057,582"/>
<area shape="rect" id="node9" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="932,201,1063,227"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="713,201,859,227"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="711,302,861,329"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="736,809,836,835"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="738,859,834,886"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="708,910,864,937"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="723,758,849,785"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="944,733,1051,759"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1123,783,1249,810"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1125,910,1247,937"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="508,201,632,227"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="719,1011,853,1038"/>
<area shape="rect" id="node28" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="519,606,621,633"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="497,454,643,481"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="724,99,848,126"/>
<area shape="rect" id="node32" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="719,49,853,75"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="717,1062,855,1089"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="289,809,425,835"/>
<area shape="rect" id="node40" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="290,454,423,481"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="513,859,627,886"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="519,910,621,937"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="511,809,629,835"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="519,353,621,379"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="507,251,633,278"/>
<area shape="rect" id="node46" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="503,1163,637,1190"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="499,1214,641,1241"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#a674601c7e9e367fc2e8f38696f9640c8" title="is_idx_node_in_use" alt="" coords="718,1163,854,1190"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="700,1214,872,1241"/>
</map>
</div>

</div>
</div>
<a id="a1f1088246a07a8a02137dd74aeb7e307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1088246a07a8a02137dd74aeb7e307">&#9670;&nbsp;</a></span>ins_clr_old_idx_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ins_clr_old_idx_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ins_clr_old_idx_znode - record a znode obsoleted since last commit start. <code></code>: UBIFS file-system description object : znode of obsoleted index node</p>
<p>Returns %0 on success, and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_cgraph.png" border="0" usemap="#tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_cgraph" alt=""/></div>
<map name="tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_cgraph" id="tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="204,5,307,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="355,5,427,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_icgraph.png" border="0" usemap="#tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_icgraph" alt=""/></div>
<map name="tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_icgraph" id="tnc_8c_a1f1088246a07a8a02137dd74aeb7e307_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="204,487,283,513"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="343,512,446,539"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="331,360,459,387"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="525,411,641,437"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="514,777,651,804"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="511,715,654,741"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="519,309,646,336"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="523,360,643,387"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="521,853,645,880"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="510,537,655,564"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="507,613,659,640"/>
<area shape="rect" id="node38" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="517,259,648,285"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="737,563,827,589"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="735,461,829,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="741,512,823,539"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="743,157,821,184"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="737,208,827,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="739,259,825,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="737,309,827,336"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="734,360,830,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="731,411,833,437"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="920,664,1028,691"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1105,613,1238,640"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1318,664,1391,691"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1091,664,1252,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="926,512,1022,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="931,107,1017,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1121,81,1221,108"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="733,816,831,843"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="917,816,1031,843"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="924,867,1024,893"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1124,867,1219,893"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="721,715,843,741"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="707,765,857,792"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="913,765,1035,792"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="921,56,1027,83"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="925,613,1023,640"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="733,664,831,691"/>
<area shape="rect" id="node39" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="723,5,841,32"/>
<area shape="rect" id="node40" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="905,5,1043,32"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1125,5,1218,32"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1300,5,1409,32"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1457,5,1551,32"/>
</map>
</div>

</div>
</div>
<a id="a86f5f773a93872a89b7bab3ff0d096d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f5f773a93872a89b7bab3ff0d096d8">&#9670;&nbsp;</a></span>insert_old_idx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_old_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>insert_old_idx - record an index node obsoleted since the last commit start. <code></code>: UBIFS file-system description object : LEB number of obsoleted index node : offset of obsoleted index node</p>
<p>Returns %0 on success, and a negative error code on failure.</p>
<p>For recovery, there must always be a complete intact version of the index on flash at all times. That is called the "old index". It is the index as at the time of the last successful commit. Many of the index nodes in the old index may be dirty, but they must not be erased until the next successful commit (at which point that index becomes the old index).</p>
<p>That means that the garbage collection and the in-the-gaps method of committing must be able to determine if an index node is in the old index. Most of the old index nodes can be found by looking up the TNC using the '<a class="el" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db">lookup_znode()</a>' function. However, some of the old index nodes may have been deleted from the current index or may have been changed so much that they cannot be easily found. In those cases, an entry is added to an RB-tree. That is what this function does. The RB-tree is ordered by LEB number and offset because they uniquely identify the old index node. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_cgraph.png" border="0" usemap="#tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_cgraph" alt=""/></div>
<map name="tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_cgraph" id="tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="156,5,228,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_icgraph.png" border="0" usemap="#tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_icgraph" alt=""/></div>
<map name="tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_icgraph" id="tnc_8c_a86f5f773a93872a89b7bab3ff0d096d8_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="356,247,500,273"/>
<area shape="rect" id="node3" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="579,247,661,273"/>
<area shape="rect" id="node38" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307" title="ins_clr_old_idx_znode" alt="" coords="156,500,307,527"/>
<area shape="rect" id="node44" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="171,373,291,400"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="563,145,677,172"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="762,208,887,235"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="749,323,900,349"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="751,373,898,400"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="743,259,907,285"/>
<area shape="rect" id="node5" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1167,259,1297,285"/>
<area shape="rect" id="node6" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1372,208,1491,235"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1174,512,1290,539"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1172,715,1292,741"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1159,309,1305,336"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="969,613,1097,640"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="959,107,1108,133"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1386,664,1477,691"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1385,715,1478,741"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1390,765,1473,792"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1393,360,1470,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1386,411,1477,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1388,461,1475,488"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1387,512,1476,539"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1383,563,1479,589"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1380,613,1483,640"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1561,816,1648,843"/>
<area shape="rect" id="node21" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1382,259,1481,285"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1169,664,1295,691"/>
<area shape="rect" id="node25" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1176,56,1288,83"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1167,107,1297,133"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1161,208,1303,235"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1356,157,1507,184"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1170,360,1294,387"/>
<area shape="rect" id="node33" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="967,208,1100,235"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1555,537,1655,564"/>
<area shape="rect" id="node35" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="793,95,856,121"/>
<area shape="rect" id="node36" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="967,31,1100,57"/>
<area shape="rect" id="node37" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="1177,5,1287,32"/>
<area shape="rect" id="node39" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="785,627,864,653"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="982,563,1085,589"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1163,563,1301,589"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1156,613,1308,640"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1382,816,1481,843"/>
<area shape="rect" id="node45" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="355,449,501,476"/>
<area shape="rect" id="node46" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="553,449,687,476"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="763,525,887,552"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="549,551,691,577"/>
<area shape="rect" id="node48" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="989,715,1078,741"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="739,576,911,603"/>
</map>
</div>

</div>
</div>
<a id="adb06b4070b4a33080b62c3882163a274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb06b4070b4a33080b62c3882163a274">&#9670;&nbsp;</a></span>insert_old_idx_znode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_old_idx_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>insert_old_idx_znode - record a znode obsoleted since last commit start. <code></code>: UBIFS file-system description object : znode of obsoleted index node</p>
<p>Returns %0 on success, and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_adb06b4070b4a33080b62c3882163a274_cgraph.png" border="0" usemap="#tnc_8c_adb06b4070b4a33080b62c3882163a274_cgraph" alt=""/></div>
<map name="tnc_8c_adb06b4070b4a33080b62c3882163a274_cgraph" id="tnc_8c_adb06b4070b4a33080b62c3882163a274_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="197,5,300,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="348,5,420,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_adb06b4070b4a33080b62c3882163a274_icgraph.png" border="0" usemap="#tnc_8c_adb06b4070b4a33080b62c3882163a274_icgraph" alt=""/></div>
<map name="tnc_8c_adb06b4070b4a33080b62c3882163a274_icgraph" id="tnc_8c_adb06b4070b4a33080b62c3882163a274_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="213,487,295,513"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="197,563,311,589"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="378,397,503,424"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="365,487,516,513"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="367,537,514,564"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="359,309,523,336"/>
<area shape="rect" id="node4" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="774,321,905,348"/>
<area shape="rect" id="node5" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="975,309,1093,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1157,309,1295,336"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1363,284,1456,311"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="781,613,897,640"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="779,968,899,995"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="573,411,718,437"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="581,613,709,640"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="571,259,720,285"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="989,411,1079,437"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1179,512,1273,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1185,867,1267,893"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="995,765,1073,792"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="989,816,1079,843"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="991,613,1077,640"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1181,627,1271,653"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1178,703,1274,729"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1175,461,1277,488"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1172,411,1280,437"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1343,411,1476,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1361,867,1457,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1366,968,1453,995"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1524,993,1624,1020"/>
<area shape="rect" id="node26" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="790,385,889,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1163,1019,1289,1045"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1356,1019,1463,1045"/>
<area shape="rect" id="node31" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="783,95,895,121"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="774,259,905,285"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="768,157,911,184"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="959,157,1109,184"/>
<area shape="rect" id="node32" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="989,56,1079,83"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="971,208,1097,235"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="971,563,1097,589"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="973,107,1095,133"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1165,157,1287,184"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="583,113,707,140"/>
<area shape="rect" id="node45" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="579,309,712,336"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="789,19,889,45"/>
<area shape="rect" id="node44" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="987,5,1081,32"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="409,791,472,817"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="579,1019,712,1045"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="785,1019,894,1045"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="981,1019,1087,1045"/>
</map>
</div>

</div>
</div>
<a id="adfd8f1092141f1581ecab599e8d16f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd8f1092141f1581ecab599e8d16f33">&#9670;&nbsp;</a></span>insert_zbranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void insert_zbranch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>insert_zbranch - insert a zbranch into a znode. : znode into which to insert : zbranch to insert <br />
: slot number to insert to</p>
<p>This is a helper function for '<a class="el" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506">tnc_insert()</a>'. UBIFS does not allow "gaps" in znode's array of zbranches and keeps zbranches consolidated, so when a new zbranch has to be inserted to the -&gt;zbranches[]' array at the <br />
-th slot, zbranches starting from <br />
 have to be moved right. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_adfd8f1092141f1581ecab599e8d16f33_cgraph.png" border="0" usemap="#tnc_8c_adfd8f1092141f1581ecab599e8d16f33_cgraph" alt=""/></div>
<map name="tnc_8c_adfd8f1092141f1581ecab599e8d16f33_cgraph" id="tnc_8c_adfd8f1092141f1581ecab599e8d16f33_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="160,5,263,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_adfd8f1092141f1581ecab599e8d16f33_icgraph.png" border="0" usemap="#tnc_8c_adfd8f1092141f1581ecab599e8d16f33_icgraph" alt=""/></div>
<map name="tnc_8c_adfd8f1092141f1581ecab599e8d16f33_icgraph" id="tnc_8c_adfd8f1092141f1581ecab599e8d16f33_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="160,487,239,513"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="299,512,402,539"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="287,360,415,387"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="481,411,597,437"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="470,777,607,804"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="467,715,610,741"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="475,309,602,336"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="479,360,599,387"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="477,853,601,880"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="466,537,611,564"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="463,613,615,640"/>
<area shape="rect" id="node38" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="473,259,604,285"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="693,563,783,589"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="691,461,785,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="697,512,779,539"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="699,157,777,184"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="693,208,783,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="695,259,781,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="693,309,783,336"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="690,360,786,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="687,411,789,437"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="876,664,984,691"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1061,613,1194,640"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1274,664,1347,691"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1047,664,1208,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="882,512,978,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="887,107,973,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1077,81,1177,108"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="689,816,787,843"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="873,816,987,843"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="880,867,980,893"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1080,867,1175,893"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="677,715,799,741"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="663,765,813,792"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="869,765,991,792"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="877,56,983,83"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="881,613,979,640"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="689,664,787,691"/>
<area shape="rect" id="node39" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="679,5,797,32"/>
<area shape="rect" id="node40" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="861,5,999,32"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1081,5,1174,32"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1256,5,1365,32"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1413,5,1507,32"/>
</map>
</div>

</div>
</div>
<a id="af4a7fe7d3853972004012eaa58fc7d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a7fe7d3853972004012eaa58fc7d3f">&#9670;&nbsp;</a></span>is_idx_node_in_tnc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_idx_node_in_tnc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>is_idx_node_in_tnc - determine if an index node is in the TNC. <code></code>: UBIFS file-system description object : key of index node : index node level : LEB number of index node : offset of index node</p>
<p>This function returns %0 if the index node is not referred to in the TNC, %1 if the index node is referred to in the TNC and the corresponding znode is dirty, %2 if an index node is referred to in the TNC and the corresponding znode is clean, and a negative error code in case of failure.</p>
<p>Note, the  argument has to be the key of the first child. Also note, this function relies on the fact that 0:0 is never a valid LEB number and offset for a main-area node. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_cgraph.png" border="0" usemap="#tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_cgraph" alt=""/></div>
<map name="tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_cgraph" id="tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="187,169,289,196"/>
<area shape="rect" id="node29" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="187,220,289,247"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1674,123,1749,149"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="672,245,795,272"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="997,93,1080,120"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="991,43,1086,69"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="475,144,624,171"/>
<area shape="rect" id="node26" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="341,296,423,323"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="508,245,591,272"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="337,245,427,272"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="843,245,932,272"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="980,397,1097,424"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1346,397,1418,424"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1320,347,1444,373"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1515,549,1590,576"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1493,207,1613,233"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1670,492,1753,519"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1155,448,1262,475"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1145,397,1272,424"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1515,439,1590,465"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1501,312,1604,339"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1505,363,1600,389"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1492,260,1613,287"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1670,439,1753,465"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1672,331,1751,357"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1661,179,1761,205"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1672,229,1751,256"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1671,280,1752,307"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_icgraph.png" border="0" usemap="#tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_icgraph" alt=""/></div>
<map name="tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_icgraph" id="tnc_8c_af4a7fe7d3853972004012eaa58fc7d3f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="371,463,509,489"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a674601c7e9e367fc2e8f38696f9640c8" title="is_idx_node_in_use" alt="" coords="187,517,323,544"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="571,463,657,489"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="557,360,671,387"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="724,463,820,489"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="873,463,1045,489"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1093,461,1241,488"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1636,512,1793,539"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1299,411,1405,437"/>
<area shape="rect" id="node25" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1321,461,1383,488"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1463,309,1588,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1847,157,1963,184"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1646,259,1783,285"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1643,309,1786,336"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1651,360,1778,387"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1655,411,1775,437"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1653,461,1777,488"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1642,157,1787,184"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1639,208,1791,235"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="2025,56,2116,83"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2024,259,2117,285"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2029,309,2112,336"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2032,107,2109,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="2025,157,2116,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="2027,5,2114,32"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2026,360,2115,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2023,208,2119,235"/>
<area shape="rect" id="node26" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1463,360,1588,387"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1858,512,1951,539"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1842,563,1967,589"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1841,309,1968,336"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2016,512,2125,539"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2173,512,2267,539"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="896,284,1023,311"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1124,613,1211,640"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1104,284,1231,311"/>
<area shape="rect" id="node36" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1470,613,1581,640"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1289,512,1415,539"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1657,563,1772,589"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1474,461,1577,488"/>
<area shape="rect" id="node40" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1468,411,1583,437"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1301,360,1403,387"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1294,208,1410,235"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1295,259,1409,285"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1303,309,1401,336"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="373,524,507,551"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="559,536,669,563"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="719,561,825,588"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="880,612,1039,639"/>
</map>
</div>

</div>
</div>
<a id="a3232f2796c5e91880eccb4bfcce63ce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3232f2796c5e91880eccb4bfcce63ce0">&#9670;&nbsp;</a></span>is_leaf_node_in_tnc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_leaf_node_in_tnc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>is_leaf_node_in_tnc - determine if a non-indexing not is in the TNC. <code></code>: UBIFS file-system description object : node key : node LEB number : node offset</p>
<p>This function returns %1 if the node is referred to in the TNC, %0 if it is not, and a negative error code in case of failure.</p>
<p>Note, this function relies on the fact that 0:0 is never a valid LEB number and offset for a main-area node. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_cgraph.png" border="0" usemap="#tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_cgraph" alt=""/></div>
<map name="tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_cgraph" id="tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1011,43,1106,69"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="191,321,327,348"/>
<area shape="rect" id="node24" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1017,549,1100,576"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="375,423,447,449"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="375,473,447,500"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1694,119,1769,145"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="692,271,815,297"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="495,321,644,348"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="863,271,952,297"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1000,347,1117,373"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1366,296,1438,323"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1340,359,1464,385"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1535,499,1610,525"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1513,195,1633,221"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1690,536,1773,563"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1175,296,1282,323"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1165,347,1292,373"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1535,448,1610,475"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1521,257,1624,284"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1525,308,1620,335"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1512,359,1633,385"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1690,460,1773,487"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1692,257,1771,284"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1681,308,1781,335"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1692,359,1771,385"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1691,409,1772,436"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="528,423,611,449"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_icgraph.png" border="0" usemap="#tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_icgraph" alt=""/></div>
<map name="tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_icgraph" id="tnc_8c_a3232f2796c5e91880eccb4bfcce63ce0_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="191,415,329,441"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="391,313,477,340"/>
<area shape="rect" id="node38" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="377,440,491,467"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="554,276,650,303"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="713,256,885,283"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="933,256,1081,283"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1292,539,1449,565"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1133,256,1240,283"/>
<area shape="rect" id="node30" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1156,155,1217,181"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1308,307,1433,333"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1515,309,1631,336"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1505,81,1642,108"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1502,132,1645,159"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1510,208,1637,235"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1513,360,1633,387"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1511,411,1635,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1501,461,1646,488"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1497,31,1649,57"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1727,360,1818,387"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1726,563,1819,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1731,613,1814,640"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1734,208,1811,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1727,259,1818,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1729,309,1816,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1728,411,1817,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1725,461,1821,488"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1721,512,1824,539"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1723,5,1822,32"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1711,56,1834,83"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1697,107,1848,133"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1719,157,1826,184"/>
<area shape="rect" id="node31" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1308,180,1433,207"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1527,657,1620,684"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1511,595,1636,621"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1510,519,1637,545"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1718,664,1827,691"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1896,664,1989,691"/>
<area shape="rect" id="node39" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="539,592,665,619"/>
<area shape="rect" id="node40" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="756,592,843,619"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="736,763,863,789"/>
<area shape="rect" id="node41" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1131,611,1242,637"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="945,433,1070,460"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1313,611,1428,637"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1135,509,1238,536"/>
<area shape="rect" id="node45" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1129,408,1244,435"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="956,712,1059,739"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="949,763,1065,789"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="951,813,1064,840"/>
<area shape="rect" id="node50" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="958,864,1057,891"/>
</map>
</div>

</div>
</div>
<a id="aa025e235d64c7ec4ec36c40906d7488b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa025e235d64c7ec4ec36c40906d7488b">&#9670;&nbsp;</a></span>key_in_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int key_in_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>from_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>to_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>key_in_range - determine if a key falls within a range of keys. <code></code>: UBIFS file-system description object : key to check : lowest key in range : highest key in range</p>
<p>This function returns %1 if the key is in range and %0 otherwise. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_cgraph.png" border="0" usemap="#tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_cgraph" alt=""/></div>
<map name="tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_cgraph" id="tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="152,5,235,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_icgraph.png" border="0" usemap="#tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_icgraph" alt=""/></div>
<map name="tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_icgraph" id="tnc_8c_aa025e235d64c7ec4ec36c40906d7488b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="152,309,316,336"/>
<area shape="rect" id="node33" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="157,512,311,539"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="377,171,501,197"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="366,411,511,437"/>
<area shape="rect" id="node10" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="372,233,505,260"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="364,309,513,336"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="583,81,683,108"/>
<area shape="rect" id="node5" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="780,5,875,32"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="583,461,682,488"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="967,512,1100,539"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1197,512,1270,539"/>
<area shape="rect" id="node11" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="567,208,698,235"/>
<area shape="rect" id="node12" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="768,56,887,83"/>
<area shape="rect" id="node13" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="965,56,1102,83"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1187,132,1280,159"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1351,132,1460,159"/>
<area shape="rect" id="node17" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="577,259,689,285"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="567,309,698,336"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="561,411,704,437"/>
<area shape="rect" id="node31" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="752,411,903,437"/>
<area shape="rect" id="node18" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="782,107,873,133"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="960,107,1107,133"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="971,613,1096,640"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="764,309,891,336"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1172,613,1295,640"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="987,259,1080,285"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="992,309,1075,336"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="989,360,1078,387"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="985,411,1081,437"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="982,208,1085,235"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="766,461,889,488"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="972,461,1095,488"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="375,689,502,716"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="581,740,684,767"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="575,791,691,817"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="576,689,689,716"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="583,639,682,665"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="773,816,882,843"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="951,917,1116,944"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="951,968,1116,995"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="973,816,1093,843"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="955,715,1112,741"/>
<area shape="rect" id="node42" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="984,765,1083,792"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="989,867,1077,893"/>
<area shape="rect" id="node40" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="1164,816,1303,843"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="766,1019,889,1045"/>
<area shape="rect" id="node46" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="958,1019,1109,1045"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="767,689,887,716"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="774,639,881,665"/>
</map>
</div>

</div>
</div>
<a id="a0411d12758cf4d8593fcc3d7c9b80a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0411d12758cf4d8593fcc3d7c9b80a5d">&#9670;&nbsp;</a></span>left_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* left_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>left_znode - get the znode to the left. <code></code>: UBIFS file-system description object : znode</p>
<p>This function returns a pointer to the znode to the left of  or NULL if there is not one. A negative error code is returned on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_cgraph.png" border="0" usemap="#tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_cgraph" alt=""/></div>
<map name="tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_cgraph" id="tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="136,341,219,368"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="267,341,389,368"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="437,341,527,368"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="575,113,692,140"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="941,113,1013,140"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="915,164,1039,190"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1110,265,1185,292"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1269,366,1343,393"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1087,316,1207,342"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="592,468,675,494"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="756,506,851,533"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1265,12,1347,38"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="750,62,857,89"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="740,113,867,140"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1110,62,1185,89"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1096,113,1199,140"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1100,164,1195,190"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1087,214,1208,241"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1265,62,1347,89"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1267,138,1345,165"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1256,189,1356,216"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1267,240,1345,266"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1265,290,1347,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_icgraph.png" border="0" usemap="#tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_icgraph" alt=""/></div>
<map name="tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_icgraph" id="tnc_8c_a0411d12758cf4d8593fcc3d7c9b80a5d_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="136,264,239,291"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="287,239,420,266"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="468,290,609,316"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="657,239,796,266"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a674601c7e9e367fc2e8f38696f9640c8" title="is_idx_node_in_use" alt="" coords="471,340,607,367"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="857,239,944,266"/>
<area shape="rect" id="node35" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="844,188,957,215"/>
<area shape="rect" id="node6" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="1011,239,1107,266"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1160,264,1332,291"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1380,442,1528,468"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1749,163,1907,190"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1585,442,1692,468"/>
<area shape="rect" id="node24" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1608,492,1669,519"/>
<area shape="rect" id="node10" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1765,391,1891,418"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1973,568,2089,595"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1962,315,2099,342"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1959,366,2102,392"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1967,416,2094,443"/>
<area shape="rect" id="node20" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1971,467,2091,494"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1969,518,2093,544"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1958,214,2103,240"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1955,264,2107,291"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2175,619,2268,646"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2180,416,2263,443"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2177,518,2266,544"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2173,467,2269,494"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="2170,568,2273,595"/>
<area shape="rect" id="node25" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1765,492,1891,519"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1961,619,2100,646"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1984,24,2077,51"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1968,112,2093,139"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1967,163,2094,190"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2167,24,2276,51"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2336,24,2429,51"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="2160,112,2283,139"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2155,163,2288,190"/>
<area shape="rect" id="node36" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1183,188,1309,215"/>
<area shape="rect" id="node37" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1411,340,1497,367"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1391,138,1517,164"/>
<area shape="rect" id="node38" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1583,340,1694,367"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1576,391,1701,418"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1587,36,1690,63"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1581,87,1697,114"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1582,138,1695,164"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1589,188,1688,215"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="660,340,793,367"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="846,340,955,367"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="1005,340,1112,367"/>
<area shape="rect" id="node49" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1167,340,1325,367"/>
</map>
</div>

</div>
</div>
<a id="a54dade5f765b017d5533820732fb00b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54dade5f765b017d5533820732fb00b5">&#9670;&nbsp;</a></span>lnc_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lnc_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lnc_add - add a leaf node to the leaf node cache. <code></code>: UBIFS file-system description object : zbranch of leaf node : leaf node</p>
<p>Leaf nodes are non-index nodes directory entry nodes or data nodes. The purpose of the leaf node cache is to save re-reading the same leaf node over and over again. Most things are cached by VFS, however the file system must cache directory entries for readdir and for resolving hash collisions. The present implementation of the leaf node cache is extremely simple, and allows for error returns that are not used but that may be needed if a more complex implementation is created.</p>
<p>Note, this function does not add the  object to LNC directly, but allocates a copy of the object and adds the copy to LNC. The reason for this is that  has been allocated outside of the TNC subsystem and will be used with <code></code>-&gt;tnc_mutex unlock upon return from the TNC subsystem. But LNC may be changed at any time, e.g. freed by the shrinker. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a54dade5f765b017d5533820732fb00b5_cgraph.png" border="0" usemap="#tnc_8c_a54dade5f765b017d5533820732fb00b5_cgraph" alt=""/></div>
<map name="tnc_8c_a54dade5f765b017d5533820732fb00b5_cgraph" id="tnc_8c_a54dade5f765b017d5533820732fb00b5_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="142,7,237,34"/>
<area shape="rect" id="node4" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="120,83,259,110"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="127,286,251,313"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="489,83,563,110"/>
<area shape="rect" id="node5" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="312,134,423,161"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="331,33,403,59"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="330,387,405,414"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="316,438,419,465"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="320,185,415,211"/>
<area shape="rect" id="node13" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="330,235,405,262"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="307,286,428,313"/>
<area shape="rect" id="node19" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="307,337,427,363"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="485,438,567,465"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="485,387,567,414"/>
<area shape="rect" id="node15" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="487,337,565,363"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="476,185,576,211"/>
<area shape="rect" id="node17" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="487,235,565,262"/>
<area shape="rect" id="node18" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="485,286,567,313"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a54dade5f765b017d5533820732fb00b5_icgraph.png" border="0" usemap="#tnc_8c_a54dade5f765b017d5533820732fb00b5_icgraph" alt=""/></div>
<map name="tnc_8c_a54dade5f765b017d5533820732fb00b5_icgraph" id="tnc_8c_a54dade5f765b017d5533820732fb00b5_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="120,423,276,450"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="720,829,837,855"/>
<area shape="rect" id="node27" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="337,601,443,627"/>
<area shape="rect" id="node28" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="715,221,842,247"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="906,170,1053,197"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="324,423,456,450"/>
<area shape="rect" id="node4" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="918,829,1041,855"/>
<area shape="rect" id="node16" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="919,727,1039,754"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1317,626,1447,653"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1522,575,1615,602"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1506,626,1631,653"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1505,221,1632,247"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1680,702,1813,729"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1700,18,1793,45"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1705,119,1788,146"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1702,170,1791,197"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1699,221,1795,247"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1695,271,1798,298"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1861,271,1948,298"/>
<area shape="rect" id="node17" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1138,854,1223,881"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1141,575,1220,602"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1119,677,1243,703"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1108,778,1253,805"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1110,474,1251,501"/>
<area shape="rect" id="node18" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="1334,879,1430,906"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1344,727,1420,754"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1335,525,1429,551"/>
<area shape="rect" id="node21" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1515,677,1623,703"/>
<area shape="rect" id="node22" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1515,778,1623,805"/>
<area shape="rect" id="node29" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="928,334,1031,361"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1123,170,1239,197"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1337,322,1427,349"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1343,170,1421,197"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1337,221,1427,247"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1339,373,1425,399"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="529,347,629,374"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="531,398,627,425"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="1103,398,1259,425"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="515,626,642,653"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="725,575,832,602"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="504,449,653,475"/>
<area shape="rect" id="node40" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1307,474,1457,501"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="916,677,1043,703"/>
<area shape="rect" id="node45" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="701,727,856,754"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="927,575,1032,602"/>
<area shape="rect" id="node47" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="723,474,835,501"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="707,322,850,349"/>
<area shape="rect" id="node49" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="904,410,1055,437"/>
<area shape="rect" id="node50" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="713,373,844,399"/>
</map>
</div>

</div>
</div>
<a id="ab826cda3ab0724fd2a2d83039137ba7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab826cda3ab0724fd2a2d83039137ba7f">&#9670;&nbsp;</a></span>lnc_add_directly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lnc_add_directly </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lnc_add_directly - add a leaf node to the leaf-node-cache. <code></code>: UBIFS file-system description object : zbranch of leaf node : leaf node</p>
<p>This function is similar to '<a class="el" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5">lnc_add()</a>', but it does not create a copy of  but inserts  to TNC directly. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_cgraph.png" border="0" usemap="#tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_cgraph" alt=""/></div>
<map name="tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_cgraph" id="tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="169,56,308,83"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="177,233,301,260"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="538,5,613,32"/>
<area shape="rect" id="node4" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="361,31,472,57"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="381,81,453,108"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="379,284,454,311"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="365,335,468,361"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="369,385,464,412"/>
<area shape="rect" id="node12" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="379,132,454,159"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="356,183,477,209"/>
<area shape="rect" id="node18" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="357,233,477,260"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="534,335,617,361"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="534,284,617,311"/>
<area shape="rect" id="node14" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="536,233,615,260"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="525,81,625,108"/>
<area shape="rect" id="node16" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="536,132,615,159"/>
<area shape="rect" id="node17" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="535,183,616,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_icgraph.png" border="0" usemap="#tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_icgraph" alt=""/></div>
<map name="tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_icgraph" id="tnc_8c_ab826cda3ab0724fd2a2d83039137ba7f_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="191,563,302,589"/>
<area shape="rect" id="node49" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="169,613,324,640"/>
<area shape="rect" id="node3" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="394,563,513,589"/>
<area shape="rect" id="node4" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="605,132,711,159"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="792,715,920,741"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="583,613,733,640"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="592,284,724,311"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1185,56,1331,83"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1381,372,1489,399"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1551,321,1685,348"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1381,5,1489,32"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1571,107,1665,133"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1747,347,1820,373"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1537,423,1699,449"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="1581,5,1655,32"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="999,715,1115,741"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="993,765,1120,792"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="997,816,1117,843"/>
<area shape="rect" id="node28" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="991,563,1122,589"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1213,613,1303,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1211,917,1305,944"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1217,765,1299,792"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1219,968,1297,995"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1213,664,1303,691"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1215,411,1301,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1213,715,1303,741"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1210,816,1306,843"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1207,867,1309,893"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1392,765,1479,792"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1205,1019,1311,1045"/>
<area shape="rect" id="node29" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="1199,512,1317,539"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="783,613,929,640"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="781,461,931,488"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1386,321,1485,348"/>
<area shape="rect" id="node34" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1001,512,1113,539"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1553,245,1683,272"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="985,411,1128,437"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1183,461,1333,488"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="806,107,906,133"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="808,157,904,184"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="979,360,1135,387"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="793,259,919,285"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1003,107,1110,133"/>
<area shape="rect" id="node42" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1183,309,1333,336"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1396,157,1475,184"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1195,208,1321,235"/>
<area shape="rect" id="node48" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="979,208,1134,235"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="1205,107,1311,133"/>
<area shape="rect" id="node50" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="372,613,535,640"/>
</map>
</div>

</div>
</div>
<a id="a48dcf7fc1db2312050ac0378020c802b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48dcf7fc1db2312050ac0378020c802b">&#9670;&nbsp;</a></span>lnc_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lnc_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lnc_free - remove a leaf node from the leaf node cache. : zbranch of leaf node : leaf node </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a48dcf7fc1db2312050ac0378020c802b_icgraph.png" border="0" usemap="#tnc_8c_a48dcf7fc1db2312050ac0378020c802b_icgraph" alt=""/></div>
<map name="tnc_8c_a48dcf7fc1db2312050ac0378020c802b_icgraph" id="tnc_8c_a48dcf7fc1db2312050ac0378020c802b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="529,664,631,691"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="121,803,245,829"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="516,461,644,488"/>
<area shape="rect" id="node42" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="142,563,225,589"/>
<area shape="rect" id="node49" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="293,715,457,741"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="721,309,837,336"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="710,715,847,741"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="707,664,850,691"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="715,512,842,539"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="719,461,839,488"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="717,968,841,995"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="706,917,851,944"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="703,613,855,640"/>
<area shape="rect" id="node35" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="713,563,844,589"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="933,411,1023,437"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="931,360,1025,387"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="937,5,1019,32"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="939,56,1017,83"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="933,107,1023,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="935,157,1021,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="933,208,1023,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="930,259,1026,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="927,309,1029,336"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1116,613,1224,640"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1287,689,1420,716"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1122,5,1218,32"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1127,461,1213,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1303,487,1403,513"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="929,839,1027,865"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1113,839,1227,865"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1120,915,1220,941"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1306,915,1401,941"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="917,664,1039,691"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="903,716,1053,743"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1109,716,1231,743"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1117,512,1223,539"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1121,769,1219,796"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="929,613,1027,640"/>
<area shape="rect" id="node36" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="919,563,1037,589"/>
<area shape="rect" id="node37" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1101,563,1239,589"/>
<area shape="rect" id="node39" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="331,879,420,905"/>
<area shape="rect" id="node40" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="532,917,628,944"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="313,563,438,589"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="300,512,451,539"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="302,360,449,387"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="505,715,655,741"/>
<area shape="rect" id="node46" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="723,765,835,792"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="713,816,844,843"/>
<area shape="rect" id="node50" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="513,613,647,640"/>
</map>
</div>

</div>
</div>
<a id="af871df87e75b12ea907320baac2614d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af871df87e75b12ea907320baac2614d5">&#9670;&nbsp;</a></span>lookup_level0_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lookup_level0_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lookup_level0_dirty - search for zero-level znode dirtying. <code></code>: UBIFS file-system description object : key to lookup : znode is returned here <br />
: znode branch slot number is returned here</p>
<p>This function looks up the TNC tree and search for zero-level znode which refers key . The found zero-level znode is returned in . There are 3 cases: o exact match, i.e. the found zero-level znode contains key , then %1 is returned and slot number of the matched branch is stored in <br />
; o not exact match, which means that zero-level znode does not contain  then %0 is returned and slot number of the closed branch is stored in <br />
; o  is so small that it is even less than the lowest key of the leftmost zero-level node, then %0 is returned and %-1 is stored in <br />
.</p>
<p>Additionally all znodes in the path from the root to the located zero-level znode are marked as dirty.</p>
<p>Note, when the TNC tree is traversed, some znodes may be absent, then this function reads corresponding indexing nodes and inserts them to TNC. In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af871df87e75b12ea907320baac2614d5_cgraph.png" border="0" usemap="#tnc_8c_af871df87e75b12ea907320baac2614d5_cgraph" alt=""/></div>
<map name="tnc_8c_af871df87e75b12ea907320baac2614d5_cgraph" id="tnc_8c_af871df87e75b12ea907320baac2614d5_cgraph">
<area shape="rect" id="node2" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="552,480,675,507"/>
<area shape="rect" id="node22" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="927,765,1009,792"/>
<area shape="rect" id="node23" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="921,5,1015,32"/>
<area shape="rect" id="node24" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="384,613,504,640"/>
<area shape="rect" id="node46" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="187,733,336,760"/>
<area shape="rect" id="node47" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="225,531,297,557"/>
<area shape="rect" id="node49" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="393,676,495,703"/>
<area shape="rect" id="node50" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="188,632,335,659"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="741,208,831,235"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="909,448,1027,475"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2015,588,2087,615"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1288,309,1412,336"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1495,157,1570,184"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1666,107,1741,133"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1473,208,1593,235"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1662,436,1745,463"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1837,563,1943,589"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1094,448,1221,475"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1495,411,1570,437"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1481,360,1584,387"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1485,259,1580,285"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1472,309,1593,336"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1662,385,1745,412"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1664,233,1743,260"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1653,284,1753,311"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1664,335,1743,361"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1663,183,1744,209"/>
<area shape="rect" id="node25" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="562,639,665,665"/>
<area shape="rect" id="node26" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="567,588,659,615"/>
<area shape="rect" id="node43" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="567,689,659,716"/>
<area shape="rect" id="node45" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="735,549,837,576"/>
<area shape="rect" id="node27" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="735,613,837,640"/>
<area shape="rect" id="node28" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="897,715,1039,741"/>
<area shape="rect" id="node29" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1099,816,1216,843"/>
<area shape="rect" id="node30" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1276,715,1424,741"/>
<area shape="rect" id="node38" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1099,765,1215,792"/>
<area shape="rect" id="node42" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1087,664,1228,691"/>
<area shape="rect" id="node31" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1641,760,1765,787"/>
<area shape="rect" id="node34" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1473,664,1593,691"/>
<area shape="rect" id="node35" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1474,816,1591,843"/>
<area shape="rect" id="node36" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1474,715,1591,741"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1473,867,1593,893"/>
<area shape="rect" id="node32" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1813,747,1967,789"/>
<area shape="rect" id="node33" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1819,813,1961,840"/>
<area shape="rect" id="node39" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="1297,765,1403,792"/>
<area shape="rect" id="node40" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1293,816,1407,843"/>
<area shape="rect" id="node41" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1289,867,1411,893"/>
<area shape="rect" id="node44" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="723,689,849,716"/>
<area shape="rect" id="node48" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="403,531,485,557"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_af871df87e75b12ea907320baac2614d5_icgraph.png" border="0" usemap="#tnc_8c_af871df87e75b12ea907320baac2614d5_icgraph" alt=""/></div>
<map name="tnc_8c_af871df87e75b12ea907320baac2614d5_icgraph" id="tnc_8c_af871df87e75b12ea907320baac2614d5_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="409,613,511,640"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="200,923,324,949"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="396,512,524,539"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="199,803,325,829"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="187,563,337,589"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="189,411,335,437"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="601,309,717,336"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="590,664,727,691"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="587,765,730,792"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="595,512,722,539"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="599,461,719,488"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="597,613,721,640"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="586,715,731,741"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="583,563,735,589"/>
<area shape="rect" id="node35" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="593,968,724,995"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="823,411,914,437"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="822,208,915,235"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="827,157,910,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="830,259,907,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="823,309,914,336"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="825,360,912,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="824,5,913,32"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="821,56,917,83"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="817,107,920,133"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1017,563,1125,589"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1188,563,1321,589"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1023,157,1119,184"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1028,461,1115,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1205,512,1305,539"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="819,664,918,691"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1015,664,1128,691"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1021,613,1121,640"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1207,613,1302,640"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="807,765,930,792"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="793,867,944,893"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1010,867,1133,893"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1018,512,1125,539"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1022,715,1121,741"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="820,563,917,589"/>
<area shape="rect" id="node36" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="809,968,928,995"/>
<area shape="rect" id="node37" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1003,943,1140,969"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1208,880,1301,907"/>
<area shape="rect" id="node40" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="415,1015,505,1041"/>
<area shape="rect" id="node41" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="611,1019,707,1045"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="783,1019,955,1045"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="385,819,535,845"/>
<area shape="rect" id="node47" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="603,917,715,944"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1006,816,1137,843"/>
<area shape="rect" id="node48" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="823,917,914,944"/>
</map>
</div>

</div>
</div>
<a id="a9a3d0b0e8f6fb62cd3fc14718c0971db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3d0b0e8f6fb62cd3fc14718c0971db">&#9670;&nbsp;</a></span>lookup_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* lookup_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lookup_znode - find a particular indexing node from TNC. <code></code>: UBIFS file-system description object : index node key to lookup : index node level : index node LEB number : index node offset</p>
<p>This function searches an indexing node by its first key  and its address :. It looks up the indexing tree by pulling all indexing nodes it traverses to TNC. This function is called for indexing nodes which were found on the media by scanning, for example when garbage-collecting or when doing in-the-gaps commit. This means that the indexing node which is looked for does not have to have exactly the same leftmost key , because the leftmost key may have been changed, in which case TNC will contain a dirty znode which still refers the same :. This function is clever enough to recognize such indexing nodes.</p>
<p>Note, if a znode was deleted or changed too much, then this function will not find it. For situations like this UBIFS has the old index RB-tree (indexed by :).</p>
<p>This function returns a pointer to the znode found or NULL if it is not found. A negative error code is returned on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_cgraph.png" border="0" usemap="#tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_cgraph" alt=""/></div>
<map name="tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_cgraph" id="tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1493,123,1567,149"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="491,245,613,272"/>
<area shape="rect" id="node22" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="816,93,899,120"/>
<area shape="rect" id="node23" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="810,43,905,69"/>
<area shape="rect" id="node24" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="293,144,443,171"/>
<area shape="rect" id="node25" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="159,296,242,323"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="327,245,409,272"/>
<area shape="rect" id="node27" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="156,245,245,272"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="661,245,751,272"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="799,397,916,424"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1165,397,1237,424"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1139,347,1263,373"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1334,549,1409,576"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1311,207,1431,233"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1489,492,1571,519"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="974,448,1081,475"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="964,397,1091,424"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1334,439,1409,465"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1320,312,1423,339"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1324,363,1419,389"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1311,260,1432,287"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1489,439,1571,465"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1491,331,1569,357"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1480,179,1580,205"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1491,229,1569,256"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1489,280,1571,307"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_icgraph.png" border="0" usemap="#tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_icgraph" alt=""/></div>
<map name="tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_icgraph" id="tnc_8c_a9a3d0b0e8f6fb62cd3fc14718c0971db_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="156,239,289,266"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="337,290,479,316"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="527,239,665,266"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a674601c7e9e367fc2e8f38696f9640c8" title="is_idx_node_in_use" alt="" coords="340,340,476,367"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="727,239,813,266"/>
<area shape="rect" id="node35" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="713,188,827,215"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="880,239,976,266"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1029,264,1201,291"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1249,442,1397,468"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1619,163,1776,190"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1455,442,1561,468"/>
<area shape="rect" id="node23" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1477,492,1539,519"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1635,391,1760,418"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1842,568,1958,595"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1831,315,1969,342"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1829,366,1971,392"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1837,416,1963,443"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1840,467,1960,494"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1838,518,1962,544"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1827,214,1973,240"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1824,264,1976,291"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2044,619,2137,646"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2049,416,2132,443"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2046,518,2135,544"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2043,467,2139,494"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="2039,568,2142,595"/>
<area shape="rect" id="node24" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1635,492,1760,519"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1831,619,1969,646"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1853,24,1947,51"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1837,112,1963,139"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1837,163,1963,190"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2036,24,2145,51"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2205,24,2299,51"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="2029,112,2152,139"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2024,163,2157,190"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2215,163,2289,190"/>
<area shape="rect" id="node36" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1052,188,1179,215"/>
<area shape="rect" id="node37" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1280,340,1367,367"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1260,138,1387,164"/>
<area shape="rect" id="node38" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1453,340,1563,367"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1445,391,1571,418"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1457,36,1559,63"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1450,87,1566,114"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1451,138,1565,164"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1459,188,1557,215"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="529,340,663,367"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="715,340,825,367"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="875,340,981,367"/>
<area shape="rect" id="node49" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1036,340,1195,367"/>
</map>
</div>

</div>
</div>
<a id="afbea7c5c3f1fb57489e50389104f26d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbea7c5c3f1fb57489e50389104f26d8">&#9670;&nbsp;</a></span>matches_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int matches_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>matches_name - determine if a direntry or xattr entry matches a given name. <code></code>: UBIFS file-system description object : zbranch of dent : name to match</p>
<p>This function checks if xentry/direntry referred by zbranch  matches name . Returns NAME_MATCHES if it does, NAME_LESS if the name referred by  is less than , and NAME_GREATER if it is greater than . In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_cgraph.png" border="0" usemap="#tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_cgraph" alt=""/></div>
<map name="tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_cgraph" id="tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_cgraph">
<area shape="rect" id="node2" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="164,461,307,488"/>
<area shape="rect" id="node25" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="555,563,671,589"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1261,512,1335,539"/>
<area shape="rect" id="node4" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="375,512,486,539"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="355,284,507,311"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="555,157,672,184"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="933,411,1005,437"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="907,309,1031,336"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1102,461,1177,488"/>
<area shape="rect" id="node24" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="395,5,466,32"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1257,157,1339,184"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="573,309,654,336"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="736,360,843,387"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="726,309,853,336"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1102,208,1177,235"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1088,309,1191,336"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1092,360,1187,387"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1079,411,1200,437"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1079,259,1199,285"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1257,208,1339,235"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1259,309,1337,336"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1248,360,1348,387"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1259,411,1337,437"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1257,461,1339,488"/>
<area shape="rect" id="node26" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="720,563,859,589"/>
<area shape="rect" id="node27" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="913,563,1024,589"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_icgraph.png" border="0" usemap="#tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_icgraph" alt=""/></div>
<map name="tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_icgraph" id="tnc_8c_afbea7c5c3f1fb57489e50389104f26d8_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="164,715,283,741"/>
<area shape="rect" id="node3" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="353,399,459,425"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="540,740,668,767"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="331,689,481,716"/>
<area shape="rect" id="node40" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="340,964,472,991"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="933,132,1079,159"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1129,132,1237,159"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1299,208,1433,235"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1129,56,1237,83"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1319,892,1413,919"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1495,157,1568,184"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1285,157,1447,184"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="1329,5,1403,32"/>
<area shape="rect" id="node11" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="1285,56,1447,83"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="747,487,863,513"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="741,791,868,817"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="745,689,865,716"/>
<area shape="rect" id="node30" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="739,841,870,868"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="961,183,1051,209"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="959,487,1053,513"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="965,588,1047,615"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="967,537,1045,564"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="961,284,1051,311"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="963,639,1049,665"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="961,335,1051,361"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="958,385,1054,412"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="955,436,1057,463"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1135,588,1231,615"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1140,715,1227,741"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1316,791,1416,817"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1130,816,1237,843"/>
<area shape="rect" id="node31" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="947,892,1065,919"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="531,309,677,336"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="529,913,679,940"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1134,233,1233,260"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="749,993,861,1020"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1301,1069,1431,1096"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="733,943,876,969"/>
<area shape="rect" id="node39" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="931,943,1081,969"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="554,964,654,991"/>
<area shape="rect" id="node42" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="556,1015,652,1041"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="727,740,883,767"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="541,1145,667,1172"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="751,1095,858,1121"/>
<area shape="rect" id="node44" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="931,791,1081,817"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1144,1095,1223,1121"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="943,1196,1069,1223"/>
<area shape="rect" id="node50" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="727,1247,882,1273"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="953,1095,1059,1121"/>
</map>
</div>

</div>
</div>
<a id="a7f9cf8fc929db321a999947190bbbe2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f9cf8fc929db321a999947190bbbe2a">&#9670;&nbsp;</a></span>matches_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int matches_position </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>matches_position - determine if a zbranch matches a given position. : zbranch of dent : LEB number of dent to match : offset of dent to match</p>
<p>This function returns %1 if : matches, and %0 otherwise. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a7f9cf8fc929db321a999947190bbbe2a_icgraph.png" border="0" usemap="#tnc_8c_a7f9cf8fc929db321a999947190bbbe2a_icgraph" alt=""/></div>
<map name="tnc_8c_a7f9cf8fc929db321a999947190bbbe2a_icgraph" id="tnc_8c_a7f9cf8fc929db321a999947190bbbe2a_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="177,841,344,868"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="392,841,516,868"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="564,841,653,868"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="701,841,797,868"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="845,841,1017,868"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1065,689,1213,716"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1416,1069,1573,1096"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1261,461,1368,488"/>
<area shape="rect" id="node38" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1284,689,1345,716"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1432,259,1557,285"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1639,841,1755,868"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1629,157,1766,184"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1626,56,1769,83"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1634,107,1761,133"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1637,259,1757,285"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1635,208,1759,235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1625,385,1770,412"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1621,309,1773,336"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1851,664,1942,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1850,968,1943,995"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1855,1019,1938,1045"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1858,715,1935,741"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1851,765,1942,792"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1853,816,1940,843"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1852,867,1941,893"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1849,1069,1945,1096"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1845,917,1948,944"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="2039,1019,2135,1045"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2043,613,2130,640"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1847,157,1946,184"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2037,208,2137,235"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1835,56,1958,83"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1821,5,1972,32"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1843,107,1950,133"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1847,411,1946,437"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2020,1095,2153,1121"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2201,1095,2275,1121"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1848,309,1945,336"/>
<area shape="rect" id="node39" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1432,689,1557,716"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1628,689,1767,716"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1835,461,1958,488"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1840,512,1953,539"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1857,563,1937,589"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1651,1120,1744,1147"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1635,1196,1760,1223"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1634,1019,1761,1045"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1842,1171,1951,1197"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2040,1171,2133,1197"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1835,1221,1958,1248"/>
</map>
</div>

</div>
</div>
<a id="abd5f32bdeedb5786676c542035310ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd5f32bdeedb5786676c542035310ccc">&#9670;&nbsp;</a></span>maybe_leb_gced()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int maybe_leb_gced </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gc_seq1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>maybe_leb_gced - determine if a LEB may have been garbage collected. <code></code>: UBIFS file-system description object : LEB number : garbage collection sequence number</p>
<p>This function determines if  may have been garbage collected since sequence number . If it may have been then %1 is returned, otherwise %0 is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_abd5f32bdeedb5786676c542035310ccc_icgraph.png" border="0" usemap="#tnc_8c_abd5f32bdeedb5786676c542035310ccc_icgraph" alt=""/></div>
<map name="tnc_8c_abd5f32bdeedb5786676c542035310ccc_icgraph" id="tnc_8c_abd5f32bdeedb5786676c542035310ccc_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="184,259,301,285"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="173,196,312,223"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="366,259,489,285"/>
<area shape="rect" id="node21" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="367,360,487,387"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="736,259,867,285"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="931,309,1025,336"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="915,208,1041,235"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="915,259,1041,285"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1115,411,1225,437"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1300,411,1393,437"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1109,107,1231,133"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1103,563,1237,589"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1123,309,1217,336"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1129,360,1211,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1125,157,1215,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1122,208,1218,235"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1119,259,1221,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1310,588,1383,615"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1299,309,1395,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1303,360,1390,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1443,360,1543,387"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="573,157,658,184"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="576,360,655,387"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="553,613,677,640"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="543,512,688,539"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="545,436,686,463"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="753,107,849,133"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="917,107,1039,133"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="1109,56,1231,83"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="921,157,1035,184"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="923,5,1033,32"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="763,411,839,437"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="754,461,849,488"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="924,613,1032,640"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="924,461,1032,488"/>
<area shape="rect" id="node31" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1089,664,1251,691"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="1133,461,1207,488"/>
<area shape="rect" id="node34" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="1089,512,1251,539"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="751,664,851,691"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="931,664,1025,691"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="360,171,495,197"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="745,31,858,57"/>
</map>
</div>

</div>
</div>
<a id="a053bcfb703360c8d2a4f2474ee8569a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053bcfb703360c8d2a4f2474ee8569a1">&#9670;&nbsp;</a></span>read_wbuf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_wbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>read_wbuf - bulk-read from a LEB with a wbuf. : wbuf that may overlap the read : buffer into which to read : read length : LEB number from which to read : offset from which to read</p>
<p>This functions returns %0 on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_cgraph.png" border="0" usemap="#tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_cgraph" alt=""/></div>
<map name="tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_cgraph" id="tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="136,5,243,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="291,5,363,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_icgraph.png" border="0" usemap="#tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_icgraph" alt=""/></div>
<map name="tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_icgraph" id="tnc_8c_a053bcfb703360c8d2a4f2474ee8569a1_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="136,5,275,32"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="323,5,457,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="505,5,619,32"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="667,5,777,32"/>
</map>
</div>

</div>
</div>
<a id="aacbd9954b161bf32cc3317abd3080f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacbd9954b161bf32cc3317abd3080f83">&#9670;&nbsp;</a></span>resolve_collision()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resolve_collision </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>resolve_collision - resolve a collision. <code></code>: UBIFS file-system description object : key of a directory or extended attribute entry : znode is returned here <br />
: zbranch number is passed and returned here : name of the entry</p>
<p>This function is called for "hashed" keys to make sure that the found key really corresponds to the looked up node (directory or extended attribute entry). It returns %1 and sets  and <br />
 if the collision is resolved. %0 is returned if  is not found and  and <br />
 are set to the previous entry, i.e. to the entry after which  could follow if it were in TNC. This means that <br />
 may be set to %-1 if the leftmost key in  is the previous one. A negative error code is returned on failures. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aacbd9954b161bf32cc3317abd3080f83_cgraph.png" border="0" usemap="#tnc_8c_aacbd9954b161bf32cc3317abd3080f83_cgraph" alt=""/></div>
<map name="tnc_8c_aacbd9954b161bf32cc3317abd3080f83_cgraph" id="tnc_8c_aacbd9954b161bf32cc3317abd3080f83_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="292,588,403,615"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="172,765,244,792"/>
<area shape="rect" id="node33" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="859,1069,941,1096"/>
<area shape="rect" id="node35" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="172,816,244,843"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="451,461,593,488"/>
<area shape="rect" id="node26" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="842,588,958,615"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1547,917,1622,944"/>
<area shape="rect" id="node5" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="662,512,773,539"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="641,284,793,311"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="841,309,959,336"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1219,455,1291,481"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1193,401,1317,428"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1389,715,1463,741"/>
<area shape="rect" id="node25" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="682,5,753,32"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1543,208,1626,235"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="859,208,941,235"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1023,360,1129,387"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1013,259,1139,285"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1389,271,1463,297"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1375,501,1477,528"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1379,451,1473,477"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1365,400,1487,427"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1366,791,1486,817"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1543,271,1626,297"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1545,499,1624,525"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1535,347,1635,373"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1545,397,1624,424"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1544,448,1625,475"/>
<area shape="rect" id="node27" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1007,664,1145,691"/>
<area shape="rect" id="node28" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1200,664,1311,691"/>
<area shape="rect" id="node30" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="306,791,389,817"/>
<area shape="rect" id="node31" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="461,791,583,817"/>
<area shape="rect" id="node32" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="673,791,762,817"/>
<area shape="rect" id="node34" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1029,968,1123,995"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aacbd9954b161bf32cc3317abd3080f83_icgraph.png" border="0" usemap="#tnc_8c_aacbd9954b161bf32cc3317abd3080f83_icgraph" alt=""/></div>
<map name="tnc_8c_aacbd9954b161bf32cc3317abd3080f83_icgraph" id="tnc_8c_aacbd9954b161bf32cc3317abd3080f83_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="194,284,301,311"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="381,537,509,564"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="172,588,323,615"/>
<area shape="rect" id="node40" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="181,968,313,995"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="775,81,920,108"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="985,183,1093,209"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1170,132,1303,159"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="985,31,1093,57"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1189,791,1284,817"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1365,157,1439,184"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1156,233,1317,260"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="1200,5,1273,32"/>
<area shape="rect" id="node10" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="1156,56,1317,83"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="588,487,704,513"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="583,309,709,336"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="586,639,706,665"/>
<area shape="rect" id="node29" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="581,740,711,767"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="802,233,893,260"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="801,284,894,311"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="806,588,889,615"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="809,335,886,361"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="802,385,893,412"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="804,689,891,716"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="803,436,892,463"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="799,487,895,513"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="796,537,899,564"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="991,588,1087,615"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="996,639,1083,665"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1187,556,1287,583"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="986,473,1093,500"/>
<area shape="rect" id="node30" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="788,841,907,868"/>
<area shape="rect" id="node31" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="971,841,1108,868"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="373,309,518,336"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="371,841,520,868"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="990,132,1089,159"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="590,892,702,919"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1171,968,1302,995"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="575,791,717,817"/>
<area shape="rect" id="node39" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="772,892,923,919"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="395,1069,495,1096"/>
<area shape="rect" id="node42" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="397,1120,493,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="568,689,724,716"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="382,1019,509,1045"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="593,993,699,1020"/>
<area shape="rect" id="node44" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="772,791,923,817"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1000,993,1079,1020"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="784,1095,911,1121"/>
<area shape="rect" id="node50" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="569,1145,723,1172"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="795,993,900,1020"/>
</map>
</div>

</div>
</div>
<a id="acb341a90edaa5dca2a3c232a5f4a5d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb341a90edaa5dca2a3c232a5f4a5d67">&#9670;&nbsp;</a></span>resolve_collision_directly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resolve_collision_directly </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>resolve_collision_directly - resolve a collision directly. <code></code>: UBIFS file-system description object : key of directory entry : znode is passed and returned here <br />
: zbranch number is passed and returned here : LEB number of dent node to match : offset of dent node to match</p>
<p>This function is used for "hashed" keys to make sure the found directory or extended attribute entry node is what was looked for. It is used when the flash address of the right node is known (:) which makes it much easier to resolve collisions (no need to read entries and match full names). This function returns %1 and sets  and <br />
 if the collision is resolved, %0 if : is not found and  and <br />
 are set to the previous directory entry. Otherwise a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_cgraph.png" border="0" usemap="#tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_cgraph" alt=""/></div>
<map name="tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_cgraph" id="tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a7f9cf8fc929db321a999947190bbbe2a" title="matches_position" alt="" coords="220,334,344,361"/>
<area shape="rect" id="node3" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="246,385,318,412"/>
<area shape="rect" id="node25" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="848,518,931,545"/>
<area shape="rect" id="node27" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="246,436,318,462"/>
<area shape="rect" id="node4" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="392,385,475,412"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="523,378,645,405"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="693,366,783,393"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="831,113,948,140"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1197,113,1269,140"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1171,164,1295,190"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1366,265,1441,292"/>
<area shape="rect" id="node19" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1525,366,1599,393"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1343,316,1463,342"/>
<area shape="rect" id="node26" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1012,468,1107,494"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1521,12,1603,38"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1006,62,1113,89"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="996,113,1123,140"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1366,62,1441,89"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1352,113,1455,140"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1356,164,1451,190"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1343,214,1464,241"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1521,62,1603,89"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1523,138,1601,165"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1512,189,1612,216"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1523,240,1601,266"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1521,290,1603,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_icgraph.png" border="0" usemap="#tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_icgraph" alt=""/></div>
<map name="tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_icgraph" id="tnc_8c_acb341a90edaa5dca2a3c232a5f4a5d67_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="220,892,344,919"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="392,892,481,919"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="529,892,625,919"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="673,892,845,919"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="893,715,1041,741"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1244,1120,1401,1147"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1089,461,1196,488"/>
<area shape="rect" id="node37" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1112,715,1173,741"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1260,259,1385,285"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1467,892,1583,919"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1457,31,1594,57"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1454,107,1597,133"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1462,157,1589,184"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1465,259,1585,285"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1463,208,1587,235"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1453,411,1598,437"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1449,309,1601,336"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1684,816,1775,843"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1683,1019,1776,1045"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1688,1069,1771,1096"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1691,867,1768,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1684,715,1775,741"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1686,765,1773,792"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1685,1120,1774,1147"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1681,917,1777,944"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1678,968,1781,995"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1876,1069,1972,1096"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1881,411,1967,437"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1680,5,1779,32"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1874,208,1974,235"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1668,56,1791,83"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1654,107,1805,133"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1676,157,1783,184"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1680,461,1779,488"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1857,1145,1991,1172"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2039,1145,2112,1172"/>
<area shape="rect" id="node36" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1681,309,1778,336"/>
<area shape="rect" id="node38" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1260,715,1385,741"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1456,715,1595,741"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1668,664,1791,691"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1673,512,1786,539"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1689,563,1769,589"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1649,613,1809,640"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1479,1171,1572,1197"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1463,1247,1588,1273"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1462,1069,1589,1096"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1675,1221,1784,1248"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1877,1221,1971,1248"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1668,1272,1791,1299"/>
</map>
</div>

</div>
</div>
<a id="aa498d8d889570756d93ad186764ab7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa498d8d889570756d93ad186764ab7e1">&#9670;&nbsp;</a></span>right_znode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* right_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>right_znode - get the znode to the right. <code></code>: UBIFS file-system description object : znode</p>
<p>This function returns a pointer to the znode to the right of  or NULL if there is not one. A negative error code is returned on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aa498d8d889570756d93ad186764ab7e1_cgraph.png" border="0" usemap="#tnc_8c_aa498d8d889570756d93ad186764ab7e1_cgraph" alt=""/></div>
<map name="tnc_8c_aa498d8d889570756d93ad186764ab7e1_cgraph" id="tnc_8c_aa498d8d889570756d93ad186764ab7e1_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="143,341,225,368"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="273,341,396,368"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="444,341,533,368"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="581,113,699,140"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="947,113,1019,140"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="921,164,1045,190"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1117,265,1191,292"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1275,366,1350,393"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1094,316,1214,342"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="599,468,681,494"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="763,506,857,533"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1271,12,1354,38"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="757,62,863,89"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="747,113,873,140"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1117,62,1191,89"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1103,113,1205,140"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1107,164,1201,190"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1093,214,1215,241"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1271,62,1354,89"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1273,138,1352,165"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1263,189,1363,216"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1273,240,1352,266"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1272,290,1353,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aa498d8d889570756d93ad186764ab7e1_icgraph.png" border="0" usemap="#tnc_8c_aa498d8d889570756d93ad186764ab7e1_icgraph" alt=""/></div>
<map name="tnc_8c_aa498d8d889570756d93ad186764ab7e1_icgraph" id="tnc_8c_aa498d8d889570756d93ad186764ab7e1_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="143,264,245,291"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="293,239,427,266"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="475,290,616,316"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="664,239,803,266"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a674601c7e9e367fc2e8f38696f9640c8" title="is_idx_node_in_use" alt="" coords="477,340,613,367"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="864,239,951,266"/>
<area shape="rect" id="node35" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="851,188,964,215"/>
<area shape="rect" id="node6" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="1017,239,1113,266"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1167,264,1339,291"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1387,442,1535,468"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1756,163,1913,190"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1592,442,1699,468"/>
<area shape="rect" id="node24" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1615,492,1676,519"/>
<area shape="rect" id="node10" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1772,391,1897,418"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1979,568,2095,595"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1969,315,2106,342"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1966,366,2109,392"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1974,416,2101,443"/>
<area shape="rect" id="node20" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1977,467,2097,494"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1975,518,2099,544"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1965,214,2110,240"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1961,264,2113,291"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2181,619,2275,646"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2187,416,2269,443"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2183,518,2273,544"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2180,467,2276,494"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="2177,568,2279,595"/>
<area shape="rect" id="node25" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1772,492,1897,519"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1968,619,2107,646"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1991,24,2084,51"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1975,112,2100,139"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1974,163,2101,190"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2173,24,2283,51"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2343,24,2436,51"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="2167,112,2289,139"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2161,163,2295,190"/>
<area shape="rect" id="node36" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1189,188,1316,215"/>
<area shape="rect" id="node37" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1417,340,1504,367"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1397,138,1524,164"/>
<area shape="rect" id="node38" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1590,340,1701,367"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1583,391,1708,418"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1594,36,1697,63"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1587,87,1703,114"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1589,138,1702,164"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1596,188,1695,215"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="667,340,800,367"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="853,340,962,367"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="1012,340,1119,367"/>
<area shape="rect" id="node49" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1173,340,1332,367"/>
</map>
</div>

</div>
</div>
<a id="a63fc44948a23cd401f725d74c0ffd761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63fc44948a23cd401f725d74c0ffd761">&#9670;&nbsp;</a></span>search_dh_cookie()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int search_dh_cookie </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *&#160;</td>
          <td class="paramname"><em>dent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a63fc44948a23cd401f725d74c0ffd761_cgraph.png" border="0" usemap="#tnc_8c_a63fc44948a23cd401f725d74c0ffd761_cgraph" alt=""/></div>
<map name="tnc_8c_a63fc44948a23cd401f725d74c0ffd761_cgraph" id="tnc_8c_a63fc44948a23cd401f725d74c0ffd761_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1599,1284,1677,1311"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1601,473,1675,500"/>
<area shape="rect" id="node4" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="300,499,456,525"/>
<area shape="rect" id="node26" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1599,1335,1677,1361"/>
<area shape="rect" id="node33" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="180,612,252,639"/>
<area shape="rect" id="node5" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="906,347,1001,373"/>
<area shape="rect" id="node6" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="707,448,834,475"/>
<area shape="rect" id="node13" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="504,803,647,829"/>
<area shape="rect" id="node30" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="737,499,804,525"/>
<area shape="rect" id="node7" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="901,549,1005,576"/>
<area shape="rect" id="node11" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1442,524,1517,551"/>
<area shape="rect" id="node12" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="912,296,995,323"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1597,955,1679,981"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1076,676,1183,703"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1273,575,1345,601"/>
<area shape="rect" id="node14" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="715,701,826,728"/>
<area shape="rect" id="node15" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="695,853,847,880"/>
<area shape="rect" id="node17" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="895,752,1012,779"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1247,916,1371,943"/>
<area shape="rect" id="node29" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="735,752,806,779"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="913,904,994,931"/>
<area shape="rect" id="node18" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1066,929,1193,956"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1442,1183,1517,1209"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1428,955,1531,981"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1432,904,1527,931"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1419,1233,1540,1260"/>
<area shape="rect" id="node28" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1419,372,1539,399"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1597,1132,1679,1159"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1588,1183,1688,1209"/>
<area shape="rect" id="node27" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1597,1233,1679,1260"/>
<area shape="rect" id="node31" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1060,423,1199,449"/>
<area shape="rect" id="node32" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1253,423,1364,449"/>
<area shape="rect" id="node34" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="337,448,419,475"/>
<area shape="rect" id="node35" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="514,284,637,311"/>
<area shape="rect" id="node36" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="726,245,815,272"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a63fc44948a23cd401f725d74c0ffd761_icgraph.png" border="0" usemap="#tnc_8c_a63fc44948a23cd401f725d74c0ffd761_icgraph" alt=""/></div>
<map name="tnc_8c_a63fc44948a23cd401f725d74c0ffd761_icgraph" id="tnc_8c_a63fc44948a23cd401f725d74c0ffd761_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="202,44,305,71"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="180,145,327,172"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="375,19,516,45"/>
<area shape="rect" id="node4" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="568,5,663,32"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="387,247,503,273"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="570,56,661,83"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="569,107,662,133"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="574,157,657,184"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="577,208,654,235"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="570,259,661,285"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="572,309,659,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="571,360,660,387"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="567,411,663,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="564,461,667,488"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="715,56,823,83"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="885,5,1018,32"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1080,31,1153,57"/>
<area shape="rect" id="node11" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="871,107,1032,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="721,132,817,159"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="725,183,812,209"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="901,183,1001,209"/>
</map>
</div>

</div>
</div>
<a id="a6c4894fa7f0b1e5bf45d6168b302fdce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4894fa7f0b1e5bf45d6168b302fdce">&#9670;&nbsp;</a></span>tnc_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tnc_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tnc_delete - delete a znode form TNC. <code></code>: UBIFS file-system description object : znode to delete from <br />
: zbranch slot number to delete</p>
<p>This function deletes a leaf node from <br />
-th slot of . Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_cgraph.png" border="0" usemap="#tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_cgraph" alt=""/></div>
<map name="tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_cgraph" id="tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="174,305,242,331"/>
<area shape="rect" id="node3" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="513,355,615,382"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="499,634,629,661"/>
<area shape="rect" id="node34" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="501,533,627,559"/>
<area shape="rect" id="node35" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="157,507,259,534"/>
<area shape="rect" id="node36" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="136,457,280,483"/>
<area shape="rect" id="node37" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="338,406,441,433"/>
<area shape="rect" id="node38" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="167,710,249,737"/>
<area shape="rect" id="node47" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="148,558,268,585"/>
<area shape="rect" id="node4" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="677,330,819,357"/>
<area shape="rect" id="node5" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="879,393,996,419"/>
<area shape="rect" id="node6" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1056,151,1204,178"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1843,373,1915,399"/>
<area shape="rect" id="node22" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="879,241,995,267"/>
<area shape="rect" id="node26" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="867,342,1008,369"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1431,38,1555,65"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1252,139,1372,166"/>
<area shape="rect" id="node15" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1253,89,1371,115"/>
<area shape="rect" id="node16" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1253,190,1371,217"/>
<area shape="rect" id="node19" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1252,241,1372,267"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1803,5,1956,47"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1631,297,1737,323"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1613,139,1755,166"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1629,38,1739,65"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1420,89,1565,115"/>
<area shape="rect" id="node17" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1448,190,1537,217"/>
<area shape="rect" id="node18" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1446,139,1539,166"/>
<area shape="rect" id="node20" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1437,291,1548,318"/>
<area shape="rect" id="node21" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1445,241,1541,267"/>
<area shape="rect" id="node23" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="1077,253,1183,279"/>
<area shape="rect" id="node24" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1073,303,1187,330"/>
<area shape="rect" id="node25" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1069,202,1191,229"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1069,542,1191,569"/>
<area shape="rect" id="node29" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1275,697,1349,723"/>
<area shape="rect" id="node30" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1273,545,1351,571"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1262,595,1362,622"/>
<area shape="rect" id="node32" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1273,646,1351,673"/>
<area shape="rect" id="node33" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1271,494,1353,521"/>
<area shape="rect" id="node39" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="328,711,451,738"/>
<area shape="rect" id="node40" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="519,723,609,750"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="689,825,807,851"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="875,774,999,801"/>
<area shape="rect" id="node43" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1093,863,1167,890"/>
<area shape="rect" id="node44" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1070,749,1190,775"/>
<area shape="rect" id="node45" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="707,622,789,649"/>
<area shape="rect" id="node46" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="701,673,795,699"/>
<area shape="rect" id="node48" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="338,558,441,585"/>
<area shape="rect" id="node49" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="343,457,435,483"/>
<area shape="rect" id="node50" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="343,507,435,534"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_icgraph.png" border="0" usemap="#tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_icgraph" alt=""/></div>
<map name="tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_icgraph" id="tnc_8c_a6c4894fa7f0b1e5bf45d6168b302fdce_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="155,809,281,835"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="143,613,293,639"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="145,458,291,485"/>
<area shape="rect" id="node46" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="136,682,300,709"/>
<area shape="rect" id="node3" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="551,843,682,870"/>
<area shape="rect" id="node4" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="752,894,871,921"/>
<area shape="rect" id="node5" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="939,894,1077,921"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1163,843,1257,870"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1339,843,1448,870"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1496,843,1589,870"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="559,362,675,389"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="557,261,677,287"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="350,613,495,639"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="359,463,487,490"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="348,682,497,709"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="766,134,857,161"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="961,387,1055,414"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="967,97,1049,123"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="773,286,850,313"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="766,337,857,363"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="768,387,855,414"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="963,539,1053,566"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="960,337,1056,363"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="957,489,1059,515"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="954,286,1062,313"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1143,425,1277,451"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1357,374,1430,401"/>
<area shape="rect" id="node15" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1129,286,1291,313"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1162,122,1258,149"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1167,71,1253,98"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1343,46,1443,73"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="567,590,666,617"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="553,311,680,338"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1157,21,1263,47"/>
<area shape="rect" id="node34" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="561,793,673,819"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="551,641,682,667"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="545,742,688,769"/>
<area shape="rect" id="node43" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="736,742,887,769"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="766,843,857,870"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="935,843,1081,870"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="749,691,874,718"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="748,438,875,465"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="947,691,1069,718"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="750,793,873,819"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="947,742,1069,769"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="361,834,485,861"/>
<area shape="rect" id="node50" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="356,783,489,810"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="567,919,667,946"/>
<area shape="rect" id="node49" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="764,945,859,971"/>
</map>
</div>

</div>
</div>
<a id="a482a899cade80092e7af9709cc937886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a482a899cade80092e7af9709cc937886">&#9670;&nbsp;</a></span>tnc_destroy_cnext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tnc_destroy_cnext </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tnc_destroy_cnext - destroy left-over obsolete znodes from a failed commit. <code></code>: UBIFS file-system description object</p>
<p>Destroy left-over obsolete znodes from a failed commit. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a482a899cade80092e7af9709cc937886_cgraph.png" border="0" usemap="#tnc_8c_a482a899cade80092e7af9709cc937886_cgraph" alt=""/></div>
<map name="tnc_8c_a482a899cade80092e7af9709cc937886_cgraph" id="tnc_8c_a482a899cade80092e7af9709cc937886_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="183,5,309,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a482a899cade80092e7af9709cc937886_icgraph.png" border="0" usemap="#tnc_8c_a482a899cade80092e7af9709cc937886_icgraph" alt=""/></div>
<map name="tnc_8c_a482a899cade80092e7af9709cc937886_icgraph" id="tnc_8c_a482a899cade80092e7af9709cc937886_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14" title="ubifs_tnc_close" alt="" coords="183,31,296,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="344,31,455,57"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="506,5,599,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="503,56,603,83"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="653,5,763,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="813,5,907,32"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="651,56,765,83"/>
</map>
</div>

</div>
</div>
<a id="a87449d9ca6fdc3ca6e74cc409e7a1506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87449d9ca6fdc3ca6e74cc409e7a1506">&#9670;&nbsp;</a></span>tnc_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tnc_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tnc_insert - insert a node into TNC. <code></code>: UBIFS file-system description object : znode to insert into : branch to insert <br />
: slot number to insert new zbranch to</p>
<p>This function inserts a new node described by  into znode . If znode does not have a free slot for new zbranch, it is split. Parent znodes are splat as well if needed. Returns zero in case of success or a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_cgraph.png" border="0" usemap="#tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_cgraph" alt=""/></div>
<map name="tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_cgraph" id="tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#adfd8f1092141f1581ecab599e8d16f33" title="insert_zbranch" alt="" coords="154,31,261,57"/>
<area shape="rect" id="node4" href="tnc_8c.html#abf6349d876e412d65df3eb84b8b5f8d9" title="correct_parent_keys" alt="" coords="137,107,277,133"/>
<area shape="rect" id="node7" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307" title="ins_clr_old_idx_znode" alt="" coords="132,157,283,184"/>
<area shape="rect" id="node10" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="170,208,245,235"/>
<area shape="rect" id="node11" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="168,259,247,285"/>
<area shape="rect" id="node12" href="ext4_2namei_8c.html#a3683941965548067158993f202128332" title="do_split" alt="" coords="174,461,241,488"/>
<area shape="rect" id="node3" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="369,5,472,32"/>
<area shape="rect" id="node5" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="379,56,462,83"/>
<area shape="rect" id="node6" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="381,107,460,133"/>
<area shape="rect" id="node8" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="369,157,472,184"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="596,157,668,184"/>
<area shape="rect" id="node13" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1181,957,1236,984"/>
<area shape="rect" id="node15" href="ext4_2namei_8c.html#a82c050e0e49a172d1ee0195fb6c3db52" title="ext4_append" alt="" coords="373,563,469,589"/>
<area shape="rect" id="node30" href="ext4_2namei_8c.html#a8a459e6a70aa99bf6980500f6ddc6ea9" title="initialize_dirent_tail" alt="" coords="1143,509,1275,536"/>
<area shape="rect" id="node31" href="ext4_8h.html#af96e643b3e5b9c3a91a8c9981f0232a6" title="ext4_rec_len_to_disk" alt="" coords="1359,433,1504,460"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#aba40ee3fc4ea94fc3bff342d819a7fb1" title="ext4_handle_dirty_dirent_node" alt="" coords="1109,307,1308,333"/>
<area shape="rect" id="node36" href="ext4_2namei_8c.html#a9e7848d42730d7068a75f295d4cba2f5" title="dx_make_map" alt="" coords="367,309,474,336"/>
<area shape="rect" id="node37" href="ext4_2namei_8c.html#a235ebd6612e5cfcce605473f5b56ab42" title="dx_sort_map" alt="" coords="583,784,681,811"/>
<area shape="rect" id="node38" href="ext4_2namei_8c.html#aa13a8413038131a81178693f0de0208f" title="dx_get_block" alt="" coords="371,360,470,387"/>
<area shape="rect" id="node39" href="ext4_2namei_8c.html#a377ced031d5322b9c84627f5d2e0162e" title="dx_move_dirents" alt="" coords="773,408,894,435"/>
<area shape="rect" id="node40" href="ext4_2namei_8c.html#a57d3e5ea31cc4de0c3c45ffc1a68b8d3" title="dx_pack_dirents" alt="" coords="362,259,479,285"/>
<area shape="rect" id="node43" href="ext4_2namei_8c.html#a939d80861b489fe488becc9e0d1f6b61" title="dx_insert_block" alt="" coords="777,968,890,995"/>
<area shape="rect" id="node49" href="ext4_2namei_8c.html#a2627063910f74b8e9f5b4f57ac7c7fe2" title="ext4_handle_dirty_dx_node" alt="" coords="331,625,511,652"/>
<area shape="rect" id="node14" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1372,957,1491,984"/>
<area shape="rect" id="node16" href="ext4_2inode_8c.html#afb3b5bf4604023a833a2d026f280f23e" title="ext4_bread" alt="" coords="1165,613,1252,640"/>
<area shape="rect" id="node25" href="ext4_2namei_8c.html#ab7f5020ee12f7d90ce640d489d1368e9" title="ext4_dx_csum_verify" alt="" coords="559,639,705,665"/>
<area shape="rect" id="node17" href="ext4_2inode_8c.html#adbd6c1bd8b9c0b1d2566584638ec07f1" title="ext4_getblk" alt="" coords="1387,673,1476,700"/>
<area shape="rect" id="node21" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1388,611,1475,637"/>
<area shape="rect" id="node18" href="ext4_2inode_8c.html#a22f81e783ae7d78cff866a43013368b0" title="ext4_map_blocks" alt="" coords="1569,737,1693,764"/>
<area shape="rect" id="node19" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1781,636,1881,663"/>
<area shape="rect" id="node20" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1955,535,2093,561"/>
<area shape="rect" id="node22" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1555,585,1708,612"/>
<area shape="rect" id="node23" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1790,484,1873,511"/>
<area shape="rect" id="node24" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1756,535,1907,561"/>
<area shape="rect" id="node26" href="ext4_2namei_8c.html#a28e3766025d244f86dc90333967538ef" title="get_dx_countlimit" alt="" coords="771,715,895,741"/>
<area shape="rect" id="node27" href="ext4_2namei_8c.html#ae3adcbc37a56a2a40241a9da2a0a89a7" title="ext4_dx_csum" alt="" coords="780,613,887,640"/>
<area shape="rect" id="node28" href="ext4_8h.html#aa561f40013dd1124a4f73795068c23e3" title="ext4_chksum" alt="" coords="961,613,1061,640"/>
<area shape="rect" id="node29" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1183,793,1234,820"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#aac018820cb0c5117d2bcb5e39927600e" title="ext4_dirent_csum_set" alt="" coords="1356,313,1507,340"/>
<area shape="rect" id="node34" href="ext4_2namei_8c.html#af24b3f0e0d773e8d7bbe89f76fb7ce56" title="get_dirent_tail" alt="" coords="1580,313,1683,340"/>
<area shape="rect" id="node35" href="ext4_2namei_8c.html#a7b80aa7f0096f032d53e8c37a75e02cf" title="ext4_dirent_csum" alt="" coords="1569,371,1694,397"/>
<area shape="rect" id="node41" href="ext4_2namei_8c.html#a6c666d1f21e1645013f53c872280fb68" title="ext4_next_entry" alt="" coords="575,259,689,285"/>
<area shape="rect" id="node42" href="ext4_8h.html#a34f2510638b4330bc3ff0431cf0e0765" title="ext4_rec_len_from_disk" alt="" coords="753,259,913,285"/>
<area shape="rect" id="node44" href="ext4_2namei_8c.html#a3eb92093a9319141e5640b918f0026db" title="dx_get_count" alt="" coords="961,1069,1061,1096"/>
<area shape="rect" id="node45" href="ext4_2namei_8c.html#a86b914ae08a05cf1863f74b3217f5f8d" title="dx_get_limit" alt="" coords="965,867,1057,893"/>
<area shape="rect" id="node46" href="ext4_2namei_8c.html#adb3e0872d57a4f7f702909e77a6c1fcb" title="dx_set_hash" alt="" coords="963,917,1059,944"/>
<area shape="rect" id="node47" href="ext4_2namei_8c.html#a7d220e17ef933fde15019f1f2243900f" title="dx_set_block" alt="" coords="962,968,1061,995"/>
<area shape="rect" id="node48" href="ext4_2namei_8c.html#a5086835f375b6caebdf75e3aca07d702" title="dx_set_count" alt="" coords="961,1019,1061,1045"/>
<area shape="rect" id="node50" href="ext4_2namei_8c.html#a8f56621e30d647e9026e312d7bfcf93c" title="ext4_dx_csum_set" alt="" coords="566,701,698,728"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_icgraph.png" border="0" usemap="#tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_icgraph" alt=""/></div>
<map name="tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_icgraph" id="tnc_8c_a87449d9ca6fdc3ca6e74cc409e7a1506_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="145,512,247,539"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="132,360,260,387"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="326,411,442,437"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="315,777,453,804"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="313,715,455,741"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="321,309,447,336"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="324,360,444,387"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="322,853,446,880"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="311,537,457,564"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="308,613,460,640"/>
<area shape="rect" id="node37" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="319,259,449,285"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="538,563,629,589"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="537,461,630,488"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="542,512,625,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="545,157,622,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="538,208,629,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="540,259,627,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="539,309,628,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="535,360,631,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="532,411,635,437"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="721,664,829,691"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="906,613,1039,640"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1119,664,1193,691"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="892,664,1053,691"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="727,512,823,539"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="732,107,819,133"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="923,81,1023,108"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="534,816,633,843"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="719,816,832,843"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="725,867,825,893"/>
<area shape="rect" id="node24" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="925,867,1020,893"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="522,715,645,741"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="508,765,659,792"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="714,765,837,792"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="722,56,829,83"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="726,613,825,640"/>
<area shape="rect" id="node36" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="535,664,632,691"/>
<area shape="rect" id="node38" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="524,5,643,32"/>
<area shape="rect" id="node39" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="707,5,844,32"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="926,5,1019,32"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1101,5,1211,32"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1259,5,1352,32"/>
</map>
</div>

</div>
</div>
<a id="aa6a0a93befc7348c0e11ee3a038d8d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a0a93befc7348c0e11ee3a038d8d81">&#9670;&nbsp;</a></span>tnc_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tnc_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tnc_next - find next TNC entry. <code></code>: UBIFS file-system description object : znode is passed and returned here <br />
: znode branch slot number is passed and returned here</p>
<p>This function returns %0 if the next TNC entry is found, %-ENOENT if there is no next entry, or a negative error code otherwise. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_cgraph.png" border="0" usemap="#tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_cgraph" alt=""/></div>
<map name="tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_cgraph" id="tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="125,341,208,368"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="256,341,379,368"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="427,341,516,368"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="564,113,681,140"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="930,113,1002,140"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="904,164,1028,190"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1099,265,1174,292"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1258,366,1333,393"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1077,316,1197,342"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="581,468,664,494"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="745,506,840,533"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1254,12,1337,38"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="739,62,846,89"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="729,113,856,140"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1099,62,1174,89"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1085,113,1188,140"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1089,164,1184,190"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1076,214,1197,241"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1254,62,1337,89"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1256,138,1335,165"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1245,189,1345,216"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1256,240,1335,266"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1255,290,1336,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_icgraph.png" border="0" usemap="#tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_icgraph" alt=""/></div>
<map name="tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_icgraph" id="tnc_8c_aa6a0a93befc7348c0e11ee3a038d8d81_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="149,411,268,437"/>
<area shape="rect" id="node21" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="356,461,488,488"/>
<area shape="rect" id="node31" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="750,512,905,539"/>
<area shape="rect" id="node32" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="127,461,290,488"/>
<area shape="rect" id="node33" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="125,763,292,789"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="131,851,287,877"/>
<area shape="rect" id="node39" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="145,56,272,83"/>
<area shape="rect" id="node43" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="340,715,504,741"/>
<area shape="rect" id="node47" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="140,952,277,979"/>
<area shape="rect" id="node3" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="369,157,475,184"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="563,208,691,235"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="347,411,497,437"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="554,107,699,133"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="769,157,885,184"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="764,208,891,235"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="767,259,887,285"/>
<area shape="rect" id="node11" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="762,563,893,589"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="985,183,1072,209"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="985,259,1072,285"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="554,765,699,792"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="552,715,701,741"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="778,816,877,843"/>
<area shape="rect" id="node16" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="771,664,883,691"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1279,588,1409,615"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="756,613,899,640"/>
<area shape="rect" id="node20" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="953,664,1104,691"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="967,537,1090,564"/>
<area shape="rect" id="node22" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="577,512,677,539"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="579,563,675,589"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="749,309,905,336"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="563,411,690,437"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="774,411,881,437"/>
<area shape="rect" id="node25" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="953,309,1104,336"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1152,411,1231,437"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="965,461,1092,488"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="976,411,1081,437"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="360,775,484,801"/>
<area shape="rect" id="node35" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="582,867,671,893"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="355,851,489,877"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="570,917,683,944"/>
<area shape="rect" id="node40" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="371,5,473,32"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="349,56,495,83"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="556,5,697,32"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="565,816,689,843"/>
<area shape="rect" id="node46" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="560,664,693,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="777,867,877,893"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="353,968,491,995"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="583,968,670,995"/>
<area shape="rect" id="node50" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="570,1019,683,1045"/>
</map>
</div>

</div>
</div>
<a id="ad078bd3a3bb09883e602d4c2add8267e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad078bd3a3bb09883e602d4c2add8267e">&#9670;&nbsp;</a></span>tnc_prev()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tnc_prev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tnc_prev - find previous TNC entry. <code></code>: UBIFS file-system description object : znode is returned here <br />
: znode branch slot number is passed and returned here</p>
<p>This function returns %0 if the previous TNC entry is found, %-ENOENT if there is no next entry, or a negative error code otherwise. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_cgraph.png" border="0" usemap="#tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_cgraph" alt=""/></div>
<map name="tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_cgraph" id="tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="125,341,208,368"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="256,341,379,368"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="427,341,516,368"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="564,113,681,140"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="930,113,1002,140"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="904,164,1028,190"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1099,265,1174,292"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1258,366,1333,393"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1077,316,1197,342"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="581,468,664,494"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="745,506,840,533"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1254,12,1337,38"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="739,62,846,89"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="729,113,856,140"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1099,62,1174,89"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1085,113,1188,140"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1089,164,1184,190"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1076,214,1197,241"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1254,62,1337,89"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1256,138,1335,165"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1245,189,1345,216"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1256,240,1335,266"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1255,290,1336,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_icgraph.png" border="0" usemap="#tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_icgraph" alt=""/></div>
<map name="tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_icgraph" id="tnc_8c_ad078bd3a3bb09883e602d4c2add8267e_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="149,371,268,398"/>
<area shape="rect" id="node23" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="127,321,290,347"/>
<area shape="rect" id="node24" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="125,599,292,626"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="141,929,277,955"/>
<area shape="rect" id="node43" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="353,1233,491,1259"/>
<area shape="rect" id="node46" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="142,549,275,575"/>
<area shape="rect" id="node3" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="369,954,475,981"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="566,42,694,69"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="347,295,497,322"/>
<area shape="rect" id="node15" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="356,371,488,398"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="761,1118,906,1145"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="775,309,891,335"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="770,371,897,398"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="773,42,893,69"/>
<area shape="rect" id="node9" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="768,549,899,575"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="761,701,906,727"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="555,751,705,778"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="762,853,905,879"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="961,827,1083,854"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="580,346,680,373"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="582,397,678,423"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="552,447,708,474"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="567,245,693,271"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="780,245,887,271"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="959,599,1085,626"/>
<area shape="rect" id="node22" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="756,802,911,829"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="360,599,484,626"/>
<area shape="rect" id="node26" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="585,599,675,626"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="365,903,479,930"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="371,853,473,879"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="363,1131,481,1158"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="344,1081,500,1107"/>
<area shape="rect" id="node39" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="371,1182,473,1209"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="349,549,495,575"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="340,802,504,829"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="587,903,673,930"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="757,751,909,778"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="569,1157,691,1183"/>
<area shape="rect" id="node34" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="570,1207,690,1234"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="771,954,895,981"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="763,1233,904,1259"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="563,1106,697,1133"/>
<area shape="rect" id="node42" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="563,650,697,677"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="561,1309,699,1335"/>
<area shape="rect" id="node45" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="790,1309,877,1335"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="579,701,681,727"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="359,498,485,525"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="765,599,902,626"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="757,650,909,677"/>
</map>
</div>

</div>
</div>
<a id="add8ba6d4ce8281dbb79e417150da8e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add8ba6d4ce8281dbb79e417150da8e4e">&#9670;&nbsp;</a></span>tnc_read_hashed_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tnc_read_hashed_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tnc_read_hashed_node - read a "hashed" leaf node. <code></code>: UBIFS file-system description object : key and position of the node : node is returned here</p>
<p>This function reads a "hashed" node defined by  from the leaf node cache (in it is there) or from the hash media, in which case the node is also added to LNC. Returns zero in case of success or a negative negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_cgraph.png" border="0" usemap="#tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_cgraph" alt=""/></div>
<map name="tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_cgraph" id="tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="787,5,882,32"/>
<area shape="rect" id="node4" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="413,157,539,184"/>
<area shape="rect" id="node11" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="209,411,352,437"/>
<area shape="rect" id="node29" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="625,56,692,83"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1306,157,1381,184"/>
<area shape="rect" id="node5" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="607,664,711,691"/>
<area shape="rect" id="node9" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1147,259,1222,285"/>
<area shape="rect" id="node10" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="617,107,700,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1302,613,1385,640"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="781,765,888,792"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="978,740,1050,767"/>
<area shape="rect" id="node12" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="421,309,531,336"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="400,613,552,640"/>
<area shape="rect" id="node15" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="600,563,717,589"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="952,411,1076,437"/>
<area shape="rect" id="node28" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="441,664,511,691"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="618,765,699,792"/>
<area shape="rect" id="node16" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="771,613,898,640"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1147,360,1222,387"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1133,512,1236,539"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1137,411,1232,437"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1124,309,1245,336"/>
<area shape="rect" id="node27" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1125,461,1245,488"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1302,411,1385,437"/>
<area shape="rect" id="node23" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1304,360,1383,387"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1293,208,1393,235"/>
<area shape="rect" id="node25" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1304,259,1383,285"/>
<area shape="rect" id="node26" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1303,309,1384,336"/>
<area shape="rect" id="node30" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="765,81,904,108"/>
<area shape="rect" id="node31" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="959,56,1069,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_icgraph.png" border="0" usemap="#tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_icgraph" alt=""/></div>
<map name="tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_icgraph" id="tnc_8c_add8ba6d4ce8281dbb79e417150da8e4e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="605,1019,723,1045"/>
<area shape="rect" id="node27" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="222,512,329,539"/>
<area shape="rect" id="node28" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="601,411,727,437"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="791,360,938,387"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="209,613,341,640"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="803,1019,926,1045"/>
<area shape="rect" id="node16" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="805,968,925,995"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1202,917,1333,944"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1407,968,1501,995"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1391,917,1517,944"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1391,715,1517,741"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1577,917,1687,944"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1565,664,1699,691"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1585,309,1679,336"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1591,360,1673,387"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1587,69,1677,96"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1584,132,1680,159"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1581,259,1683,285"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1747,284,1833,311"/>
<area shape="rect" id="node17" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1023,1069,1109,1096"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1027,765,1105,792"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1004,968,1128,995"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="993,639,1139,665"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="995,715,1137,741"/>
<area shape="rect" id="node18" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="1219,1069,1315,1096"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1229,765,1305,792"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1220,715,1315,741"/>
<area shape="rect" id="node21" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1400,613,1508,640"/>
<area shape="rect" id="node22" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1400,664,1508,691"/>
<area shape="rect" id="node29" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="813,411,916,437"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1008,233,1124,260"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1222,360,1313,387"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1229,259,1306,285"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1222,5,1313,32"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1224,411,1311,437"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="414,563,514,589"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="416,613,512,640"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="988,461,1144,488"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="401,867,527,893"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="611,816,717,843"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="389,664,539,691"/>
<area shape="rect" id="node40" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1192,512,1343,539"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="801,917,928,944"/>
<area shape="rect" id="node45" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="587,917,741,944"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="812,765,917,792"/>
<area shape="rect" id="node47" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="608,664,720,691"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="593,715,735,741"/>
<area shape="rect" id="node49" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="789,664,940,691"/>
<area shape="rect" id="node50" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="599,563,729,589"/>
</map>
</div>

</div>
</div>
<a id="a4a07029bc1a7b847675eec1555f0b9e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a07029bc1a7b847675eec1555f0b9e8">&#9670;&nbsp;</a></span>try_read_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_read_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>try_read_node - read a node if it is a node. <code></code>: UBIFS file-system description object : buffer to read to : node type : node length (not aligned) : LEB number of node to read : offset of node to read</p>
<p>This function tries to read a node of known type and length, checks it and stores it in . This function returns %1 if a node is present and %0 if a node is not present. A negative error code is returned for I/O errors. This function performs that same function as ubifs_read_node except that it does not require that there is actually a node present and instead the return code indicates if a node was read.</p>
<p>Note, this function does not check CRC of data nodes if <code></code>-&gt;no_chk_data_crc is true (it is controlled by corresponding mount option). However, if <code></code>-&gt;mounting or <code></code>-&gt;remounting_rw is true (we are mounting or re-mounting to R/W mode), <code></code>-&gt;no_chk_data_crc is ignored and CRC is checked. This is because during mounting or re-mounting from R/O mode to R/W mode we may read journal nodes (when replying the journal or doing the recovery) and the journal nodes may potentially be corrupted, so checking is required. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_cgraph.png" border="0" usemap="#tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_cgraph" alt=""/></div>
<map name="tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_cgraph" id="tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="169,5,252,32"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="157,56,264,83"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="312,81,384,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_icgraph.png" border="0" usemap="#tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_icgraph" alt=""/></div>
<map name="tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_icgraph" id="tnc_8c_a4a07029bc1a7b847675eec1555f0b9e8_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="157,436,284,463"/>
<area shape="rect" id="node3" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="538,436,694,463"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="762,183,879,209"/>
<area shape="rect" id="node47" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="332,588,487,615"/>
<area shape="rect" id="node17" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="767,284,874,311"/>
<area shape="rect" id="node18" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="757,487,884,513"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="945,639,1092,665"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="755,436,887,463"/>
<area shape="rect" id="node5" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1544,5,1667,32"/>
<area shape="rect" id="node7" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1159,132,1279,159"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1716,157,1847,184"/>
<area shape="rect" id="node8" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1378,132,1463,159"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1566,233,1645,260"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1359,31,1483,57"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1348,436,1493,463"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1350,335,1491,361"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1734,360,1829,387"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1551,563,1659,589"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1715,537,1848,564"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1551,411,1659,437"/>
<area shape="rect" id="node19" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="967,487,1070,513"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1161,816,1277,843"/>
<area shape="rect" id="node22" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1375,740,1466,767"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1374,1044,1467,1071"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1379,1095,1462,1121"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1382,791,1459,817"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1375,841,1466,868"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1377,689,1464,716"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1376,892,1465,919"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1373,943,1469,969"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1369,993,1472,1020"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1562,867,1649,893"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="969,436,1069,463"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="971,385,1067,412"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="1141,689,1297,716"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="955,335,1082,361"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1166,233,1273,260"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="944,537,1093,564"/>
<area shape="rect" id="node36" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="1345,588,1496,615"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1357,487,1484,513"/>
<area shape="rect" id="node41" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="1142,487,1297,513"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="1368,233,1473,260"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="1163,588,1275,615"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1148,639,1291,665"/>
<area shape="rect" id="node45" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1345,537,1496,564"/>
<area shape="rect" id="node46" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1154,740,1285,767"/>
<area shape="rect" id="node48" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="535,639,697,665"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="955,740,1083,767"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="745,689,896,716"/>
</map>
</div>

</div>
</div>
<a id="a3a388ce018049e8a7da4da512f8e1dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a388ce018049e8a7da4da512f8e1dcf">&#9670;&nbsp;</a></span>ubifs_dirty_idx_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_dirty_idx_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_dirty_idx_node - dirty an index node. <code></code>: UBIFS file-system description object : index node key : index node level : index node LEB number : index node offset</p>
<p>This function loads and dirties an index node so that it can be garbage collected. The  argument has to be the key of the first child. This function relies on the fact that 0:0 is never a valid LEB number and offset for a main-area node. Returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_cgraph.png" border="0" usemap="#tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_cgraph" alt=""/></div>
<map name="tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_cgraph" id="tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="720,206,823,233"/>
<area shape="rect" id="node29" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="195,678,341,705"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2334,79,2409,106"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1282,254,1405,281"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1654,54,1737,81"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1648,105,1743,131"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="883,54,1032,81"/>
<area shape="rect" id="node26" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="916,257,999,283"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="1109,279,1192,306"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="913,358,1002,385"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1481,254,1570,281"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1637,443,1754,470"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2006,621,2078,647"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1980,291,2104,318"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="2175,167,2250,194"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="2153,421,2273,447"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2330,446,2413,473"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1815,545,1922,571"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1805,494,1932,521"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="2175,370,2250,397"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="2161,319,2264,346"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="2165,269,2260,295"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="2152,218,2273,245"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2330,370,2413,397"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2332,243,2411,270"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2321,294,2421,321"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2332,142,2411,169"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2331,193,2412,219"/>
<area shape="rect" id="node30" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="398,729,501,755"/>
<area shape="rect" id="node31" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="389,678,509,705"/>
<area shape="rect" id="node32" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="557,798,660,825"/>
<area shape="rect" id="node33" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="563,618,655,645"/>
<area shape="rect" id="node48" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="563,678,655,705"/>
<area shape="rect" id="node50" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1817,747,1920,774"/>
<area shape="rect" id="node34" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="720,607,823,634"/>
<area shape="rect" id="node35" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="887,570,1028,597"/>
<area shape="rect" id="node36" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1092,494,1209,521"/>
<area shape="rect" id="node37" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1269,494,1417,521"/>
<area shape="rect" id="node43" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1093,595,1209,622"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1080,443,1221,470"/>
<area shape="rect" id="node38" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1633,646,1757,673"/>
<area shape="rect" id="node39" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1465,494,1585,521"/>
<area shape="rect" id="node40" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1467,646,1584,673"/>
<area shape="rect" id="node41" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1467,595,1584,622"/>
<area shape="rect" id="node42" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1465,443,1585,470"/>
<area shape="rect" id="node44" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="1290,646,1397,673"/>
<area shape="rect" id="node45" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1287,545,1400,571"/>
<area shape="rect" id="node46" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1283,595,1404,622"/>
<area shape="rect" id="node49" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="708,678,835,705"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_icgraph.png" border="0" usemap="#tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_icgraph" alt=""/></div>
<map name="tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_icgraph" id="tnc_8c_a3a388ce018049e8a7da4da512f8e1dcf_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="195,1019,367,1045"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="415,791,563,817"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="765,1272,923,1299"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="611,487,717,513"/>
<area shape="rect" id="node34" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="633,791,695,817"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="781,259,907,285"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="989,1044,1105,1071"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="978,31,1115,57"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="975,107,1118,133"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="983,157,1110,184"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="987,259,1107,285"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="985,208,1109,235"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="974,360,1119,387"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="971,309,1123,336"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1205,1019,1296,1045"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1204,1221,1297,1248"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1209,1120,1292,1147"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1212,867,1289,893"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1205,917,1296,944"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1207,968,1294,995"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1206,1069,1295,1096"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1203,1171,1299,1197"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1199,1272,1302,1299"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1412,1120,1508,1147"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1417,461,1503,488"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1201,5,1300,32"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1410,208,1510,235"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1189,107,1312,133"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1175,56,1326,83"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1197,157,1304,184"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1201,360,1300,387"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1393,613,1527,640"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1589,613,1663,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1202,309,1299,336"/>
<area shape="rect" id="node35" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="781,791,907,817"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="977,791,1116,817"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1189,563,1312,589"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1194,613,1307,640"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1211,664,1291,691"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1171,715,1331,741"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1405,765,1515,792"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1379,537,1541,564"/>
<area shape="rect" id="node43" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1217,765,1285,792"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1000,1323,1093,1349"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="984,1399,1109,1425"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="983,1221,1110,1248"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1196,1373,1305,1400"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1413,1373,1507,1400"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1189,1424,1312,1451"/>
</map>
</div>

</div>
</div>
<a id="a2004703a60d098f1644d4f3e25338759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2004703a60d098f1644d4f3e25338759">&#9670;&nbsp;</a></span>ubifs_lookup_level0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lookup_level0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lookup_level0 - search for zero-level znode. <code></code>: UBIFS file-system description object : key to lookup : znode is returned here <br />
: znode branch slot number is returned here</p>
<p>This function looks up the TNC tree and search for zero-level znode which refers key . The found zero-level znode is returned in . There are 3 cases: o exact match, i.e. the found zero-level znode contains key , then %1 is returned and slot number of the matched branch is stored in <br />
; o not exact match, which means that zero-level znode does not contain , then %0 is returned and slot number of the closest branch is stored in <br />
; o  is so small that it is even less than the lowest key of the leftmost zero-level node, then %0 is returned and %0 is stored in <br />
.</p>
<p>Note, when the TNC tree is traversed, some znodes may be absent, then this function reads corresponding indexing nodes and inserts them to TNC. In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a2004703a60d098f1644d4f3e25338759_cgraph.png" border="0" usemap="#tnc_8c_a2004703a60d098f1644d4f3e25338759_cgraph" alt=""/></div>
<map name="tnc_8c_a2004703a60d098f1644d4f3e25338759_cgraph" id="tnc_8c_a2004703a60d098f1644d4f3e25338759_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1509,123,1583,149"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="507,220,629,247"/>
<area shape="rect" id="node22" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="832,93,915,120"/>
<area shape="rect" id="node23" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="826,43,921,69"/>
<area shape="rect" id="node24" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="309,144,459,171"/>
<area shape="rect" id="node25" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="189,195,261,221"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="677,220,767,247"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="815,397,932,424"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1181,397,1253,424"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1155,347,1279,373"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1350,549,1425,576"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1327,207,1447,233"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1505,492,1587,519"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="990,448,1097,475"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="980,397,1107,424"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1350,439,1425,465"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1336,312,1439,339"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1340,363,1435,389"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1327,260,1448,287"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1505,439,1587,465"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1507,331,1585,357"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1496,179,1596,205"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1507,229,1585,256"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1505,280,1587,307"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="343,195,425,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a2004703a60d098f1644d4f3e25338759_icgraph.png" border="0" usemap="#tnc_8c_a2004703a60d098f1644d4f3e25338759_icgraph" alt=""/></div>
<map name="tnc_8c_a2004703a60d098f1644d4f3e25338759_icgraph" id="tnc_8c_a2004703a60d098f1644d4f3e25338759_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="215,787,328,813"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="220,863,323,889"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="213,724,330,751"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="193,171,349,197"/>
<area shape="rect" id="node24" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="218,613,325,640"/>
<area shape="rect" id="node25" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="220,667,323,693"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="198,461,345,488"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="189,309,353,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="205,917,337,944"/>
<area shape="rect" id="node47" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="605,1095,760,1121"/>
<area shape="rect" id="node49" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="203,1171,340,1197"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="437,816,522,843"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="607,917,759,944"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1007,855,1100,881"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="810,1019,937,1045"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="418,765,541,792"/>
<area shape="rect" id="node11" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="419,664,539,691"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="808,816,939,843"/>
<area shape="rect" id="node12" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="640,664,725,691"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="643,765,722,792"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="621,208,745,235"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="610,563,755,589"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="612,613,753,640"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="826,613,921,640"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="819,461,927,488"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="987,512,1120,539"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="819,512,927,539"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="412,81,547,108"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="626,5,739,32"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="421,360,537,387"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="637,461,728,488"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="636,259,729,285"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="641,309,724,336"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="644,360,721,387"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="637,411,728,437"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="639,512,726,539"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="638,56,727,83"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="635,107,731,133"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="631,157,734,184"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="407,309,552,336"/>
<area shape="rect" id="node39" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="413,208,546,235"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="405,715,554,741"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="429,968,529,995"/>
<area shape="rect" id="node43" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="431,917,527,944"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="401,512,557,539"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="416,1019,543,1045"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="629,1044,736,1071"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="812,1095,935,1121"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="410,1171,549,1197"/>
</map>
</div>

</div>
</div>
<a id="a0f9bccdd201d5b2525ba901e00ece03f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9bccdd201d5b2525ba901e00ece03f">&#9670;&nbsp;</a></span>ubifs_tnc_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_add - add a node to TNC. <code></code>: UBIFS file-system description object : key to add : LEB number of node : node offset : node length</p>
<p>This function adds a node with key  to TNC. The node may be new or it may obsolete some existing one. Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_cgraph.png" border="0" usemap="#tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_cgraph" alt=""/></div>
<map name="tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_cgraph" id="tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="156,380,289,407"/>
<area shape="rect" id="node12" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="964,31,1067,57"/>
<area shape="rect" id="node23" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="976,1145,1055,1172"/>
<area shape="rect" id="node24" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="553,689,631,716"/>
<area shape="rect" id="node42" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="189,1247,257,1273"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="537,1440,647,1467"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="723,132,845,159"/>
<area shape="rect" id="node7" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1194,1196,1277,1223"/>
<area shape="rect" id="node8" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1188,81,1283,108"/>
<area shape="rect" id="node9" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="532,323,652,349"/>
<area shape="rect" id="node18" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="941,1247,1090,1273"/>
<area shape="rect" id="node19" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="375,195,447,221"/>
<area shape="rect" id="node21" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="964,335,1067,361"/>
<area shape="rect" id="node22" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="337,380,484,407"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="971,132,1060,159"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1394,892,1466,919"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1393,132,1467,159"/>
<area shape="rect" id="node10" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="733,233,835,260"/>
<area shape="rect" id="node11" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="738,183,830,209"/>
<area shape="rect" id="node16" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="738,284,830,311"/>
<area shape="rect" id="node17" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="964,284,1067,311"/>
<area shape="rect" id="node13" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1165,31,1306,57"/>
<area shape="rect" id="node14" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1371,5,1489,32"/>
<area shape="rect" id="node15" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1356,56,1504,83"/>
<area shape="rect" id="node20" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="551,183,633,209"/>
<area shape="rect" id="node25" href="tnc_8c.html#adfd8f1092141f1581ecab599e8d16f33" title="insert_zbranch" alt="" coords="731,588,837,615"/>
<area shape="rect" id="node26" href="tnc_8c.html#abf6349d876e412d65df3eb84b8b5f8d9" title="correct_parent_keys" alt="" coords="714,1044,854,1071"/>
<area shape="rect" id="node27" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307" title="ins_clr_old_idx_znode" alt="" coords="709,537,859,564"/>
<area shape="rect" id="node28" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="745,740,823,767"/>
<area shape="rect" id="node29" href="ext4_2namei_8c.html#a3683941965548067158993f202128332" title="do_split" alt="" coords="751,689,817,716"/>
<area shape="rect" id="node30" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1208,816,1263,843"/>
<area shape="rect" id="node31" href="ext4_2namei_8c.html#a82c050e0e49a172d1ee0195fb6c3db52" title="ext4_append" alt="" coords="967,943,1063,969"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#a9e7848d42730d7068a75f295d4cba2f5" title="dx_make_map" alt="" coords="962,993,1069,1020"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#a235ebd6612e5cfcce605473f5b56ab42" title="dx_sort_map" alt="" coords="967,436,1064,463"/>
<area shape="rect" id="node34" href="ext4_2namei_8c.html#aa13a8413038131a81178693f0de0208f" title="dx_get_block" alt="" coords="966,487,1065,513"/>
<area shape="rect" id="node35" href="ext4_2namei_8c.html#a377ced031d5322b9c84627f5d2e0162e" title="dx_move_dirents" alt="" coords="955,689,1076,716"/>
<area shape="rect" id="node36" href="ext4_8h.html#af96e643b3e5b9c3a91a8c9981f0232a6" title="ext4_rec_len_to_disk" alt="" coords="1163,613,1308,640"/>
<area shape="rect" id="node37" href="ext4_2namei_8c.html#a57d3e5ea31cc4de0c3c45ffc1a68b8d3" title="dx_pack_dirents" alt="" coords="957,385,1074,412"/>
<area shape="rect" id="node38" href="ext4_2namei_8c.html#a8a459e6a70aa99bf6980500f6ddc6ea9" title="initialize_dirent_tail" alt="" coords="949,588,1081,615"/>
<area shape="rect" id="node39" href="ext4_2namei_8c.html#a939d80861b489fe488becc9e0d1f6b61" title="dx_insert_block" alt="" coords="959,892,1072,919"/>
<area shape="rect" id="node40" href="ext4_2namei_8c.html#aba40ee3fc4ea94fc3bff342d819a7fb1" title="ext4_handle_dirty_dirent_node" alt="" coords="916,791,1115,817"/>
<area shape="rect" id="node41" href="ext4_2namei_8c.html#a2627063910f74b8e9f5b4f57ac7c7fe2" title="ext4_handle_dirty_dx_node" alt="" coords="925,841,1105,868"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="721,1389,847,1416"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="947,1610,1083,1651"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="721,1339,847,1365"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="941,1399,1090,1425"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1194,1449,1277,1476"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="950,1500,1081,1527"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="700,1592,868,1619"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_icgraph.png" border="0" usemap="#tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_icgraph" alt=""/></div>
<map name="tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_icgraph" id="tnc_8c_a0f9bccdd201d5b2525ba901e00ece03f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="174,335,290,361"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="163,664,301,691"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="161,765,303,792"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="169,613,295,640"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="172,563,292,589"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="170,715,294,741"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="159,63,305,89"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="156,171,308,197"/>
<area shape="rect" id="node36" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="167,841,297,868"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="386,107,477,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="385,208,478,235"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="390,512,473,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="393,259,470,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="386,309,477,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="388,360,475,387"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="387,411,476,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="383,461,479,488"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="380,157,483,184"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="569,56,677,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="754,5,887,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="967,56,1041,83"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="740,56,901,83"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="575,512,671,539"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="580,563,667,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="771,588,871,615"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="382,664,481,691"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="567,664,680,691"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="573,715,673,741"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="773,715,868,741"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="370,765,493,792"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="356,816,507,843"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="562,816,685,843"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="570,613,677,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="574,5,673,32"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="383,56,480,83"/>
<area shape="rect" id="node37" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="372,867,491,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="555,867,692,893"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="774,867,867,893"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="949,867,1059,893"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1107,867,1200,893"/>
</map>
</div>

</div>
</div>
<a id="a76f4b8ea4414cb096acbac0c4ae433c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f4b8ea4414cb096acbac0c4ae433c9">&#9670;&nbsp;</a></span>ubifs_tnc_add_nm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_add_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_add_nm - add a "hashed" node to TNC. <code></code>: UBIFS file-system description object : key to add : LEB number of node : node offset : node length : node name</p>
<p>This is the same as '<a class="el" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f">ubifs_tnc_add()</a>' but it should be used with keys which may have collisions, like directory entry keys. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph.png" border="0" usemap="#tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph" alt=""/></div>
<map name="tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph" id="tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="395,475,528,501"/>
<area shape="rect" id="node12" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1216,1057,1319,1084"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1027,551,1130,577"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="591,652,737,679"/>
<area shape="rect" id="node25" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="380,171,543,197"/>
<area shape="rect" id="node30" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="402,235,521,261"/>
<area shape="rect" id="node33" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="835,905,903,932"/>
<area shape="rect" id="node34" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="1039,1673,1118,1700"/>
<area shape="rect" id="node35" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="625,1564,703,1591"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="609,1159,719,1185"/>
<area shape="rect" id="node49" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="181,627,332,653"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1017,207,1140,233"/>
<area shape="rect" id="node7" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1409,435,1491,461"/>
<area shape="rect" id="node8" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1403,308,1497,335"/>
<area shape="rect" id="node9" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="809,703,929,729"/>
<area shape="rect" id="node20" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1004,652,1153,679"/>
<area shape="rect" id="node21" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="628,196,700,223"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1223,207,1312,233"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1604,1159,1676,1185"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1603,308,1677,335"/>
<area shape="rect" id="node10" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="1027,601,1130,628"/>
<area shape="rect" id="node11" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="1033,753,1125,780"/>
<area shape="rect" id="node18" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="1033,703,1125,729"/>
<area shape="rect" id="node19" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1027,804,1130,831"/>
<area shape="rect" id="node13" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1379,1580,1521,1607"/>
<area shape="rect" id="node14" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1581,1555,1699,1581"/>
<area shape="rect" id="node15" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1759,1631,1907,1657"/>
<area shape="rect" id="node16" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1582,1656,1698,1683"/>
<area shape="rect" id="node17" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1569,1504,1711,1531"/>
<area shape="rect" id="node22" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="828,196,911,223"/>
<area shape="rect" id="node26" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="1001,55,1156,81"/>
<area shape="rect" id="node29" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="628,145,700,172"/>
<area shape="rect" id="node27" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1204,105,1331,132"/>
<area shape="rect" id="node28" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1209,156,1325,183"/>
<area shape="rect" id="node31" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="1023,156,1134,183"/>
<area shape="rect" id="node32" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1379,717,1521,744"/>
<area shape="rect" id="node36" href="tnc_8c.html#adfd8f1092141f1581ecab599e8d16f33" title="insert_zbranch" alt="" coords="816,1159,923,1185"/>
<area shape="rect" id="node37" href="tnc_8c.html#abf6349d876e412d65df3eb84b8b5f8d9" title="correct_parent_keys" alt="" coords="799,1513,939,1540"/>
<area shape="rect" id="node38" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307" title="ins_clr_old_idx_znode" alt="" coords="794,1665,945,1692"/>
<area shape="rect" id="node39" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="830,1716,909,1743"/>
<area shape="rect" id="node40" href="ext4_2namei_8c.html#a3683941965548067158993f202128332" title="do_split" alt="" coords="836,1615,903,1641"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="806,1057,933,1084"/>
<area shape="rect" id="node43" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="1011,1362,1147,1403"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="806,1209,933,1236"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="1004,1311,1153,1337"/>
<area shape="rect" id="node46" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1226,1213,1309,1240"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1013,956,1144,983"/>
<area shape="rect" id="node48" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="785,1361,953,1388"/>
<area shape="rect" id="node50" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="623,728,705,755"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph.png" border="0" usemap="#tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph" alt=""/></div>
<map name="tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph" id="tnc_8c_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="189,233,305,260"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="183,512,310,539"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="187,461,307,488"/>
<area shape="rect" id="node22" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="181,563,312,589"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="374,157,465,184"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="373,208,466,235"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="378,259,461,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="381,309,458,336"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="374,360,465,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="376,411,463,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="375,5,464,32"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="371,56,467,83"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="368,107,471,133"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="541,157,649,184"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="726,107,859,133"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="939,157,1013,184"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="712,157,873,184"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="547,259,643,285"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="552,461,639,488"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="743,487,843,513"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="542,512,649,539"/>
<area shape="rect" id="node23" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="360,563,479,589"/>
<area shape="rect" id="node24" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="527,563,664,589"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="746,563,839,589"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="921,563,1031,589"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1079,563,1172,589"/>
</map>
</div>

</div>
</div>
<a id="ae7748d9645dfee9cdc9c0d62afd5a50d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7748d9645dfee9cdc9c0d62afd5a50d">&#9670;&nbsp;</a></span>ubifs_tnc_bulk_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_bulk_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbu__info.html">bu_info</a> *&#160;</td>
          <td class="paramname"><em>bu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_bulk_read - read a number of data nodes in one go. <code></code>: UBIFS file-system description object : bulk-read parameters and results</p>
<p>This functions reads and validates the data nodes that were identified by the '<a class="el" href="tnc_8c.html#a45a85587c22ac5f315c3fe1d76a9301e">ubifs_tnc_get_bu_keys()</a>' function. This functions returns %0 on success, -EAGAIN to indicate a race with GC, or another negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph.png" border="0" usemap="#tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph" alt=""/></div>
<map name="tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph" id="tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="575,132,647,159"/>
<area shape="rect" id="node3" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="204,56,315,83"/>
<area shape="rect" id="node4" href="tnc_8c.html#a053bcfb703360c8d2a4f2474ee8569a1" title="read_wbuf" alt="" coords="218,107,301,133"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="385,107,491,133"/>
<area shape="rect" id="node6" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="199,208,319,235"/>
<area shape="rect" id="node7" href="tnc_8c.html#ab54327c23143999c0f58a686e0d3f303" title="validate_data_node" alt="" coords="192,259,327,285"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="375,208,501,235"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="549,208,673,235"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="745,309,819,336"/>
<area shape="rect" id="node23" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="403,360,473,387"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="745,56,819,83"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="731,107,833,133"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="735,157,829,184"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="721,208,843,235"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="722,259,842,285"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="899,5,982,32"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="899,56,982,83"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="903,107,978,133"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="901,157,980,184"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="891,208,991,235"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="901,259,980,285"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="900,309,981,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph.png" border="0" usemap="#tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph" alt=""/></div>
<map name="tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph" id="tnc_8c_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="192,5,327,32"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="375,5,488,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="536,5,647,32"/>
</map>
</div>

</div>
</div>
<a id="a0250b1b8a26f9ab4196fbec0dff74b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0250b1b8a26f9ab4196fbec0dff74b14">&#9670;&nbsp;</a></span>ubifs_tnc_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_tnc_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_close - close TNC subsystem and free all related resources. <code></code>: UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph.png" border="0" usemap="#tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph" alt=""/></div>
<map name="tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph" id="tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a482a899cade80092e7af9709cc937886" title="tnc_destroy_cnext" alt="" coords="189,19,319,45"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#ae1aa3c1bb2237d83c49c68290edc9c7e" title="ubifs_destroy_tnc_subtree" alt="" coords="167,95,341,121"/>
<area shape="rect" id="node9" href="tnc_8c.html#a01e38c99f12ee3c060c9214d14ec62f3" title="destroy_old_idx" alt="" coords="197,145,311,172"/>
<area shape="rect" id="node3" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="410,5,537,32"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="605,91,741,133"/>
<area shape="rect" id="node7" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="422,107,525,133"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="389,157,557,184"/>
<area shape="rect" id="node6" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="789,128,927,155"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph.png" border="0" usemap="#tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph" alt=""/></div>
<map name="tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph" id="tnc_8c_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="167,31,277,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="329,5,422,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="325,56,425,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="476,5,585,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="636,5,729,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="473,56,588,83"/>
</map>
</div>

</div>
</div>
<a id="a45a85587c22ac5f315c3fe1d76a9301e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a85587c22ac5f315c3fe1d76a9301e">&#9670;&nbsp;</a></span>ubifs_tnc_get_bu_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_get_bu_keys </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbu__info.html">bu_info</a> *&#160;</td>
          <td class="paramname"><em>bu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_get_bu_keys - lookup keys for bulk-read. <code></code>: UBIFS file-system description object : bulk-read parameters and results</p>
<p>Lookup consecutive data node keys for the same inode that reside consecutively in the same LEB. This function returns zero in case of success and a negative error code in case of failure.</p>
<p>Note, if the bulk-read buffer length (-&gt;buf_len) is known, this function makes sure bulk-read nodes fit the buffer. Otherwise, this function prepares maximum possible amount of nodes for bulk-read. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_cgraph.png" border="0" usemap="#tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_cgraph" alt=""/></div>
<map name="tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_cgraph" id="tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1709,5,1791,32"/>
<area shape="rect" id="node3" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="209,563,345,589"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1713,613,1787,640"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1711,157,1789,184"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="393,411,465,437"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="711,487,833,513"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1036,664,1119,691"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1030,613,1125,640"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="513,664,663,691"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="393,461,465,488"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="881,487,971,513"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1019,309,1136,336"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1385,360,1457,387"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1359,309,1483,336"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1554,436,1629,463"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1531,487,1651,513"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1709,208,1791,235"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1194,360,1301,387"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1184,309,1311,336"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1554,259,1629,285"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1540,309,1643,336"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1544,360,1639,387"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1531,56,1652,83"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1709,259,1791,285"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1700,107,1800,133"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1711,56,1789,83"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="547,461,629,488"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_icgraph.png" border="0" usemap="#tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_icgraph" alt=""/></div>
<map name="tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_icgraph" id="tnc_8c_a45a85587c22ac5f315c3fe1d76a9301e_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="209,5,344,32"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="392,5,505,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="553,5,664,32"/>
</map>
</div>

</div>
</div>
<a id="a6a4e198020559a2622dfb16bdc5b3b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4e198020559a2622dfb16bdc5b3b24">&#9670;&nbsp;</a></span>ubifs_tnc_has_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_has_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_has_node - determine whether a node is in the TNC. <code></code>: UBIFS file-system description object : node key : index node level (if it is an index node) : node LEB number : node offset : non-zero if the node is an index node</p>
<p>This function returns %1 if the node is in the TNC, %0 if it is not, and a negative error code in case of failure. For index nodes,  has to be the key of the first child. An index node is considered to be in the TNC only if the corresponding znode is clean or has not been loaded. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_cgraph.png" border="0" usemap="#tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_cgraph" alt=""/></div>
<map name="tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_cgraph" id="tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="194,259,327,285"/>
<area shape="rect" id="node31" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="192,537,329,564"/>
<area shape="rect" id="node3" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="394,259,497,285"/>
<area shape="rect" id="node30" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="394,208,497,235"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1891,461,1966,488"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="889,297,1012,324"/>
<area shape="rect" id="node24" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1215,512,1297,539"/>
<area shape="rect" id="node25" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1209,563,1303,589"/>
<area shape="rect" id="node26" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="561,461,711,488"/>
<area shape="rect" id="node27" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="595,259,677,285"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="759,284,841,311"/>
<area shape="rect" id="node29" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="591,157,681,184"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1060,309,1149,336"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1197,208,1315,235"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1563,157,1635,184"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1537,259,1661,285"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1733,360,1807,387"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1710,411,1830,437"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1887,5,1970,32"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1373,157,1479,184"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1363,208,1489,235"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1733,56,1807,83"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1719,309,1821,336"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1723,259,1817,285"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1709,157,1831,184"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1887,56,1970,83"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1889,259,1968,285"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1879,107,1979,133"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1889,157,1968,184"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1888,208,1969,235"/>
<area shape="rect" id="node32" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="377,563,513,589"/>
<area shape="rect" id="node33" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="600,512,672,539"/>
<area shape="rect" id="node34" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="409,385,481,412"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_icgraph.png" border="0" usemap="#tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_icgraph" alt=""/></div>
<map name="tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_icgraph" id="tnc_8c_a6a4e198020559a2622dfb16bdc5b3b24_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="205,408,292,435"/>
<area shape="rect" id="node38" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="192,521,305,548"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="369,376,465,403"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="528,360,700,387"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="748,259,896,285"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1107,563,1264,589"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="948,259,1055,285"/>
<area shape="rect" id="node30" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="971,208,1032,235"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1123,360,1248,387"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1330,360,1446,387"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1319,31,1457,57"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1317,107,1459,133"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1325,208,1451,235"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1328,284,1448,311"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1326,411,1450,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1315,461,1461,488"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1312,512,1464,539"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1542,309,1633,336"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1541,461,1634,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1546,613,1629,640"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1549,360,1626,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1542,411,1633,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1544,259,1631,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1543,512,1632,539"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1539,563,1635,589"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1536,664,1639,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1714,411,1801,437"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1538,5,1637,32"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1526,56,1649,83"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1512,107,1663,133"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1534,157,1641,184"/>
<area shape="rect" id="node31" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1123,259,1248,285"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1341,703,1435,729"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1325,627,1451,653"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1325,563,1451,589"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1533,715,1642,741"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1711,715,1804,741"/>
<area shape="rect" id="node39" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="353,648,480,675"/>
<area shape="rect" id="node40" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="571,648,657,675"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="551,816,677,843"/>
<area shape="rect" id="node41" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="946,664,1057,691"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="759,537,885,564"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1128,664,1243,691"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="950,613,1053,640"/>
<area shape="rect" id="node45" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="944,512,1059,539"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="771,765,873,792"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="764,816,880,843"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="765,867,879,893"/>
<area shape="rect" id="node50" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="773,917,871,944"/>
</map>
</div>

</div>
</div>
<a id="a93e762f5309412966e944b237a2c03c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e762f5309412966e944b237a2c03c3">&#9670;&nbsp;</a></span>ubifs_tnc_locate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_locate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_locate - look up a file-system node and return it and its location. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : LEB number is returned here : offset is returned here</p>
<p>This function looks up and reads node with key . The caller has to make sure the  buffer is large enough to fit the node. Returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. The node location can be returned in  and . </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a93e762f5309412966e944b237a2c03c3_cgraph.png" border="0" usemap="#tnc_8c_a93e762f5309412966e944b237a2c03c3_cgraph" alt=""/></div>
<map name="tnc_8c_a93e762f5309412966e944b237a2c03c3_cgraph" id="tnc_8c_a93e762f5309412966e944b237a2c03c3_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="171,245,307,272"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1158,549,1253,576"/>
<area shape="rect" id="node28" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="552,575,708,601"/>
<area shape="rect" id="node29" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="959,144,1086,171"/>
<area shape="rect" id="node31" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="756,651,899,677"/>
<area shape="rect" id="node32" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="967,1208,1078,1235"/>
<area shape="rect" id="node39" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="179,752,299,779"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1853,347,1927,373"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="766,347,889,373"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1164,43,1247,69"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="355,144,504,171"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="393,397,465,424"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="978,347,1067,373"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1147,955,1264,981"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1525,625,1597,652"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1499,904,1623,931"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1694,271,1769,297"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1671,713,1791,740"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1849,1131,1931,1157"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1328,701,1435,728"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1318,904,1445,931"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1694,1004,1769,1031"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1680,916,1783,943"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1684,764,1779,791"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1671,815,1792,841"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1849,1004,1931,1031"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1851,891,1929,917"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1840,739,1940,765"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1851,789,1929,816"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1849,840,1931,867"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="589,397,671,424"/>
<area shape="rect" id="node36" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="989,600,1056,627"/>
<area shape="rect" id="node30" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1153,448,1257,475"/>
<area shape="rect" id="node33" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="947,865,1099,892"/>
<area shape="rect" id="node35" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="987,651,1058,677"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1165,853,1246,880"/>
<area shape="rect" id="node37" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1312,803,1451,829"/>
<area shape="rect" id="node38" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1505,803,1616,829"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a93e762f5309412966e944b237a2c03c3_icgraph.png" border="0" usemap="#tnc_8c_a93e762f5309412966e944b237a2c03c3_icgraph" alt=""/></div>
<map name="tnc_8c_a93e762f5309412966e944b237a2c03c3_icgraph" id="tnc_8c_a93e762f5309412966e944b237a2c03c3_icgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="171,157,293,184"/>
<area shape="rect" id="node20" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="172,259,292,285"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="535,107,665,133"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="730,107,823,133"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="714,56,839,83"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="713,208,840,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="914,56,1023,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1099,56,1192,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="907,5,1030,32"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="902,360,1035,387"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="922,208,1015,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="927,259,1010,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="924,309,1013,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="921,107,1017,133"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="917,157,1020,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1109,385,1182,412"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1097,233,1193,260"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1102,284,1189,311"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1241,284,1341,311"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="371,487,457,513"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="375,259,453,285"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="352,157,476,184"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="341,360,487,387"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="343,309,485,336"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="552,563,648,589"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="715,664,838,691"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="907,639,1030,665"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="720,613,833,640"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="721,563,832,589"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="562,259,638,285"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="553,309,647,336"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="723,411,831,437"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="723,461,831,488"/>
<area shape="rect" id="node30" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="888,461,1049,488"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="932,512,1005,539"/>
<area shape="rect" id="node33" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="888,563,1049,589"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="550,31,650,57"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="729,5,824,32"/>
</map>
</div>

</div>
</div>
<a id="a1e6f5ed6702d98146cc08a882918cb99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6f5ed6702d98146cc08a882918cb99">&#9670;&nbsp;</a></span>ubifs_tnc_lookup_dh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_lookup_dh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_lookup_dh - look up a "double hashed" node. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : node cookie for collision resolution</p>
<p>This function looks up and reads a node which contains name hash in the key. Since the hash may have collisions, there may be many nodes with the same key, so we have to sequentially look to all of them until the needed one with the same cookie value is found. This function returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_cgraph.png" border="0" usemap="#tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_cgraph" alt=""/></div>
<map name="tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_cgraph" id="tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="195,968,315,995"/>
<area shape="rect" id="node42" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="370,1297,473,1324"/>
<area shape="rect" id="node3" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="363,892,480,919"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="528,1019,664,1045"/>
<area shape="rect" id="node26" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1438,1221,1533,1248"/>
<area shape="rect" id="node30" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="832,867,988,893"/>
<area shape="rect" id="node31" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1239,715,1366,741"/>
<area shape="rect" id="node33" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1036,537,1179,564"/>
<area shape="rect" id="node34" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1247,5,1358,32"/>
<area shape="rect" id="node41" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="536,917,656,944"/>
<area shape="rect" id="node5" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2133,1095,2207,1121"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1046,1069,1169,1096"/>
<area shape="rect" id="node25" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1444,816,1527,843"/>
<area shape="rect" id="node27" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="835,816,985,843"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="712,1069,784,1096"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1258,917,1347,944"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1427,563,1544,589"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1805,411,1877,437"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1779,816,1903,843"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1974,411,2049,437"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1951,968,2071,995"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2129,411,2211,437"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1608,360,1715,387"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1598,461,1725,488"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1974,664,2049,691"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1960,867,2063,893"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1964,816,2059,843"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1951,917,2072,944"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2129,664,2211,691"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2131,1475,2209,1501"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2120,943,2220,969"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2131,1297,2209,1324"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2129,892,2211,919"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="869,1069,951,1096"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1269,1019,1336,1045"/>
<area shape="rect" id="node32" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1433,309,1537,336"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1227,461,1379,488"/>
<area shape="rect" id="node37" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1267,512,1338,539"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1445,461,1526,488"/>
<area shape="rect" id="node39" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1592,1171,1731,1197"/>
<area shape="rect" id="node40" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1785,1171,1896,1197"/>
<area shape="rect" id="node43" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="536,1323,656,1349"/>
<area shape="rect" id="node44" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="533,1373,659,1400"/>
<area shape="rect" id="node45" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="712,1323,784,1349"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_icgraph.png" border="0" usemap="#tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_icgraph" alt=""/></div>
<map name="tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_icgraph" id="tnc_8c_a1e6f5ed6702d98146cc08a882918cb99_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="195,5,289,32"/>
</map>
</div>

</div>
</div>
<a id="a8acd7162c6b75b30de6dc29c1f0f292a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acd7162c6b75b30de6dc29c1f0f292a">&#9670;&nbsp;</a></span>ubifs_tnc_lookup_nm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_lookup_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_lookup_nm - look up a "hashed" node. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : node name</p>
<p>This function looks up and reads a node which contains name hash in the key. Since the hash may have collisions, there may be many nodes with the same key, so we have to sequentially look to all of them until the needed one is found. This function returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph.png" border="0" usemap="#tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph" alt=""/></div>
<map name="tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph" id="tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="199,667,319,694"/>
<area shape="rect" id="node42" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="372,616,479,643"/>
<area shape="rect" id="node3" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="367,718,484,744"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="532,667,668,694"/>
<area shape="rect" id="node26" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1449,262,1543,288"/>
<area shape="rect" id="node30" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="836,312,992,339"/>
<area shape="rect" id="node31" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1250,1098,1377,1124"/>
<area shape="rect" id="node33" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1043,743,1186,770"/>
<area shape="rect" id="node34" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1258,1047,1369,1074"/>
<area shape="rect" id="node41" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="540,1098,660,1124"/>
<area shape="rect" id="node5" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2143,211,2218,238"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1053,554,1176,580"/>
<area shape="rect" id="node25" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1455,1326,1537,1352"/>
<area shape="rect" id="node27" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1040,1199,1189,1226"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="716,642,788,668"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1269,464,1358,491"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1437,768,1555,795"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1815,920,1887,947"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1789,566,1913,592"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1985,768,2059,795"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1962,400,2082,427"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2139,996,2222,1023"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1619,971,1725,998"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1609,870,1735,896"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1985,718,2059,744"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1971,540,2073,567"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1975,591,2069,618"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1961,642,2083,668"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2139,743,2222,770"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2141,692,2220,719"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2131,540,2231,567"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2141,591,2220,618"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2140,642,2221,668"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="873,554,955,580"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1280,312,1347,339"/>
<area shape="rect" id="node32" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1444,1123,1548,1150"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1237,844,1389,871"/>
<area shape="rect" id="node37" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1278,718,1349,744"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1455,870,1537,896"/>
<area shape="rect" id="node39" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1603,160,1741,187"/>
<area shape="rect" id="node40" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1796,160,1907,187"/>
<area shape="rect" id="node43" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="541,591,659,618"/>
<area shape="rect" id="node44" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="859,211,969,238"/>
<area shape="rect" id="node46" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="716,414,788,440"/>
<area shape="rect" id="node45" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1438,160,1554,187"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph.png" border="0" usemap="#tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph" alt=""/></div>
<map name="tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph" id="tnc_8c_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="199,69,307,96"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="369,5,502,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="199,132,307,159"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="205,183,300,209"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="564,31,637,57"/>
<area shape="rect" id="node5" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="355,107,516,133"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="399,157,472,184"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="355,208,516,235"/>
</map>
</div>

</div>
</div>
<a id="aab11d1b085510e4c3a49e8ea79e84b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab11d1b085510e4c3a49e8ea79e84b14">&#9670;&nbsp;</a></span>ubifs_tnc_next_ent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a>* ubifs_tnc_next_ent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_cgraph.png" border="0" usemap="#tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_cgraph" alt=""/></div>
<map name="tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_cgraph" id="tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1915,321,1990,348"/>
<area shape="rect" id="node3" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1222,245,1317,272"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="199,296,335,323"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1913,1119,1992,1145"/>
<area shape="rect" id="node28" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="185,499,348,525"/>
<area shape="rect" id="node35" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="435,600,507,627"/>
<area shape="rect" id="node36" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="207,549,326,576"/>
<area shape="rect" id="node43" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="593,600,749,627"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="813,397,936,424"/>
<area shape="rect" id="node24" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1228,195,1311,221"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="396,195,545,221"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="435,448,507,475"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1031,448,1121,475"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1211,1157,1328,1184"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1587,1208,1659,1235"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1561,980,1685,1007"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1757,524,1831,551"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1734,397,1854,424"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1911,1429,1994,1456"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1397,1360,1503,1387"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1387,1208,1513,1235"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1757,1316,1831,1343"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1743,980,1845,1007"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1747,1031,1841,1057"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1733,929,1855,956"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1911,1316,1994,1343"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1903,879,2003,905"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1913,929,1992,956"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1912,980,1993,1007"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="630,448,713,475"/>
<area shape="rect" id="node29" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="797,549,952,576"/>
<area shape="rect" id="node30" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1013,499,1139,525"/>
<area shape="rect" id="node32" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1018,600,1134,627"/>
<area shape="rect" id="node31" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1217,1360,1321,1387"/>
<area shape="rect" id="node33" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1200,803,1339,829"/>
<area shape="rect" id="node34" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1395,853,1505,880"/>
<area shape="rect" id="node37" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="616,701,727,728"/>
<area shape="rect" id="node38" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="803,853,946,880"/>
<area shape="rect" id="node39" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1021,828,1131,855"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1000,1284,1152,1311"/>
<area shape="rect" id="node42" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1041,879,1111,905"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1229,1411,1310,1437"/>
<area shape="rect" id="node44" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1043,549,1109,576"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_icgraph.png" border="0" usemap="#tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_icgraph" alt=""/></div>
<map name="tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_icgraph" id="tnc_8c_aab11d1b085510e4c3a49e8ea79e84b14_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="213,43,313,69"/>
<area shape="rect" id="node3" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="215,93,311,120"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="185,144,341,171"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="200,245,327,272"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="413,195,520,221"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="392,575,541,601"/>
<area shape="rect" id="node5" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="423,144,510,171"/>
<area shape="rect" id="node6" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1535,43,1622,69"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="391,93,542,120"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1673,43,1773,69"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="819,195,897,221"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="600,397,727,424"/>
<area shape="rect" id="node39" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="389,397,544,424"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1017,93,1093,120"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1007,195,1102,221"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1363,473,1472,500"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="989,296,1120,323"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1176,195,1303,221"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1185,43,1293,69"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1351,43,1484,69"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1185,144,1293,171"/>
<area shape="rect" id="node17" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1532,473,1625,500"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1193,499,1286,525"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1177,372,1302,399"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1356,372,1479,399"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1371,144,1464,171"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1376,93,1459,120"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1373,195,1462,221"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1369,245,1465,272"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1366,296,1469,323"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="611,195,716,221"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="807,397,909,424"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="800,448,916,475"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="801,499,915,525"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="809,347,907,373"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1000,397,1109,424"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="993,448,1116,475"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="995,499,1115,525"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="1001,347,1108,373"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="797,549,919,576"/>
<area shape="rect" id="node42" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="607,600,719,627"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="592,549,735,576"/>
<area shape="rect" id="node46" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="783,701,933,728"/>
<area shape="rect" id="node48" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="598,651,729,677"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="813,600,903,627"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="981,561,1128,588"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="993,701,1116,728"/>
<area shape="rect" id="node49" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="799,651,917,677"/>
<area shape="rect" id="node50" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="986,637,1123,664"/>
</map>
</div>

</div>
</div>
<a id="a1a35dc3d88f050a79040c66540d2885f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a35dc3d88f050a79040c66540d2885f">&#9670;&nbsp;</a></span>ubifs_tnc_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove - remove an index entry of a node. <code></code>: UBIFS file-system description object : key of node</p>
<p>Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a1a35dc3d88f050a79040c66540d2885f_cgraph.png" border="0" usemap="#tnc_8c_a1a35dc3d88f050a79040c66540d2885f_cgraph" alt=""/></div>
<map name="tnc_8c_a1a35dc3d88f050a79040c66540d2885f_cgraph" id="tnc_8c_a1a35dc3d88f050a79040c66540d2885f_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="179,372,312,399"/>
<area shape="rect" id="node35" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="403,245,485,272"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="190,803,301,829"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="783,397,906,424"/>
<area shape="rect" id="node16" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1193,651,1276,677"/>
<area shape="rect" id="node17" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1187,296,1282,323"/>
<area shape="rect" id="node18" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="591,195,711,221"/>
<area shape="rect" id="node30" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="576,600,725,627"/>
<area shape="rect" id="node31" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="408,296,480,323"/>
<area shape="rect" id="node33" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="599,499,702,525"/>
<area shape="rect" id="node34" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="371,347,517,373"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="995,397,1085,424"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1176,853,1293,880"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1362,828,1486,855"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1579,791,1654,817"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1751,1157,1826,1184"/>
<area shape="rect" id="node14" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1557,569,1677,596"/>
<area shape="rect" id="node15" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1388,1107,1460,1133"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1556,1309,1677,1336"/>
<area shape="rect" id="node10" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1749,1233,1828,1260"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1739,1284,1839,1311"/>
<area shape="rect" id="node12" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1749,1335,1828,1361"/>
<area shape="rect" id="node13" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1748,1385,1829,1412"/>
<area shape="rect" id="node19" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="793,296,896,323"/>
<area shape="rect" id="node20" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="799,195,891,221"/>
<area shape="rect" id="node27" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="799,245,891,272"/>
<area shape="rect" id="node29" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="793,347,896,373"/>
<area shape="rect" id="node21" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="989,195,1091,221"/>
<area shape="rect" id="node22" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1164,195,1305,221"/>
<area shape="rect" id="node23" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1365,144,1483,171"/>
<area shape="rect" id="node24" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1543,169,1691,196"/>
<area shape="rect" id="node25" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1366,93,1482,120"/>
<area shape="rect" id="node26" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1353,195,1495,221"/>
<area shape="rect" id="node28" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="977,245,1103,272"/>
<area shape="rect" id="node32" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="609,347,692,373"/>
<area shape="rect" id="node36" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="617,93,685,120"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="585,1360,716,1387"/>
<area shape="rect" id="node38" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="579,245,723,272"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="381,752,507,779"/>
<area shape="rect" id="node41" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="583,1513,719,1554"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="381,803,507,829"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="576,853,725,880"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="803,651,886,677"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="360,1563,528,1589"/>
<area shape="rect" id="node42" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="776,1549,913,1576"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="773,980,916,1007"/>
<area shape="rect" id="node48" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1165,1259,1304,1285"/>
<area shape="rect" id="node46" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="985,1107,1095,1133"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="964,904,1116,931"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a1a35dc3d88f050a79040c66540d2885f_icgraph.png" border="0" usemap="#tnc_8c_a1a35dc3d88f050a79040c66540d2885f_icgraph" alt=""/></div>
<map name="tnc_8c_a1a35dc3d88f050a79040c66540d2885f_icgraph" id="tnc_8c_a1a35dc3d88f050a79040c66540d2885f_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="179,5,309,32"/>
<area shape="rect" id="node3" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="357,5,476,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="524,5,661,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="709,5,803,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="851,5,960,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1008,5,1101,32"/>
</map>
</div>

</div>
</div>
<a id="a6bae0dd5ac22531cbdfe78042f3f3a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bae0dd5ac22531cbdfe78042f3f3a7e">&#9670;&nbsp;</a></span>ubifs_tnc_remove_dh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_dh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_dh - remove an index entry for a "double hashed" node. <code></code>: UBIFS file-system description object : key of node : node cookie for collision resolution</p>
<p>Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph.png" border="0" usemap="#tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph" alt=""/></div>
<map name="tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph" id="tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="201,765,335,792"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="821,1019,924,1045"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="384,917,531,944"/>
<area shape="rect" id="node25" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="795,347,951,373"/>
<area shape="rect" id="node34" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="208,1120,328,1147"/>
<area shape="rect" id="node35" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="418,5,497,32"/>
<area shape="rect" id="node36" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="200,461,336,488"/>
<area shape="rect" id="node37" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="205,132,331,159"/>
<area shape="rect" id="node40" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="416,1095,499,1121"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="402,1576,513,1603"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="811,588,934,615"/>
<area shape="rect" id="node10" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1224,841,1307,868"/>
<area shape="rect" id="node11" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1218,537,1313,564"/>
<area shape="rect" id="node12" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="603,867,723,893"/>
<area shape="rect" id="node20" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="798,715,947,741"/>
<area shape="rect" id="node21" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="421,563,493,589"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1025,613,1115,640"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1389,1069,1507,1096"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1555,1044,1679,1071"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1727,1044,1801,1071"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1412,1284,1484,1311"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1411,537,1485,564"/>
<area shape="rect" id="node13" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="821,917,924,944"/>
<area shape="rect" id="node14" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="827,968,919,995"/>
<area shape="rect" id="node17" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="827,867,919,893"/>
<area shape="rect" id="node19" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="821,1221,924,1248"/>
<area shape="rect" id="node15" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1019,1171,1121,1197"/>
<area shape="rect" id="node16" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1195,1171,1336,1197"/>
<area shape="rect" id="node18" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1007,968,1133,995"/>
<area shape="rect" id="node22" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="621,563,704,589"/>
<area shape="rect" id="node26" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1007,335,1133,361"/>
<area shape="rect" id="node28" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="999,1373,1141,1400"/>
<area shape="rect" id="node32" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1037,436,1103,463"/>
<area shape="rect" id="node27" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1213,487,1317,513"/>
<area shape="rect" id="node29" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1210,1221,1321,1248"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1189,1373,1341,1400"/>
<area shape="rect" id="node31" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1230,1323,1301,1349"/>
<area shape="rect" id="node33" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1196,1120,1335,1147"/>
<area shape="rect" id="node38" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="418,56,497,83"/>
<area shape="rect" id="node39" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="421,208,493,235"/>
<area shape="rect" id="node41" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="629,1120,697,1147"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="807,1323,938,1349"/>
<area shape="rect" id="node43" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="591,1323,735,1349"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="599,1677,726,1704"/>
<area shape="rect" id="node46" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="805,1731,941,1773"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="599,1525,726,1552"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="798,1627,947,1653"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1029,1525,1111,1552"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="579,1728,747,1755"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph.png" border="0" usemap="#tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph" alt=""/></div>
<map name="tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph" id="tnc_8c_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="200,259,316,285"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="370,56,461,83"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="369,107,462,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="374,157,457,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="377,208,454,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="370,259,461,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="372,309,459,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="371,360,460,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="367,411,463,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="364,461,467,488"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="515,56,623,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="685,5,818,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="880,31,953,57"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="671,107,832,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="521,132,617,159"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="525,183,612,209"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="701,183,801,209"/>
</map>
</div>

</div>
</div>
<a id="a928b6fd97b873a391e906fa28720273e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928b6fd97b873a391e906fa28720273e">&#9670;&nbsp;</a></span>ubifs_tnc_remove_ino()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_ino </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_ino - remove an inode from TNC. <code></code>: UBIFS file-system description object : inode number to remove</p>
<p>This function remove inode  and all the extended attributes associated with the anode from TNC and returns zero in case of success or a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a928b6fd97b873a391e906fa28720273e_cgraph.png" border="0" usemap="#tnc_8c_a928b6fd97b873a391e906fa28720273e_cgraph" alt=""/></div>
<map name="tnc_8c_a928b6fd97b873a391e906fa28720273e_cgraph" id="tnc_8c_a928b6fd97b873a391e906fa28720273e_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="225,5,345,32"/>
<area shape="rect" id="node3" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="219,512,351,539"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1049,309,1124,336"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="207,1845,363,1872"/>
<area shape="rect" id="node31" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="209,1373,360,1400"/>
<area shape="rect" id="node47" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="229,1896,341,1923"/>
<area shape="rect" id="node48" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="227,1947,343,1973"/>
<area shape="rect" id="node49" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="203,1643,367,1669"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1049,360,1124,387"/>
<area shape="rect" id="node5" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="855,411,950,437"/>
<area shape="rect" id="node6" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="428,816,564,843"/>
<area shape="rect" id="node12" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="415,664,577,691"/>
<area shape="rect" id="node16" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="667,512,739,539"/>
<area shape="rect" id="node17" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="437,512,555,539"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="457,461,535,488"/>
<area shape="rect" id="node21" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="418,259,574,285"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1025,816,1148,843"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="828,1069,977,1096"/>
<area shape="rect" id="node9" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1045,1069,1128,1096"/>
<area shape="rect" id="node10" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="667,613,739,640"/>
<area shape="rect" id="node11" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="861,765,944,792"/>
<area shape="rect" id="node13" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="625,563,780,589"/>
<area shape="rect" id="node14" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="839,360,966,387"/>
<area shape="rect" id="node18" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="647,309,758,336"/>
<area shape="rect" id="node19" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="831,309,974,336"/>
<area shape="rect" id="node22" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="669,360,736,387"/>
<area shape="rect" id="node24" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="465,2099,527,2125"/>
<area shape="rect" id="node27" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="681,2200,724,2227"/>
<area shape="rect" id="node30" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="454,1997,538,2024"/>
<area shape="rect" id="node25" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="677,2099,728,2125"/>
<area shape="rect" id="node26" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="647,2048,758,2075"/>
<area shape="rect" id="node29" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="833,2149,972,2176"/>
<area shape="rect" id="node28" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="865,2200,940,2227"/>
<area shape="rect" id="node32" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="429,1120,563,1147"/>
<area shape="rect" id="node35" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="851,1424,954,1451"/>
<area shape="rect" id="node36" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="629,1592,776,1619"/>
<area shape="rect" id="node37" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="661,1845,744,1872"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="441,1440,551,1467"/>
<area shape="rect" id="node33" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="843,1617,963,1644"/>
<area shape="rect" id="node34" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1035,1845,1138,1872"/>
<area shape="rect" id="node38" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="869,1947,937,1973"/>
<area shape="rect" id="node39" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="851,1997,954,2024"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="837,1693,968,1720"/>
<area shape="rect" id="node41" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="839,1795,966,1821"/>
<area shape="rect" id="node42" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="831,1896,975,1923"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="639,1475,766,1501"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="635,1526,771,1567"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="639,1221,766,1248"/>
<area shape="rect" id="node50" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="447,1744,545,1771"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a928b6fd97b873a391e906fa28720273e_icgraph.png" border="0" usemap="#tnc_8c_a928b6fd97b873a391e906fa28720273e_icgraph" alt=""/></div>
<map name="tnc_8c_a928b6fd97b873a391e906fa28720273e_icgraph" id="tnc_8c_a928b6fd97b873a391e906fa28720273e_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="218,44,330,71"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="209,259,339,285"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="203,360,345,387"/>
<area shape="rect" id="node24" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="393,411,544,437"/>
<area shape="rect" id="node26" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="209,132,339,159"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="423,5,514,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="592,5,739,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="788,56,881,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="931,56,1040,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1088,56,1181,83"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="406,309,531,336"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="405,259,532,285"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="604,461,727,488"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="599,411,732,437"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="619,157,712,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="624,208,707,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="621,259,710,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="617,309,713,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="614,360,717,387"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="798,411,871,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="787,183,883,209"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="791,233,878,260"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="935,233,1035,260"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="407,360,530,387"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="604,512,727,539"/>
<area shape="rect" id="node27" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="409,56,528,83"/>
<area shape="rect" id="node28" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="597,56,734,83"/>
</map>
</div>

</div>
</div>
<a id="a45f37bcb32fdd0e4c25fca00b7a66198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45f37bcb32fdd0e4c25fca00b7a66198">&#9670;&nbsp;</a></span>ubifs_tnc_remove_nm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_nm - remove an index entry for a "hashed" node. <code></code>: UBIFS file-system description object : key of node : directory entry name</p>
<p>Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph.png" border="0" usemap="#tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph" alt=""/></div>
<map name="tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph" id="tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="219,438,352,465"/>
<area shape="rect" id="node25" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="654,438,757,465"/>
<area shape="rect" id="node26" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="425,590,572,617"/>
<area shape="rect" id="node27" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="204,84,367,110"/>
<area shape="rect" id="node34" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="226,236,345,262"/>
<area shape="rect" id="node39" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="457,793,540,820"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="230,1300,341,1326"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="844,134,967,161"/>
<area shape="rect" id="node12" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1260,489,1343,516"/>
<area shape="rect" id="node13" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1254,33,1349,60"/>
<area shape="rect" id="node14" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="645,742,765,769"/>
<area shape="rect" id="node22" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="631,388,780,414"/>
<area shape="rect" id="node23" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="463,134,535,161"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1062,134,1151,161"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1243,742,1360,769"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1420,717,1544,744"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1615,717,1690,744"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1761,705,1836,732"/>
<area shape="rect" id="node10" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1593,464,1713,490"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1446,1072,1518,1098"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1592,1401,1713,1428"/>
<area shape="rect" id="node15" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="854,736,957,762"/>
<area shape="rect" id="node16" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="859,888,951,914"/>
<area shape="rect" id="node19" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="859,685,951,712"/>
<area shape="rect" id="node21" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="854,1014,957,1041"/>
<area shape="rect" id="node17" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1055,1046,1158,1073"/>
<area shape="rect" id="node18" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1231,1046,1372,1073"/>
<area shape="rect" id="node20" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1043,590,1170,617"/>
<area shape="rect" id="node24" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="664,185,747,212"/>
<area shape="rect" id="node28" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="828,236,983,262"/>
<area shape="rect" id="node33" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="463,84,535,110"/>
<area shape="rect" id="node29" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1043,185,1170,212"/>
<area shape="rect" id="node31" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1049,540,1165,566"/>
<area shape="rect" id="node30" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1249,438,1353,465"/>
<area shape="rect" id="node32" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1232,1249,1371,1276"/>
<area shape="rect" id="node35" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="650,641,761,668"/>
<area shape="rect" id="node36" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="834,837,977,864"/>
<area shape="rect" id="node37" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1051,742,1162,769"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1031,844,1183,870"/>
<area shape="rect" id="node40" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="671,793,739,820"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="640,1300,771,1326"/>
<area shape="rect" id="node42" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="633,989,777,1016"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="435,1686,562,1713"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="637,1586,773,1627"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="435,1148,562,1174"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="631,1249,780,1276"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="864,1502,947,1529"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="415,1636,583,1662"/>
<area shape="rect" id="node46" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="837,1622,974,1649"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph.png" border="0" usemap="#tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph" alt=""/></div>
<map name="tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph" id="tnc_8c_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="609,309,725,336"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="413,563,533,589"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="206,152,351,179"/>
<area shape="rect" id="node22" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="407,867,538,893"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="215,613,343,640"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="204,740,353,767"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="819,56,909,83"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="817,411,911,437"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="823,512,905,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="825,107,903,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="819,157,909,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="821,208,907,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="819,309,909,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="816,360,912,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="813,259,915,285"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="985,56,1093,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1155,107,1289,133"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1361,81,1434,108"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1141,5,1303,32"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="991,512,1087,539"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="996,563,1083,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1172,588,1272,615"/>
<area shape="rect" id="node21" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="990,107,1089,133"/>
<area shape="rect" id="node23" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="608,917,727,944"/>
<area shape="rect" id="node24" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="795,917,933,944"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="993,816,1086,843"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1167,816,1277,843"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1351,816,1444,843"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="409,613,536,640"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="986,613,1093,640"/>
<area shape="rect" id="node32" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="417,765,529,792"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="407,816,538,843"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="401,664,544,691"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="592,715,743,741"/>
<area shape="rect" id="node33" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="622,765,713,792"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="791,765,937,792"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="605,867,730,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="604,411,731,437"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="803,867,925,893"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="606,664,729,691"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="803,715,925,741"/>
</map>
</div>

</div>
</div>
<a id="aba3e5b7438f8f8463357069869364077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3e5b7438f8f8463357069869364077">&#9670;&nbsp;</a></span>ubifs_tnc_remove_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>from_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>to_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_range - remove index entries in range. <code></code>: UBIFS file-system description object : lowest key to remove : highest key to remove</p>
<p>This function removes index entries starting at  and ending at . This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aba3e5b7438f8f8463357069869364077_cgraph.png" border="0" usemap="#tnc_8c_aba3e5b7438f8f8463357069869364077_cgraph" alt=""/></div>
<map name="tnc_8c_aba3e5b7438f8f8463357069869364077_cgraph" id="tnc_8c_aba3e5b7438f8f8463357069869364077_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="223,144,359,171"/>
<area shape="rect" id="node21" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="255,296,327,323"/>
<area shape="rect" id="node22" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="241,347,340,373"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="843,752,946,779"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="217,600,364,627"/>
<area shape="rect" id="node28" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="843,436,946,463"/>
<area shape="rect" id="node37" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="450,397,518,424"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="829,1309,960,1336"/>
<area shape="rect" id="node39" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="249,549,332,576"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="429,1107,539,1133"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1775,723,1850,749"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="833,296,956,323"/>
<area shape="rect" id="node16" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1237,723,1320,749"/>
<area shape="rect" id="node17" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1231,267,1326,293"/>
<area shape="rect" id="node18" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="820,549,969,576"/>
<area shape="rect" id="node19" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="448,245,520,272"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1044,469,1133,496"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1220,976,1337,1003"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1409,1027,1533,1053"/>
<area shape="rect" id="node8" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1617,1091,1691,1117"/>
<area shape="rect" id="node14" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1594,1001,1714,1028"/>
<area shape="rect" id="node15" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1243,875,1315,901"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1593,1280,1715,1307"/>
<area shape="rect" id="node10" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1773,1255,1852,1281"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1763,1305,1863,1332"/>
<area shape="rect" id="node12" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1773,1356,1852,1383"/>
<area shape="rect" id="node13" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1772,1204,1853,1231"/>
<area shape="rect" id="node20" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="647,296,729,323"/>
<area shape="rect" id="node25" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="424,600,544,627"/>
<area shape="rect" id="node26" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="637,651,739,677"/>
<area shape="rect" id="node27" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="642,499,734,525"/>
<area shape="rect" id="node34" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="642,600,734,627"/>
<area shape="rect" id="node36" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="637,701,739,728"/>
<area shape="rect" id="node29" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1018,419,1159,445"/>
<area shape="rect" id="node30" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1220,469,1337,496"/>
<area shape="rect" id="node31" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1397,343,1545,369"/>
<area shape="rect" id="node32" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1221,317,1337,344"/>
<area shape="rect" id="node33" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1208,419,1349,445"/>
<area shape="rect" id="node35" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="831,600,958,627"/>
<area shape="rect" id="node40" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="412,651,556,677"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="625,1208,751,1235"/>
<area shape="rect" id="node43" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="827,1454,963,1495"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="625,1005,751,1032"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="820,1056,969,1083"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1047,1280,1130,1307"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="604,1411,772,1437"/>
<area shape="rect" id="node44" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="1020,1432,1157,1459"/>
<area shape="rect" id="node47" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1017,1128,1160,1155"/>
<area shape="rect" id="node48" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1019,1027,1158,1053"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_aba3e5b7438f8f8463357069869364077_icgraph.png" border="0" usemap="#tnc_8c_aba3e5b7438f8f8463357069869364077_icgraph" alt=""/></div>
<map name="tnc_8c_aba3e5b7438f8f8463357069869364077_icgraph" id="tnc_8c_aba3e5b7438f8f8463357069869364077_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="230,164,354,191"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="219,272,365,299"/>
<area shape="rect" id="node9" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="225,487,359,513"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="217,411,367,437"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="436,107,536,133"/>
<area shape="rect" id="node4" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="633,81,728,108"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="437,183,535,209"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="811,56,944,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1010,56,1083,83"/>
<area shape="rect" id="node10" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="421,537,551,564"/>
<area shape="rect" id="node11" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="621,537,740,564"/>
<area shape="rect" id="node12" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="809,537,946,564"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1000,411,1093,437"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1143,411,1252,437"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1300,411,1393,437"/>
<area shape="rect" id="node17" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="430,385,542,412"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="421,284,551,311"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="415,436,557,463"/>
<area shape="rect" id="node34" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="605,487,756,513"/>
<area shape="rect" id="node18" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="635,385,726,412"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="804,411,951,437"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="618,183,743,209"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="617,233,744,260"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="816,5,939,32"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="831,309,924,336"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="836,107,919,133"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="833,157,922,184"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="829,208,925,235"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="826,259,929,285"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="999,157,1095,184"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1003,107,1090,133"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1147,107,1247,133"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="619,436,742,463"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="816,487,939,513"/>
</map>
</div>

</div>
</div>
<a id="a57909b33c6b9924633e733ac7dd4cfc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57909b33c6b9924633e733ac7dd4cfc7">&#9670;&nbsp;</a></span>ubifs_tnc_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_replace </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_replace - replace a node in the TNC only if the old node is found. <code></code>: UBIFS file-system description object : key to add : LEB number of old node : old node offset : LEB number of node : node offset : node length</p>
<p>This function replaces a node with key  in the TNC only if the old node is found. This function is called by garbage collection when node are moved. Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_cgraph.png" border="0" usemap="#tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_cgraph" alt=""/></div>
<map name="tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_cgraph" id="tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="194,507,327,534"/>
<area shape="rect" id="node13" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1214,406,1309,433"/>
<area shape="rect" id="node17" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1020,127,1123,154"/>
<area shape="rect" id="node34" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="826,457,929,483"/>
<area shape="rect" id="node35" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="392,305,539,331"/>
<area shape="rect" id="node36" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="227,837,295,863"/>
<area shape="rect" id="node37" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="177,735,344,762"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="410,1251,521,1278"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="816,558,939,585"/>
<area shape="rect" id="node12" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1220,761,1303,787"/>
<area shape="rect" id="node14" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="611,229,731,255"/>
<area shape="rect" id="node31" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="803,811,952,838"/>
<area shape="rect" id="node32" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="429,710,501,737"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1027,609,1116,635"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1203,862,1320,889"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1389,862,1513,889"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1606,887,1681,914"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1788,963,1863,990"/>
<area shape="rect" id="node10" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1583,761,1703,787"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2105,507,2177,534"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1583,1014,1704,1041"/>
<area shape="rect" id="node15" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="826,229,929,255"/>
<area shape="rect" id="node16" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="831,178,923,205"/>
<area shape="rect" id="node28" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="831,330,923,357"/>
<area shape="rect" id="node30" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1944,330,2047,357"/>
<area shape="rect" id="node18" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1191,127,1332,154"/>
<area shape="rect" id="node19" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1392,77,1509,103"/>
<area shape="rect" id="node20" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1569,77,1717,103"/>
<area shape="rect" id="node26" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1393,26,1509,53"/>
<area shape="rect" id="node27" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1380,127,1521,154"/>
<area shape="rect" id="node21" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1933,26,2057,53"/>
<area shape="rect" id="node22" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1765,127,1885,154"/>
<area shape="rect" id="node23" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1767,26,1884,53"/>
<area shape="rect" id="node24" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1767,178,1884,205"/>
<area shape="rect" id="node25" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1765,77,1885,103"/>
<area shape="rect" id="node29" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1008,330,1135,357"/>
<area shape="rect" id="node33" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="629,710,712,737"/>
<area shape="rect" id="node38" href="tnc_8c.html#a7f9cf8fc929db321a999947190bbbe2a" title="matches_position" alt="" coords="403,862,527,889"/>
<area shape="rect" id="node39" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="429,761,501,787"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="607,1521,734,1547"/>
<area shape="rect" id="node42" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="809,1404,945,1445"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="607,1099,734,1126"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="803,1099,952,1126"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1030,1267,1113,1294"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="812,1251,943,1278"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="587,1353,755,1379"/>
<area shape="rect" id="node43" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="1003,1419,1140,1446"/>
<area shape="rect" id="node46" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1000,1065,1143,1091"/>
<area shape="rect" id="node47" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1574,1115,1713,1142"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_icgraph.png" border="0" usemap="#tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_icgraph" alt=""/></div>
<map name="tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_icgraph" id="tnc_8c_a57909b33c6b9924633e733ac7dd4cfc7_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="177,931,267,958"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="315,931,411,958"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="459,931,631,958"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="679,728,827,755"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1029,1159,1187,1186"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="875,450,981,476"/>
<area shape="rect" id="node36" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="897,728,959,755"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1045,247,1171,274"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1253,931,1369,958"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1242,196,1379,223"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1239,95,1382,122"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1247,146,1374,172"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1251,247,1371,274"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1249,19,1373,46"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1238,399,1383,426"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1235,298,1387,324"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1469,906,1560,932"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1468,1058,1561,1084"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1473,956,1556,983"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1476,754,1553,780"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1469,804,1560,831"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1471,855,1558,882"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1470,1108,1559,1135"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1467,1159,1563,1186"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1463,1007,1566,1034"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1661,956,1757,983"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1666,602,1753,628"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1465,196,1564,223"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1659,196,1759,223"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1453,95,1576,122"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1439,44,1590,71"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1461,146,1568,172"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1465,450,1564,476"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1643,1108,1776,1135"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1824,1108,1897,1135"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1466,298,1563,324"/>
<area shape="rect" id="node37" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1045,728,1171,755"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1241,728,1380,755"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1453,652,1576,679"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1458,703,1571,730"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1475,500,1555,527"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1435,399,1595,426"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1654,475,1765,502"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1264,1210,1357,1236"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1248,1286,1373,1312"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1247,1108,1374,1135"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1460,1260,1569,1287"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1663,1260,1756,1287"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1453,1311,1576,1338"/>
</map>
</div>

</div>
</div>
<a id="ab54327c23143999c0f58a686e0d3f303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab54327c23143999c0f58a686e0d3f303">&#9670;&nbsp;</a></span>validate_data_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int validate_data_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>validate_data_node - validate data nodes for bulk-read. <code></code>: UBIFS file-system description object : buffer containing data node to validate : zbranch of data node to validate</p>
<p>This functions returns %0 on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ab54327c23143999c0f58a686e0d3f303_cgraph.png" border="0" usemap="#tnc_8c_ab54327c23143999c0f58a686e0d3f303_cgraph" alt=""/></div>
<map name="tnc_8c_ab54327c23143999c0f58a686e0d3f303_cgraph" id="tnc_8c_ab54327c23143999c0f58a686e0d3f303_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="389,157,461,184"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="188,208,315,235"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="363,208,487,235"/>
<area shape="rect" id="node10" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="558,309,633,336"/>
<area shape="rect" id="node18" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="216,360,287,387"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="558,56,633,83"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="544,107,647,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="548,157,643,184"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="535,208,656,235"/>
<area shape="rect" id="node17" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="535,259,655,285"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="713,5,795,32"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="713,56,795,83"/>
<area shape="rect" id="node12" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="717,107,791,133"/>
<area shape="rect" id="node13" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="715,157,793,184"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="704,208,804,235"/>
<area shape="rect" id="node15" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="715,259,793,285"/>
<area shape="rect" id="node16" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="713,309,795,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tnc_8c_ab54327c23143999c0f58a686e0d3f303_icgraph.png" border="0" usemap="#tnc_8c_ab54327c23143999c0f58a686e0d3f303_icgraph" alt=""/></div>
<map name="tnc_8c_ab54327c23143999c0f58a686e0d3f303_icgraph" id="tnc_8c_ab54327c23143999c0f58a686e0d3f303_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="188,5,327,32"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="375,5,509,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="557,5,671,32"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="719,5,829,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="tnc_8c.html">tnc.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
