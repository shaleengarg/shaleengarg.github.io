<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: jffs2/gc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('jffs2_2gc_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/mtd/mtd.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &lt;linux/compiler.h&gt;</code><br />
<code>#include &lt;linux/stat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nodelist_8h_source.html">nodelist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compr_8h_source.html">compr.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gc.c:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c__incl.png" border="0" usemap="#jffs2_2gc_8c" alt=""/></div>
<map name="jffs2_2gc_8c" id="jffs2_2gc_8c">
<area shape="rect" id="node9" href="nodelist_8h.html" title="nodelist.h" alt="" coords="1321,155,1400,181"/>
<area shape="rect" id="node33" href="compr_8h.html" title="compr.h" alt="" coords="827,80,897,107"/>
<area shape="rect" id="node13" href="jffs2__fs__sb_8h.html" title="jffs2_fs_sb.h" alt="" coords="948,229,1045,256"/>
<area shape="rect" id="node22" href="jffs2__fs__i_8h.html" title="jffs2_fs_i.h" alt="" coords="276,229,363,256"/>
<area shape="rect" id="node25" href="jffs2_2xattr_8h.html" title="xattr.h" alt="" coords="1321,229,1379,256"/>
<area shape="rect" id="node27" href="jffs2_2acl_8h.html" title="acl.h" alt="" coords="1658,229,1709,256"/>
<area shape="rect" id="node28" href="summary_8h.html" title="summary.h" alt="" coords="1496,229,1583,256"/>
<area shape="rect" id="node30" href="os-linux_8h.html" title="os&#45;linux.h" alt="" coords="1733,229,1812,256"/>
<area shape="rect" id="node31" href="jffs2_2debug_8h.html" title="debug.h" alt="" coords="1404,229,1472,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(<a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a>)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; <a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a></td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8cfc3183bc7320d8438033d0ca0fe98b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b">jffs2_garbage_collect_pristine</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__inode__cache.html">jffs2_inode_cache</a> *ic, struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *raw)</td></tr>
<tr class="separator:a8cfc3183bc7320d8438033d0ca0fe98b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324d04060472b9d45217b46a183f3d06"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06">jffs2_garbage_collect_metadata</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb, struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *f, struct <a class="el" href="structjffs2__full__dnode.html">jffs2_full_dnode</a> *fd)</td></tr>
<tr class="separator:a324d04060472b9d45217b46a183f3d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3f975741908e8a5ad56151a8b3b338"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338">jffs2_garbage_collect_dirent</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb, struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *f, struct <a class="el" href="structjffs2__full__dirent.html">jffs2_full_dirent</a> *fd)</td></tr>
<tr class="separator:a5c3f975741908e8a5ad56151a8b3b338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6dc13e531890e4523d80d9870fb3ff"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff">jffs2_garbage_collect_deletion_dirent</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb, struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *f, struct <a class="el" href="structjffs2__full__dirent.html">jffs2_full_dirent</a> *fd)</td></tr>
<tr class="separator:aac6dc13e531890e4523d80d9870fb3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0b94d7923a636341bd5652834065c0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0">jffs2_garbage_collect_hole</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb, struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *f, struct <a class="el" href="structjffs2__full__dnode.html">jffs2_full_dnode</a> *fn, uint32_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, uint32_t end)</td></tr>
<tr class="separator:a0d0b94d7923a636341bd5652834065c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b2a479e62d9405dd0e384df80b982a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a">jffs2_garbage_collect_dnode</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb, struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *f, struct <a class="el" href="structjffs2__full__dnode.html">jffs2_full_dnode</a> *fn, uint32_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, uint32_t end)</td></tr>
<tr class="separator:a92b2a479e62d9405dd0e384df80b982a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad008021e4fd1e61b99b32f365fe1e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2">jffs2_garbage_collect_live</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb, struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *raw, struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *f)</td></tr>
<tr class="separator:a4ad008021e4fd1e61b99b32f365fe1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3ead015f12f363968893635fd3bf57"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#add3ead015f12f363968893635fd3bf57">jffs2_find_gc_block</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c)</td></tr>
<tr class="separator:add3ead015f12f363968893635fd3bf57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571184c33d4f609c570ebf02290e6a27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27">jffs2_garbage_collect_pass</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c)</td></tr>
<tr class="separator:a571184c33d4f609c570ebf02290e6a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a></td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; <a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="add3ead015f12f363968893635fd3bf57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add3ead015f12f363968893635fd3bf57">&#9670;&nbsp;</a></span>jffs2_find_gc_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a>* jffs2_find_gc_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_cgraph.png" border="0" usemap="#jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_cgraph" id="jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_cgraph">
<area shape="rect" id="node2" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="188,1431,333,1458"/>
<area shape="rect" id="node3" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="381,1073,512,1099"/>
<area shape="rect" id="node4" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1429,1015,1555,1056"/>
<area shape="rect" id="node6" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="577,946,709,973"/>
<area shape="rect" id="node10" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1643,1351,1773,1378"/>
<area shape="rect" id="node49" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="561,769,724,795"/>
<area shape="rect" id="node50" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="560,1047,725,1074"/>
<area shape="rect" id="node5" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1641,1022,1775,1049"/>
<area shape="rect" id="node7" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1223,895,1343,922"/>
<area shape="rect" id="node8" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1419,837,1565,879"/>
<area shape="rect" id="node11" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="822,997,891,1023"/>
<area shape="rect" id="node12" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="777,1149,937,1175"/>
<area shape="rect" id="node17" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1613,1301,1803,1327"/>
<area shape="rect" id="node24" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1426,739,1558,766"/>
<area shape="rect" id="node25" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="791,1453,922,1495"/>
<area shape="rect" id="node26" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="785,377,928,403"/>
<area shape="rect" id="node46" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="773,845,940,871"/>
<area shape="rect" id="node48" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="991,642,1145,669"/>
<area shape="rect" id="node9" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1621,845,1795,871"/>
<area shape="rect" id="node13" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="988,1250,1148,1277"/>
<area shape="rect" id="node14" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1208,1301,1359,1327"/>
<area shape="rect" id="node15" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1196,1199,1371,1226"/>
<area shape="rect" id="node20" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1209,1250,1357,1277"/>
<area shape="rect" id="node21" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1214,1511,1353,1538"/>
<area shape="rect" id="node23" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1196,794,1371,821"/>
<area shape="rect" id="node16" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="1419,1301,1565,1327"/>
<area shape="rect" id="node19" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1621,1402,1795,1429"/>
<area shape="rect" id="node18" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1851,1351,2027,1378"/>
<area shape="rect" id="node22" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1423,1504,1561,1545"/>
<area shape="rect" id="node27" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="1252,541,1315,567"/>
<area shape="rect" id="node30" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1471,591,1513,618"/>
<area shape="rect" id="node33" href="nodelist_8c.html#a885b269cad17a1c5af0cd9e199526fb0" title="jffs2_get_ino_cache" alt="" coords="1423,29,1561,55"/>
<area shape="rect" id="node34" href="fs_8c.html#afa94c42873099722791acea5f100b4d5" title="jffs2_iget" alt="" coords="1031,313,1105,339"/>
<area shape="rect" id="node45" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1019,211,1117,238"/>
<area shape="rect" id="node28" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="1467,439,1517,466"/>
<area shape="rect" id="node29" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="1437,490,1547,517"/>
<area shape="rect" id="node32" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1639,338,1777,365"/>
<area shape="rect" id="node31" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1671,591,1745,618"/>
<area shape="rect" id="node35" href="inode_8c.html#a2e4fab3a29971a7bc96043a5dbcd77a3" title="iget_locked" alt="" coords="1239,389,1327,415"/>
<area shape="rect" id="node36" href="os-linux_8h.html#a79d3721a64bc96c65ef615c5d945918b" title="jffs2_init_inode_info" alt="" coords="1215,439,1352,466"/>
<area shape="rect" id="node37" href="nodelist_8h.html#abbeb0705bf80ad4c6c91aca47d52c988" title="jffs2_do_read_inode" alt="" coords="1214,34,1353,61"/>
<area shape="rect" id="node38" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="1455,91,1529,118"/>
<area shape="rect" id="node39" href="inode_8c.html#a9e6c5f183e4d22feba01bc18e9866dd1" title="inc_nlink" alt="" coords="1455,287,1529,314"/>
<area shape="rect" id="node40" href="nodelist_8h.html#a61cac09251fd2d847bacd94dd6d81868" title="jffs2_read_dnode" alt="" coords="1223,490,1344,517"/>
<area shape="rect" id="node41" href="inode_8c.html#aa992afd465d948c7fca769d396933c98" title="init_special_inode" alt="" coords="1221,338,1346,365"/>
<area shape="rect" id="node42" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="1427,237,1557,263"/>
<area shape="rect" id="node43" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="1243,186,1324,213"/>
<area shape="rect" id="node44" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1423,167,1561,194"/>
<area shape="rect" id="node47" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="990,845,1146,871"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_icgraph.png" border="0" usemap="#jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_icgraph" id="jffs2_2gc_8c_add3ead015f12f363968893635fd3bf57_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="188,744,368,771"/>
<area shape="rect" id="node3" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="416,349,561,390"/>
<area shape="rect" id="node9" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="419,744,558,771"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="419,1424,558,1451"/>
<area shape="rect" id="node4" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="611,45,745,86"/>
<area shape="rect" id="node5" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="813,5,953,32"/>
<area shape="rect" id="node7" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="819,56,946,83"/>
<area shape="rect" id="node6" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1052,5,1171,32"/>
<area shape="rect" id="node8" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1058,56,1165,83"/>
<area shape="rect" id="node10" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="619,339,737,365"/>
<area shape="rect" id="node14" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1275,516,1374,543"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1281,779,1368,805"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1278,912,1371,939"/>
<area shape="rect" id="node17" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1269,1155,1380,1181"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="823,617,943,644"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="616,769,740,796"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="803,668,962,695"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="827,719,939,745"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="1051,1104,1172,1131"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1270,1256,1379,1283"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1277,1307,1372,1333"/>
<area shape="rect" id="node11" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="827,567,938,593"/>
<area shape="rect" id="node19" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="821,313,944,340"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="831,364,935,391"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="807,415,958,441"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="810,161,955,188"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="817,212,948,239"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1063,668,1159,695"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1048,567,1175,593"/>
<area shape="rect" id="node18" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1449,1155,1539,1181"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1059,263,1164,289"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1019,313,1204,340"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="810,987,955,1029"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="795,820,971,847"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="810,922,955,963"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1056,617,1167,644"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1066,719,1157,745"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1053,769,1170,796"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1252,1089,1397,1130"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1450,1256,1538,1283"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1453,1205,1535,1232"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1445,1307,1543,1333"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1457,1357,1531,1384"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="635,1475,721,1501"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="609,1424,747,1451"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="805,1475,961,1501"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="809,1525,956,1552"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="811,1358,954,1399"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="819,1424,946,1451"/>
</map>
</div>

</div>
</div>
<a id="aac6dc13e531890e4523d80d9870fb3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6dc13e531890e4523d80d9870fb3ff">&#9670;&nbsp;</a></span>jffs2_garbage_collect_deletion_dirent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_deletion_dirent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__full__dirent.html">jffs2_full_dirent</a> *&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_cgraph.png" border="0" usemap="#jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_cgraph" id="jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_cgraph">
<area shape="rect" id="node2" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1443,195,1558,221"/>
<area shape="rect" id="node3" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="199,837,344,878"/>
<area shape="rect" id="node48" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1203,439,1377,465"/>
<area shape="rect" id="node49" href="malloc_8c.html#a077d81125a5f1fae806ef2aa28d4e06f" title="jffs2_free_full_dirent" alt="" coords="577,616,716,643"/>
<area shape="rect" id="node4" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="767,1123,927,1149"/>
<area shape="rect" id="node39" href="nodelist_8h.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="399,869,520,896"/>
<area shape="rect" id="node50" href="nodelist_8c.html#a9ae6682ac15f6ea4e4660f757b4cca98" title="jffs2_add_fd_to_list" alt="" coords="392,819,527,845"/>
<area shape="rect" id="node5" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="985,1123,1145,1149"/>
<area shape="rect" id="node8" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="2425,1233,2552,1274"/>
<area shape="rect" id="node6" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1215,1291,1365,1317"/>
<area shape="rect" id="node7" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1203,1139,1377,1165"/>
<area shape="rect" id="node20" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="2423,747,2554,773"/>
<area shape="rect" id="node22" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="2416,961,2561,988"/>
<area shape="rect" id="node28" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1216,1240,1364,1267"/>
<area shape="rect" id="node29" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1431,1088,1570,1115"/>
<area shape="rect" id="node31" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1203,515,1377,541"/>
<area shape="rect" id="node10" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="1427,1139,1574,1165"/>
<area shape="rect" id="node9" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2629,1240,2763,1267"/>
<area shape="rect" id="node11" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1624,1139,1799,1165"/>
<area shape="rect" id="node12" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1649,692,1773,719"/>
<area shape="rect" id="node13" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1851,819,1973,861"/>
<area shape="rect" id="node14" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="2035,936,2178,963"/>
<area shape="rect" id="node15" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1847,616,1977,643"/>
<area shape="rect" id="node17" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="2242,717,2362,744"/>
<area shape="rect" id="node25" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1885,667,1939,693"/>
<area shape="rect" id="node26" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1861,499,1963,525"/>
<area shape="rect" id="node27" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1850,550,1974,591"/>
<area shape="rect" id="node16" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="2041,667,2173,693"/>
<area shape="rect" id="node24" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="2025,511,2188,537"/>
<area shape="rect" id="node18" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="2416,339,2561,381"/>
<area shape="rect" id="node21" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="2237,769,2367,810"/>
<area shape="rect" id="node23" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="2236,372,2368,399"/>
<area shape="rect" id="node19" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="2609,347,2783,373"/>
<area shape="rect" id="node30" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1642,971,1781,1013"/>
<area shape="rect" id="node32" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1471,464,1531,491"/>
<area shape="rect" id="node33" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1442,667,1559,693"/>
<area shape="rect" id="node35" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1436,347,1565,389"/>
<area shape="rect" id="node36" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1425,413,1576,440"/>
<area shape="rect" id="node37" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1432,515,1569,541"/>
<area shape="rect" id="node34" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="1651,854,1772,895"/>
<area shape="rect" id="node38" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="1633,347,1789,373"/>
<area shape="rect" id="node40" href="malloc_8c.html#acb14c69d00c98cef15ff10c9995abf34" title="jffs2_alloc_full_dirent" alt="" coords="575,971,719,997"/>
<area shape="rect" id="node41" href="namei_8c.html#a6d05465ea29cfacd10ee6473e3879f3c" title="full_name_hash" alt="" coords="590,819,703,845"/>
<area shape="rect" id="node44" href="nodelist_8h.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="975,228,1154,255"/>
<area shape="rect" id="node45" href="nodelist_8h.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="577,1021,716,1048"/>
<area shape="rect" id="node42" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="821,768,872,795"/>
<area shape="rect" id="node43" href="namei_8c.html#ab6c058e9d297eedc75d075f53d48d3f5" title="EXPORT_SYMBOL" alt="" coords="777,819,916,845"/>
<area shape="rect" id="node46" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="783,1072,911,1099"/>
<area shape="rect" id="node47" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="975,489,1155,516"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_icgraph.png" border="0" usemap="#jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_icgraph" id="jffs2_2gc_8c_aac6dc13e531890e4523d80d9870fb3ff_icgraph">
<area shape="rect" id="node2" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="199,1227,371,1254"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="419,286,599,313"/>
<area shape="rect" id="node4" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="647,275,792,316"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="650,999,789,1026"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="650,223,789,250"/>
<area shape="rect" id="node5" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="842,275,975,316"/>
<area shape="rect" id="node6" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="1043,223,1183,250"/>
<area shape="rect" id="node8" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1050,274,1177,301"/>
<area shape="rect" id="node7" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1253,223,1372,250"/>
<area shape="rect" id="node9" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1259,274,1366,301"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="849,999,968,1026"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1430,709,1529,735"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1436,987,1523,1014"/>
<area shape="rect" id="node17" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1433,1177,1526,1203"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1424,1354,1535,1381"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1053,1354,1173,1381"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="847,1455,971,1482"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1034,1202,1193,1229"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1057,1303,1169,1330"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="848,670,969,697"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1059,543,1168,570"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1066,797,1161,823"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1058,1151,1169,1178"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1052,898,1175,925"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1061,999,1165,1026"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="1038,1050,1189,1077"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1041,1101,1186,1127"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1048,847,1179,874"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1265,1202,1361,1229"/>
<area shape="rect" id="node14" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1249,1101,1376,1127"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1583,1354,1673,1381"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1260,923,1365,950"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1041,1608,1186,1649"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1025,1674,1201,1701"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1041,1725,1186,1767"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1257,1151,1368,1178"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1267,1303,1358,1330"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1254,1354,1371,1381"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1041,325,1186,367"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1269,493,1357,519"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1271,543,1354,570"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1264,797,1361,823"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1275,847,1350,874"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="865,223,952,250"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="840,122,977,149"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="1035,122,1191,149"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="1040,173,1187,199"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="1042,5,1185,47"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="1050,71,1177,98"/>
</map>
</div>

</div>
</div>
<a id="a5c3f975741908e8a5ad56151a8b3b338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c3f975741908e8a5ad56151a8b3b338">&#9670;&nbsp;</a></span>jffs2_garbage_collect_dirent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_dirent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__full__dirent.html">jffs2_full_dirent</a> *&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_cgraph" id="jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_cgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="573,43,733,69"/>
<area shape="rect" id="node39" href="nodelist_8h.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="205,667,327,693"/>
<area shape="rect" id="node50" href="nodelist_8c.html#a9ae6682ac15f6ea4e4660f757b4cca98" title="jffs2_add_fd_to_list" alt="" coords="199,540,333,567"/>
<area shape="rect" id="node3" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="791,667,951,693"/>
<area shape="rect" id="node6" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="2265,187,2392,229"/>
<area shape="rect" id="node4" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1021,768,1172,795"/>
<area shape="rect" id="node5" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1009,616,1184,643"/>
<area shape="rect" id="node18" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="2263,477,2394,504"/>
<area shape="rect" id="node20" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="2256,717,2401,744"/>
<area shape="rect" id="node29" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1023,717,1171,744"/>
<area shape="rect" id="node30" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1238,1329,1377,1356"/>
<area shape="rect" id="node32" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1009,1076,1184,1103"/>
<area shape="rect" id="node8" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="1234,620,1381,647"/>
<area shape="rect" id="node7" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2449,195,2584,221"/>
<area shape="rect" id="node9" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1431,905,1605,932"/>
<area shape="rect" id="node10" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1456,776,1580,803"/>
<area shape="rect" id="node11" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1658,955,1779,997"/>
<area shape="rect" id="node12" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1843,971,1986,997"/>
<area shape="rect" id="node14" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1653,635,1784,661"/>
<area shape="rect" id="node16" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="2067,397,2187,424"/>
<area shape="rect" id="node24" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1691,853,1746,880"/>
<area shape="rect" id="node26" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1667,736,1770,763"/>
<area shape="rect" id="node27" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1657,787,1781,829"/>
<area shape="rect" id="node13" href="summary_8c.html#ae41a0612cf700518ea4b0eeff354cce1" title="jffs2_sum_add_mem" alt="" coords="2055,971,2198,997"/>
<area shape="rect" id="node15" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="1849,456,1981,483"/>
<area shape="rect" id="node22" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="2045,869,2208,896"/>
<area shape="rect" id="node23" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="1832,819,1997,845"/>
<area shape="rect" id="node17" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="2256,1141,2401,1182"/>
<area shape="rect" id="node19" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="2061,499,2192,541"/>
<area shape="rect" id="node21" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="2061,1148,2193,1175"/>
<area shape="rect" id="node25" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1855,920,1974,947"/>
<area shape="rect" id="node28" href="wbuf_8c.html#a700969dba04526abe954249b6ef31b49" title="jffs2_dirty_trigger" alt="" coords="1853,869,1976,896"/>
<area shape="rect" id="node31" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1449,1377,1587,1418"/>
<area shape="rect" id="node33" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1277,1076,1337,1103"/>
<area shape="rect" id="node34" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1250,1127,1365,1153"/>
<area shape="rect" id="node35" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1249,1177,1366,1204"/>
<area shape="rect" id="node36" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1243,909,1372,950"/>
<area shape="rect" id="node37" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1232,1025,1383,1052"/>
<area shape="rect" id="node38" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1239,975,1376,1001"/>
<area shape="rect" id="node40" href="malloc_8c.html#acb14c69d00c98cef15ff10c9995abf34" title="jffs2_alloc_full_dirent" alt="" coords="381,971,525,997"/>
<area shape="rect" id="node41" href="namei_8c.html#a6d05465ea29cfacd10ee6473e3879f3c" title="full_name_hash" alt="" coords="397,1021,510,1048"/>
<area shape="rect" id="node44" href="nodelist_8h.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="782,1489,961,1516"/>
<area shape="rect" id="node45" href="nodelist_8h.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="384,667,523,693"/>
<area shape="rect" id="node49" href="malloc_8c.html#a077d81125a5f1fae806ef2aa28d4e06f" title="jffs2_free_full_dirent" alt="" coords="384,413,523,440"/>
<area shape="rect" id="node42" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="628,1047,679,1073"/>
<area shape="rect" id="node43" href="namei_8c.html#ab6c058e9d297eedc75d075f53d48d3f5" title="EXPORT_SYMBOL" alt="" coords="584,996,723,1023"/>
<area shape="rect" id="node46" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="589,641,717,668"/>
<area shape="rect" id="node47" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="781,1384,961,1411"/>
<area shape="rect" id="node48" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1009,1000,1184,1027"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_icgraph" id="jffs2_2gc_8c_a5c3f975741908e8a5ad56151a8b3b338_icgraph">
<area shape="rect" id="node2" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="392,905,564,932"/>
<area shape="rect" id="node50" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="199,957,344,998"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="612,564,792,591"/>
<area shape="rect" id="node4" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="840,217,985,258"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="843,847,982,873"/>
<area shape="rect" id="node43" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="843,283,982,309"/>
<area shape="rect" id="node5" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="1035,49,1169,90"/>
<area shape="rect" id="node6" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="1237,56,1377,83"/>
<area shape="rect" id="node8" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1243,5,1370,32"/>
<area shape="rect" id="node7" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1447,56,1565,83"/>
<area shape="rect" id="node9" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1453,5,1559,32"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="1043,1141,1161,1168"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1623,1292,1722,1319"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1629,1064,1716,1091"/>
<area shape="rect" id="node17" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1626,683,1719,709"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1617,809,1728,836"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1247,847,1367,873"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="1040,745,1164,772"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1227,543,1386,569"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1251,593,1363,620"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="1041,1521,1163,1548"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1252,1420,1361,1447"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1259,1471,1354,1497"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1251,1015,1362,1041"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1245,1268,1368,1295"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1255,1319,1359,1345"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="1231,1065,1382,1092"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1234,1116,1379,1143"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1241,1167,1372,1193"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1458,745,1554,772"/>
<area shape="rect" id="node14" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1443,847,1569,873"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1776,809,1867,836"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1453,1217,1559,1244"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1234,898,1379,939"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1219,964,1395,991"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1234,325,1379,366"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1451,492,1561,519"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1461,543,1551,569"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1447,593,1565,620"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1462,1369,1550,1396"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1465,1319,1547,1345"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1457,1420,1555,1447"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1469,1471,1543,1497"/>
<area shape="rect" id="node44" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="1059,216,1145,243"/>
<area shape="rect" id="node45" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="1033,267,1171,293"/>
<area shape="rect" id="node46" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="1229,157,1385,184"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="1233,208,1380,235"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="1235,259,1378,301"/>
<area shape="rect" id="node49" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="1243,107,1370,133"/>
</map>
</div>

</div>
</div>
<a id="a92b2a479e62d9405dd0e384df80b982a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92b2a479e62d9405dd0e384df80b982a">&#9670;&nbsp;</a></span>jffs2_garbage_collect_dnode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_dnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__full__dnode.html">jffs2_full_dnode</a> *&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_cgraph" id="jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="633,1091,789,1118"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a4a6db966d90513d1b772253b685d6702" title="frag_last" alt="" coords="239,447,311,474"/>
<area shape="rect" id="node4" href="fs_8c.html#acff30b265b9aad49148618b96bbcf641" title="jffs2_gc_fetch_page" alt="" coords="205,378,344,405"/>
<area shape="rect" id="node7" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="631,1041,791,1067"/>
<area shape="rect" id="node34" href="compr_8c.html#a8653e94e3eedb765578d18915a68c9da" title="jffs2_compress" alt="" coords="219,498,330,525"/>
<area shape="rect" id="node37" href="nodelist_8h.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="213,779,337,806"/>
<area shape="rect" id="node44" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1073,442,1248,469"/>
<area shape="rect" id="node45" href="malloc_8c.html#a52607db10db98d5970e85d7a840c2a65" title="jffs2_free_full_dnode" alt="" coords="416,906,559,933"/>
<area shape="rect" id="node46" href="compr_8c.html#af4fc22ec041d94658ad915df9a01a31c" title="jffs2_free_comprbuf" alt="" coords="206,1058,343,1085"/>
<area shape="rect" id="node47" href="nodelist_8c.html#a03cc8c5bdd63a4425967f4a3df96ae45" title="jffs2_add_full_dnode\l_to_inode" alt="" coords="204,1109,345,1151"/>
<area shape="rect" id="node50" href="fs_8c.html#a3e2a9bedf4589794c33d3ca7d820d012" title="jffs2_gc_release_page" alt="" coords="199,1175,351,1202"/>
<area shape="rect" id="node5" href="jffs2_2file_8c.html#ae02adf07d13d4b9ca77225e8c65ee42b" title="jffs2_do_readpage_unlock" alt="" coords="401,358,574,385"/>
<area shape="rect" id="node6" href="jffs2_2file_8c.html#ab3ddb46d29cbd01cc2a463d6edee7432" title="jffs2_do_readpage_nolock" alt="" coords="624,358,797,385"/>
<area shape="rect" id="node8" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="855,914,1015,941"/>
<area shape="rect" id="node11" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1905,995,2032,1036"/>
<area shape="rect" id="node9" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1085,1117,1236,1143"/>
<area shape="rect" id="node10" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1495,1041,1669,1067"/>
<area shape="rect" id="node13" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1087,1015,1235,1042"/>
<area shape="rect" id="node14" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1299,863,1444,890"/>
<area shape="rect" id="node16" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1903,838,2034,865"/>
<area shape="rect" id="node17" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1091,746,1230,773"/>
<area shape="rect" id="node19" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1073,493,1248,519"/>
<area shape="rect" id="node12" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2089,1002,2224,1029"/>
<area shape="rect" id="node15" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1717,863,1848,890"/>
<area shape="rect" id="node18" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1896,628,2041,669"/>
<area shape="rect" id="node20" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1341,442,1401,469"/>
<area shape="rect" id="node21" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1314,543,1429,570"/>
<area shape="rect" id="node22" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1313,391,1430,418"/>
<area shape="rect" id="node30" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1305,594,1437,621"/>
<area shape="rect" id="node31" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1307,275,1436,316"/>
<area shape="rect" id="node32" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1296,341,1447,367"/>
<area shape="rect" id="node33" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1303,493,1440,519"/>
<area shape="rect" id="node23" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1520,337,1644,363"/>
<area shape="rect" id="node24" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1722,5,1843,47"/>
<area shape="rect" id="node25" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1897,42,2040,69"/>
<area shape="rect" id="node26" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1755,395,1810,422"/>
<area shape="rect" id="node27" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1731,278,1834,305"/>
<area shape="rect" id="node28" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1721,329,1845,371"/>
<area shape="rect" id="node29" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1723,762,1843,789"/>
<area shape="rect" id="node35" href="compr_8c.html#a63520947683eece897c20010dd2240d9" title="jffs2_selected_compress" alt="" coords="404,409,571,435"/>
<area shape="rect" id="node36" href="compr_8c.html#a2b345b2114a12243acde708947ed4f0e" title="jffs2_is_best_compression" alt="" coords="399,459,576,486"/>
<area shape="rect" id="node38" href="malloc_8c.html#a3500d72176f51315fed51c587ecd45b6" title="jffs2_alloc_full_dnode" alt="" coords="414,703,561,730"/>
<area shape="rect" id="node39" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1095,797,1226,839"/>
<area shape="rect" id="node40" href="nodelist_8h.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="846,201,1025,227"/>
<area shape="rect" id="node41" href="nodelist_8h.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="418,805,557,831"/>
<area shape="rect" id="node42" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="647,906,775,933"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="845,662,1025,689"/>
<area shape="rect" id="node48" href="nodelist_8c.html#a6f836110596d03203a5c76ec92c6e264" title="new_fragment" alt="" coords="659,1142,763,1169"/>
<area shape="rect" id="node49" href="nodelist_8c.html#adce7a976fb0519c792b4a9815a996108" title="jffs2_add_frag_to_fragtree" alt="" coords="401,1091,574,1118"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_icgraph" id="jffs2_2gc_8c_a92b2a479e62d9405dd0e384df80b982a_icgraph">
<area shape="rect" id="node2" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="199,325,371,352"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="419,671,599,697"/>
<area shape="rect" id="node4" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="647,1613,792,1654"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="650,747,789,773"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="650,595,789,621"/>
<area shape="rect" id="node5" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="842,1617,975,1658"/>
<area shape="rect" id="node6" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="1043,1624,1183,1651"/>
<area shape="rect" id="node8" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1050,1675,1177,1701"/>
<area shape="rect" id="node7" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1283,1624,1401,1651"/>
<area shape="rect" id="node9" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1289,1675,1395,1701"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="849,924,968,951"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1489,721,1587,748"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1495,823,1581,849"/>
<area shape="rect" id="node17" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1491,988,1585,1015"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1483,1165,1593,1192"/>
<area shape="rect" id="node27" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1053,325,1173,352"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="847,224,971,251"/>
<area shape="rect" id="node29" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1034,376,1193,403"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1057,427,1169,453"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="848,1329,969,1356"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1059,1507,1168,1533"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1066,1203,1161,1229"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1058,797,1169,824"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1052,949,1175,976"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1061,1000,1165,1027"/>
<area shape="rect" id="node24" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="1038,1051,1189,1077"/>
<area shape="rect" id="node25" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1041,1101,1186,1128"/>
<area shape="rect" id="node26" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1048,848,1179,875"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1294,797,1390,824"/>
<area shape="rect" id="node14" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1279,848,1405,875"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1641,1165,1732,1192"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1289,899,1395,925"/>
<area shape="rect" id="node22" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1249,949,1435,976"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1041,259,1186,301"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1025,5,1201,32"/>
<area shape="rect" id="node30" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1287,376,1397,403"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1297,427,1387,453"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1283,477,1401,504"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1041,1558,1186,1599"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1298,1507,1386,1533"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1301,1557,1383,1584"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1293,1203,1391,1229"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1305,1152,1379,1179"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="865,392,952,419"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="840,595,977,621"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="1035,645,1191,672"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="1040,477,1187,504"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="1042,529,1185,570"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="1050,595,1177,621"/>
</map>
</div>

</div>
</div>
<a id="a0d0b94d7923a636341bd5652834065c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0b94d7923a636341bd5652834065c0">&#9670;&nbsp;</a></span>jffs2_garbage_collect_hole()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_hole </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__full__dnode.html">jffs2_full_dnode</a> *&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_cgraph" id="jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_cgraph">
<area shape="rect" id="node2" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1323,562,1438,589"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a4a6db966d90513d1b772253b685d6702" title="frag_last" alt="" coords="264,1163,336,1190"/>
<area shape="rect" id="node4" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="425,105,585,131"/>
<area shape="rect" id="node34" href="nodelist_8h.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="238,543,362,570"/>
<area shape="rect" id="node41" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1083,809,1257,835"/>
<area shape="rect" id="node42" href="malloc_8c.html#a52607db10db98d5970e85d7a840c2a65" title="jffs2_free_full_dnode" alt="" coords="873,859,1016,886"/>
<area shape="rect" id="node43" href="nodelist_8c.html#a03cc8c5bdd63a4425967f4a3df96ae45" title="jffs2_add_full_dnode\l_to_inode" alt="" coords="229,1004,371,1045"/>
<area shape="rect" id="node47" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="645,1214,801,1241"/>
<area shape="rect" id="node5" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="865,327,1025,354"/>
<area shape="rect" id="node8" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1919,115,2045,156"/>
<area shape="rect" id="node6" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1095,417,1245,443"/>
<area shape="rect" id="node7" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1083,315,1257,342"/>
<area shape="rect" id="node15" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1917,299,2047,326"/>
<area shape="rect" id="node22" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1096,467,1244,494"/>
<area shape="rect" id="node23" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1308,198,1453,225"/>
<area shape="rect" id="node24" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1101,265,1239,291"/>
<area shape="rect" id="node25" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1083,758,1257,785"/>
<area shape="rect" id="node10" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="1307,299,1454,326"/>
<area shape="rect" id="node9" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2122,122,2257,149"/>
<area shape="rect" id="node11" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1531,515,1655,542"/>
<area shape="rect" id="node12" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1735,671,1857,712"/>
<area shape="rect" id="node13" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1911,678,2053,705"/>
<area shape="rect" id="node14" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1731,249,1861,275"/>
<area shape="rect" id="node16" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1769,569,1823,595"/>
<area shape="rect" id="node17" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1745,619,1847,646"/>
<area shape="rect" id="node18" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1734,452,1858,493"/>
<area shape="rect" id="node19" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1736,401,1856,427"/>
<area shape="rect" id="node20" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1909,903,2055,944"/>
<area shape="rect" id="node21" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="2103,910,2276,937"/>
<area shape="rect" id="node26" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1351,714,1411,741"/>
<area shape="rect" id="node27" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1322,613,1439,639"/>
<area shape="rect" id="node29" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1315,933,1447,959"/>
<area shape="rect" id="node30" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1316,867,1445,908"/>
<area shape="rect" id="node31" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1305,765,1456,791"/>
<area shape="rect" id="node32" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1312,815,1449,842"/>
<area shape="rect" id="node28" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="1533,644,1654,685"/>
<area shape="rect" id="node33" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="1515,815,1671,842"/>
<area shape="rect" id="node35" href="malloc_8c.html#a3500d72176f51315fed51c587ecd45b6" title="jffs2_alloc_full_dnode" alt="" coords="432,569,579,595"/>
<area shape="rect" id="node36" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1105,148,1235,189"/>
<area shape="rect" id="node37" href="nodelist_8h.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="1504,1085,1683,1111"/>
<area shape="rect" id="node38" href="nodelist_8h.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="436,378,575,405"/>
<area shape="rect" id="node39" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="659,378,787,405"/>
<area shape="rect" id="node40" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="855,809,1035,835"/>
<area shape="rect" id="node44" href="nodelist_8c.html#a6f836110596d03203a5c76ec92c6e264" title="new_fragment" alt="" coords="893,1135,997,1162"/>
<area shape="rect" id="node46" href="nodelist_8c.html#adce7a976fb0519c792b4a9815a996108" title="jffs2_add_frag_to_fragtree" alt="" coords="419,1062,592,1089"/>
<area shape="rect" id="node45" href="malloc_8c.html#a9ecc7efd159bd4fb303d34795a2cd277" title="jffs2_alloc_node_frag" alt="" coords="1097,1135,1243,1162"/>
<area shape="rect" id="node48" href="nodelist_8c.html#aa564e6ffee51d9ed7cc9a0df7842d403" title="no_overlapping_node" alt="" coords="651,1163,795,1190"/>
<area shape="rect" id="node49" href="nodelist_8c.html#a530309cf9b5d95777d860fcb6319beff" title="jffs2_fragtree_insert" alt="" coords="655,1113,792,1139"/>
<area shape="rect" id="node50" href="nodelist_8c.html#a9a5b07b1c29cb1596417b65bac3e5135" title="jffs2_obsolete_node_frag" alt="" coords="640,910,807,937"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_icgraph" id="jffs2_2gc_8c_a0d0b94d7923a636341bd5652834065c0_icgraph">
<area shape="rect" id="node2" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="229,341,401,367"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="449,686,629,713"/>
<area shape="rect" id="node4" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="677,1628,823,1669"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="681,762,819,789"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="681,610,819,637"/>
<area shape="rect" id="node5" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="873,1632,1006,1673"/>
<area shape="rect" id="node6" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="1065,1639,1205,1666"/>
<area shape="rect" id="node8" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1072,1690,1199,1717"/>
<area shape="rect" id="node7" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1296,1639,1415,1666"/>
<area shape="rect" id="node9" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1302,1690,1409,1717"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="880,939,999,966"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1502,737,1601,763"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1508,838,1595,865"/>
<area shape="rect" id="node17" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1505,1003,1598,1030"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1496,1181,1607,1207"/>
<area shape="rect" id="node27" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1075,341,1195,367"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="877,239,1001,266"/>
<area shape="rect" id="node29" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1056,391,1215,418"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1079,442,1191,469"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="879,1345,1000,1371"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1081,1522,1190,1549"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1088,1218,1183,1245"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1080,813,1191,839"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1074,965,1197,991"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1083,1015,1187,1042"/>
<area shape="rect" id="node24" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="1060,1066,1211,1093"/>
<area shape="rect" id="node25" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1063,1117,1208,1143"/>
<area shape="rect" id="node26" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1070,863,1201,890"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1307,813,1403,839"/>
<area shape="rect" id="node14" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1292,863,1419,890"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1655,1181,1745,1207"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1303,914,1408,941"/>
<area shape="rect" id="node22" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1263,965,1448,991"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1063,275,1208,316"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1063,5,1208,47"/>
<area shape="rect" id="node30" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1300,391,1411,418"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1310,442,1401,469"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1297,493,1414,519"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1063,1573,1208,1615"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1311,1522,1399,1549"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1314,1573,1397,1599"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1307,1218,1404,1245"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1318,1167,1393,1194"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="896,407,983,434"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="871,610,1008,637"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="1057,661,1213,687"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="1062,493,1209,519"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="1064,544,1207,585"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="1072,610,1199,637"/>
</map>
</div>

</div>
</div>
<a id="a4ad008021e4fd1e61b99b32f365fe1e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad008021e4fd1e61b99b32f365fe1e2">&#9670;&nbsp;</a></span>jffs2_garbage_collect_live()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_live </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_cgraph" id="jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_cgraph">
<area shape="rect" id="node2" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="434,624,579,665"/>
<area shape="rect" id="node31" href="nodelist_8h.html#acb683d5838d9406b15e0690e4c45f702" title="frag_first" alt="" coords="261,779,335,806"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="646,261,791,302"/>
<area shape="rect" id="node33" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="419,783,595,810"/>
<area shape="rect" id="node38" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="434,1058,579,1100"/>
<area shape="rect" id="node46" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="434,558,579,600"/>
<area shape="rect" id="node50" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="225,152,371,193"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a9cd73bff97cfeb6f498a71f9889ee924" title="jffs2_encode_dev" alt="" coords="657,378,781,404"/>
<area shape="rect" id="node4" href="nodelist_8h.html#a61cac09251fd2d847bacd94dd6d81868" title="jffs2_read_dnode" alt="" coords="658,530,779,556"/>
<area shape="rect" id="node9" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="852,842,1012,868"/>
<area shape="rect" id="node14" href="nodelist_8h.html#a4a6db966d90513d1b772253b685d6702" title="frag_last" alt="" coords="683,884,755,911"/>
<area shape="rect" id="node15" href="nodelist_8h.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="657,631,781,658"/>
<area shape="rect" id="node22" href="malloc_8c.html#a52607db10db98d5970e85d7a840c2a65" title="jffs2_free_full_dnode" alt="" coords="861,914,1003,940"/>
<area shape="rect" id="node23" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="845,319,1019,346"/>
<area shape="rect" id="node5" href="malloc_8c.html#a6f8a9a0f7158367399edb50c5bda2691" title="jffs2_alloc_raw_inode" alt="" coords="859,471,1005,498"/>
<area shape="rect" id="node6" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1092,151,1207,178"/>
<area shape="rect" id="node7" href="malloc_8c.html#ac0558b9433ccf232e977fd5a5f61a556" title="jffs2_free_raw_inode" alt="" coords="861,370,1003,396"/>
<area shape="rect" id="node8" href="compr_8c.html#a4620038e66349c4038b6ec0b87879199" title="jffs2_decompress" alt="" coords="869,420,995,447"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1069,791,1229,818"/>
<area shape="rect" id="node12" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1287,834,1413,876"/>
<area shape="rect" id="node11" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1277,642,1423,668"/>
<area shape="rect" id="node13" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1285,762,1415,788"/>
<area shape="rect" id="node16" href="malloc_8c.html#a3500d72176f51315fed51c587ecd45b6" title="jffs2_alloc_full_dnode" alt="" coords="859,791,1005,818"/>
<area shape="rect" id="node17" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1288,522,1412,548"/>
<area shape="rect" id="node18" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="867,573,997,614"/>
<area shape="rect" id="node19" href="nodelist_8h.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="843,639,1021,666"/>
<area shape="rect" id="node21" href="nodelist_8h.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="863,740,1001,767"/>
<area shape="rect" id="node20" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1077,624,1222,665"/>
<area shape="rect" id="node24" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1119,252,1179,279"/>
<area shape="rect" id="node25" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1091,202,1208,228"/>
<area shape="rect" id="node27" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1083,303,1215,330"/>
<area shape="rect" id="node28" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1085,405,1214,446"/>
<area shape="rect" id="node29" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1074,471,1225,498"/>
<area shape="rect" id="node30" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1081,354,1218,380"/>
<area shape="rect" id="node26" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="1289,194,1411,236"/>
<area shape="rect" id="node34" href="nodelist_8c.html#a03cc8c5bdd63a4425967f4a3df96ae45" title="jffs2_add_full_dnode\l_to_inode" alt="" coords="648,1088,789,1129"/>
<area shape="rect" id="node37" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="1071,1154,1227,1180"/>
<area shape="rect" id="node35" href="nodelist_8c.html#a6f836110596d03203a5c76ec92c6e264" title="new_fragment" alt="" coords="1097,1078,1201,1104"/>
<area shape="rect" id="node36" href="nodelist_8c.html#adce7a976fb0519c792b4a9815a996108" title="jffs2_add_frag_to_fragtree" alt="" coords="845,1103,1019,1130"/>
<area shape="rect" id="node39" href="fs_8c.html#acff30b265b9aad49148618b96bbcf641" title="jffs2_gc_fetch_page" alt="" coords="649,1432,788,1459"/>
<area shape="rect" id="node41" href="compr_8c.html#a8653e94e3eedb765578d18915a68c9da" title="jffs2_compress" alt="" coords="663,1356,774,1383"/>
<area shape="rect" id="node44" href="compr_8c.html#af4fc22ec041d94658ad915df9a01a31c" title="jffs2_free_comprbuf" alt="" coords="650,1204,787,1231"/>
<area shape="rect" id="node45" href="fs_8c.html#a3e2a9bedf4589794c33d3ca7d820d012" title="jffs2_gc_release_page" alt="" coords="643,1255,795,1282"/>
<area shape="rect" id="node40" href="jffs2_2file_8c.html#ae02adf07d13d4b9ca77225e8c65ee42b" title="jffs2_do_readpage_unlock" alt="" coords="845,1458,1019,1484"/>
<area shape="rect" id="node42" href="compr_8c.html#a63520947683eece897c20010dd2240d9" title="jffs2_selected_compress" alt="" coords="849,1356,1015,1383"/>
<area shape="rect" id="node43" href="compr_8c.html#a2b345b2114a12243acde708947ed4f0e" title="jffs2_is_best_compression" alt="" coords="843,1407,1021,1434"/>
<area shape="rect" id="node47" href="nodelist_8h.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="658,580,779,607"/>
<area shape="rect" id="node49" href="nodelist_8c.html#a9ae6682ac15f6ea4e4660f757b4cca98" title="jffs2_add_fd_to_list" alt="" coords="651,108,786,135"/>
<area shape="rect" id="node48" href="malloc_8c.html#a077d81125a5f1fae806ef2aa28d4e06f" title="jffs2_free_full_dirent" alt="" coords="863,66,1001,92"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_icgraph" id="jffs2_2gc_8c_a4ad008021e4fd1e61b99b32f365fe1e2_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="225,1093,405,1119"/>
<area shape="rect" id="node3" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="453,1265,599,1307"/>
<area shape="rect" id="node9" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="457,914,595,941"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="457,1653,595,1679"/>
<area shape="rect" id="node4" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="649,1565,782,1607"/>
<area shape="rect" id="node5" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="850,1573,990,1599"/>
<area shape="rect" id="node7" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="857,1623,983,1650"/>
<area shape="rect" id="node6" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1089,1573,1208,1599"/>
<area shape="rect" id="node8" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1095,1623,1202,1650"/>
<area shape="rect" id="node10" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="656,1345,775,1371"/>
<area shape="rect" id="node14" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1295,623,1394,650"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1301,813,1388,839"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1298,699,1391,726"/>
<area shape="rect" id="node17" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1289,990,1400,1017"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="860,1015,980,1042"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="653,813,777,839"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="841,914,999,941"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="864,965,976,991"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="655,299,776,326"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="865,71,975,98"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="873,426,967,453"/>
<area shape="rect" id="node11" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="865,1117,975,1143"/>
<area shape="rect" id="node19" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="859,1319,981,1346"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="868,1370,972,1397"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="845,1421,995,1447"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="847,1471,993,1498"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="855,1522,985,1549"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1101,1066,1197,1093"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1085,1117,1212,1143"/>
<area shape="rect" id="node18" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1448,990,1539,1017"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1096,1269,1201,1295"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1056,1319,1241,1346"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="847,477,993,519"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="832,543,1008,570"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="847,595,993,636"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1093,914,1204,941"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1103,1015,1194,1042"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1090,965,1207,991"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="847,5,993,47"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1105,71,1193,98"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1107,21,1190,47"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1100,223,1197,250"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1111,426,1186,453"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="672,1653,759,1679"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="647,1725,784,1751"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="842,1674,998,1701"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="847,1725,993,1751"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="849,1776,991,1817"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="857,1842,983,1869"/>
</map>
</div>

</div>
</div>
<a id="a324d04060472b9d45217b46a183f3d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324d04060472b9d45217b46a183f3d06">&#9670;&nbsp;</a></span>jffs2_garbage_collect_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__info.html">jffs2_inode_info</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__full__dnode.html">jffs2_full_dnode</a> *&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_cgraph" id="jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_cgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a9cd73bff97cfeb6f498a71f9889ee924" title="jffs2_encode_dev" alt="" coords="199,257,323,284"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a61cac09251fd2d847bacd94dd6d81868" title="jffs2_read_dnode" alt="" coords="200,308,321,335"/>
<area shape="rect" id="node8" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="575,1037,735,1064"/>
<area shape="rect" id="node42" href="nodelist_8h.html#a4a6db966d90513d1b772253b685d6702" title="frag_last" alt="" coords="225,1211,297,1237"/>
<area shape="rect" id="node43" href="nodelist_8h.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="199,957,323,984"/>
<area shape="rect" id="node49" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1020,384,1195,411"/>
<area shape="rect" id="node50" href="malloc_8c.html#a52607db10db98d5970e85d7a840c2a65" title="jffs2_free_full_dnode" alt="" coords="373,1109,515,1136"/>
<area shape="rect" id="node4" href="malloc_8c.html#a6f8a9a0f7158367399edb50c5bda2691" title="jffs2_alloc_raw_inode" alt="" coords="371,283,517,309"/>
<area shape="rect" id="node5" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1261,195,1375,221"/>
<area shape="rect" id="node6" href="malloc_8c.html#ac0558b9433ccf232e977fd5a5f61a556" title="jffs2_free_raw_inode" alt="" coords="373,181,515,208"/>
<area shape="rect" id="node7" href="compr_8c.html#a4620038e66349c4038b6ec0b87879199" title="jffs2_decompress" alt="" coords="381,232,507,259"/>
<area shape="rect" id="node9" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="802,856,962,883"/>
<area shape="rect" id="node12" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="2223,1450,2349,1491"/>
<area shape="rect" id="node10" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1032,856,1183,883"/>
<area shape="rect" id="node11" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1020,1181,1195,1208"/>
<area shape="rect" id="node24" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="2221,1063,2351,1089"/>
<area shape="rect" id="node26" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="2213,819,2359,845"/>
<area shape="rect" id="node31" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1033,805,1181,832"/>
<area shape="rect" id="node32" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1249,667,1387,693"/>
<area shape="rect" id="node34" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1020,464,1195,491"/>
<area shape="rect" id="node14" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="1245,1181,1391,1208"/>
<area shape="rect" id="node13" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2426,1457,2561,1484"/>
<area shape="rect" id="node15" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1441,819,1616,845"/>
<area shape="rect" id="node16" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1467,1181,1591,1208"/>
<area shape="rect" id="node17" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1669,1239,1790,1281"/>
<area shape="rect" id="node18" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1843,1305,1985,1332"/>
<area shape="rect" id="node19" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1664,971,1795,997"/>
<area shape="rect" id="node21" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="2039,1088,2159,1115"/>
<area shape="rect" id="node28" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1702,1072,1757,1099"/>
<area shape="rect" id="node29" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1678,1123,1781,1149"/>
<area shape="rect" id="node30" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1667,1174,1791,1215"/>
<area shape="rect" id="node20" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="1848,975,1980,1001"/>
<area shape="rect" id="node22" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="2213,542,2359,583"/>
<area shape="rect" id="node25" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="2034,971,2165,1013"/>
<area shape="rect" id="node27" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="2033,372,2165,399"/>
<area shape="rect" id="node23" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="2407,549,2580,576"/>
<area shape="rect" id="node33" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1459,601,1598,642"/>
<area shape="rect" id="node35" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1288,296,1348,323"/>
<area shape="rect" id="node36" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1259,717,1377,744"/>
<area shape="rect" id="node38" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1253,347,1383,389"/>
<area shape="rect" id="node39" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1243,464,1393,491"/>
<area shape="rect" id="node40" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1249,413,1387,440"/>
<area shape="rect" id="node37" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="1468,971,1589,1013"/>
<area shape="rect" id="node41" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="1451,413,1607,440"/>
<area shape="rect" id="node44" href="malloc_8c.html#a3500d72176f51315fed51c587ecd45b6" title="jffs2_alloc_full_dnode" alt="" coords="371,907,517,933"/>
<area shape="rect" id="node45" href="nodelist_8h.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="565,137,744,164"/>
<area shape="rect" id="node46" href="nodelist_8h.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="375,856,513,883"/>
<area shape="rect" id="node47" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="591,805,719,832"/>
<area shape="rect" id="node48" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="792,384,972,411"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_icgraph" id="jffs2_2gc_8c_a324d04060472b9d45217b46a183f3d06_icgraph">
<area shape="rect" id="node2" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="199,333,371,359"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="419,670,599,697"/>
<area shape="rect" id="node4" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="647,1612,792,1653"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="650,746,789,773"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="650,594,789,621"/>
<area shape="rect" id="node5" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="842,1616,975,1657"/>
<area shape="rect" id="node6" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="1043,1623,1183,1650"/>
<area shape="rect" id="node8" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1050,1674,1177,1701"/>
<area shape="rect" id="node7" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1283,1623,1401,1650"/>
<area shape="rect" id="node9" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1289,1674,1395,1701"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="849,923,968,950"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1489,721,1587,747"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1495,822,1581,849"/>
<area shape="rect" id="node17" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1491,987,1585,1014"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1483,1165,1593,1191"/>
<area shape="rect" id="node27" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1053,325,1173,351"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="847,231,971,258"/>
<area shape="rect" id="node29" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1034,375,1193,402"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1057,426,1169,453"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="848,1329,969,1355"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1059,1506,1168,1533"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1066,1202,1161,1229"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1058,797,1169,823"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1052,949,1175,975"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1061,999,1165,1026"/>
<area shape="rect" id="node24" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="1038,1050,1189,1077"/>
<area shape="rect" id="node25" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1041,1101,1186,1127"/>
<area shape="rect" id="node26" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1048,847,1179,874"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1294,797,1390,823"/>
<area shape="rect" id="node14" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1279,847,1405,874"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1641,1165,1732,1191"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1289,898,1395,925"/>
<area shape="rect" id="node22" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1249,949,1435,975"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1025,274,1201,301"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1041,5,1186,47"/>
<area shape="rect" id="node30" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1287,375,1397,402"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1297,426,1387,453"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1283,477,1401,503"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1041,1557,1186,1599"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1298,1506,1386,1533"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1301,1557,1383,1583"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1293,1202,1391,1229"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1305,1151,1379,1178"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="865,391,952,418"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="840,594,977,621"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="1035,645,1191,671"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="1040,477,1187,503"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="1042,528,1185,569"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="1050,594,1177,621"/>
</map>
</div>

</div>
</div>
<a id="a571184c33d4f609c570ebf02290e6a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571184c33d4f609c570ebf02290e6a27">&#9670;&nbsp;</a></span>jffs2_garbage_collect_pass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int jffs2_garbage_collect_pass </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_cgraph" id="jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_cgraph">
<area shape="rect" id="node2" href="jffs2_2xattr_8c.html#af7868cdb1dd184658db16456d9d6cfce" title="jffs2_verify_xattr" alt="" coords="1113,44,1232,71"/>
<area shape="rect" id="node5" href="jffs2_2xattr_8c.html#aabf6f8e6170d726e46a9335848bd6fe0" title="jffs2_xattr_delete\l_inode" alt="" coords="679,669,802,710"/>
<area shape="rect" id="node7" href="nodelist_8h.html#a4ba8f21c8334530785bd2f80411350a1" title="jffs2_do_crccheck_inode" alt="" coords="233,650,400,676"/>
<area shape="rect" id="node9" href="nodelist_8c.html#a45b7f5712095ed9610c3d96defb7698c" title="jffs2_set_inocache\l_state" alt="" coords="675,552,806,593"/>
<area shape="rect" id="node12" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1085,719,1260,746"/>
<area shape="rect" id="node14" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1311,1356,1456,1397"/>
<area shape="rect" id="node17" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1317,1163,1449,1190"/>
<area shape="rect" id="node22" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="247,1284,386,1325"/>
<area shape="rect" id="node26" href="jffs2_2gc_8c.html#add3ead015f12f363968893635fd3bf57" title="jffs2_find_gc_block" alt="" coords="673,1258,808,1284"/>
<area shape="rect" id="node28" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="282,1464,351,1491"/>
<area shape="rect" id="node29" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="877,1068,1022,1109"/>
<area shape="rect" id="node32" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="877,349,1022,390"/>
<area shape="rect" id="node35" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="244,260,389,301"/>
<area shape="rect" id="node38" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="245,1540,388,1567"/>
<area shape="rect" id="node44" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="448,979,620,1006"/>
<area shape="rect" id="node50" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="239,1667,394,1694"/>
<area shape="rect" id="node3" href="jffs2_2xattr_8c.html#a8f09cd34049d7da8d2fb9f3dfc585fcc" title="do_verify_xattr_datum" alt="" coords="1308,247,1459,274"/>
<area shape="rect" id="node4" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1536,551,1651,578"/>
<area shape="rect" id="node6" href="jffs2_2xattr_8c.html#a4c0a4b784946cfc241019a9430ca5a8d" title="delete_xattr_ref" alt="" coords="893,668,1005,695"/>
<area shape="rect" id="node8" href="readinode_8c.html#ac20960874d4b13a6ae7563fb287ab713" title="jffs2_do_read_inode\l_internal" alt="" coords="465,610,603,652"/>
<area shape="rect" id="node11" href="readinode_8c.html#ab05649abf8bb43a331824807b8183fe4" title="jffs2_do_clear_inode" alt="" coords="463,559,605,586"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#adc5e61db67d7c4af0ae1a82e5819140d" title="jffs2_xattr_do_crccheck\l_inode" alt="" coords="453,676,615,717"/>
<area shape="rect" id="node10" href="nodelist_8h.html#acb683d5838d9406b15e0690e4c45f702" title="frag_first" alt="" coords="704,786,777,812"/>
<area shape="rect" id="node20" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1315,551,1452,578"/>
<area shape="rect" id="node13" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1353,719,1413,746"/>
<area shape="rect" id="node16" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1325,770,1442,796"/>
<area shape="rect" id="node18" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1319,320,1448,361"/>
<area shape="rect" id="node19" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1308,428,1459,455"/>
<area shape="rect" id="node15" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1507,1363,1680,1390"/>
<area shape="rect" id="node23" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="1089,1363,1256,1390"/>
<area shape="rect" id="node24" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="452,1262,616,1288"/>
<area shape="rect" id="node25" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="472,1312,596,1339"/>
<area shape="rect" id="node27" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1521,959,1666,986"/>
<area shape="rect" id="node30" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="1093,879,1253,906"/>
<area shape="rect" id="node31" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1318,653,1449,694"/>
<area shape="rect" id="node33" href="jffs2_2xattr_8c.html#a7aca3711ddc0d33c0017902208998bbc" title="load_xattr_datum" alt="" coords="1111,247,1234,274"/>
<area shape="rect" id="node34" href="jffs2_2xattr_8c.html#a29254b6ab7d132032d9d132d0a5db361" title="save_xattr_datum" alt="" coords="1109,551,1236,578"/>
<area shape="rect" id="node36" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="679,146,802,172"/>
<area shape="rect" id="node37" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="481,236,587,263"/>
<area shape="rect" id="node39" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="503,1566,565,1592"/>
<area shape="rect" id="node40" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="719,1566,762,1592"/>
<area shape="rect" id="node41" href="nodelist_8c.html#a885b269cad17a1c5af0cd9e199526fb0" title="jffs2_get_ino_cache" alt="" coords="465,1616,603,1643"/>
<area shape="rect" id="node42" href="fs_8c.html#afa94c42873099722791acea5f100b4d5" title="jffs2_iget" alt="" coords="497,1667,571,1694"/>
<area shape="rect" id="node43" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="485,1515,583,1542"/>
<area shape="rect" id="node45" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="877,937,1022,978"/>
<area shape="rect" id="node46" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="861,820,1037,847"/>
<area shape="rect" id="node47" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="877,872,1022,913"/>
<area shape="rect" id="node48" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="877,1002,1022,1044"/>
<area shape="rect" id="node49" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="668,837,813,878"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_icgraph" id="jffs2_2gc_8c_a571184c33d4f609c570ebf02290e6a27_icgraph">
<area shape="rect" id="node2" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="233,371,379,413"/>
<area shape="rect" id="node8" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="237,788,375,815"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="237,1472,375,1499"/>
<area shape="rect" id="node3" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="429,49,562,90"/>
<area shape="rect" id="node4" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="630,5,770,32"/>
<area shape="rect" id="node6" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="637,56,763,83"/>
<area shape="rect" id="node5" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="869,5,988,32"/>
<area shape="rect" id="node7" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="875,56,982,83"/>
<area shape="rect" id="node9" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="436,284,555,311"/>
<area shape="rect" id="node13" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1093,639,1191,665"/>
<area shape="rect" id="node14" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1099,753,1185,780"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1095,952,1189,979"/>
<area shape="rect" id="node16" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1087,1089,1197,1116"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="640,613,760,640"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="433,816,557,843"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="621,664,779,691"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="644,715,756,741"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="868,1203,989,1229"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1087,1272,1197,1299"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1095,1333,1189,1360"/>
<area shape="rect" id="node10" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="645,512,755,539"/>
<area shape="rect" id="node18" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="639,259,761,285"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="648,309,752,336"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="625,360,775,387"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="627,107,773,133"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="635,157,765,184"/>
<area shape="rect" id="node11" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="881,613,977,640"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="865,512,992,539"/>
<area shape="rect" id="node17" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1266,1089,1357,1116"/>
<area shape="rect" id="node19" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="876,208,981,235"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="1069,314,1215,355"/>
<area shape="rect" id="node21" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="836,259,1021,285"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="627,1086,773,1127"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="612,917,788,944"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="627,969,773,1010"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="873,563,984,589"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="883,664,974,691"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="870,715,987,741"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1069,1195,1215,1237"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1267,1272,1355,1299"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1270,1221,1353,1248"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1263,1323,1360,1349"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1274,1373,1349,1400"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="452,1523,539,1549"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="427,1472,564,1499"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="622,1523,778,1549"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="627,1573,773,1600"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="629,1406,771,1447"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="637,1472,763,1499"/>
</map>
</div>

</div>
</div>
<a id="a8cfc3183bc7320d8438033d0ca0fe98b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cfc3183bc7320d8438033d0ca0fe98b">&#9670;&nbsp;</a></span>jffs2_garbage_collect_pristine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_garbage_collect_pristine </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__cache.html">jffs2_inode_cache</a> *&#160;</td>
          <td class="paramname"><em>ic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *&#160;</td>
          <td class="paramname"><em>raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_cgraph.png" border="0" usemap="#jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_cgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_cgraph" id="jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_cgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="199,877,359,904"/>
<area shape="rect" id="node23" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1679,297,1809,338"/>
<area shape="rect" id="node43" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="855,1240,970,1267"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="854,1189,971,1216"/>
<area shape="rect" id="node50" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="615,1063,789,1089"/>
<area shape="rect" id="node3" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="407,717,567,744"/>
<area shape="rect" id="node6" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1911,1275,2038,1317"/>
<area shape="rect" id="node4" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="627,717,777,744"/>
<area shape="rect" id="node5" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="615,768,789,795"/>
<area shape="rect" id="node21" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1909,667,2040,693"/>
<area shape="rect" id="node24" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1902,119,2047,145"/>
<area shape="rect" id="node35" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="628,616,776,643"/>
<area shape="rect" id="node36" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1240,261,1379,288"/>
<area shape="rect" id="node41" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="615,936,789,963"/>
<area shape="rect" id="node8" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="839,464,986,491"/>
<area shape="rect" id="node7" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2130,1283,2265,1309"/>
<area shape="rect" id="node9" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1649,413,1839,440"/>
<area shape="rect" id="node11" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1427,261,1601,288"/>
<area shape="rect" id="node12" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1052,1148,1176,1175"/>
<area shape="rect" id="node10" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1887,329,2063,356"/>
<area shape="rect" id="node13" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1914,1210,2035,1251"/>
<area shape="rect" id="node14" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="2126,1493,2269,1520"/>
<area shape="rect" id="node16" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1244,920,1375,947"/>
<area shape="rect" id="node18" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1684,971,1804,997"/>
<area shape="rect" id="node29" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1282,1173,1337,1200"/>
<area shape="rect" id="node31" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1258,1123,1361,1149"/>
<area shape="rect" id="node32" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1247,1225,1371,1266"/>
<area shape="rect" id="node15" href="summary_8c.html#ae41a0612cf700518ea4b0eeff354cce1" title="jffs2_sum_add_mem" alt="" coords="2332,1493,2475,1520"/>
<area shape="rect" id="node17" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="1448,616,1580,643"/>
<area shape="rect" id="node27" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="1433,920,1595,947"/>
<area shape="rect" id="node28" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="1431,1123,1597,1149"/>
<area shape="rect" id="node19" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1902,862,2047,903"/>
<area shape="rect" id="node22" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="1709,565,1779,592"/>
<area shape="rect" id="node25" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1678,920,1810,947"/>
<area shape="rect" id="node26" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="1673,616,1815,643"/>
<area shape="rect" id="node20" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="2111,869,2284,896"/>
<area shape="rect" id="node30" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1455,1173,1573,1200"/>
<area shape="rect" id="node33" href="wbuf_8c.html#a700969dba04526abe954249b6ef31b49" title="jffs2_dirty_trigger" alt="" coords="1453,1291,1575,1317"/>
<area shape="rect" id="node34" href="wbuf_8c.html#af483873e059b79c053c859accbdb0122" title="jffs2_wbuf_pending\l_for_ino" alt="" coords="1447,1225,1581,1266"/>
<area shape="rect" id="node37" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1445,195,1583,237"/>
<area shape="rect" id="node38" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="1661,819,1827,845"/>
<area shape="rect" id="node39" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="1662,144,1826,171"/>
<area shape="rect" id="node40" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="1682,93,1806,120"/>
<area shape="rect" id="node42" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="883,987,943,1013"/>
<area shape="rect" id="node46" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="848,870,977,911"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="837,936,988,963"/>
<area shape="rect" id="node48" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="844,1088,981,1115"/>
<area shape="rect" id="node45" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="1053,1326,1175,1367"/>
<area shape="rect" id="node49" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="1036,1249,1192,1276"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_icgraph.png" border="0" usemap="#jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_icgraph" alt=""/></div>
<map name="jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_icgraph" id="jffs2_2gc_8c_a8cfc3183bc7320d8438033d0ca0fe98b_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="199,1679,379,1705"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="1029,1489,1201,1516"/>
<area shape="rect" id="node3" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="427,509,572,550"/>
<area shape="rect" id="node9" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="430,1039,569,1065"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="430,1733,569,1760"/>
<area shape="rect" id="node4" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="622,45,755,86"/>
<area shape="rect" id="node5" href="os-linux_8h.html#ad62758f4d47c267be432a4a0358b0d98" title="jffs2_do_remount_fs" alt="" coords="823,56,963,83"/>
<area shape="rect" id="node7" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="830,5,957,32"/>
<area shape="rect" id="node6" href="jffs2_2super_8c.html#a13e79dc92ed9dec822169bc676724238" title="jffs2_remount_fs" alt="" coords="1056,56,1175,83"/>
<area shape="rect" id="node8" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1062,5,1169,32"/>
<area shape="rect" id="node10" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="629,861,748,888"/>
<area shape="rect" id="node14" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1255,857,1354,884"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1261,545,1348,572"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1258,1013,1351,1040"/>
<area shape="rect" id="node17" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1249,1216,1360,1243"/>
<area shape="rect" id="node25" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="833,1191,953,1217"/>
<area shape="rect" id="node26" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="627,1343,751,1369"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="814,1628,973,1655"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="837,1089,949,1116"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="628,491,749,517"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="839,263,948,289"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="846,313,941,340"/>
<area shape="rect" id="node11" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="838,988,949,1015"/>
<area shape="rect" id="node19" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="832,684,955,711"/>
<area shape="rect" id="node21" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="841,785,945,812"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="818,836,969,863"/>
<area shape="rect" id="node23" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="821,887,966,913"/>
<area shape="rect" id="node24" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="828,937,959,964"/>
<area shape="rect" id="node12" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1067,1089,1163,1116"/>
<area shape="rect" id="node13" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1052,988,1179,1015"/>
<area shape="rect" id="node18" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1408,1216,1499,1243"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1063,709,1168,736"/>
<area shape="rect" id="node29" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="821,1394,966,1435"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="805,1460,981,1487"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="821,1511,966,1553"/>
<area shape="rect" id="node28" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1060,1628,1171,1655"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1070,1191,1161,1217"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1057,1140,1174,1167"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="821,618,966,659"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1071,212,1159,239"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1074,161,1157,188"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1067,263,1164,289"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1078,313,1153,340"/>
<area shape="rect" id="node45" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="645,1733,732,1760"/>
<area shape="rect" id="node46" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="620,1788,757,1815"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="815,1897,971,1924"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="820,1729,967,1756"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="822,1781,965,1822"/>
<area shape="rect" id="node50" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="830,1847,957,1873"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8c13adb3d8ad063360c142f463a67ca3.html">jffs2</a></li><li class="navelem"><a class="el" href="jffs2_2gc_8c.html">gc.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
