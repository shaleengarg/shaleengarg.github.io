<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/io.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ubifs_2io_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">io.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for io.c:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c__incl.png" border="0" usemap="#ubifs_2io_8c" alt=""/></div>
<map name="ubifs_2io_8c" id="ubifs_2io_8c">
<area shape="rect" id="node4" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1160,80,1221,107"/>
<area shape="rect" id="node21" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node23" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node24" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0674f14e3d6ab28a6de41c44eeb85797"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797">ubifs_ro_mode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int err)</td></tr>
<tr class="separator:a0674f14e3d6ab28a6de41c44eeb85797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a2a3c4a79d6d4c52350540437d3cb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3">ubifs_leb_read</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, void *buf, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int even_ebadmsg)</td></tr>
<tr class="separator:ab6a2a3c4a79d6d4c52350540437d3cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02909cfc9d3a0100f549390c7d464632"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632">ubifs_leb_write</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, const void *buf, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a02909cfc9d3a0100f549390c7d464632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70865809ab5c33c55274560e453f535"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535">ubifs_leb_change</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, const void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:ac70865809ab5c33c55274560e453f535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d3a62a61d21e1faa60cd6e630c41ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac">ubifs_leb_unmap</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:ad9d3a62a61d21e1faa60cd6e630c41ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3619a60498527530b0ed01ba5c6a82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a8d3619a60498527530b0ed01ba5c6a82">ubifs_leb_map</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:a8d3619a60498527530b0ed01ba5c6a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6dd0f2909e1d7ec5cfc0bf93a9e0b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#ade6dd0f2909e1d7ec5cfc0bf93a9e0b4">ubifs_is_mapped</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:ade6dd0f2909e1d7ec5cfc0bf93a9e0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b2f0cc24eff9f69bd606979eb3a53e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e">ubifs_check_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const void *buf, int lnum, int offs, int quiet, int must_chk_crc)</td></tr>
<tr class="separator:ab9b2f0cc24eff9f69bd606979eb3a53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52d954c97cdff3426851893fbbcf91f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f">ubifs_pad</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="cifspdu_8h.html#ad3de1eee6c1ecd144cfca8050cc35752">pad</a>)</td></tr>
<tr class="separator:aa52d954c97cdff3426851893fbbcf91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3f089c430db97bbc68e362dc7867c8"><td class="memItemLeft" align="right" valign="top">static unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8">next_sqnum</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a0b3f089c430db97bbc68e362dc7867c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc2ca3ffa8d094855c2e59551f3a767"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767">ubifs_prepare_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *node, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int <a class="el" href="cifspdu_8h.html#ad3de1eee6c1ecd144cfca8050cc35752">pad</a>)</td></tr>
<tr class="separator:acfc2ca3ffa8d094855c2e59551f3a767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5677a6fb9ba9810931ab381e9ca3e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3">ubifs_prep_grp_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *node, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int last)</td></tr>
<tr class="separator:a9d5677a6fb9ba9810931ab381e9ca3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d558cd61ed553bd7e3fb4048ccdada4"><td class="memItemLeft" align="right" valign="top">static enum hrtimer_restart&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a2d558cd61ed553bd7e3fb4048ccdada4">wbuf_timer_callback_nolock</a> (struct hrtimer *timer)</td></tr>
<tr class="separator:a2d558cd61ed553bd7e3fb4048ccdada4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72790ff2f14d3cf772fc8e842ac0bff8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a72790ff2f14d3cf772fc8e842ac0bff8">new_wbuf_timer_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf)</td></tr>
<tr class="separator:a72790ff2f14d3cf772fc8e842ac0bff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef91391de4e0f46023ab0afac3a2335"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335">cancel_wbuf_timer_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf)</td></tr>
<tr class="separator:aeef91391de4e0f46023ab0afac3a2335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6d29ad192528c05f246cd31a1732fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb">ubifs_wbuf_sync_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf)</td></tr>
<tr class="separator:a3e6d29ad192528c05f246cd31a1732fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf09b0b677c1ca6d0b034d91281d2f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3">ubifs_wbuf_seek_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, int lnum, int offs)</td></tr>
<tr class="separator:a4bf09b0b677c1ca6d0b034d91281d2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaa5d9c13d5a1ec099306e70446376a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a7aaa5d9c13d5a1ec099306e70446376a">ubifs_bg_wbufs_sync</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a7aaa5d9c13d5a1ec099306e70446376a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee6b209c593633d86570858d6e5ff51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51">ubifs_wbuf_write_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a6ee6b209c593633d86570858d6e5ff51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e156b540025dd2266e7f4c6c302356e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e">ubifs_write_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:a5e156b540025dd2266e7f4c6c302356e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602b7041efb930fbe55efc9b3b2ea270"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270">ubifs_read_node_wbuf</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, void *buf, int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:a602b7041efb930fbe55efc9b3b2ea270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c29d586db30bacfa2c9a73369a8870"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870">ubifs_read_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:ab1c29d586db30bacfa2c9a73369a8870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6a43ed3cec37fb67b4cf4f129b84de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a9c6a43ed3cec37fb67b4cf4f129b84de">ubifs_wbuf_init</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf)</td></tr>
<tr class="separator:a9c6a43ed3cec37fb67b4cf4f129b84de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bb751e441c7a2479b5251b1423d16a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a">ubifs_wbuf_add_ino_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, ino_t inum)</td></tr>
<tr class="separator:a44bb751e441c7a2479b5251b1423d16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4d80947dbd579130f95db8f4de5691"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a3b4d80947dbd579130f95db8f4de5691">wbuf_has_ino</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, ino_t inum)</td></tr>
<tr class="separator:a3b4d80947dbd579130f95db8f4de5691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c2db86f03a3bcacb020be5daf7b74c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2io_8c.html#a74c2db86f03a3bcacb020be5daf7b74c">ubifs_sync_wbufs_by_inode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a74c2db86f03a3bcacb020be5daf7b74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aeef91391de4e0f46023ab0afac3a2335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef91391de4e0f46023ab0afac3a2335">&#9670;&nbsp;</a></span>cancel_wbuf_timer_nolock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cancel_wbuf_timer_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>cancel_wbuf_timer - cancel write-buffer timer. : write-buffer descriptor </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_aeef91391de4e0f46023ab0afac3a2335_icgraph.png" border="0" usemap="#ubifs_2io_8c_aeef91391de4e0f46023ab0afac3a2335_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_aeef91391de4e0f46023ab0afac3a2335_icgraph" id="ubifs_2io_8c_aeef91391de4e0f46023ab0afac3a2335_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="229,453,395,480"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="443,56,591,83"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="229,740,395,767"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="443,446,591,487"/>
<area shape="rect" id="node11" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="459,563,575,589"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="813,537,985,564"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1038,715,1186,741"/>
<area shape="rect" id="node15" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1248,613,1355,640"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1033,199,1191,225"/>
<area shape="rect" id="node40" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1432,503,1517,529"/>
<area shape="rect" id="node41" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="457,309,577,336"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1055,91,1169,117"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1255,148,1348,175"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1239,91,1364,117"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1420,148,1529,175"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1413,85,1536,112"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="657,461,747,488"/>
<area shape="rect" id="node12" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="654,563,750,589"/>
<area shape="rect" id="node35" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1271,715,1332,741"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1412,553,1537,580"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1603,401,1719,428"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1593,736,1730,763"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1590,452,1733,479"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1598,503,1725,529"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1601,553,1721,580"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1599,604,1723,631"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1589,655,1734,681"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1585,351,1737,377"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1807,452,1897,479"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1805,249,1899,276"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1811,300,1893,327"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1813,503,1891,529"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1807,553,1897,580"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1809,401,1895,428"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1807,351,1897,377"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1804,148,1900,175"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1801,199,1903,225"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1791,604,1913,631"/>
<area shape="rect" id="node36" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1412,715,1537,741"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1598,199,1725,225"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1785,97,1919,124"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="651,360,753,387"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="838,5,961,32"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="645,208,759,235"/>
<area shape="rect" id="node45" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="645,411,759,437"/>
<area shape="rect" id="node46" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="856,487,943,513"/>
<area shape="rect" id="node47" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="639,259,765,285"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="472,715,561,741"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="857,803,942,829"/>
</map>
</div>

</div>
</div>
<a id="a72790ff2f14d3cf772fc8e842ac0bff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72790ff2f14d3cf772fc8e842ac0bff8">&#9670;&nbsp;</a></span>new_wbuf_timer_nolock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void new_wbuf_timer_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>new_wbuf_timer - start new write-buffer timer. : write-buffer descriptor </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_cgraph.png" border="0" usemap="#ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_cgraph" id="ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="216,5,297,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_icgraph.png" border="0" usemap="#ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_icgraph" id="ubifs_2io_8c_a72790ff2f14d3cf772fc8e842ac0bff8_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="216,316,381,343"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="429,316,519,343"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="572,245,657,272"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1317,505,1403,532"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="567,316,663,343"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="711,316,883,343"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="931,353,1079,380"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1281,164,1439,191"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1127,455,1233,481"/>
<area shape="rect" id="node43" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1149,353,1211,380"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1297,455,1423,481"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1505,404,1621,431"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1494,208,1631,235"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1491,607,1634,633"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1499,657,1626,684"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1503,556,1623,583"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1501,259,1625,285"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1490,455,1635,481"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1487,505,1639,532"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1717,563,1807,589"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1715,309,1809,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1721,360,1803,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1723,411,1801,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1717,461,1807,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1719,512,1805,539"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1717,157,1807,184"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1714,208,1810,235"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1711,259,1813,285"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1893,588,2001,615"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2070,537,2203,564"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2265,588,2339,615"/>
<area shape="rect" id="node14" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="2056,588,2217,615"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1899,360,1995,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1903,715,1990,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2087,791,2187,817"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1713,5,1811,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1890,5,2003,32"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1897,56,1997,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2089,56,2184,83"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1701,765,1823,792"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1687,816,1837,843"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1885,816,2008,843"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1893,867,2000,893"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1897,537,1996,564"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1713,664,1811,691"/>
<area shape="rect" id="node44" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1297,353,1423,380"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1516,157,1609,184"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1500,107,1625,133"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1499,309,1626,336"/>
</map>
</div>

</div>
</div>
<a id="a0b3f089c430db97bbc68e362dc7867c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b3f089c430db97bbc68e362dc7867c8">&#9670;&nbsp;</a></span>next_sqnum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long long next_sqnum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>next_sqnum - get next sequence number. <code></code>: UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_cgraph.png" border="0" usemap="#ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_cgraph" id="ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="164,5,236,32"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="147,56,253,83"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="301,81,387,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_icgraph.png" border="0" usemap="#ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_icgraph" id="ubifs_2io_8c_a0b3f089c430db97bbc68e362dc7867c8_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#afc84fffe117700474d9902f71743efce" title="ubifs_prepare_node" alt="" coords="151,208,285,235"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="147,968,289,995"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="356,259,476,285"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="566,208,705,235"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="341,613,491,640"/>
<area shape="rect" id="node18" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="337,157,495,184"/>
<area shape="rect" id="node20" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="373,56,459,83"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="345,461,487,488"/>
<area shape="rect" id="node25" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="359,107,473,133"/>
<area shape="rect" id="node27" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="372,5,460,32"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="561,259,709,285"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="569,309,701,336"/>
<area shape="rect" id="node13" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="550,360,721,387"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="793,157,911,184"/>
<area shape="rect" id="node7" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="794,208,910,235"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="799,259,905,285"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="976,411,1069,437"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="789,512,915,539"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="791,309,913,336"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="776,411,928,437"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="544,664,727,691"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="543,613,728,640"/>
<area shape="rect" id="node19" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="809,56,895,83"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="567,56,704,83"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="557,512,713,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="554,461,717,488"/>
<area shape="rect" id="node26" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="604,107,667,133"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="559,5,712,32"/>
<area shape="rect" id="node30" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="372,1019,460,1045"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="577,816,693,843"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="572,917,699,944"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="575,1171,695,1197"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="573,968,697,995"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="563,1120,708,1147"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="564,1019,707,1045"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="559,1069,711,1096"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="807,867,897,893"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="805,917,899,944"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="811,968,893,995"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="813,563,891,589"/>
<area shape="rect" id="node37" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="807,613,897,640"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="809,664,895,691"/>
<area shape="rect" id="node39" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="807,715,897,741"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="804,765,900,792"/>
<area shape="rect" id="node41" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="801,816,903,843"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="979,1069,1066,1096"/>
<area shape="rect" id="node44" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="799,1019,905,1045"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="802,1069,902,1096"/>
<area shape="rect" id="node49" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="803,1120,901,1147"/>
</map>
</div>

</div>
</div>
<a id="a7aaa5d9c13d5a1ec099306e70446376a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aaa5d9c13d5a1ec099306e70446376a">&#9670;&nbsp;</a></span>ubifs_bg_wbufs_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_bg_wbufs_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_bg_wbufs_sync - synchronize write-buffers. <code></code>: UBIFS file-system description object</p>
<p>This function is called by background thread to synchronize write-buffers. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_cgraph.png" border="0" usemap="#ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_cgraph" id="ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="201,575,367,601"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="415,5,591,32"/>
<area shape="rect" id="node24" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1211,1019,1283,1045"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="639,2032,745,2059"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1207,107,1288,133"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="463,575,542,601"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="448,1931,557,1957"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1012,1981,1131,2008"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="641,1981,743,2008"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="801,1019,928,1045"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="793,1981,936,2008"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1029,2057,1114,2084"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="817,2032,912,2059"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1001,1120,1141,1147"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="999,1171,1143,1197"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1030,1221,1113,1248"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1028,1272,1115,1299"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1031,1323,1112,1349"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1004,1373,1139,1400"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1011,1424,1132,1451"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1008,1475,1135,1501"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1009,1525,1133,1552"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="991,1576,1151,1603"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1007,1627,1135,1653"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1009,107,1133,133"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1009,157,1133,184"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1006,1880,1137,1907"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1002,309,1141,336"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1015,1728,1128,1755"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1011,512,1131,539"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1006,563,1137,589"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1009,613,1133,640"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1006,664,1137,691"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1014,816,1129,843"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1008,867,1135,893"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1001,917,1142,944"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1014,1779,1129,1805"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="997,968,1145,995"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="994,1829,1149,1856"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1008,208,1135,235"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="986,1069,1157,1096"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="998,259,1145,285"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1013,360,1130,387"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1015,411,1128,437"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="997,461,1146,488"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="1015,715,1128,741"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="984,765,1159,792"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1018,1019,1125,1045"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="1016,1677,1127,1704"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_icgraph.png" border="0" usemap="#ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_icgraph" id="ubifs_2io_8c_a7aaa5d9c13d5a1ec099306e70446376a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="201,31,316,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="380,5,473,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="364,56,489,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="544,5,653,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="708,5,801,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="537,56,660,83"/>
</map>
</div>

</div>
</div>
<a id="ab9b2f0cc24eff9f69bd606979eb3a53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9b2f0cc24eff9f69bd606979eb3a53e">&#9670;&nbsp;</a></span>ubifs_check_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_check_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>must_chk_crc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_check_node - check node. <code></code>: UBIFS file-system description object : node to check : logical eraseblock number : offset within the logical eraseblock : print no messages : indicates whether to always check the CRC</p>
<p>This function checks node magic number and CRC checksum. This function also validates node length to prevent UBIFS from becoming crazy when an attacker feeds it a file-system image with incorrect nodes. For example, too large node length in the common header could cause UBIFS to read memory outside of allocated buffer when checking the CRC checksum.</p>
<p>This function may skip data nodes CRC checking if <code></code>-&gt;no_chk_data_crc is true, which is controlled by corresponding UBIFS mount option. However, if  is true, then <code></code>-&gt;no_chk_data_crc is ignored and CRC is checked. Similarly, if <code></code>-&gt;mounting or <code></code>-&gt;remounting_rw is true (we are mounting or re-mounting to R/W mode), <code></code>-&gt;no_chk_data_crc is ignored and CRC is checked. This is because during mounting or re-mounting from R/O mode to R/W mode we may read journal nodes (when replying the journal or doing the recovery) and the journal nodes may potentially be corrupted, so checking is required.</p>
<p>This function returns zero in case of success and %-EUCLEAN in case of bad CRC or magic. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph.png" border="0" usemap="#ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph" id="ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="206,107,278,133"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="180,157,304,184"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="375,31,450,57"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="361,81,464,108"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="365,132,460,159"/>
<area shape="rect" id="node9" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="375,183,450,209"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="352,233,473,260"/>
<area shape="rect" id="node16" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="353,284,473,311"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="530,5,613,32"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="530,56,613,83"/>
<area shape="rect" id="node11" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="534,132,609,159"/>
<area shape="rect" id="node12" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="532,183,611,209"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="521,233,621,260"/>
<area shape="rect" id="node14" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="532,284,611,311"/>
<area shape="rect" id="node15" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="531,335,612,361"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph.png" border="0" usemap="#ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph" id="ubifs_2io_8c_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="363,245,515,272"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="189,397,306,424"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="190,1233,305,1260"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="180,1157,315,1184"/>
<area shape="rect" id="node48" href="tnc_8c.html#ab54327c23143999c0f58a686e0d3f303" title="validate_data_node" alt="" coords="180,1309,315,1336"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="583,220,725,247"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="797,5,946,32"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="815,107,928,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="1018,107,1103,133"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="820,157,923,184"/>
<area shape="rect" id="node11" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="806,208,937,235"/>
<area shape="rect" id="node12" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="793,309,949,336"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="1002,284,1119,311"/>
<area shape="rect" id="node14" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="816,360,927,387"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="997,56,1124,83"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="1172,56,1283,83"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1331,411,1457,437"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="569,397,739,424"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="798,411,945,437"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="369,499,508,525"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="394,600,483,627"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="807,803,936,829"/>
<area shape="rect" id="node18" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1017,411,1104,437"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="809,651,934,677"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="578,448,730,475"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="576,600,732,627"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="573,499,735,525"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="593,651,715,677"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="377,1259,501,1285"/>
<area shape="rect" id="node29" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="609,1309,699,1336"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="580,1208,728,1235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="808,1196,935,1223"/>
<area shape="rect" id="node33" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="611,1259,697,1285"/>
<area shape="rect" id="node31" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="819,1120,924,1147"/>
<area shape="rect" id="node35" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="377,1157,500,1184"/>
<area shape="rect" id="node37" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="385,1208,492,1235"/>
<area shape="rect" id="node38" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="363,841,514,868"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="396,1031,481,1057"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="563,1157,745,1184"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="595,701,713,728"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="597,1005,711,1032"/>
<area shape="rect" id="node42" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="815,1031,928,1057"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="589,853,719,880"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="568,904,740,931"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="581,752,727,779"/>
<area shape="rect" id="node46" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="595,803,713,829"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="587,955,721,981"/>
<area shape="rect" id="node49" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="369,1360,508,1387"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="587,1411,721,1437"/>
</map>
</div>

</div>
</div>
<a id="ade6dd0f2909e1d7ec5cfc0bf93a9e0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade6dd0f2909e1d7ec5cfc0bf93a9e0b4">&#9670;&nbsp;</a></span>ubifs_is_mapped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_is_mapped </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph.png" border="0" usemap="#ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph" id="ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="173,5,245,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph.png" border="0" usemap="#ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph" id="ubifs_2io_8c_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a8b547d0c0fe03ac73bde35a975c2b372" title="check_volume_empty" alt="" coords="173,5,323,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="371,5,464,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="512,5,621,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="669,5,763,32"/>
</map>
</div>

</div>
</div>
<a id="ac70865809ab5c33c55274560e453f535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70865809ab5c33c55274560e453f535">&#9670;&nbsp;</a></span>ubifs_leb_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_change </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_cgraph.png" border="0" usemap="#ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_cgraph" id="ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="557,5,675,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="176,56,292,83"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="972,1703,1044,1729"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="181,107,287,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="348,1120,475,1147"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="340,56,483,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="546,360,686,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="544,411,688,437"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="575,461,657,488"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="573,512,659,539"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="575,563,657,589"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="549,613,683,640"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="555,664,677,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="553,715,679,741"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="554,765,678,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="536,816,696,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="552,867,680,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="554,917,678,944"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="554,968,678,995"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="771,1140,902,1167"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="547,1069,685,1096"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="780,1311,893,1337"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="556,1171,676,1197"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="551,1221,681,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="554,1272,678,1299"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="551,1323,681,1349"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="559,1373,673,1400"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="553,1424,679,1451"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="545,1475,687,1501"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="779,1551,894,1577"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="542,1576,690,1603"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="759,1627,914,1653"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="773,1677,900,1704"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="531,1728,701,1755"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="763,1728,910,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="778,1779,895,1805"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="559,1880,673,1907"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="763,1880,911,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="762,1932,911,1959"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="780,1985,893,2012"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="749,2043,924,2069"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="783,2105,890,2132"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="781,2181,892,2208"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="767,131,907,157"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="761,205,913,232"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="777,304,897,331"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="759,451,914,477"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#aef8aeeebc06bad29c72d11b616907f36" title="dbg_check_data_nodes\l_order" alt="" coords="757,693,916,734"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="573,56,659,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_icgraph.png" border="0" usemap="#ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_icgraph" id="ubifs_2io_8c_ac70865809ab5c33c55274560e453f535_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="182,113,321,140"/>
<area shape="rect" id="node6" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="385,333,535,360"/>
<area shape="rect" id="node22" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="195,220,307,247"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="201,588,301,615"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="176,435,327,461"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="190,384,313,411"/>
<area shape="rect" id="node36" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="212,699,291,725"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="387,789,533,816"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="182,485,321,512"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="181,536,322,563"/>
<area shape="rect" id="node45" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="214,645,289,672"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="185,837,318,864"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="401,56,519,83"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="624,5,748,32"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="847,5,965,32"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="595,333,777,360"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="593,384,779,411"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="841,435,971,461"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="843,333,969,360"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1053,536,1147,563"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1215,536,1324,563"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1372,536,1465,563"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1033,409,1167,436"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1053,460,1147,487"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1059,207,1141,233"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1055,257,1145,284"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1052,308,1148,335"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1049,359,1151,385"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="843,637,969,664"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1039,637,1161,664"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="398,157,522,184"/>
<area shape="rect" id="node24" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="641,208,731,235"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="612,107,760,133"/>
<area shape="rect" id="node28" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="643,56,729,83"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="833,384,979,411"/>
<area shape="rect" id="node27" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="853,107,959,133"/>
<area shape="rect" id="node29" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="860,56,952,83"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="605,587,767,613"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="627,485,745,512"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="621,435,751,461"/>
<area shape="rect" id="node39" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="375,485,545,512"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="610,536,762,563"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="608,688,764,715"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="379,283,541,309"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="645,283,727,309"/>
<area shape="rect" id="node46" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="399,739,521,765"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="405,840,515,867"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="633,840,739,867"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="827,840,985,867"/>
</map>
</div>

</div>
</div>
<a id="a8d3619a60498527530b0ed01ba5c6a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3619a60498527530b0ed01ba5c6a82">&#9670;&nbsp;</a></span>ubifs_leb_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_cgraph.png" border="0" usemap="#ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_cgraph" id="ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="531,5,650,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="164,56,263,83"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="947,1703,1019,1729"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="160,107,267,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="323,1120,449,1147"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="315,56,457,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="521,360,661,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="519,411,663,437"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="549,461,632,488"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="547,512,634,539"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="550,563,631,589"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="523,613,658,640"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="530,664,651,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="527,715,654,741"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="529,765,653,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="511,816,671,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="527,867,655,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="529,917,653,944"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="529,968,653,995"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="746,1140,877,1167"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="521,1069,660,1096"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="755,1311,868,1337"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="531,1171,651,1197"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="525,1221,656,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="529,1272,653,1299"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="525,1323,656,1349"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="533,1373,648,1400"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="527,1424,654,1451"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="520,1475,661,1501"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="754,1551,869,1577"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="517,1576,665,1603"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="734,1627,889,1653"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="748,1677,875,1704"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="505,1728,676,1755"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="738,1728,885,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="753,1779,870,1805"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="534,1880,647,1907"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="737,1880,885,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="737,1932,886,1959"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="755,1985,868,2012"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="724,2043,899,2069"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="758,2105,865,2132"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="756,2181,867,2208"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="741,131,881,157"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="735,205,887,232"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="751,304,871,331"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="734,451,889,477"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#aef8aeeebc06bad29c72d11b616907f36" title="dbg_check_data_nodes\l_order" alt="" coords="732,693,891,734"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="548,56,633,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_icgraph.png" border="0" usemap="#ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_icgraph" id="ubifs_2io_8c_a8d3619a60498527530b0ed01ba5c6a82_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="160,385,308,412"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="356,411,472,437"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1080,360,1187,387"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="520,411,616,437"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="664,411,836,437"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="884,411,1032,437"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1235,765,1392,792"/>
<area shape="rect" id="node43" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1103,411,1164,437"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1251,309,1376,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1458,537,1574,564"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1447,19,1585,45"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1445,157,1587,184"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1453,791,1579,817"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1456,360,1576,387"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1454,81,1578,108"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1443,309,1589,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1440,233,1592,260"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1670,259,1761,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1669,613,1762,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1674,765,1757,792"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1677,461,1754,488"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1670,512,1761,539"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1672,411,1759,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1671,715,1760,741"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1667,563,1763,589"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1664,664,1767,691"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1846,259,1954,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2023,309,2157,336"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2219,284,2292,311"/>
<area shape="rect" id="node14" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="2009,208,2171,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1852,765,1948,792"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1857,715,1943,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2040,791,2140,817"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1666,5,1765,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1843,5,1957,32"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1850,56,1950,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2043,56,2137,83"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1654,107,1777,133"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1640,157,1791,184"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1839,157,1961,184"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1847,867,1953,893"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1851,309,1949,336"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1667,208,1764,235"/>
<area shape="rect" id="node44" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1251,411,1376,437"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1469,867,1563,893"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1453,968,1579,995"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1453,715,1579,741"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1661,917,1770,944"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1654,968,1777,995"/>
</map>
</div>

</div>
</div>
<a id="ab6a2a3c4a79d6d4c52350540437d3cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a2a3c4a79d6d4c52350540437d3cb3">&#9670;&nbsp;</a></span>ubifs_leb_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>even_ebadmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph.png" border="0" usemap="#ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph" id="ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="160,5,232,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph.png" border="0" usemap="#ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph" id="ubifs_2io_8c_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="374,5,526,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="177,157,294,184"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="174,309,297,336"/>
<area shape="rect" id="node11" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="179,461,291,488"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="397,360,503,387"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="185,563,285,589"/>
<area shape="rect" id="node18" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="160,613,311,640"/>
<area shape="rect" id="node20" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="174,664,297,691"/>
<area shape="rect" id="node22" href="ubifs_8h.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="176,411,295,437"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="173,968,297,995"/>
<area shape="rect" id="node27" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="803,735,889,761"/>
<area shape="rect" id="node35" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="191,841,280,868"/>
<area shape="rect" id="node37" href="lpt_8c.html#a3174779440616f0c85a44f40480d5977" title="read_ltab" alt="" coords="198,1196,273,1223"/>
<area shape="rect" id="node39" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="177,1145,294,1172"/>
<area shape="rect" id="node40" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="177,1095,294,1121"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="189,1247,281,1273"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a8b82199b156a23a65fe4de99f2f82e4f" title="dbg_check_ltab_lnum" alt="" coords="589,1113,737,1140"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#aa1394a949f93b726911b9906f58b5ac3" title="dump_lpt_leb" alt="" coords="186,1297,285,1324"/>
<area shape="rect" id="node46" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4" title="is_last_bud" alt="" coords="406,512,494,539"/>
<area shape="rect" id="node47" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="626,781,701,808"/>
<area shape="rect" id="node48" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="183,1348,287,1375"/>
<area shape="rect" id="node49" href="tnc_8c.html#a053bcfb703360c8d2a4f2474ee8569a1" title="read_wbuf" alt="" coords="194,1399,277,1425"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="381,1424,519,1451"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="592,145,735,172"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="365,208,535,235"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="590,221,737,248"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="381,56,519,83"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="405,107,495,133"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="359,309,541,336"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="388,461,512,488"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="589,411,737,437"/>
<area shape="rect" id="node14" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="621,461,706,488"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="369,563,531,589"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="391,613,509,640"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="385,664,515,691"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="407,411,493,437"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="391,968,509,995"/>
<area shape="rect" id="node26" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="605,899,721,925"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="589,848,737,875"/>
<area shape="rect" id="node31" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="612,975,715,1001"/>
<area shape="rect" id="node33" href="lpt__commit_8c.html#a1108bc5520b20e0cde6b2cad0ba79170" title="nnode_lookup" alt="" coords="612,1037,715,1064"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="375,1171,525,1197"/>
<area shape="rect" id="node29" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="785,823,907,849"/>
<area shape="rect" id="node28" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="955,735,1036,761"/>
<area shape="rect" id="node32" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="789,1037,903,1064"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="391,867,509,893"/>
<area shape="rect" id="node38" href="lpt_8c.html#a5d1707707cf770fb7479177b7fe2fbc5" title="lpt_init_rd" alt="" coords="411,1221,489,1248"/>
<area shape="rect" id="node42" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="421,1272,479,1299"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="379,1323,521,1349"/>
</map>
</div>

</div>
</div>
<a id="ad9d3a62a61d21e1faa60cd6e630c41ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d3a62a61d21e1faa60cd6e630c41ac">&#9670;&nbsp;</a></span>ubifs_leb_unmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_unmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph.png" border="0" usemap="#ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph" id="ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="551,5,670,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="173,56,287,83"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="967,1703,1039,1729"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="177,107,283,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="343,1120,469,1147"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="335,56,477,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="541,360,681,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="539,411,683,437"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="569,461,652,488"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="567,512,654,539"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="570,563,651,589"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="543,613,678,640"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="550,664,671,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="547,715,674,741"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="549,765,673,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="531,816,691,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="547,867,675,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="549,917,673,944"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="549,968,673,995"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="766,1140,897,1167"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="541,1069,680,1096"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="775,1311,888,1337"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="551,1171,671,1197"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="545,1221,676,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="549,1272,673,1299"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="545,1323,676,1349"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="553,1373,668,1400"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="547,1424,674,1451"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="540,1475,681,1501"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="774,1551,889,1577"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="537,1576,685,1603"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="754,1627,909,1653"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="768,1677,895,1704"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="525,1728,696,1755"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="758,1728,905,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="773,1779,890,1805"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="554,1880,667,1907"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="757,1880,905,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="757,1932,906,1959"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="775,1985,888,2012"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="744,2043,919,2069"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="778,2105,885,2132"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="776,2181,887,2208"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="761,131,901,157"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="755,205,907,232"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="771,304,891,331"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="754,451,909,477"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#aef8aeeebc06bad29c72d11b616907f36" title="dbg_check_data_nodes\l_order" alt="" coords="752,693,911,734"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="568,56,653,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph.png" border="0" usemap="#ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph" id="ubifs_2io_8c_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1206,563,1299,589"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1190,664,1315,691"/>
<area shape="rect" id="node7" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="178,968,317,995"/>
<area shape="rect" id="node9" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="558,1019,682,1045"/>
<area shape="rect" id="node13" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="763,715,902,741"/>
<area shape="rect" id="node15" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="373,259,489,285"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="747,284,919,311"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="980,157,1128,184"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="975,411,1133,437"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="543,1171,697,1197"/>
<area shape="rect" id="node24" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="545,1297,695,1324"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="191,208,303,235"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="197,563,297,589"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="757,613,908,640"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="173,157,321,184"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="541,943,699,969"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="542,1069,698,1096"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="981,664,1127,691"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="758,56,907,83"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="182,497,313,538"/>
<area shape="rect" id="node39" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="207,664,288,691"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="382,1120,481,1147"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="203,867,292,893"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="767,1221,899,1248"/>
<area shape="rect" id="node49" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="210,1323,285,1349"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1371,563,1480,589"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1535,563,1628,589"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1364,968,1487,995"/>
<area shape="rect" id="node8" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="373,968,490,995"/>
<area shape="rect" id="node10" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="773,1019,892,1045"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="967,1019,1141,1045"/>
<area shape="rect" id="node12" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1209,1095,1296,1121"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="981,563,1127,589"/>
<area shape="rect" id="node16" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="572,259,668,285"/>
<area shape="rect" id="node19" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1199,107,1306,133"/>
<area shape="rect" id="node20" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1222,157,1283,184"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1189,436,1316,463"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="369,208,493,235"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="973,461,1135,488"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="995,512,1113,539"/>
<area shape="rect" id="node37" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="374,461,489,488"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="379,512,483,539"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a765344f4763e8492c9902f7af4c6488e" title="ubifs_lpt_init" alt="" coords="1007,613,1101,640"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="545,1120,695,1147"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a0ca6bd7c2db50191b30308925d584e16" title="ubifs_lpt_post_commit" alt="" coords="543,867,697,893"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="1191,1272,1314,1299"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="997,1272,1111,1299"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="978,1221,1130,1248"/>
<area shape="rect" id="node50" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="371,1323,492,1349"/>
</map>
</div>

</div>
</div>
<a id="a02909cfc9d3a0100f549390c7d464632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02909cfc9d3a0100f549390c7d464632">&#9670;&nbsp;</a></span>ubifs_leb_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_cgraph.png" border="0" usemap="#ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_cgraph" id="ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="534,5,653,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="165,132,267,159"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="949,1639,1021,1665"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="163,56,269,83"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="325,1107,452,1133"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="317,81,460,108"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="551,68,636,95"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="341,183,436,209"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="523,524,663,551"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="521,575,665,601"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="552,625,635,652"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="550,676,637,703"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="553,727,634,753"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="526,777,661,804"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="533,828,654,855"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="530,879,657,905"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="531,929,655,956"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="513,980,673,1007"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="529,1031,657,1057"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="531,1081,655,1108"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="531,1132,655,1159"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="749,1183,879,1209"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="524,2095,663,2121"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="757,1233,871,1260"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="533,2145,653,2172"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="528,119,659,145"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="531,169,655,196"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="528,220,659,247"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="536,271,651,297"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="530,321,657,348"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="523,372,664,399"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="757,1284,871,1311"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="519,423,667,449"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="737,1335,891,1361"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="751,1385,877,1412"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="508,473,679,500"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="741,1436,887,1463"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="755,1487,873,1513"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="537,1537,650,1564"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="740,1588,888,1615"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="739,1639,889,1665"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="757,1689,871,1716"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="727,1740,901,1767"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="761,1791,867,1817"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="759,1841,869,1868"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="744,1892,884,1919"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="738,1943,890,1969"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="754,1993,874,2020"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="737,2044,891,2071"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_icgraph.png" border="0" usemap="#ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_icgraph" id="ubifs_2io_8c_a02909cfc9d3a0100f549390c7d464632_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="163,397,328,424"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="379,43,544,69"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="185,1005,305,1032"/>
<area shape="rect" id="node46" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="167,1132,324,1159"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="196,1183,295,1209"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="201,1081,289,1108"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="795,727,943,753"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="387,230,535,271"/>
<area shape="rect" id="node9" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="613,347,729,373"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="991,347,1163,373"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1215,296,1363,323"/>
<area shape="rect" id="node13" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1426,245,1533,272"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1211,657,1368,684"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1611,296,1696,323"/>
<area shape="rect" id="node27" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="401,701,521,728"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1232,828,1347,855"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1433,879,1526,905"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1417,777,1542,804"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="626,245,715,272"/>
<area shape="rect" id="node10" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="821,347,917,373"/>
<area shape="rect" id="node23" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1449,296,1510,323"/>
<area shape="rect" id="node14" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1591,245,1716,272"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1782,423,1898,449"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1771,43,1909,69"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1769,119,1911,145"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1777,169,1903,196"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1780,220,1900,247"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1778,271,1902,297"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1767,321,1913,348"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1764,372,1916,399"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1416,657,1543,684"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="619,651,722,677"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="609,853,732,880"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="613,803,728,829"/>
<area shape="rect" id="node31" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="812,549,925,576"/>
<area shape="rect" id="node32" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="825,955,912,981"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="607,701,734,728"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1021,941,1132,968"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="626,144,715,171"/>
<area shape="rect" id="node37" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1611,17,1696,44"/>
<area shape="rect" id="node39" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="392,1005,531,1032"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="387,397,535,424"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="395,929,527,956"/>
<area shape="rect" id="node44" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="376,1056,547,1083"/>
<area shape="rect" id="node40" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="612,1056,729,1083"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="595,955,747,981"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1001,1157,1153,1184"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="387,1208,536,1235"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="385,1107,538,1133"/>
</map>
</div>

</div>
</div>
<a id="aa52d954c97cdff3426851893fbbcf91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52d954c97cdff3426851893fbbcf91f">&#9670;&nbsp;</a></span>ubifs_pad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_pad </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_pad - pad flash space. <code></code>: UBIFS file-system description object : buffer to put padding to : how many bytes to pad</p>
<p>The flash media obliges us to write only in chunks of c-&gt;min_io_size and when we have to write less data we add padding node to the write-buffer and pad it to the next minimal I/O unit's boundary. Padding nodes help when the media is being scanned. If the amount of wasted space is not enough to fit a padding node which takes UBIFS_PAD_NODE_SZ bytes, we write padding bytes pattern (UBIFS_PADDING_BYTE).</p>
<p>Padding nodes are also used to fill gaps when the "commit-in-gaps" method is used. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_aa52d954c97cdff3426851893fbbcf91f_icgraph.png" border="0" usemap="#ubifs_2io_8c_aa52d954c97cdff3426851893fbbcf91f_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_aa52d954c97cdff3426851893fbbcf91f_icgraph" id="ubifs_2io_8c_aa52d954c97cdff3426851893fbbcf91f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#afc84fffe117700474d9902f71743efce" title="ubifs_prepare_node" alt="" coords="132,870,267,897"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="315,1073,472,1100"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="574,1022,637,1049"/>
<area shape="rect" id="node35" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="349,1124,437,1150"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="523,313,688,340"/>
<area shape="rect" id="node44" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="160,364,239,390"/>
<area shape="rect" id="node46" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="143,414,255,441"/>
<area shape="rect" id="node47" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="935,516,1085,542"/>
<area shape="rect" id="node49" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="160,617,239,644"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1146,642,1293,669"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="333,769,453,796"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="536,921,675,948"/>
<area shape="rect" id="node23" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="1144,414,1295,441"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1781,281,1867,308"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="1149,820,1290,846"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="337,972,450,998"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="531,465,679,492"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="1380,617,1512,644"/>
<area shape="rect" id="node21" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="520,870,691,897"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="754,921,871,948"/>
<area shape="rect" id="node7" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="755,465,871,492"/>
<area shape="rect" id="node11" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1597,212,1703,238"/>
<area shape="rect" id="node8" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="962,465,1058,492"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1133,262,1305,289"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1372,161,1520,188"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1367,465,1525,492"/>
<area shape="rect" id="node15" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1619,161,1681,188"/>
<area shape="rect" id="node12" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1761,212,1887,238"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1945,193,2061,220"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1935,256,2072,282"/>
<area shape="rect" id="node17" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1603,668,1697,694"/>
<area shape="rect" id="node18" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1587,541,1713,568"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1587,364,1713,390"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1370,870,1522,897"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="1355,313,1537,340"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="1353,414,1539,441"/>
<area shape="rect" id="node27" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="967,1073,1053,1100"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1368,769,1524,796"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="1365,820,1527,846"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="746,1022,879,1049"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="529,1124,682,1150"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="936,414,1084,441"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="739,95,887,136"/>
<area shape="rect" id="node42" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1781,102,1867,129"/>
<area shape="rect" id="node43" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="753,668,873,694"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1389,566,1503,593"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="965,102,1055,129"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="331,364,455,390"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="1387,364,1505,390"/>
</map>
</div>

</div>
</div>
<a id="a9d5677a6fb9ba9810931ab381e9ca3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5677a6fb9ba9810931ab381e9ca3e3">&#9670;&nbsp;</a></span>ubifs_prep_grp_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_prep_grp_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_prep_grp_node - prepare node of a group to be written to flash. <code></code>: UBIFS file-system description object : the node to pad : node length : indicates the last node of the group</p>
<p>This function prepares node at  to be written to the media - it calculates node CRC and fills the common header. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph.png" border="0" usemap="#ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph" id="ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="196,56,289,83"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="355,5,427,32"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="337,56,444,83"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="492,81,577,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph.png" border="0" usemap="#ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph" id="ubifs_2io_8c_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph">
<area shape="rect" id="node2" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="196,518,284,544"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="350,315,466,342"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="345,619,471,646"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="348,568,468,595"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="346,670,470,696"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="335,264,481,291"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="337,518,479,544"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="332,454,484,480"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="562,239,653,266"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="561,188,654,215"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="566,492,649,519"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="569,290,646,316"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="562,340,653,367"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="564,391,651,418"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="563,36,652,63"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="559,87,655,114"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="556,138,659,164"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="738,239,846,266"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="915,163,1049,190"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1111,214,1184,240"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="901,214,1063,240"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="744,492,840,519"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="749,555,835,582"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="932,618,1032,644"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="546,543,669,570"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="532,594,683,620"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="731,606,853,632"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="739,682,845,708"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="557,746,657,772"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="745,746,839,772"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="743,62,841,88"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="559,442,656,468"/>
</map>
</div>

</div>
</div>
<a id="acfc2ca3ffa8d094855c2e59551f3a767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc2ca3ffa8d094855c2e59551f3a767">&#9670;&nbsp;</a></span>ubifs_prepare_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_prepare_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_prepare_node - prepare node to be written to flash. <code></code>: UBIFS file-system description object : the node to pad : node length : if the buffer has to be padded</p>
<p>This function prepares node at  to be written to the media - it calculates node CRC, fills the common header, and adds proper padding up to the next minimum I/O unit if  is not zero. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_cgraph.png" border="0" usemap="#ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_cgraph" id="ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="188,56,281,83"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="195,107,274,133"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="347,5,419,32"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="329,56,436,83"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="484,81,569,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_icgraph.png" border="0" usemap="#ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_icgraph" id="ubifs_2io_8c_acfc2ca3ffa8d094855c2e59551f3a767_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="207,309,327,336"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="409,5,548,32"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="813,783,964,809"/>
<area shape="rect" id="node40" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="188,512,345,539"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="224,157,309,184"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="818,613,959,640"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="210,715,323,741"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="223,563,311,589"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="405,157,553,184"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="413,309,545,336"/>
<area shape="rect" id="node27" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="393,411,564,437"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="630,5,747,32"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="827,5,951,32"/>
<area shape="rect" id="node6" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="1044,5,1163,32"/>
<area shape="rect" id="node8" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="631,157,747,184"/>
<area shape="rect" id="node10" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="835,107,942,133"/>
<area shape="rect" id="node9" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="841,157,937,184"/>
<area shape="rect" id="node11" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1273,107,1398,133"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1476,81,1613,108"/>
<area shape="rect" id="node13" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1679,81,1777,108"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1498,512,1591,539"/>
<area shape="rect" id="node17" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1482,600,1607,627"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="1483,335,1606,361"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="631,259,746,285"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="613,411,765,437"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1673,512,1783,539"/>
<area shape="rect" id="node18" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1667,587,1789,613"/>
<area shape="rect" id="node22" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="845,411,932,437"/>
<area shape="rect" id="node23" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1048,461,1159,488"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1041,411,1166,437"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1278,461,1393,488"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1284,411,1387,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1027,512,1179,539"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="1012,833,1195,860"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="1243,789,1428,816"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1271,563,1400,589"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1481,789,1608,816"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1661,815,1795,841"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1681,865,1775,892"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1687,916,1769,943"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1683,663,1773,689"/>
<area shape="rect" id="node37" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1680,713,1776,740"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1677,764,1779,791"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1257,613,1413,640"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="1022,727,1185,753"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="1295,739,1376,765"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="447,715,510,741"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="622,715,755,741"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="612,563,765,589"/>
</map>
</div>

</div>
</div>
<a id="ab1c29d586db30bacfa2c9a73369a8870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1c29d586db30bacfa2c9a73369a8870">&#9670;&nbsp;</a></span>ubifs_read_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_node - read node. <code></code>: UBIFS file-system description object : buffer to read to : node type : node length (not aligned) : logical eraseblock number : offset within the logical eraseblock</p>
<p>This function reads a node of known type and and length, checks it and stores in . Returns zero in case of success, %-EUCLEAN if CRC mismatched and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_cgraph.png" border="0" usemap="#ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_cgraph" id="ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="695,5,778,32"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="181,56,287,83"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="171,107,297,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="345,157,469,184"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="371,81,443,108"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="541,56,615,83"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="527,107,629,133"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="531,157,625,184"/>
<area shape="rect" id="node11" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="541,208,615,235"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="517,259,639,285"/>
<area shape="rect" id="node18" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="518,309,638,336"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="695,56,778,83"/>
<area shape="rect" id="node13" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="699,157,774,184"/>
<area shape="rect" id="node14" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="697,208,776,235"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="687,259,787,285"/>
<area shape="rect" id="node16" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="697,309,776,336"/>
<area shape="rect" id="node17" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="696,360,777,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_icgraph.png" border="0" usemap="#ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_icgraph" id="ubifs_2io_8c_ab1c29d586db30bacfa2c9a73369a8870_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="171,593,323,620"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="371,455,513,481"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="963,885,1133,912"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="1189,784,1336,811"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="979,987,1117,1013"/>
<area shape="rect" id="node44" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="202,733,291,760"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="561,24,711,51"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="780,429,893,456"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="1005,480,1091,507"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="785,531,888,557"/>
<area shape="rect" id="node21" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="571,581,701,608"/>
<area shape="rect" id="node23" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="759,176,915,203"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="989,125,1107,152"/>
<area shape="rect" id="node29" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="581,303,691,329"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="773,24,900,51"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="993,37,1103,64"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1392,683,1519,709"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="1189,227,1336,253"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1578,733,1681,760"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1571,581,1687,608"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1573,632,1686,659"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1580,683,1679,709"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1747,733,1856,760"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1740,379,1863,405"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1911,252,2033,279"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="1187,683,1339,709"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1409,911,1502,937"/>
<area shape="rect" id="node22" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="767,632,906,659"/>
<area shape="rect" id="node26" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="995,328,1101,355"/>
<area shape="rect" id="node27" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="985,176,1111,203"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="982,277,1114,304"/>
<area shape="rect" id="node25" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1203,176,1323,203"/>
<area shape="rect" id="node30" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="777,227,896,253"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1198,885,1327,912"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1412,784,1499,811"/>
<area shape="rect" id="node34" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1574,784,1685,811"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1567,835,1692,861"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1393,1000,1518,1027"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1187,936,1339,963"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1185,987,1341,1013"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="1181,1088,1344,1115"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1568,1000,1691,1027"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="1415,1088,1496,1115"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="381,708,503,735"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="579,683,693,709"/>
<area shape="rect" id="node47" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="595,733,677,760"/>
<area shape="rect" id="node48" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="785,784,888,811"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="568,379,704,405"/>
<area shape="rect" id="node50" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="569,632,703,659"/>
</map>
</div>

</div>
</div>
<a id="a602b7041efb930fbe55efc9b3b2ea270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602b7041efb930fbe55efc9b3b2ea270">&#9670;&nbsp;</a></span>ubifs_read_node_wbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_node_wbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_node_wbuf - read node from the media or write-buffer. : wbuf to check for un-written data : buffer to read to : node type : node length : logical eraseblock number : offset within the logical eraseblock</p>
<p>This function reads a node of known type and length, checks it and stores in . If the node partially or fully sits in the write-buffer, this function takes data from the buffer, otherwise it reads the flash media. Returns zero in case of success, %-EUCLEAN if CRC mismatched and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_cgraph.png" border="0" usemap="#ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_cgraph" id="ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="895,43,978,69"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="223,347,305,373"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="205,144,323,171"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="381,296,487,323"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="571,245,643,272"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="371,195,497,221"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="545,195,669,221"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="741,93,815,120"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="727,144,829,171"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="731,195,825,221"/>
<area shape="rect" id="node13" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="741,245,815,272"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="717,296,839,323"/>
<area shape="rect" id="node20" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="718,347,838,373"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="895,93,978,120"/>
<area shape="rect" id="node15" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="899,195,974,221"/>
<area shape="rect" id="node16" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="897,245,976,272"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="887,296,987,323"/>
<area shape="rect" id="node18" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="897,347,976,373"/>
<area shape="rect" id="node19" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="896,397,977,424"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_icgraph.png" border="0" usemap="#ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_icgraph" id="ubifs_2io_8c_a602b7041efb930fbe55efc9b3b2ea270_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="205,740,348,767"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="396,284,545,311"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="414,715,527,741"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="629,765,714,792"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="419,867,522,893"/>
<area shape="rect" id="node29" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="405,917,536,944"/>
<area shape="rect" id="node32" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="593,664,749,691"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="826,816,943,843"/>
<area shape="rect" id="node49" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="415,613,526,640"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="608,284,735,311"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="829,233,940,260"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1431,689,1558,716"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="1051,5,1153,32"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="1040,107,1164,133"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1243,208,1371,235"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="1039,157,1165,184"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="1027,360,1177,387"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="1029,461,1175,488"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="1020,411,1184,437"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1023,56,1181,83"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1615,765,1717,792"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1608,613,1724,640"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1609,664,1723,691"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1617,715,1715,741"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1437,233,1553,260"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1238,5,1375,32"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1245,411,1369,437"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1232,360,1381,387"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1429,917,1560,944"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1619,1019,1713,1045"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="809,867,961,893"/>
<area shape="rect" id="node30" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="602,917,741,944"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="797,917,972,944"/>
<area shape="rect" id="node40" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="831,664,938,691"/>
<area shape="rect" id="node41" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="821,715,948,741"/>
<area shape="rect" id="node43" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="819,613,951,640"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1245,1069,1368,1096"/>
<area shape="rect" id="node35" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1042,917,1162,944"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1264,968,1349,995"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1267,816,1346,843"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1234,867,1379,893"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1236,1019,1377,1045"/>
<area shape="rect" id="node42" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="1051,981,1153,1008"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="1052,664,1152,691"/>
<area shape="rect" id="node45" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="1054,512,1150,539"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="1024,563,1180,589"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1039,765,1165,792"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1253,664,1360,691"/>
<area shape="rect" id="node50" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="612,613,731,640"/>
</map>
</div>

</div>
</div>
<a id="a0674f14e3d6ab28a6de41c44eeb85797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0674f14e3d6ab28a6de41c44eeb85797">&#9670;&nbsp;</a></span>ubifs_ro_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_ro_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_ro_mode - switch UBIFS to read read-only mode. <code></code>: UBIFS file-system description object : error code which is the reason of switching to R/O mode </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_cgraph.png" border="0" usemap="#ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_cgraph" id="ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="160,5,245,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_icgraph.png" border="0" usemap="#ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_icgraph" id="ubifs_2io_8c_a0674f14e3d6ab28a6de41c44eeb85797_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="189,705,283,732"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="393,120,492,147"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="975,1179,1097,1205"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="179,1440,293,1467"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="181,1009,291,1036"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="578,1221,726,1248"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="795,1044,909,1071"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="578,1273,726,1314"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="578,1171,726,1197"/>
<area shape="rect" id="node22" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="809,1255,895,1281"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="381,411,504,437"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="383,816,503,843"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="183,1491,289,1517"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="189,1541,283,1568"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="178,1592,294,1619"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="167,756,305,783"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="165,1643,307,1669"/>
<area shape="rect" id="node45" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="367,1668,518,1695"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="173,1744,299,1771"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="176,1795,296,1821"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="381,233,505,260"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="163,1845,309,1872"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="160,1896,312,1923"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="595,5,709,32"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="602,56,702,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1147,1103,1269,1129"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="360,1136,525,1163"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="360,933,525,960"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="383,715,503,741"/>
<area shape="rect" id="node21" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="573,1019,731,1045"/>
<area shape="rect" id="node23" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="603,968,701,995"/>
<area shape="rect" id="node24" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="399,984,487,1011"/>
<area shape="rect" id="node16" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="594,1069,710,1096"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="989,917,1083,944"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="973,791,1099,817"/>
<area shape="rect" id="node20" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="583,664,721,691"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="577,259,727,285"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="596,512,708,539"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="602,613,702,640"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="577,563,727,589"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="591,107,713,133"/>
<area shape="rect" id="node31" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="613,411,691,437"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="779,765,925,792"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="583,157,721,184"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="781,487,923,513"/>
<area shape="rect" id="node35" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="615,461,689,488"/>
<area shape="rect" id="node36" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="585,208,719,235"/>
<area shape="rect" id="node38" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="590,867,714,893"/>
<area shape="rect" id="node39" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="783,816,921,843"/>
</map>
</div>

</div>
</div>
<a id="a74c2db86f03a3bcacb020be5daf7b74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c2db86f03a3bcacb020be5daf7b74c">&#9670;&nbsp;</a></span>ubifs_sync_wbufs_by_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_sync_wbufs_by_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_sync_wbufs_by_inode - synchronize write-buffers for an inode. <code></code>: UBIFS file-system description object : inode to synchronize</p>
<p>This function synchronizes write-buffers which contain nodes belonging to . Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_cgraph.png" border="0" usemap="#ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_cgraph" id="ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a3b4d80947dbd579130f95db8f4de5691" title="wbuf_has_ino" alt="" coords="233,56,335,83"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="201,107,367,133"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="639,720,745,747"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="415,56,591,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1207,360,1288,387"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="463,5,542,32"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="448,284,557,311"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1012,157,1131,184"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="641,284,743,311"/>
<area shape="rect" id="node25" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1211,1323,1283,1349"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="801,1095,928,1121"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="793,208,936,235"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1029,208,1114,235"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="817,309,912,336"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1001,461,1141,488"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="999,512,1143,539"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1030,563,1113,589"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1028,613,1115,640"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1031,664,1112,691"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1004,715,1139,741"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1011,765,1132,792"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1008,816,1135,843"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1009,867,1133,893"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="991,917,1151,944"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1007,968,1135,995"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1009,360,1133,387"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1009,411,1133,437"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1006,1019,1137,1045"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1002,1627,1141,1653"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1015,1069,1128,1096"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1011,1677,1131,1704"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1006,1728,1137,1755"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1009,1779,1133,1805"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1006,1829,1137,1856"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1014,1880,1129,1907"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1008,1931,1135,1957"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1001,1981,1142,2008"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1014,1120,1129,1147"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="997,259,1145,285"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="994,1171,1149,1197"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1008,1221,1135,1248"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="986,309,1157,336"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="998,1272,1145,1299"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1013,1323,1130,1349"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1015,1373,1128,1400"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="997,1424,1146,1451"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="1015,1475,1128,1501"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="984,1525,1159,1552"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1018,1576,1125,1603"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_icgraph.png" border="0" usemap="#ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_icgraph" id="ubifs_2io_8c_a74c2db86f03a3bcacb020be5daf7b74c_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="201,13,291,39"/>
</map>
</div>

</div>
</div>
<a id="a44bb751e441c7a2479b5251b1423d16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bb751e441c7a2479b5251b1423d16a">&#9670;&nbsp;</a></span>ubifs_wbuf_add_ino_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_wbuf_add_ino_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_add_ino_nolock - add an inode number into the wbuf inode array. : the write-buffer where to add : the inode number</p>
<p>This function adds an inode number to the inode array of the write-buffer. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a44bb751e441c7a2479b5251b1423d16a_icgraph.png" border="0" usemap="#ubifs_2io_8c_a44bb751e441c7a2479b5251b1423d16a_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a44bb751e441c7a2479b5251b1423d16a_icgraph" id="ubifs_2io_8c_a44bb751e441c7a2479b5251b1423d16a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="209,335,325,361"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="198,664,335,691"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="195,765,338,792"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="203,613,330,640"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="207,563,327,589"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="205,715,329,741"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="194,63,339,89"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="191,171,343,197"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="421,107,511,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="419,157,513,184"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="425,461,507,488"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="427,208,505,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="421,259,511,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="423,309,509,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="421,360,511,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="418,411,514,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="415,512,517,539"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="597,56,705,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="774,5,907,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="969,31,1043,57"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="760,107,921,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="603,461,699,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="607,563,694,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="791,588,891,615"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="417,664,515,691"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="594,664,707,691"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="601,715,701,741"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="793,715,888,741"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="405,816,527,843"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="391,765,541,792"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="589,765,712,792"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="597,613,704,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="601,5,700,32"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="417,56,515,83"/>
</map>
</div>

</div>
</div>
<a id="a9c6a43ed3cec37fb67b4cf4f129b84de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6a43ed3cec37fb67b4cf4f129b84de">&#9670;&nbsp;</a></span>ubifs_wbuf_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_init - initialize write-buffer. <code></code>: UBIFS file-system description object : write-buffer to initialize</p>
<p>This function initializes write-buffer. Returns zero in case of success %-ENOMEM in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph.png" border="0" usemap="#ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph" id="ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a2d558cd61ed553bd7e3fb4048ccdada4" title="wbuf_timer_callback\l_nolock" alt="" coords="163,23,304,65"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="379,5,460,32"/>
<area shape="rect" id="node4" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="352,56,487,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph.png" border="0" usemap="#ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph" id="ubifs_2io_8c_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="163,5,253,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="301,5,395,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="443,5,552,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="600,5,693,32"/>
</map>
</div>

</div>
</div>
<a id="a4bf09b0b677c1ca6d0b034d91281d2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf09b0b677c1ca6d0b034d91281d2f3">&#9670;&nbsp;</a></span>ubifs_wbuf_seek_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_seek_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_seek_nolock - seek write-buffer. : write-buffer : logical eraseblock number to seek to : logical eraseblock offset to seek to</p>
<p>This function targets the write-buffer to logical eraseblock :. The write-buffer has to be empty. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph.png" border="0" usemap="#ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph" id="ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="219,5,300,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph.png" border="0" usemap="#ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph" id="ubifs_2io_8c_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="219,331,335,357"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="983,259,1089,285"/>
<area shape="rect" id="node48" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="221,388,332,415"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="393,331,489,357"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="548,331,720,357"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="773,309,921,336"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="768,372,925,399"/>
<area shape="rect" id="node40" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1005,309,1067,336"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1147,259,1272,285"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1338,537,1454,564"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1327,69,1465,96"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1325,208,1467,235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1333,132,1459,159"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1336,259,1456,285"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1334,12,1458,39"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1323,791,1469,817"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1320,309,1472,336"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1550,360,1641,387"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1549,613,1642,640"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1554,715,1637,741"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1557,512,1634,539"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1550,411,1641,437"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1552,461,1639,488"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1551,765,1640,792"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1547,563,1643,589"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1544,664,1647,691"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1726,360,1834,387"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1889,816,2023,843"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1732,715,1828,741"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1737,259,1823,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1906,183,2006,209"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1546,56,1645,83"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1723,56,1837,83"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1730,5,1830,32"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1909,5,2003,32"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1534,208,1657,235"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1520,157,1671,184"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1719,157,1841,184"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1727,107,1833,133"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1731,867,1829,893"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1547,309,1644,336"/>
<area shape="rect" id="node41" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1147,309,1272,336"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="989,461,1083,488"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="973,360,1099,387"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1333,664,1459,691"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1155,461,1264,488"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1148,360,1271,387"/>
<area shape="rect" id="node49" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="383,400,500,427"/>
<area shape="rect" id="node50" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="565,425,703,452"/>
</map>
</div>

</div>
</div>
<a id="a3e6d29ad192528c05f246cd31a1732fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6d29ad192528c05f246cd31a1732fb">&#9670;&nbsp;</a></span>ubifs_wbuf_sync_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_sync_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_sync_nolock - synchronize write-buffer. : write-buffer to synchronize</p>
<p>This function synchronizes write-buffer  and returns zero in case of success or a negative error code in case of failure.</p>
<p>Note, although write-buffers are of <code></code>-&gt;max_write_size, this function does not necessarily writes all <code></code>-&gt;max_write_size bytes to the flash. Instead, if the write-buffer is only partially filled with data, only the used part of the write-buffer (aligned on <code></code>-&gt;min_io_size boundary) is synchronized. This way we waste less space. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_cgraph.png" border="0" usemap="#ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_cgraph" id="ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="219,135,395,162"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1011,287,1092,314"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="267,287,346,314"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="252,186,361,212"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="816,8,935,35"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="445,135,547,162"/>
<area shape="rect" id="node23" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1015,1503,1087,1530"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="443,186,549,212"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="605,1174,732,1200"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="597,34,740,60"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="833,110,918,136"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="621,84,716,111"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="805,642,945,668"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="803,692,947,719"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="834,743,917,770"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="832,794,919,820"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="835,844,916,871"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="808,895,943,922"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="815,946,936,972"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="812,996,939,1023"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="813,1047,937,1074"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="795,1098,955,1124"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="811,1148,939,1175"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="813,287,937,314"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="813,338,937,364"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="810,1452,941,1479"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="806,1756,945,1783"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="819,1503,932,1530"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="815,1807,935,1834"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="810,1858,941,1884"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="813,1908,937,1935"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="810,1959,941,1986"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="818,2010,933,2036"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="812,388,939,415"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="805,439,946,466"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="818,1554,933,1580"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="801,540,949,567"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="798,1706,953,1732"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="812,1604,939,1631"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="790,591,961,618"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="802,1655,949,1682"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="817,2060,934,2087"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="819,2111,932,2138"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="801,490,950,516"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="819,1199,932,1226"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="788,1250,963,1276"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="822,1300,929,1327"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="820,1351,931,1378"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="805,1402,945,1428"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_icgraph.png" border="0" usemap="#ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_icgraph" id="ubifs_2io_8c_a3e6d29ad192528c05f246cd31a1732fb_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="219,69,367,95"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="219,677,367,719"/>
<area shape="rect" id="node10" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="235,119,351,146"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="589,170,761,197"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="814,525,962,551"/>
<area shape="rect" id="node14" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1024,575,1131,602"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="809,170,967,197"/>
<area shape="rect" id="node43" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1208,626,1293,653"/>
<area shape="rect" id="node44" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="233,347,353,374"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="831,221,945,247"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1031,271,1124,298"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1015,221,1140,247"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1196,271,1305,298"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1189,221,1312,247"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="433,685,523,711"/>
<area shape="rect" id="node11" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="430,119,526,146"/>
<area shape="rect" id="node38" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1047,423,1108,450"/>
<area shape="rect" id="node15" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1188,575,1313,602"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1379,347,1495,374"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1369,297,1506,323"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1366,677,1509,703"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1374,525,1501,551"/>
<area shape="rect" id="node33" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1377,626,1497,653"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1375,575,1499,602"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1365,727,1510,754"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1361,778,1513,805"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1591,322,1682,349"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1590,119,1683,146"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1595,271,1678,298"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1598,373,1675,399"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1591,423,1682,450"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1593,474,1680,501"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1592,170,1681,197"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1589,221,1685,247"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1585,69,1688,95"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1760,449,1847,475"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1575,677,1698,703"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1561,727,1712,754"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1583,525,1690,551"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1587,575,1687,602"/>
<area shape="rect" id="node39" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1188,423,1313,450"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1374,170,1501,197"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1570,18,1703,45"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="427,271,529,298"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="614,322,737,349"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="421,322,535,349"/>
<area shape="rect" id="node48" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="421,221,535,247"/>
<area shape="rect" id="node49" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="632,373,719,399"/>
<area shape="rect" id="node50" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="415,474,541,501"/>
</map>
</div>

</div>
</div>
<a id="a6ee6b209c593633d86570858d6e5ff51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee6b209c593633d86570858d6e5ff51">&#9670;&nbsp;</a></span>ubifs_wbuf_write_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_write_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_write_nolock - write data to flash via write-buffer. : write-buffer : node to write : node length</p>
<p>This function writes data to flash via write-buffer . This means that the last piece of the node won't reach the flash media immediately if it does not take whole max. write unit (<code></code>-&gt;max_write_size). Instead, the node will sit in RAM until the write-buffer is synchronized (e.g., by timer, or because more data are appended to the write-buffer).</p>
<p>This function returns zero in case of success and a negative error code in case of failure. If the node cannot be written because there is no more space in this logical eraseblock, %-ENOSPC is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_cgraph.png" border="0" usemap="#ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_cgraph" id="ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1258,1107,1341,1134"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1100,119,1181,146"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="219,588,395,615"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="252,639,361,666"/>
<area shape="rect" id="node35" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1105,1284,1177,1311"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a72790ff2f14d3cf772fc8e842ac0bff8" title="new_wbuf_timer_nolock" alt="" coords="443,43,605,70"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="890,955,1014,982"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="250,1107,363,1134"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="893,94,1011,120"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="473,296,575,323"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="471,220,577,247"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="675,524,802,551"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="667,144,810,171"/>
<area shape="rect" id="node38" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="909,144,995,171"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="691,296,786,323"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="882,803,1022,830"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="880,296,1024,323"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="911,347,993,374"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="909,398,995,424"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="911,448,993,475"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="885,499,1019,526"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1080,752,1201,779"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="889,702,1015,728"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="890,904,1014,931"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="872,600,1032,627"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="888,651,1016,678"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="890,246,1014,272"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="890,195,1014,222"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="887,1006,1017,1032"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="883,752,1021,779"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1262,854,1337,880"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1260,904,1339,931"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1249,702,1349,728"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1260,752,1339,779"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1259,803,1340,830"/>
<area shape="rect" id="node22" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1103,803,1178,830"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1103,1056,1178,1083"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1089,955,1192,982"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1093,1006,1188,1032"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1080,854,1201,880"/>
<area shape="rect" id="node29" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1081,904,1201,931"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1258,1056,1341,1083"/>
<area shape="rect" id="node44" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="481,1183,567,1210"/>
<area shape="rect" id="node50" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="671,1107,806,1134"/>
<area shape="rect" id="node45" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="679,1360,798,1387"/>
<area shape="rect" id="node46" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="671,1158,806,1184"/>
<area shape="rect" id="node47" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="682,955,795,982"/>
<area shape="rect" id="node48" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="682,1259,795,1286"/>
<area shape="rect" id="node49" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="653,1208,824,1235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_icgraph.png" border="0" usemap="#ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_icgraph" id="ubifs_2io_8c_a6ee6b209c593633d86570858d6e5ff51_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="219,296,308,323"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="361,169,447,196"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1107,259,1192,285"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="356,321,452,348"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="500,328,672,355"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="720,328,868,355"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1071,715,1228,741"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="916,284,1023,311"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="939,335,1000,361"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1087,208,1212,235"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1294,512,1410,539"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1283,56,1421,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1281,157,1423,184"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1289,208,1415,235"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1292,259,1412,285"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1290,107,1414,133"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1279,715,1425,741"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1276,309,1428,336"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1506,360,1597,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1505,613,1598,640"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1510,765,1593,792"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1513,512,1590,539"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1506,411,1597,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1508,461,1595,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1507,715,1596,741"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1503,563,1599,589"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1500,664,1603,691"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1682,537,1790,564"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1859,771,1993,797"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2055,745,2128,772"/>
<area shape="rect" id="node13" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1845,537,2007,564"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1688,765,1784,792"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1693,259,1779,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1876,233,1976,260"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1502,5,1601,32"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1679,5,1793,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1686,56,1786,83"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1879,56,1973,83"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1490,157,1613,184"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1476,107,1627,133"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1675,107,1797,133"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1683,208,1789,235"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1687,867,1785,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1503,309,1600,336"/>
<area shape="rect" id="node43" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1087,335,1212,361"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1305,867,1399,893"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1289,765,1415,792"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1289,664,1415,691"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1497,917,1606,944"/>
</map>
</div>

</div>
</div>
<a id="a5e156b540025dd2266e7f4c6c302356e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e156b540025dd2266e7f4c6c302356e">&#9670;&nbsp;</a></span>ubifs_write_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_write_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_write_node - write node to the media. <code></code>: UBIFS file-system description object : the node to write : node length : logical eraseblock number : offset within the logical eraseblock</p>
<p>This function automatically fills node magic number, assigns sequence number, and calculates node CRC checksum. The length of the  buffer has to be aligned to the minimal I/O unit size. This function automatically appends padding node and padding bytes if needed. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_cgraph.png" border="0" usemap="#ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_cgraph" id="ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1262,296,1345,323"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="173,1335,308,1361"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="186,1157,295,1184"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="909,397,1033,424"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="361,1335,454,1361"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="368,1487,447,1513"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="935,1309,1007,1336"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="525,1284,631,1311"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="735,1309,820,1336"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="718,1259,837,1285"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="356,1157,459,1184"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="515,676,641,703"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="507,1132,649,1159"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="531,1233,625,1260"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="707,955,847,981"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="705,1005,849,1032"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="736,1056,819,1083"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="734,1107,821,1133"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="737,1157,818,1184"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="710,195,845,221"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1084,93,1205,120"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="907,752,1034,779"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="909,448,1033,475"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="697,245,857,272"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="713,296,841,323"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="715,347,839,373"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="715,397,839,424"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="712,1208,843,1235"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="708,448,847,475"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="721,803,834,829"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="717,499,837,525"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="905,195,1036,221"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="715,600,839,627"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="712,651,843,677"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="720,701,835,728"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="714,752,841,779"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="707,853,848,880"/>
<area shape="rect" id="node20" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1266,220,1341,247"/>
<area shape="rect" id="node21" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1264,68,1343,95"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1253,119,1353,145"/>
<area shape="rect" id="node23" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1264,169,1343,196"/>
<area shape="rect" id="node24" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1263,17,1344,44"/>
<area shape="rect" id="node26" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1107,524,1182,551"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1107,473,1182,500"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1093,321,1196,348"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1097,372,1192,399"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1084,144,1205,171"/>
<area shape="rect" id="node33" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1085,423,1205,449"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1262,473,1345,500"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_icgraph.png" border="0" usemap="#ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_icgraph" id="ubifs_2io_8c_a5e156b540025dd2266e7f4c6c302356e_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="189,516,328,542"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="392,442,540,469"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="788,620,920,646"/>
<area shape="rect" id="node49" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="173,718,344,745"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="407,509,525,536"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="602,506,726,533"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="795,505,913,532"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="968,493,1143,520"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1221,544,1308,570"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1394,518,1505,545"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1387,569,1512,596"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1560,581,1717,608"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1576,341,1701,368"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1795,746,1888,773"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1779,645,1904,672"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1986,746,2095,773"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2164,746,2257,773"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1979,696,2102,722"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1783,341,1899,368"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1773,442,1910,469"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1770,544,1913,570"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1778,594,1905,621"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1781,62,1901,89"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1779,189,1903,216"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1769,240,1914,266"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1765,290,1917,317"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1995,290,2086,317"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1994,341,2087,368"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1999,392,2082,418"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2002,442,2079,469"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1995,37,2086,64"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1997,88,2084,114"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1996,138,2085,165"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1993,189,2089,216"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1989,240,2092,266"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2167,189,2254,216"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1991,493,2090,520"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1979,594,2102,621"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1965,544,2116,570"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1987,645,2094,672"/>
<area shape="rect" id="node40" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="606,392,722,418"/>
<area shape="rect" id="node44" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1396,341,1503,368"/>
<area shape="rect" id="node41" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="806,392,902,418"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="969,392,1141,418"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1191,341,1339,368"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="1203,696,1326,722"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="998,544,1113,570"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="979,594,1131,621"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="588,772,740,798"/>
</map>
</div>

</div>
</div>
<a id="a3b4d80947dbd579130f95db8f4de5691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4d80947dbd579130f95db8f4de5691">&#9670;&nbsp;</a></span>wbuf_has_ino()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wbuf_has_ino </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>wbuf_has_ino - returns if the wbuf contains data from the inode. : the write-buffer : the inode number</p>
<p>This function returns with %1 if the write-buffer contains some data from the given inode otherwise it returns with %0. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a3b4d80947dbd579130f95db8f4de5691_icgraph.png" border="0" usemap="#ubifs_2io_8c_a3b4d80947dbd579130f95db8f4de5691_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a3b4d80947dbd579130f95db8f4de5691_icgraph" id="ubifs_2io_8c_a3b4d80947dbd579130f95db8f4de5691_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="156,5,304,47"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="352,13,441,39"/>
</map>
</div>

</div>
</div>
<a id="a2d558cd61ed553bd7e3fb4048ccdada4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d558cd61ed553bd7e3fb4048ccdada4">&#9670;&nbsp;</a></span>wbuf_timer_callback_nolock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum hrtimer_restart wbuf_timer_callback_nolock </td>
          <td>(</td>
          <td class="paramtype">struct hrtimer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>wbuf_timer_callback - write-buffer timer callback function. : timer data (write-buffer descriptor)</p>
<p>This function is called when the write-buffer timer expires. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_cgraph.png" border="0" usemap="#ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_cgraph" alt=""/></div>
<map name="ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_cgraph" id="ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="221,5,303,32"/>
<area shape="rect" id="node3" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="195,56,329,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_icgraph.png" border="0" usemap="#ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_icgraph" alt=""/></div>
<map name="ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_icgraph" id="ubifs_2io_8c_a2d558cd61ed553bd7e3fb4048ccdada4_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9c6a43ed3cec37fb67b4cf4f129b84de" title="ubifs_wbuf_init" alt="" coords="195,13,304,39"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="352,13,443,39"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="491,13,584,39"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="632,13,741,39"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="789,13,883,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="ubifs_2io_8c.html">io.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
