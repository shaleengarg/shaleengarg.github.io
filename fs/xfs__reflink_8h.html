<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: xfs/xfs_reflink.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xfs__reflink_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xfs_reflink.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h__dep__incl.png" border="0" usemap="#xfs_2xfs__reflink_8hdep" alt=""/></div>
<map name="xfs_2xfs__reflink_8hdep" id="xfs_2xfs__reflink_8hdep">
<area shape="rect" id="node2" href="xfs_2scrub_2inode_8c.html" title="xfs/scrub/inode.c" alt="" coords="5,80,128,107"/>
<area shape="rect" id="node3" href="xfs__aops_8c.html" title="xfs/xfs_aops.c" alt="" coords="153,80,261,107"/>
<area shape="rect" id="node4" href="xfs__bmap__util_8c.html" title="xfs/xfs_bmap_util.c" alt="" coords="285,80,421,107"/>
<area shape="rect" id="node5" href="xfs__file_8c.html" title="xfs/xfs_file.c" alt="" coords="446,80,543,107"/>
<area shape="rect" id="node6" href="xfs__icache_8c.html" title="xfs/xfs_icache.c" alt="" coords="567,80,686,107"/>
<area shape="rect" id="node7" href="xfs__inode_8c.html" title="xfs/xfs_inode.c" alt="" coords="710,80,821,107"/>
<area shape="rect" id="node8" href="xfs__iomap_8c.html" title="xfs/xfs_iomap.c" alt="" coords="845,80,960,107"/>
<area shape="rect" id="node9" href="xfs__mount_8c.html" title="xfs/xfs_mount.c" alt="" coords="985,80,1101,107"/>
<area shape="rect" id="node10" href="xfs__reflink_8c.html" title="xfs/xfs_reflink.c" alt="" coords="1125,80,1240,107"/>
<area shape="rect" id="node11" href="xfs__super_8c.html" title="xfs/xfs_super.c" alt="" coords="1264,80,1376,107"/>
</map>
</div>
</div>
<p><a href="xfs__reflink_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2ca0d63efb8f58af0a2ee5c281a5105b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a2ca0d63efb8f58af0a2ee5c281a5105b">xfs_reflink_find_shared</a> (struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, struct <a class="el" href="structxfs__trans.html">xfs_trans</a> *tp, <a class="el" href="xfs__types_8h.html#a940a49f78b3c106c0a757e77b725d07b">xfs_agnumber_t</a> agno, <a class="el" href="xfs__types_8h.html#acf6b84d198c6f6a411319ab451d94424">xfs_agblock_t</a> agbno, <a class="el" href="xfs__types_8h.html#ae2b8130edf9e8594e669549500b530bf">xfs_extlen_t</a> aglen, <a class="el" href="xfs__types_8h.html#acf6b84d198c6f6a411319ab451d94424">xfs_agblock_t</a> *fbno, <a class="el" href="xfs__types_8h.html#ae2b8130edf9e8594e669549500b530bf">xfs_extlen_t</a> *flen, bool find_maximal)</td></tr>
<tr class="separator:a2ca0d63efb8f58af0a2ee5c281a5105b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bcde20c85320ad2eaf44bb2195e43d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a55bcde20c85320ad2eaf44bb2195e43d">xfs_reflink_trim_around_shared</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *irec, bool *shared, bool *trimmed)</td></tr>
<tr class="separator:a55bcde20c85320ad2eaf44bb2195e43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0fd9215d489d1beac5ce6677e22ebb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#aec0fd9215d489d1beac5ce6677e22ebb">xfs_reflink_reserve_cow</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *imap, bool *shared)</td></tr>
<tr class="separator:aec0fd9215d489d1beac5ce6677e22ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869e810e7a1f4b44761f383aa025b65a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a869e810e7a1f4b44761f383aa025b65a">xfs_reflink_allocate_cow</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *imap, bool *shared, uint *lockmode)</td></tr>
<tr class="separator:a869e810e7a1f4b44761f383aa025b65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec31eb46d75c2aafe1d2b87fc359eab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a4ec31eb46d75c2aafe1d2b87fc359eab">xfs_reflink_convert_cow</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>)</td></tr>
<tr class="separator:a4ec31eb46d75c2aafe1d2b87fc359eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6316d8fd4099973e17c6d218fad3d4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#ae6316d8fd4099973e17c6d218fad3d4d">xfs_reflink_find_cow_mapping</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *imap)</td></tr>
<tr class="separator:ae6316d8fd4099973e17c6d218fad3d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8373afebde791bbb1b75f1183e2abe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a1e8373afebde791bbb1b75f1183e2abe">xfs_reflink_trim_irec_to_next_cow</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, <a class="el" href="xfs__types_8h.html#ac180eae39d9fb8d36bd4a1f03dec87a4">xfs_fileoff_t</a> offset_fsb, struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *imap)</td></tr>
<tr class="separator:a1e8373afebde791bbb1b75f1183e2abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5ad0aad8ea0ba8721f47cf098e86f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a7c5ad0aad8ea0ba8721f47cf098e86f5">xfs_reflink_cancel_cow_blocks</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, struct <a class="el" href="structxfs__trans.html">xfs_trans</a> **tpp, <a class="el" href="xfs__types_8h.html#ac180eae39d9fb8d36bd4a1f03dec87a4">xfs_fileoff_t</a> offset_fsb, <a class="el" href="xfs__types_8h.html#ac180eae39d9fb8d36bd4a1f03dec87a4">xfs_fileoff_t</a> end_fsb, bool cancel_real)</td></tr>
<tr class="separator:a7c5ad0aad8ea0ba8721f47cf098e86f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c82b80037c1bd0f63e2c22f35c1351b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a6c82b80037c1bd0f63e2c22f35c1351b">xfs_reflink_cancel_cow_range</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>, bool cancel_real)</td></tr>
<tr class="separator:a6c82b80037c1bd0f63e2c22f35c1351b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9433dcefc545a3aa68ffbce02768584"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#ab9433dcefc545a3aa68ffbce02768584">xfs_reflink_end_cow</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>)</td></tr>
<tr class="separator:ab9433dcefc545a3aa68ffbce02768584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fb549cddd1bcf69e2baf8db8f8acda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a36fb549cddd1bcf69e2baf8db8f8acda">xfs_reflink_recover_cow</a> (struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>)</td></tr>
<tr class="separator:a36fb549cddd1bcf69e2baf8db8f8acda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693f178d32a07921a528160ac2f94d1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a693f178d32a07921a528160ac2f94d1e">xfs_reflink_remap_range</a> (struct file *file_in, loff_t pos_in, struct file *file_out, loff_t pos_out, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, bool is_dedupe)</td></tr>
<tr class="separator:a693f178d32a07921a528160ac2f94d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8699c30a7e4464aa4ce1665fa394c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#aeb8699c30a7e4464aa4ce1665fa394c5">xfs_reflink_inode_has_shared_extents</a> (struct <a class="el" href="structxfs__trans.html">xfs_trans</a> *tp, struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, bool *has_shared)</td></tr>
<tr class="separator:aeb8699c30a7e4464aa4ce1665fa394c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980f423f38fd0457dcf14af2315de3f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a980f423f38fd0457dcf14af2315de3f2">xfs_reflink_clear_inode_flag</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, struct <a class="el" href="structxfs__trans.html">xfs_trans</a> **tpp)</td></tr>
<tr class="separator:a980f423f38fd0457dcf14af2315de3f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8c219f70d8f2f215dafd39e4bc03f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__reflink_8h.html#a0e8c219f70d8f2f215dafd39e4bc03f8">xfs_reflink_unshare</a> (struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *ip, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, <a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a> <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a0e8c219f70d8f2f215dafd39e4bc03f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a869e810e7a1f4b44761f383aa025b65a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a869e810e7a1f4b44761f383aa025b65a">&#9670;&nbsp;</a></span>xfs_reflink_allocate_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_allocate_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *&#160;</td>
          <td class="paramname"><em>imap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint *&#160;</td>
          <td class="paramname"><em>lockmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_cgraph.png" border="0" usemap="#xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_cgraph" id="xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="479,9,616,35"/>
<area shape="rect" id="node3" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="925,477,1024,503"/>
<area shape="rect" id="node4" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="683,274,839,301"/>
<area shape="rect" id="node12" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="707,106,816,133"/>
<area shape="rect" id="node13" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="491,211,603,238"/>
<area shape="rect" id="node14" href="xfs__reflink_8c.html#a55bcde20c85320ad2eaf44bb2195e43d" title="xfs_reflink_trim_around\l_shared" alt="" coords="239,77,396,119"/>
<area shape="rect" id="node17" href="xfs__iomap_8h.html#a2811373009fe95eb93cab5cd2fc31ddd" title="xfs_aligned_fsb_count" alt="" coords="241,814,393,841"/>
<area shape="rect" id="node18" href="xfs__inode_8c.html#a7aa3fc1aab478566cf59da4f63fc68f5" title="xfs_get_cowextsz_hint" alt="" coords="239,865,395,891"/>
<area shape="rect" id="node20" href="xfs__inode_8c.html#a4650d4a5d4569e1dc53011f041fdd5e7" title="xfs_iunlock" alt="" coords="273,966,361,993"/>
<area shape="rect" id="node24" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="262,763,373,790"/>
<area shape="rect" id="node27" href="xfs__trans_8c.html#a69fa6c7dd501a6e2a9dc530420381c95" title="xfs_trans_cancel" alt="" coords="487,763,608,790"/>
<area shape="rect" id="node28" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="280,915,355,942"/>
<area shape="rect" id="node31" href="xfs__qm_8c.html#aa223c02e5ddd14bd7535c0210d4be755" title="xfs_qm_dqattach_locked" alt="" coords="464,510,631,537"/>
<area shape="rect" id="node36" href="xfs__trans__dquot_8c.html#adb156ff209502827aef0f520bdfd6cb6" title="xfs_trans_reserve_quota\l_nblks" alt="" coords="679,731,844,772"/>
<area shape="rect" id="node38" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="264,662,371,689"/>
<area shape="rect" id="node41" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="267,1017,367,1043"/>
<area shape="rect" id="node42" href="xfs__bmap_8c.html#a4e19cbd5b34c86e0811c5e7f8428dcc4" title="xfs_bmapi_write" alt="" coords="489,271,606,298"/>
<area shape="rect" id="node46" href="xfs__icache_8c.html#a05646fd1e2f9a936f9c334da944ef79a" title="xfs_inode_set_cowblocks_tag" alt="" coords="219,1067,416,1094"/>
<area shape="rect" id="node47" href="xfs__defer_8c.html#a3dad7f656a0103ea3fae1e84e5168032" title="xfs_defer_finish" alt="" coords="260,1118,375,1145"/>
<area shape="rect" id="node48" href="xfs__trans_8c.html#a157a44ff0eead9ae7d12e7f9aa6b1735" title="xfs_trans_commit" alt="" coords="254,1169,381,1195"/>
<area shape="rect" id="node49" href="xfs__reflink_8c.html#a393048801cffaec729320b0b019f9018" title="xfs_reflink_convert\l_cow_extent" alt="" coords="251,263,383,304"/>
<area shape="rect" id="node50" href="xfs__defer_8c.html#a5b8ccf3230ddacd655769d6a2f06cb6e" title="xfs_defer_cancel" alt="" coords="257,1219,378,1246"/>
<area shape="rect" id="node5" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="909,173,1040,199"/>
<area shape="rect" id="node6" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="1116,230,1248,257"/>
<area shape="rect" id="node7" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="1149,287,1215,314"/>
<area shape="rect" id="node8" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="1105,350,1259,377"/>
<area shape="rect" id="node9" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="912,426,1037,453"/>
<area shape="rect" id="node10" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="923,274,1026,301"/>
<area shape="rect" id="node11" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="928,122,1021,149"/>
<area shape="rect" id="node15" href="xfs__bmap_8h.html#a8e3b9e8eca6692fd815214f8bbc772a8" title="xfs_bmap_is_real_extent" alt="" coords="464,110,631,137"/>
<area shape="rect" id="node16" href="xfs__reflink_8c.html#a20c6ea89dea2bf9a06f9e47856b78dda" title="xfs_reflink_find_shared" alt="" coords="469,59,625,86"/>
<area shape="rect" id="node19" href="xfs__inode_8c.html#a44ec9a213b64a09a891c2f303d4ce2ab" title="xfs_get_extsz_hint" alt="" coords="481,915,613,942"/>
<area shape="rect" id="node21" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="518,1067,577,1094"/>
<area shape="rect" id="node22" href="mrlock_8h.html#aa69de408e4df2ae674775f2214e26fcc" title="mrunlock_excl" alt="" coords="494,1118,601,1145"/>
<area shape="rect" id="node23" href="mrlock_8h.html#a7ef2a20fefba2503eccde268d2ddfc39" title="mrunlock_shared" alt="" coords="487,1169,608,1195"/>
<area shape="rect" id="node25" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="694,797,829,823"/>
<area shape="rect" id="node26" href="xfs__trans_8c.html#a4fe0b39a2509e6826e43c2e875831d4a" title="xfs_trans_reserve" alt="" coords="484,865,611,891"/>
<area shape="rect" id="node29" href="mrlock_8h.html#a14907e1d8f3f8fe5201d7d8e24cab726" title="mrupdate_nested" alt="" coords="486,966,609,993"/>
<area shape="rect" id="node30" href="mrlock_8h.html#a31e0a521ef2186bb25657979d1e1c361" title="mraccess_nested" alt="" coords="485,1017,610,1043"/>
<area shape="rect" id="node32" href="xfs__qm_8c.html#adada5995e92e53b1a4f4b095ff2204d2" title="xfs_qm_need_dqattach" alt="" coords="683,679,840,706"/>
<area shape="rect" id="node34" href="xfs__qm_8c.html#aad604d6e282560a40976b6a63645af9b" title="xfs_qm_dqattach_one" alt="" coords="686,527,837,554"/>
<area shape="rect" id="node35" href="xfs__inode_8h.html#a4b7891052fc2fd26bbf6ca9df0b72b46" title="xfs_get_projid" alt="" coords="710,578,813,605"/>
<area shape="rect" id="node33" href="xfs__format_8h.html#a0bfb10991a4491c4e46355f825a090d4" title="xfs_is_quota_inode" alt="" coords="907,679,1042,706"/>
<area shape="rect" id="node37" href="xfs__trans__dquot_8c.html#a6112a03f18f458f5880fc6d555bd1463" title="xfs_trans_reserve_quota\l_bydquots" alt="" coords="892,731,1057,772"/>
<area shape="rect" id="node39" href="xfs__inode__item_8c.html#a69a61cbe7966c8167a2f8e771fb2b59c" title="xfs_inode_item_init" alt="" coords="480,713,615,739"/>
<area shape="rect" id="node40" href="xfs__trans_8c.html#a47e53164e0401f95cfae80d5cd8098a9" title="xfs_trans_add_item" alt="" coords="479,662,615,689"/>
<area shape="rect" id="node43" href="xfs__bmap_8h.html#a36dfa6dd860904b8298e02d566352e2c" title="xfs_bmapi_whichfork" alt="" coords="689,157,834,183"/>
<area shape="rect" id="node44" href="xfs__bmap_8c.html#a8e26e34a6935ee5629a1ee98dc3de8bf" title="xfs_iread_extents" alt="" coords="699,375,824,402"/>
<area shape="rect" id="node45" href="xfs__inode__fork_8h.html#aac7bc1bf5e5185e0f16513021880e40a" title="xfs_iext_peek_prev\l_extent" alt="" coords="694,208,829,249"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_icgraph.png" border="0" usemap="#xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_icgraph" id="xfs__reflink_8h_a869e810e7a1f4b44761f383aa025b65a_icgraph">
<area shape="rect" id="node2" href="xfs__iomap_8c.html#aa4d046156b045026b28cd38b5544caf3" title="xfs_file_iomap_begin" alt="" coords="219,5,363,32"/>
</map>
</div>

</div>
</div>
<a id="a7c5ad0aad8ea0ba8721f47cf098e86f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5ad0aad8ea0ba8721f47cf098e86f5">&#9670;&nbsp;</a></span>xfs_reflink_cancel_cow_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_cancel_cow_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__trans.html">xfs_trans</a> **&#160;</td>
          <td class="paramname"><em>tpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#ac180eae39d9fb8d36bd4a1f03dec87a4">xfs_fileoff_t</a>&#160;</td>
          <td class="paramname"><em>offset_fsb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#ac180eae39d9fb8d36bd4a1f03dec87a4">xfs_fileoff_t</a>&#160;</td>
          <td class="paramname"><em>end_fsb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cancel_real</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_cgraph.png" border="0" usemap="#xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_cgraph" id="xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="215,133,352,160"/>
<area shape="rect" id="node3" href="xfs__iext__tree_8c.html#a7f59cfec0f218f8347f7f197c3b29212" title="xfs_iext_lookup_extent\l_before" alt="" coords="205,235,361,277"/>
<area shape="rect" id="node8" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="227,789,339,816"/>
<area shape="rect" id="node9" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="483,832,592,859"/>
<area shape="rect" id="node10" href="xfs__iext__tree_8c.html#aac3dfc68c454b1c503ad7189d1f2a591" title="xfs_iext_prev" alt="" coords="487,781,587,808"/>
<area shape="rect" id="node12" href="xfs__bmap_8c.html#a80e2f02ecb53157812d99d1723c4205c" title="xfs_bmap_del_extent\l_delay" alt="" coords="210,445,357,486"/>
<area shape="rect" id="node16" href="xfs__trans__dquot_8c.html#adb156ff209502827aef0f520bdfd6cb6" title="xfs_trans_reserve_quota\l_nblks" alt="" coords="455,57,620,98"/>
<area shape="rect" id="node28" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="717,1203,824,1229"/>
<area shape="rect" id="node31" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="233,840,333,867"/>
<area shape="rect" id="node32" href="xfs__refcount_8c.html#af612d6d76b3dff0d567efb11ac1ad103" title="xfs_refcount_free_cow\l_extent" alt="" coords="206,1069,361,1110"/>
<area shape="rect" id="node37" href="xfs__bmap_8c.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="215,941,351,968"/>
<area shape="rect" id="node40" href="xfs__defer_8c.html#a0381974876bc52f6e97a6c7ea276ea64" title="xfs_defer_ijoin" alt="" coords="230,992,337,1019"/>
<area shape="rect" id="node41" href="xfs__defer_8c.html#a3dad7f656a0103ea3fae1e84e5168032" title="xfs_defer_finish" alt="" coords="226,1304,341,1331"/>
<area shape="rect" id="node47" href="xfs__defer_8c.html#a5b8ccf3230ddacd655769d6a2f06cb6e" title="xfs_defer_cancel" alt="" coords="223,1355,344,1381"/>
<area shape="rect" id="node48" href="xfs__bmap_8c.html#abf6fad1362b68b85c33478cbf7557c52" title="xfs_bmap_del_extent_cow" alt="" coords="195,688,372,715"/>
<area shape="rect" id="node49" href="xfs__iext__tree_8c.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="469,629,605,656"/>
<area shape="rect" id="node50" href="xfs__icache_8c.html#aafd63aeb808eba4f2f23504c4aa01721" title="xfs_inode_clear_cowblocks_tag" alt="" coords="180,1405,387,1432"/>
<area shape="rect" id="node4" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="459,123,615,149"/>
<area shape="rect" id="node7" href="xfs__inode__fork_8h.html#a460aa4f9d49d785af6953fcfecb1c046" title="xfs_iext_prev_extent" alt="" coords="466,5,609,32"/>
<area shape="rect" id="node5" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="719,680,822,707"/>
<area shape="rect" id="node6" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="724,579,817,605"/>
<area shape="rect" id="node11" href="xfs__iext__tree_8c.html#aaf20f9bf63117fd6e3cb07e82d84511c" title="xfs_iext_last" alt="" coords="723,781,819,808"/>
<area shape="rect" id="node13" href="xfs__bmap_8h.html#a3d531f0c4e3d7194d38e299ff9905a8b" title="xfs_bmap_fork_to_state" alt="" coords="456,224,619,251"/>
<area shape="rect" id="node14" href="xfs__format_8h.html#a8e16c352cd4522554006eaf9d451038c" title="startblockval" alt="" coords="489,275,585,301"/>
<area shape="rect" id="node15" href="xfs__mount_8c.html#acfdfb0f2012ddefdfab65fcab18379c2" title="xfs_mod_frextents" alt="" coords="472,325,603,352"/>
<area shape="rect" id="node20" href="xfs__iext__tree_8c.html#aa10ee8cbc3eca598763605d57a74be9c" title="xfs_iext_remove" alt="" coords="478,680,597,707"/>
<area shape="rect" id="node21" href="xfs__bmap_8c.html#a0b7dbcd16b2bb7ba11f13c678e05db38" title="xfs_bmap_worst_indlen" alt="" coords="458,376,617,403"/>
<area shape="rect" id="node22" href="xfs__format_8h.html#a51a941ae362b4a53e68de8f8466af282" title="nullstartblock" alt="" coords="488,427,587,453"/>
<area shape="rect" id="node23" href="xfs__iext__tree_8c.html#a778019f49fd35320a8bb5a009978b0f8" title="xfs_iext_update_extent" alt="" coords="459,579,616,605"/>
<area shape="rect" id="node24" href="xfs__bmap_8c.html#ad32f2ba2f0646df87497fd29e220d6ea" title="xfs_bmap_split_indlen" alt="" coords="462,477,613,504"/>
<area shape="rect" id="node25" href="xfs__iext__tree_8c.html#aef439d18e1e6f8e64a7dd755075a4f03" title="xfs_iext_next" alt="" coords="487,731,587,757"/>
<area shape="rect" id="node26" href="xfs__iext__tree_8c.html#a33383daf6f63b65bef6876156f6a151b" title="xfs_iext_insert" alt="" coords="484,528,591,555"/>
<area shape="rect" id="node27" href="xfs__mount_8c.html#ac19fadd06cee33909de2577b5add0da0" title="xfs_mod_fdblocks" alt="" coords="473,173,601,200"/>
<area shape="rect" id="node17" href="xfs__format_8h.html#a0bfb10991a4491c4e46355f825a090d4" title="xfs_is_quota_inode" alt="" coords="703,39,838,65"/>
<area shape="rect" id="node18" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="920,608,1019,635"/>
<area shape="rect" id="node19" href="xfs__trans__dquot_8c.html#a6112a03f18f458f5880fc6d555bd1463" title="xfs_trans_reserve_quota\l_bydquots" alt="" coords="688,141,853,182"/>
<area shape="rect" id="node29" href="xfs__inode__item_8c.html#a69a61cbe7966c8167a2f8e771fb2b59c" title="xfs_inode_item_init" alt="" coords="902,1177,1037,1204"/>
<area shape="rect" id="node30" href="xfs__trans_8c.html#a47e53164e0401f95cfae80d5cd8098a9" title="xfs_trans_add_item" alt="" coords="901,1228,1037,1255"/>
<area shape="rect" id="node33" href="xfs__format_8h.html#a354b7f2a34baad88895a54fcf911f5bf" title="xfs_sb_version_hasreflink" alt="" coords="451,1101,624,1128"/>
<area shape="rect" id="node34" href="xfs__rmap_8c.html#a995adb688bdfa057f0527db0a9a59e45" title="xfs_rmap_free_extent" alt="" coords="463,1152,611,1179"/>
<area shape="rect" id="node35" href="xfs__refcount_8c.html#a22b456084c21f9a30d4d8185dfaa7442" title="__xfs_refcount_add" alt="" coords="469,1051,605,1077"/>
<area shape="rect" id="node36" href="xfs__defer_8c.html#a864a4cdc0ad79e081d86cb86054fa812" title="xfs_defer_add" alt="" coords="719,1025,823,1052"/>
<area shape="rect" id="node38" href="kmem_8c.html#a0ed69aaa83c491340089ffecf46f81e5" title="kmem_zone_alloc" alt="" coords="474,883,601,909"/>
<area shape="rect" id="node39" href="xfs__rmap_8h.html#abc4774fd5253e089d0f421928040911c" title="xfs_rmap_skip_owner\l_update" alt="" coords="463,934,612,975"/>
<area shape="rect" id="node42" href="xfs__defer_8c.html#ae777b1af35ead823e5d3e1cc7ee99b32" title="xfs_defer_has_unfinished_work" alt="" coords="435,1253,640,1280"/>
<area shape="rect" id="node43" href="xfs__defer_8c.html#a647c2d17b56d6027914568b9363c579d" title="xfs_defer_intake_work" alt="" coords="461,1304,614,1331"/>
<area shape="rect" id="node44" href="xfs__defer_8c.html#aaf8e9daaa79d0ba722e9be1b312ad869" title="xfs_defer_trans_roll" alt="" coords="469,1355,605,1381"/>
<area shape="rect" id="node45" href="xfs__defer_8c.html#a24eb0a5cced8929bf98a0a311abf3e9d" title="xfs_defer_trans_abort" alt="" coords="697,1380,845,1407"/>
<area shape="rect" id="node46" href="kmem_8h.html#a5bed54e8757e371319f8123e8ecdbd62" title="kmem_free" alt="" coords="494,1456,581,1483"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_icgraph.png" border="0" usemap="#xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_icgraph" id="xfs__reflink_8h_a7c5ad0aad8ea0ba8721f47cf098e86f5_icgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a02f29eeec0e36dda4f295dd0be528538" title="xfs_itruncate_extents" alt="" coords="198,373,345,400"/>
<area shape="rect" id="node35" href="xfs__reflink_8h.html#a6c82b80037c1bd0f63e2c22f35c1351b" title="xfs_reflink_cancel\l_cow_range" alt="" coords="421,566,547,607"/>
<area shape="rect" id="node48" href="xfs__reflink_8h.html#a980f423f38fd0457dcf14af2315de3f2" title="xfs_reflink_clear_inode_flag" alt="" coords="180,508,363,535"/>
<area shape="rect" id="node3" href="xfs__attr__inactive_8c.html#a89f61d19c05b68cffb8d6f62e854a7f3" title="xfs_attr_inactive" alt="" coords="425,399,543,425"/>
<area shape="rect" id="node7" href="xfs__bmap__util_8h.html#a8017422fe662245ea5b361e2116be142" title="xfs_free_eofblocks" alt="" coords="418,348,550,375"/>
<area shape="rect" id="node27" href="xfs__inode_8c.html#afa4b242f2f9fa0a2307c6bf9b20ec142" title="xfs_inactive_truncate" alt="" coords="411,449,557,476"/>
<area shape="rect" id="node28" href="xfs__iops_8c.html#a0c181e62a8e27110b6daefc784deaaad" title="xfs_setattr_size" alt="" coords="427,251,541,277"/>
<area shape="rect" id="node32" href="xfs__qm__syscalls_8c.html#aa2a46dc226e617ec3e26c9b9202ffee2" title="xfs_qm_scall_trunc\l_qfile" alt="" coords="417,126,551,167"/>
<area shape="rect" id="node4" href="xfs__inode_8h.html#a4b9101aa3b8f2a25bff50f1b910c2a73" title="xfs_inactive" alt="" coords="647,461,739,488"/>
<area shape="rect" id="node5" href="xfs__super_8c.html#ab527e7dc7474b9efc7addff151cc8f1a" title="xfs_fs_destroy_inode" alt="" coords="1064,613,1211,640"/>
<area shape="rect" id="node6" href="xfs__super_8c.html#a07fd1c73d013314077cf04982434c66e" title="xfs_fs_free_cached\l_objects" alt="" coords="1267,577,1403,618"/>
<area shape="rect" id="node8" href="xfs__bmap__util_8c.html#a6acaafa5f3eb04697dbb53826339a529" title="xfs_prepare_shift" alt="" coords="632,411,755,437"/>
<area shape="rect" id="node12" href="xfs__icache_8c.html#ac0eedb721f4f4d4f5cbc9c43c7ab658e" title="xfs_inode_free_eofblocks" alt="" coords="608,223,779,249"/>
<area shape="rect" id="node22" href="xfs__inode_8h.html#a5e39f9cfd93832d20c4ee7cf171d7e4f" title="xfs_release" alt="" coords="649,360,738,387"/>
<area shape="rect" id="node24" href="xfs__reflink_8h.html#a693f178d32a07921a528160ac2f94d1e" title="xfs_reflink_remap_range" alt="" coords="611,309,775,336"/>
<area shape="rect" id="node9" href="xfs__bmap__util_8h.html#a873868d4c8683d06f74f2492f773c558" title="xfs_collapse_file_space" alt="" coords="840,461,1001,488"/>
<area shape="rect" id="node11" href="xfs__bmap__util_8c.html#a36147e1e212a889e6005f345320c4300" title="xfs_insert_file_space" alt="" coords="848,411,993,437"/>
<area shape="rect" id="node10" href="xfs__file_8c.html#a2f8a82baa07bf0ab0592486e284d107f" title="xfs_file_fallocate" alt="" coords="1077,344,1197,371"/>
<area shape="rect" id="node13" href="xfs__icache_8h.html#ac183c2311962b17e200ac3c60c4f5c8d" title="xfs_icache_free_eofblocks" alt="" coords="832,157,1009,184"/>
<area shape="rect" id="node14" href="xfs__file_8c.html#aca1fd5d3dc58e3dbf6eefe9adfd3a16c" title="xfs_file_buffered_aio\l_write" alt="" coords="1264,382,1407,423"/>
<area shape="rect" id="node16" href="xfs__icache_8h.html#a979a4aa4a2d1925269495538eb932cad" title="xfs_eofblocks_worker" alt="" coords="1063,160,1212,187"/>
<area shape="rect" id="node19" href="xfs__icache_8h.html#a61db42202573f6b1b874e360f171532b" title="xfs_inode_free_quota\l_eofblocks" alt="" coords="1064,275,1211,317"/>
<area shape="rect" id="node20" href="xfs__ioctl_8h.html#a8403ebcdd3daf22957e81b9dd35a2caa" title="xfs_file_ioctl" alt="" coords="1090,107,1185,133"/>
<area shape="rect" id="node15" href="xfs__file_8c.html#a9aa74e71c579a830f6d15727eeca8050" title="xfs_file_write_iter" alt="" coords="1456,389,1580,416"/>
<area shape="rect" id="node17" href="xfs__super_8c.html#a1249cbd66b34902ffacdfec7b715708f" title="xfs_mount_alloc" alt="" coords="1277,216,1394,243"/>
<area shape="rect" id="node18" href="xfs__super_8c.html#a26e5fa00e70ce52da76c944d048ebcf7" title="xfs_fs_fill_super" alt="" coords="1459,216,1577,243"/>
<area shape="rect" id="node21" href="xfs__ioctl32_8c.html#a1b59096eb8a150a0055bc6069684b32f" title="xfs_file_compat_ioctl" alt="" coords="1263,81,1408,108"/>
<area shape="rect" id="node23" href="xfs__file_8c.html#a192e0dfd8ffd9a4054888a8de22fdda2" title="xfs_file_release" alt="" coords="864,360,977,387"/>
<area shape="rect" id="node25" href="xfs__file_8c.html#a777e597798120a67292187c95056dd57" title="xfs_file_clone_range" alt="" coords="850,259,991,285"/>
<area shape="rect" id="node26" href="xfs__file_8c.html#a47173f58ab762ace727aab3d46afcf7b" title="xfs_file_dedupe_range" alt="" coords="845,309,997,336"/>
<area shape="rect" id="node29" href="xfs__iops_8h.html#a69975fc1c15e95620a960ffb8fa3e320" title="xfs_vn_setattr_size" alt="" coords="625,172,761,199"/>
<area shape="rect" id="node30" href="xfs__ioctl_8h.html#a469cdd5bcd7f0165e447baa3d519e5b1" title="xfs_ioc_space" alt="" coords="867,56,974,83"/>
<area shape="rect" id="node31" href="xfs__iops_8c.html#a1917d09a4d88ef0e6521c197c99c93c4" title="xfs_vn_setattr" alt="" coords="868,107,973,133"/>
<area shape="rect" id="node33" href="xfs__qm__syscalls_8c.html#af3eaf62b17f04a63374aeebcb74eff45" title="xfs_qm_scall_trunc\l_qfiles" alt="" coords="626,34,761,75"/>
<area shape="rect" id="node34" href="xfs__quotaops_8c.html#ac6263c8bcb89e4893c752bef5ed9d4cd" title="xfs_fs_rm_xquota" alt="" coords="857,5,984,32"/>
<area shape="rect" id="node36" href="xfs__aops_8c.html#ab36904aa8527854251ca2b3686a7c7d8" title="xfs_end_io" alt="" coords="651,645,736,672"/>
<area shape="rect" id="node43" href="xfs__icache_8c.html#a47e5bfae573d3c6b1754f1743f460c55" title="xfs_inode_free_cowblocks" alt="" coords="605,569,781,596"/>
<area shape="rect" id="node37" href="xfs__aops_8c.html#a542727effd713a78e94e97ef8d211970" title="xfs_alloc_ioend" alt="" coords="865,664,977,691"/>
<area shape="rect" id="node38" href="xfs__aops_8c.html#ab988f6291cbb2877761f91d7e94b74c8" title="xfs_add_to_ioend" alt="" coords="1075,664,1199,691"/>
<area shape="rect" id="node39" href="xfs__aops_8c.html#ab3b4b2735c124cb562ba26ff95395258" title="xfs_writepage_map" alt="" coords="1268,664,1403,691"/>
<area shape="rect" id="node40" href="xfs__aops_8c.html#a817b5c463a4d7f442c4da9cf58e70723" title="xfs_do_writepage" alt="" coords="1456,664,1580,691"/>
<area shape="rect" id="node41" href="xfs__aops_8c.html#a80aa6026194d3d165692d8244ecb3120" title="xfs_vm_writepage" alt="" coords="1631,639,1759,665"/>
<area shape="rect" id="node42" href="xfs__aops_8c.html#a970b8046d2421d8491be0c23f44b3abe" title="xfs_vm_writepages" alt="" coords="1628,689,1763,716"/>
<area shape="rect" id="node44" href="xfs__icache_8h.html#a479567ea11c1382a29e1117089f6291c" title="xfs_icache_free_cowblocks" alt="" coords="829,563,1012,589"/>
<area shape="rect" id="node45" href="xfs__icache_8h.html#ac91824108d98569606c48cfc0784442f" title="xfs_cowblocks_worker" alt="" coords="1060,395,1215,421"/>
<area shape="rect" id="node46" href="xfs__icache_8h.html#aecb3cd4f4ed9a19f70464ff405c9a5d8" title="xfs_inode_free_quota\l_cowblocks" alt="" coords="1064,497,1211,538"/>
<area shape="rect" id="node47" href="xfs__super_8c.html#aa8d3829d8a8b9f4a81e12b5d6d129a35" title="xfs_fs_remount" alt="" coords="1081,563,1193,589"/>
<area shape="rect" id="node49" href="xfs__reflink_8c.html#a20b1eefffe96b23163c57ea5d64eb295" title="xfs_reflink_try_clear\l_inode_flag" alt="" coords="415,501,553,542"/>
<area shape="rect" id="node50" href="xfs__reflink_8h.html#a0e8c219f70d8f2f215dafd39e4bc03f8" title="xfs_reflink_unshare" alt="" coords="626,512,761,539"/>
</map>
</div>

</div>
</div>
<a id="a6c82b80037c1bd0f63e2c22f35c1351b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c82b80037c1bd0f63e2c22f35c1351b">&#9670;&nbsp;</a></span>xfs_reflink_cancel_cow_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_cancel_cow_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cancel_real</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_cgraph.png" border="0" usemap="#xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_cgraph" id="xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="389,544,527,571"/>
<area shape="rect" id="node3" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="188,443,299,469"/>
<area shape="rect" id="node12" href="xfs__trans_8c.html#a69fa6c7dd501a6e2a9dc530420381c95" title="xfs_trans_cancel" alt="" coords="397,181,519,208"/>
<area shape="rect" id="node17" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="206,1567,281,1593"/>
<area shape="rect" id="node21" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="405,595,511,621"/>
<area shape="rect" id="node26" href="xfs__reflink_8c.html#a7c5ad0aad8ea0ba8721f47cf098e86f5" title="xfs_reflink_cancel\l_cow_blocks" alt="" coords="180,933,307,974"/>
<area shape="rect" id="node46" href="xfs__trans_8c.html#a157a44ff0eead9ae7d12e7f9aa6b1735" title="xfs_trans_commit" alt="" coords="180,184,307,211"/>
<area shape="rect" id="node48" href="xfs__inode_8c.html#a4650d4a5d4569e1dc53011f041fdd5e7" title="xfs_iunlock" alt="" coords="199,1491,287,1517"/>
<area shape="rect" id="node4" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="823,595,957,621"/>
<area shape="rect" id="node6" href="xfs__trans_8c.html#a4fe0b39a2509e6826e43c2e875831d4a" title="xfs_trans_reserve" alt="" coords="395,367,521,393"/>
<area shape="rect" id="node5" href="kmem_8h.html#a5fca7fda061a394f43a128465d3f47de" title="kmem_zone_alloc" alt="" coords="1005,595,1132,621"/>
<area shape="rect" id="node7" href="xfs__mount_8c.html#ac19fadd06cee33909de2577b5add0da0" title="xfs_mod_fdblocks" alt="" coords="826,291,954,317"/>
<area shape="rect" id="node8" href="xfs__log_8c.html#a736511d6d03b34304e5e037819b974a5" title="xfs_log_regrant" alt="" coords="637,341,747,368"/>
<area shape="rect" id="node9" href="xfs__log_8c.html#a750270081841ec0b282aaff57867619f" title="xfs_log_reserve" alt="" coords="635,392,749,419"/>
<area shape="rect" id="node10" href="xfs__mount_8c.html#acfdfb0f2012ddefdfab65fcab18379c2" title="xfs_mod_frextents" alt="" coords="627,443,757,469"/>
<area shape="rect" id="node11" href="xfs__log_8c.html#a472be5a9d30ef0d15aa52d84a09fd0af" title="xfs_log_done" alt="" coords="643,240,741,267"/>
<area shape="rect" id="node13" href="xfs__trans_8c.html#a2376d39a37cc161ba6eb22997ad1aa38" title="xfs_trans_unreserve\l_and_mod_sb" alt="" coords="622,57,762,98"/>
<area shape="rect" id="node14" href="xfs__trans__dquot_8c.html#aebc82adfa85f36ac1f5f49426367b9b6" title="xfs_trans_unreserve\l_and_mod_dquots" alt="" coords="622,174,762,215"/>
<area shape="rect" id="node15" href="xfs__trans_8c.html#abbd21b473526502550406d3c42c894dc" title="xfs_trans_free_items" alt="" coords="620,5,764,32"/>
<area shape="rect" id="node16" href="xfs__trans_8c.html#ada019d1a360c3a4504a93e5d01577307" title="xfs_trans_free" alt="" coords="639,123,745,149"/>
<area shape="rect" id="node18" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="429,1555,487,1581"/>
<area shape="rect" id="node19" href="mrlock_8h.html#a14907e1d8f3f8fe5201d7d8e24cab726" title="mrupdate_nested" alt="" coords="397,1605,519,1632"/>
<area shape="rect" id="node20" href="mrlock_8h.html#a31e0a521ef2186bb25657979d1e1c361" title="mraccess_nested" alt="" coords="395,1656,521,1683"/>
<area shape="rect" id="node22" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="841,725,939,752"/>
<area shape="rect" id="node23" href="xfs__inode__item_8c.html#a69a61cbe7966c8167a2f8e771fb2b59c" title="xfs_inode_item_init" alt="" coords="625,645,759,672"/>
<area shape="rect" id="node25" href="xfs__trans_8c.html#a47e53164e0401f95cfae80d5cd8098a9" title="xfs_trans_add_item" alt="" coords="624,595,760,621"/>
<area shape="rect" id="node24" href="xfs__log_8c.html#a398a9b8fded55cc121c72655dce67b33" title="xfs_log_item_init" alt="" coords="830,645,950,672"/>
<area shape="rect" id="node27" href="xfs__iext__tree_8c.html#a7f59cfec0f218f8347f7f197c3b29212" title="xfs_iext_lookup_extent\l_before" alt="" coords="380,1067,536,1109"/>
<area shape="rect" id="node31" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="402,1184,514,1211"/>
<area shape="rect" id="node32" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="637,1159,747,1185"/>
<area shape="rect" id="node33" href="xfs__iext__tree_8c.html#aac3dfc68c454b1c503ad7189d1f2a591" title="xfs_iext_prev" alt="" coords="642,971,742,997"/>
<area shape="rect" id="node35" href="xfs__bmap_8c.html#a80e2f02ecb53157812d99d1723c4205c" title="xfs_bmap_del_extent\l_delay" alt="" coords="385,646,531,687"/>
<area shape="rect" id="node36" href="xfs__trans__dquot_8c.html#adb156ff209502827aef0f520bdfd6cb6" title="xfs_trans_reserve_quota\l_nblks" alt="" coords="609,747,775,789"/>
<area shape="rect" id="node37" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="408,1285,508,1312"/>
<area shape="rect" id="node38" href="xfs__refcount_8c.html#af612d6d76b3dff0d567efb11ac1ad103" title="xfs_refcount_free_cow\l_extent" alt="" coords="381,1337,535,1378"/>
<area shape="rect" id="node39" href="xfs__bmap_8c.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="390,1133,526,1160"/>
<area shape="rect" id="node40" href="xfs__defer_8c.html#a0381974876bc52f6e97a6c7ea276ea64" title="xfs_defer_ijoin" alt="" coords="405,712,511,739"/>
<area shape="rect" id="node41" href="xfs__defer_8c.html#a3dad7f656a0103ea3fae1e84e5168032" title="xfs_defer_finish" alt="" coords="401,763,515,789"/>
<area shape="rect" id="node42" href="xfs__defer_8c.html#a5b8ccf3230ddacd655769d6a2f06cb6e" title="xfs_defer_cancel" alt="" coords="397,813,519,840"/>
<area shape="rect" id="node43" href="xfs__bmap_8c.html#abf6fad1362b68b85c33478cbf7557c52" title="xfs_bmap_del_extent_cow" alt="" coords="369,1016,547,1043"/>
<area shape="rect" id="node44" href="xfs__iext__tree_8c.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="624,1319,760,1345"/>
<area shape="rect" id="node45" href="xfs__icache_8c.html#aafd63aeb808eba4f2f23504c4aa01721" title="xfs_inode_clear_cowblocks_tag" alt="" coords="355,864,561,891"/>
<area shape="rect" id="node28" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="614,1079,770,1105"/>
<area shape="rect" id="node30" href="xfs__inode__fork_8h.html#a460aa4f9d49d785af6953fcfecb1c046" title="xfs_iext_prev_extent" alt="" coords="621,1028,763,1055"/>
<area shape="rect" id="node29" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="839,1079,941,1105"/>
<area shape="rect" id="node34" href="xfs__iext__tree_8c.html#aaf20f9bf63117fd6e3cb07e82d84511c" title="xfs_iext_last" alt="" coords="842,971,938,997"/>
<area shape="rect" id="node47" href="xfs__trans_8c.html#aab99f392ff68cedba1da9238745804cc" title="__xfs_trans_commit" alt="" coords="388,127,528,153"/>
<area shape="rect" id="node49" href="mrlock_8h.html#aa69de408e4df2ae674775f2214e26fcc" title="mrunlock_excl" alt="" coords="405,1453,511,1480"/>
<area shape="rect" id="node50" href="mrlock_8h.html#a7ef2a20fefba2503eccde268d2ddfc39" title="mrunlock_shared" alt="" coords="397,1504,519,1531"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_icgraph.png" border="0" usemap="#xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_icgraph" id="xfs__reflink_8h_a6c82b80037c1bd0f63e2c22f35c1351b_icgraph">
<area shape="rect" id="node2" href="xfs__aops_8c.html#ab36904aa8527854251ca2b3686a7c7d8" title="xfs_end_io" alt="" coords="225,56,311,83"/>
<area shape="rect" id="node9" href="xfs__bmap__util_8c.html#a6acaafa5f3eb04697dbb53826339a529" title="xfs_prepare_shift" alt="" coords="207,132,329,159"/>
<area shape="rect" id="node13" href="xfs__icache_8c.html#a47e5bfae573d3c6b1754f1743f460c55" title="xfs_inode_free_cowblocks" alt="" coords="180,187,356,213"/>
<area shape="rect" id="node24" href="xfs__inode_8h.html#a4b9101aa3b8f2a25bff50f1b910c2a73" title="xfs_inactive" alt="" coords="222,237,314,264"/>
<area shape="rect" id="node3" href="xfs__aops_8c.html#a542727effd713a78e94e97ef8d211970" title="xfs_alloc_ioend" alt="" coords="439,31,551,57"/>
<area shape="rect" id="node4" href="xfs__aops_8c.html#ab988f6291cbb2877761f91d7e94b74c8" title="xfs_add_to_ioend" alt="" coords="650,31,774,57"/>
<area shape="rect" id="node5" href="xfs__aops_8c.html#ab3b4b2735c124cb562ba26ff95395258" title="xfs_writepage_map" alt="" coords="841,31,976,57"/>
<area shape="rect" id="node6" href="xfs__aops_8c.html#a817b5c463a4d7f442c4da9cf58e70723" title="xfs_do_writepage" alt="" coords="1028,31,1152,57"/>
<area shape="rect" id="node7" href="xfs__aops_8c.html#a80aa6026194d3d165692d8244ecb3120" title="xfs_vm_writepage" alt="" coords="1203,5,1331,32"/>
<area shape="rect" id="node8" href="xfs__aops_8c.html#a970b8046d2421d8491be0c23f44b3abe" title="xfs_vm_writepages" alt="" coords="1200,56,1335,83"/>
<area shape="rect" id="node10" href="xfs__bmap__util_8h.html#a873868d4c8683d06f74f2492f773c558" title="xfs_collapse_file_space" alt="" coords="415,81,576,108"/>
<area shape="rect" id="node12" href="xfs__bmap__util_8c.html#a36147e1e212a889e6005f345320c4300" title="xfs_insert_file_space" alt="" coords="423,132,568,159"/>
<area shape="rect" id="node11" href="xfs__file_8c.html#a2f8a82baa07bf0ab0592486e284d107f" title="xfs_file_fallocate" alt="" coords="652,81,772,108"/>
<area shape="rect" id="node14" href="xfs__icache_8h.html#a479567ea11c1382a29e1117089f6291c" title="xfs_icache_free_cowblocks" alt="" coords="404,191,587,217"/>
<area shape="rect" id="node15" href="xfs__file_8c.html#aca1fd5d3dc58e3dbf6eefe9adfd3a16c" title="xfs_file_buffered_aio\l_write" alt="" coords="837,154,980,195"/>
<area shape="rect" id="node17" href="xfs__icache_8h.html#ac91824108d98569606c48cfc0784442f" title="xfs_cowblocks_worker" alt="" coords="635,249,789,276"/>
<area shape="rect" id="node21" href="xfs__icache_8h.html#aecb3cd4f4ed9a19f70464ff405c9a5d8" title="xfs_inode_free_quota\l_cowblocks" alt="" coords="639,183,785,225"/>
<area shape="rect" id="node22" href="xfs__super_8c.html#aa8d3829d8a8b9f4a81e12b5d6d129a35" title="xfs_fs_remount" alt="" coords="656,300,768,327"/>
<area shape="rect" id="node16" href="xfs__file_8c.html#a9aa74e71c579a830f6d15727eeca8050" title="xfs_file_write_iter" alt="" coords="1028,161,1152,188"/>
<area shape="rect" id="node18" href="xfs__super_8c.html#a1249cbd66b34902ffacdfec7b715708f" title="xfs_mount_alloc" alt="" coords="850,249,967,276"/>
<area shape="rect" id="node19" href="xfs__super_8c.html#a26e5fa00e70ce52da76c944d048ebcf7" title="xfs_fs_fill_super" alt="" coords="1031,249,1149,276"/>
<area shape="rect" id="node20" href="xfs__super_8c.html#a55affa9adc283c8de4016408918f74a0" title="xfs_fs_mount" alt="" coords="1217,249,1318,276"/>
<area shape="rect" id="node23" href="xfs__super_8c.html#a07fd1c73d013314077cf04982434c66e" title="xfs_fs_free_cached\l_objects" alt="" coords="841,322,977,363"/>
<area shape="rect" id="node25" href="xfs__super_8c.html#ab527e7dc7474b9efc7addff151cc8f1a" title="xfs_fs_destroy_inode" alt="" coords="422,296,569,323"/>
</map>
</div>

</div>
</div>
<a id="a980f423f38fd0457dcf14af2315de3f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980f423f38fd0457dcf14af2315de3f2">&#9670;&nbsp;</a></span>xfs_reflink_clear_inode_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_clear_inode_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__trans.html">xfs_trans</a> **&#160;</td>
          <td class="paramname"><em>tpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_cgraph.png" border="0" usemap="#xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_cgraph" id="xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="467,477,604,504"/>
<area shape="rect" id="node3" href="xfs__reflink_8c.html#aeb8699c30a7e4464aa4ce1665fa394c5" title="xfs_reflink_inode_has\l_shared_extents" alt="" coords="236,394,384,435"/>
<area shape="rect" id="node30" href="xfs__reflink_8c.html#a7c5ad0aad8ea0ba8721f47cf098e86f5" title="xfs_reflink_cancel\l_cow_blocks" alt="" coords="247,961,373,1002"/>
<area shape="rect" id="node36" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="482,1335,589,1361"/>
<area shape="rect" id="node47" href="xfs__icache_8c.html#aafd63aeb808eba4f2f23504c4aa01721" title="xfs_inode_clear_cowblocks_tag" alt="" coords="432,1385,639,1412"/>
<area shape="rect" id="node49" href="xfs__trans_8h.html#a5e9f329781abedd5073623d6c9e71687" title="xfs_trans_log_inode" alt="" coords="241,1436,379,1463"/>
<area shape="rect" id="node4" href="xfs__bmap_8c.html#a8e26e34a6935ee5629a1ee98dc3de8bf" title="xfs_iread_extents" alt="" coords="473,376,598,403"/>
<area shape="rect" id="node25" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="707,680,863,707"/>
<area shape="rect" id="node27" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="731,1136,840,1163"/>
<area shape="rect" id="node28" href="xfs__reflink_8c.html#a20c6ea89dea2bf9a06f9e47856b78dda" title="xfs_reflink_find_shared" alt="" coords="457,140,613,167"/>
<area shape="rect" id="node29" href="xfs__inode__fork_8h.html#a472ef6701076ffb99c50d628ca9daf02" title="xfs_iext_next_extent" alt="" coords="464,325,607,352"/>
<area shape="rect" id="node5" href="xfs__bmap_8h.html#a3d531f0c4e3d7194d38e299ff9905a8b" title="xfs_bmap_fork_to_state" alt="" coords="704,579,867,605"/>
<area shape="rect" id="node6" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="948,1183,1047,1209"/>
<area shape="rect" id="node7" href="xfs__btree_8c.html#a5fae5f60a6c29c2873d93052ef21207b" title="xfs_btree_read_bufl" alt="" coords="717,325,853,352"/>
<area shape="rect" id="node8" href="xfs__alloc_8c.html#a030343e3df157ed4bea0e887a8bbfdc4" title="xfs_verify_fsbno" alt="" coords="938,376,1057,403"/>
<area shape="rect" id="node9" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="726,5,845,32"/>
<area shape="rect" id="node10" href="xfs__iext__tree_8c.html#acec59fae9cd012cecd90eb4cfff45d3d" title="xfs_iext_first" alt="" coords="949,477,1046,504"/>
<area shape="rect" id="node11" href="xfs__btree_8h.html#ad59e3f17a865149a438d8744bb01836c" title="xfs_btree_get_numrecs" alt="" coords="706,477,865,504"/>
<area shape="rect" id="node12" href="xfs__error_8c.html#a71e370ee170d893c6053558f2de36eaa" title="xfs_inode_verifier\l_error" alt="" coords="723,57,847,98"/>
<area shape="rect" id="node13" href="xfs__btree_8c.html#a1420380d913c966f5591faa386a27abd" title="xfs_btree_reada_bufl" alt="" coords="714,173,857,200"/>
<area shape="rect" id="node14" href="xfs__bmap__btree_8c.html#a173a50558771331c3636c0b2f2bbb66d" title="xfs_bmbt_disk_get_all" alt="" coords="709,224,861,251"/>
<area shape="rect" id="node15" href="xfs__bmap_8c.html#aa7a2861634abc8279fa71bbf6cb2a6b1" title="xfs_bmap_validate_extent" alt="" coords="698,376,873,403"/>
<area shape="rect" id="node16" href="xfs__iext__tree_8c.html#a33383daf6f63b65bef6876156f6a151b" title="xfs_iext_insert" alt="" coords="732,731,839,757"/>
<area shape="rect" id="node19" href="xfs__iext__tree_8c.html#aef439d18e1e6f8e64a7dd755075a4f03" title="xfs_iext_next" alt="" coords="735,629,835,656"/>
<area shape="rect" id="node21" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="1312,339,1419,365"/>
<area shape="rect" id="node24" href="xfs__iext__tree_8c.html#a0a915c8ac5ad061340248a9bd8495025" title="xfs_iext_destroy" alt="" coords="726,275,845,301"/>
<area shape="rect" id="node17" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="935,731,1060,757"/>
<area shape="rect" id="node18" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="1155,857,1220,884"/>
<area shape="rect" id="node20" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="1121,553,1253,580"/>
<area shape="rect" id="node22" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="946,781,1049,808"/>
<area shape="rect" id="node23" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="1111,705,1264,732"/>
<area shape="rect" id="node26" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="932,680,1063,707"/>
<area shape="rect" id="node31" href="xfs__iext__tree_8c.html#a7f59cfec0f218f8347f7f197c3b29212" title="xfs_iext_lookup_extent\l_before" alt="" coords="457,529,613,570"/>
<area shape="rect" id="node32" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="479,1132,591,1159"/>
<area shape="rect" id="node33" href="xfs__iext__tree_8c.html#aac3dfc68c454b1c503ad7189d1f2a591" title="xfs_iext_prev" alt="" coords="735,781,835,808"/>
<area shape="rect" id="node34" href="xfs__bmap_8c.html#a80e2f02ecb53157812d99d1723c4205c" title="xfs_bmap_del_extent\l_delay" alt="" coords="462,594,609,635"/>
<area shape="rect" id="node35" href="xfs__trans__dquot_8c.html#adb156ff209502827aef0f520bdfd6cb6" title="xfs_trans_reserve_quota\l_nblks" alt="" coords="703,1070,868,1111"/>
<area shape="rect" id="node39" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="485,812,585,839"/>
<area shape="rect" id="node40" href="xfs__refcount_8c.html#af612d6d76b3dff0d567efb11ac1ad103" title="xfs_refcount_free_cow\l_extent" alt="" coords="458,1015,613,1057"/>
<area shape="rect" id="node41" href="xfs__bmap_8c.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="467,1183,603,1209"/>
<area shape="rect" id="node42" href="xfs__defer_8c.html#a0381974876bc52f6e97a6c7ea276ea64" title="xfs_defer_ijoin" alt="" coords="482,1284,589,1311"/>
<area shape="rect" id="node43" href="xfs__defer_8c.html#a3dad7f656a0103ea3fae1e84e5168032" title="xfs_defer_finish" alt="" coords="478,711,593,737"/>
<area shape="rect" id="node44" href="xfs__defer_8c.html#a5b8ccf3230ddacd655769d6a2f06cb6e" title="xfs_defer_cancel" alt="" coords="475,761,596,788"/>
<area shape="rect" id="node45" href="xfs__bmap_8c.html#abf6fad1362b68b85c33478cbf7557c52" title="xfs_bmap_del_extent_cow" alt="" coords="447,863,624,889"/>
<area shape="rect" id="node46" href="xfs__iext__tree_8c.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="717,913,853,940"/>
<area shape="rect" id="node37" href="xfs__inode__item_8c.html#a69a61cbe7966c8167a2f8e771fb2b59c" title="xfs_inode_item_init" alt="" coords="718,1233,853,1260"/>
<area shape="rect" id="node38" href="xfs__trans_8c.html#a47e53164e0401f95cfae80d5cd8098a9" title="xfs_trans_add_item" alt="" coords="717,1335,853,1361"/>
<area shape="rect" id="node48" href="xfs__icache_8c.html#ae98f2e1127dc8b253d4b8088ddbd39a1" title="__xfs_inode_clear_blocks_tag" alt="" coords="687,1385,884,1412"/>
<area shape="rect" id="node50" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="506,1487,565,1513"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_icgraph.png" border="0" usemap="#xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_icgraph" id="xfs__reflink_8h_a980f423f38fd0457dcf14af2315de3f2_icgraph">
<area shape="rect" id="node2" href="xfs__reflink_8c.html#a20b1eefffe96b23163c57ea5d64eb295" title="xfs_reflink_try_clear\l_inode_flag" alt="" coords="236,5,375,47"/>
<area shape="rect" id="node3" href="xfs__reflink_8h.html#a0e8c219f70d8f2f215dafd39e4bc03f8" title="xfs_reflink_unshare" alt="" coords="423,13,557,39"/>
<area shape="rect" id="node4" href="xfs__file_8c.html#a2f8a82baa07bf0ab0592486e284d107f" title="xfs_file_fallocate" alt="" coords="605,13,725,39"/>
</map>
</div>

</div>
</div>
<a id="a4ec31eb46d75c2aafe1d2b87fc359eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec31eb46d75c2aafe1d2b87fc359eab">&#9670;&nbsp;</a></span>xfs_reflink_convert_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_convert_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_cgraph.png" border="0" usemap="#xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_cgraph" id="xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="237,1466,312,1492"/>
<area shape="rect" id="node6" href="xfs__bmap_8c.html#a4e19cbd5b34c86e0811c5e7f8428dcc4" title="xfs_bmapi_write" alt="" coords="216,479,333,506"/>
<area shape="rect" id="node48" href="xfs__inode_8c.html#a4650d4a5d4569e1dc53011f041fdd5e7" title="xfs_iunlock" alt="" coords="231,1592,319,1619"/>
<area shape="rect" id="node3" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="679,1415,738,1442"/>
<area shape="rect" id="node4" href="mrlock_8h.html#a14907e1d8f3f8fe5201d7d8e24cab726" title="mrupdate_nested" alt="" coords="416,1466,539,1492"/>
<area shape="rect" id="node5" href="mrlock_8h.html#a31e0a521ef2186bb25657979d1e1c361" title="mraccess_nested" alt="" coords="415,1516,540,1543"/>
<area shape="rect" id="node7" href="xfs__bmap_8h.html#a36dfa6dd860904b8298e02d566352e2c" title="xfs_bmapi_whichfork" alt="" coords="636,370,781,396"/>
<area shape="rect" id="node8" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="659,1364,758,1391"/>
<area shape="rect" id="node9" href="xfs__bmap_8c.html#a8e26e34a6935ee5629a1ee98dc3de8bf" title="xfs_iread_extents" alt="" coords="415,934,540,960"/>
<area shape="rect" id="node29" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="844,644,1000,671"/>
<area shape="rect" id="node32" href="xfs__inode__fork_8h.html#aac7bc1bf5e5185e0f16513021880e40a" title="xfs_iext_peek_prev\l_extent" alt="" coords="641,472,776,513"/>
<area shape="rect" id="node35" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="654,32,763,59"/>
<area shape="rect" id="node36" href="xfs__bmap_8c.html#afa8704beefe1cb7410d883d1244f2e37" title="xfs_bmapi_allocate" alt="" coords="410,479,545,506"/>
<area shape="rect" id="node37" href="xfs__refcount_8c.html#a6f5c1f49cba43dd1e8af8dc2180ca4a1" title="xfs_refcount_alloc\l_cow_extent" alt="" coords="413,109,541,150"/>
<area shape="rect" id="node38" href="xfs__bmap_8c.html#acee01b82759985f825585e5b6ab092d7" title="xfs_bmapi_trim_map" alt="" coords="406,58,549,84"/>
<area shape="rect" id="node39" href="xfs__bmap_8c.html#a8f2bc5230d0abc872b5e40b6a756d841" title="xfs_bmapi_convert_unwritten" alt="" coords="381,378,573,404"/>
<area shape="rect" id="node40" href="xfs__bmap_8c.html#a90238f3ab99c8208df49e986f89c41aa" title="xfs_bmapi_update_map" alt="" coords="397,175,557,202"/>
<area shape="rect" id="node41" href="xfs__inode__fork_8h.html#a472ef6701076ffb99c50d628ca9daf02" title="xfs_iext_next_extent" alt="" coords="406,428,549,455"/>
<area shape="rect" id="node42" href="xfs__bmap_8c.html#ac751e1e29c8574c6015ce130564bd643" title="xfs_bmap_wants_extents" alt="" coords="392,226,563,252"/>
<area shape="rect" id="node43" href="xfs__bmap_8c.html#acb85334bc1fd97819fefd721e9136e04" title="xfs_bmap_btree_to_extents" alt="" coords="386,1212,569,1239"/>
<area shape="rect" id="node44" href="xfs__log__format_8h.html#ad423515d60ced6242347d5def1d64d06" title="xfs_ilog_fext" alt="" coords="661,1314,757,1340"/>
<area shape="rect" id="node45" href="xfs__log__format_8h.html#a1e7c1b7d46437b5c3d73a7d6d7b5e100" title="xfs_ilog_fbroot" alt="" coords="424,276,531,303"/>
<area shape="rect" id="node46" href="xfs__trans_8h.html#a5e9f329781abedd5073623d6c9e71687" title="xfs_trans_log_inode" alt="" coords="408,1364,547,1391"/>
<area shape="rect" id="node47" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="406,1086,549,1112"/>
<area shape="rect" id="node10" href="xfs__bmap_8h.html#a3d531f0c4e3d7194d38e299ff9905a8b" title="xfs_bmap_fork_to_state" alt="" coords="627,639,790,666"/>
<area shape="rect" id="node11" href="xfs__btree_8c.html#a5fae5f60a6c29c2873d93052ef21207b" title="xfs_btree_read_bufl" alt="" coords="641,1263,777,1290"/>
<area shape="rect" id="node12" href="xfs__alloc_8c.html#a030343e3df157ed4bea0e887a8bbfdc4" title="xfs_verify_fsbno" alt="" coords="863,695,981,722"/>
<area shape="rect" id="node13" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="649,1212,768,1239"/>
<area shape="rect" id="node14" href="xfs__iext__tree_8c.html#acec59fae9cd012cecd90eb4cfff45d3d" title="xfs_iext_first" alt="" coords="873,908,971,935"/>
<area shape="rect" id="node15" href="xfs__btree_8h.html#ad59e3f17a865149a438d8744bb01836c" title="xfs_btree_get_numrecs" alt="" coords="629,740,788,767"/>
<area shape="rect" id="node16" href="xfs__error_8c.html#a71e370ee170d893c6053558f2de36eaa" title="xfs_inode_verifier\l_error" alt="" coords="647,792,771,833"/>
<area shape="rect" id="node17" href="xfs__btree_8c.html#a1420380d913c966f5591faa386a27abd" title="xfs_btree_reada_bufl" alt="" coords="637,858,780,884"/>
<area shape="rect" id="node18" href="xfs__bmap__btree_8c.html#a173a50558771331c3636c0b2f2bbb66d" title="xfs_bmbt_disk_get_all" alt="" coords="633,908,785,935"/>
<area shape="rect" id="node19" href="xfs__bmap_8c.html#aa7a2861634abc8279fa71bbf6cb2a6b1" title="xfs_bmap_validate_extent" alt="" coords="621,690,796,716"/>
<area shape="rect" id="node20" href="xfs__iext__tree_8c.html#a33383daf6f63b65bef6876156f6a151b" title="xfs_iext_insert" alt="" coords="869,959,975,986"/>
<area shape="rect" id="node23" href="xfs__iext__tree_8c.html#aef439d18e1e6f8e64a7dd755075a4f03" title="xfs_iext_next" alt="" coords="659,1010,759,1036"/>
<area shape="rect" id="node25" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="1428,1010,1535,1036"/>
<area shape="rect" id="node28" href="xfs__iext__tree_8c.html#a0a915c8ac5ad061340248a9bd8495025" title="xfs_iext_destroy" alt="" coords="649,959,768,986"/>
<area shape="rect" id="node21" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="1051,871,1176,898"/>
<area shape="rect" id="node22" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="1271,619,1336,646"/>
<area shape="rect" id="node24" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="1237,839,1369,866"/>
<area shape="rect" id="node26" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="1062,594,1165,620"/>
<area shape="rect" id="node27" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="1227,712,1380,739"/>
<area shape="rect" id="node30" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="1048,695,1179,722"/>
<area shape="rect" id="node31" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="1067,543,1160,570"/>
<area shape="rect" id="node33" href="xfs__inode__fork_8h.html#ad285598e5ef16adbfa28686c589a165c" title="xfs_iext_prev" alt="" coords="872,543,972,570"/>
<area shape="rect" id="node34" href="xfs__inode__fork_8h.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="854,492,990,519"/>
<area shape="rect" id="node49" href="mrlock_8h.html#aa69de408e4df2ae674775f2214e26fcc" title="mrunlock_excl" alt="" coords="424,1618,531,1644"/>
<area shape="rect" id="node50" href="mrlock_8h.html#a7ef2a20fefba2503eccde268d2ddfc39" title="mrunlock_shared" alt="" coords="417,1567,538,1594"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_icgraph.png" border="0" usemap="#xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_icgraph" id="xfs__reflink_8h_a4ec31eb46d75c2aafe1d2b87fc359eab_icgraph">
<area shape="rect" id="node2" href="xfs__aops_8c.html#a8391d9ebed8658ccb6800cc779b91740" title="xfs_submit_ioend" alt="" coords="216,31,340,57"/>
<area shape="rect" id="node3" href="xfs__aops_8c.html#ab3b4b2735c124cb562ba26ff95395258" title="xfs_writepage_map" alt="" coords="388,31,523,57"/>
<area shape="rect" id="node5" href="xfs__aops_8c.html#a80aa6026194d3d165692d8244ecb3120" title="xfs_vm_writepage" alt="" coords="746,5,874,32"/>
<area shape="rect" id="node6" href="xfs__aops_8c.html#a970b8046d2421d8491be0c23f44b3abe" title="xfs_vm_writepages" alt="" coords="743,56,877,83"/>
<area shape="rect" id="node4" href="xfs__aops_8c.html#a817b5c463a4d7f442c4da9cf58e70723" title="xfs_do_writepage" alt="" coords="571,31,695,57"/>
</map>
</div>

</div>
</div>
<a id="ab9433dcefc545a3aa68ffbce02768584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9433dcefc545a3aa68ffbce02768584">&#9670;&nbsp;</a></span>xfs_reflink_end_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_end_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_cgraph.png" border="0" usemap="#xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_cgraph" id="xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_cgraph">
<area shape="rect" id="node2" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="228,56,339,83"/>
<area shape="rect" id="node5" href="xfs__trans_8c.html#a69fa6c7dd501a6e2a9dc530420381c95" title="xfs_trans_cancel" alt="" coords="451,107,573,133"/>
<area shape="rect" id="node6" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="475,309,549,336"/>
<area shape="rect" id="node10" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="459,157,565,184"/>
<area shape="rect" id="node14" href="xfs__iext__tree_8c.html#a7f59cfec0f218f8347f7f197c3b29212" title="xfs_iext_lookup_extent\l_before" alt="" coords="434,462,590,503"/>
<area shape="rect" id="node16" href="xfs__inode__fork_8h.html#a460aa4f9d49d785af6953fcfecb1c046" title="xfs_iext_prev_extent" alt="" coords="659,516,802,543"/>
<area shape="rect" id="node17" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="227,259,339,285"/>
<area shape="rect" id="node18" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="876,1203,985,1229"/>
<area shape="rect" id="node19" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="233,1355,333,1381"/>
<area shape="rect" id="node20" href="xfs__bmap_8c.html#adc9430cbbf07495d703a3aea1f4ce59d" title="__xfs_bunmapi" alt="" coords="228,1025,339,1052"/>
<area shape="rect" id="node29" href="xfs__iext__tree_8c.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="663,1152,799,1179"/>
<area shape="rect" id="node33" href="xfs__trans__dquot_8c.html#ac600ae97176bd9713bb811eb4a111e48" title="xfs_trans_mod_dquot\l_byino" alt="" coords="857,1449,1004,1490"/>
<area shape="rect" id="node41" href="xfs__refcount_8c.html#af612d6d76b3dff0d567efb11ac1ad103" title="xfs_refcount_free_cow\l_extent" alt="" coords="206,1406,361,1447"/>
<area shape="rect" id="node44" href="xfs__bmap_8c.html#a6175b0d6b220b693df099f63d030935e" title="xfs_bmap_map_extent" alt="" coords="206,1472,361,1499"/>
<area shape="rect" id="node45" href="xfs__bmap_8c.html#abf6fad1362b68b85c33478cbf7557c52" title="xfs_bmap_del_extent_cow" alt="" coords="195,1253,372,1280"/>
<area shape="rect" id="node46" href="xfs__defer_8c.html#a0381974876bc52f6e97a6c7ea276ea64" title="xfs_defer_ijoin" alt="" coords="230,1523,337,1549"/>
<area shape="rect" id="node47" href="xfs__defer_8c.html#a3dad7f656a0103ea3fae1e84e5168032" title="xfs_defer_finish" alt="" coords="226,1573,341,1600"/>
<area shape="rect" id="node48" href="xfs__trans_8c.html#a157a44ff0eead9ae7d12e7f9aa6b1735" title="xfs_trans_commit" alt="" coords="220,1624,347,1651"/>
<area shape="rect" id="node49" href="xfs__inode_8c.html#a4650d4a5d4569e1dc53011f041fdd5e7" title="xfs_iunlock" alt="" coords="239,360,327,387"/>
<area shape="rect" id="node50" href="xfs__defer_8c.html#a5b8ccf3230ddacd655769d6a2f06cb6e" title="xfs_defer_cancel" alt="" coords="223,1675,344,1701"/>
<area shape="rect" id="node3" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="1052,132,1187,159"/>
<area shape="rect" id="node4" href="xfs__trans_8c.html#a4fe0b39a2509e6826e43c2e875831d4a" title="xfs_trans_reserve" alt="" coords="449,5,575,32"/>
<area shape="rect" id="node7" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="701,411,760,437"/>
<area shape="rect" id="node8" href="mrlock_8h.html#a14907e1d8f3f8fe5201d7d8e24cab726" title="mrupdate_nested" alt="" coords="669,309,792,336"/>
<area shape="rect" id="node9" href="mrlock_8h.html#a31e0a521ef2186bb25657979d1e1c361" title="mraccess_nested" alt="" coords="668,360,793,387"/>
<area shape="rect" id="node11" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="681,807,780,833"/>
<area shape="rect" id="node12" href="xfs__inode__item_8c.html#a69a61cbe7966c8167a2f8e771fb2b59c" title="xfs_inode_item_init" alt="" coords="863,107,998,133"/>
<area shape="rect" id="node13" href="xfs__trans_8c.html#a47e53164e0401f95cfae80d5cd8098a9" title="xfs_trans_add_item" alt="" coords="863,157,999,184"/>
<area shape="rect" id="node15" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="653,465,809,492"/>
<area shape="rect" id="node21" href="xfs__bmap_8h.html#a36dfa6dd860904b8298e02d566352e2c" title="xfs_bmapi_whichfork" alt="" coords="439,629,585,656"/>
<area shape="rect" id="node22" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="662,1101,799,1128"/>
<area shape="rect" id="node23" href="xfs__refcount_8h.html#ae33e79fab919f7c051334e669f8bd8ad" title="xfs_refcount_max_unmap" alt="" coords="426,680,598,707"/>
<area shape="rect" id="node24" href="xfs__bmap_8c.html#a8e26e34a6935ee5629a1ee98dc3de8bf" title="xfs_iread_extents" alt="" coords="449,1000,575,1027"/>
<area shape="rect" id="node25" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="677,1025,784,1052"/>
<area shape="rect" id="node26" href="xfs__bmap__btree_8c.html#ae51e9ec0ae0a0b7be01aa7b20d6927de" title="xfs_bmbt_init_cursor" alt="" coords="859,1667,1002,1693"/>
<area shape="rect" id="node27" href="xfs__format_8h.html#a2f4ecf23566b1b433fd21127c62c0336" title="xfs_sb_version_hasextflgbit" alt="" coords="420,781,604,808"/>
<area shape="rect" id="node28" href="xfs__bmap_8c.html#a1e6ca97341ed356f4e68e6d446f6dafd" title="xfs_bmap_add_extent\l_unwritten_real" alt="" coords="437,1406,587,1447"/>
<area shape="rect" id="node30" href="xfs__bmap_8c.html#a83415a0ef5bdf3b64af039e7547eea24" title="xfs_bmap_needs_btree" alt="" coords="652,1456,809,1483"/>
<area shape="rect" id="node31" href="xfs__bmap_8c.html#a2cb0825edb942742e038d39d23df2931" title="xfs_bmap_extents_to\l_btree" alt="" coords="657,1558,804,1599"/>
<area shape="rect" id="node32" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="859,1565,1002,1592"/>
<area shape="rect" id="node34" href="xfs__log__format_8h.html#a1e7c1b7d46437b5c3d73a7d6d7b5e100" title="xfs_ilog_fbroot" alt="" coords="877,1616,984,1643"/>
<area shape="rect" id="node35" href="xfs__bmap_8c.html#a80e2f02ecb53157812d99d1723c4205c" title="xfs_bmap_del_extent\l_delay" alt="" coords="439,883,585,925"/>
<area shape="rect" id="node36" href="xfs__bmap_8c.html#a20cfb9df63b556d99faa932a9e07f10f" title="xfs_bmap_del_extent_real" alt="" coords="425,1253,599,1280"/>
<area shape="rect" id="node37" href="xfs__log__format_8h.html#ad423515d60ced6242347d5def1d64d06" title="xfs_ilog_fext" alt="" coords="683,1304,779,1331"/>
<area shape="rect" id="node38" href="xfs__bmap_8c.html#ac751e1e29c8574c6015ce130564bd643" title="xfs_bmap_wants_extents" alt="" coords="427,949,597,976"/>
<area shape="rect" id="node39" href="xfs__bmap_8c.html#acb85334bc1fd97819fefd721e9136e04" title="xfs_bmap_btree_to_extents" alt="" coords="421,1355,603,1381"/>
<area shape="rect" id="node40" href="xfs__trans_8h.html#a5e9f329781abedd5073623d6c9e71687" title="xfs_trans_log_inode" alt="" coords="443,579,581,605"/>
<area shape="rect" id="node42" href="xfs__format_8h.html#a354b7f2a34baad88895a54fcf911f5bf" title="xfs_sb_version_hasreflink" alt="" coords="425,1877,599,1904"/>
<area shape="rect" id="node43" href="xfs__rmap_8c.html#a995adb688bdfa057f0527db0a9a59e45" title="xfs_rmap_free_extent" alt="" coords="438,1827,586,1853"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_icgraph.png" border="0" usemap="#xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_icgraph" id="xfs__reflink_8h_ab9433dcefc545a3aa68ffbce02768584_icgraph">
<area shape="rect" id="node2" href="xfs__aops_8c.html#ab36904aa8527854251ca2b3686a7c7d8" title="xfs_end_io" alt="" coords="224,31,309,57"/>
<area shape="rect" id="node9" href="xfs__file_8c.html#a8e4e9a615eeb80f17e281729f2fc6547" title="xfs_dio_write_end_io" alt="" coords="195,81,339,108"/>
<area shape="rect" id="node3" href="xfs__aops_8c.html#a542727effd713a78e94e97ef8d211970" title="xfs_alloc_ioend" alt="" coords="404,31,516,57"/>
<area shape="rect" id="node4" href="xfs__aops_8c.html#ab988f6291cbb2877761f91d7e94b74c8" title="xfs_add_to_ioend" alt="" coords="581,31,705,57"/>
<area shape="rect" id="node5" href="xfs__aops_8c.html#ab3b4b2735c124cb562ba26ff95395258" title="xfs_writepage_map" alt="" coords="753,31,888,57"/>
<area shape="rect" id="node6" href="xfs__aops_8c.html#a817b5c463a4d7f442c4da9cf58e70723" title="xfs_do_writepage" alt="" coords="936,31,1060,57"/>
<area shape="rect" id="node7" href="xfs__aops_8c.html#a80aa6026194d3d165692d8244ecb3120" title="xfs_vm_writepage" alt="" coords="1111,5,1239,32"/>
<area shape="rect" id="node8" href="xfs__aops_8c.html#a970b8046d2421d8491be0c23f44b3abe" title="xfs_vm_writepages" alt="" coords="1108,56,1243,83"/>
<area shape="rect" id="node10" href="xfs__file_8c.html#aabb3042d6c8185a1bf327265125aa80e" title="xfs_file_dio_aio_write" alt="" coords="387,81,533,108"/>
<area shape="rect" id="node11" href="xfs__file_8c.html#a9aa74e71c579a830f6d15727eeca8050" title="xfs_file_write_iter" alt="" coords="581,81,705,108"/>
</map>
</div>

</div>
</div>
<a id="ae6316d8fd4099973e17c6d218fad3d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6316d8fd4099973e17c6d218fad3d4d">&#9670;&nbsp;</a></span>xfs_reflink_find_cow_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool xfs_reflink_find_cow_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *&#160;</td>
          <td class="paramname"><em>imap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_cgraph.png" border="0" usemap="#xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_cgraph" id="xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="223,56,322,83"/>
<area shape="rect" id="node3" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="204,107,341,133"/>
<area shape="rect" id="node4" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="195,157,351,184"/>
<area shape="rect" id="node5" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="399,5,529,32"/>
<area shape="rect" id="node7" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="588,68,720,95"/>
<area shape="rect" id="node9" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="621,132,687,159"/>
<area shape="rect" id="node10" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="577,208,731,235"/>
<area shape="rect" id="node11" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="401,259,527,285"/>
<area shape="rect" id="node12" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="413,157,515,184"/>
<area shape="rect" id="node13" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="417,309,511,336"/>
<area shape="rect" id="node6" href="xfs__iext__tree_8c.html#a69e65d38d5c7dd435b928bfb68814045" title="xfs_iext_key_cmp" alt="" coords="590,5,718,32"/>
<area shape="rect" id="node8" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="779,68,885,95"/>
<area shape="rect" id="node14" href="xfs__bit_8h.html#ab519fe38732afaf1e4d7a6fdb43a3a8b" title="xfs_mask64hi" alt="" coords="603,309,705,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_icgraph.png" border="0" usemap="#xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_icgraph" id="xfs__reflink_8h_ae6316d8fd4099973e17c6d218fad3d4d_icgraph">
<area shape="rect" id="node2" href="xfs__aops_8c.html#a90e602ecc76ab62f01307faf993a378f" title="xfs_map_cow" alt="" coords="195,31,297,57"/>
<area shape="rect" id="node3" href="xfs__aops_8c.html#ab3b4b2735c124cb562ba26ff95395258" title="xfs_writepage_map" alt="" coords="345,31,480,57"/>
<area shape="rect" id="node4" href="xfs__aops_8c.html#a817b5c463a4d7f442c4da9cf58e70723" title="xfs_do_writepage" alt="" coords="528,31,652,57"/>
<area shape="rect" id="node5" href="xfs__aops_8c.html#a80aa6026194d3d165692d8244ecb3120" title="xfs_vm_writepage" alt="" coords="703,5,831,32"/>
<area shape="rect" id="node6" href="xfs__aops_8c.html#a970b8046d2421d8491be0c23f44b3abe" title="xfs_vm_writepages" alt="" coords="700,56,835,83"/>
</map>
</div>

</div>
</div>
<a id="a2ca0d63efb8f58af0a2ee5c281a5105b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca0d63efb8f58af0a2ee5c281a5105b">&#9670;&nbsp;</a></span>xfs_reflink_find_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_find_shared </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__trans.html">xfs_trans</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#a940a49f78b3c106c0a757e77b725d07b">xfs_agnumber_t</a>&#160;</td>
          <td class="paramname"><em>agno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#acf6b84d198c6f6a411319ab451d94424">xfs_agblock_t</a>&#160;</td>
          <td class="paramname"><em>agbno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#ae2b8130edf9e8594e669549500b530bf">xfs_extlen_t</a>&#160;</td>
          <td class="paramname"><em>aglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#acf6b84d198c6f6a411319ab451d94424">xfs_agblock_t</a> *&#160;</td>
          <td class="paramname"><em>fbno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#ae2b8130edf9e8594e669549500b530bf">xfs_extlen_t</a> *&#160;</td>
          <td class="paramname"><em>flen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>find_maximal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_cgraph.png" border="0" usemap="#xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_cgraph" id="xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_cgraph">
<area shape="rect" id="node2" href="xfs__alloc_8c.html#af7d5eb8e31804f0ca4e340637e28915f" title="xfs_alloc_read_agf" alt="" coords="826,157,957,184"/>
<area shape="rect" id="node5" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="1425,528,1544,555"/>
<area shape="rect" id="node31" href="xfs__refcount__btree_8c.html#a7bb11c24d5a67af9fd40592da27c9656" title="xfs_refcountbt_init\l_cursor" alt="" coords="229,350,358,391"/>
<area shape="rect" id="node34" href="xfs__refcount_8c.html#ae7613c5254f5cbbc074d5cd965208089" title="xfs_refcount_find_shared" alt="" coords="209,491,377,517"/>
<area shape="rect" id="node50" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="1216,781,1359,808"/>
<area shape="rect" id="node3" href="xfs__alloc_8c.html#ac297e6c3670ce5f2804152a15d0e02f8" title="xfs_read_agf" alt="" coords="1040,208,1137,235"/>
<area shape="rect" id="node9" href="xfs__sb_8c.html#a9f1e1a07a211a517c542c2c25b933bf5" title="xfs_perag_put" alt="" coords="2037,157,2141,184"/>
<area shape="rect" id="node27" href="xfs__sb_8c.html#a1dbd4c59e91dab91e783f0d49203e77a" title="xfs_perag_get" alt="" coords="1037,157,1141,184"/>
<area shape="rect" id="node28" href="xfs__alloc_8c.html#aa7f9f32daed5b703814d57ce97db69f8" title="xfs_agfl_needs_reset" alt="" coords="1015,56,1162,83"/>
<area shape="rect" id="node4" href="xfs__trans_8h.html#acd51fa379808fa3d16c1cd6cb4c3054f" title="xfs_trans_read_buf" alt="" coords="1221,419,1354,445"/>
<area shape="rect" id="node26" href="xfs__buf_8c.html#ab548202445638482a09716db54eb5233" title="xfs_buf_set_ref" alt="" coords="1231,208,1343,235"/>
<area shape="rect" id="node6" href="xfs__buf_8h.html#ad185b372dda295d7df2314c793cf53c9" title="xfs_buf_relse" alt="" coords="1634,259,1734,285"/>
<area shape="rect" id="node10" href="xfs__trans_8c.html#a5eb6483216f61d6658161cd0820a4e0a" title="xfs_trans_del_item" alt="" coords="1618,705,1750,732"/>
<area shape="rect" id="node13" href="xfs__trans__priv_8h.html#a002f087b4b9993b538e47ebe62523a52" title="xfs_trans_ail_remove" alt="" coords="1611,528,1757,555"/>
<area shape="rect" id="node24" href="xfs__buf__item_8c.html#a246824ca614bbec2423bddcb54f430ce" title="xfs_buf_item_relse" alt="" coords="1618,183,1750,209"/>
<area shape="rect" id="node7" href="xfs__buf_8h.html#aa37f1f1fb697d53679d588e21d3d7c4b" title="xfs_buf_unlock" alt="" coords="1837,208,1948,235"/>
<area shape="rect" id="node8" href="xfs__buf_8h.html#aa323f6637ad6abef63e6598c7b038b9c" title="xfs_buf_rele" alt="" coords="1846,259,1939,285"/>
<area shape="rect" id="node11" href="xfs__trans_8c.html#a1642bdefbfb1f6bba6e03382d785a689" title="xfs_trans_free_item_desc" alt="" coords="1807,832,1979,859"/>
<area shape="rect" id="node12" href="kmem_8h.html#aa8054cedad8a37a0c5b6d0b963b6fc4b" title="kmem_zone_free" alt="" coords="2028,857,2151,884"/>
<area shape="rect" id="node14" href="xfs__trans__priv_8h.html#a6b245945bda86bc208bf79dae289ed2c" title="xfs_trans_ail_delete" alt="" coords="1823,411,1962,437"/>
<area shape="rect" id="node15" href="xfs__trans__priv_8h.html#a12a39160a17ddc23fa872e85441be48c" title="xfs_ail_push" alt="" coords="1845,579,1940,605"/>
<area shape="rect" id="node16" href="xfs__trans__priv_8h.html#a8f99d20d0c9cabb723e542cf4abcd6c1" title="xfs_ail_min" alt="" coords="2045,579,2133,605"/>
<area shape="rect" id="node17" href="xfs__trans__priv_8h.html#acc6fa398cde897a0bbc5a7cc4a5a1a45" title="xfs_ail_push_all" alt="" coords="1835,629,1950,656"/>
<area shape="rect" id="node18" href="xfs__trans__priv_8h.html#a650bd83416fb4b1ff239f5f841053043" title="xfs_ail_push_all_sync" alt="" coords="1817,680,1968,707"/>
<area shape="rect" id="node19" href="xfs__trans__priv_8h.html#a28a917ba5079dab4e4d00ea3487eebfa" title="xfs_ail_min_lsn" alt="" coords="1837,781,1949,808"/>
<area shape="rect" id="node20" href="xfs__trans__priv_8h.html#a19a7c04c9e557890736d281f7d374214" title="xfs_trans_ail_cursor\l_first" alt="" coords="1823,462,1962,503"/>
<area shape="rect" id="node21" href="xfs__trans__priv_8h.html#aceb9479001dcc3960460199c04a4bd41" title="xfs_trans_ail_cursor_last" alt="" coords="1809,309,1976,336"/>
<area shape="rect" id="node22" href="xfs__trans__priv_8h.html#a157603a265cd36adf06126e10bef68b9" title="xfs_trans_ail_cursor_next" alt="" coords="1807,528,1978,555"/>
<area shape="rect" id="node23" href="xfs__trans__priv_8h.html#ae4e23a8a27e9159d81f7ce9e37050932" title="xfs_trans_ail_cursor_done" alt="" coords="1805,360,1980,387"/>
<area shape="rect" id="node25" href="xfs__buf_8c.html#a87676d05137e1ceb4670a55556f78f21" title="xfs_buf_rele" alt="" coords="1846,157,1939,184"/>
<area shape="rect" id="node29" href="xfs__alloc_8c.html#a2c6391698df5b1de628eef4e56ba221b" title="xfs_agfl_size" alt="" coords="1238,5,1337,32"/>
<area shape="rect" id="node30" href="xfs__format_8h.html#a438df01c793b6c2d46880770bb451176" title="xfs_sb_version_hascrc" alt="" coords="1407,31,1563,57"/>
<area shape="rect" id="node32" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="436,351,571,377"/>
<area shape="rect" id="node33" href="kmem_8h.html#a5fca7fda061a394f43a128465d3f47de" title="kmem_zone_alloc" alt="" coords="638,344,765,371"/>
<area shape="rect" id="node35" href="xfs__refcount_8c.html#a3d7a5593ede92e2bfde08ae63f23c754" title="xfs_refcount_lookup_le" alt="" coords="425,553,581,580"/>
<area shape="rect" id="node41" href="xfs__btree_8c.html#ac16e81eb787eabef61ecce4240eeca6a" title="xfs_btree_increment" alt="" coords="821,491,961,517"/>
<area shape="rect" id="node47" href="xfs__refcount_8c.html#a1b4a41dc2302f531a121cf35844976f3" title="xfs_refcount_get_rec" alt="" coords="629,395,773,421"/>
<area shape="rect" id="node36" href="xfs__btree_8c.html#a75cc4f736a983c85bb00c62f1e250133" title="xfs_btree_lookup" alt="" coords="641,560,762,587"/>
<area shape="rect" id="node37" href="xfs__btree_8h.html#ad59e3f17a865149a438d8744bb01836c" title="xfs_btree_get_numrecs" alt="" coords="1009,259,1168,285"/>
<area shape="rect" id="node38" href="xfs__btree_8c.html#a7a6d817ce72e72a05771d141d620a11c" title="xfs_btree_ptr_addr" alt="" coords="1023,680,1154,707"/>
<area shape="rect" id="node39" href="xfs__btree_8c.html#a56c8186be2a69e6f07fb8c79cb45e123" title="xfs_btree_get_sibling" alt="" coords="1016,579,1161,605"/>
<area shape="rect" id="node40" href="xfs__btree_8c.html#af10d0ba88b4d14bfd860adc0b5852c87" title="xfs_btree_ptr_is_null" alt="" coords="1017,629,1160,656"/>
<area shape="rect" id="node42" href="xfs__btree_8c.html#a229b530b11f015db82873787eb9b4008" title="xfs_btree_readahead" alt="" coords="1017,477,1160,504"/>
<area shape="rect" id="node43" href="xfs__btree_8c.html#a688bee7fed41b30b51eaba66ed129655" title="xfs_btree_get_block" alt="" coords="1019,360,1158,387"/>
<area shape="rect" id="node44" href="xfs__btree_8c.html#ae41c86a55ca93d1d46aa31c05cbd8294" title="xfs_btree_check_block" alt="" coords="1011,309,1167,336"/>
<area shape="rect" id="node45" href="xfs__btree_8c.html#adbe5ddc3e8fa12945808165bca1ef635" title="xfs_btree_read_buf\l_block" alt="" coords="1022,411,1155,453"/>
<area shape="rect" id="node46" href="xfs__btree_8c.html#ae37570c657a70815707f27c74b3b767f" title="xfs_btree_setbuf" alt="" coords="1228,528,1347,555"/>
<area shape="rect" id="node48" href="xfs__btree_8c.html#a681dd96e474f135a6c6e8d77caaeef7e" title="xfs_btree_get_rec" alt="" coords="828,360,955,387"/>
<area shape="rect" id="node49" href="xfs__refcount_8c.html#a5f71b15db60f8f3a69e2486681d63e56" title="xfs_refcount_btrec\l_to_irec" alt="" coords="826,243,957,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_icgraph.png" border="0" usemap="#xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_icgraph" id="xfs__reflink_8h_a2ca0d63efb8f58af0a2ee5c281a5105b_icgraph">
<area shape="rect" id="node2" href="xfs__reflink_8h.html#a55bcde20c85320ad2eaf44bb2195e43d" title="xfs_reflink_trim_around\l_shared" alt="" coords="213,129,370,170"/>
<area shape="rect" id="node12" href="xfs__reflink_8c.html#a83a967c11172ce0733116bc950cdb2e4" title="xfs_reflink_dirty_extents" alt="" coords="209,275,373,301"/>
<area shape="rect" id="node15" href="xfs__reflink_8h.html#aeb8699c30a7e4464aa4ce1665fa394c5" title="xfs_reflink_inode_has\l_shared_extents" alt="" coords="217,326,365,367"/>
<area shape="rect" id="node3" href="xfs__bmap__util_8c.html#aee4cd82b5c494d3118e084104edbbe9b" title="xfs_getbmap_report_one" alt="" coords="430,5,595,32"/>
<area shape="rect" id="node8" href="xfs__iomap_8c.html#aa4d046156b045026b28cd38b5544caf3" title="xfs_file_iomap_begin" alt="" coords="865,136,1009,163"/>
<area shape="rect" id="node9" href="xfs__reflink_8h.html#aec0fd9215d489d1beac5ce6677e22ebb" title="xfs_reflink_reserve_cow" alt="" coords="431,136,594,163"/>
<area shape="rect" id="node11" href="xfs__reflink_8h.html#a869e810e7a1f4b44761f383aa025b65a" title="xfs_reflink_allocate_cow" alt="" coords="652,224,817,251"/>
<area shape="rect" id="node4" href="xfs__bmap__util_8h.html#a05b9e726a87c73c705a85d495feb0808" title="xfs_getbmap" alt="" coords="686,5,783,32"/>
<area shape="rect" id="node5" href="xfs__ioctl_8c.html#ae243378d1751115c80ddd57556e133a0" title="xfs_ioc_getbmap" alt="" coords="877,5,998,32"/>
<area shape="rect" id="node6" href="xfs__ioctl_8h.html#a8403ebcdd3daf22957e81b9dd35a2caa" title="xfs_file_ioctl" alt="" coords="1070,5,1165,32"/>
<area shape="rect" id="node7" href="xfs__ioctl32_8c.html#a1b59096eb8a150a0055bc6069684b32f" title="xfs_file_compat_ioctl" alt="" coords="1225,5,1371,32"/>
<area shape="rect" id="node10" href="xfs__iomap_8c.html#a4b911c2f6a5748bdade6d3fcf6980e80" title="xfs_file_iomap_begin\l_delay" alt="" coords="663,158,807,199"/>
<area shape="rect" id="node13" href="xfs__reflink_8h.html#a0e8c219f70d8f2f215dafd39e4bc03f8" title="xfs_reflink_unshare" alt="" coords="870,333,1005,360"/>
<area shape="rect" id="node14" href="xfs__file_8c.html#a2f8a82baa07bf0ab0592486e284d107f" title="xfs_file_fallocate" alt="" coords="1057,333,1177,360"/>
<area shape="rect" id="node16" href="xfs_2scrub_2inode_8c.html#ad2d180d4f9d2c9c225f413065ebd7b0f" title="xfs_scrub_inode_check\l_reflink_iflag" alt="" coords="433,326,592,367"/>
<area shape="rect" id="node18" href="xfs__reflink_8h.html#a980f423f38fd0457dcf14af2315de3f2" title="xfs_reflink_clear_inode_flag" alt="" coords="421,392,604,419"/>
<area shape="rect" id="node17" href="scrub_8h.html#a1c2e558e23846e8c4c329d1acfef11cf" title="xfs_scrub_inode" alt="" coords="676,333,793,360"/>
<area shape="rect" id="node19" href="xfs__reflink_8c.html#a20b1eefffe96b23163c57ea5d64eb295" title="xfs_reflink_try_clear\l_inode_flag" alt="" coords="665,385,804,426"/>
</map>
</div>

</div>
</div>
<a id="aeb8699c30a7e4464aa4ce1665fa394c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8699c30a7e4464aa4ce1665fa394c5">&#9670;&nbsp;</a></span>xfs_reflink_inode_has_shared_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_inode_has_shared_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__trans.html">xfs_trans</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>has_shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_cgraph.png" border="0" usemap="#xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_cgraph" id="xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_cgraph">
<area shape="rect" id="node2" href="xfs__bmap_8c.html#a8e26e34a6935ee5629a1ee98dc3de8bf" title="xfs_iread_extents" alt="" coords="210,705,335,732"/>
<area shape="rect" id="node39" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="395,1364,551,1391"/>
<area shape="rect" id="node42" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="218,1136,327,1163"/>
<area shape="rect" id="node43" href="xfs__reflink_8c.html#a20c6ea89dea2bf9a06f9e47856b78dda" title="xfs_reflink_find_shared" alt="" coords="395,148,551,175"/>
<area shape="rect" id="node48" href="xfs__inode__fork_8h.html#a472ef6701076ffb99c50d628ca9daf02" title="xfs_iext_next_extent" alt="" coords="201,1035,344,1061"/>
<area shape="rect" id="node3" href="xfs__bmap_8h.html#a3d531f0c4e3d7194d38e299ff9905a8b" title="xfs_bmap_fork_to_state" alt="" coords="392,528,555,555"/>
<area shape="rect" id="node6" href="xfs__alloc_8c.html#a030343e3df157ed4bea0e887a8bbfdc4" title="xfs_verify_fsbno" alt="" coords="858,629,977,656"/>
<area shape="rect" id="node9" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="424,781,523,808"/>
<area shape="rect" id="node10" href="xfs__btree_8c.html#a5fae5f60a6c29c2873d93052ef21207b" title="xfs_btree_read_bufl" alt="" coords="405,680,541,707"/>
<area shape="rect" id="node12" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="858,249,977,276"/>
<area shape="rect" id="node18" href="xfs__iext__tree_8c.html#acec59fae9cd012cecd90eb4cfff45d3d" title="xfs_iext_first" alt="" coords="641,883,739,909"/>
<area shape="rect" id="node20" href="xfs__btree_8h.html#ad59e3f17a865149a438d8744bb01836c" title="xfs_btree_get_numrecs" alt="" coords="394,984,553,1011"/>
<area shape="rect" id="node21" href="xfs__error_8c.html#a71e370ee170d893c6053558f2de36eaa" title="xfs_inode_verifier\l_error" alt="" coords="411,330,535,371"/>
<area shape="rect" id="node23" href="xfs__btree_8c.html#a1420380d913c966f5591faa386a27abd" title="xfs_btree_reada_bufl" alt="" coords="402,404,545,431"/>
<area shape="rect" id="node25" href="xfs__bmap__btree_8c.html#a173a50558771331c3636c0b2f2bbb66d" title="xfs_bmbt_disk_get_all" alt="" coords="397,472,549,499"/>
<area shape="rect" id="node27" href="xfs__bmap_8c.html#aa7a2861634abc8279fa71bbf6cb2a6b1" title="xfs_bmap_validate_extent" alt="" coords="603,579,777,605"/>
<area shape="rect" id="node28" href="xfs__iext__tree_8c.html#a33383daf6f63b65bef6876156f6a151b" title="xfs_iext_insert" alt="" coords="420,1136,527,1163"/>
<area shape="rect" id="node33" href="xfs__iext__tree_8c.html#aef439d18e1e6f8e64a7dd755075a4f03" title="xfs_iext_next" alt="" coords="423,933,523,960"/>
<area shape="rect" id="node35" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="1077,908,1184,935"/>
<area shape="rect" id="node38" href="xfs__iext__tree_8c.html#a0a915c8ac5ad061340248a9bd8495025" title="xfs_iext_destroy" alt="" coords="414,731,533,757"/>
<area shape="rect" id="node4" href="xfs__bmap_8h.html#aa7a2861634abc8279fa71bbf6cb2a6b1" title="xfs_bmap_validate_extent" alt="" coords="603,528,777,555"/>
<area shape="rect" id="node5" href="xfs__rtbitmap_8c.html#a82dc93e4ff83cdf30239f1b1eb584a98" title="xfs_verify_rtbno" alt="" coords="860,528,975,555"/>
<area shape="rect" id="node8" href="xfs__format_8h.html#a2f4ecf23566b1b433fd21127c62c0336" title="xfs_sb_version_hasextflgbit" alt="" coords="825,579,1009,605"/>
<area shape="rect" id="node7" href="xfs__alloc_8c.html#a3ebbc0ba763771526309a919a18591b2" title="xfs_verify_agbno" alt="" coords="1070,629,1191,656"/>
<area shape="rect" id="node11" href="xfs__trans_8h.html#acd51fa379808fa3d16c1cd6cb4c3054f" title="xfs_trans_read_buf" alt="" coords="623,477,757,504"/>
<area shape="rect" id="node17" href="xfs__buf_8c.html#ab548202445638482a09716db54eb5233" title="xfs_buf_set_ref" alt="" coords="634,680,746,707"/>
<area shape="rect" id="node13" href="xfs__buf_8h.html#ad185b372dda295d7df2314c793cf53c9" title="xfs_buf_relse" alt="" coords="1081,275,1181,301"/>
<area shape="rect" id="node14" href="xfs__trans_8c.html#a5eb6483216f61d6658161cd0820a4e0a" title="xfs_trans_del_item" alt="" coords="1065,325,1197,352"/>
<area shape="rect" id="node15" href="xfs__trans__priv_8h.html#a002f087b4b9993b538e47ebe62523a52" title="xfs_trans_ail_remove" alt="" coords="1057,173,1204,200"/>
<area shape="rect" id="node16" href="xfs__buf__item_8c.html#a246824ca614bbec2423bddcb54f430ce" title="xfs_buf_item_relse" alt="" coords="1065,224,1197,251"/>
<area shape="rect" id="node19" href="xfs__iext__tree_8c.html#a6a43b7112c5c27d3388102b1b202ae5a" title="xfs_iext_find_first_leaf" alt="" coords="841,883,994,909"/>
<area shape="rect" id="node22" href="xfs__message_8c.html#a30fe6bc79cbac4ff3575dab8dcec6898" title="xfs_hex_dump" alt="" coords="637,325,743,352"/>
<area shape="rect" id="node24" href="xfs__buf_8h.html#aa1ad64f676d4491a8ba0334fed069108" title="xfs_buf_readahead" alt="" coords="624,376,756,403"/>
<area shape="rect" id="node26" href="xfs__bit_8h.html#af7245d88965beb07aaae3b6bce22116b" title="xfs_mask64lo" alt="" coords="639,427,741,453"/>
<area shape="rect" id="node29" href="xfs__inode__fork_8c.html#a32628068a361a12872b43a43dba08e5c" title="xfs_iext_state_to_fork" alt="" coords="615,1085,765,1112"/>
<area shape="rect" id="node30" href="xfs__iext__tree_8c.html#a03e54b3d675f8e6fc75d31a7f74ccc3e" title="xfs_iext_alloc_root" alt="" coords="625,1136,755,1163"/>
<area shape="rect" id="node31" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="627,1288,753,1315"/>
<area shape="rect" id="node32" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="885,1212,950,1239"/>
<area shape="rect" id="node34" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="851,984,983,1011"/>
<area shape="rect" id="node36" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="639,1035,741,1061"/>
<area shape="rect" id="node37" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="841,1415,994,1441"/>
<area shape="rect" id="node40" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="625,1491,755,1517"/>
<area shape="rect" id="node41" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="643,1339,737,1365"/>
<area shape="rect" id="node44" href="xfs__alloc_8c.html#af7d5eb8e31804f0ca4e340637e28915f" title="xfs_alloc_read_agf" alt="" coords="625,5,755,32"/>
<area shape="rect" id="node45" href="xfs__refcount__btree_8c.html#a7bb11c24d5a67af9fd40592da27c9656" title="xfs_refcountbt_init\l_cursor" alt="" coords="625,57,755,98"/>
<area shape="rect" id="node46" href="xfs__refcount_8c.html#ae7613c5254f5cbbc074d5cd965208089" title="xfs_refcount_find_shared" alt="" coords="606,123,774,149"/>
<area shape="rect" id="node47" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="619,224,761,251"/>
<area shape="rect" id="node49" href="xfs__inode__fork_8h.html#afb9b2fce8a7f06e817fd942e851dc8ea" title="xfs_iext_next" alt="" coords="423,1035,523,1061"/>
<area shape="rect" id="node50" href="xfs__inode__fork_8h.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="405,1212,541,1239"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_icgraph.png" border="0" usemap="#xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_icgraph" id="xfs__reflink_8h_aeb8699c30a7e4464aa4ce1665fa394c5_icgraph">
<area shape="rect" id="node2" href="xfs_2scrub_2inode_8c.html#ad2d180d4f9d2c9c225f413065ebd7b0f" title="xfs_scrub_inode_check\l_reflink_iflag" alt="" coords="213,5,372,47"/>
<area shape="rect" id="node4" href="xfs__reflink_8h.html#a980f423f38fd0457dcf14af2315de3f2" title="xfs_reflink_clear_inode_flag" alt="" coords="201,71,384,98"/>
<area shape="rect" id="node3" href="scrub_8h.html#a1c2e558e23846e8c4c329d1acfef11cf" title="xfs_scrub_inode" alt="" coords="443,13,560,39"/>
<area shape="rect" id="node5" href="xfs__reflink_8c.html#a20b1eefffe96b23163c57ea5d64eb295" title="xfs_reflink_try_clear\l_inode_flag" alt="" coords="432,64,571,105"/>
<area shape="rect" id="node6" href="xfs__reflink_8h.html#a0e8c219f70d8f2f215dafd39e4bc03f8" title="xfs_reflink_unshare" alt="" coords="619,71,753,98"/>
<area shape="rect" id="node7" href="xfs__file_8c.html#a2f8a82baa07bf0ab0592486e284d107f" title="xfs_file_fallocate" alt="" coords="801,71,921,98"/>
</map>
</div>

</div>
</div>
<a id="a36fb549cddd1bcf69e2baf8db8f8acda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fb549cddd1bcf69e2baf8db8f8acda">&#9670;&nbsp;</a></span>xfs_reflink_recover_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_recover_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *&#160;</td>
          <td class="paramname"><em>mp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_cgraph.png" border="0" usemap="#xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_cgraph" id="xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_cgraph">
<area shape="rect" id="node2" href="xfs__format_8h.html#a354b7f2a34baad88895a54fcf911f5bf" title="xfs_sb_version_hasreflink" alt="" coords="627,5,800,32"/>
<area shape="rect" id="node3" href="xfs__refcount_8c.html#a092c9d89e1b4a297cd63247a0e6daa4c" title="xfs_refcount_recover\l_cow_leftovers" alt="" coords="216,638,360,679"/>
<area shape="rect" id="node4" href="xfs__trans_8c.html#ab1e6b7964af232840a537f175c08ea4b" title="xfs_trans_alloc_empty" alt="" coords="409,493,562,520"/>
<area shape="rect" id="node5" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="658,544,769,571"/>
<area shape="rect" id="node9" href="xfs__trans_8c.html#a69fa6c7dd501a6e2a9dc530420381c95" title="xfs_trans_cancel" alt="" coords="877,544,999,571"/>
<area shape="rect" id="node15" href="xfs__alloc_8c.html#af7d5eb8e31804f0ca4e340637e28915f" title="xfs_alloc_read_agf" alt="" coords="420,955,551,981"/>
<area shape="rect" id="node20" href="xfs__refcount__btree_8c.html#a7bb11c24d5a67af9fd40592da27c9656" title="xfs_refcountbt_init\l_cursor" alt="" coords="421,343,550,385"/>
<area shape="rect" id="node21" href="xfs__btree_8c.html#a584e4b487325edbe8dca79bd35eede32" title="xfs_btree_query_range" alt="" coords="408,805,563,832"/>
<area shape="rect" id="node24" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="879,805,997,832"/>
<area shape="rect" id="node29" href="xfs__refcount_8c.html#acf7c4bb578b3bd785e7104f0388825a1" title="xfs_refcount_recover\l_extent" alt="" coords="413,217,557,258"/>
<area shape="rect" id="node32" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="642,696,785,723"/>
<area shape="rect" id="node33" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="435,1056,535,1083"/>
<area shape="rect" id="node34" href="xfs__refcount_8c.html#af612d6d76b3dff0d567efb11ac1ad103" title="xfs_refcount_free_cow\l_extent" alt="" coords="408,89,563,130"/>
<area shape="rect" id="node38" href="xfs__bmap_8c.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="417,435,553,461"/>
<area shape="rect" id="node42" href="xfs__defer_8c.html#a3dad7f656a0103ea3fae1e84e5168032" title="xfs_defer_finish" alt="" coords="428,1208,543,1235"/>
<area shape="rect" id="node47" href="kmem_8h.html#a5bed54e8757e371319f8123e8ecdbd62" title="kmem_free" alt="" coords="670,1132,757,1159"/>
<area shape="rect" id="node48" href="xfs__trans_8c.html#a157a44ff0eead9ae7d12e7f9aa6b1735" title="xfs_trans_commit" alt="" coords="422,645,549,672"/>
<area shape="rect" id="node50" href="xfs__defer_8c.html#a5b8ccf3230ddacd655769d6a2f06cb6e" title="xfs_defer_cancel" alt="" coords="425,1119,546,1145"/>
<area shape="rect" id="node6" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="871,365,1005,392"/>
<area shape="rect" id="node7" href="xfs__trans_8c.html#a4fe0b39a2509e6826e43c2e875831d4a" title="xfs_trans_reserve" alt="" coords="875,460,1001,487"/>
<area shape="rect" id="node8" href="xfs__log_8c.html#a472be5a9d30ef0d15aa52d84a09fd0af" title="xfs_log_done" alt="" coords="1084,423,1183,449"/>
<area shape="rect" id="node10" href="xfs__trans_8c.html#a2376d39a37cc161ba6eb22997ad1aa38" title="xfs_trans_unreserve\l_and_mod_sb" alt="" coords="1063,474,1203,515"/>
<area shape="rect" id="node11" href="xfs__trans__dquot_8c.html#aebc82adfa85f36ac1f5f49426367b9b6" title="xfs_trans_unreserve\l_and_mod_dquots" alt="" coords="1063,591,1203,633"/>
<area shape="rect" id="node12" href="xfs__trans_8c.html#abbd21b473526502550406d3c42c894dc" title="xfs_trans_free_items" alt="" coords="1061,657,1205,684"/>
<area shape="rect" id="node13" href="xfs__trans_8c.html#ada019d1a360c3a4504a93e5d01577307" title="xfs_trans_free" alt="" coords="1081,540,1186,567"/>
<area shape="rect" id="node14" href="kmem_8h.html#aa8054cedad8a37a0c5b6d0b963b6fc4b" title="kmem_zone_free" alt="" coords="1255,624,1377,651"/>
<area shape="rect" id="node16" href="xfs__alloc_8c.html#ac297e6c3670ce5f2804152a15d0e02f8" title="xfs_read_agf" alt="" coords="665,1031,762,1057"/>
<area shape="rect" id="node17" href="xfs__sb_8c.html#a1dbd4c59e91dab91e783f0d49203e77a" title="xfs_perag_get" alt="" coords="661,1081,765,1108"/>
<area shape="rect" id="node18" href="xfs__alloc_8c.html#aa7f9f32daed5b703814d57ce97db69f8" title="xfs_agfl_needs_reset" alt="" coords="640,929,787,956"/>
<area shape="rect" id="node19" href="xfs__sb_8c.html#a9f1e1a07a211a517c542c2c25b933bf5" title="xfs_perag_put" alt="" coords="661,980,765,1007"/>
<area shape="rect" id="node22" href="xfs__btree_8c.html#a931771c1205d5218a387145d052d8962" title="xfs_btree_simple_query\l_range" alt="" coords="633,863,793,905"/>
<area shape="rect" id="node23" href="xfs__btree_8c.html#ad6f499abd95143897cd8d5d517361d08" title="xfs_btree_overlapped\l_query_range" alt="" coords="640,798,787,839"/>
<area shape="rect" id="node25" href="xfs__buf_8h.html#ad185b372dda295d7df2314c793cf53c9" title="xfs_buf_relse" alt="" coords="1083,911,1183,937"/>
<area shape="rect" id="node26" href="xfs__trans_8c.html#a5eb6483216f61d6658161cd0820a4e0a" title="xfs_trans_del_item" alt="" coords="1067,759,1199,785"/>
<area shape="rect" id="node27" href="xfs__trans__priv_8h.html#a002f087b4b9993b538e47ebe62523a52" title="xfs_trans_ail_remove" alt="" coords="1060,809,1207,836"/>
<area shape="rect" id="node28" href="xfs__buf__item_8c.html#a246824ca614bbec2423bddcb54f430ce" title="xfs_buf_item_relse" alt="" coords="1067,860,1199,887"/>
<area shape="rect" id="node30" href="kmem_8c.html#a3a97008c8a56171b82c390137ed30046" title="kmem_alloc" alt="" coords="1087,224,1179,251"/>
<area shape="rect" id="node31" href="xfs__refcount_8c.html#a5f71b15db60f8f3a69e2486681d63e56" title="xfs_refcount_btrec\l_to_irec" alt="" coords="648,158,779,199"/>
<area shape="rect" id="node35" href="xfs__rmap_8c.html#a995adb688bdfa057f0527db0a9a59e45" title="xfs_rmap_free_extent" alt="" coords="639,56,787,83"/>
<area shape="rect" id="node36" href="xfs__refcount_8c.html#a22b456084c21f9a30d4d8185dfaa7442" title="__xfs_refcount_add" alt="" coords="645,107,781,133"/>
<area shape="rect" id="node37" href="xfs__defer_8c.html#a864a4cdc0ad79e081d86cb86054fa812" title="xfs_defer_add" alt="" coords="886,275,990,301"/>
<area shape="rect" id="node39" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="659,493,768,520"/>
<area shape="rect" id="node40" href="kmem_8c.html#a0ed69aaa83c491340089ffecf46f81e5" title="kmem_zone_alloc" alt="" coords="650,376,777,403"/>
<area shape="rect" id="node41" href="xfs__rmap_8h.html#abc4774fd5253e089d0f421928040911c" title="xfs_rmap_skip_owner\l_update" alt="" coords="639,427,788,469"/>
<area shape="rect" id="node43" href="xfs__defer_8c.html#ae777b1af35ead823e5d3e1cc7ee99b32" title="xfs_defer_has_unfinished_work" alt="" coords="611,1183,816,1209"/>
<area shape="rect" id="node44" href="xfs__defer_8c.html#a647c2d17b56d6027914568b9363c579d" title="xfs_defer_intake_work" alt="" coords="637,1233,790,1260"/>
<area shape="rect" id="node45" href="xfs__defer_8c.html#aaf8e9daaa79d0ba722e9be1b312ad869" title="xfs_defer_trans_roll" alt="" coords="645,1335,781,1361"/>
<area shape="rect" id="node46" href="xfs__defer_8c.html#a24eb0a5cced8929bf98a0a311abf3e9d" title="xfs_defer_trans_abort" alt="" coords="864,1309,1012,1336"/>
<area shape="rect" id="node49" href="xfs__trans_8c.html#aab99f392ff68cedba1da9238745804cc" title="__xfs_trans_commit" alt="" coords="868,595,1008,621"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_icgraph.png" border="0" usemap="#xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_icgraph" id="xfs__reflink_8h_a36fb549cddd1bcf69e2baf8db8f8acda_icgraph">
<area shape="rect" id="node2" href="xfs__mount_8h.html#a07ccba78b7e3f13120439383cdce1685" title="xfs_mountfs" alt="" coords="216,773,311,799"/>
<area shape="rect" id="node38" href="xfs__super_8c.html#aa8d3829d8a8b9f4a81e12b5d6d129a35" title="xfs_fs_remount" alt="" coords="1223,730,1335,757"/>
<area shape="rect" id="node3" href="xfs__mount_8h.html#a5f68bac513539cb36bd6ba58ef040388" title="xfs_perag_resv" alt="" coords="359,545,469,571"/>
<area shape="rect" id="node36" href="xfs__super_8c.html#a26e5fa00e70ce52da76c944d048ebcf7" title="xfs_fs_fill_super" alt="" coords="1456,865,1573,891"/>
<area shape="rect" id="node4" href="xfs__ag__resv_8h.html#a5d99e40828760f0481eba12e0602233c" title="xfs_ag_resv_needed" alt="" coords="531,466,674,493"/>
<area shape="rect" id="node32" href="xfs__ag__resv_8c.html#a6bded25371ef9b58599674a0f021785c" title="__xfs_ag_resv_free" alt="" coords="535,519,671,546"/>
<area shape="rect" id="node40" href="xfs__ag__resv_8c.html#ac6ed5803727422ecf80df2d1f15d80e7" title="__xfs_ag_resv_init" alt="" coords="537,621,668,647"/>
<area shape="rect" id="node41" href="xfs__ag__resv_8h.html#a06cd9e289033f7b4fc0efb1ee2563daf" title="xfs_ag_resv_init" alt="" coords="765,621,882,647"/>
<area shape="rect" id="node43" href="xfs__ag__resv_8h.html#a3623ad93b9efd2f417dd2c798537fcd5" title="xfs_ag_resv_alloc_extent" alt="" coords="517,250,688,277"/>
<area shape="rect" id="node47" href="xfs__ag__resv_8h.html#acec50af50c2674ca8dfa795f01bd8ce0" title="xfs_ag_resv_free_extent" alt="" coords="520,402,685,429"/>
<area shape="rect" id="node5" href="xfs__alloc_8c.html#a0a08622b05906e217b45158c36b4aaf5" title="xfs_alloc_space_available" alt="" coords="736,301,911,327"/>
<area shape="rect" id="node26" href="xfs__bmap_8c.html#a0f15ef3309eb4d9b359628a81fda39f8" title="xfs_bmap_longest_free\l_extent" alt="" coords="967,453,1125,495"/>
<area shape="rect" id="node29" href="xfs__filestream_8c.html#a2689ccb28a0c4796bc92afb89cedabb7" title="xfs_filestream_pick_ag" alt="" coords="745,519,901,546"/>
<area shape="rect" id="node6" href="xfs__alloc_8h.html#a0cea4a3874b282d72b7c6770920425db" title="xfs_alloc_fix_freelist" alt="" coords="975,293,1117,319"/>
<area shape="rect" id="node7" href="xfs__alloc_8h.html#a92cd360d53906d8cdcadd6c132abae5d" title="xfs_alloc_vextent" alt="" coords="1217,234,1341,261"/>
<area shape="rect" id="node16" href="xfs__alloc_8h.html#a893d9de81c545b17db749061176b6c42" title="xfs_free_extent_fix\l_freelist" alt="" coords="1212,285,1345,327"/>
<area shape="rect" id="node8" href="xfs__bmap_8c.html#a2cb0825edb942742e038d39d23df2931" title="xfs_bmap_extents_to\l_btree" alt="" coords="1441,71,1588,112"/>
<area shape="rect" id="node9" href="xfs__bmap_8c.html#a44c39e84887c0925a3dada55f4bd0887" title="xfs_bmap_local_to_extents" alt="" coords="1424,137,1605,163"/>
<area shape="rect" id="node10" href="xfs__bmap_8c.html#a27b26abd5faee6b2802f9d213021f8b9" title="xfs_bmap_btalloc" alt="" coords="1453,507,1577,534"/>
<area shape="rect" id="node12" href="xfs__bmap__btree_8c.html#a13068643ff9db65d32a18809105c0bf7" title="xfs_bmbt_alloc_block" alt="" coords="1441,187,1589,214"/>
<area shape="rect" id="node13" href="xfs__ialloc_8c.html#a7ca354d4228146e1aee71d8f94245e83" title="xfs_ialloc_ag_alloc" alt="" coords="1449,238,1581,265"/>
<area shape="rect" id="node14" href="xfs__ialloc__btree_8c.html#af0c0a4871cbb4bbbed25f46137b68cfb" title="__xfs_inobt_alloc_block" alt="" coords="1434,289,1595,315"/>
<area shape="rect" id="node15" href="xfs__refcount__btree_8c.html#a2382cdf445f8814f0e5d5cf55021d4ff" title="xfs_refcountbt_alloc\l_block" alt="" coords="1445,5,1584,47"/>
<area shape="rect" id="node11" href="xfs__bmap_8c.html#ab92f81d31eef897efca1aaf3e8b805cf" title="xfs_bmap_alloc" alt="" coords="1679,507,1792,534"/>
<area shape="rect" id="node17" href="xfs__alloc_8h.html#a40179a2e33028b13ec24e5b025ecf31e" title="xfs_free_extent" alt="" coords="1459,390,1571,417"/>
<area shape="rect" id="node25" href="xfs__rmap_8h.html#aeb23d7cab46210cec6c6c83ceac47105" title="xfs_rmap_finish_one" alt="" coords="1443,339,1586,366"/>
<area shape="rect" id="node18" href="xfs__ialloc__btree_8c.html#a3dfcb37d42428f639264543cb8511a97" title="__xfs_inobt_free_block" alt="" coords="1657,331,1813,358"/>
<area shape="rect" id="node19" href="xfs__refcount__btree_8c.html#ae31e9eebe10747487533cf560cb396fb" title="xfs_refcountbt_free\l_block" alt="" coords="1668,383,1803,424"/>
<area shape="rect" id="node20" href="xfs__fsops_8c.html#aef5cb8338d691cb064ddf7a93d5e84ab" title="xfs_growfs_data_private" alt="" coords="1653,621,1817,647"/>
<area shape="rect" id="node24" href="xfs__trans__extfree_8c.html#ad97afb4f2405c3a24bbb906ae960d246" title="xfs_trans_free_extent" alt="" coords="1661,449,1809,475"/>
<area shape="rect" id="node21" href="xfs__fsops_8h.html#aa270cb91a3c185d9b56dd6889df84cab" title="xfs_growfs_data" alt="" coords="1865,621,1984,647"/>
<area shape="rect" id="node22" href="xfs__ioctl_8h.html#a8403ebcdd3daf22957e81b9dd35a2caa" title="xfs_file_ioctl" alt="" coords="2032,595,2127,622"/>
<area shape="rect" id="node23" href="xfs__ioctl32_8c.html#a1b59096eb8a150a0055bc6069684b32f" title="xfs_file_compat_ioctl" alt="" coords="2175,621,2320,647"/>
<area shape="rect" id="node27" href="xfs__bmap_8c.html#aa2ed1d6fc21777ad936828425d17f170" title="xfs_bmap_btalloc_nullfb" alt="" coords="1197,461,1360,487"/>
<area shape="rect" id="node28" href="xfs__bmap_8c.html#acb9df6fdc975984b1beca88464f967d2" title="xfs_bmap_btalloc_filestreams" alt="" coords="1181,511,1376,538"/>
<area shape="rect" id="node30" href="xfs__filestream_8h.html#a187091cf617bbecafc51de9af0060cd0" title="xfs_filestream_lookup_ag" alt="" coords="1193,566,1364,593"/>
<area shape="rect" id="node31" href="xfs__filestream_8h.html#a7e8f11370fd75798a9b940ca8e862cd0" title="xfs_filestream_new_ag" alt="" coords="968,519,1124,546"/>
<area shape="rect" id="node33" href="xfs__ag__resv_8h.html#af06e049d25b4b8a55bf33483555b1e90" title="xfs_ag_resv_free" alt="" coords="762,570,885,597"/>
<area shape="rect" id="node34" href="xfs__fsops_8h.html#aaf003c34d24b4baad6a57792b73eec13" title="xfs_fs_unreserve_ag\l_blocks" alt="" coords="975,723,1117,764"/>
<area shape="rect" id="node35" href="xfs__mount_8h.html#abc8e5f1527d5994871cba3454c5d787e" title="xfs_unmountfs" alt="" coords="1225,839,1333,866"/>
<area shape="rect" id="node37" href="xfs__super_8c.html#a55affa9adc283c8de4016408918f74a0" title="xfs_fs_mount" alt="" coords="1685,865,1786,891"/>
<area shape="rect" id="node39" href="xfs__super_8c.html#a07fd1c73d013314077cf04982434c66e" title="xfs_fs_free_cached\l_objects" alt="" coords="1447,723,1583,764"/>
<area shape="rect" id="node42" href="xfs__fsops_8h.html#a8b94d609f4e8f4d9b4d7bf7029d341de" title="xfs_fs_reserve_ag_blocks" alt="" coords="959,671,1133,698"/>
<area shape="rect" id="node44" href="xfs__ag__resv_8h.html#ac15e948fca2435fb6285a8c23ac7fd87" title="xfs_ag_resv_rmapbt\l_alloc" alt="" coords="753,184,893,225"/>
<area shape="rect" id="node46" href="xfs__alloc_8c.html#a63a6e1465a1ab46fdad21b441798e6c4" title="xfs_alloc_ag_vextent" alt="" coords="751,250,896,277"/>
<area shape="rect" id="node45" href="xfs__rmap__btree_8c.html#aa2ecf80bf2fda7c6b19027c0dc43d8c9" title="xfs_rmapbt_alloc_block" alt="" coords="967,191,1125,218"/>
<area shape="rect" id="node48" href="xfs__ag__resv_8h.html#a2b5033ca083a98b03e6342b4ff44a126" title="xfs_ag_resv_rmapbt_free" alt="" coords="739,402,908,429"/>
<area shape="rect" id="node50" href="xfs__alloc_8c.html#af710f9fe2938d6b63c7c5f49d2e6c34b" title="xfs_free_ag_extent" alt="" coords="757,351,890,378"/>
<area shape="rect" id="node49" href="xfs__rmap__btree_8c.html#a226a768a611a4580f13aa023b8a2978a" title="xfs_rmapbt_free_block" alt="" coords="969,402,1123,429"/>
</map>
</div>

</div>
</div>
<a id="a693f178d32a07921a528160ac2f94d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693f178d32a07921a528160ac2f94d1e">&#9670;&nbsp;</a></span>xfs_reflink_remap_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_remap_range </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_dedupe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_cgraph.png" border="0" usemap="#xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_cgraph" id="xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#abe53bf47d7d5e603159ed1ef612027c5" title="XFS_I" alt="" coords="275,243,333,270"/>
<area shape="rect" id="node3" href="xfs__format_8h.html#a354b7f2a34baad88895a54fcf911f5bf" title="xfs_sb_version_hasreflink" alt="" coords="217,294,391,321"/>
<area shape="rect" id="node4" href="xfs__reflink_8c.html#a58d3af41ea7178aecb94a62e0f061f46" title="xfs_iolock_two_inodes\l_and_break_layout" alt="" coords="227,345,381,387"/>
<area shape="rect" id="node5" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="734,1085,809,1111"/>
<area shape="rect" id="node9" href="xfs__inode_8c.html#aa8cfe0a73bb5459f1971f815e7b4748b" title="xfs_lock_two_inodes" alt="" coords="467,1557,611,1583"/>
<area shape="rect" id="node16" href="xfs__inode_8c.html#a4650d4a5d4569e1dc53011f041fdd5e7" title="xfs_iunlock" alt="" coords="727,1194,815,1221"/>
<area shape="rect" id="node18" href="read__write_8c.html#a2f34cc52cd47667179f68fca824b8811" title="vfs_clone_file_prep\l_inodes" alt="" coords="237,411,371,452"/>
<area shape="rect" id="node25" href="xfs__qm_8c.html#ab79988a356ab08310b6136c8bd674aa2" title="xfs_qm_dqattach" alt="" coords="478,983,601,1010"/>
<area shape="rect" id="node32" href="xfs__bmap__util_8c.html#a4fa5baa627b4ceff21d1d17ae9cc470f" title="xfs_can_free_eofblocks" alt="" coords="224,603,384,630"/>
<area shape="rect" id="node33" href="xfs__bmap__util_8c.html#a8017422fe662245ea5b361e2116be142" title="xfs_free_eofblocks" alt="" coords="238,477,370,503"/>
<area shape="rect" id="node43" href="xfs__reflink_8c.html#a09096df862e08937b90a5e37c787b656" title="xfs_reflink_set_inode_flag" alt="" coords="217,1093,391,1119"/>
<area shape="rect" id="node46" href="xfs__reflink_8c.html#a676b5479c830c4f7886f5bb9e6e6b6ea" title="xfs_reflink_remap_blocks" alt="" coords="219,806,389,833"/>
<area shape="rect" id="node49" href="xfs__reflink_8c.html#af632572241a67c5a46e8939d280f6b6e" title="xfs_reflink_update_dest" alt="" coords="459,730,619,757"/>
<area shape="rect" id="node6" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="952,781,1011,807"/>
<area shape="rect" id="node7" href="mrlock_8h.html#a14907e1d8f3f8fe5201d7d8e24cab726" title="mrupdate_nested" alt="" coords="920,1085,1043,1111"/>
<area shape="rect" id="node8" href="mrlock_8h.html#a31e0a521ef2186bb25657979d1e1c361" title="mraccess_nested" alt="" coords="919,1135,1044,1162"/>
<area shape="rect" id="node10" href="xfs__inode_8c.html#a05933155801ee31903fa3d6022a362a1" title="xfs_lock_inumorder" alt="" coords="704,1582,839,1609"/>
<area shape="rect" id="node11" href="xfs__inode_8c.html#aa74a3d3b5700e1ff5bcb5edcf514fcf2" title="xfs_ilock_nowait" alt="" coords="712,1270,831,1297"/>
<area shape="rect" id="node17" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="745,1531,798,1558"/>
<area shape="rect" id="node12" href="mrlock_8h.html#a2729f44f7a008de726be813174a1e448" title="mrtryupdate" alt="" coords="936,1346,1027,1373"/>
<area shape="rect" id="node13" href="mrlock_8h.html#a69c3a7ee1142de8ae21de92c1388de31" title="mrtryaccess" alt="" coords="934,1295,1029,1322"/>
<area shape="rect" id="node14" href="mrlock_8h.html#aa69de408e4df2ae674775f2214e26fcc" title="mrunlock_excl" alt="" coords="928,1245,1035,1271"/>
<area shape="rect" id="node15" href="mrlock_8h.html#a7ef2a20fefba2503eccde268d2ddfc39" title="mrunlock_shared" alt="" coords="921,1194,1042,1221"/>
<area shape="rect" id="node19" href="inode_8c.html#a1c16bda802e88520b0ac13fef62c8b16" title="inode_dio_wait" alt="" coords="485,122,593,149"/>
<area shape="rect" id="node22" href="read__write_8c.html#ad1047e23868beb2d7739f24f285db9c3" title="vfs_dedupe_file_range\l_compare" alt="" coords="463,5,615,47"/>
<area shape="rect" id="node24" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="702,63,841,90"/>
<area shape="rect" id="node20" href="inode_8c.html#ae30987e28c31f85d4a90865b1a914d22" title="__inode_dio_wait" alt="" coords="710,166,833,193"/>
<area shape="rect" id="node21" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="702,115,841,142"/>
<area shape="rect" id="node23" href="read__write_8c.html#ab349127d1859f4ddd87e53368aec56a0" title="vfs_dedupe_get_page" alt="" coords="697,13,846,39"/>
<area shape="rect" id="node26" href="xfs__qm_8c.html#adada5995e92e53b1a4f4b095ff2204d2" title="xfs_qm_need_dqattach" alt="" coords="903,1034,1060,1061"/>
<area shape="rect" id="node28" href="xfs__qm_8c.html#aa223c02e5ddd14bd7535c0210d4be755" title="xfs_qm_dqattach_locked" alt="" coords="688,983,855,1010"/>
<area shape="rect" id="node27" href="xfs__format_8h.html#a0bfb10991a4491c4e46355f825a090d4" title="xfs_is_quota_inode" alt="" coords="1108,1034,1243,1061"/>
<area shape="rect" id="node29" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="1126,730,1225,757"/>
<area shape="rect" id="node30" href="xfs__qm_8c.html#aad604d6e282560a40976b6a63645af9b" title="xfs_qm_dqattach_one" alt="" coords="906,882,1057,909"/>
<area shape="rect" id="node31" href="xfs__inode_8h.html#a4b7891052fc2fd26bbf6ca9df0b72b46" title="xfs_get_projid" alt="" coords="930,983,1033,1010"/>
<area shape="rect" id="node34" href="xfs__inode_8h.html#a13b71ab6d08984c4f0e7d371c9bbb37c" title="XFS_ISIZE" alt="" coords="727,218,816,245"/>
<area shape="rect" id="node35" href="xfs__bmap_8c.html#a2b1d2fee3386638e4c166ba56ef14ea0" title="xfs_bmapi_read" alt="" coords="482,426,597,453"/>
<area shape="rect" id="node36" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="716,629,827,655"/>
<area shape="rect" id="node37" href="xfs__trans_8c.html#a69fa6c7dd501a6e2a9dc530420381c95" title="xfs_trans_cancel" alt="" coords="921,629,1042,655"/>
<area shape="rect" id="node38" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="718,578,825,605"/>
<area shape="rect" id="node39" href="xfs__inode_8c.html#a3caed8876f0e83e2e35c95ea590356cb" title="xfs_itruncate_extents" alt="" coords="466,223,613,250"/>
<area shape="rect" id="node41" href="xfs__trans_8c.html#a157a44ff0eead9ae7d12e7f9aa6b1735" title="xfs_trans_commit" alt="" coords="708,933,835,959"/>
<area shape="rect" id="node42" href="xfs__icache_8c.html#a0280a440f8a996b661582320f46bc4fd" title="xfs_inode_clear_eofblocks_tag" alt="" coords="439,274,640,301"/>
<area shape="rect" id="node40" href="xfs__trans_8h.html#a5e9f329781abedd5073623d6c9e71687" title="xfs_trans_log_inode" alt="" coords="702,831,841,858"/>
<area shape="rect" id="node44" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="471,1354,608,1381"/>
<area shape="rect" id="node45" href="xfs__inode__fork_8c.html#a474d3abe3b4639318b581d8e02a6ae33" title="xfs_ifork_init_cow" alt="" coords="476,1303,603,1330"/>
<area shape="rect" id="node47" href="xfs__inode_8c.html#aca701758288d40088fd12eb9c4c42574" title="xfs_ilock_data_map\l_shared" alt="" coords="470,1085,609,1127"/>
<area shape="rect" id="node48" href="xfs__reflink_8c.html#a1c7a28b8814e728db2cf35b02f14f1f9" title="xfs_reflink_remap_extent" alt="" coords="455,781,623,807"/>
<area shape="rect" id="node50" href="xfs__trans_8h.html#af5a82f502bdeab42c543dbb6dd4923e7" title="xfs_trans_ichgtime" alt="" coords="705,730,837,757"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_icgraph.png" border="0" usemap="#xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_icgraph" id="xfs__reflink_8h_a693f178d32a07921a528160ac2f94d1e_icgraph">
<area shape="rect" id="node2" href="xfs__file_8c.html#a777e597798120a67292187c95056dd57" title="xfs_file_clone_range" alt="" coords="223,5,364,32"/>
<area shape="rect" id="node3" href="xfs__file_8c.html#a47173f58ab762ace727aab3d46afcf7b" title="xfs_file_dedupe_range" alt="" coords="217,56,369,83"/>
</map>
</div>

</div>
</div>
<a id="aec0fd9215d489d1beac5ce6677e22ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0fd9215d489d1beac5ce6677e22ebb">&#9670;&nbsp;</a></span>xfs_reflink_reserve_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_reserve_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *&#160;</td>
          <td class="paramname"><em>imap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_cgraph.png" border="0" usemap="#xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_cgraph" id="xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_cgraph">
<area shape="rect" id="node2" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="913,165,1069,192"/>
<area shape="rect" id="node13" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="935,419,1047,445"/>
<area shape="rect" id="node15" href="xfs__reflink_8c.html#a55bcde20c85320ad2eaf44bb2195e43d" title="xfs_reflink_trim_around\l_shared" alt="" coords="216,251,373,293"/>
<area shape="rect" id="node41" href="xfs__qm_8c.html#aa223c02e5ddd14bd7535c0210d4be755" title="xfs_qm_dqattach_locked" alt="" coords="670,1093,837,1120"/>
<area shape="rect" id="node45" href="xfs__bmap_8c.html#a50d756f05a7b9c6f66e7b3b7d05f34a0" title="xfs_bmapi_reserve_delalloc" alt="" coords="421,1397,604,1424"/>
<area shape="rect" id="node3" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="1131,292,1262,319"/>
<area shape="rect" id="node5" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="1324,191,1456,217"/>
<area shape="rect" id="node7" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="1357,241,1423,268"/>
<area shape="rect" id="node8" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="1313,13,1467,40"/>
<area shape="rect" id="node9" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="1134,39,1259,65"/>
<area shape="rect" id="node10" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="1145,191,1248,217"/>
<area shape="rect" id="node11" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="1150,89,1243,116"/>
<area shape="rect" id="node4" href="xfs__iext__tree_8c.html#a69e65d38d5c7dd435b928bfb68814045" title="xfs_iext_key_cmp" alt="" coords="1326,292,1454,319"/>
<area shape="rect" id="node6" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="1515,292,1621,319"/>
<area shape="rect" id="node12" href="xfs__bit_8h.html#ab519fe38732afaf1e4d7a6fdb43a3a8b" title="xfs_mask64hi" alt="" coords="1339,89,1441,116"/>
<area shape="rect" id="node14" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="1142,764,1251,791"/>
<area shape="rect" id="node16" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="1128,343,1265,369"/>
<area shape="rect" id="node17" href="xfs__bmap_8h.html#a8e3b9e8eca6692fd815214f8bbc772a8" title="xfs_bmap_is_real_extent" alt="" coords="429,713,596,740"/>
<area shape="rect" id="node40" href="xfs__reflink_8c.html#a20c6ea89dea2bf9a06f9e47856b78dda" title="xfs_reflink_find_shared" alt="" coords="435,267,591,293"/>
<area shape="rect" id="node18" href="xfs__bmap_8h.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="935,789,1047,816"/>
<area shape="rect" id="node19" href="xfs__bmap_8h.html#ac9f6f0a134b8d67c80b1b7db1b4b51f7" title="xfs_trim_extent_eof" alt="" coords="685,368,822,395"/>
<area shape="rect" id="node20" href="xfs__bmap_8h.html#a4bbed9f74c43e33140bad876fd3ab8a4" title="xfs_bmap_add_attrfork" alt="" coords="676,1144,831,1171"/>
<area shape="rect" id="node23" href="xfs__bmap_8h.html#a44b807d084fb4b121d4383301362cbc2" title="xfs_bmap_local_to_extents\l_empty" alt="" coords="663,419,844,461"/>
<area shape="rect" id="node24" href="xfs__bmap_8h.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="923,840,1059,867"/>
<area shape="rect" id="node25" href="xfs__bmap_8h.html#a66c57581606a9b45891ef8eb1fd2f0a8" title="xfs_bmap_compute_maxlevels" alt="" coords="652,485,855,512"/>
<area shape="rect" id="node26" href="xfs__bmap_8h.html#a0a41394266dc2453b81176a9fd75c3f8" title="xfs_bmap_first_unused" alt="" coords="675,536,832,563"/>
<area shape="rect" id="node27" href="xfs__bmap_8h.html#aef0dbb0847419a9fb4e3a8b8e9932893" title="xfs_bmap_last_before" alt="" coords="678,587,829,613"/>
<area shape="rect" id="node28" href="xfs__bmap_8h.html#add36570d978a352faca2bdd1463296ec" title="xfs_bmap_last_offset" alt="" coords="680,637,827,664"/>
<area shape="rect" id="node29" href="xfs__bmap_8h.html#abd1567464d28b00f5579a8f8f4a22825" title="xfs_bmap_one_block" alt="" coords="681,688,826,715"/>
<area shape="rect" id="node30" href="xfs__bmap_8h.html#a2b1d2fee3386638e4c166ba56ef14ea0" title="xfs_bmapi_read" alt="" coords="696,739,811,765"/>
<area shape="rect" id="node31" href="xfs__bmap_8h.html#a4e19cbd5b34c86e0811c5e7f8428dcc4" title="xfs_bmapi_write" alt="" coords="695,1043,812,1069"/>
<area shape="rect" id="node33" href="xfs__bmap_8h.html#a5b61ee46140b963721cacec7ab4d51c8" title="__xfs_bunmapi" alt="" coords="936,368,1047,395"/>
<area shape="rect" id="node34" href="xfs__bmap_8h.html#a14507dfcce08ccdf0b824c601770043a" title="xfs_bunmapi" alt="" coords="705,891,801,917"/>
<area shape="rect" id="node35" href="xfs__bmap_8h.html#aa438f5e46138187db2449bc76e673f7c" title="xfs_bmap_del_extent\l_delay" alt="" coords="680,1514,827,1555"/>
<area shape="rect" id="node39" href="xfs__bmap_8h.html#a51b4cdd208ec20895d575ef85fc50c53" title="xfs_bmap_del_extent_cow" alt="" coords="903,688,1080,715"/>
<area shape="rect" id="node21" href="xfs__trans__dquot_8c.html#adb156ff209502827aef0f520bdfd6cb6" title="xfs_trans_reserve_quota\l_nblks" alt="" coords="909,1362,1074,1403"/>
<area shape="rect" id="node22" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="1147,1093,1246,1120"/>
<area shape="rect" id="node32" href="xfs__inode__fork_8h.html#aac7bc1bf5e5185e0f16513021880e40a" title="xfs_iext_peek_prev\l_extent" alt="" coords="924,1297,1059,1338"/>
<area shape="rect" id="node36" href="xfs__bmap_8c.html#a0b7dbcd16b2bb7ba11f13c678e05db38" title="xfs_bmap_worst_indlen" alt="" coords="912,1456,1071,1483"/>
<area shape="rect" id="node37" href="xfs__format_8h.html#a51a941ae362b4a53e68de8f8466af282" title="nullstartblock" alt="" coords="942,1513,1041,1540"/>
<area shape="rect" id="node38" href="xfs__mount_8c.html#ac19fadd06cee33909de2577b5add0da0" title="xfs_mod_fdblocks" alt="" coords="927,1564,1055,1591"/>
<area shape="rect" id="node42" href="xfs__qm_8c.html#adada5995e92e53b1a4f4b095ff2204d2" title="xfs_qm_need_dqattach" alt="" coords="913,1195,1070,1221"/>
<area shape="rect" id="node43" href="xfs__qm_8c.html#aad604d6e282560a40976b6a63645af9b" title="xfs_qm_dqattach_one" alt="" coords="916,1144,1067,1171"/>
<area shape="rect" id="node44" href="xfs__inode_8h.html#a4b7891052fc2fd26bbf6ca9df0b72b46" title="xfs_get_projid" alt="" coords="940,1093,1043,1120"/>
<area shape="rect" id="node46" href="xfs__inode_8c.html#a7aa3fc1aab478566cf59da4f63fc68f5" title="xfs_get_cowextsz_hint" alt="" coords="675,1580,831,1607"/>
<area shape="rect" id="node47" href="xfs__bmap_8c.html#a1732cbdbede7962dc0900cbfa7cd7731" title="xfs_bmap_extsize_align" alt="" coords="672,1631,835,1657"/>
<area shape="rect" id="node48" href="xfs__bmap_8c.html#a4aa7faff9e484eb5c1ec84efb0e3346e" title="xfs_bmap_add_extent\l_hole_delay" alt="" coords="678,1449,829,1490"/>
<area shape="rect" id="node49" href="xfs__icache_8c.html#a4271408fa83ffaf43d9f66b3f8af4765" title="xfs_inode_set_eofblocks_tag" alt="" coords="658,1296,849,1323"/>
<area shape="rect" id="node50" href="xfs__icache_8c.html#a05646fd1e2f9a936f9c334da944ef79a" title="xfs_inode_set_cowblocks_tag" alt="" coords="655,1397,852,1424"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_icgraph.png" border="0" usemap="#xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_icgraph" id="xfs__reflink_8h_aec0fd9215d489d1beac5ce6677e22ebb_icgraph">
<area shape="rect" id="node2" href="xfs__iomap_8c.html#a4b911c2f6a5748bdade6d3fcf6980e80" title="xfs_file_iomap_begin\l_delay" alt="" coords="216,5,360,47"/>
<area shape="rect" id="node3" href="xfs__iomap_8c.html#aa4d046156b045026b28cd38b5544caf3" title="xfs_file_iomap_begin" alt="" coords="408,42,552,69"/>
</map>
</div>

</div>
</div>
<a id="a55bcde20c85320ad2eaf44bb2195e43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55bcde20c85320ad2eaf44bb2195e43d">&#9670;&nbsp;</a></span>xfs_reflink_trim_around_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_trim_around_shared </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *&#160;</td>
          <td class="paramname"><em>irec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>trimmed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_cgraph.png" border="0" usemap="#xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_cgraph" id="xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="691,1655,829,1681"/>
<area shape="rect" id="node3" href="xfs__bmap_8h.html#a8e3b9e8eca6692fd815214f8bbc772a8" title="xfs_bmap_is_real_extent" alt="" coords="211,773,377,800"/>
<area shape="rect" id="node47" href="xfs__reflink_8c.html#a20c6ea89dea2bf9a06f9e47856b78dda" title="xfs_reflink_find_shared" alt="" coords="449,1793,605,1820"/>
<area shape="rect" id="node4" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="910,208,1019,235"/>
<area shape="rect" id="node5" href="xfs__bmap_8h.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="704,107,816,133"/>
<area shape="rect" id="node6" href="xfs__bmap_8h.html#ac9f6f0a134b8d67c80b1b7db1b4b51f7" title="xfs_trim_extent_eof" alt="" coords="458,309,595,336"/>
<area shape="rect" id="node9" href="xfs__bmap_8h.html#a4bbed9f74c43e33140bad876fd3ab8a4" title="xfs_bmap_add_attrfork" alt="" coords="449,992,604,1019"/>
<area shape="rect" id="node29" href="xfs__bmap_8h.html#a44b807d084fb4b121d4383301362cbc2" title="xfs_bmap_local_to_extents\l_empty" alt="" coords="436,555,617,597"/>
<area shape="rect" id="node30" href="xfs__bmap_8h.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="459,208,595,235"/>
<area shape="rect" id="node31" href="xfs__bmap_8h.html#a66c57581606a9b45891ef8eb1fd2f0a8" title="xfs_bmap_compute_maxlevels" alt="" coords="425,672,628,699"/>
<area shape="rect" id="node32" href="xfs__bmap_8h.html#a0a41394266dc2453b81176a9fd75c3f8" title="xfs_bmap_first_unused" alt="" coords="448,723,605,749"/>
<area shape="rect" id="node33" href="xfs__bmap_8h.html#aef0dbb0847419a9fb4e3a8b8e9932893" title="xfs_bmap_last_before" alt="" coords="451,773,602,800"/>
<area shape="rect" id="node34" href="xfs__bmap_8h.html#add36570d978a352faca2bdd1463296ec" title="xfs_bmap_last_offset" alt="" coords="453,824,600,851"/>
<area shape="rect" id="node35" href="xfs__bmap_8h.html#abd1567464d28b00f5579a8f8f4a22825" title="xfs_bmap_one_block" alt="" coords="454,875,599,901"/>
<area shape="rect" id="node36" href="xfs__bmap_8h.html#a2b1d2fee3386638e4c166ba56ef14ea0" title="xfs_bmapi_read" alt="" coords="469,925,584,952"/>
<area shape="rect" id="node37" href="xfs__bmap_8h.html#a4e19cbd5b34c86e0811c5e7f8428dcc4" title="xfs_bmapi_write" alt="" coords="468,621,585,648"/>
<area shape="rect" id="node38" href="xfs__bmap_8h.html#a5b61ee46140b963721cacec7ab4d51c8" title="__xfs_bunmapi" alt="" coords="471,1391,582,1417"/>
<area shape="rect" id="node39" href="xfs__bmap_8h.html#a14507dfcce08ccdf0b824c601770043a" title="xfs_bunmapi" alt="" coords="479,1043,575,1069"/>
<area shape="rect" id="node40" href="xfs__bmap_8h.html#aa438f5e46138187db2449bc76e673f7c" title="xfs_bmap_del_extent\l_delay" alt="" coords="453,1503,600,1545"/>
<area shape="rect" id="node41" href="xfs__bmap_8h.html#a51b4cdd208ec20895d575ef85fc50c53" title="xfs_bmap_del_extent_cow" alt="" coords="438,5,615,32"/>
<area shape="rect" id="node42" href="xfs__bmap_8h.html#af4315d29cebc94733f8e5fe39a7fce32" title="xfs_default_attroffset" alt="" coords="454,1441,599,1468"/>
<area shape="rect" id="node43" href="xfs__bmap_8h.html#a88a11d1e151f42726774585330cc46dc" title="xfs_bmap_collapse_extents" alt="" coords="435,436,619,463"/>
<area shape="rect" id="node44" href="xfs__bmap_8h.html#a67b612810f3dcd153fae98d589b2222a" title="xfs_bmap_insert_extents" alt="" coords="443,504,611,531"/>
<area shape="rect" id="node45" href="xfs__bmap_8h.html#ab9d292396dfdec8c8143be30c50b01a3" title="xfs_bmap_split_extent" alt="" coords="450,1335,603,1361"/>
<area shape="rect" id="node46" href="xfs__bmap_8h.html#af18095496deab45ac25639af906eb4f0" title="xfs_bmapi_reserve_delalloc" alt="" coords="435,1591,618,1617"/>
<area shape="rect" id="node7" href="xfs__bmap_8c.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="704,208,816,235"/>
<area shape="rect" id="node8" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="935,777,994,804"/>
<area shape="rect" id="node10" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="705,1284,815,1311"/>
<area shape="rect" id="node11" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="897,1284,1032,1311"/>
<area shape="rect" id="node12" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="723,1385,797,1412"/>
<area shape="rect" id="node13" href="xfs__trans__dquot_8c.html#adb156ff209502827aef0f520bdfd6cb6" title="xfs_trans_reserve_quota\l_nblks" alt="" coords="677,1589,843,1630"/>
<area shape="rect" id="node14" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="707,1436,813,1463"/>
<area shape="rect" id="node15" href="xfs__trans_8h.html#a5e9f329781abedd5073623d6c9e71687" title="xfs_trans_log_inode" alt="" coords="691,563,829,589"/>
<area shape="rect" id="node16" href="xfs__attr__leaf_8c.html#acdcc55a54de0a54cf314f60c6792f283" title="xfs_attr_shortform\l_bytesfit" alt="" coords="696,1167,824,1209"/>
<area shape="rect" id="node17" href="xfs__bmap_8c.html#af4315d29cebc94733f8e5fe39a7fce32" title="xfs_default_attroffset" alt="" coords="892,1145,1037,1172"/>
<area shape="rect" id="node18" href="xfs__defer_8c.html#ad8fa22fa696410192dbf43d348d09a4c" title="xfs_defer_init" alt="" coords="710,1335,810,1361"/>
<area shape="rect" id="node19" href="xfs__bmap_8c.html#ad0755ef74b9dfb874dfe2d662e03bc21" title="xfs_bmap_add_attrfork\l_local" alt="" coords="683,985,837,1026"/>
<area shape="rect" id="node20" href="xfs__bmap_8c.html#afb60378c189523289b6a51db6f65ad69" title="xfs_bmap_add_attrfork\l_extents" alt="" coords="683,665,837,706"/>
<area shape="rect" id="node23" href="xfs__bmap_8c.html#afe16694d8630be6657fa558504791533" title="xfs_bmap_add_attrfork\l_btree" alt="" coords="683,1050,837,1091"/>
<area shape="rect" id="node24" href="xfs__format_8h.html#a190e2080a90425314504ff1c6c574797" title="xfs_sb_version_hasattr" alt="" coords="681,731,839,757"/>
<area shape="rect" id="node25" href="xfs__format_8h.html#a12e183530cd16675b21b17add4f3ea7c" title="xfs_sb_version_hasattr2" alt="" coords="678,781,842,808"/>
<area shape="rect" id="node26" href="xfs__format_8h.html#a71a693bea69c01bb353aac1f237312aa" title="xfs_sb_version_addattr" alt="" coords="681,832,839,859"/>
<area shape="rect" id="node27" href="xfs__format_8h.html#ac7da42024ffaeda5008cf0081e7a3ee8" title="xfs_sb_version_addattr2" alt="" coords="678,883,842,909"/>
<area shape="rect" id="node28" href="xfs__sb_8c.html#a5469eba693a9eeb9094ec95ade5366c7" title="xfs_log_sb" alt="" coords="717,933,803,960"/>
<area shape="rect" id="node21" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="893,1051,1036,1077"/>
<area shape="rect" id="node22" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="1085,1465,1204,1492"/>
<area shape="rect" id="node48" href="xfs__alloc_8c.html#af7d5eb8e31804f0ca4e340637e28915f" title="xfs_alloc_read_agf" alt="" coords="695,1924,825,1951"/>
<area shape="rect" id="node49" href="xfs__refcount__btree_8c.html#a7bb11c24d5a67af9fd40592da27c9656" title="xfs_refcountbt_init\l_cursor" alt="" coords="695,1757,825,1798"/>
<area shape="rect" id="node50" href="xfs__refcount_8c.html#ae7613c5254f5cbbc074d5cd965208089" title="xfs_refcount_find_shared" alt="" coords="676,1823,844,1849"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_icgraph.png" border="0" usemap="#xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_icgraph" id="xfs__reflink_8h_a55bcde20c85320ad2eaf44bb2195e43d_icgraph">
<area shape="rect" id="node2" href="xfs__bmap__util_8c.html#aee4cd82b5c494d3118e084104edbbe9b" title="xfs_getbmap_report_one" alt="" coords="211,5,376,32"/>
<area shape="rect" id="node7" href="xfs__iomap_8c.html#aa4d046156b045026b28cd38b5544caf3" title="xfs_file_iomap_begin" alt="" coords="637,136,781,163"/>
<area shape="rect" id="node8" href="xfs__reflink_8h.html#aec0fd9215d489d1beac5ce6677e22ebb" title="xfs_reflink_reserve_cow" alt="" coords="212,107,375,133"/>
<area shape="rect" id="node10" href="xfs__reflink_8h.html#a869e810e7a1f4b44761f383aa025b65a" title="xfs_reflink_allocate_cow" alt="" coords="424,224,589,251"/>
<area shape="rect" id="node3" href="xfs__bmap__util_8h.html#a05b9e726a87c73c705a85d495feb0808" title="xfs_getbmap" alt="" coords="458,5,555,32"/>
<area shape="rect" id="node4" href="xfs__ioctl_8c.html#ae243378d1751115c80ddd57556e133a0" title="xfs_ioc_getbmap" alt="" coords="649,5,770,32"/>
<area shape="rect" id="node5" href="xfs__ioctl_8h.html#a8403ebcdd3daf22957e81b9dd35a2caa" title="xfs_file_ioctl" alt="" coords="829,5,924,32"/>
<area shape="rect" id="node6" href="xfs__ioctl32_8c.html#a1b59096eb8a150a0055bc6069684b32f" title="xfs_file_compat_ioctl" alt="" coords="972,5,1117,32"/>
<area shape="rect" id="node9" href="xfs__iomap_8c.html#a4b911c2f6a5748bdade6d3fcf6980e80" title="xfs_file_iomap_begin\l_delay" alt="" coords="435,158,579,199"/>
</map>
</div>

</div>
</div>
<a id="a1e8373afebde791bbb1b75f1183e2abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8373afebde791bbb1b75f1183e2abe">&#9670;&nbsp;</a></span>xfs_reflink_trim_irec_to_next_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xfs_reflink_trim_irec_to_next_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#ac180eae39d9fb8d36bd4a1f03dec87a4">xfs_fileoff_t</a>&#160;</td>
          <td class="paramname"><em>offset_fsb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxfs__bmbt__irec.html">xfs_bmbt_irec</a> *&#160;</td>
          <td class="paramname"><em>imap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_cgraph.png" border="0" usemap="#xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_cgraph" id="xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="195,145,332,172"/>
<area shape="rect" id="node3" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="383,171,539,197"/>
<area shape="rect" id="node14" href="xfs__inode__fork_8h.html#a472ef6701076ffb99c50d628ca9daf02" title="xfs_iext_next_extent" alt="" coords="192,259,335,285"/>
<area shape="rect" id="node4" href="xfs__iext__tree_8c.html#aef04a0bd35695837cc36450551b154d2" title="xfs_iext_find_level" alt="" coords="587,5,717,32"/>
<area shape="rect" id="node6" href="xfs__iext__tree_8c.html#a1821bd5c3d32fb56355002d80edc1b78" title="xfs_iext_max_recs" alt="" coords="776,309,908,336"/>
<area shape="rect" id="node8" href="xfs__iext__tree_8c.html#ae9f186479b8cf47f5c32089a70759252" title="cur_rec" alt="" coords="809,259,875,285"/>
<area shape="rect" id="node9" href="xfs__iext__tree_8c.html#ac105ccd680d06d4766fcd63741536880" title="xfs_iext_rec_is_empty" alt="" coords="765,107,919,133"/>
<area shape="rect" id="node10" href="xfs__iext__tree_8c.html#a370169770fb4be5248057c24f1bf5946" title="xfs_iext_rec_cmp" alt="" coords="589,56,715,83"/>
<area shape="rect" id="node11" href="xfs__iext__tree_8c.html#a04a8449dd54afaf8d93e8e33ca60bbcc" title="xfs_iext_valid" alt="" coords="601,259,703,285"/>
<area shape="rect" id="node12" href="xfs__iext__tree_8c.html#a391b0a6de2859a0272d6fdfbbc403098" title="xfs_iext_get" alt="" coords="605,157,699,184"/>
<area shape="rect" id="node5" href="xfs__iext__tree_8c.html#a69e65d38d5c7dd435b928bfb68814045" title="xfs_iext_key_cmp" alt="" coords="778,5,906,32"/>
<area shape="rect" id="node7" href="xfs__iext__tree_8c.html#ac2ac42e1664505fe83c7ce435110fb01" title="xfs_iext_count" alt="" coords="967,309,1073,336"/>
<area shape="rect" id="node13" href="xfs__bit_8h.html#ab519fe38732afaf1e4d7a6fdb43a3a8b" title="xfs_mask64hi" alt="" coords="791,157,893,184"/>
<area shape="rect" id="node15" href="xfs__inode__fork_8h.html#afb9b2fce8a7f06e817fd942e851dc8ea" title="xfs_iext_next" alt="" coords="411,360,511,387"/>
<area shape="rect" id="node18" href="xfs__inode__fork_8h.html#a32ce25b642a98cfce1b2051da23bf727" title="xfs_iext_get_extent" alt="" coords="393,259,529,285"/>
<area shape="rect" id="node16" href="xfs__iext__tree_8c.html#acec59fae9cd012cecd90eb4cfff45d3d" title="xfs_iext_first" alt="" coords="603,461,701,488"/>
<area shape="rect" id="node17" href="xfs__iext__tree_8c.html#a6a43b7112c5c27d3388102b1b202ae5a" title="xfs_iext_find_first_leaf" alt="" coords="765,461,919,488"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_icgraph.png" border="0" usemap="#xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_icgraph" id="xfs__reflink_8h_a1e8373afebde791bbb1b75f1183e2abe_icgraph">
<area shape="rect" id="node2" href="xfs__aops_8c.html#a4bd0cc79f7dae1aad78771bd4062cc42" title="xfs_map_blocks" alt="" coords="192,31,309,57"/>
<area shape="rect" id="node3" href="xfs__aops_8c.html#ab3b4b2735c124cb562ba26ff95395258" title="xfs_writepage_map" alt="" coords="357,31,492,57"/>
<area shape="rect" id="node4" href="xfs__aops_8c.html#a817b5c463a4d7f442c4da9cf58e70723" title="xfs_do_writepage" alt="" coords="540,31,664,57"/>
<area shape="rect" id="node5" href="xfs__aops_8c.html#a80aa6026194d3d165692d8244ecb3120" title="xfs_vm_writepage" alt="" coords="715,5,843,32"/>
<area shape="rect" id="node6" href="xfs__aops_8c.html#a970b8046d2421d8491be0c23f44b3abe" title="xfs_vm_writepages" alt="" coords="712,56,847,83"/>
</map>
</div>

</div>
</div>
<a id="a0e8c219f70d8f2f215dafd39e4bc03f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8c219f70d8f2f215dafd39e4bc03f8">&#9670;&nbsp;</a></span>xfs_reflink_unshare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_reflink_unshare </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__inode.html">xfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_cgraph.png" border="0" usemap="#xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_cgraph" alt=""/></div>
<map name="xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_cgraph" id="xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_cgraph">
<area shape="rect" id="node2" href="xfs__inode_8h.html#a48b5745ca5e1cc018d395c5b815266d4" title="xfs_is_reflink_inode" alt="" coords="885,1595,1023,1621"/>
<area shape="rect" id="node3" href="inode_8c.html#a1c16bda802e88520b0ac13fef62c8b16" title="inode_dio_wait" alt="" coords="216,1747,324,1773"/>
<area shape="rect" id="node6" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="1124,144,1183,171"/>
<area shape="rect" id="node7" href="xfs__inode_8c.html#acc935468a6e1de30897bc681d6b12953" title="xfs_ilock" alt="" coords="917,1392,991,1419"/>
<area shape="rect" id="node10" href="xfs__reflink_8c.html#a83a967c11172ce0733116bc950cdb2e4" title="xfs_reflink_dirty_extents" alt="" coords="188,897,352,924"/>
<area shape="rect" id="node28" href="xfs__inode_8c.html#a4650d4a5d4569e1dc53011f041fdd5e7" title="xfs_iunlock" alt="" coords="910,93,998,120"/>
<area shape="rect" id="node49" href="xfs__reflink_8c.html#a20b1eefffe96b23163c57ea5d64eb295" title="xfs_reflink_try_clear\l_inode_flag" alt="" coords="414,1511,553,1553"/>
<area shape="rect" id="node4" href="inode_8c.html#ae30987e28c31f85d4a90865b1a914d22" title="__inode_dio_wait" alt="" coords="422,1747,545,1773"/>
<area shape="rect" id="node5" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="414,1797,553,1824"/>
<area shape="rect" id="node8" href="mrlock_8h.html#a14907e1d8f3f8fe5201d7d8e24cab726" title="mrupdate_nested" alt="" coords="1092,1417,1215,1444"/>
<area shape="rect" id="node9" href="mrlock_8h.html#a31e0a521ef2186bb25657979d1e1c361" title="mraccess_nested" alt="" coords="1091,1367,1216,1393"/>
<area shape="rect" id="node11" href="xfs__bmap_8c.html#a2b1d2fee3386638e4c166ba56ef14ea0" title="xfs_bmapi_read" alt="" coords="659,1088,773,1115"/>
<area shape="rect" id="node20" href="xfs__bmap_8h.html#a8e3b9e8eca6692fd815214f8bbc772a8" title="xfs_bmap_is_real_extent" alt="" coords="400,784,567,811"/>
<area shape="rect" id="node47" href="xfs__reflink_8c.html#a20c6ea89dea2bf9a06f9e47856b78dda" title="xfs_reflink_find_shared" alt="" coords="405,872,561,899"/>
<area shape="rect" id="node48" href="iomap_8c.html#a940db4e34882484993943265c5dbb8d9" title="iomap_file_dirty" alt="" coords="427,923,540,949"/>
<area shape="rect" id="node12" href="xfs__bmap_8h.html#a36dfa6dd860904b8298e02d566352e2c" title="xfs_bmapi_whichfork" alt="" coords="881,1189,1027,1216"/>
<area shape="rect" id="node13" href="xfs__inode_8h.html#aedaa832cc1400d56df37c13d30163c98" title="xfs_isilocked" alt="" coords="1104,1088,1203,1115"/>
<area shape="rect" id="node14" href="xfs__bmap_8c.html#a8e26e34a6935ee5629a1ee98dc3de8bf" title="xfs_iread_extents" alt="" coords="891,1139,1017,1165"/>
<area shape="rect" id="node15" href="xfs__iext__tree_8c.html#a68da84871c93f72ba2e44c192de6d553" title="xfs_iext_lookup_extent" alt="" coords="876,885,1032,912"/>
<area shape="rect" id="node16" href="xfs__bmap_8c.html#acee01b82759985f825585e5b6ab092d7" title="xfs_bmapi_trim_map" alt="" coords="883,987,1025,1013"/>
<area shape="rect" id="node18" href="xfs__bmap_8c.html#a90238f3ab99c8208df49e986f89c41aa" title="xfs_bmapi_update_map" alt="" coords="874,1088,1034,1115"/>
<area shape="rect" id="node19" href="xfs__inode__fork_8h.html#a472ef6701076ffb99c50d628ca9daf02" title="xfs_iext_next_extent" alt="" coords="883,936,1025,963"/>
<area shape="rect" id="node17" href="xfs__format_8h.html#a36b5666e46c38accbcd39432f94dfb87" title="isnullstartblock" alt="" coords="1099,581,1208,608"/>
<area shape="rect" id="node21" href="xfs__bmap_8h.html#a10f1114247082e8372bea8505097b9ad" title="xfs_trim_extent" alt="" coords="898,429,1010,456"/>
<area shape="rect" id="node22" href="xfs__bmap_8h.html#ac9f6f0a134b8d67c80b1b7db1b4b51f7" title="xfs_trim_extent_eof" alt="" coords="885,220,1023,247"/>
<area shape="rect" id="node23" href="xfs__bmap_8h.html#a4bbed9f74c43e33140bad876fd3ab8a4" title="xfs_bmap_add_attrfork" alt="" coords="639,1443,793,1469"/>
<area shape="rect" id="node31" href="xfs__bmap_8h.html#a44b807d084fb4b121d4383301362cbc2" title="xfs_bmap_local_to_extents\l_empty" alt="" coords="625,465,807,506"/>
<area shape="rect" id="node32" href="xfs__bmap_8h.html#a3062f0a1668326ea224c4a172985642c" title="xfs_bmap_add_free" alt="" coords="886,531,1022,557"/>
<area shape="rect" id="node33" href="xfs__bmap_8h.html#a66c57581606a9b45891ef8eb1fd2f0a8" title="xfs_bmap_compute_maxlevels" alt="" coords="615,531,817,557"/>
<area shape="rect" id="node34" href="xfs__bmap_8h.html#a0a41394266dc2453b81176a9fd75c3f8" title="xfs_bmap_first_unused" alt="" coords="637,1139,795,1165"/>
<area shape="rect" id="node35" href="xfs__bmap_8h.html#aef0dbb0847419a9fb4e3a8b8e9932893" title="xfs_bmap_last_before" alt="" coords="641,1189,791,1216"/>
<area shape="rect" id="node36" href="xfs__bmap_8h.html#add36570d978a352faca2bdd1463296ec" title="xfs_bmap_last_offset" alt="" coords="643,581,789,608"/>
<area shape="rect" id="node37" href="xfs__bmap_8h.html#abd1567464d28b00f5579a8f8f4a22825" title="xfs_bmap_one_block" alt="" coords="643,936,789,963"/>
<area shape="rect" id="node38" href="xfs__bmap_8h.html#a2b1d2fee3386638e4c166ba56ef14ea0" title="xfs_bmapi_read" alt="" coords="659,1037,773,1064"/>
<area shape="rect" id="node39" href="xfs__bmap_8h.html#a4e19cbd5b34c86e0811c5e7f8428dcc4" title="xfs_bmapi_write" alt="" coords="657,987,775,1013"/>
<area shape="rect" id="node40" href="xfs__bmap_8h.html#a5b61ee46140b963721cacec7ab4d51c8" title="__xfs_bunmapi" alt="" coords="661,1240,771,1267"/>
<area shape="rect" id="node41" href="xfs__bmap_8h.html#a14507dfcce08ccdf0b824c601770043a" title="xfs_bunmapi" alt="" coords="668,195,764,221"/>
<area shape="rect" id="node42" href="xfs__bmap_8h.html#aa438f5e46138187db2449bc76e673f7c" title="xfs_bmap_del_extent\l_delay" alt="" coords="643,347,789,389"/>
<area shape="rect" id="node43" href="xfs__bmap_8h.html#a51b4cdd208ec20895d575ef85fc50c53" title="xfs_bmap_del_extent_cow" alt="" coords="865,480,1043,507"/>
<area shape="rect" id="node44" href="xfs__bmap_8h.html#af4315d29cebc94733f8e5fe39a7fce32" title="xfs_default_attroffset" alt="" coords="643,413,789,440"/>
<area shape="rect" id="node45" href="xfs__bmap_8h.html#a88a11d1e151f42726774585330cc46dc" title="xfs_bmap_collapse_extents" alt="" coords="624,885,808,912"/>
<area shape="rect" id="node46" href="xfs__bmap_8h.html#a67b612810f3dcd153fae98d589b2222a" title="xfs_bmap_insert_extents" alt="" coords="632,835,800,861"/>
<area shape="rect" id="node24" href="xfs__trans_8c.html#aa5853651bc6474c0b4ae446bb06e55fc" title="xfs_trans_alloc" alt="" coords="899,1645,1009,1672"/>
<area shape="rect" id="node25" href="xfs__trans_8c.html#a69fa6c7dd501a6e2a9dc530420381c95" title="xfs_trans_cancel" alt="" coords="1093,1645,1214,1672"/>
<area shape="rect" id="node26" href="xfs__trans_8h.html#a54074eed7f7e81d201e936abdd2bba0d" title="xfs_trans_ijoin" alt="" coords="901,1493,1007,1520"/>
<area shape="rect" id="node27" href="xfs__trans_8c.html#a157a44ff0eead9ae7d12e7f9aa6b1735" title="xfs_trans_commit" alt="" coords="891,1544,1017,1571"/>
<area shape="rect" id="node29" href="mrlock_8h.html#aa69de408e4df2ae674775f2214e26fcc" title="mrunlock_excl" alt="" coords="1100,43,1207,69"/>
<area shape="rect" id="node30" href="mrlock_8h.html#a7ef2a20fefba2503eccde268d2ddfc39" title="mrunlock_shared" alt="" coords="1093,93,1214,120"/>
<area shape="rect" id="node50" href="xfs__reflink_8c.html#a980f423f38fd0457dcf14af2315de3f2" title="xfs_reflink_clear_inode_flag" alt="" coords="625,1595,807,1621"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_icgraph.png" border="0" usemap="#xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_icgraph" alt=""/></div>
<map name="xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_icgraph" id="xfs__reflink_8h_a0e8c219f70d8f2f215dafd39e4bc03f8_icgraph">
<area shape="rect" id="node2" href="xfs__file_8c.html#a2f8a82baa07bf0ab0592486e284d107f" title="xfs_file_fallocate" alt="" coords="188,5,308,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_15e8a4ee4af8c535e941e32d10316bb7.html">xfs</a></li><li class="navelem"><a class="el" href="xfs__reflink_8h.html">xfs_reflink.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
