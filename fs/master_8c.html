<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/master.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('master_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">master.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for master.c:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c__incl.png" border="0" usemap="#ubifs_2master_8c" alt=""/></div>
<map name="ubifs_2master_8c" id="ubifs_2master_8c">
<area shape="rect" id="node2" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1225,80,1287,107"/>
<area shape="rect" id="node20" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node22" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node23" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a23920cfd809d844b355b159fd88e5748"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="master_8c.html#a23920cfd809d844b355b159fd88e5748">scan_for_master</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a23920cfd809d844b355b159fd88e5748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcff9867fae9df56cce08f7ac1b0ae4b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="master_8c.html#abcff9867fae9df56cce08f7ac1b0ae4b">validate_master</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:abcff9867fae9df56cce08f7ac1b0ae4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45820de3d377c5a1f29a160f5fb0d77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="master_8c.html#ac45820de3d377c5a1f29a160f5fb0d77">ubifs_read_master</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ac45820de3d377c5a1f29a160f5fb0d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dd7f158ea38355047d1718f7f01ecd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="master_8c.html#a18dd7f158ea38355047d1718f7f01ecd">ubifs_write_master</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a18dd7f158ea38355047d1718f7f01ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a23920cfd809d844b355b159fd88e5748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23920cfd809d844b355b159fd88e5748">&#9670;&nbsp;</a></span>scan_for_master()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_for_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_for_master - search the valid master node. <code></code>: UBIFS file-system description object</p>
<p>This function scans the master node LEBs and search for the latest master node. Returns zero in case of success, %-EUCLEAN if there master area is corrupted and requires recovery, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_a23920cfd809d844b355b159fd88e5748_cgraph.png" border="0" usemap="#master_8c_a23920cfd809d844b355b159fd88e5748_cgraph" alt=""/></div>
<map name="master_8c_a23920cfd809d844b355b159fd88e5748_cgraph" id="master_8c_a23920cfd809d844b355b159fd88e5748_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="172,262,257,288"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="733,110,805,136"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="305,414,440,440"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="313,110,432,136"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="305,262,440,288"/>
<area shape="rect" id="node23" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="316,312,429,339"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="316,363,429,390"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="488,160,659,187"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="520,110,627,136"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="503,312,644,339"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1057,324,1139,351"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="510,262,637,288"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="707,426,831,452"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="902,375,977,402"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="888,426,991,452"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="892,476,987,503"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="902,628,977,655"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="879,527,1000,554"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="879,578,999,604"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1057,375,1139,402"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1061,426,1135,452"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1059,476,1137,503"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1048,527,1148,554"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1059,578,1137,604"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1057,628,1139,655"/>
<area shape="rect" id="node24" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="518,527,629,554"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_a23920cfd809d844b355b159fd88e5748_icgraph.png" border="0" usemap="#master_8c_a23920cfd809d844b355b159fd88e5748_icgraph" alt=""/></div>
<map name="master_8c_a23920cfd809d844b355b159fd88e5748_icgraph" id="master_8c_a23920cfd809d844b355b159fd88e5748_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="172,5,301,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="349,5,443,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="491,5,600,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="648,5,741,32"/>
</map>
</div>

</div>
</div>
<a id="ac45820de3d377c5a1f29a160f5fb0d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45820de3d377c5a1f29a160f5fb0d77">&#9670;&nbsp;</a></span>ubifs_read_master()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_master - read master node. <code></code>: UBIFS file-system description object</p>
<p>This function finds and reads the master node during file-system mount. If the flash is empty, it creates default master node as well. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_ac45820de3d377c5a1f29a160f5fb0d77_cgraph.png" border="0" usemap="#master_8c_ac45820de3d377c5a1f29a160f5fb0d77_cgraph" alt=""/></div>
<map name="master_8c_ac45820de3d377c5a1f29a160f5fb0d77_cgraph" id="master_8c_ac45820de3d377c5a1f29a160f5fb0d77_cgraph">
<area shape="rect" id="node2" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="215,134,333,160"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1049,411,1121,438"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1023,740,1147,767"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="183,654,365,680"/>
<area shape="rect" id="node48" href="master_8c.html#abcff9867fae9df56cce08f7ac1b0ae4b" title="validate_master" alt="" coords="823,386,937,412"/>
<area shape="rect" id="node49" href="ubifs_2commit_8c.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="189,508,359,535"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="446,171,531,198"/>
<area shape="rect" id="node28" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="612,44,747,71"/>
<area shape="rect" id="node4" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="620,298,739,324"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="612,588,747,615"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="623,95,736,122"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="623,247,736,274"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="795,146,965,172"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="827,487,933,514"/>
<area shape="rect" id="node8" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="809,588,951,615"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1405,816,1487,843"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="817,740,943,767"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1239,842,1313,868"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1225,740,1327,767"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1229,791,1323,818"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1239,272,1313,299"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1215,588,1337,615"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1216,690,1336,716"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1405,867,1487,894"/>
<area shape="rect" id="node18" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1409,588,1483,615"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1407,639,1485,666"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1396,690,1496,716"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1407,487,1485,514"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1405,538,1487,564"/>
<area shape="rect" id="node25" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="825,95,935,122"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="427,588,550,615"/>
<area shape="rect" id="node32" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="447,690,530,716"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="413,1070,564,1096"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="642,639,717,666"/>
<area shape="rect" id="node34" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="612,1070,747,1096"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="618,1146,741,1172"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="833,1095,927,1122"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="841,1044,919,1071"/>
<area shape="rect" id="node36" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1031,1146,1138,1172"/>
<area shape="rect" id="node37" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1233,1146,1319,1172"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1217,1196,1335,1223"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="822,1247,938,1274"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1021,1298,1148,1324"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="1013,1247,1156,1274"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1206,1247,1346,1274"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1204,1298,1348,1324"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1235,1348,1317,1375"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1233,1399,1319,1426"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="621,740,738,767"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_ac45820de3d377c5a1f29a160f5fb0d77_icgraph.png" border="0" usemap="#master_8c_ac45820de3d377c5a1f29a160f5fb0d77_icgraph" alt=""/></div>
<map name="master_8c_ac45820de3d377c5a1f29a160f5fb0d77_icgraph" id="master_8c_ac45820de3d377c5a1f29a160f5fb0d77_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="183,5,276,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="324,5,433,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="481,5,575,32"/>
</map>
</div>

</div>
</div>
<a id="a18dd7f158ea38355047d1718f7f01ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dd7f158ea38355047d1718f7f01ecd">&#9670;&nbsp;</a></span>ubifs_write_master()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_write_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_write_master - write master node. <code></code>: UBIFS file-system description object</p>
<p>This function writes the master node. Returns zero in case of success and a negative error code in case of failure. The master node is written twice to enable recovery. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_a18dd7f158ea38355047d1718f7f01ecd_cgraph.png" border="0" usemap="#master_8c_a18dd7f158ea38355047d1718f7f01ecd_cgraph" alt=""/></div>
<map name="master_8c_a18dd7f158ea38355047d1718f7f01ecd_cgraph" id="master_8c_a18dd7f158ea38355047d1718f7f01ecd_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="361,1339,481,1366"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="185,1618,305,1645"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="909,1542,1027,1569"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="536,1289,649,1315"/>
<area shape="rect" id="node27" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1125,605,1197,631"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="715,1542,822,1569"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="705,883,832,910"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="697,1390,840,1417"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="898,681,1038,707"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="896,731,1040,758"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="927,782,1009,809"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="925,833,1011,859"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="927,883,1009,910"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="901,934,1035,961"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="907,985,1029,1011"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1098,365,1225,391"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1099,1187,1223,1214"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="888,1289,1048,1315"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="904,1339,1032,1366"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="906,1390,1030,1417"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="906,1441,1030,1467"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="903,1035,1033,1062"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="899,275,1037,302"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="911,1086,1025,1113"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="908,1238,1028,1265"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1096,1415,1227,1442"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="906,326,1030,353"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="903,377,1033,403"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="911,427,1025,454"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="905,478,1031,505"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="897,529,1039,555"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="911,225,1025,251"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="894,1187,1042,1214"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="891,579,1045,606"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="905,630,1031,657"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1298,1086,1373,1113"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1298,1289,1373,1315"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1284,1238,1387,1265"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1288,1137,1383,1163"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1275,1339,1396,1366"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1275,1187,1395,1214"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1444,1517,1527,1543"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1099,1238,1223,1265"/>
<area shape="rect" id="node43" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="925,1593,1011,1619"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="353,1618,488,1645"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="366,1441,475,1467"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="546,1593,639,1619"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="553,1643,632,1670"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="541,1390,644,1417"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_a18dd7f158ea38355047d1718f7f01ecd_icgraph.png" border="0" usemap="#master_8c_a18dd7f158ea38355047d1718f7f01ecd_icgraph" alt=""/></div>
<map name="master_8c_a18dd7f158ea38355047d1718f7f01ecd_icgraph" id="master_8c_a18dd7f158ea38355047d1718f7f01ecd_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1137,107,1231,133"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1121,157,1247,184"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="385,56,508,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="204,208,319,235"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="185,157,337,184"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1333,5,1443,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1536,5,1629,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1327,56,1449,83"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="403,157,490,184"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="563,157,674,184"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="556,284,681,311"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="924,157,1039,184"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="741,309,843,336"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="735,208,849,235"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="903,208,1060,235"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="919,1019,1044,1045"/>
<area shape="rect" id="node45" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="729,360,855,387"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1121,309,1247,336"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1516,715,1649,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1341,259,1435,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1347,360,1429,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1343,309,1433,336"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1340,411,1436,437"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1337,461,1439,488"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1539,360,1626,387"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1126,487,1242,513"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1115,1120,1253,1147"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1113,1221,1255,1248"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1121,208,1247,235"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1124,259,1244,285"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1122,1171,1246,1197"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1111,1019,1257,1045"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1108,1069,1260,1096"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1343,563,1433,589"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1349,613,1427,640"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1343,664,1433,691"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1345,512,1431,539"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1339,1120,1437,1147"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1533,1120,1633,1147"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1327,1272,1449,1299"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1313,1221,1463,1248"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1335,107,1441,133"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1339,1019,1437,1045"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1339,1069,1437,1096"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1115,639,1253,665"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1327,816,1449,843"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1331,867,1445,893"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1348,917,1428,944"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1308,765,1468,792"/>
</map>
</div>

</div>
</div>
<a id="abcff9867fae9df56cce08f7ac1b0ae4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcff9867fae9df56cce08f7ac1b0ae4b">&#9670;&nbsp;</a></span>validate_master()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int validate_master </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>validate_master - validate master node. <code></code>: UBIFS file-system description object</p>
<p>This function validates data which was read from master node. Returns zero if the data is all right and %-EINVAL if not. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_cgraph.png" border="0" usemap="#master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_cgraph" alt=""/></div>
<map name="master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_cgraph" id="master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="194,107,266,133"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="168,157,292,184"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="363,31,438,57"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="349,81,452,108"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="353,132,448,159"/>
<area shape="rect" id="node9" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="363,183,438,209"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="340,233,461,260"/>
<area shape="rect" id="node16" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="341,284,461,311"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="518,5,601,32"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="518,56,601,83"/>
<area shape="rect" id="node11" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="522,132,597,159"/>
<area shape="rect" id="node12" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="520,183,599,209"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="509,233,609,260"/>
<area shape="rect" id="node14" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="520,284,599,311"/>
<area shape="rect" id="node15" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="519,335,600,361"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_icgraph.png" border="0" usemap="#master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_icgraph" alt=""/></div>
<map name="master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_icgraph" id="master_8c_abcff9867fae9df56cce08f7ac1b0ae4b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="168,5,297,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="345,5,439,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="487,5,596,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="644,5,737,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="master_8c.html">master.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
