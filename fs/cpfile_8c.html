<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/cpfile.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cpfile_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cpfile.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/string.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mdt_8h_source.html">mdt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cpfile_8h_source.html">cpfile.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cpfile.c:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c__incl.png" border="0" usemap="#nilfs2_2cpfile_8c" alt=""/></div>
<map name="nilfs2_2cpfile_8c" id="nilfs2_2cpfile_8c">
<area shape="rect" id="node7" href="mdt_8h.html" title="mdt.h" alt="" coords="752,80,807,107"/>
<area shape="rect" id="node24" href="cpfile_8h.html" title="cpfile.h" alt="" coords="1179,379,1243,405"/>
<area shape="rect" id="node9" href="nilfs_8h.html" title="nilfs.h" alt="" coords="727,229,784,256"/>
<area shape="rect" id="node23" href="page_8h.html" title="page.h" alt="" coords="614,155,675,181"/>
<area shape="rect" id="node14" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="406,379,489,405"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="783,304,848,331"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="767,379,827,405"/>
<area shape="rect" id="node22" href="dat_8h.html" title="dat.h" alt="" coords="902,379,953,405"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeabb5bf5c2379caa588e3302673b1a30"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30">nilfs_cpfile_checkpoints_per_block</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile)</td></tr>
<tr class="separator:aeabb5bf5c2379caa588e3302673b1a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d134834f89f92295956bc0532ebc00"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00">nilfs_cpfile_get_blkoff</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a67d134834f89f92295956bc0532ebc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3192909ddb88c2575bb1828d746310a"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a">nilfs_cpfile_get_offset</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:af3192909ddb88c2575bb1828d746310a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064a874e7effb026597d663177f77af0"><td class="memItemLeft" align="right" valign="top">static __u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0">nilfs_cpfile_first_checkpoint_in_block</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, unsigned long blkoff)</td></tr>
<tr class="separator:a064a874e7effb026597d663177f77af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee514232b0632a21e05f667f33704ade"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade">nilfs_cpfile_checkpoints_in_block</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 curr, __u64 max)</td></tr>
<tr class="separator:aee514232b0632a21e05f667f33704ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3426549677cf51101b5df35dc01aa4a7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7">nilfs_cpfile_is_in_first</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a3426549677cf51101b5df35dc01aa4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447cee523bd7bc37ca3dda45ab0b5fa1"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1">nilfs_cpfile_block_add_valid_checkpoints</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct buffer_head *bh, void *kaddr, unsigned int n)</td></tr>
<tr class="separator:a447cee523bd7bc37ca3dda45ab0b5fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637e7231d3a234bdf6405fc8aa2bde40"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a637e7231d3a234bdf6405fc8aa2bde40">nilfs_cpfile_block_sub_valid_checkpoints</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct buffer_head *bh, void *kaddr, unsigned int n)</td></tr>
<tr class="separator:a637e7231d3a234bdf6405fc8aa2bde40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bb4325de3f70ecd2e2b03ea43205cb"><td class="memItemLeft" align="right" valign="top">static struct nilfs_cpfile_header *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb">nilfs_cpfile_block_get_header</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:af5bb4325de3f70ecd2e2b03ea43205cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f50ee8f6946771fe618e3ac414fae4"><td class="memItemLeft" align="right" valign="top">static struct nilfs_checkpoint *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4">nilfs_cpfile_block_get_checkpoint</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno, struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:a61f50ee8f6946771fe618e3ac414fae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad532d334d0ba51974d655e439bbd513c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c">nilfs_cpfile_block_init</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:ad532d334d0ba51974d655e439bbd513c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ff8012cf954ee1e283e981e7c92c4cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf">nilfs_cpfile_get_header_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct buffer_head **bhp)</td></tr>
<tr class="separator:a9ff8012cf954ee1e283e981e7c92c4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aefee4421b37e13cdc047fbd1765eef"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef">nilfs_cpfile_get_checkpoint_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno, int create, struct buffer_head **bhp)</td></tr>
<tr class="separator:a3aefee4421b37e13cdc047fbd1765eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef70b3a4a8a5ff5520368acfc981309c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c">nilfs_cpfile_find_checkpoint_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 start_cno, __u64 end_cno, __u64 *cnop, struct buffer_head **bhp)</td></tr>
<tr class="separator:aef70b3a4a8a5ff5520368acfc981309c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eae0b4142d9167d13e5d57535dbb5aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa">nilfs_cpfile_delete_checkpoint_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a3eae0b4142d9167d13e5d57535dbb5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c09da14774428448759c7e4bac12ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec">nilfs_cpfile_get_checkpoint</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno, int create, struct nilfs_checkpoint **cpp, struct buffer_head **bhp)</td></tr>
<tr class="separator:a40c09da14774428448759c7e4bac12ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e48092c22cb4deae815d7073201249"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249">nilfs_cpfile_put_checkpoint</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno, struct buffer_head *bh)</td></tr>
<tr class="separator:a72e48092c22cb4deae815d7073201249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741424beec629d3d2eb990ebf4ba1da4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4">nilfs_cpfile_delete_checkpoints</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, __u64 end)</td></tr>
<tr class="separator:a741424beec629d3d2eb990ebf4ba1da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc61d49896374c113383a0f8eb50db2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2">nilfs_cpfile_checkpoint_to_cpinfo</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct nilfs_checkpoint *cp, struct nilfs_cpinfo *ci)</td></tr>
<tr class="separator:accc61d49896374c113383a0f8eb50db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc12fdd10ce1288436abf623cafddf6"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6">nilfs_cpfile_do_get_cpinfo</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 *cnop, void *buf, unsigned int cisz, size_t nci)</td></tr>
<tr class="separator:adcc12fdd10ce1288436abf623cafddf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063fdfbdf57b5c77444ea3bee7eea7c5"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5">nilfs_cpfile_do_get_ssinfo</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 *cnop, void *buf, unsigned int cisz, size_t nci)</td></tr>
<tr class="separator:a063fdfbdf57b5c77444ea3bee7eea7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826c418383caea450a332055f0b568e6"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a826c418383caea450a332055f0b568e6">nilfs_cpfile_get_cpinfo</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 *cnop, int mode, void *buf, unsigned int cisz, size_t nci)</td></tr>
<tr class="separator:a826c418383caea450a332055f0b568e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87526dd5f2e1726e569bd7bf58dc9562"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a87526dd5f2e1726e569bd7bf58dc9562">nilfs_cpfile_delete_checkpoint</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a87526dd5f2e1726e569bd7bf58dc9562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e272672608da2a064e85f8db0d38e32"><td class="memItemLeft" align="right" valign="top">static struct nilfs_snapshot_list *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32">nilfs_cpfile_block_get_snapshot_list</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno, struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:a4e272672608da2a064e85f8db0d38e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987eccfb76e10b13685d86b96f740c2e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e">nilfs_cpfile_set_snapshot</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a987eccfb76e10b13685d86b96f740c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e33b9de3faac99d87d1c55ddcaf8b7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7">nilfs_cpfile_clear_snapshot</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a89e33b9de3faac99d87d1c55ddcaf8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ddd237af180f7572c3b8bd8432250b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a5ddd237af180f7572c3b8bd8432250b1">nilfs_cpfile_is_snapshot</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno)</td></tr>
<tr class="separator:a5ddd237af180f7572c3b8bd8432250b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e742bbbbe3ba2317b16e11acec1466"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a85e742bbbbe3ba2317b16e11acec1466">nilfs_cpfile_change_cpmode</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, __u64 cno, int mode)</td></tr>
<tr class="separator:a85e742bbbbe3ba2317b16e11acec1466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929716373573b8e3682a2081e6b99a56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#a929716373573b8e3682a2081e6b99a56">nilfs_cpfile_get_stat</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *cpfile, struct nilfs_cpstat *cpstat)</td></tr>
<tr class="separator:a929716373573b8e3682a2081e6b99a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2e663c9b54bd6b3fc4a9f57c6e98a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8c.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0">nilfs_cpfile_read</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, size_t cpsize, struct nilfs_inode *raw_inode, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> **inodep)</td></tr>
<tr class="separator:afc2e663c9b54bd6b3fc4a9f57c6e98a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a447cee523bd7bc37ca3dda45ab0b5fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a447cee523bd7bc37ca3dda45ab0b5fa1">&#9670;&nbsp;</a></span>nilfs_cpfile_block_add_valid_checkpoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int nilfs_cpfile_block_add_valid_checkpoints </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_cgraph.png" border="0" usemap="#cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_cgraph" alt=""/></div>
<map name="cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_cgraph" id="cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="215,13,269,39"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="317,13,436,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_icgraph.png" border="0" usemap="#cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_icgraph" alt=""/></div>
<map name="cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_icgraph" id="cpfile_8c_a447cee523bd7bc37ca3dda45ab0b5fa1_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="215,311,393,337"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="2340,132,2499,159"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="441,365,580,406"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="641,303,757,345"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="2769,5,2919,32"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="4183,132,4289,159"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2547,195,2721,221"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="4354,132,4443,159"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2805,245,2883,272"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2967,296,3084,323"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="3161,296,3260,323"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="3132,347,3289,373"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="3341,413,3489,440"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="3346,347,3485,389"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="3337,296,3493,323"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3541,445,3720,472"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3807,476,3884,503"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3987,577,4107,604"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="4179,577,4293,604"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="4171,513,4301,540"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="4354,653,4443,680"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="4353,501,4445,528"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="4349,552,4448,579"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="4356,603,4441,629"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="3561,339,3700,365"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="3781,317,3910,358"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3971,309,4123,336"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="4186,259,4286,285"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="3557,284,3704,311"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="3768,157,3923,184"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3991,208,4102,235"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="628,369,769,410"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="817,376,959,403"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1007,376,1185,403"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="3341,646,3490,687"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1233,398,1417,439"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="3793,653,3898,680"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="3573,628,3689,655"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1465,529,1604,570"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="3137,397,3285,424"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1652,616,1791,643"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1839,616,1939,643"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1987,729,2105,756"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1987,540,2105,567"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2589,596,2679,623"/>
<area shape="rect" id="node43" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2163,515,2282,541"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2153,449,2292,490"/>
<area shape="rect" id="node45" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2349,220,2490,247"/>
</map>
</div>

</div>
</div>
<a id="a61f50ee8f6946771fe618e3ac414fae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f50ee8f6946771fe618e3ac414fae4">&#9670;&nbsp;</a></span>nilfs_cpfile_block_get_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct nilfs_checkpoint* nilfs_cpfile_block_get_checkpoint </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_cgraph.png" border="0" usemap="#cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_cgraph" alt=""/></div>
<map name="cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_cgraph" id="cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="176,32,325,59"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="583,32,679,59"/>
<area shape="rect" id="node4" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="373,25,535,66"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_icgraph.png" border="0" usemap="#cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_icgraph" alt=""/></div>
<map name="cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_icgraph" id="cpfile_8c_a61f50ee8f6946771fe618e3ac414fae4_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="176,171,355,198"/>
<area shape="rect" id="node36" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1058,341,1185,383"/>
<area shape="rect" id="node41" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="1056,407,1187,448"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="200,451,331,492"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="200,568,331,609"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="403,590,572,617"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="428,524,547,565"/>
<area shape="rect" id="node50" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="185,295,346,322"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="408,210,567,237"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="418,68,557,109"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="855,123,971,164"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="633,290,782,317"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1069,239,1174,266"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="620,189,795,215"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1306,290,1395,317"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="875,189,952,215"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1292,239,1409,266"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1520,242,1619,269"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1491,191,1648,218"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1700,253,1848,279"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1705,185,1843,227"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1696,134,1852,161"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1900,355,2079,382"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2141,397,2218,423"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2280,326,2400,353"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2456,326,2571,353"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2448,379,2579,406"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2628,301,2717,327"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2627,351,2719,378"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1920,193,2059,219"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1916,138,2063,165"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="637,67,778,108"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="843,71,984,98"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1032,130,1211,157"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1699,65,1849,107"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1259,123,1443,164"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2127,174,2232,201"/>
<area shape="rect" id="node30" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1931,37,2047,63"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1500,5,1639,47"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1495,134,1643,161"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1705,13,1843,39"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1291,341,1410,383"/>
<area shape="rect" id="node39" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1287,407,1414,448"/>
<area shape="rect" id="node38" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1506,297,1633,339"/>
<area shape="rect" id="node40" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1930,407,2049,448"/>
<area shape="rect" id="node42" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="1275,473,1426,499"/>
<area shape="rect" id="node43" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="1713,465,1835,507"/>
<area shape="rect" id="node47" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="641,524,774,565"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="850,524,977,565"/>
</map>
</div>

</div>
</div>
<a id="af5bb4325de3f70ecd2e2b03ea43205cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bb4325de3f70ecd2e2b03ea43205cb">&#9670;&nbsp;</a></span>nilfs_cpfile_block_get_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct nilfs_cpfile_header* nilfs_cpfile_block_get_header </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_af5bb4325de3f70ecd2e2b03ea43205cb_icgraph.png" border="0" usemap="#cpfile_8c_af5bb4325de3f70ecd2e2b03ea43205cb_icgraph" alt=""/></div>
<map name="cpfile_8c_af5bb4325de3f70ecd2e2b03ea43205cb_icgraph" id="cpfile_8c_af5bb4325de3f70ecd2e2b03ea43205cb_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="176,218,355,244"/>
<area shape="rect" id="node34" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1106,370,1233,412"/>
<area shape="rect" id="node39" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="200,429,331,470"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="200,546,331,588"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="418,554,587,580"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="443,488,562,529"/>
<area shape="rect" id="node47" href="cpfile_8h.html#a3449472f483c42ad36c89de01f0204d5" title="nilfs_cpfile_get_stat" alt="" coords="196,663,335,690"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="651,247,809,274"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="433,97,572,138"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="887,137,1003,178"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1095,304,1244,331"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1346,254,1451,280"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="857,203,1032,230"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1573,304,1662,331"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1131,203,1208,230"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1340,203,1457,230"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1568,254,1667,280"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1539,136,1696,163"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1748,206,1896,232"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1753,140,1891,181"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1744,88,1900,115"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1948,258,2127,284"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2189,438,2266,464"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2328,367,2448,394"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2504,367,2619,394"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2496,420,2627,447"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1968,147,2107,174"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1964,92,2111,119"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="659,82,801,124"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="874,86,1015,112"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1080,86,1259,112"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1747,22,1897,64"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1307,137,1491,178"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2175,156,2280,183"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1979,42,2095,68"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1548,188,1687,229"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1543,86,1691,112"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1753,256,1891,283"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1339,356,1458,397"/>
<area shape="rect" id="node37" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1335,421,1462,462"/>
<area shape="rect" id="node36" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1554,356,1681,397"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1978,421,2097,462"/>
<area shape="rect" id="node40" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="427,436,578,463"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="669,450,791,492"/>
<area shape="rect" id="node44" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="663,538,797,580"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="881,538,1008,580"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a39cf54b1fc6701f6616f08fefcf4260b" title="nilfs_ioctl_get_cpstat" alt="" coords="657,604,803,631"/>
<area shape="rect" id="node49" href="nilfs2_2sysfs_8c.html#afa186f47a96aaf919fc4c5faa1891f19" title="nilfs_checkpoints_checkpoints\l_number_show" alt="" coords="403,656,603,697"/>
<area shape="rect" id="node50" href="nilfs2_2sysfs_8c.html#a3b4893fe04d5a74b5b772943685e5ac7" title="nilfs_checkpoints_snapshots\l_number_show" alt="" coords="407,721,598,762"/>
</map>
</div>

</div>
</div>
<a id="a4e272672608da2a064e85f8db0d38e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e272672608da2a064e85f8db0d38e32">&#9670;&nbsp;</a></span>nilfs_cpfile_block_get_snapshot_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct nilfs_snapshot_list* nilfs_cpfile_block_get_snapshot_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a4e272672608da2a064e85f8db0d38e32_cgraph.png" border="0" usemap="#cpfile_8c_a4e272672608da2a064e85f8db0d38e32_cgraph" alt=""/></div>
<map name="cpfile_8c_a4e272672608da2a064e85f8db0d38e32_cgraph" id="cpfile_8c_a4e272672608da2a064e85f8db0d38e32_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="184,54,307,95"/>
<area shape="rect" id="node6" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="184,119,307,161"/>
<area shape="rect" id="node3" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="355,32,504,59"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="761,32,857,59"/>
<area shape="rect" id="node5" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="552,25,713,66"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a4e272672608da2a064e85f8db0d38e32_icgraph.png" border="0" usemap="#cpfile_8c_a4e272672608da2a064e85f8db0d38e32_icgraph" alt=""/></div>
<map name="cpfile_8c_a4e272672608da2a064e85f8db0d38e32_icgraph" id="cpfile_8c_a4e272672608da2a064e85f8db0d38e32_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="184,77,353,104"/>
<area shape="rect" id="node13" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="209,129,328,170"/>
<area shape="rect" id="node3" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="401,99,535,141"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="583,99,709,141"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="757,107,835,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="883,81,1003,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1059,81,1173,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1051,132,1181,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1234,5,1323,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1233,56,1325,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1229,107,1328,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1236,157,1321,184"/>
</map>
</div>

</div>
</div>
<a id="ad532d334d0ba51974d655e439bbd513c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad532d334d0ba51974d655e439bbd513c">&#9670;&nbsp;</a></span>nilfs_cpfile_block_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_cpfile_block_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_ad532d334d0ba51974d655e439bbd513c_cgraph.png" border="0" usemap="#cpfile_8c_ad532d334d0ba51974d655e439bbd513c_cgraph" alt=""/></div>
<map name="cpfile_8c_ad532d334d0ba51974d655e439bbd513c_cgraph" id="cpfile_8c_ad532d334d0ba51974d655e439bbd513c_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="409,5,505,32"/>
<area shape="rect" id="node3" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="200,27,361,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_ad532d334d0ba51974d655e439bbd513c_icgraph.png" border="0" usemap="#cpfile_8c_ad532d334d0ba51974d655e439bbd513c_icgraph" alt=""/></div>
<map name="cpfile_8c_ad532d334d0ba51974d655e439bbd513c_icgraph" id="cpfile_8c_ad532d334d0ba51974d655e439bbd513c_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="200,385,379,426"/>
<area shape="rect" id="node3" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="427,195,605,221"/>
<area shape="rect" id="node38" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1301,363,1427,405"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="451,531,581,573"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="431,480,601,507"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="457,414,575,455"/>
<area shape="rect" id="node50" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="653,312,815,339"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="655,249,813,276"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="665,170,803,211"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1098,86,1214,127"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="875,312,1025,339"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1311,261,1417,288"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="863,211,1037,237"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1549,267,1638,293"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1117,211,1195,237"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1535,212,1652,239"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1763,271,1861,297"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1733,153,1891,180"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1943,220,2091,247"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1947,154,2086,195"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1939,103,2095,129"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2143,247,2321,273"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2383,400,2461,427"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2523,329,2643,356"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2699,329,2813,356"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2691,383,2821,409"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2874,279,2963,305"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2873,329,2965,356"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2869,380,2968,407"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2163,161,2301,188"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2159,107,2305,133"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="879,145,1021,186"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1085,152,1227,179"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1275,95,1453,121"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1942,37,2091,78"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1501,146,1685,187"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2369,165,2475,192"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2174,5,2290,32"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1743,205,1881,246"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1738,103,1886,129"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1947,271,2086,297"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1534,322,1653,363"/>
<area shape="rect" id="node41" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1530,387,1657,429"/>
<area shape="rect" id="node40" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1749,322,1875,363"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="2173,387,2291,429"/>
<area shape="rect" id="node44" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="659,537,809,564"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="1095,519,1217,561"/>
<area shape="rect" id="node47" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="667,446,801,487"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1301,446,1427,487"/>
</map>
</div>

</div>
</div>
<a id="a637e7231d3a234bdf6405fc8aa2bde40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637e7231d3a234bdf6405fc8aa2bde40">&#9670;&nbsp;</a></span>nilfs_cpfile_block_sub_valid_checkpoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int nilfs_cpfile_block_sub_valid_checkpoints </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_cgraph.png" border="0" usemap="#cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_cgraph" alt=""/></div>
<map name="cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_cgraph" id="cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="215,13,269,39"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="317,13,436,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_icgraph.png" border="0" usemap="#cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_icgraph" alt=""/></div>
<map name="cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_icgraph" id="cpfile_8c_a637e7231d3a234bdf6405fc8aa2bde40_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="215,127,341,169"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="389,97,508,138"/>
<area shape="rect" id="node15" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="556,159,683,201"/>
<area shape="rect" id="node4" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="556,94,683,135"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="731,108,879,135"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1279,81,1399,108"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="927,109,1105,136"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1153,132,1231,159"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1455,81,1569,108"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1447,132,1577,159"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1630,5,1719,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1629,56,1721,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1625,107,1724,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1632,157,1717,184"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="745,159,864,201"/>
</map>
</div>

</div>
</div>
<a id="a85e742bbbbe3ba2317b16e11acec1466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85e742bbbbe3ba2317b16e11acec1466">&#9670;&nbsp;</a></span>nilfs_cpfile_change_cpmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_change_cpmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_change_cpmode - change checkpoint mode : inode of checkpoint file : checkpoint number : mode of checkpoint</p>
<p>Description: nilfs_change_cpmode() changes the mode of the checkpoint specified by . The mode  is NILFS_CHECKPOINT or NILFS_SNAPSHOT.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No such checkpoint. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_cgraph.png" border="0" usemap="#cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_cgraph" alt=""/></div>
<map name="cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_cgraph" id="cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="205,353,338,394"/>
<area shape="rect" id="node33" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="212,813,331,854"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="187,969,356,996"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#ade82c185e7dd753033a0bc34b0a14bc9" title="nilfs_last_cno" alt="" coords="442,360,545,387"/>
<area shape="rect" id="node4" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="433,411,553,437"/>
<area shape="rect" id="node5" href="nilfs2_2inode_8c.html#a4f88fdc579c23ff4f443113fe7066b31" title="nilfs_ilookup" alt="" coords="446,512,541,539"/>
<area shape="rect" id="node9" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="881,411,924,437"/>
<area shape="rect" id="node14" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="448,208,539,235"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a3048287dba544c5960a5968dbf586839" title="nilfs_tree_is_busy" alt="" coords="430,157,557,184"/>
<area shape="rect" id="node29" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="682,259,729,285"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="443,309,543,336"/>
<area shape="rect" id="node6" href="inode_8c.html#a3ce24c611eed82b98fb4775b3db0a8b6" title="ilookup5" alt="" coords="670,512,741,539"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#a42350b0b59e53776755f5a0b17efd97f" title="nilfs_iget_test" alt="" coords="654,563,757,589"/>
<area shape="rect" id="node7" href="inode_8c.html#aa28e352a61659eb916065442f9393d3d" title="ilookup5_nowait" alt="" coords="845,461,960,488"/>
<area shape="rect" id="node8" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1037,461,1175,488"/>
<area shape="rect" id="node10" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1069,411,1143,437"/>
<area shape="rect" id="node11" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1235,411,1337,437"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="867,563,938,589"/>
<area shape="rect" id="node15" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="653,56,758,83"/>
<area shape="rect" id="node17" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="833,208,972,235"/>
<area shape="rect" id="node16" href="dcache_8c.html#ab9c0fece5c680f2c592413b6d3239ae9" title="__dget_dlock" alt="" coords="853,5,952,32"/>
<area shape="rect" id="node19" href="dcache_8c.html#aee4ccc28fb68e9b5566fc16cdbb69bc0" title="shrink_dcache_parent" alt="" coords="631,157,780,184"/>
<area shape="rect" id="node20" href="dcache_8c.html#ab1f5df0a669df3b2e700c6f79db0f4b9" title="d_walk" alt="" coords="871,157,934,184"/>
<area shape="rect" id="node21" href="dcache_8c.html#a7043ab7e8420be1ae9f3fb80145671f9" title="select_collect" alt="" coords="851,56,954,83"/>
<area shape="rect" id="node22" href="dcache_8c.html#adb55902ac86827c11aada2fa2490bd92" title="shrink_dentry_list" alt="" coords="841,107,965,133"/>
<area shape="rect" id="node23" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="1239,136,1333,163"/>
<area shape="rect" id="node24" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="1065,219,1147,245"/>
<area shape="rect" id="node25" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="1385,231,1488,257"/>
<area shape="rect" id="node26" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="1241,244,1331,271"/>
<area shape="rect" id="node27" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1237,307,1335,333"/>
<area shape="rect" id="node28" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="1397,307,1476,333"/>
<area shape="rect" id="node30" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="865,360,941,387"/>
<area shape="rect" id="node32" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="642,310,769,351"/>
<area shape="rect" id="node34" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1238,960,1334,987"/>
<area shape="rect" id="node35" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="404,1050,583,1091"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="644,869,767,910"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="416,933,571,974"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="428,867,559,909"/>
<area shape="rect" id="node44" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="644,803,767,845"/>
<area shape="rect" id="node45" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="432,1116,555,1143"/>
<area shape="rect" id="node49" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="422,715,565,741"/>
<area shape="rect" id="node36" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="636,937,775,964"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="829,1053,977,1080"/>
<area shape="rect" id="node39" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="829,988,976,1015"/>
<area shape="rect" id="node38" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="1025,953,1187,994"/>
<area shape="rect" id="node41" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="828,901,977,928"/>
<area shape="rect" id="node46" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="645,1191,766,1217"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="638,1089,773,1116"/>
<area shape="rect" id="node48" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="636,1140,775,1167"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_icgraph.png" border="0" usemap="#cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_icgraph" alt=""/></div>
<map name="cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_icgraph" id="cpfile_8c_a85e742bbbbe3ba2317b16e11acec1466_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="187,99,313,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="361,107,439,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="487,81,607,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="663,81,777,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="655,132,785,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="838,5,927,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="837,56,929,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="833,107,932,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="840,157,925,184"/>
</map>
</div>

</div>
</div>
<a id="accc61d49896374c113383a0f8eb50db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc61d49896374c113383a0f8eb50db2">&#9670;&nbsp;</a></span>nilfs_cpfile_checkpoint_to_cpinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_cpfile_checkpoint_to_cpinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_checkpoint *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_cpinfo *&#160;</td>
          <td class="paramname"><em>ci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_accc61d49896374c113383a0f8eb50db2_icgraph.png" border="0" usemap="#cpfile_8c_accc61d49896374c113383a0f8eb50db2_icgraph" alt=""/></div>
<map name="cpfile_8c_accc61d49896374c113383a0f8eb50db2_icgraph" id="cpfile_8c_accc61d49896374c113383a0f8eb50db2_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="208,131,339,173"/>
<area shape="rect" id="node15" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="208,66,339,107"/>
<area shape="rect" id="node3" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="387,73,537,100"/>
<area shape="rect" id="node13" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="399,131,525,173"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="585,66,708,107"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="756,107,833,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="881,81,1001,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1057,81,1172,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1049,132,1180,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1233,5,1322,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1231,56,1323,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1228,107,1327,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1235,157,1320,184"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="587,131,706,173"/>
</map>
</div>

</div>
</div>
<a id="aee514232b0632a21e05f667f33704ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee514232b0632a21e05f667f33704ade">&#9670;&nbsp;</a></span>nilfs_cpfile_checkpoints_in_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_cpfile_checkpoints_in_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>curr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_aee514232b0632a21e05f667f33704ade_cgraph.png" border="0" usemap="#cpfile_8c_aee514232b0632a21e05f667f33704ade_cgraph" alt=""/></div>
<map name="cpfile_8c_aee514232b0632a21e05f667f33704ade_cgraph" id="cpfile_8c_aee514232b0632a21e05f667f33704ade_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="412,5,573,47"/>
<area shape="rect" id="node4" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="215,63,364,90"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="621,42,717,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_aee514232b0632a21e05f667f33704ade_icgraph.png" border="0" usemap="#cpfile_8c_aee514232b0632a21e05f667f33704ade_icgraph" alt=""/></div>
<map name="cpfile_8c_aee514232b0632a21e05f667f33704ade_icgraph" id="cpfile_8c_aee514232b0632a21e05f667f33704ade_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="217,107,343,149"/>
<area shape="rect" id="node17" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="215,173,345,214"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="409,78,528,119"/>
<area shape="rect" id="node15" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="405,143,532,185"/>
<area shape="rect" id="node4" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="592,78,719,119"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="767,92,915,119"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1315,81,1435,108"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="963,96,1141,123"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1189,132,1267,159"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1491,81,1605,108"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1483,132,1613,159"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1666,5,1755,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1665,56,1757,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1661,107,1760,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1668,157,1753,184"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="781,143,900,185"/>
<area shape="rect" id="node18" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="393,209,544,236"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="991,201,1113,242"/>
</map>
</div>

</div>
</div>
<a id="aeabb5bf5c2379caa588e3302673b1a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeabb5bf5c2379caa588e3302673b1a30">&#9670;&nbsp;</a></span>nilfs_cpfile_checkpoints_per_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_cpfile_checkpoints_per_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_cgraph.png" border="0" usemap="#cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_cgraph" alt=""/></div>
<map name="cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_cgraph" id="cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="215,13,311,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_icgraph.png" border="0" usemap="#cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_icgraph" alt=""/></div>
<map name="cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_icgraph" id="cpfile_8c_aeabb5bf5c2379caa588e3302673b1a30_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="215,209,363,235"/>
<area shape="rect" id="node45" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="215,78,364,105"/>
<area shape="rect" id="node46" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="423,5,584,47"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="216,129,363,171"/>
<area shape="rect" id="node50" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="216,325,363,351"/>
<area shape="rect" id="node3" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="444,201,563,243"/>
<area shape="rect" id="node33" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="414,384,593,425"/>
<area shape="rect" id="node34" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="667,216,797,257"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="869,558,1039,585"/>
<area shape="rect" id="node42" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="412,71,595,112"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="438,136,569,177"/>
<area shape="rect" id="node4" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="643,282,821,309"/>
<area shape="rect" id="node28" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="669,136,795,177"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="875,269,1033,295"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="885,320,1023,361"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1322,433,1438,475"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1099,323,1249,350"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1535,266,1641,293"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1087,273,1261,299"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1773,266,1862,293"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1341,273,1419,299"/>
<area shape="rect" id="node11" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1529,371,1647,398"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1739,317,1896,343"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1957,230,2105,257"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2153,230,2332,257"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2380,209,2457,235"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2505,183,2625,210"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2681,183,2796,210"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2673,234,2804,261"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1103,375,1245,416"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1309,382,1451,409"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1499,422,1677,449"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1743,368,1892,409"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1725,433,1909,475"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2190,550,2295,577"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1973,426,2089,453"/>
<area shape="rect" id="node29" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1321,105,1439,147"/>
<area shape="rect" id="node31" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="891,55,1017,96"/>
<area shape="rect" id="node30" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1754,105,1881,147"/>
<area shape="rect" id="node32" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1972,47,2091,88"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="895,492,1013,533"/>
<area shape="rect" id="node41" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="651,383,813,410"/>
<area shape="rect" id="node35" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="879,171,1029,198"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="2181,164,2304,205"/>
<area shape="rect" id="node38" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="1107,492,1241,533"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1525,492,1651,533"/>
<area shape="rect" id="node43" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="667,71,797,112"/>
<area shape="rect" id="node47" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="442,319,565,360"/>
<area shape="rect" id="node48" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="667,435,797,476"/>
</map>
</div>

</div>
</div>
<a id="a89e33b9de3faac99d87d1c55ddcaf8b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89e33b9de3faac99d87d1c55ddcaf8b7">&#9670;&nbsp;</a></span>nilfs_cpfile_clear_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_clear_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_cgraph.png" border="0" usemap="#cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_cgraph" alt=""/></div>
<map name="cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_cgraph" id="cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1048,97,1144,124"/>
<area shape="rect" id="node3" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="172,269,351,310"/>
<area shape="rect" id="node21" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1035,624,1157,651"/>
<area shape="rect" id="node37" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1025,523,1167,549"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="407,93,529,134"/>
<area shape="rect" id="node48" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="184,347,339,389"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="196,151,327,193"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="407,159,529,201"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="399,367,537,393"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="589,203,737,229"/>
<area shape="rect" id="node45" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="590,261,737,288"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="591,463,736,489"/>
<area shape="rect" id="node15" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="585,379,741,405"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="793,725,952,752"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1037,675,1155,701"/>
<area shape="rect" id="node9" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1046,827,1146,853"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1031,725,1161,752"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1280,523,1351,549"/>
<area shape="rect" id="node13" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1021,877,1171,904"/>
<area shape="rect" id="node14" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1055,776,1137,803"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1236,675,1395,701"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1246,801,1385,828"/>
<area shape="rect" id="node16" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="795,312,950,339"/>
<area shape="rect" id="node19" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="800,414,945,455"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="789,363,956,389"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="796,480,949,507"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1004,152,1188,179"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1029,203,1163,229"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1034,421,1158,448"/>
<area shape="rect" id="node22" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1255,624,1376,651"/>
<area shape="rect" id="node24" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1248,573,1383,600"/>
<area shape="rect" id="node23" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1447,697,1619,724"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1443,501,1623,542"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1463,566,1603,607"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1466,631,1599,673"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1463,449,1602,476"/>
<area shape="rect" id="node26" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1707,491,1798,517"/>
<area shape="rect" id="node29" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1729,541,1776,568"/>
<area shape="rect" id="node27" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="1899,440,2005,467"/>
<area shape="rect" id="node28" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1883,491,2021,517"/>
<area shape="rect" id="node30" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="1914,541,1990,568"/>
<area shape="rect" id="node31" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1903,592,2001,619"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1677,607,1828,633"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1671,657,1835,684"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1031,305,1161,346"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1020,371,1172,397"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1014,253,1178,280"/>
<area shape="rect" id="node44" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="792,195,953,237"/>
<area shape="rect" id="node47" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="589,100,738,127"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_icgraph.png" border="0" usemap="#cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_icgraph" alt=""/></div>
<map name="cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_icgraph" id="cpfile_8c_a89e33b9de3faac99d87d1c55ddcaf8b7_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="172,99,305,141"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="353,99,480,141"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="528,107,605,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="653,81,773,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="829,81,944,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="821,132,952,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1005,5,1094,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1003,56,1095,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1000,107,1099,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1007,157,1092,184"/>
</map>
</div>

</div>
</div>
<a id="a87526dd5f2e1726e569bd7bf58dc9562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87526dd5f2e1726e569bd7bf58dc9562">&#9670;&nbsp;</a></span>nilfs_cpfile_delete_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_delete_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_delete_checkpoint - : : </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_cgraph.png" border="0" usemap="#cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_cgraph" alt=""/></div>
<map name="cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_cgraph" id="cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="180,152,311,194"/>
<area shape="rect" id="node20" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="182,531,309,572"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1037,205,1133,232"/>
<area shape="rect" id="node4" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="399,36,501,62"/>
<area shape="rect" id="node5" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="359,283,541,324"/>
<area shape="rect" id="node16" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="369,152,531,194"/>
<area shape="rect" id="node18" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="389,218,511,259"/>
<area shape="rect" id="node19" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2" title="nilfs_cpfile_checkpoint\l_to_cpinfo" alt="" coords="373,87,527,128"/>
<area shape="rect" id="node6" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="593,336,741,362"/>
<area shape="rect" id="node8" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="596,462,737,489"/>
<area shape="rect" id="node15" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="593,118,740,159"/>
<area shape="rect" id="node7" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="792,168,953,210"/>
<area shape="rect" id="node9" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="800,538,945,565"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1441,785,1511,812"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="799,488,947,514"/>
<area shape="rect" id="node10" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1005,532,1164,558"/>
<area shape="rect" id="node11" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1228,582,1347,609"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1017,466,1152,507"/>
<area shape="rect" id="node17" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="592,66,741,93"/>
<area shape="rect" id="node21" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="639,773,694,800"/>
<area shape="rect" id="node23" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="373,531,527,572"/>
<area shape="rect" id="node28" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1226,981,1349,1008"/>
<area shape="rect" id="node39" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1216,894,1359,921"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="361,466,539,507"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="391,400,509,442"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a637e7231d3a234bdf6405fc8aa2bde40" title="nilfs_cpfile_block\l_sub_valid_checkpoints" alt="" coords="369,662,531,703"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="385,596,515,638"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="389,779,511,820"/>
<area shape="rect" id="node22" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="813,920,932,946"/>
<area shape="rect" id="node24" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="597,538,736,565"/>
<area shape="rect" id="node25" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="795,677,951,704"/>
<area shape="rect" id="node26" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1007,633,1162,660"/>
<area shape="rect" id="node27" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1012,836,1157,878"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1001,734,1168,761"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1008,684,1161,710"/>
<area shape="rect" id="node29" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1415,981,1537,1008"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1409,1061,1543,1088"/>
<area shape="rect" id="node38" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1407,930,1545,957"/>
<area shape="rect" id="node30" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1597,952,1769,978"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1593,1054,1773,1095"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1613,1119,1753,1160"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1617,1184,1750,1226"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1614,1002,1753,1029"/>
<area shape="rect" id="node33" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1821,1036,1912,1062"/>
<area shape="rect" id="node34" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1843,1086,1890,1113"/>
<area shape="rect" id="node43" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="593,386,740,413"/>
<area shape="rect" id="node47" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="589,722,744,749"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="809,601,936,628"/>
<area shape="rect" id="node49" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="796,869,949,896"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_icgraph.png" border="0" usemap="#cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_icgraph" alt=""/></div>
<map name="cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_icgraph" id="cpfile_8c_a87526dd5f2e1726e569bd7bf58dc9562_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="180,99,299,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="347,107,424,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="472,81,592,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="648,81,763,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="640,132,771,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="823,5,913,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="822,56,914,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="819,107,917,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="825,157,911,184"/>
</map>
</div>

</div>
</div>
<a id="a3eae0b4142d9167d13e5d57535dbb5aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eae0b4142d9167d13e5d57535dbb5aa">&#9670;&nbsp;</a></span>nilfs_cpfile_delete_checkpoint_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_delete_checkpoint_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_cgraph.png" border="0" usemap="#cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_cgraph" alt=""/></div>
<map name="cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_cgraph" id="cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="184,453,339,480"/>
<area shape="rect" id="node34" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="187,555,335,581"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="635,504,705,531"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="404,329,531,356"/>
<area shape="rect" id="node28" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="396,504,539,531"/>
<area shape="rect" id="node29" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="391,403,544,429"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="596,329,744,356"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="603,246,737,287"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="794,322,921,363"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="971,347,1092,373"/>
<area shape="rect" id="node8" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="977,296,1086,323"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="811,247,904,273"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="979,240,1083,267"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1140,240,1275,267"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1140,188,1275,215"/>
<area shape="rect" id="node13" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1323,240,1484,267"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1343,185,1463,212"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1724,184,1860,211"/>
<area shape="rect" id="node26" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1543,133,1665,160"/>
<area shape="rect" id="node27" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1532,235,1676,277"/>
<area shape="rect" id="node17" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1908,300,2061,327"/>
<area shape="rect" id="node20" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2301,212,2439,239"/>
<area shape="rect" id="node21" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2131,401,2231,428"/>
<area shape="rect" id="node22" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1943,132,2026,159"/>
<area shape="rect" id="node18" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="2128,300,2233,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="2109,234,2252,275"/>
<area shape="rect" id="node23" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2124,31,2237,57"/>
<area shape="rect" id="node24" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2300,5,2440,32"/>
<area shape="rect" id="node25" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2317,56,2423,83"/>
<area shape="rect" id="node30" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="605,387,735,429"/>
<area shape="rect" id="node31" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="607,453,733,480"/>
<area shape="rect" id="node32" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="793,453,921,494"/>
<area shape="rect" id="node33" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="792,518,923,559"/>
<area shape="rect" id="node35" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="622,584,718,611"/>
<area shape="rect" id="node36" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="387,606,548,647"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_icgraph.png" border="0" usemap="#cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_icgraph" alt=""/></div>
<map name="cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_icgraph" id="cpfile_8c_a3eae0b4142d9167d13e5d57535dbb5aa_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="184,127,311,169"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="359,97,477,138"/>
<area shape="rect" id="node15" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="525,159,652,201"/>
<area shape="rect" id="node4" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="525,94,652,135"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="700,108,848,135"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1248,81,1368,108"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="896,109,1075,136"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1123,132,1200,159"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1424,81,1539,108"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1416,132,1547,159"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1599,5,1689,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1598,56,1690,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1595,107,1693,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1601,157,1687,184"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="715,159,833,201"/>
</map>
</div>

</div>
</div>
<a id="a741424beec629d3d2eb990ebf4ba1da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741424beec629d3d2eb990ebf4ba1da4">&#9670;&nbsp;</a></span>nilfs_cpfile_delete_checkpoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_delete_checkpoints </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_delete_checkpoints - delete checkpoints : inode of checkpoint file : start checkpoint number : end checkpoint numer</p>
<p>Description: <a class="el" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4">nilfs_cpfile_delete_checkpoints()</a> deletes the checkpoints in the period from  to , excluding  itself. The checkpoints which have been already deleted are ignored.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-EINVAL - invalid checkpoints. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_cgraph.png" border="0" usemap="#cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_cgraph" alt=""/></div>
<map name="cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_cgraph" id="cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="854,363,950,390"/>
<area shape="rect" id="node3" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="457,825,511,851"/>
<area shape="rect" id="node5" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="192,633,347,675"/>
<area shape="rect" id="node18" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1047,785,1170,811"/>
<area shape="rect" id="node30" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1037,415,1180,442"/>
<area shape="rect" id="node33" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="189,400,350,441"/>
<area shape="rect" id="node36" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="180,335,359,376"/>
<area shape="rect" id="node39" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="208,465,331,507"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="210,269,329,311"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a637e7231d3a234bdf6405fc8aa2bde40" title="nilfs_cpfile_block\l_sub_valid_checkpoints" alt="" coords="189,847,350,888"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="204,204,335,245"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="208,912,331,953"/>
<area shape="rect" id="node4" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="631,825,749,851"/>
<area shape="rect" id="node6" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="415,637,553,663"/>
<area shape="rect" id="node7" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="617,695,763,722"/>
<area shape="rect" id="node15" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="612,633,768,659"/>
<area shape="rect" id="node8" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="823,734,981,761"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1049,633,1168,659"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1059,582,1159,609"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1043,835,1174,862"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1266,443,1337,470"/>
<area shape="rect" id="node14" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1033,734,1184,761"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1232,734,1371,761"/>
<area shape="rect" id="node16" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="825,531,979,558"/>
<area shape="rect" id="node17" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="829,465,975,507"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="819,582,985,609"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="825,633,979,659"/>
<area shape="rect" id="node19" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1241,871,1362,898"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1234,785,1369,811"/>
<area shape="rect" id="node20" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1423,909,1595,935"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1419,712,1599,753"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1439,777,1579,819"/>
<area shape="rect" id="node26" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1442,843,1575,884"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1439,661,1578,687"/>
<area shape="rect" id="node23" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1683,694,1774,721"/>
<area shape="rect" id="node24" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1705,745,1752,771"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1653,825,1804,851"/>
<area shape="rect" id="node28" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1647,875,1811,902"/>
<area shape="rect" id="node34" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="609,364,771,405"/>
<area shape="rect" id="node35" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="409,430,559,457"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="410,277,558,303"/>
<area shape="rect" id="node38" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="411,329,557,355"/>
<area shape="rect" id="node43" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="407,161,561,187"/>
<area shape="rect" id="node44" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="627,110,753,137"/>
<area shape="rect" id="node47" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="613,211,767,238"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="828,110,976,137"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="835,44,969,85"/>
<area shape="rect" id="node48" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="837,212,967,253"/>
<area shape="rect" id="node49" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="839,295,965,322"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_icgraph.png" border="0" usemap="#cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_icgraph" alt=""/></div>
<map name="cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_icgraph" id="cpfile_8c_a741424beec629d3d2eb990ebf4ba1da4_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="180,97,299,138"/>
<area shape="rect" id="node14" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="347,159,473,201"/>
<area shape="rect" id="node3" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="347,94,473,135"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="521,108,669,135"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1069,81,1189,108"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="717,109,896,136"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="944,132,1021,159"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1245,81,1360,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1237,132,1368,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1421,5,1510,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1419,56,1511,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1416,107,1515,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1423,157,1508,184"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="536,159,655,201"/>
</map>
</div>

</div>
</div>
<a id="adcc12fdd10ce1288436abf623cafddf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc12fdd10ce1288436abf623cafddf6">&#9670;&nbsp;</a></span>nilfs_cpfile_do_get_cpinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nilfs_cpfile_do_get_cpinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>cnop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cisz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_cgraph.png" border="0" usemap="#cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_cgraph" alt=""/></div>
<map name="cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_cgraph" id="cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1878,927,1974,953"/>
<area shape="rect" id="node3" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="224,985,327,1012"/>
<area shape="rect" id="node4" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="184,898,367,939"/>
<area shape="rect" id="node47" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="1213,1087,1375,1129"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="1233,1153,1355,1194"/>
<area shape="rect" id="node50" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2" title="nilfs_cpfile_checkpoint\l_to_cpinfo" alt="" coords="198,1189,353,1230"/>
<area shape="rect" id="node5" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="1434,936,1582,963"/>
<area shape="rect" id="node7" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="415,453,556,480"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="1435,870,1581,911"/>
<area shape="rect" id="node6" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="1631,978,1792,1019"/>
<area shape="rect" id="node8" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="604,428,749,455"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1044,5,1115,32"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="803,567,951,593"/>
<area shape="rect" id="node9" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="797,300,956,327"/>
<area shape="rect" id="node10" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1020,300,1139,327"/>
<area shape="rect" id="node21" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1458,81,1558,108"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1014,563,1145,589"/>
<area shape="rect" id="node39" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1004,157,1155,184"/>
<area shape="rect" id="node41" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1038,460,1121,487"/>
<area shape="rect" id="node11" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1215,300,1373,327"/>
<area shape="rect" id="node12" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1434,300,1582,327"/>
<area shape="rect" id="node19" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1861,538,1991,579"/>
<area shape="rect" id="node20" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1664,183,1759,209"/>
<area shape="rect" id="node13" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1646,335,1777,361"/>
<area shape="rect" id="node15" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2060,284,2199,311"/>
<area shape="rect" id="node14" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="1864,436,1988,463"/>
<area shape="rect" id="node16" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="1878,335,1974,361"/>
<area shape="rect" id="node17" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="1867,385,1985,412"/>
<area shape="rect" id="node18" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1840,284,2012,311"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1220,670,1368,711"/>
<area shape="rect" id="node37" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1227,563,1361,589"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1441,613,1575,654"/>
<area shape="rect" id="node31" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1444,729,1572,756"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1441,679,1575,705"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1665,576,1758,603"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="1874,604,1978,631"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="2062,629,2197,656"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="2062,579,2197,605"/>
<area shape="rect" id="node28" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="2247,629,2408,656"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="2267,579,2387,605"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="1637,810,1785,851"/>
<area shape="rect" id="node33" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1659,759,1764,785"/>
<area shape="rect" id="node34" href="mdt_8c.html#ac812454a88416aae4c77cdb630f97716" title="nilfs_mdt_get_frozen\l_buffer" alt="" coords="1640,627,1783,669"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab" title="nilfs_palloc_block\l_get_entry" alt="" coords="1649,693,1774,734"/>
<area shape="rect" id="node40" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1203,107,1385,133"/>
<area shape="rect" id="node42" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1237,511,1351,537"/>
<area shape="rect" id="node43" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1438,561,1578,588"/>
<area shape="rect" id="node44" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1455,511,1561,537"/>
<area shape="rect" id="node48" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="1433,1095,1583,1121"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_icgraph.png" border="0" usemap="#cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_icgraph" alt=""/></div>
<map name="cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_icgraph" id="cpfile_8c_adcc12fdd10ce1288436abf623cafddf6_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="184,76,335,103"/>
<area shape="rect" id="node12" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="196,129,323,170"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="383,66,505,107"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="553,107,631,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="679,81,799,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="855,81,969,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="847,132,977,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1030,5,1119,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1029,56,1121,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1025,107,1124,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1032,157,1117,184"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="385,131,503,173"/>
</map>
</div>

</div>
</div>
<a id="a063fdfbdf57b5c77444ea3bee7eea7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063fdfbdf57b5c77444ea3bee7eea7c5">&#9670;&nbsp;</a></span>nilfs_cpfile_do_get_ssinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nilfs_cpfile_do_get_ssinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>cnop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cisz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_cgraph.png" border="0" usemap="#cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_cgraph" alt=""/></div>
<map name="cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_cgraph" id="cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="849,184,945,211"/>
<area shape="rect" id="node3" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="196,337,351,378"/>
<area shape="rect" id="node43" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="212,402,335,443"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="411,155,559,181"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="184,206,363,247"/>
<area shape="rect" id="node48" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="212,271,335,313"/>
<area shape="rect" id="node50" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2" title="nilfs_cpfile_checkpoint\l_to_cpinfo" alt="" coords="196,467,351,509"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="416,365,555,392"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="616,365,761,392"/>
<area shape="rect" id="node25" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="819,641,975,668"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="817,300,976,327"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1048,72,1167,99"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1512,173,1612,200"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1042,587,1173,613"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1527,477,1597,504"/>
<area shape="rect" id="node21" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1032,224,1183,251"/>
<area shape="rect" id="node23" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1066,300,1149,327"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1251,64,1410,91"/>
<area shape="rect" id="node9" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1488,5,1636,32"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1497,107,1627,149"/>
<area shape="rect" id="node12" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1515,56,1609,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1701,199,1840,225"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1257,579,1405,621"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1263,696,1398,723"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1495,638,1629,679"/>
<area shape="rect" id="node17" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1498,536,1626,563"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1495,587,1629,613"/>
<area shape="rect" id="node22" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1239,173,1422,200"/>
<area shape="rect" id="node24" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1274,325,1387,352"/>
<area shape="rect" id="node26" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1030,747,1185,773"/>
<area shape="rect" id="node30" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1035,521,1180,562"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1024,856,1191,883"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1031,907,1184,933"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1239,747,1423,773"/>
<area shape="rect" id="node28" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1264,797,1397,824"/>
<area shape="rect" id="node29" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1471,797,1653,824"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1269,645,1393,672"/>
<area shape="rect" id="node33" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1269,376,1392,403"/>
<area shape="rect" id="node36" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1259,528,1402,555"/>
<area shape="rect" id="node32" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1489,704,1635,731"/>
<area shape="rect" id="node34" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1501,376,1623,403"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1495,427,1629,453"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1266,849,1395,890"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1255,915,1407,941"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1249,965,1413,992"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1497,965,1627,992"/>
<area shape="rect" id="node45" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="608,147,769,189"/>
<area shape="rect" id="node47" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="412,213,559,240"/>
<area shape="rect" id="node49" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="411,264,560,291"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_icgraph.png" border="0" usemap="#cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_icgraph" alt=""/></div>
<map name="cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_icgraph" id="cpfile_8c_a063fdfbdf57b5c77444ea3bee7eea7c5_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="184,107,335,133"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="383,99,505,141"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="553,107,631,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="679,81,799,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="855,81,969,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="847,132,977,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1030,5,1119,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1029,56,1121,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1025,107,1124,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1032,157,1117,184"/>
</map>
</div>

</div>
</div>
<a id="aef70b3a4a8a5ff5520368acfc981309c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef70b3a4a8a5ff5520368acfc981309c">&#9670;&nbsp;</a></span>nilfs_cpfile_find_checkpoint_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_find_checkpoint_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>start_cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>end_cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>cnop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_cpfile_find_checkpoint_block - find and get a buffer on cpfile : inode of cpfile : start checkpoint number (inclusive) : end checkpoint number (inclusive) : place to store the next checkpoint number : place to store a pointer to buffer_head struct</p>
<p>Return Value: On success, it returns 0. On error, the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOENT - no block exists in the range. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_cgraph.png" border="0" usemap="#cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_cgraph" alt=""/></div>
<map name="cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_cgraph" id="cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="1383,795,1531,821"/>
<area shape="rect" id="node5" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="236,319,377,345"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="1383,729,1530,770"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1821,635,1917,661"/>
<area shape="rect" id="node4" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="1585,787,1747,829"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="425,287,571,313"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="855,368,926,395"/>
<area shape="rect" id="node49" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="624,107,772,133"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="619,267,777,293"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="831,267,950,293"/>
<area shape="rect" id="node19" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2659,183,2759,209"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="825,317,956,344"/>
<area shape="rect" id="node30" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="2667,31,2750,57"/>
<area shape="rect" id="node47" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="2193,132,2344,159"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1587,335,1745,361"/>
<area shape="rect" id="node10" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="2195,335,2343,361"/>
<area shape="rect" id="node17" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1803,437,1934,478"/>
<area shape="rect" id="node18" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="2017,487,2112,513"/>
<area shape="rect" id="node11" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="2418,436,2549,463"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2843,309,2981,336"/>
<area shape="rect" id="node12" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="2647,487,2771,513"/>
<area shape="rect" id="node14" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="2661,537,2757,564"/>
<area shape="rect" id="node15" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="2649,385,2768,412"/>
<area shape="rect" id="node16" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="2623,436,2795,463"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1004,402,1152,443"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1011,351,1145,377"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1200,234,1335,275"/>
<area shape="rect" id="node35" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1203,511,1331,537"/>
<area shape="rect" id="node44" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1200,409,1335,436"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1410,241,1503,268"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="1614,241,1718,268"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1801,284,1936,311"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1801,233,1936,260"/>
<area shape="rect" id="node26" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1984,284,2145,311"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="2005,233,2125,260"/>
<area shape="rect" id="node29" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="2415,233,2551,260"/>
<area shape="rect" id="node34" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="2207,284,2330,311"/>
<area shape="rect" id="node31" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2855,31,2969,57"/>
<area shape="rect" id="node32" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="3029,5,3169,32"/>
<area shape="rect" id="node33" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="3046,56,3153,83"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="1383,503,1531,545"/>
<area shape="rect" id="node40" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1404,652,1509,679"/>
<area shape="rect" id="node42" href="mdt_8c.html#ac812454a88416aae4c77cdb630f97716" title="nilfs_mdt_get_frozen\l_buffer" alt="" coords="1595,386,1737,427"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab" title="nilfs_palloc_block\l_get_entry" alt="" coords="1603,569,1729,610"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1591,452,1741,479"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1605,503,1727,545"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1805,544,1932,571"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1579,685,1753,712"/>
<area shape="rect" id="node48" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="2392,132,2575,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_icgraph.png" border="0" usemap="#cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_icgraph" alt=""/></div>
<map name="cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_icgraph" id="cpfile_8c_aef70b3a4a8a5ff5520368acfc981309c_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="236,99,367,141"/>
<area shape="rect" id="node3" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="415,76,565,103"/>
<area shape="rect" id="node13" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="427,129,553,170"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="613,66,736,107"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="784,107,861,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="909,81,1029,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1085,81,1200,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1077,132,1208,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1261,5,1350,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1259,56,1351,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1256,107,1355,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1263,157,1348,184"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="615,131,734,173"/>
</map>
</div>

</div>
</div>
<a id="a064a874e7effb026597d663177f77af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a064a874e7effb026597d663177f77af0">&#9670;&nbsp;</a></span>nilfs_cpfile_first_checkpoint_in_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __u64 nilfs_cpfile_first_checkpoint_in_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>blkoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a064a874e7effb026597d663177f77af0_cgraph.png" border="0" usemap="#cpfile_8c_a064a874e7effb026597d663177f77af0_cgraph" alt=""/></div>
<map name="cpfile_8c_a064a874e7effb026597d663177f77af0_cgraph" id="cpfile_8c_a064a874e7effb026597d663177f77af0_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="200,5,361,47"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="409,42,505,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a064a874e7effb026597d663177f77af0_icgraph.png" border="0" usemap="#cpfile_8c_a064a874e7effb026597d663177f77af0_icgraph" alt=""/></div>
<map name="cpfile_8c_a064a874e7effb026597d663177f77af0_icgraph" id="cpfile_8c_a064a874e7effb026597d663177f77af0_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="200,99,383,141"/>
<area shape="rect" id="node3" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="431,99,561,141"/>
<area shape="rect" id="node4" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="609,76,760,103"/>
<area shape="rect" id="node14" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="621,129,748,170"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="808,66,931,107"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="979,107,1056,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1104,81,1224,108"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1280,81,1395,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1272,132,1403,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1455,5,1545,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1454,56,1546,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1451,107,1549,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1457,157,1543,184"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="810,131,929,173"/>
</map>
</div>

</div>
</div>
<a id="a67d134834f89f92295956bc0532ebc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d134834f89f92295956bc0532ebc00">&#9670;&nbsp;</a></span>nilfs_cpfile_get_blkoff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_cpfile_get_blkoff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a67d134834f89f92295956bc0532ebc00_cgraph.png" border="0" usemap="#cpfile_8c_a67d134834f89f92295956bc0532ebc00_cgraph" alt=""/></div>
<map name="cpfile_8c_a67d134834f89f92295956bc0532ebc00_cgraph" id="cpfile_8c_a67d134834f89f92295956bc0532ebc00_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="411,5,507,32"/>
<area shape="rect" id="node3" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="201,27,363,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a67d134834f89f92295956bc0532ebc00_icgraph.png" border="0" usemap="#cpfile_8c_a67d134834f89f92295956bc0532ebc00_icgraph" alt=""/></div>
<map name="cpfile_8c_a67d134834f89f92295956bc0532ebc00_icgraph" id="cpfile_8c_a67d134834f89f92295956bc0532ebc00_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="233,215,352,256"/>
<area shape="rect" id="node39" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="203,345,382,387"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="456,528,587,569"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="437,411,606,438"/>
<area shape="rect" id="node48" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="201,463,384,504"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="227,280,358,321"/>
<area shape="rect" id="node3" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="432,177,611,203"/>
<area shape="rect" id="node34" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="458,228,585,269"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="660,181,819,207"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="670,92,809,133"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1103,9,1219,51"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="881,235,1030,262"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1317,185,1422,211"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="868,134,1043,161"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1554,227,1643,254"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1123,134,1200,161"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1540,165,1657,191"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1768,215,1867,242"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1739,165,1896,191"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1948,201,2096,227"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1953,84,2091,125"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1944,150,2100,177"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2148,302,2327,329"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2389,350,2466,377"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2528,255,2648,282"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2704,255,2819,282"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2696,313,2827,339"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2168,95,2307,122"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2164,150,2311,177"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="885,68,1026,109"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1091,75,1232,102"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1280,55,1459,82"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1947,5,2097,47"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1507,48,1691,89"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2375,98,2480,125"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2179,45,2295,71"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1748,99,1887,140"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1743,47,1891,74"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1310,287,1429,328"/>
<area shape="rect" id="node37" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="676,339,803,380"/>
<area shape="rect" id="node36" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1754,267,1881,308"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1102,343,1221,384"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="462,345,581,387"/>
<area shape="rect" id="node47" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="659,235,820,262"/>
<area shape="rect" id="node41" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="664,470,815,497"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="1308,463,1431,504"/>
<area shape="rect" id="node44" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="673,404,806,445"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1535,404,1662,445"/>
<area shape="rect" id="node49" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="456,463,587,504"/>
</map>
</div>

</div>
</div>
<a id="a40c09da14774428448759c7e4bac12ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40c09da14774428448759c7e4bac12ec">&#9670;&nbsp;</a></span>nilfs_cpfile_get_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_get_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_checkpoint **&#160;</td>
          <td class="paramname"><em>cpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_get_checkpoint - get a checkpoint : inode of checkpoint file : checkpoint number : create flag : pointer to a checkpoint : pointer to a buffer head</p>
<p>Description: <a class="el" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec">nilfs_cpfile_get_checkpoint()</a> acquires the checkpoint specified by . A new checkpoint will be created if  is the current checkpoint number and  is nonzero.</p>
<p>Return Value: On success, 0 is returned, and the checkpoint and the buffer head of the buffer on which the checkpoint is located are stored in the place pointed by  and , respectively. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No such checkpoint.</p>
<p>%-EINVAL - invalid checkpoint. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a40c09da14774428448759c7e4bac12ec_cgraph.png" border="0" usemap="#cpfile_8c_a40c09da14774428448759c7e4bac12ec_cgraph" alt=""/></div>
<map name="cpfile_8c_a40c09da14774428448759c7e4bac12ec_cgraph" id="cpfile_8c_a40c09da14774428448759c7e4bac12ec_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="270,5,373,32"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="901,93,997,120"/>
<area shape="rect" id="node4" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="244,305,399,346"/>
<area shape="rect" id="node22" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1111,499,1233,525"/>
<area shape="rect" id="node34" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1101,397,1243,424"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="232,122,411,163"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="260,187,383,229"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="262,57,381,98"/>
<area shape="rect" id="node47" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1" title="nilfs_cpfile_block\l_add_valid_checkpoints" alt="" coords="241,558,402,599"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="260,623,383,665"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="464,308,603,335"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="664,355,809,381"/>
<area shape="rect" id="node16" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="659,304,815,331"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="869,600,1028,627"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1113,549,1231,576"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1122,600,1222,627"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1107,752,1237,779"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1356,397,1427,424"/>
<area shape="rect" id="node14" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1097,651,1247,677"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1131,701,1213,728"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1312,549,1471,576"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1322,625,1461,652"/>
<area shape="rect" id="node17" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="871,144,1026,171"/>
<area shape="rect" id="node20" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="876,289,1021,330"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="865,216,1032,243"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="872,355,1025,381"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1080,77,1264,104"/>
<area shape="rect" id="node19" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1105,27,1239,53"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1110,296,1234,323"/>
<area shape="rect" id="node23" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1331,499,1452,525"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1324,448,1459,475"/>
<area shape="rect" id="node24" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1523,572,1695,599"/>
<area shape="rect" id="node26" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1519,375,1699,417"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1539,441,1679,482"/>
<area shape="rect" id="node30" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1542,506,1675,547"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1539,324,1678,351"/>
<area shape="rect" id="node27" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1783,364,1874,391"/>
<area shape="rect" id="node28" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1805,415,1852,441"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1753,480,1904,507"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1747,531,1911,557"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1107,129,1237,170"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1096,195,1248,221"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1090,245,1254,272"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="459,51,607,77"/>
<area shape="rect" id="node43" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="460,101,607,128"/>
<area shape="rect" id="node42" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="656,86,817,127"/>
<area shape="rect" id="node45" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="459,152,608,179"/>
<area shape="rect" id="node48" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="506,565,561,592"/>
<area shape="rect" id="node49" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="677,565,796,592"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a40c09da14774428448759c7e4bac12ec_icgraph.png" border="0" usemap="#cpfile_8c_a40c09da14774428448759c7e4bac12ec_icgraph" alt=""/></div>
<map name="cpfile_8c_a40c09da14774428448759c7e4bac12ec_icgraph" id="cpfile_8c_a40c09da14774428448759c7e4bac12ec_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="2131,132,2289,159"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="232,365,371,406"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="431,303,547,345"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="2560,5,2709,32"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3974,132,4079,159"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2337,195,2512,221"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="4145,132,4234,159"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2596,245,2673,272"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2757,296,2875,323"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2952,296,3051,323"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2923,347,3080,373"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="3132,413,3280,440"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="3137,347,3275,389"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="3128,296,3284,323"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3332,445,3511,472"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3597,476,3675,503"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3777,577,3897,604"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3969,577,4084,604"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3961,513,4092,540"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="4145,653,4234,680"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="4143,501,4235,528"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="4140,552,4239,579"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="4147,603,4232,629"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="3352,339,3491,365"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="3571,317,3701,358"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3761,309,3913,336"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3977,259,4077,285"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="3348,284,3495,311"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="3559,157,3713,184"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3782,208,3893,235"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="419,369,560,410"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="608,376,749,403"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="797,376,976,403"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="3131,646,3281,687"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1024,398,1208,439"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="3583,653,3689,680"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="3363,628,3479,655"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1256,529,1395,570"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2927,397,3075,424"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1443,616,1581,643"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1629,616,1729,643"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1777,729,1896,756"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1777,540,1896,567"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2379,596,2470,623"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1954,515,2073,541"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1944,449,2083,490"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2139,220,2281,247"/>
</map>
</div>

</div>
</div>
<a id="a3aefee4421b37e13cdc047fbd1765eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aefee4421b37e13cdc047fbd1765eef">&#9670;&nbsp;</a></span>nilfs_cpfile_get_checkpoint_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_get_checkpoint_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_cgraph.png" border="0" usemap="#cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_cgraph" alt=""/></div>
<map name="cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_cgraph" id="cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="232,772,371,799"/>
<area shape="rect" id="node48" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="1087,848,1235,875"/>
<area shape="rect" id="node50" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="1087,907,1234,933"/>
<area shape="rect" id="node3" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="424,524,569,551"/>
<area shape="rect" id="node27" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="419,772,575,799"/>
<area shape="rect" id="node4" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="627,325,785,352"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="870,72,989,99"/>
<area shape="rect" id="node12" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1331,173,1431,200"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="864,629,995,656"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1125,528,1196,555"/>
<area shape="rect" id="node21" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="854,224,1005,251"/>
<area shape="rect" id="node23" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="888,325,971,352"/>
<area shape="rect" id="node6" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1081,64,1240,91"/>
<area shape="rect" id="node7" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1307,5,1455,32"/>
<area shape="rect" id="node10" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1315,107,1446,149"/>
<area shape="rect" id="node11" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1333,56,1428,83"/>
<area shape="rect" id="node8" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1513,5,1644,32"/>
<area shape="rect" id="node9" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1509,199,1648,225"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1087,579,1235,621"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1093,645,1228,672"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1313,653,1448,694"/>
<area shape="rect" id="node17" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1317,544,1445,571"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1313,595,1448,621"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1532,660,1625,687"/>
<area shape="rect" id="node22" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1069,173,1252,200"/>
<area shape="rect" id="node24" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1104,376,1217,403"/>
<area shape="rect" id="node25" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1311,376,1451,403"/>
<area shape="rect" id="node26" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1327,427,1434,453"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="629,772,783,799"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="633,571,779,613"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="623,957,789,984"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="629,1008,783,1035"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="837,747,1021,773"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="863,797,996,824"/>
<area shape="rect" id="node31" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1069,797,1252,824"/>
<area shape="rect" id="node32" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1335,797,1426,824"/>
<area shape="rect" id="node33" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1531,877,1627,904"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="867,696,991,723"/>
<area shape="rect" id="node38" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="868,427,991,453"/>
<area shape="rect" id="node41" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="858,579,1001,605"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1088,747,1233,773"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1315,731,1447,773"/>
<area shape="rect" id="node39" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1100,427,1221,453"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1093,477,1228,504"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="865,950,994,991"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="853,1016,1005,1043"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="847,1067,1011,1093"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1095,1067,1226,1093"/>
<area shape="rect" id="node49" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="1300,899,1461,941"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_icgraph.png" border="0" usemap="#cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_icgraph" alt=""/></div>
<map name="cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_icgraph" id="cpfile_8c_a3aefee4421b37e13cdc047fbd1765eef_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="232,195,411,221"/>
<area shape="rect" id="node38" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1106,363,1233,405"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="256,531,387,573"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="237,480,406,507"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="262,414,381,455"/>
<area shape="rect" id="node50" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="459,312,620,339"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="460,249,619,276"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="470,170,609,211"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="903,86,1019,127"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="681,312,830,339"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1117,261,1222,288"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="668,211,843,237"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1354,267,1443,293"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="923,211,1000,237"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1340,212,1457,239"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1568,271,1667,297"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1539,153,1696,180"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1748,220,1896,247"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1753,154,1891,195"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1744,103,1900,129"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1948,247,2127,273"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2189,400,2266,427"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2328,329,2448,356"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2504,329,2619,356"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2496,383,2627,409"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2679,253,2769,280"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2678,304,2770,331"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2675,355,2773,381"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2681,405,2767,432"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1968,161,2107,188"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1964,107,2111,133"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="685,145,826,186"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="891,152,1032,179"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1080,95,1259,121"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1747,37,1897,78"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1307,146,1491,187"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2175,165,2280,192"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1979,5,2095,32"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1548,205,1687,246"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1543,103,1691,129"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1753,271,1891,297"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1339,322,1458,363"/>
<area shape="rect" id="node41" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1335,387,1462,429"/>
<area shape="rect" id="node40" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1554,322,1681,363"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1978,387,2097,429"/>
<area shape="rect" id="node44" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="464,537,615,564"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="900,519,1023,561"/>
<area shape="rect" id="node47" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="473,446,606,487"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1106,446,1233,487"/>
</map>
</div>

</div>
</div>
<a id="a826c418383caea450a332055f0b568e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826c418383caea450a332055f0b568e6">&#9670;&nbsp;</a></span>nilfs_cpfile_get_cpinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nilfs_cpfile_get_cpinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>cnop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cisz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_get_cpinfo - : : : : </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a826c418383caea450a332055f0b568e6_cgraph.png" border="0" usemap="#cpfile_8c_a826c418383caea450a332055f0b568e6_cgraph" alt=""/></div>
<map name="cpfile_8c_a826c418383caea450a332055f0b568e6_cgraph" id="cpfile_8c_a826c418383caea450a332055f0b568e6_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="204,838,335,879"/>
<area shape="rect" id="node32" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="204,613,335,654"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1055,832,1151,859"/>
<area shape="rect" id="node4" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="423,904,525,931"/>
<area shape="rect" id="node5" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="383,773,565,814"/>
<area shape="rect" id="node28" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="393,955,555,997"/>
<area shape="rect" id="node30" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="413,838,535,879"/>
<area shape="rect" id="node31" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2" title="nilfs_cpfile_checkpoint\l_to_cpinfo" alt="" coords="397,707,551,749"/>
<area shape="rect" id="node6" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="614,727,762,753"/>
<area shape="rect" id="node8" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="617,600,759,627"/>
<area shape="rect" id="node27" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="615,829,761,870"/>
<area shape="rect" id="node7" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="811,829,972,870"/>
<area shape="rect" id="node9" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="819,575,964,601"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1523,384,1593,411"/>
<area shape="rect" id="node26" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="817,625,965,652"/>
<area shape="rect" id="node10" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1024,577,1183,604"/>
<area shape="rect" id="node11" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1267,308,1386,335"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1715,628,1815,655"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1261,577,1392,604"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1251,628,1402,655"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1285,729,1368,756"/>
<area shape="rect" id="node12" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1479,308,1637,335"/>
<area shape="rect" id="node14" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1880,603,2019,629"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1484,461,1632,502"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1491,527,1625,553"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1697,461,1832,502"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1903,468,1996,495"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2067,468,2171,495"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1467,628,1649,655"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1501,729,1615,756"/>
<area shape="rect" id="node29" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="613,945,763,972"/>
<area shape="rect" id="node33" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="397,459,551,501"/>
<area shape="rect" id="node48" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="413,642,535,683"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="385,525,563,566"/>
<area shape="rect" id="node34" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="619,499,757,525"/>
<area shape="rect" id="node35" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="813,283,969,309"/>
<area shape="rect" id="node36" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1026,207,1181,233"/>
<area shape="rect" id="node39" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1031,47,1176,89"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1020,359,1187,385"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1027,308,1180,335"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1235,156,1419,183"/>
<area shape="rect" id="node38" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1260,207,1393,233"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1496,131,1620,157"/>
<area shape="rect" id="node41" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1703,181,1826,208"/>
<area shape="rect" id="node42" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1255,55,1398,81"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1262,410,1391,451"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1251,257,1403,284"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1245,359,1409,385"/>
<area shape="rect" id="node50" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="615,676,761,703"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a826c418383caea450a332055f0b568e6_icgraph.png" border="0" usemap="#cpfile_8c_a826c418383caea450a332055f0b568e6_icgraph" alt=""/></div>
<map name="cpfile_8c_a826c418383caea450a332055f0b568e6_icgraph" id="cpfile_8c_a826c418383caea450a332055f0b568e6_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="204,99,327,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="375,107,452,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="500,81,620,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="676,81,791,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="668,132,799,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="851,5,941,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="850,56,942,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="847,107,945,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="853,157,939,184"/>
</map>
</div>

</div>
</div>
<a id="a9ff8012cf954ee1e283e981e7c92c4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ff8012cf954ee1e283e981e7c92c4cf">&#9670;&nbsp;</a></span>nilfs_cpfile_get_header_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_get_header_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_cgraph.png" border="0" usemap="#cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_cgraph" alt=""/></div>
<map name="cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_cgraph" id="cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="208,595,347,622"/>
<area shape="rect" id="node3" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="395,514,540,540"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="589,734,745,760"/>
<area shape="rect" id="node4" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="588,376,747,403"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="819,456,937,483"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1283,43,1383,70"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="813,376,943,403"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1297,683,1368,710"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="803,94,953,120"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="837,220,919,247"/>
<area shape="rect" id="node6" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1022,456,1181,483"/>
<area shape="rect" id="node7" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1259,515,1407,542"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1267,449,1398,490"/>
<area shape="rect" id="node12" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1285,398,1380,424"/>
<area shape="rect" id="node8" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1476,519,1607,546"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1472,271,1611,298"/>
<area shape="rect" id="node9" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1663,568,1835,595"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1027,340,1175,381"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1034,406,1169,432"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1265,566,1400,608"/>
<area shape="rect" id="node18" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1269,296,1397,323"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1265,347,1400,374"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1495,574,1588,600"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1010,43,1193,70"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1045,220,1158,247"/>
<area shape="rect" id="node26" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1263,195,1403,222"/>
<area shape="rect" id="node27" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1279,246,1386,272"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="801,919,955,946"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="805,676,951,717"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="795,810,961,836"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="801,970,955,996"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1009,1003,1193,1030"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1035,952,1168,979"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1241,952,1424,979"/>
<area shape="rect" id="node33" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1496,952,1587,979"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1039,531,1163,558"/>
<area shape="rect" id="node38" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1271,734,1394,760"/>
<area shape="rect" id="node44" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1030,632,1173,659"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1260,632,1405,659"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1475,625,1607,666"/>
<area shape="rect" id="node39" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1481,691,1602,718"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1474,742,1609,768"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1659,800,1839,841"/>
<area shape="rect" id="node42" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1679,669,1819,710"/>
<area shape="rect" id="node43" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1682,734,1815,776"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1037,886,1166,928"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1025,784,1177,811"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1019,835,1183,862"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1267,835,1398,862"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_icgraph.png" border="0" usemap="#cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_icgraph" alt=""/></div>
<map name="cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_icgraph" id="cpfile_8c_a9ff8012cf954ee1e283e981e7c92c4cf_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="208,239,387,265"/>
<area shape="rect" id="node35" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1138,417,1265,458"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="232,475,363,517"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="213,541,382,568"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="238,593,357,634"/>
<area shape="rect" id="node47" href="cpfile_8h.html#a3449472f483c42ad36c89de01f0204d5" title="nilfs_cpfile_get_stat" alt="" coords="228,659,367,685"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="683,81,841,108"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="465,261,604,302"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="919,202,1035,243"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="902,5,1051,32"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1378,56,1483,83"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="889,107,1064,133"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1605,31,1694,57"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1163,107,1240,133"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1372,107,1489,133"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1600,107,1699,133"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1571,259,1728,285"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1780,296,1928,323"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1785,230,1923,271"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1776,179,1932,205"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1980,296,2159,323"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2221,440,2298,467"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2360,352,2480,379"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2536,352,2651,379"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2528,408,2659,435"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2707,352,2796,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2000,237,2139,264"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1996,183,2143,209"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="691,261,833,302"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="906,268,1047,295"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1112,217,1291,244"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1779,113,1929,154"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1339,269,1523,310"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2207,216,2312,243"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2011,81,2127,108"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1580,382,1719,423"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1575,208,1723,235"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1785,397,1923,424"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1371,342,1490,383"/>
<area shape="rect" id="node38" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1367,425,1494,466"/>
<area shape="rect" id="node37" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1586,317,1713,358"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="2010,433,2129,474"/>
<area shape="rect" id="node41" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="687,483,837,509"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="1140,482,1263,523"/>
<area shape="rect" id="node44" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="468,534,601,575"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="699,534,825,575"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a39cf54b1fc6701f6616f08fefcf4260b" title="nilfs_ioctl_get_cpstat" alt="" coords="689,600,835,627"/>
<area shape="rect" id="node49" href="nilfs2_2sysfs_8c.html#afa186f47a96aaf919fc4c5faa1891f19" title="nilfs_checkpoints_checkpoints\l_number_show" alt="" coords="435,651,635,693"/>
<area shape="rect" id="node50" href="nilfs2_2sysfs_8c.html#a3b4893fe04d5a74b5b772943685e5ac7" title="nilfs_checkpoints_snapshots\l_number_show" alt="" coords="439,717,630,758"/>
</map>
</div>

</div>
</div>
<a id="af3192909ddb88c2575bb1828d746310a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3192909ddb88c2575bb1828d746310a">&#9670;&nbsp;</a></span>nilfs_cpfile_get_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_cpfile_get_offset </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_af3192909ddb88c2575bb1828d746310a_cgraph.png" border="0" usemap="#cpfile_8c_af3192909ddb88c2575bb1828d746310a_cgraph" alt=""/></div>
<map name="cpfile_8c_af3192909ddb88c2575bb1828d746310a_cgraph" id="cpfile_8c_af3192909ddb88c2575bb1828d746310a_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="412,5,508,32"/>
<area shape="rect" id="node3" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="203,27,364,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_af3192909ddb88c2575bb1828d746310a_icgraph.png" border="0" usemap="#cpfile_8c_af3192909ddb88c2575bb1828d746310a_icgraph" alt=""/></div>
<map name="cpfile_8c_af3192909ddb88c2575bb1828d746310a_icgraph" id="cpfile_8c_af3192909ddb88c2575bb1828d746310a_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="203,413,364,455"/>
<area shape="rect" id="node21" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="222,289,345,331"/>
<area shape="rect" id="node3" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="438,413,565,455"/>
<area shape="rect" id="node18" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="436,479,567,520"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1298,340,1417,381"/>
<area shape="rect" id="node16" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="660,457,787,499"/>
<area shape="rect" id="node5" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1742,268,1869,309"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1936,225,2084,251"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2516,279,2636,306"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2136,225,2315,251"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2377,350,2454,377"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2692,279,2807,306"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2684,333,2815,359"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2867,203,2957,230"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2866,254,2958,281"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2863,305,2961,331"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2869,355,2955,382"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1527,457,1646,499"/>
<area shape="rect" id="node19" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="648,406,799,433"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="2164,397,2287,439"/>
<area shape="rect" id="node22" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="412,74,591,101"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="436,348,567,389"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="436,231,567,272"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="639,297,808,323"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="664,231,783,272"/>
<area shape="rect" id="node50" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="421,129,582,155"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="644,129,803,155"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="654,5,793,47"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1091,63,1207,104"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="869,230,1018,257"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1305,179,1410,206"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="856,129,1031,155"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1542,230,1631,257"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1111,129,1188,155"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1299,129,1416,155"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1727,179,1884,206"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1941,108,2079,149"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1932,174,2088,201"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="873,5,1014,47"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1079,11,1220,38"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1268,70,1447,97"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1935,43,2085,84"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1495,63,1679,104"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2363,181,2468,207"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2167,50,2283,77"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1736,113,1875,155"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1731,62,1879,89"/>
<area shape="rect" id="node47" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="877,281,1010,323"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1523,337,1650,379"/>
</map>
</div>

</div>
</div>
<a id="a929716373573b8e3682a2081e6b99a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929716373573b8e3682a2081e6b99a56">&#9670;&nbsp;</a></span>nilfs_cpfile_get_stat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_get_stat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_cpstat *&#160;</td>
          <td class="paramname"><em>cpstat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_get_stat - get checkpoint statistics : inode of checkpoint file : pointer to a structure of checkpoint statistics</p>
<p>Description: <a class="el" href="cpfile_8c.html#a929716373573b8e3682a2081e6b99a56">nilfs_cpfile_get_stat()</a> returns information about checkpoints.</p>
<p>Return Value: On success, 0 is returned, and checkpoints information is stored in the place pointed by . On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a929716373573b8e3682a2081e6b99a56_cgraph.png" border="0" usemap="#cpfile_8c_a929716373573b8e3682a2081e6b99a56_cgraph" alt=""/></div>
<map name="cpfile_8c_a929716373573b8e3682a2081e6b99a56_cgraph" id="cpfile_8c_a929716373573b8e3682a2081e6b99a56_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1680,20,1776,47"/>
<area shape="rect" id="node3" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="192,199,347,241"/>
<area shape="rect" id="node49" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="208,265,331,306"/>
<area shape="rect" id="node50" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="218,331,321,357"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="395,363,533,389"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="587,637,732,664"/>
<area shape="rect" id="node29" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="581,363,737,389"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="789,832,948,859"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1033,701,1151,728"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1487,963,1587,989"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1027,832,1157,859"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1288,312,1359,339"/>
<area shape="rect" id="node23" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1017,912,1167,939"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1051,1064,1133,1091"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1244,701,1403,728"/>
<area shape="rect" id="node9" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1463,643,1611,669"/>
<area shape="rect" id="node12" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1471,694,1602,735"/>
<area shape="rect" id="node13" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1489,760,1584,787"/>
<area shape="rect" id="node10" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1663,643,1793,669"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1659,836,1797,863"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1249,795,1397,837"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1256,861,1391,888"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1469,577,1604,618"/>
<area shape="rect" id="node19" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1473,811,1601,837"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1469,861,1604,888"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1681,584,1775,611"/>
<area shape="rect" id="node24" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1232,963,1415,989"/>
<area shape="rect" id="node26" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1267,1064,1380,1091"/>
<area shape="rect" id="node27" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1467,1064,1607,1091"/>
<area shape="rect" id="node28" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1483,1013,1590,1040"/>
<area shape="rect" id="node30" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="791,261,946,288"/>
<area shape="rect" id="node35" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="796,355,941,397"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="785,123,952,149"/>
<area shape="rect" id="node48" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="792,472,945,499"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1000,261,1184,288"/>
<area shape="rect" id="node32" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1025,211,1159,237"/>
<area shape="rect" id="node33" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1232,184,1415,211"/>
<area shape="rect" id="node34" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1491,129,1582,156"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1030,519,1154,545"/>
<area shape="rect" id="node39" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1031,464,1153,491"/>
<area shape="rect" id="node42" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1021,363,1163,389"/>
<area shape="rect" id="node37" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1251,519,1396,545"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1471,511,1603,553"/>
<area shape="rect" id="node40" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1263,413,1384,440"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1256,363,1391,389"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1027,145,1157,186"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1016,43,1168,69"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1010,93,1174,120"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1258,93,1389,120"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a929716373573b8e3682a2081e6b99a56_icgraph.png" border="0" usemap="#cpfile_8c_a929716373573b8e3682a2081e6b99a56_icgraph" alt=""/></div>
<map name="cpfile_8c_a929716373573b8e3682a2081e6b99a56_icgraph" id="cpfile_8c_a929716373573b8e3682a2081e6b99a56_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a39cf54b1fc6701f6616f08fefcf4260b" title="nilfs_ioctl_get_cpstat" alt="" coords="219,107,365,133"/>
<area shape="rect" id="node11" href="nilfs2_2sysfs_8c.html#afa186f47a96aaf919fc4c5faa1891f19" title="nilfs_checkpoints_checkpoints\l_number_show" alt="" coords="192,158,392,199"/>
<area shape="rect" id="node12" href="nilfs2_2sysfs_8c.html#a3b4893fe04d5a74b5b772943685e5ac7" title="nilfs_checkpoints_snapshots\l_number_show" alt="" coords="197,223,387,265"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="440,107,517,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="565,81,685,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="741,81,856,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="733,132,864,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="917,5,1006,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="915,56,1007,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="912,107,1011,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="919,157,1004,184"/>
</map>
</div>

</div>
</div>
<a id="a3426549677cf51101b5df35dc01aa4a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3426549677cf51101b5df35dc01aa4a7">&#9670;&nbsp;</a></span>nilfs_cpfile_is_in_first()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_is_in_first </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_cgraph.png" border="0" usemap="#cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_cgraph" alt=""/></div>
<map name="cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_cgraph" id="cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="172,13,320,39"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="577,13,673,39"/>
<area shape="rect" id="node4" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="368,35,529,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_icgraph.png" border="0" usemap="#cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_icgraph" alt=""/></div>
<map name="cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_icgraph" id="cpfile_8c_a3426549677cf51101b5df35dc01aa4a7_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="172,435,351,461"/>
<area shape="rect" id="node46" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1041,594,1167,635"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="585,271,744,297"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="399,459,537,501"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="410,394,526,435"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="805,275,954,301"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2525,144,2630,171"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="792,169,967,196"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2695,220,2785,247"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1065,144,1143,171"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1275,144,1392,171"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1503,144,1601,171"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1473,304,1631,331"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1683,565,1831,592"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1687,297,1826,338"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1679,245,1835,272"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1883,667,2061,693"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2148,691,2225,717"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2328,565,2448,592"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2520,565,2635,592"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2512,635,2643,661"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2695,591,2785,617"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2694,641,2786,668"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2691,489,2789,516"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2697,540,2783,567"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1903,291,2041,317"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2122,271,2251,313"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2312,245,2464,272"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2527,220,2627,247"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1899,144,2045,171"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2109,144,2264,171"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2333,93,2443,120"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="594,457,735,498"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="809,460,950,487"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1015,444,1193,471"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1682,499,1831,541"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1241,437,1425,478"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2134,565,2239,592"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1914,565,2030,592"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1483,462,1621,503"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1478,411,1626,437"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1687,448,1826,475"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1922,413,2022,440"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2127,515,2246,541"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2127,413,2246,440"/>
<area shape="rect" id="node47" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1274,594,1393,635"/>
<area shape="rect" id="node49" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1270,667,1397,709"/>
<area shape="rect" id="node48" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1489,594,1615,635"/>
<area shape="rect" id="node50" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1697,689,1816,730"/>
</map>
</div>

</div>
</div>
<a id="a5ddd237af180f7572c3b8bd8432250b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ddd237af180f7572c3b8bd8432250b1">&#9670;&nbsp;</a></span>nilfs_cpfile_is_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_is_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_is_snapshot - : inode of checkpoint file : checkpoint number</p>
<p>Description:</p>
<p>Return Value: On success, 1 is returned if the checkpoint specified by  is a snapshot, or 0 if not. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No such checkpoint. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_cgraph.png" border="0" usemap="#cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_cgraph" alt=""/></div>
<map name="cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_cgraph" id="cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="253,97,355,124"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="879,274,975,301"/>
<area shape="rect" id="node4" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="215,351,393,392"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="243,199,365,240"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="447,468,585,494"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="442,333,590,360"/>
<area shape="rect" id="node48" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="443,384,589,410"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="647,468,792,494"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="849,774,1005,801"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="848,384,1007,410"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1079,464,1197,490"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1543,50,1643,77"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1073,384,1203,410"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1557,893,1628,920"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1063,101,1213,128"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1097,228,1179,254"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1282,464,1441,490"/>
<area shape="rect" id="node10" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1519,522,1667,549"/>
<area shape="rect" id="node12" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1527,456,1658,498"/>
<area shape="rect" id="node13" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1545,405,1640,432"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1732,278,1871,305"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1287,347,1435,388"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1294,413,1429,440"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1525,624,1660,666"/>
<area shape="rect" id="node18" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1529,304,1657,330"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1525,354,1660,381"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1270,50,1453,77"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1305,228,1418,254"/>
<area shape="rect" id="node26" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1523,202,1663,229"/>
<area shape="rect" id="node27" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1539,253,1646,280"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1061,949,1215,976"/>
<area shape="rect" id="node33" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1065,832,1211,874"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1055,610,1221,637"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1061,898,1215,925"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1269,998,1453,1025"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1295,948,1428,974"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1501,948,1684,974"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1299,690,1423,717"/>
<area shape="rect" id="node36" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1300,741,1423,768"/>
<area shape="rect" id="node39" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1290,893,1433,920"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1520,690,1665,717"/>
<area shape="rect" id="node37" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1532,741,1653,768"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1525,792,1660,818"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1297,574,1426,615"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1285,640,1437,666"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1279,522,1443,549"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1527,573,1658,600"/>
<area shape="rect" id="node47" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="639,351,800,392"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="441,249,591,276"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_icgraph.png" border="0" usemap="#cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_icgraph" alt=""/></div>
<map name="cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_icgraph" id="cpfile_8c_a5ddd237af180f7572c3b8bd8432250b1_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="215,5,364,32"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="412,5,501,32"/>
</map>
</div>

</div>
</div>
<a id="a72e48092c22cb4deae815d7073201249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e48092c22cb4deae815d7073201249">&#9670;&nbsp;</a></span>nilfs_cpfile_put_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_cpfile_put_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_put_checkpoint - put a checkpoint : inode of checkpoint file : checkpoint number : buffer head</p>
<p>Description: <a class="el" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249">nilfs_cpfile_put_checkpoint()</a> releases the checkpoint specified by .  must be the buffer head which has been returned by a previous call to <a class="el" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec">nilfs_cpfile_get_checkpoint()</a> with . </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a72e48092c22cb4deae815d7073201249_icgraph.png" border="0" usemap="#cpfile_8c_a72e48092c22cb4deae815d7073201249_icgraph" alt=""/></div>
<map name="cpfile_8c_a72e48092c22cb4deae815d7073201249_icgraph" id="cpfile_8c_a72e48092c22cb4deae815d7073201249_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="2131,132,2289,159"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="232,365,371,406"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="431,303,547,345"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="2560,5,2709,32"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3974,132,4079,159"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2337,195,2512,221"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="4145,132,4234,159"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2596,245,2673,272"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2757,296,2875,323"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2952,296,3051,323"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2923,347,3080,373"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="3132,413,3280,440"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="3137,347,3275,389"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="3128,296,3284,323"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3332,445,3511,472"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3597,476,3675,503"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3777,577,3897,604"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3969,577,4084,604"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3961,513,4092,540"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="4145,653,4234,680"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="4143,501,4235,528"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="4140,552,4239,579"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="4147,603,4232,629"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="3352,339,3491,365"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="3571,317,3701,358"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3761,309,3913,336"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3977,259,4077,285"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="3348,284,3495,311"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="3559,157,3713,184"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3782,208,3893,235"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="419,369,560,410"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="608,376,749,403"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="797,376,976,403"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="3131,646,3281,687"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1024,398,1208,439"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="3583,653,3689,680"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="3363,628,3479,655"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1256,529,1395,570"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2927,397,3075,424"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1443,616,1581,643"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1629,616,1729,643"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1777,729,1896,756"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1777,540,1896,567"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2379,596,2470,623"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1954,515,2073,541"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1944,449,2083,490"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2139,220,2281,247"/>
</map>
</div>

</div>
</div>
<a id="afc2e663c9b54bd6b3fc4a9f57c6e98a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2e663c9b54bd6b3fc4a9f57c6e98a0">&#9670;&nbsp;</a></span>nilfs_cpfile_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cpsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_inode *&#160;</td>
          <td class="paramname"><em>raw_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> **&#160;</td>
          <td class="paramname"><em>inodep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_read - read or get cpfile inode : super block instance : size of a checkpoint entry : on-disk cpfile inode : buffer to store the inode </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph.png" border="0" usemap="#cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph" alt=""/></div>
<map name="cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph" id="cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="193,418,312,445"/>
<area shape="rect" id="node29" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="203,480,302,506"/>
<area shape="rect" id="node30" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="169,632,336,658"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="384,524,557,550"/>
<area shape="rect" id="node46" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="605,684,735,710"/>
<area shape="rect" id="node47" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="430,684,511,710"/>
<area shape="rect" id="node3" href="inode_8c.html#a0e9a0440646ab0424be87f1ee6387c64" title="iget5_locked" alt="" coords="423,189,518,216"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a42350b0b59e53776755f5a0b17efd97f" title="nilfs_iget_test" alt="" coords="419,468,522,494"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#ab596c6b27b262ff881fb811a5d25990a" title="nilfs_iget_set" alt="" coords="421,417,520,444"/>
<area shape="rect" id="node4" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="645,113,695,140"/>
<area shape="rect" id="node5" href="inode_8c.html#af827e753dda790b4b798f86e933bb380" title="find_inode" alt="" coords="629,164,711,190"/>
<area shape="rect" id="node8" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="649,366,691,393"/>
<area shape="rect" id="node14" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="1231,88,1333,114"/>
<area shape="rect" id="node18" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1581,420,1720,446"/>
<area shape="rect" id="node20" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="627,214,713,241"/>
<area shape="rect" id="node23" href="inode_8c.html#a1871c58d9c393006e24f7fea1bcc288d" title="inode_sb_list_add" alt="" coords="607,62,733,89"/>
<area shape="rect" id="node6" href="inode_8c.html#a6bdbb5661dff23968a2a67170a4ffccf" title="__wait_on_freeing_inode" alt="" coords="786,164,951,190"/>
<area shape="rect" id="node7" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="840,113,897,140"/>
<area shape="rect" id="node9" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="831,366,906,393"/>
<area shape="rect" id="node10" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1030,316,1133,342"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1022,366,1141,393"/>
<area shape="rect" id="node12" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1020,417,1143,444"/>
<area shape="rect" id="node13" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1056,214,1107,241"/>
<area shape="rect" id="node15" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1404,62,1521,89"/>
<area shape="rect" id="node19" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1423,113,1503,140"/>
<area shape="rect" id="node16" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1587,37,1715,64"/>
<area shape="rect" id="node17" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1569,88,1732,114"/>
<area shape="rect" id="node21" href="inode_8c.html#a844185001176cf3da6e2195a24931015" title="inode_init_always" alt="" coords="806,214,931,241"/>
<area shape="rect" id="node22" href="inode_8c.html#a585882dc429befcbe4638a49bc11dff6" title="no_open" alt="" coords="1046,113,1117,140"/>
<area shape="rect" id="node24" href="debugfs_2inode_8c.html#ab0e32a685998ab4f1be52f66ddedfca1" title="EXPORT_SYMBOL_GPL" alt="" coords="783,62,955,89"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="635,468,705,494"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a4af5a977af148ee222180ae10226f487" title="nilfs_get_root" alt="" coords="620,417,720,444"/>
<area shape="rect" id="node31" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="423,632,519,658"/>
<area shape="rect" id="node33" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="1245,445,1319,472"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a1dab812b511c175bcc95dd9221f82172" title="nilfs_bmap_read" alt="" coords="611,594,729,621"/>
<area shape="rect" id="node34" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="1421,496,1505,522"/>
<area shape="rect" id="node36" href="nilfs_8h.html#ab02aecb562f6c74a04aad6d769ac9f1e" title="NILFS_BMAP_I" alt="" coords="811,569,927,596"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a8e12be4abec0ec1530a707fea17e7298" title="nilfs_btree_init" alt="" coords="815,620,922,646"/>
<area shape="rect" id="node45" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="814,670,923,697"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a60fb1455ef3bef9737a4de47cbc2641a" title="__nilfs_btree_init" alt="" coords="1021,569,1141,596"/>
<area shape="rect" id="node40" href="nilfs2_2btree_8c.html#a89d82007326260ecfcb26412f299297a" title="nilfs_btree_root_broken" alt="" coords="1003,620,1160,646"/>
<area shape="rect" id="node44" href="nilfs2_2btree_8c.html#a17a122f397fd12734d718b7264231e4d" title="nilfs_btree_get_root" alt="" coords="1013,670,1149,697"/>
<area shape="rect" id="node39" href="nilfs2_2btree_8c.html#a6b425e1129c6131fb5f0d7018d2c6bb4" title="nilfs_btree_node_size" alt="" coords="1208,496,1356,522"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#a427bb91c91c14dc89a2bfdcbadace0c9" title="nilfs_btree_node_get\l_level" alt="" coords="1211,612,1353,654"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#acd55e7ca4162de408cc1094902494abd" title="nilfs_btree_node_get\l_flags" alt="" coords="1211,678,1353,719"/>
<area shape="rect" id="node43" href="nilfs2_2btree_8c.html#a55d2c414d2839e3ab8aa38e93df992e8" title="nilfs_btree_node_get\l_nchildren" alt="" coords="1211,547,1353,588"/>
<area shape="rect" id="node48" href="bad__inode_8c.html#ab9cc2af6161530b35e5f86e29f977033" title="make_bad_inode" alt="" coords="610,792,730,818"/>
<area shape="rect" id="node50" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="799,792,938,818"/>
<area shape="rect" id="node49" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="1415,820,1510,846"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph.png" border="0" usemap="#cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph" alt=""/></div>
<map name="cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph" id="cpfile_8c_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="169,229,315,256"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="363,229,440,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1727,196,1832,223"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="488,229,605,256"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1919,233,2009,260"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="683,204,781,231"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="653,255,811,281"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="863,196,1011,223"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="867,247,1006,289"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="859,313,1015,340"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1063,196,1241,223"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1328,95,1405,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1508,95,1628,121"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1722,95,1837,121"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1714,44,1845,71"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1919,107,2009,133"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1918,157,2010,184"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1915,5,2013,32"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1921,56,2007,83"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1083,251,1221,277"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1302,241,1431,282"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1492,247,1644,273"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1729,247,1829,273"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1692,399,1867,425"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1079,309,1225,336"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1289,308,1444,335"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1513,348,1623,375"/>
</map>
</div>

</div>
</div>
<a id="a987eccfb76e10b13685d86b96f740c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987eccfb76e10b13685d86b96f740c2e">&#9670;&nbsp;</a></span>nilfs_cpfile_set_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_cpfile_set_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_cgraph.png" border="0" usemap="#cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_cgraph" alt=""/></div>
<map name="cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_cgraph" id="cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1108,102,1204,129"/>
<area shape="rect" id="node3" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="223,268,401,309"/>
<area shape="rect" id="node21" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1095,878,1217,905"/>
<area shape="rect" id="node37" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1085,827,1227,854"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="449,218,597,245"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="462,113,585,155"/>
<area shape="rect" id="node48" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="235,333,389,375"/>
<area shape="rect" id="node49" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="462,48,585,89"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="247,100,377,141"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="454,330,593,357"/>
<area shape="rect" id="node45" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="650,270,797,297"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="651,326,796,353"/>
<area shape="rect" id="node15" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="645,565,801,591"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="853,321,1012,347"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1097,406,1215,433"/>
<area shape="rect" id="node9" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1106,254,1206,281"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1091,305,1221,331"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1340,777,1411,803"/>
<area shape="rect" id="node13" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1081,153,1231,179"/>
<area shape="rect" id="node14" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1115,203,1197,230"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1296,406,1455,433"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1306,229,1445,255"/>
<area shape="rect" id="node16" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="855,607,1010,634"/>
<area shape="rect" id="node19" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="860,761,1005,803"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="849,523,1016,550"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="856,658,1009,685"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1064,625,1248,651"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1089,675,1223,702"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1094,726,1218,753"/>
<area shape="rect" id="node22" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1315,937,1436,963"/>
<area shape="rect" id="node24" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1308,853,1443,879"/>
<area shape="rect" id="node23" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1507,970,1679,997"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1503,904,1683,945"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1523,721,1663,763"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1526,787,1659,828"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1523,853,1662,879"/>
<area shape="rect" id="node26" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1767,903,1858,930"/>
<area shape="rect" id="node29" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1789,954,1836,981"/>
<area shape="rect" id="node27" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="1959,853,2065,879"/>
<area shape="rect" id="node28" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1943,903,2081,930"/>
<area shape="rect" id="node30" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="1974,954,2050,981"/>
<area shape="rect" id="node31" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1963,1005,2061,1031"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1737,769,1888,795"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1731,819,1895,846"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1091,559,1221,600"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1080,457,1232,483"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1074,507,1238,534"/>
<area shape="rect" id="node44" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="852,153,1013,195"/>
<area shape="rect" id="node47" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="649,118,798,145"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_icgraph.png" border="0" usemap="#cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_icgraph" alt=""/></div>
<map name="cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_icgraph" id="cpfile_8c_a987eccfb76e10b13685d86b96f740c2e_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="223,99,356,141"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="404,99,531,141"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="579,107,656,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="704,81,824,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="880,81,995,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="872,132,1003,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1055,5,1145,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1054,56,1146,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1051,107,1149,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1057,157,1143,184"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="cpfile_8c.html">cpfile.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
