<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: gfs2/bmap.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gfs2_2bmap_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bmap.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/iomap.h&gt;</code><br />
<code>#include &quot;<a class="el" href="gfs2_2inode_8h_source.html">inode.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bmap.h:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h__incl.png" border="0" usemap="#gfs2_2bmap_8h" alt=""/></div>
<map name="gfs2_2bmap_8h" id="gfs2_2bmap_8h">
<area shape="rect" id="node3" href="gfs2_2inode_8h.html" title="inode.h" alt="" coords="393,80,457,107"/>
<area shape="rect" id="node7" href="gfs2_2util_8h.html" title="util.h" alt="" coords="544,155,595,181"/>
<area shape="rect" id="node9" href="incore_8h.html" title="incore.h" alt="" coords="647,229,715,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h__dep__incl.png" border="0" usemap="#gfs2_2bmap_8hdep" alt=""/></div>
<map name="gfs2_2bmap_8hdep" id="gfs2_2bmap_8hdep">
<area shape="rect" id="node2" href="gfs2_2aops_8c.html" title="gfs2/aops.c" alt="" coords="5,80,96,107"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html" title="gfs2/bmap.c" alt="" coords="121,80,215,107"/>
<area shape="rect" id="node4" href="gfs2_2dir_8c.html" title="gfs2/dir.c" alt="" coords="239,80,315,107"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html" title="gfs2/file.c" alt="" coords="339,80,418,107"/>
<area shape="rect" id="node6" href="glock_8c.html" title="gfs2/glock.c" alt="" coords="443,80,536,107"/>
<area shape="rect" id="node7" href="glops_8c.html" title="gfs2/glops.c" alt="" coords="560,80,653,107"/>
<area shape="rect" id="node8" href="gfs2_2inode_8c.html" title="gfs2/inode.c" alt="" coords="677,80,771,107"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html" title="gfs2/log.c" alt="" coords="795,80,874,107"/>
<area shape="rect" id="node10" href="ops__fstype_8c.html" title="gfs2/ops_fstype.c" alt="" coords="898,80,1025,107"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html" title="gfs2/quota.c" alt="" coords="1049,80,1143,107"/>
<area shape="rect" id="node12" href="gfs2_2recovery_8c.html" title="gfs2/recovery.c" alt="" coords="1168,80,1280,107"/>
<area shape="rect" id="node13" href="gfs2_2super_8c.html" title="gfs2/super.c" alt="" coords="1305,80,1399,107"/>
</map>
</div>
</div>
<p><a href="gfs2_2bmap_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8cc7e2d2d99ec1db0927080ea7908b88"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88">gfs2_write_calc_reserv</a> (const struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, unsigned int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, unsigned int *data_blocks, unsigned int *ind_blocks)</td></tr>
<tr class="separator:a8cc7e2d2d99ec1db0927080ea7908b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fa6c41a0efa993273ca30b3ecb4b9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d">gfs2_unstuff_dinode</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, struct page *page)</td></tr>
<tr class="separator:ad0fa6c41a0efa993273ca30b3ecb4b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475542cb17dc0489799e9c312376df0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b">gfs2_block_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, sector_t lblock, struct buffer_head *bh, int create)</td></tr>
<tr class="separator:a475542cb17dc0489799e9c312376df0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4c336682ce296954b4badcb373a46f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f">gfs2_iomap_begin</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t pos, loff_t <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>, unsigned <a class="el" href="structflags.html">flags</a>, struct iomap *iomap)</td></tr>
<tr class="separator:ada4c336682ce296954b4badcb373a46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae822e8135a4b06ff4ddba49db152acde"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde">gfs2_extent_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 lblock, int *new, u64 *dblock, unsigned *extlen)</td></tr>
<tr class="separator:ae822e8135a4b06ff4ddba49db152acde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2564f5a24fe6b77f822b70aff7c53c3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c">gfs2_setattr_size</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a2564f5a24fe6b77f822b70aff7c53c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331a33f7fee55ff1b471c9effa059659"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659">gfs2_trim_blocks</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a331a33f7fee55ff1b471c9effa059659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63fdaa0c472efdf4a6afa24d0297529"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529">gfs2_truncatei_resume</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:aa63fdaa0c472efdf4a6afa24d0297529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631cf74be1d8a0914060da66d38d4ba0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0">gfs2_file_dealloc</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:a631cf74be1d8a0914060da66d38d4ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387e01f7e9342482f871adac9a2f1f3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e">gfs2_write_alloc_required</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, unsigned int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a387e01f7e9342482f871adac9a2f1f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72286a05925d882b2de9c25556f75ed4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4">gfs2_map_journal_extents</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *jd)</td></tr>
<tr class="separator:a72286a05925d882b2de9c25556f75ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8dcd2c0d9cb0f93243a981a67a8d2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#acb8dcd2c0d9cb0f93243a981a67a8d2e">gfs2_free_journal_extents</a> (struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *jd)</td></tr>
<tr class="separator:acb8dcd2c0d9cb0f93243a981a67a8d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed92c6adeb7c13c7081279a66556d0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c">__gfs2_punch_hole</a> (struct file *file, loff_t <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, loff_t <a class="el" href="rfc1002pdu_8h.html#ae819e710452c3cfae04c836bd1a3e13e">length</a>)</td></tr>
<tr class="separator:a3ed92c6adeb7c13c7081279a66556d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3ed92c6adeb7c13c7081279a66556d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed92c6adeb7c13c7081279a66556d0c">&#9670;&nbsp;</a></span>__gfs2_punch_hole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __gfs2_punch_hole </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_cgraph" id="gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="687,659,754,686"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="878,1140,959,1167"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="671,456,770,483"/>
<area shape="rect" id="node5" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="660,64,781,91"/>
<area shape="rect" id="node9" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="211,1976,321,2003"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#ad2009c5ae9997445248c4290ccbf621a" title="stuffed_zero_range" alt="" coords="425,710,559,736"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="188,431,344,458"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f" title="gfs2_journaled_truncate\l_range" alt="" coords="412,86,572,128"/>
<area shape="rect" id="node21" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="665,216,776,243"/>
<area shape="rect" id="node25" href="inode_8c.html#ad7b0eea4a307ae587d3887cb1d67b381" title="file_update_time" alt="" coords="433,2002,551,2028"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="222,1242,310,1268"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="863,39,974,66"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="858,90,979,116"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="1036,115,1156,142"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="640,887,801,914"/>
<area shape="rect" id="node12" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="647,1014,794,1040"/>
<area shape="rect" id="node14" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="418,254,566,280"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="433,558,551,584"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="449,304,535,331"/>
<area shape="rect" id="node17" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="429,406,555,432"/>
<area shape="rect" id="node18" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="421,456,563,483"/>
<area shape="rect" id="node19" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="431,203,553,230"/>
<area shape="rect" id="node22" href="gfs2_2trans_8c.html#a6ef229c79b5693477ba7e27fb66d5acf" title="gfs2_print_trans" alt="" coords="861,191,976,218"/>
<area shape="rect" id="node23" href="gfs2_2log_8c.html#a60ca61b3792ee2240074cb04f0512053" title="gfs2_log_commit" alt="" coords="858,242,979,268"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="865,292,972,319"/>
<area shape="rect" id="node26" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="673,1926,768,1952"/>
<area shape="rect" id="node27" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="849,1951,988,1978"/>
<area shape="rect" id="node28" href="internal_8h.html#a90039e8333efdad6a1af3512897651e7" title="__mnt_want_write_file" alt="" coords="645,2027,797,2054"/>
<area shape="rect" id="node29" href="inode_8c.html#a7ae3fe454cb624841ffcaf6bbe2177ad" title="update_time" alt="" coords="674,2078,767,2104"/>
<area shape="rect" id="node30" href="internal_8h.html#a28064ac863ca84020eb386f490879ec5" title="__mnt_drop_write_file" alt="" coords="646,2128,795,2155"/>
<area shape="rect" id="node32" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="451,1014,533,1040"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="440,1216,544,1243"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="431,1267,553,1294"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="427,1318,557,1344"/>
<area shape="rect" id="node36" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="429,1368,555,1395"/>
<area shape="rect" id="node37" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="425,963,559,990"/>
<area shape="rect" id="node38" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="649,1216,793,1243"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="433,1723,551,1750"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="655,1723,786,1750"/>
<area shape="rect" id="node41" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="392,1419,592,1446"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="423,1166,561,1192"/>
<area shape="rect" id="node43" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="645,1304,796,1331"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="662,1431,779,1458"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="450,1470,534,1496"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="435,1622,549,1648"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="437,1824,547,1851"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="424,862,560,888"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="653,786,788,812"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="429,811,555,838"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_icgraph" id="gfs2_2bmap_8h_a3ed92c6adeb7c13c7081279a66556d0c_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1355,43,1457,69"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="188,473,344,500"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1513,43,1660,69"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1155,1563,1289,1589"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="392,448,513,475"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1163,93,1281,120"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="417,499,488,525"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1162,1512,1282,1539"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="397,397,508,424"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="565,460,679,487"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="579,701,665,728"/>
<area shape="rect" id="node34" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="744,1309,875,1336"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="561,257,683,284"/>
<area shape="rect" id="node10" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="760,485,859,512"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="731,435,888,461"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="752,359,867,385"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="959,245,1074,272"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="967,296,1067,323"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="961,347,1072,373"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="971,397,1062,424"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="957,448,1077,475"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="969,499,1064,525"/>
<area shape="rect" id="node19" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="943,144,1091,171"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="943,195,1091,221"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="741,803,877,829"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1145,853,1299,880"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1347,701,1465,728"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1347,904,1465,931"/>
<area shape="rect" id="node27" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="936,701,1097,728"/>
<area shape="rect" id="node28" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1171,752,1273,779"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="973,1056,1061,1083"/>
<area shape="rect" id="node30" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="953,1005,1080,1032"/>
<area shape="rect" id="node32" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="961,904,1073,931"/>
<area shape="rect" id="node33" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="970,600,1063,627"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1531,1309,1642,1336"/>
<area shape="rect" id="node31" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1175,1107,1269,1133"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1159,1449,1285,1476"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1179,1169,1265,1196"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1185,1220,1259,1247"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1173,1284,1271,1311"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="965,1360,1069,1387"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1187,1360,1257,1387"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="937,1259,1096,1285"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1376,1424,1436,1451"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="1353,1475,1459,1501"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="748,308,871,335"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="759,156,859,183"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="763,207,856,233"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="747,257,872,284"/>
</map>
</div>

</div>
</div>
<a id="a475542cb17dc0489799e9c312376df0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475542cb17dc0489799e9c312376df0b">&#9670;&nbsp;</a></span>gfs2_block_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_block_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>lblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_block_map - Map one or more blocks of an inode to a disk block : The inode : The logical block number : The bh to be mapped : True if its ok to alloc blocks to satify the request</p>
<p>The size of the requested mapping is defined in bh_map-&gt;b_size.</p>
<p>Clears buffer_mapped(bh_map) and leaves bh_map-&gt;b_size unchanged when  is not mapped. Sets buffer_mapped(bh_map) and bh_map-&gt;b_size to indicate the size of the mapping when  and successive blocks are mapped, up to the requested size.</p>
<p>Sets buffer_boundary() if a read of metadata will be required before the next block can be mapped. Sets buffer_new() if new blocks were allocated.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_cgraph" id="gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="992,144,1059,171"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="171,372,297,399"/>
<area shape="rect" id="node4" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1355,651,1437,677"/>
<area shape="rect" id="node5" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="358,245,469,272"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="345,93,481,120"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="371,347,456,373"/>
<area shape="rect" id="node8" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="371,397,456,424"/>
<area shape="rect" id="node9" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="945,1340,1106,1367"/>
<area shape="rect" id="node16" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="760,144,864,171"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="353,499,474,525"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="767,296,857,323"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="541,448,673,475"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="351,1715,476,1741"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="364,1765,463,1792"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="352,752,475,779"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="568,195,645,221"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1159,1202,1291,1243"/>
<area shape="rect" id="node14" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1174,1289,1275,1316"/>
<area shape="rect" id="node11" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1339,1209,1453,1236"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1506,1235,1597,1261"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1501,1311,1601,1337"/>
<area shape="rect" id="node15" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1353,1311,1439,1337"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="545,397,669,424"/>
<area shape="rect" id="node21" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1159,753,1291,794"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="989,296,1062,323"/>
<area shape="rect" id="node26" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="952,1391,1099,1417"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="529,1613,684,1640"/>
<area shape="rect" id="node32" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="543,1107,670,1133"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="940,879,1111,905"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="557,701,656,728"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="547,1461,667,1488"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="739,1563,885,1589"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="533,752,680,779"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="946,651,1105,677"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="548,803,665,829"/>
<area shape="rect" id="node27" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1173,945,1276,972"/>
<area shape="rect" id="node28" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1167,1129,1283,1156"/>
<area shape="rect" id="node29" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1159,1391,1290,1417"/>
<area shape="rect" id="node30" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1189,1340,1260,1367"/>
<area shape="rect" id="node33" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="743,955,881,981"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="972,955,1079,981"/>
<area shape="rect" id="node35" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="760,1107,864,1133"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="750,1157,874,1184"/>
<area shape="rect" id="node37" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="959,1056,1091,1083"/>
<area shape="rect" id="node38" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="732,1005,892,1032"/>
<area shape="rect" id="node39" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="779,1208,845,1235"/>
<area shape="rect" id="node40" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="761,1259,863,1285"/>
<area shape="rect" id="node41" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="739,1309,885,1336"/>
<area shape="rect" id="node42" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="744,1360,880,1387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_icgraph" id="gfs2_2bmap_8h_a475542cb17dc0489799e9c312376df0b_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="612,1154,747,1195"/>
<area shape="rect" id="node4" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="649,296,710,323"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1357,93,1477,120"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="171,435,331,461"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="171,524,330,551"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="176,600,325,627"/>
<area shape="rect" id="node29" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="190,651,311,677"/>
<area shape="rect" id="node32" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="193,701,308,728"/>
<area shape="rect" id="node33" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="207,752,294,779"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="189,879,312,905"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="601,803,757,829"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="173,1107,329,1133"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="379,1208,553,1235"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="381,347,551,373"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1349,904,1484,931"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="829,296,893,323"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="823,245,898,272"/>
<area shape="rect" id="node9" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="964,397,1095,424"/>
<area shape="rect" id="node6" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="969,296,1090,323"/>
<area shape="rect" id="node8" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="971,245,1088,272"/>
<area shape="rect" id="node10" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1353,349,1480,376"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1358,701,1475,728"/>
<area shape="rect" id="node12" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1369,403,1464,429"/>
<area shape="rect" id="node13" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1373,460,1460,487"/>
<area shape="rect" id="node14" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1379,523,1454,549"/>
<area shape="rect" id="node15" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1368,599,1465,625"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1170,195,1274,221"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1167,245,1277,272"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1381,297,1452,324"/>
<area shape="rect" id="node20" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1143,448,1301,475"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="390,397,542,424"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="411,448,521,475"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="387,499,545,525"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="407,549,525,576"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="413,600,519,627"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="413,701,519,728"/>
<area shape="rect" id="node31" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="402,651,530,677"/>
<area shape="rect" id="node34" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="403,752,529,779"/>
<area shape="rect" id="node36" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="399,853,533,880"/>
<area shape="rect" id="node37" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="400,904,532,931"/>
<area shape="rect" id="node38" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="411,955,521,981"/>
<area shape="rect" id="node39" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="387,1005,545,1032"/>
<area shape="rect" id="node41" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="969,803,1090,829"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="825,397,896,424"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="805,701,916,728"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="424,1157,508,1184"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="399,1107,533,1133"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="819,1029,903,1056"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="616,928,743,955"/>
</map>
</div>

</div>
</div>
<a id="ae822e8135a4b06ff4ddba49db152acde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae822e8135a4b06ff4ddba49db152acde">&#9670;&nbsp;</a></span>gfs2_extent_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_extent_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>lblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>dblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>extlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_cgraph" id="gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="176,373,293,400"/>
<area shape="rect" id="node3" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="744,5,811,32"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="341,563,468,589"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1355,993,1437,1020"/>
<area shape="rect" id="node6" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="529,1247,639,1273"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="516,487,652,513"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="541,284,627,311"/>
<area shape="rect" id="node9" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="541,335,627,361"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="903,1207,1064,1233"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="725,56,829,83"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="523,1145,645,1172"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="938,1044,1029,1071"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="711,993,843,1020"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="521,385,647,412"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="535,436,633,463"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="523,639,645,665"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="545,588,623,615"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1131,1211,1263,1253"/>
<area shape="rect" id="node15" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1147,1277,1248,1304"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1339,1176,1453,1203"/>
<area shape="rect" id="node13" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1514,1252,1605,1279"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1509,1176,1609,1203"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1353,1227,1439,1253"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="715,1145,839,1172"/>
<area shape="rect" id="node22" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1131,1146,1263,1187"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="1161,1044,1234,1071"/>
<area shape="rect" id="node27" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1124,284,1271,311"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="700,689,855,716"/>
<area shape="rect" id="node33" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="714,537,841,564"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1112,208,1283,235"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="728,740,827,767"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="717,259,837,285"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="910,183,1057,209"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="704,791,851,817"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1118,993,1277,1020"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="719,639,836,665"/>
<area shape="rect" id="node28" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1345,196,1447,223"/>
<area shape="rect" id="node29" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1338,247,1454,273"/>
<area shape="rect" id="node30" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1331,348,1461,375"/>
<area shape="rect" id="node31" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1361,297,1431,324"/>
<area shape="rect" id="node34" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="914,791,1053,817"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="1144,791,1251,817"/>
<area shape="rect" id="node36" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="931,436,1035,463"/>
<area shape="rect" id="node37" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="921,639,1045,665"/>
<area shape="rect" id="node38" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="1131,689,1263,716"/>
<area shape="rect" id="node39" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="903,740,1063,767"/>
<area shape="rect" id="node40" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="950,487,1017,513"/>
<area shape="rect" id="node41" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="933,537,1034,564"/>
<area shape="rect" id="node42" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="911,892,1056,919"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_icgraph" id="gfs2_2bmap_8h_ae822e8135a4b06ff4ddba49db152acde_icgraph">
<area shape="rect" id="node2" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="397,233,531,260"/>
<area shape="rect" id="node13" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="189,196,321,223"/>
<area shape="rect" id="node19" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="200,537,311,564"/>
<area shape="rect" id="node34" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="176,968,335,995"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="386,487,542,513"/>
<area shape="rect" id="node3" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="807,157,902,184"/>
<area shape="rect" id="node8" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="593,259,724,285"/>
<area shape="rect" id="node9" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="613,107,704,133"/>
<area shape="rect" id="node4" href="gfs2_2dir_8h.html#a91bf65f8fa960783b5f2f1ea69227a41" title="gfs2_dir_add" alt="" coords="1008,208,1104,235"/>
<area shape="rect" id="node5" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1220,321,1307,348"/>
<area shape="rect" id="node6" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1226,183,1301,209"/>
<area shape="rect" id="node7" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1215,233,1312,260"/>
<area shape="rect" id="node10" href="gfs2_2dir_8h.html#a79f50f721c6291b4244a76e1f5dcf0a6" title="gfs2_dir_exhash_dealloc" alt="" coords="772,56,937,83"/>
<area shape="rect" id="node11" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="996,107,1116,133"/>
<area shape="rect" id="node12" href="gfs2_2dir_8h.html#ae24470d78573580a612e8af307339708" title="gfs2_dir_no_add" alt="" coords="997,56,1115,83"/>
<area shape="rect" id="node14" href="gfs2_2dir_8c.html#ac94f137d5ab8a7cc493487c6a4680222" title="gfs2_dir_get_hash_table" alt="" coords="383,157,545,184"/>
<area shape="rect" id="node15" href="gfs2_2dir_8c.html#a43255c016afae5342dc9b12a6f19158f" title="get_leaf_nr" alt="" coords="615,157,702,184"/>
<area shape="rect" id="node17" href="gfs2_2dir_8c.html#aeb0cd07f1c62743bb3afcbc4687233e8" title="dir_e_read" alt="" coords="617,5,700,32"/>
<area shape="rect" id="node16" href="gfs2_2dir_8c.html#abe904e59c239cb18f637c8af40309840" title="get_first_leaf" alt="" coords="806,107,903,133"/>
<area shape="rect" id="node18" href="gfs2_2dir_8h.html#a2f590a27b7fe721f761bbbc9db5dcb41" title="gfs2_dir_read" alt="" coords="805,5,905,32"/>
<area shape="rect" id="node20" href="gfs2_2super_8h.html#a109f406a58320724679b20663b96e26d" title="gfs2_make_fs_rw" alt="" coords="401,613,527,640"/>
<area shape="rect" id="node21" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="599,765,718,792"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="599,563,718,589"/>
<area shape="rect" id="node30" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="621,715,696,741"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="812,411,897,437"/>
<area shape="rect" id="node29" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="813,563,897,589"/>
<area shape="rect" id="node24" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="991,379,1121,405"/>
<area shape="rect" id="node25" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1196,613,1331,640"/>
<area shape="rect" id="node26" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1205,512,1322,539"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1203,404,1323,431"/>
<area shape="rect" id="node27" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1400,512,1503,539"/>
<area shape="rect" id="node31" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="815,765,894,792"/>
<area shape="rect" id="node32" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="805,816,905,843"/>
<area shape="rect" id="node33" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="805,715,904,741"/>
<area shape="rect" id="node35" href="gfs2_2recovery_8c.html#a2288648521bc46dea4027036ba728f8f" title="get_log_header" alt="" coords="409,968,519,995"/>
<area shape="rect" id="node38" href="gfs2_2recovery_8c.html#a7700c051a64d506a6556b5a8f1200ed5" title="foreach_descriptor" alt="" coords="594,917,723,944"/>
<area shape="rect" id="node40" href="recovery_8h.html#a1aba8c6577196b77fa30054b89455572" title="gfs2_replay_incr_blk" alt="" coords="985,993,1127,1020"/>
<area shape="rect" id="node42" href="lops_8c.html#ace4c0a2710d0572aec439a9e4c8e7046" title="buf_lo_scan_elements" alt="" coords="1187,1044,1339,1071"/>
<area shape="rect" id="node43" href="lops_8c.html#adefd7d2f659de00d9a44aeb894a8acbc" title="revoke_lo_scan_elements" alt="" coords="1177,1095,1350,1121"/>
<area shape="rect" id="node44" href="lops_8c.html#ae978a4a96602c1a225dcea409bb50201" title="databuf_lo_scan_elements" alt="" coords="1175,867,1352,893"/>
<area shape="rect" id="node36" href="gfs2_2recovery_8c.html#a3c421245a5faf92629219f20764984d1" title="find_good_lh" alt="" coords="611,968,706,995"/>
<area shape="rect" id="node37" href="gfs2_2recovery_8c.html#a0ab2c0f1f440fa1f10d8a5dab32e85dc" title="jhead_scan" alt="" coords="615,1019,703,1045"/>
<area shape="rect" id="node39" href="recovery_8h.html#a694e7952cec81ece9ae29b217be8c836" title="gfs2_recover_func" alt="" coords="790,943,919,969"/>
<area shape="rect" id="node41" href="gfs2_2recovery_8c.html#aece44f5b840a4164271292380e3a7bba" title="clean_journal" alt="" coords="1214,968,1313,995"/>
<area shape="rect" id="node46" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="995,588,1117,615"/>
<area shape="rect" id="node47" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="623,385,694,412"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="603,335,714,361"/>
<area shape="rect" id="node48" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="797,309,912,336"/>
<area shape="rect" id="node49" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="794,360,915,387"/>
</map>
</div>

</div>
</div>
<a id="a631cf74be1d8a0914060da66d38d4ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a631cf74be1d8a0914060da66d38d4ba0">&#9670;&nbsp;</a></span>gfs2_file_dealloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_file_dealloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_cgraph" id="gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="172,633,260,660"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1007,1029,1088,1056"/>
<area shape="rect" id="node4" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="367,76,449,102"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="356,126,460,153"/>
<area shape="rect" id="node6" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="556,684,717,710"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="347,228,469,254"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="343,329,473,356"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="781,430,908,457"/>
<area shape="rect" id="node19" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="341,785,475,812"/>
<area shape="rect" id="node24" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="565,785,709,812"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="349,481,467,508"/>
<area shape="rect" id="node28" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="571,582,702,609"/>
<area shape="rect" id="node29" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="308,582,508,609"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="339,1181,477,1208"/>
<area shape="rect" id="node31" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="561,1510,712,1537"/>
<area shape="rect" id="node38" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="576,1561,697,1588"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="771,532,918,558"/>
<area shape="rect" id="node42" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="589,1612,684,1638"/>
<area shape="rect" id="node43" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="578,1460,695,1486"/>
<area shape="rect" id="node44" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="581,1662,692,1689"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="366,430,450,457"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="351,380,465,406"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="353,177,463,204"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="340,532,476,558"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="777,1764,912,1790"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="345,1814,471,1841"/>
<area shape="rect" id="node7" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="779,798,911,839"/>
<area shape="rect" id="node8" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="794,658,895,685"/>
<area shape="rect" id="node9" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1002,608,1093,634"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="575,177,699,204"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="600,278,673,305"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="585,329,689,356"/>
<area shape="rect" id="node16" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="972,456,1123,482"/>
<area shape="rect" id="node17" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1006,405,1089,432"/>
<area shape="rect" id="node18" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="997,506,1097,533"/>
<area shape="rect" id="node20" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="603,633,670,660"/>
<area shape="rect" id="node21" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="563,887,710,928"/>
<area shape="rect" id="node22" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="571,836,702,862"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a5c55d09a84b98a9fc2b416c1dd9e5b4f" title="gfs2_ri_update" alt="" coords="791,914,898,941"/>
<area shape="rect" id="node26" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="580,380,693,406"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="599,430,674,457"/>
<area shape="rect" id="node32" href="glops_8c.html#ab6009ec007c0d3fb5f6b4386afd5cbd1" title="gfs2_glock2rgrp" alt="" coords="579,1206,694,1233"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="567,1257,706,1284"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="583,1358,690,1385"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="583,1105,690,1132"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="581,1156,692,1182"/>
<area shape="rect" id="node37" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="767,1308,922,1334"/>
<area shape="rect" id="node40" href="rgrp_8c.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="569,1004,704,1030"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="765,1054,924,1081"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_icgraph" id="gfs2_2bmap_8h_a631cf74be1d8a0914060da66d38d4ba0_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="190,461,310,488"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="172,512,328,539"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1139,1576,1273,1603"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="376,56,497,83"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1147,309,1265,336"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="401,512,472,539"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1146,1627,1266,1653"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="381,5,492,32"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1339,309,1441,336"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1497,309,1644,336"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="549,473,663,500"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="563,715,649,741"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="728,1323,859,1349"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="545,271,667,297"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="744,499,843,525"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="715,448,872,475"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="736,372,851,399"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="943,259,1058,285"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="951,309,1051,336"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="945,360,1056,387"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="955,411,1046,437"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="941,461,1061,488"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="953,512,1048,539"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="927,157,1075,184"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="927,208,1075,235"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="725,816,861,843"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1129,867,1283,893"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1331,715,1449,741"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1331,917,1449,944"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="920,715,1081,741"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1155,765,1257,792"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="957,1069,1045,1096"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="937,1019,1064,1045"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="945,917,1057,944"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="954,613,1047,640"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1515,1019,1626,1045"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1159,1171,1253,1197"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1143,1224,1269,1251"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1163,1281,1249,1308"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1169,1344,1243,1371"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1157,1420,1255,1447"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="949,1424,1053,1451"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1171,1475,1241,1501"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="921,1323,1080,1349"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1360,1224,1420,1251"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="732,321,855,348"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="743,169,843,196"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="747,220,840,247"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="731,271,856,297"/>
</map>
</div>

</div>
</div>
<a id="acb8dcd2c0d9cb0f93243a981a67a8d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8dcd2c0d9cb0f93243a981a67a8d2e">&#9670;&nbsp;</a></span>gfs2_free_journal_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_free_journal_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *&#160;</td>
          <td class="paramname"><em>jd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_free_journal_extents - Free cached journal bmap info : The journal </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph" id="gfs2_2bmap_8h_acb8dcd2c0d9cb0f93243a981a67a8d2e_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8h.html#adafe16409e1b139630ef576df1fd4d91" title="gfs2_jindex_free" alt="" coords="466,613,583,640"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="224,708,399,735"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="447,1247,603,1273"/>
<area shape="rect" id="node3" href="gfs2_2super_8c.html#abb52774f6c832a6ab150b154fc5232a6" title="gfs2_put_super" alt="" coords="1220,664,1331,691"/>
<area shape="rect" id="node4" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="652,563,771,589"/>
<area shape="rect" id="node30" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="839,411,923,437"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="838,664,923,691"/>
<area shape="rect" id="node6" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="1000,512,1136,539"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1003,968,1133,995"/>
<area shape="rect" id="node7" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1199,208,1352,235"/>
<area shape="rect" id="node8" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1587,360,1704,387"/>
<area shape="rect" id="node10" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="1195,512,1356,539"/>
<area shape="rect" id="node11" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1421,487,1522,513"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1231,309,1319,336"/>
<area shape="rect" id="node13" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="1212,563,1339,589"/>
<area shape="rect" id="node15" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="1219,360,1331,387"/>
<area shape="rect" id="node16" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="1229,411,1322,437"/>
<area shape="rect" id="node9" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1770,613,1881,640"/>
<area shape="rect" id="node14" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1424,765,1519,792"/>
<area shape="rect" id="node18" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1408,871,1535,897"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1404,1120,1539,1147"/>
<area shape="rect" id="node20" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1413,1373,1530,1400"/>
<area shape="rect" id="node23" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1428,928,1515,955"/>
<area shape="rect" id="node24" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1434,991,1509,1017"/>
<area shape="rect" id="node25" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1423,1044,1520,1071"/>
<area shape="rect" id="node26" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1223,1171,1327,1197"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1411,1221,1531,1248"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1436,817,1507,844"/>
<area shape="rect" id="node29" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1196,968,1355,995"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1594,1373,1697,1400"/>
<area shape="rect" id="node22" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1752,1373,1899,1400"/>
<area shape="rect" id="node31" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1026,259,1110,285"/>
<area shape="rect" id="node32" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1238,107,1313,133"/>
<area shape="rect" id="node33" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="1432,107,1511,133"/>
<area shape="rect" id="node34" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="1421,157,1521,184"/>
<area shape="rect" id="node35" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="1422,5,1521,32"/>
<area shape="rect" id="node36" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="1426,56,1517,83"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="651,1424,772,1451"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="676,968,747,995"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="656,1221,767,1248"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="823,841,938,868"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="820,1019,941,1045"/>
<area shape="rect" id="node42" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1019,867,1117,893"/>
<area shape="rect" id="node43" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="989,765,1147,792"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1011,816,1125,843"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1007,917,1129,944"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1018,1019,1118,1045"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1021,1069,1115,1096"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="1005,1120,1131,1147"/>
</map>
</div>

</div>
</div>
<a id="ada4c336682ce296954b4badcb373a46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4c336682ce296954b4badcb373a46f">&#9670;&nbsp;</a></span>gfs2_iomap_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_iomap_begin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iomap *&#160;</td>
          <td class="paramname"><em>iomap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_iomap_begin - Map blocks from an inode to disk blocks : The inode : Starting position in bytes : Length to map, in bytes : iomap flags : The iomap structure</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_cgraph" id="gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="827,353,893,380"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1217,733,1298,760"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="193,100,303,127"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="180,353,316,380"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="205,201,291,228"/>
<area shape="rect" id="node7" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="205,252,291,279"/>
<area shape="rect" id="node8" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="779,1468,941,1495"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="595,429,699,456"/>
<area shape="rect" id="node16" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="187,404,309,431"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="601,252,692,279"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="375,505,507,532"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="185,556,311,583"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="199,607,297,633"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="187,809,309,836"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="403,151,480,177"/>
<area shape="rect" id="node9" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1007,1301,1139,1342"/>
<area shape="rect" id="node13" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1022,1367,1123,1393"/>
<area shape="rect" id="node10" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1200,1265,1315,1292"/>
<area shape="rect" id="node11" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1367,1291,1458,1317"/>
<area shape="rect" id="node12" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1363,1367,1463,1393"/>
<area shape="rect" id="node14" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1214,1367,1301,1393"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="379,404,503,431"/>
<area shape="rect" id="node20" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1007,810,1139,851"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="823,252,897,279"/>
<area shape="rect" id="node25" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="787,1417,933,1444"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="364,708,519,735"/>
<area shape="rect" id="node31" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="378,1139,505,1165"/>
<area shape="rect" id="node42" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="775,1519,945,1545"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="392,759,491,785"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="381,1569,501,1596"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="573,1620,720,1647"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="368,860,515,887"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="993,708,1152,735"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="383,911,500,937"/>
<area shape="rect" id="node26" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1021,1468,1124,1495"/>
<area shape="rect" id="node27" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1015,1519,1131,1545"/>
<area shape="rect" id="node28" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1007,1199,1138,1225"/>
<area shape="rect" id="node29" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1037,1249,1108,1276"/>
<area shape="rect" id="node32" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="577,911,716,937"/>
<area shape="rect" id="node33" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="807,961,913,988"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="595,1113,699,1140"/>
<area shape="rect" id="node35" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="585,1316,709,1343"/>
<area shape="rect" id="node36" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="794,1063,926,1089"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="567,1012,727,1039"/>
<area shape="rect" id="node38" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="613,1164,680,1191"/>
<area shape="rect" id="node39" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="596,1215,697,1241"/>
<area shape="rect" id="node40" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="574,1265,719,1292"/>
<area shape="rect" id="node41" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="579,1417,715,1444"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="793,809,927,836"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_icgraph" id="gfs2_2bmap_8h_ada4c336682ce296954b4badcb373a46f_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1319,68,1432,95"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="180,651,297,677"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="776,363,932,389"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1499,169,1617,196"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1673,68,1776,95"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1824,68,1971,95"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a6472f81c039eb66c9c7a5b18b8a0eb44" title="gfs2_allocate_page\l_backing" alt="" coords="1308,702,1443,743"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ad595a6f8ebbbcfca26ef1b40002b6e3f" title="bh_get" alt="" coords="823,145,885,172"/>
<area shape="rect" id="node18" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1498,709,1618,736"/>
<area shape="rect" id="node19" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="345,869,505,896"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#ac27a801b6a1b6e8bf933a9a4b01d1d11" title="gfs2_get_block_noalloc" alt="" coords="346,945,505,972"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a279f58e76a39c5c0ae22bc0d522699e2" title="gfs2_get_block_direct" alt="" coords="351,1047,500,1073"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a3d1d986602d70d122e62c942e4a9ad33" title="__gfs2_readpage" alt="" coords="365,1123,486,1149"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a7b7feb928546a0d2dd5a25c35143f822" title="gfs2_readpages" alt="" coords="368,372,483,399"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a3e4c5477b4232a68a65f121999bc0b68" title="gfs2_bmap" alt="" coords="382,271,469,297"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="364,487,487,513"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="347,423,503,449"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="553,651,728,677"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="556,701,725,728"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1491,575,1625,601"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ae950364cfcebc3f515864819c8af7f70" title="qd_fish" alt="" coords="1003,247,1067,273"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="998,93,1073,120"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1310,423,1441,449"/>
<area shape="rect" id="node11" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1139,347,1260,373"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="1141,93,1258,120"/>
<area shape="rect" id="node15" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1495,372,1621,399"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1511,423,1605,449"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1515,473,1601,500"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="565,869,717,896"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a58cd348b30b25e1c303d9bbb52ac07dd" title="gfs2_writepage" alt="" coords="585,971,696,997"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="561,1021,720,1048"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a14a73b56cdf0dc0ff9c74c1484d02f6f" title="gfs2_writepages" alt="" coords="582,920,699,947"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#ac6f1df18ba9aeb0217f49b17c681fca6" title="gfs2_direct_IO" alt="" coords="587,1072,694,1099"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a2f00acb4af9a8becfec21351ec1e8cd9" title="gfs2_readpage" alt="" coords="587,1123,694,1149"/>
<area shape="rect" id="node29" href="gfs2_2inode_8h.html#afb30ef6439857aa92ab916990b51ee96" title="gfs2_internal_read" alt="" coords="577,1173,705,1200"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="578,195,703,221"/>
<area shape="rect" id="node34" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="573,448,708,475"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#aac8984a018c9decc6e5f06f38a062adb" title="gfs2_dir_read_data" alt="" coords="575,499,707,525"/>
<area shape="rect" id="node36" href="gfs2_2quota_8h.html#ae78399a5597836ddd3080badd46e6c2f" title="gfs2_quota_init" alt="" coords="585,347,696,373"/>
<area shape="rect" id="node37" href="recovery_8h.html#a5f959227ae1b3fc8be0bf90813cc19a0" title="gfs2_replay_read_block" alt="" coords="561,397,720,424"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1315,144,1436,171"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1000,405,1071,432"/>
<area shape="rect" id="node43" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="980,565,1091,592"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1142,499,1257,525"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1157,397,1242,424"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="599,296,683,323"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="573,245,708,272"/>
<area shape="rect" id="node48" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="993,616,1077,643"/>
<area shape="rect" id="node50" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="791,616,917,643"/>
</map>
</div>

</div>
</div>
<a id="a72286a05925d882b2de9c25556f75ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72286a05925d882b2de9c25556f75ed4">&#9670;&nbsp;</a></span>gfs2_map_journal_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_map_journal_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *&#160;</td>
          <td class="paramname"><em>jd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_map_journal_extents - Cache journal bmap info : The super block : The journal to map</p>
<p>Create a reusable "extent" mapping from all logical blocks to all physical blocks for the given journal. This will save us time when writing journal blocks. Most journals will have only one extent that maps all their logical blocks. That's because gfs2.mkfs arranges the journal blocks sequentially to maximize performance. So the extent would map the first block for the entire file length. However, gfs2_jadd can happen while file activity is happening, so those journals may not be sequential. Less likely is the case where the users created their own journals by mounting the metafs and laying it out. But it's still possible. These journals might have several extents.</p>
<p>Returns: 0 on success, or error on failure </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_cgraph" id="gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="849,1069,916,1096"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="255,1019,372,1045"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a395998b5b2aa31ba0cf788f2ebb0b69c" title="gfs2_add_jextent" alt="" coords="253,1221,374,1248"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acb8dcd2c0d9cb0f93243a981a67a8d2e" title="gfs2_free_journal_extents" alt="" coords="228,1272,399,1299"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="447,1019,573,1045"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1461,816,1542,843"/>
<area shape="rect" id="node6" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="634,917,745,944"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="621,1069,757,1096"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="647,968,732,995"/>
<area shape="rect" id="node9" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="647,1019,732,1045"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="1008,613,1169,640"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="831,1323,935,1349"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="629,715,750,741"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="1043,1044,1134,1071"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="817,1019,949,1045"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="627,1272,752,1299"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="640,1323,739,1349"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="628,664,751,691"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="651,1221,728,1248"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1237,610,1369,651"/>
<area shape="rect" id="node15" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1252,559,1353,585"/>
<area shape="rect" id="node12" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1444,660,1559,687"/>
<area shape="rect" id="node13" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1619,635,1710,661"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1615,559,1715,585"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1458,559,1545,585"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="821,968,945,995"/>
<area shape="rect" id="node22" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1237,750,1369,791"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="1266,1044,1339,1071"/>
<area shape="rect" id="node27" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1229,461,1376,488"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="805,5,960,32"/>
<area shape="rect" id="node33" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="819,385,946,412"/>
<area shape="rect" id="node41" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1217,132,1388,159"/>
<area shape="rect" id="node42" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="833,512,932,539"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="823,664,943,691"/>
<area shape="rect" id="node44" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="1015,765,1162,792"/>
<area shape="rect" id="node45" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="809,613,956,640"/>
<area shape="rect" id="node46" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1009,917,1168,944"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="824,715,941,741"/>
<area shape="rect" id="node28" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1450,268,1553,295"/>
<area shape="rect" id="node29" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1443,173,1559,200"/>
<area shape="rect" id="node30" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1436,457,1567,484"/>
<area shape="rect" id="node31" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1466,407,1537,433"/>
<area shape="rect" id="node34" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="1019,208,1158,235"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="1249,208,1356,235"/>
<area shape="rect" id="node36" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="1037,309,1141,336"/>
<area shape="rect" id="node37" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="1027,461,1151,488"/>
<area shape="rect" id="node38" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="1237,360,1369,387"/>
<area shape="rect" id="node39" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="1009,259,1169,285"/>
<area shape="rect" id="node40" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1055,411,1122,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_icgraph" id="gfs2_2bmap_8h_a72286a05925d882b2de9c25556f75ed4_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="228,563,384,589"/>
<area shape="rect" id="node25" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="1585,1449,1669,1476"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1195,664,1329,691"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="432,56,553,83"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1203,360,1321,387"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="457,613,528,640"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1202,1171,1322,1197"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="437,5,548,32"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1395,360,1497,387"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1553,360,1700,387"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="605,613,719,640"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="619,968,705,995"/>
<area shape="rect" id="node34" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="784,892,915,919"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="601,284,723,311"/>
<area shape="rect" id="node10" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="800,664,899,691"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="771,613,928,640"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="792,385,907,412"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="999,461,1114,488"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1007,512,1107,539"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1001,157,1112,184"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1011,208,1102,235"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="997,259,1117,285"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1009,309,1104,336"/>
<area shape="rect" id="node19" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="983,360,1131,387"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="983,411,1131,437"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="781,1399,917,1425"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1185,1373,1339,1400"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1387,1373,1505,1400"/>
<area shape="rect" id="node32" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="976,1424,1137,1451"/>
<area shape="rect" id="node33" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1211,1424,1313,1451"/>
<area shape="rect" id="node26" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1748,1449,1832,1476"/>
<area shape="rect" id="node27" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1880,1449,1955,1476"/>
<area shape="rect" id="node28" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="2013,1373,2092,1400"/>
<area shape="rect" id="node29" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="2003,1424,2103,1451"/>
<area shape="rect" id="node30" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="2003,1475,2102,1501"/>
<area shape="rect" id="node31" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="2007,1525,2098,1552"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1199,880,1325,907"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1215,932,1309,959"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1219,985,1305,1012"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1225,1043,1299,1069"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1213,1119,1311,1145"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1005,715,1109,741"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1001,765,1112,792"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1227,828,1297,855"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="977,917,1136,944"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="788,335,911,361"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="799,183,899,209"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="803,233,896,260"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="787,284,912,311"/>
</map>
</div>

</div>
</div>
<a id="a2564f5a24fe6b77f822b70aff7c53c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2564f5a24fe6b77f822b70aff7c53c3c">&#9670;&nbsp;</a></span>gfs2_setattr_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_setattr_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>newsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_setattr_size - make a file a given size : the inode : the size to make the file</p>
<p>The file size can grow, shrink, or stay the same size. This is called holding i_rwsem and an exclusive glock on the inode in question.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_cgraph" id="gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="609,715,675,742"/>
<area shape="rect" id="node3" href="attr_8c.html#a7827e769d8b5704301fc520df3edad83" title="inode_newsize_ok" alt="" coords="176,2074,305,2101"/>
<area shape="rect" id="node5" href="inode_8c.html#a1c16bda802e88520b0ac13fef62c8b16" title="inode_dio_wait" alt="" coords="187,1897,295,1923"/>
<area shape="rect" id="node8" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="184,1019,297,1046"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="205,589,276,615"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="201,335,280,362"/>
<area shape="rect" id="node49" href="rgrp_8c.html#ae6df94821ad96b999e5f8f78f2ab3140" title="gfs2_rsqa_delete" alt="" coords="180,1998,301,2025"/>
<area shape="rect" id="node4" href="attr_8c.html#a95285eda06ebaecaa53b77857030ae2d" title="EXPORT_SYMBOL" alt="" coords="363,2099,502,2126"/>
<area shape="rect" id="node6" href="inode_8c.html#ae30987e28c31f85d4a90865b1a914d22" title="__inode_dio_wait" alt="" coords="371,1947,494,1974"/>
<area shape="rect" id="node7" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="775,1885,913,1911"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#a9632d46a2a9dd524bef3ffe4360e5001" title="gfs2_qa_alloc" alt="" coords="381,1019,484,1046"/>
<area shape="rect" id="node10" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="803,817,885,843"/>
<area shape="rect" id="node12" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="587,6,697,33"/>
<area shape="rect" id="node13" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="354,715,511,742"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="353,817,512,843"/>
<area shape="rect" id="node20" href="rgrp_8c.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="360,1526,505,1553"/>
<area shape="rect" id="node36" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="581,259,703,286"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8c.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="363,513,502,539"/>
<area shape="rect" id="node38" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="561,361,723,387"/>
<area shape="rect" id="node39" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="569,462,715,489"/>
<area shape="rect" id="node40" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="595,310,689,337"/>
<area shape="rect" id="node41" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="583,158,701,185"/>
<area shape="rect" id="node42" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="587,107,697,134"/>
<area shape="rect" id="node43" href="rgrp_8c.html#a9e0a5684940c9a0b0a63cf831e3a8b05" title="gfs2_inplace_release" alt="" coords="361,918,505,945"/>
<area shape="rect" id="node44" href="gfs2_2quota_8c.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="577,1171,707,1198"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#ace9b0412c4914dc72f7e640ad6647635" title="gfs2_quota_lock" alt="" coords="583,1121,701,1147"/>
<area shape="rect" id="node17" href="gfs2_2quota_8h.html#a630ef6f87783e483b4880a02b5070262" title="gfs2_quota_check" alt="" coords="578,766,706,793"/>
<area shape="rect" id="node18" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="577,918,707,945"/>
<area shape="rect" id="node19" href="gfs2_2quota_8h.html#ae8916b04b2816dfd27f1b5f52d23eddd" title="gfs2_quota_hash_init" alt="" coords="569,867,715,894"/>
<area shape="rect" id="node16" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="772,1146,916,1173"/>
<area shape="rect" id="node21" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="589,1425,695,1451"/>
<area shape="rect" id="node22" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="775,1961,913,1987"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a3f124d1d41cde1afea1184e49acd9763" title="check_and_update_goal" alt="" coords="561,1526,723,1553"/>
<area shape="rect" id="node24" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="791,1551,897,1578"/>
<area shape="rect" id="node25" href="rgrp_8c.html#a5e03ceea092cfe1ac4f700a85986d679" title="gfs2_orlov_skip" alt="" coords="585,1070,699,1097"/>
<area shape="rect" id="node26" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="569,1729,715,1771"/>
<area shape="rect" id="node27" href="rgrp_8c.html#a4120935c3918ab5bcbb0bd4deaa561a4" title="fast_to_acquire" alt="" coords="587,1795,697,1822"/>
<area shape="rect" id="node28" href="rgrp_8c.html#a3702a1fd590d8d70a17a38ed135053d2" title="gfs2_rgrp_used_recently" alt="" coords="560,1846,724,1873"/>
<area shape="rect" id="node29" href="rgrp_8c.html#aadbfe4c64cfc942626be48133bb2300c" title="gfs2_rgrp_congested" alt="" coords="571,1273,713,1299"/>
<area shape="rect" id="node30" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="577,1323,707,1350"/>
<area shape="rect" id="node31" href="rgrp_8c.html#aba3f01d4b34680d6a2c588c478a706b1" title="update_rgrp_lvb" alt="" coords="585,1627,699,1654"/>
<area shape="rect" id="node32" href="rgrp_8c.html#a4144544a2fa2798453690e60583a1375" title="gfs2_rgrp_bh_get" alt="" coords="783,1653,905,1679"/>
<area shape="rect" id="node33" href="rgrp_8c.html#a51e50bd9af85a489323b2ef568caa65e" title="rg_mblk_search" alt="" coords="585,1947,699,1974"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ac527ba0d9bcfbaeafcc5eda982f2cdb2" title="try_rgrp_unlink" alt="" coords="589,1475,695,1502"/>
<area shape="rect" id="node35" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="587,2049,697,2075"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="391,209,475,235"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="389,411,477,438"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="393,259,472,286"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a6fa61deb3fa89e71cc5ea7b47544a522" title="gfs2_qa_delete" alt="" coords="377,1998,488,2025"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_icgraph" id="gfs2_2bmap_8h_a2564f5a24fe6b77f822b70aff7c53c3c_icgraph">
<area shape="rect" id="node2" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1165,68,1255,95"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="176,169,332,196"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1143,397,1277,424"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="380,43,501,69"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1151,220,1269,247"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="405,575,476,601"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1150,347,1270,373"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="385,93,496,120"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1343,220,1445,247"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1501,220,1648,247"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="553,1411,667,1437"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="567,828,653,855"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="732,575,863,601"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="549,473,671,500"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="748,1436,847,1463"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="719,1385,876,1412"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="740,1512,855,1539"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="947,1461,1062,1488"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="955,1512,1055,1539"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="949,1563,1060,1589"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="959,1613,1050,1640"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="945,1664,1065,1691"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="957,1715,1052,1741"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="931,1360,1079,1387"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="931,1411,1079,1437"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="729,1056,865,1083"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1133,955,1287,981"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1335,1132,1453,1159"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1335,929,1453,956"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="924,1056,1085,1083"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1159,1081,1261,1108"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="961,1259,1049,1285"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="941,752,1068,779"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="949,1005,1061,1032"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="958,1208,1051,1235"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1519,891,1630,917"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1163,701,1257,728"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1147,452,1273,479"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1167,505,1253,532"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1173,563,1247,589"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1161,625,1259,652"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="953,144,1057,171"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1175,803,1245,829"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="925,549,1084,576"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1364,452,1424,479"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="736,524,859,551"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="747,372,847,399"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="751,423,844,449"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="735,473,860,500"/>
</map>
</div>

</div>
</div>
<a id="a331a33f7fee55ff1b471c9effa059659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a331a33f7fee55ff1b471c9effa059659">&#9670;&nbsp;</a></span>gfs2_trim_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_trim_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_cgraph" id="gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="175,545,253,572"/>
<area shape="rect" id="node3" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="941,241,1007,268"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="303,545,387,572"/>
<area shape="rect" id="node20" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="482,849,593,876"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="301,1482,389,1509"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="498,494,577,521"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1124,1196,1205,1222"/>
<area shape="rect" id="node6" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="925,494,1023,521"/>
<area shape="rect" id="node7" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="705,874,827,901"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="685,1200,847,1226"/>
<area shape="rect" id="node15" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="693,1330,839,1357"/>
<area shape="rect" id="node21" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="693,292,839,318"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="459,165,615,192"/>
<area shape="rect" id="node26" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="719,722,813,749"/>
<area shape="rect" id="node27" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="707,672,825,698"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="457,646,617,673"/>
<area shape="rect" id="node29" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="711,773,821,800"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="919,849,1029,876"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="913,900,1035,926"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="908,1188,1040,1230"/>
<area shape="rect" id="node12" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="923,1137,1025,1164"/>
<area shape="rect" id="node13" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1121,1137,1208,1164"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1276,1137,1376,1164"/>
<area shape="rect" id="node16" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="923,1254,1025,1281"/>
<area shape="rect" id="node17" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="916,1305,1032,1332"/>
<area shape="rect" id="node18" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="909,1356,1039,1382"/>
<area shape="rect" id="node19" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="939,1406,1009,1433"/>
<area shape="rect" id="node23" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="692,140,840,166"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="707,38,825,65"/>
<area shape="rect" id="node25" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="703,444,829,470"/>
<area shape="rect" id="node31" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="496,1204,579,1230"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="485,1356,589,1382"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="477,1558,598,1585"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="473,1660,602,1686"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="1101,1086,1228,1113"/>
<area shape="rect" id="node36" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="470,1052,605,1078"/>
<area shape="rect" id="node37" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="694,1149,838,1176"/>
<area shape="rect" id="node38" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="479,1609,596,1636"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="701,1660,831,1686"/>
<area shape="rect" id="node40" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="437,1761,637,1788"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="468,1305,607,1332"/>
<area shape="rect" id="node42" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="691,1457,841,1484"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="495,1862,579,1889"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="481,1964,594,1990"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="482,2065,593,2092"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="469,1457,605,1484"/>
<area shape="rect" id="node47" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="907,1862,1041,1889"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="475,2116,600,2142"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="895,342,1053,369"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_icgraph" id="gfs2_2bmap_8h_a331a33f7fee55ff1b471c9effa059659_icgraph">
<area shape="rect" id="node2" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1149,93,1269,120"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="175,144,331,171"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1141,397,1276,424"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="379,195,500,221"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1150,245,1267,272"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="404,625,475,652"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="384,93,495,120"/>
<area shape="rect" id="node7" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1341,245,1444,272"/>
<area shape="rect" id="node8" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1500,245,1647,272"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="551,1487,666,1513"/>
<area shape="rect" id="node22" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="566,777,651,804"/>
<area shape="rect" id="node35" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="731,625,861,652"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="548,524,669,551"/>
<area shape="rect" id="node11" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="747,1563,845,1589"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="717,1461,875,1488"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="739,1512,853,1539"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="946,1512,1061,1539"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="953,1563,1053,1589"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="948,1613,1059,1640"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="958,1664,1049,1691"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="943,1715,1063,1741"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="956,1360,1051,1387"/>
<area shape="rect" id="node20" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="929,1411,1077,1437"/>
<area shape="rect" id="node21" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="929,1461,1077,1488"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="728,1107,864,1133"/>
<area shape="rect" id="node24" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="1132,1157,1285,1184"/>
<area shape="rect" id="node25" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1333,1056,1452,1083"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1334,1132,1451,1159"/>
<area shape="rect" id="node28" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="923,1157,1084,1184"/>
<area shape="rect" id="node29" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1158,1107,1259,1133"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="959,955,1047,981"/>
<area shape="rect" id="node31" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="940,499,1067,525"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="947,1056,1059,1083"/>
<area shape="rect" id="node34" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="957,1259,1050,1285"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1518,980,1629,1007"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1161,499,1256,525"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1145,552,1272,579"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1165,604,1252,631"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1171,657,1246,684"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1160,715,1257,741"/>
<area shape="rect" id="node42" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="951,347,1055,373"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1173,791,1244,817"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="924,549,1083,576"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1363,527,1423,553"/>
<area shape="rect" id="node38" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="1339,577,1446,604"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="735,575,857,601"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="746,423,846,449"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="749,473,843,500"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="733,524,859,551"/>
</map>
</div>

</div>
</div>
<a id="aa63fdaa0c472efdf4a6afa24d0297529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa63fdaa0c472efdf4a6afa24d0297529">&#9670;&nbsp;</a></span>gfs2_truncatei_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_truncatei_resume </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_cgraph" id="gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_cgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="208,637,296,664"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="405,1532,483,1558"/>
<area shape="rect" id="node3" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1013,1228,1094,1254"/>
<area shape="rect" id="node4" href="_2nfs4state_8c.html#a82448ecf37278a3a3db47b413529520b" title="end_offset" alt="" coords="403,156,485,182"/>
<area shape="rect" id="node5" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="392,206,496,233"/>
<area shape="rect" id="node6" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="592,502,753,529"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="383,257,505,284"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#a0794b8ad98df9ac5838ab1de70e902a2" title="metapointer_range" alt="" coords="379,308,509,334"/>
<area shape="rect" id="node15" href="gfs2_2bmap_8c.html#a66822528bfd14291df3516b166be21f9" title="gfs2_metapath_ra" alt="" coords="609,198,736,225"/>
<area shape="rect" id="node19" href="rgrp_8c.html#aef5032a16d152fb919810698810898d8" title="gfs2_rindex_update" alt="" coords="377,713,511,740"/>
<area shape="rect" id="node24" href="glock_8c.html#a7016b2f6e23ce5c74fb2b1cbc354ad1e" title="gfs2_glock_dq_uninit" alt="" coords="601,604,745,630"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#a79b93ee9aef0e94d36b06f4ac2147d29" title="gfs2_quota_hold" alt="" coords="385,1228,503,1254"/>
<area shape="rect" id="node28" href="gfs2_2quota_8c.html#af97f1b2503f638e24b9570ee0508da15" title="gfs2_quota_unhold" alt="" coords="607,1177,738,1204"/>
<area shape="rect" id="node29" href="glock_8h.html#a162c9b46f18e1d19ddd20801d197c670" title="gfs2_holder_mark_uninitialized" alt="" coords="344,662,544,689"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="375,873,513,900"/>
<area shape="rect" id="node31" href="glock_8h.html#acc7377b8e372b6e785470d77e85ba90b" title="gfs2_holder_initialized" alt="" coords="597,1076,748,1102"/>
<area shape="rect" id="node37" href="gfs2_2trans_8c.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="612,1430,733,1457"/>
<area shape="rect" id="node38" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="599,452,746,478"/>
<area shape="rect" id="node39" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="625,1481,720,1508"/>
<area shape="rect" id="node40" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="614,1582,731,1609"/>
<area shape="rect" id="node41" href="gfs2_2trans_8c.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="617,1126,728,1153"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#add6f8ed4ffa60627a4163f66e3a63349" title="walk_done" alt="" coords="402,409,486,436"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a34c0668dfbae7e60e4b1880469f99402" title="find_nonnull_ptr" alt="" coords="387,358,501,385"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a8b062a4d6de53ce15becc82d7b1a26f9" title="fillup_metapath" alt="" coords="389,105,499,132"/>
<area shape="rect" id="node45" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="376,510,512,537"/>
<area shape="rect" id="node46" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="813,1329,948,1356"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="381,54,507,81"/>
<area shape="rect" id="node7" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="815,567,947,608"/>
<area shape="rect" id="node8" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="830,490,931,517"/>
<area shape="rect" id="node9" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1008,408,1099,434"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="611,249,735,276"/>
<area shape="rect" id="node13" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="636,300,709,326"/>
<area shape="rect" id="node14" href="gfs2_2bmap_8c.html#a5033964b6f7e18b5c60a75d9334ed656" title="mp_eq_to_hgt" alt="" coords="621,350,725,377"/>
<area shape="rect" id="node16" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="805,173,956,200"/>
<area shape="rect" id="node17" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="839,224,922,250"/>
<area shape="rect" id="node18" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="831,389,931,416"/>
<area shape="rect" id="node20" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="639,401,706,428"/>
<area shape="rect" id="node21" href="glock_8h.html#a3cf7afd12f5f409d7290d5a2cc138bcb" title="gfs2_glock_is_locked\l_by_me" alt="" coords="599,655,746,696"/>
<area shape="rect" id="node22" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="607,721,738,748"/>
<area shape="rect" id="node23" href="rgrp_8c.html#a5c55d09a84b98a9fc2b416c1dd9e5b4f" title="gfs2_ri_update" alt="" coords="827,684,934,710"/>
<area shape="rect" id="node26" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="616,1278,729,1305"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#a72e93a6fd16488073645b77706c8c98d" title="qdsb_get" alt="" coords="635,1329,710,1356"/>
<area shape="rect" id="node32" href="glops_8c.html#ab6009ec007c0d3fb5f6b4386afd5cbd1" title="gfs2_glock2rgrp" alt="" coords="615,974,730,1001"/>
<area shape="rect" id="node33" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="603,1025,742,1052"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ad7e7313a0d9c9d1593ee168456b35857" title="gfs2_blk2rgrpd" alt="" coords="619,822,726,849"/>
<area shape="rect" id="node35" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="619,873,726,900"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a28862718a3960bb5028cc2f6c10c5edd" title="gfs2_rs_deltree" alt="" coords="617,924,728,950"/>
<area shape="rect" id="node49" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="599,1684,746,1710"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="801,1430,960,1457"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_icgraph" id="gfs2_2bmap_8h_aa63fdaa0c472efdf4a6afa24d0297529_icgraph">
<area shape="rect" id="node2" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="437,132,593,159"/>
<area shape="rect" id="node17" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="208,335,385,361"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1192,5,1327,32"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1018,81,1139,108"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1201,81,1318,108"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="681,259,752,285"/>
<area shape="rect" id="node12" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1199,183,1319,209"/>
<area shape="rect" id="node16" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="661,385,772,412"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1375,81,1477,108"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="844,284,959,311"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="859,183,944,209"/>
<area shape="rect" id="node10" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1013,183,1144,209"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="841,385,962,412"/>
<area shape="rect" id="node11" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1211,1668,1308,1695"/>
<area shape="rect" id="node14" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1017,639,1140,665"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="1032,385,1125,412"/>
<area shape="rect" id="node18" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="433,335,596,361"/>
<area shape="rect" id="node19" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="449,1212,580,1239"/>
<area shape="rect" id="node20" href="gfs2_2acl_8h.html#aa38073739fa52e6347a34397c617a68d" title="gfs2_get_acl" alt="" coords="669,1313,765,1340"/>
<area shape="rect" id="node21" href="gfs2_2acl_8h.html#a5de33f91ef3a8742fe1830fd400560f6" title="gfs2_set_acl" alt="" coords="669,1364,765,1391"/>
<area shape="rect" id="node22" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="644,1415,789,1441"/>
<area shape="rect" id="node23" href="gfs2_2xattr_8h.html#a53ed728d232c8bce08f17b3c749907f9" title="gfs2_listxattr" alt="" coords="668,1465,765,1492"/>
<area shape="rect" id="node24" href="gfs2_2xattr_8c.html#a2767c185bee834e20b396edf5061f0c1" title="gfs2_xattr_get" alt="" coords="664,1516,769,1543"/>
<area shape="rect" id="node25" href="gfs2_2xattr_8c.html#a9999ca4a191b7f54198ff9a1e833fe02" title="gfs2_xattr_set" alt="" coords="664,1567,769,1593"/>
<area shape="rect" id="node26" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="655,1617,778,1644"/>
<area shape="rect" id="node27" href="gfs2_2file_8c.html#aee16010b0c4e880b8bece4261d013181" title="gfs2_llseek" alt="" coords="857,1972,945,1999"/>
<area shape="rect" id="node28" href="gfs2_2file_8c.html#ad9e453cd1833dba44f74a9e6881f5935" title="gfs2_readdir" alt="" coords="670,1820,763,1847"/>
<area shape="rect" id="node29" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="837,1440,965,1467"/>
<area shape="rect" id="node30" href="gfs2_2file_8c.html#a73ee638af318fbfc6cb3428fd4ece1a0" title="gfs2_mmap" alt="" coords="671,2073,762,2100"/>
<area shape="rect" id="node31" href="gfs2_2file_8c.html#a0778acf6cca1875e50e404949a07614f" title="gfs2_open" alt="" coords="675,487,758,513"/>
<area shape="rect" id="node32" href="gfs2_2file_8c.html#a7636d57a8b0891bcb01d402d9cc1866a" title="gfs2_file_write_iter" alt="" coords="651,537,782,564"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#afe6fa3939fe2311a9d28d154d15ad0a5" title="gfs2_inode_lookup" alt="" coords="651,588,782,615"/>
<area shape="rect" id="node34" href="gfs2_2inode_8h.html#a9ec796b4da1b5db5af0a1a1080192d07" title="gfs2_lookupi" alt="" coords="854,1719,949,1745"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#aba571e267d5553124de4fca626f161c9" title="__gfs2_lookup" alt="" coords="1025,1795,1132,1821"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="653,639,781,665"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="846,1769,957,1796"/>
<area shape="rect" id="node38" href="gfs2_2inode_8h.html#aa1db2adbe7749ee7c41c907cdbadc92a" title="gfs2_permission" alt="" coords="658,1668,775,1695"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="671,689,762,716"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a747de25d8f40fabe2a8b4975df30a069" title="gfs2_getattr" alt="" coords="671,740,762,767"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#aaea5bddde47d091f6e012da6bc0fa397" title="gfs2_fiemap" alt="" coords="670,841,763,868"/>
<area shape="rect" id="node42" href="gfs2_2inode_8h.html#ab905cffb06dccd873d3dbc0e11f38447" title="gfs2_seek_data" alt="" coords="659,1972,774,1999"/>
<area shape="rect" id="node43" href="gfs2_2inode_8h.html#aff551f1652b48ec481b3a2f7da5e8c5e" title="gfs2_seek_hole" alt="" coords="660,2023,773,2049"/>
<area shape="rect" id="node44" href="gfs2_2super_8h.html#a109f406a58320724679b20663b96e26d" title="gfs2_make_fs_rw" alt="" coords="654,892,779,919"/>
<area shape="rect" id="node45" href="gfs2_2super_8h.html#a6307b8ec8775f741b641858b7ff93a25" title="gfs2_statfs_init" alt="" coords="661,943,772,969"/>
<area shape="rect" id="node46" href="gfs2_2super_8h.html#a14d22b00dab4b0e2289e41420df684fa" title="gfs2_statfs_sync" alt="" coords="840,639,963,665"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a1b4f6c816cfa8e7def39a68bf376ba0f" title="gfs2_lock_fs_check\l_clean" alt="" coords="647,994,786,1035"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a8f4bb0ccf572f73b364294ef5b126e10" title="gfs2_dirty_inode" alt="" coords="658,1060,775,1087"/>
<area shape="rect" id="node49" href="gfs2_2super_8h.html#aa3f642b735112020fdd5f47b9a458583" title="gfs2_freeze_func" alt="" coords="655,1161,778,1188"/>
<area shape="rect" id="node50" href="gfs2_2super_8c.html#a61977fe7a13e83ce5c3b37061b4ef7ca" title="gfs2_statfs_slow" alt="" coords="656,1212,777,1239"/>
</map>
</div>

</div>
</div>
<a id="ad0fa6c41a0efa993273ca30b3ecb4b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0fa6c41a0efa993273ca30b3ecb4b9d">&#9670;&nbsp;</a></span>gfs2_unstuff_dinode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_unstuff_dinode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph" id="gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_cgraph">
<area shape="rect" id="node2" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="231,5,317,32"/>
<area shape="rect" id="node3" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="617,563,778,589"/>
<area shape="rect" id="node5" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1061,233,1142,260"/>
<area shape="rect" id="node12" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="211,715,337,741"/>
<area shape="rect" id="node23" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="836,905,983,932"/>
<area shape="rect" id="node35" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="612,613,783,640"/>
<area shape="rect" id="node38" href="gfs2_2dir_8c.html#a31f4b74161a46f186764208ef553a341" title="gfs2_dir_get_new_buffer" alt="" coords="192,1241,356,1268"/>
<area shape="rect" id="node41" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="411,1463,557,1489"/>
<area shape="rect" id="node42" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="201,1343,347,1369"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="627,411,767,437"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="195,107,353,133"/>
<area shape="rect" id="node50" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="197,157,351,184"/>
<area shape="rect" id="node4" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="843,563,975,605"/>
<area shape="rect" id="node10" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="859,629,960,656"/>
<area shape="rect" id="node6" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1044,664,1159,691"/>
<area shape="rect" id="node7" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1219,689,1310,716"/>
<area shape="rect" id="node9" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1215,639,1315,665"/>
<area shape="rect" id="node8" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1363,588,1511,615"/>
<area shape="rect" id="node11" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1058,563,1145,589"/>
<area shape="rect" id="node13" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="415,715,553,741"/>
<area shape="rect" id="node14" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="644,816,751,843"/>
<area shape="rect" id="node18" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="432,1205,536,1232"/>
<area shape="rect" id="node21" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="843,1200,975,1227"/>
<area shape="rect" id="node22" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="635,1069,759,1096"/>
<area shape="rect" id="node30" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="404,968,564,995"/>
<area shape="rect" id="node31" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="451,816,517,843"/>
<area shape="rect" id="node32" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="433,867,535,893"/>
<area shape="rect" id="node33" href="rgrp_8c.html#a58412400fef200791f483703d0bcbdf2" title="gfs2_rgrp_ondisk2lvb" alt="" coords="411,461,557,488"/>
<area shape="rect" id="node34" href="gfs2_2super_8c.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="416,664,552,691"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#aecfe6f374542f17408a9f59c140edbb2" title="gfs2_quota_change" alt="" coords="630,335,765,361"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ad5587c13aadc54bd066cad52ed2feb2b" title="gfs2_rgrp_error" alt="" coords="429,512,539,539"/>
<area shape="rect" id="node15" href="rgrp_8h.html#ad049103565d82441715f024fe1fb90d8" title="rgrp_contains_block" alt="" coords="628,715,767,741"/>
<area shape="rect" id="node16" href="rgrp_8c.html#acd02e2f3930749f05f29e3d71c2875e1" title="gfs2_rbm_from_block" alt="" coords="836,997,983,1024"/>
<area shape="rect" id="node17" href="incore_8h.html#ada00f94956c6c2f5d11e1af4c38068ec" title="rbm_bi" alt="" coords="1071,1124,1132,1151"/>
<area shape="rect" id="node19" href="rgrp_8c.html#ae4d45f7f8bb24592e8ae111a221c31b6" title="gfs2_bitfit" alt="" coords="658,1237,737,1264"/>
<area shape="rect" id="node20" href="rgrp_8c.html#a83ef63418e36b209d851e9aa3b907ad8" title="gfs2_reservation_check\l_and_update" alt="" coords="617,1171,777,1213"/>
<area shape="rect" id="node28" href="rgrp_8c.html#a0baf59c658235489d2bfdf5eca3db4a3" title="gfs2_setbit" alt="" coords="866,1099,953,1125"/>
<area shape="rect" id="node29" href="rgrp_8c.html#aa03fe5cb24567d091c5d1720558aeb6f" title="gfs2_testbit" alt="" coords="864,1149,955,1176"/>
<area shape="rect" id="node24" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1050,765,1153,792"/>
<area shape="rect" id="node25" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1043,917,1159,944"/>
<area shape="rect" id="node26" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1036,816,1167,843"/>
<area shape="rect" id="node27" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1066,867,1137,893"/>
<area shape="rect" id="node39" href="meta__io_8c.html#a345c9d6c392fcdc903ce6dfa26f4a56f" title="gfs2_meta_new" alt="" coords="640,1389,755,1416"/>
<area shape="rect" id="node40" href="gfs2_2util_8h.html#a4bce60b6896701bc5e3ce7c71e9c9be5" title="gfs2_metatype_set" alt="" coords="417,1412,551,1439"/>
<area shape="rect" id="node44" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="831,309,988,336"/>
<area shape="rect" id="node45" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="1052,461,1151,488"/>
<area shape="rect" id="node46" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="848,360,971,387"/>
<area shape="rect" id="node47" href="gfs2_2inode_8h.html#a353d68510a5b95bd904a4a706ed82577" title="gfs2_is_writeback" alt="" coords="846,411,973,437"/>
<area shape="rect" id="node48" href="gfs2_2trans_8c.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="838,765,981,792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph" id="gfs2_2bmap_8h_ad0fa6c41a0efa993273ca30b3ecb4b9d_icgraph">
<area shape="rect" id="node2" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="368,119,503,145"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1704,435,1839,461"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="199,37,313,64"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#affcbbfb7179f0171210e1054502215f4" title="gfs2_adjust_quota" alt="" coords="192,853,320,880"/>
<area shape="rect" id="node38" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1711,612,1831,639"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1177,853,1248,880"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1500,853,1656,880"/>
<area shape="rect" id="node3" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="569,93,663,120"/>
<area shape="rect" id="node10" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="551,144,681,171"/>
<area shape="rect" id="node11" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="571,43,661,69"/>
<area shape="rect" id="node4" href="gfs2_2dir_8h.html#a91bf65f8fa960783b5f2f1ea69227a41" title="gfs2_dir_add" alt="" coords="974,144,1070,171"/>
<area shape="rect" id="node5" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1169,245,1256,272"/>
<area shape="rect" id="node7" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1175,144,1250,171"/>
<area shape="rect" id="node8" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1164,93,1261,120"/>
<area shape="rect" id="node6" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1324,245,1452,272"/>
<area shape="rect" id="node9" href="gfs2_2inode_8c.html#a65b8dddef202808a3558df265fe3e481" title="gfs2_rename2" alt="" coords="1336,93,1440,120"/>
<area shape="rect" id="node12" href="gfs2_2dir_8h.html#a79f50f721c6291b4244a76e1f5dcf0a6" title="gfs2_dir_exhash_dealloc" alt="" coords="729,43,895,69"/>
<area shape="rect" id="node13" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="962,43,1082,69"/>
<area shape="rect" id="node14" href="gfs2_2dir_8h.html#ae24470d78573580a612e8af307339708" title="gfs2_dir_no_add" alt="" coords="963,93,1081,120"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1887,752,2004,779"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2052,752,2155,779"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2203,752,2349,779"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="400,853,471,880"/>
<area shape="rect" id="node44" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1716,1107,1827,1133"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="559,853,673,880"/>
<area shape="rect" id="node31" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="573,625,659,652"/>
<area shape="rect" id="node33" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="747,625,877,652"/>
<area shape="rect" id="node46" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="555,1005,677,1032"/>
<area shape="rect" id="node23" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="763,803,861,829"/>
<area shape="rect" id="node24" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="733,853,891,880"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="755,904,869,931"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="965,1005,1079,1032"/>
<area shape="rect" id="node27" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="972,1056,1072,1083"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="967,1107,1077,1133"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="977,904,1067,931"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="962,955,1082,981"/>
<area shape="rect" id="node32" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="744,575,880,601"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1149,549,1276,576"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1165,397,1260,424"/>
<area shape="rect" id="node36" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1336,803,1440,829"/>
<area shape="rect" id="node39" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="967,701,1077,728"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="943,397,1101,424"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1533,803,1623,829"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1327,853,1449,880"/>
<area shape="rect" id="node43" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="1711,853,1832,880"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="751,1107,873,1133"/>
<area shape="rect" id="node48" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="762,955,862,981"/>
<area shape="rect" id="node49" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="765,1005,859,1032"/>
<area shape="rect" id="node50" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="749,1056,875,1083"/>
</map>
</div>

</div>
</div>
<a id="a387e01f7e9342482f871adac9a2f1f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387e01f7e9342482f871adac9a2f1f3e">&#9670;&nbsp;</a></span>gfs2_write_alloc_required()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_write_alloc_required </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_write_alloc_required - figure out if a write will require an allocation : the file being written to : the offset to write to : the number of bytes being written</p>
<p>Returns: 1 if an alloc is required, 0 otherwise </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_cgraph" id="gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1433,568,1514,594"/>
<area shape="rect" id="node3" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="606,112,717,138"/>
<area shape="rect" id="node4" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="388,10,545,37"/>
<area shape="rect" id="node5" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="619,213,704,240"/>
<area shape="rect" id="node6" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="223,162,340,189"/>
<area shape="rect" id="node7" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="821,314,888,341"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="403,492,530,518"/>
<area shape="rect" id="node9" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="593,264,729,290"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="619,720,704,746"/>
<area shape="rect" id="node11" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="980,770,1141,797"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="803,517,907,544"/>
<area shape="rect" id="node19" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="601,618,722,645"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="1015,517,1106,544"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="789,669,921,696"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="599,998,724,1025"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="612,416,711,442"/>
<area shape="rect" id="node27" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="600,948,723,974"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="623,466,700,493"/>
<area shape="rect" id="node12" href="meta__io_8h.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1209,786,1341,827"/>
<area shape="rect" id="node16" href="meta__io_8h.html#ab8866d08ed1d5e5f4b0c3def17f6f4ba" title="gfs2_meta_ra" alt="" coords="1224,852,1325,878"/>
<area shape="rect" id="node13" href="meta__io_8c.html#a4b60fb6bb09d7d4e0be1558658aa68df" title="gfs2_meta_read" alt="" coords="1416,793,1531,820"/>
<area shape="rect" id="node14" href="meta__io_8c.html#a4862fb182942040b78b05875e987fbe0" title="gfs2_getbuf" alt="" coords="1591,818,1682,845"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1587,894,1687,921"/>
<area shape="rect" id="node17" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="1430,894,1517,921"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#af626d08875f7fff74c410ef6e90ce5c8" title="__fillup_metapath" alt="" coords="793,618,917,645"/>
<area shape="rect" id="node23" href="meta__io_8c.html#a131fe2008e13ad7b5727d03de54cada7" title="gfs2_meta_indirect\l_buffer" alt="" coords="1209,720,1341,762"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#aafc7fdbd4059b2023c0de2b990f5b008" title="metaptr1" alt="" coords="1238,517,1311,544"/>
<area shape="rect" id="node28" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1201,1226,1348,1253"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#a7ef842b058cdf65eab0b96f96d10555b" title="metapath_branch_start" alt="" coords="777,872,932,898"/>
<area shape="rect" id="node34" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="791,1024,918,1050"/>
<area shape="rect" id="node43" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1189,1290,1360,1317"/>
<area shape="rect" id="node44" href="gfs2_2inode_8h.html#a8069c80fa697532030c46634d2348a2d" title="gfs2_is_jdata" alt="" coords="805,922,904,949"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#adfe5e08fc351829de1878ab952b17f02" title="gfs2_indirect_init" alt="" coords="795,1328,915,1354"/>
<area shape="rect" id="node46" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="987,1429,1134,1456"/>
<area shape="rect" id="node47" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="781,1429,928,1456"/>
<area shape="rect" id="node48" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1195,618,1354,645"/>
<area shape="rect" id="node49" href="gfs2_2inode_8h.html#af25735f150d091aa78e3f05037f48364" title="gfs2_dinode_out" alt="" coords="796,1480,913,1506"/>
<area shape="rect" id="node29" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="1422,1316,1525,1342"/>
<area shape="rect" id="node30" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="1415,1265,1531,1292"/>
<area shape="rect" id="node31" href="gfs2_2trans_8c.html#ace3fd41f765efa9fbbfd399cd74bf2de" title="gfs2_alloc_bufdata" alt="" coords="1408,1164,1539,1190"/>
<area shape="rect" id="node32" href="lops_8c.html#ac0f59c5f30ceb2e93c9c9e394d422c2f" title="gfs2_pin" alt="" coords="1438,1214,1509,1241"/>
<area shape="rect" id="node35" href="rgrp_8c.html#abbc5492d0421110132ed00b66363a8b7" title="gfs2_set_alloc_start" alt="" coords="991,872,1130,898"/>
<area shape="rect" id="node36" href="rgrp_8h.html#a080af10e67279fc46f168726a19191d1" title="gfs2_rs_active" alt="" coords="1221,902,1328,929"/>
<area shape="rect" id="node37" href="rgrp_8c.html#ac0a3f879c4592e40f2f356c886e676af" title="gfs2_rbm_find" alt="" coords="1009,973,1113,1000"/>
<area shape="rect" id="node38" href="rgrp_8c.html#a7d9c089fca4856de73882a52eaf8c5c4" title="gfs2_alloc_extent" alt="" coords="999,1176,1123,1202"/>
<area shape="rect" id="node39" href="incore_8h.html#a2415cade48e3029cb2552698e5e109ce" title="gfs2_rbm_to_block" alt="" coords="1209,1074,1341,1101"/>
<area shape="rect" id="node40" href="rgrp_8c.html#ae1261f1bb61daec4c3147fe0553d609d" title="gfs2_adjust_reservation" alt="" coords="981,922,1141,949"/>
<area shape="rect" id="node41" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="1027,1024,1094,1050"/>
<area shape="rect" id="node42" href="rgrp_8c.html#ab824f4b5d84b112f3f39ea914f92432a" title="gfs2_rgrp_out" alt="" coords="1010,1125,1111,1152"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_icgraph" id="gfs2_2bmap_8h_a387e01f7e9342482f871adac9a2f1f3e_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1235,252,1369,278"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1243,964,1361,990"/>
<area shape="rect" id="node6" href="gfs2_2super_8h.html#a629098176799691e4a88d49ee18adac0" title="gfs2_jdesc_check" alt="" coords="237,1192,364,1218"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1242,786,1362,813"/>
<area shape="rect" id="node35" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="461,672,531,698"/>
<area shape="rect" id="node48" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="441,1014,551,1041"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="223,888,379,914"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1417,964,1520,990"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1568,964,1715,990"/>
<area shape="rect" id="node7" href="gfs2_2super_8c.html#a1b4f6c816cfa8e7def39a68bf376ba0f" title="gfs2_lock_fs_check\l_clean" alt="" coords="427,1416,565,1458"/>
<area shape="rect" id="node9" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="437,1065,555,1092"/>
<area shape="rect" id="node23" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="849,1166,933,1193"/>
<area shape="rect" id="node26" href="recovery_8h.html#a694e7952cec81ece9ae29b217be8c836" title="gfs2_recover_func" alt="" coords="431,1318,561,1345"/>
<area shape="rect" id="node34" href="ops__fstype_8c.html#af14274fa86e1adb8f097a0e9512f8af6" title="check_journal_clean" alt="" coords="614,1166,754,1193"/>
<area shape="rect" id="node8" href="gfs2_2super_8c.html#a0f0cbdcd9e6989fbb21ef66a76ae45b4" title="gfs2_freeze" alt="" coords="639,1470,729,1497"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="641,697,727,724"/>
<area shape="rect" id="node11" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="823,913,959,940"/>
<area shape="rect" id="node12" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="826,584,957,610"/>
<area shape="rect" id="node13" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1239,432,1365,458"/>
<area shape="rect" id="node14" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1255,496,1349,522"/>
<area shape="rect" id="node15" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1259,604,1345,630"/>
<area shape="rect" id="node16" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1265,682,1339,709"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1253,308,1351,334"/>
<area shape="rect" id="node18" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1055,558,1159,585"/>
<area shape="rect" id="node20" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1052,609,1163,636"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1267,368,1337,394"/>
<area shape="rect" id="node22" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="1028,508,1187,534"/>
<area shape="rect" id="node24" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1065,1166,1149,1193"/>
<area shape="rect" id="node25" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1265,1166,1339,1193"/>
<area shape="rect" id="node27" href="ops__fstype_8c.html#a0a1a516458d25780b5d5c485ec671c18" title="gfs2_jindex_hold" alt="" coords="625,1268,743,1294"/>
<area shape="rect" id="node28" href="recovery_8h.html#a1aba8c6577196b77fa30054b89455572" title="gfs2_replay_incr_blk" alt="" coords="613,1318,755,1345"/>
<area shape="rect" id="node29" href="gfs2_2recovery_8c.html#a7700c051a64d506a6556b5a8f1200ed5" title="foreach_descriptor" alt="" coords="827,1420,956,1446"/>
<area shape="rect" id="node30" href="gfs2_2recovery_8c.html#aece44f5b840a4164271292380e3a7bba" title="clean_journal" alt="" coords="842,1369,941,1396"/>
<area shape="rect" id="node31" href="lops_8c.html#ace4c0a2710d0572aec439a9e4c8e7046" title="buf_lo_scan_elements" alt="" coords="815,1318,967,1345"/>
<area shape="rect" id="node32" href="lops_8c.html#adefd7d2f659de00d9a44aeb894a8acbc" title="revoke_lo_scan_elements" alt="" coords="805,1217,978,1244"/>
<area shape="rect" id="node33" href="lops_8c.html#ae978a4a96602c1a225dcea409bb50201" title="databuf_lo_scan_elements" alt="" coords="803,1268,980,1294"/>
<area shape="rect" id="node36" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="627,432,741,458"/>
<area shape="rect" id="node43" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="623,204,745,230"/>
<area shape="rect" id="node37" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="842,406,941,433"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="813,457,970,484"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="834,305,949,332"/>
<area shape="rect" id="node40" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1050,204,1165,230"/>
<area shape="rect" id="node41" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1057,102,1157,129"/>
<area shape="rect" id="node42" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1052,153,1163,180"/>
<area shape="rect" id="node44" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="830,153,953,180"/>
<area shape="rect" id="node45" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="841,204,941,230"/>
<area shape="rect" id="node46" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="845,254,938,281"/>
<area shape="rect" id="node47" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="829,102,954,129"/>
<area shape="rect" id="node50" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="435,964,557,990"/>
</map>
</div>

</div>
</div>
<a id="a8cc7e2d2d99ec1db0927080ea7908b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc7e2d2d99ec1db0927080ea7908b88">&#9670;&nbsp;</a></span>gfs2_write_calc_reserv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_write_calc_reserv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>data_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>ind_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_write_calc_reserv - calculate number of blocks needed to write to a file : the file : the number of bytes to be written to the file : returns the number of data blocks required : returns the number of indirect blocks required </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_cgraph.png" border="0" usemap="#gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_cgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_cgraph" id="gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="1317,1006,1398,1033"/>
<area shape="rect" id="node3" href="gfs2_2inode_8h.html#a454c1709e8ed953b63b9ddca7806b4b8" title="gfs2_is_dir" alt="" coords="893,1303,978,1330"/>
<area shape="rect" id="node4" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="659,442,797,469"/>
<area shape="rect" id="node16" href="gfs2_2bmap_8h.html#a475542cb17dc0489799e9c312376df0b" title="gfs2_block_map" alt="" coords="459,1050,576,1077"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8h.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="665,2139,791,2166"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8h.html#ae822e8135a4b06ff4ddba49db152acde" title="gfs2_extent_map" alt="" coords="235,1379,358,1406"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="456,873,579,899"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="236,1202,357,1229"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="651,1050,805,1077"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8h.html#a631cf74be1d8a0914060da66d38d4ba0" title="gfs2_file_dealloc" alt="" coords="237,1734,356,1761"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a387e01f7e9342482f871adac9a2f1f3e" title="gfs2_write_alloc_required" alt="" coords="212,1315,381,1342"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a72286a05925d882b2de9c25556f75ed4" title="gfs2_map_journal_extents" alt="" coords="209,1455,384,1482"/>
<area shape="rect" id="node49" href="gfs2_2bmap_8h.html#acb8dcd2c0d9cb0f93243a981a67a8d2e" title="gfs2_free_journal_extents" alt="" coords="211,1683,382,1710"/>
<area shape="rect" id="node50" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="661,1101,795,1127"/>
<area shape="rect" id="node5" href="meta__io_8h.html#a2ae1ebf87001e4fb39f04786abffa62f" title="gfs2_meta_inode_buffer" alt="" coords="1277,499,1438,526"/>
<area shape="rect" id="node6" href="rgrp_8c.html#ab86bc24653d64f59730321779d5877f4" title="gfs2_alloc_blocks" alt="" coords="1081,398,1208,425"/>
<area shape="rect" id="node7" href="gfs2_2trans_8c.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="1284,297,1431,323"/>
<area shape="rect" id="node8" href="gfs2_2trans_8c.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="1272,398,1443,425"/>
<area shape="rect" id="node9" href="gfs2_2dir_8c.html#a31f4b74161a46f186764208ef553a341" title="gfs2_dir_get_new_buffer" alt="" coords="853,119,1017,146"/>
<area shape="rect" id="node10" href="meta__io_8h.html#a6b800aefdb9d5ec73e6b119e7b6c93bd" title="gfs2_buffer_clear_tail" alt="" coords="1071,246,1218,273"/>
<area shape="rect" id="node11" href="meta__io_8h.html#abb69fbc700bc07cda0fd36cf9791d7b6" title="gfs2_buffer_copy_tail" alt="" coords="1071,955,1218,982"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="865,645,1005,671"/>
<area shape="rect" id="node14" href="gfs2_2inode_8h.html#a2247bd988540cb76222590fa1c6905a3" title="gfs2_add_inode_blocks" alt="" coords="1065,1107,1224,1134"/>
<area shape="rect" id="node15" href="gfs2_2inode_8h.html#acc7779f5d38cf2569d73cb19fc0d1ef0" title="gfs2_get_inode_blocks" alt="" coords="1067,550,1222,577"/>
<area shape="rect" id="node13" href="incore_8h.html#a4bbf16ba7f05b80feeb172affc99865f" title="gfs2_max_stuffed_size" alt="" coords="1066,854,1223,881"/>
<area shape="rect" id="node17" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="1111,1430,1178,1457"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#ada4c336682ce296954b4badcb373a46f" title="gfs2_iomap_begin" alt="" coords="665,1709,791,1735"/>
<area shape="rect" id="node19" href="gfs2_2inode_8h.html#ad43de17e8eea5a5e226c9a08463c0b30" title="gfs2_is_stuffed" alt="" coords="880,1253,991,1279"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8c.html#ac514a019a03262a83ec584b4a093fd50" title="gfs2_stuffed_iomap" alt="" coords="867,1607,1003,1634"/>
<area shape="rect" id="node21" href="gfs2_2bmap_8c.html#a9daa8c2311e5a2e27f612dde976a0edb" title="bmap_lock" alt="" coords="893,2013,978,2039"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a31c018e43337195f3b05b6ffb3e44d4b" title="find_metapath" alt="" coords="1093,1937,1197,1963"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#ad2c3ab1e7227cce8cd593bf4e9f5012e" title="lookup_metapath" alt="" coords="1084,1734,1205,1761"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#ae07bb1f762b6251a78373eb0f86a096f" title="metapointer" alt="" coords="1099,2190,1190,2217"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8c.html#aa8b3a928e1766685a0a9cd228fdb0668" title="gfs2_extent_length" alt="" coords="1079,1987,1211,2014"/>
<area shape="rect" id="node26" href="gfs2_2bmap_8c.html#a5ec905f163119e977127aa52dae7a634" title="release_metapath" alt="" coords="1082,1683,1207,1710"/>
<area shape="rect" id="node27" href="gfs2_2bmap_8c.html#ac94e03db9a8c7abd157a785a6fc6ae3e" title="bmap_unlock" alt="" coords="886,2063,985,2090"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a7b2abcf9f456544cc9e8cf40a04b7e4e" title="gfs2_iomap_alloc" alt="" coords="874,1810,997,1837"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8c.html#acd86373e635198d7c4d071eb45de04b4" title="hole_size" alt="" coords="897,2317,974,2343"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8c.html#a1a3f58bcd6348e7ebd84a4c42d87b1c1" title="gfs2_block_map" alt="" coords="459,1405,576,1431"/>
<area shape="rect" id="node34" href="attr_8c.html#a7827e769d8b5704301fc520df3edad83" title="inode_newsize_ok" alt="" coords="663,797,793,823"/>
<area shape="rect" id="node35" href="inode_8c.html#a1c16bda802e88520b0ac13fef62c8b16" title="inode_dio_wait" alt="" coords="674,847,782,874"/>
<area shape="rect" id="node36" href="rgrp_8c.html#a22f0d19a1ac1a32aa83f04c085a3090c" title="gfs2_rsqa_alloc" alt="" coords="671,695,785,722"/>
<area shape="rect" id="node37" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="693,898,763,925"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="689,1151,767,1178"/>
<area shape="rect" id="node41" href="rgrp_8c.html#ae6df94821ad96b999e5f8f78f2ab3140" title="gfs2_rsqa_delete" alt="" coords="667,746,789,773"/>
<area shape="rect" id="node39" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="891,1151,979,1178"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="896,493,975,519"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a395998b5b2aa31ba0cf788f2ebb0b69c" title="gfs2_add_jextent" alt="" coords="457,1557,578,1583"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#acb8dcd2c0d9cb0f93243a981a67a8d2e" title="gfs2_free_journal_extents" alt="" coords="432,1607,603,1634"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_icgraph.png" border="0" usemap="#gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_icgraph" alt=""/></div>
<map name="gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_icgraph" id="gfs2_2bmap_8h_a8cc7e2d2d99ec1db0927080ea7908b88_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="972,1517,1107,1544"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="209,605,331,632"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="981,251,1098,277"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="235,1239,305,1265"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="979,1568,1099,1595"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="215,1720,325,1747"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="1172,251,1275,277"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="1331,251,1477,277"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="382,403,497,429"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="397,985,482,1012"/>
<area shape="rect" id="node33" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="561,1239,692,1265"/>
<area shape="rect" id="node45" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="379,1340,500,1367"/>
<area shape="rect" id="node9" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="577,428,676,455"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="548,377,705,404"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="569,301,684,328"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="777,403,891,429"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="784,453,884,480"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="779,99,889,125"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="789,149,879,176"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="774,200,894,227"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="787,251,881,277"/>
<area shape="rect" id="node18" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="760,301,908,328"/>
<area shape="rect" id="node19" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="760,352,908,379"/>
<area shape="rect" id="node21" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="559,757,695,784"/>
<area shape="rect" id="node22" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="963,656,1116,683"/>
<area shape="rect" id="node23" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="1164,605,1283,632"/>
<area shape="rect" id="node24" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1165,820,1282,847"/>
<area shape="rect" id="node26" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="753,757,915,784"/>
<area shape="rect" id="node27" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="989,732,1090,759"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="790,605,878,632"/>
<area shape="rect" id="node29" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="771,1061,897,1088"/>
<area shape="rect" id="node31" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="778,808,890,835"/>
<area shape="rect" id="node32" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="787,859,881,885"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1349,915,1459,941"/>
<area shape="rect" id="node30" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="992,1112,1087,1139"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="976,1175,1103,1201"/>
<area shape="rect" id="node38" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="996,1239,1083,1265"/>
<area shape="rect" id="node39" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1002,1340,1077,1367"/>
<area shape="rect" id="node40" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="991,1416,1088,1443"/>
<area shape="rect" id="node41" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="782,1315,886,1341"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1004,1467,1075,1493"/>
<area shape="rect" id="node44" href="gfs2_2quota_8h.html#a9f22bf76694589a3a3c029b4691bdda2" title="gfs2_quota_lock_check" alt="" coords="755,1365,913,1392"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1193,1124,1253,1151"/>
<area shape="rect" id="node36" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="1170,1225,1277,1252"/>
<area shape="rect" id="node37" href="gfs2_2xattr_8c.html#afc59858cf4ea407d66877a34c85ff455" title="ea_set_i" alt="" coords="1369,1200,1439,1227"/>
<area shape="rect" id="node46" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="565,1391,688,1417"/>
<area shape="rect" id="node47" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="577,1441,677,1468"/>
<area shape="rect" id="node48" href="gfs2_2quota_8h.html#acc430e65b2ecabfafe54517bcd421c08" title="gfs2_quotad" alt="" coords="580,1289,673,1316"/>
<area shape="rect" id="node49" href="gfs2_2sys_8c.html#a444b59de49150d10314a752759d2cc6b" title="quota_sync_store" alt="" coords="564,1340,689,1367"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_41299403da4ddc3e223d1f20eb0b3a42.html">gfs2</a></li><li class="navelem"><a class="el" href="gfs2_2bmap_8h.html">bmap.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
