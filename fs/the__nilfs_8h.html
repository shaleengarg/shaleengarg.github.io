<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/the_nilfs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('the__nilfs_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">the_nilfs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/types.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/rbtree.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/blkdev.h&gt;</code><br />
<code>#include &lt;linux/backing-dev.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/refcount.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for the_nilfs.h:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h__incl.png" border="0" usemap="#nilfs2_2the__nilfs_8h" alt=""/></div>
<map name="nilfs2_2the__nilfs_8h" id="nilfs2_2the__nilfs_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h__dep__incl.png" border="0" usemap="#nilfs2_2the__nilfs_8hdep" alt=""/></div>
<map name="nilfs2_2the__nilfs_8hdep" id="nilfs2_2the__nilfs_8hdep">
<area shape="rect" id="node2" href="nilfs_8h.html" title="nilfs2/nilfs.h" alt="" coords="1579,80,1671,107"/>
<area shape="rect" id="node3" href="mdt_8h.html" title="nilfs2/mdt.h" alt="" coords="748,229,838,256"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html" title="nilfs2/bmap.c" alt="" coords="82,304,182,331"/>
<area shape="rect" id="node6" href="btnode_8c.html" title="nilfs2/btnode.c" alt="" coords="1252,304,1358,331"/>
<area shape="rect" id="node8" href="dat_8c.html" title="nilfs2/dat.c" alt="" coords="258,304,344,331"/>
<area shape="rect" id="node9" href="gcinode_8c.html" title="nilfs2/gcinode.c" alt="" coords="464,379,578,405"/>
<area shape="rect" id="node11" href="ifile_8c.html" title="nilfs2/ifile.c" alt="" coords="352,379,440,405"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html" title="nilfs2/inode.c" alt="" coords="1540,379,1638,405"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html" title="nilfs2/segment.c" alt="" coords="1135,379,1254,405"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html" title="nilfs2/super.c" alt="" coords="876,379,976,405"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html" title="nilfs2/ioctl.c" alt="" coords="1278,379,1370,405"/>
<area shape="rect" id="node17" href="nilfs2_2recovery_8c.html" title="nilfs2/recovery.c" alt="" coords="1803,379,1922,405"/>
<area shape="rect" id="node19" href="nilfs2_2sysfs_8c.html" title="nilfs2/sysfs.c" alt="" coords="227,379,327,405"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html" title="nilfs2/the_nilfs.c" alt="" coords="1662,379,1780,405"/>
<area shape="rect" id="node21" href="mdt_8c.html" title="nilfs2/mdt.c" alt="" coords="1946,379,2037,405"/>
<area shape="rect" id="node22" href="nilfs2_2page_8c.html" title="nilfs2/page.c" alt="" coords="1382,304,1478,331"/>
<area shape="rect" id="node23" href="page_8h.html" title="nilfs2/page.h" alt="" coords="1458,155,1554,181"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html" title="nilfs2/btree.c" alt="" coords="1671,229,1768,256"/>
<area shape="rect" id="node25" href="nilfs2_2dir_8c.html" title="nilfs2/dir.c" alt="" coords="1793,229,1876,256"/>
<area shape="rect" id="node26" href="nilfs2_2direct_8c.html" title="nilfs2/direct.c" alt="" coords="1900,229,2000,256"/>
<area shape="rect" id="node28" href="nilfs2_2file_8c.html" title="nilfs2/file.c" alt="" coords="2194,379,2280,405"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html" title="nilfs2/segment.h" alt="" coords="1706,304,1824,331"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html" title="nilfs2/namei.c" alt="" coords="2380,155,2483,181"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html" title="nilfs2/alloc.c" alt="" coords="746,304,840,331"/>
<area shape="rect" id="node7" href="cpfile_8c.html" title="nilfs2/cpfile.c" alt="" coords="572,304,670,331"/>
<area shape="rect" id="node10" href="ifile_8h.html" title="nilfs2/ifile.h" alt="" coords="865,304,953,331"/>
<area shape="rect" id="node15" href="sufile_8h.html" title="nilfs2/sufile.h" alt="" coords="1028,304,1126,331"/>
<area shape="rect" id="node18" href="sufile_8c.html" title="nilfs2/sufile.c" alt="" coords="668,379,766,405"/>
<area shape="rect" id="node27" href="segbuf_8c.html" title="nilfs2/segbuf.c" alt="" coords="1286,229,1393,256"/>
</map>
</div>
</div>
<p><a href="the__nilfs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structthe__nilfs.html">the_nilfs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__root.html">nilfs_root</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adc71d7a0816f5ee9c6ea804f04ab53f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#adc71d7a0816f5ee9c6ea804f04ab53f7">THE_NILFS_FNS</a>(bit,  <a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>)</td></tr>
<tr class="separator:adc71d7a0816f5ee9c6ea804f04ab53f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab724e8a0032605b466a25fe17bac0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a7ab724e8a0032605b466a25fe17bac0e">nilfs_clear_opt</a>(nilfs,  opt)&#160;&#160;&#160;((nilfs)-&gt;ns_mount_opt &amp;= ~NILFS_MOUNT_##opt)</td></tr>
<tr class="separator:a7ab724e8a0032605b466a25fe17bac0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6429644d3f3043ecb9cd782ff83b1c96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a6429644d3f3043ecb9cd782ff83b1c96">nilfs_set_opt</a>(nilfs,  opt)&#160;&#160;&#160;((nilfs)-&gt;ns_mount_opt |= NILFS_MOUNT_##opt)</td></tr>
<tr class="separator:a6429644d3f3043ecb9cd782ff83b1c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc815adb3f52ad7fa8610c43d69329f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a4fc815adb3f52ad7fa8610c43d69329f">nilfs_test_opt</a>(nilfs,  opt)&#160;&#160;&#160;((nilfs)-&gt;ns_mount_opt &amp; NILFS_MOUNT_##opt)</td></tr>
<tr class="separator:a4fc815adb3f52ad7fa8610c43d69329f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a3f88d1b6d3c63ab2183871d136aa6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a79a3f88d1b6d3c63ab2183871d136aa6">nilfs_write_opt</a>(nilfs,  <a class="el" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>,  opt)</td></tr>
<tr class="separator:a79a3f88d1b6d3c63ab2183871d136aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79711a1fdc1c765969e0449cf4471881"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a79711a1fdc1c765969e0449cf4471881">NILFS_CPTREE_CURRENT_CNO</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a79711a1fdc1c765969e0449cf4471881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827e26fda8c25ac0332089404fcdeffc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a827e26fda8c25ac0332089404fcdeffc">NILFS_SB_FREQ</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a827e26fda8c25ac0332089404fcdeffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa8ef16fb18d16276bf296bcd06a37be3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="the__nilfs_8h.html#aa8ef16fb18d16276bf296bcd06a37be3ad80657eddf26bde5e4f5a913c6b1e1de">THE_NILFS_INIT</a> = 0, 
<a class="el" href="the__nilfs_8h.html#aa8ef16fb18d16276bf296bcd06a37be3ab1b8dea85271b454463d315dec8e7794">THE_NILFS_DISCONTINUED</a>, 
<a class="el" href="the__nilfs_8h.html#aa8ef16fb18d16276bf296bcd06a37be3ad0f1c5e9205eccb477384b4d4ea469ac">THE_NILFS_GC_RUNNING</a>, 
<a class="el" href="the__nilfs_8h.html#aa8ef16fb18d16276bf296bcd06a37be3ab0c479310403092f3d278252eb560b24">THE_NILFS_SB_DIRTY</a>
 }</td></tr>
<tr class="separator:aa8ef16fb18d16276bf296bcd06a37be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9151c9e879ecd826e57e7a77e249a066"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a9151c9e879ecd826e57e7a77e249a066">nilfs_sb_need_update</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a9151c9e879ecd826e57e7a77e249a066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896212eecf4577d6ec6f424ce62622d3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3">nilfs_sb_will_flip</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a896212eecf4577d6ec6f424ce62622d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28235da04213613eb5e1e2ec707d8f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2">nilfs_set_last_segment</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *, sector_t, u64, __u64)</td></tr>
<tr class="separator:ac28235da04213613eb5e1e2ec707d8f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3198d9635e21797f660203341e355325"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325">alloc_nilfs</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:a3198d9635e21797f660203341e355325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad11cec54b661557ca62709026a72f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7">destroy_nilfs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:aaad11cec54b661557ca62709026a72f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6d8cc428f0a87bffff3afa1127664f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f">init_nilfs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, char *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a6b6d8cc428f0a87bffff3afa1127664f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf19b96bd4de0b4bc159d5f7ceca5b3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d">load_nilfs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:acf19b96bd4de0b4bc159d5f7ceca5b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bf85e7bb9022b3680b22d945d17f91"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91">nilfs_nrsvsegs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, unsigned long nsegs)</td></tr>
<tr class="separator:aa7bf85e7bb9022b3680b22d945d17f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38632ac69509070865038bf0120a1509"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509">nilfs_set_nsegments</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, unsigned long nsegs)</td></tr>
<tr class="separator:a38632ac69509070865038bf0120a1509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39939a13b918d4195e1e2edbdf614d40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40">nilfs_discard_segments</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *, __u64 *, size_t)</td></tr>
<tr class="separator:a39939a13b918d4195e1e2edbdf614d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d64c6b82e4107f17097d08e4f2b933b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b">nilfs_count_free_blocks</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *, sector_t *)</td></tr>
<tr class="separator:a6d64c6b82e4107f17097d08e4f2b933b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab515063d92ea4e8384e70d37bcaa46ff"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff">nilfs_lookup_root</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 cno)</td></tr>
<tr class="separator:ab515063d92ea4e8384e70d37bcaa46ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7deeda483b4076a9cdd1b09171f81445"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445">nilfs_find_or_create_root</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 cno)</td></tr>
<tr class="separator:a7deeda483b4076a9cdd1b09171f81445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cc4f3286a6c2bdf7626a4093351fd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a59cc4f3286a6c2bdf7626a4093351fd9">nilfs_put_root</a> (struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a59cc4f3286a6c2bdf7626a4093351fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90dd6a38fbbe4af1b07031036a6ee500"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a90dd6a38fbbe4af1b07031036a6ee500">nilfs_near_disk_full</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *)</td></tr>
<tr class="separator:a90dd6a38fbbe4af1b07031036a6ee500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7659acbf3f2fe3722694bfa4633fb75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#aa7659acbf3f2fe3722694bfa4633fb75">nilfs_fall_back_super_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *)</td></tr>
<tr class="separator:aa7659acbf3f2fe3722694bfa4633fb75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc41b5847eb3eeacab43d47c8aa744fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#adc41b5847eb3eeacab43d47c8aa744fa">nilfs_swap_super_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *)</td></tr>
<tr class="separator:adc41b5847eb3eeacab43d47c8aa744fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af5a977af148ee222180ae10226f487"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a4af5a977af148ee222180ae10226f487">nilfs_get_root</a> (struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a4af5a977af148ee222180ae10226f487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414a9e70465e7f8a25f7fbe3fec0031b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a414a9e70465e7f8a25f7fbe3fec0031b">nilfs_valid_fs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a414a9e70465e7f8a25f7fbe3fec0031b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc161eb6c4f6bad9212b67517b46a37"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37">nilfs_get_segment_range</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 segnum, sector_t *seg_start, sector_t *seg_end)</td></tr>
<tr class="separator:a0dc161eb6c4f6bad9212b67517b46a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eaeef6fdc47c7f32d69dc50faddad8e"><td class="memItemLeft" align="right" valign="top">static sector_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a2eaeef6fdc47c7f32d69dc50faddad8e">nilfs_get_segment_start_blocknr</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 segnum)</td></tr>
<tr class="separator:a2eaeef6fdc47c7f32d69dc50faddad8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe15a8b57f8ecf5e4777294c2f7303d"><td class="memItemLeft" align="right" valign="top">static __u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d">nilfs_get_segnum_of_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, sector_t blocknr)</td></tr>
<tr class="separator:acbe15a8b57f8ecf5e4777294c2f7303d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45205c72b751a5a68b64d428da9370ed"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a45205c72b751a5a68b64d428da9370ed">nilfs_terminate_segment</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, sector_t seg_start, sector_t seg_end)</td></tr>
<tr class="separator:a45205c72b751a5a68b64d428da9370ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf48222a83fa3d618b30972ec417a030"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030">nilfs_shift_to_next_segment</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:acf48222a83fa3d618b30972ec417a030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade82c185e7dd753033a0bc34b0a14bc9"><td class="memItemLeft" align="right" valign="top">static __u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#ade82c185e7dd753033a0bc34b0a14bc9">nilfs_last_cno</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:ade82c185e7dd753033a0bc34b0a14bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bb53199a62a87f269e03404136d00f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a51bb53199a62a87f269e03404136d00f">nilfs_segment_is_active</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 n)</td></tr>
<tr class="separator:a51bb53199a62a87f269e03404136d00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f2cf136125bb291f917d2741a2ecdec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8h.html#a8f2cf136125bb291f917d2741a2ecdec">nilfs_flush_device</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a8f2cf136125bb291f917d2741a2ecdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7ab724e8a0032605b466a25fe17bac0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab724e8a0032605b466a25fe17bac0e">&#9670;&nbsp;</a></span>nilfs_clear_opt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_clear_opt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nilfs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((nilfs)-&gt;ns_mount_opt &amp;= ~NILFS_MOUNT_##opt)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a79711a1fdc1c765969e0449cf4471881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79711a1fdc1c765969e0449cf4471881">&#9670;&nbsp;</a></span>NILFS_CPTREE_CURRENT_CNO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_CPTREE_CURRENT_CNO&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a827e26fda8c25ac0332089404fcdeffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827e26fda8c25ac0332089404fcdeffc">&#9670;&nbsp;</a></span>NILFS_SB_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SB_FREQ&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6429644d3f3043ecb9cd782ff83b1c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6429644d3f3043ecb9cd782ff83b1c96">&#9670;&nbsp;</a></span>nilfs_set_opt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_set_opt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nilfs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((nilfs)-&gt;ns_mount_opt |= NILFS_MOUNT_##opt)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fc815adb3f52ad7fa8610c43d69329f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc815adb3f52ad7fa8610c43d69329f">&#9670;&nbsp;</a></span>nilfs_test_opt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_test_opt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nilfs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((nilfs)-&gt;ns_mount_opt &amp; NILFS_MOUNT_##opt)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a79a3f88d1b6d3c63ab2183871d136aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a3f88d1b6d3c63ab2183871d136aa6">&#9670;&nbsp;</a></span>nilfs_write_opt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nilfs_write_opt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nilfs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((nilfs)-&gt;ns_mount_opt =                    \</div><div class="line">        (((nilfs)-&gt;ns_mount_opt &amp; ~NILFS_MOUNT_##<a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>) |    \</div><div class="line">         NILFS_MOUNT_##opt))                    \</div><div class="ttc" id="cifspdu_8h_html_a12b1ee8c5efcba4a2341cc1d49f58b71"><div class="ttname"><a href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a></div><div class="ttdeci">__u32 mask</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc71d7a0816f5ee9c6ea804f04ab53f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc71d7a0816f5ee9c6ea804f04ab53f7">&#9670;&nbsp;</a></span>THE_NILFS_FNS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THE_NILFS_FNS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bit, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> set_nilfs_##<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>(<span class="keyword">struct</span> <a class="code" href="structthe__nilfs.html">the_nilfs</a> *nilfs)        \</div><div class="line">{                                   \</div><div class="line">    set_bit(THE_NILFS_##bit, &amp;(nilfs)-&gt;ns_flags);           \</div><div class="line">}                                   \</div><div class="line">static <span class="keyword">inline</span> <span class="keywordtype">void</span> clear_nilfs_##<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>(<span class="keyword">struct</span> <a class="code" href="structthe__nilfs.html">the_nilfs</a> *nilfs)      \</div><div class="line">{                                   \</div><div class="line">    clear_bit(THE_NILFS_##bit, &amp;(nilfs)-&gt;ns_flags);         \</div><div class="line">}                                   \</div><div class="line">static <span class="keyword">inline</span> <span class="keywordtype">int</span> nilfs_##<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>(<span class="keyword">struct</span> <a class="code" href="structthe__nilfs.html">the_nilfs</a> *nilfs)         \</div><div class="line">{                                   \</div><div class="line">    return test_bit(THE_NILFS_##bit, &amp;(nilfs)-&gt;ns_flags);       \</div><div class="line">}</div><div class="ttc" id="structthe__nilfs_html"><div class="ttname"><a href="structthe__nilfs.html">the_nilfs</a></div><div class="ttdef"><b>Definition:</b> the_nilfs.h:103</div></div>
<div class="ttc" id="cifspdu_8h_html_a4a06ef9aaffd2c58a6d395fd433cde26"><div class="ttname"><a href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa8ef16fb18d16276bf296bcd06a37be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ef16fb18d16276bf296bcd06a37be3">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa8ef16fb18d16276bf296bcd06a37be3ad80657eddf26bde5e4f5a913c6b1e1de"></a>THE_NILFS_INIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa8ef16fb18d16276bf296bcd06a37be3ab1b8dea85271b454463d315dec8e7794"></a>THE_NILFS_DISCONTINUED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa8ef16fb18d16276bf296bcd06a37be3ad0f1c5e9205eccb477384b4d4ea469ac"></a>THE_NILFS_GC_RUNNING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa8ef16fb18d16276bf296bcd06a37be3ab0c479310403092f3d278252eb560b24"></a>THE_NILFS_SB_DIRTY&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3198d9635e21797f660203341e355325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3198d9635e21797f660203341e355325">&#9670;&nbsp;</a></span>alloc_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a>* alloc_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>alloc_nilfs - allocate a nilfs object : super block instance</p>
<p>Return Value: On success, pointer to <a class="el" href="structthe__nilfs.html">the_nilfs</a> is returned. On error, NULL is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a3198d9635e21797f660203341e355325_icgraph.png" border="0" usemap="#the__nilfs_8h_a3198d9635e21797f660203341e355325_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a3198d9635e21797f660203341e355325_icgraph" id="the__nilfs_8h_a3198d9635e21797f660203341e355325_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1707,308,1812,335"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="133,232,251,259"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1860,359,1949,385"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="328,308,427,335"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="299,257,456,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="508,257,656,284"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="513,370,651,411"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="504,316,660,343"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="708,156,887,183"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="973,156,1051,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1153,105,1273,132"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1367,105,1482,132"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1359,156,1490,183"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1565,156,1654,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1563,207,1655,233"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1560,55,1659,81"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1567,105,1652,132"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="728,383,867,409"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="947,386,1077,427"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1137,409,1289,436"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1375,409,1475,436"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1337,257,1512,284"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1571,257,1648,284"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="724,324,871,351"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="935,329,1089,356"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1158,359,1269,385"/>
</map>
</div>

</div>
</div>
<a id="aaad11cec54b661557ca62709026a72f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad11cec54b661557ca62709026a72f7">&#9670;&nbsp;</a></span>destroy_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>destroy_nilfs - destroy nilfs object : nilfs object to be released </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_cgraph.png" border="0" usemap="#the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_cgraph" alt=""/></div>
<map name="the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_cgraph" id="the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#ac1661c68bb700422ee697fbe56fa6077" title="nilfs_sysfs_delete\l_device_group" alt="" coords="149,5,276,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_icgraph.png" border="0" usemap="#the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_icgraph" alt=""/></div>
<map name="the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_icgraph" id="the__nilfs_8h_aaad11cec54b661557ca62709026a72f7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1174,144,1285,171"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1723,195,1828,221"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="149,119,267,145"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1876,271,1965,297"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="344,144,443,171"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="315,271,472,297"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="524,367,672,393"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="529,293,667,334"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="520,241,676,268"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="724,384,903,411"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="989,397,1067,424"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1169,448,1289,475"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1383,448,1498,475"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1375,397,1506,424"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1581,448,1670,475"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1579,499,1671,525"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1576,549,1675,576"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1583,397,1668,424"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="744,300,883,327"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="963,293,1093,334"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1153,296,1305,323"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1391,347,1491,373"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1353,245,1528,272"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1587,144,1664,171"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="740,241,887,268"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="951,241,1105,268"/>
</map>
</div>

</div>
</div>
<a id="a6b6d8cc428f0a87bffff3afa1127664f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6d8cc428f0a87bffff3afa1127664f">&#9670;&nbsp;</a></span>init_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>init_nilfs - initialize a NILFS instance. : <a class="el" href="structthe__nilfs.html">the_nilfs</a> structure : super block : mount options</p>
<p><a class="el" href="the__nilfs_8c.html#a6b6d8cc428f0a87bffff3afa1127664f">init_nilfs()</a> performs common initialization per block device (e.g. reading the super block, getting disk layout information, initializing shared fields in <a class="el" href="structthe__nilfs.html">the_nilfs</a>).</p>
<p>Return Value: On success, 0 is returned. On error, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_cgraph.png" border="0" usemap="#the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_cgraph" id="the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_cgraph">
<area shape="rect" id="node2" href="block__dev_8c.html#a4609eddf94630dd52695bed483952128" title="sb_min_blocksize" alt="" coords="138,259,265,285"/>
<area shape="rect" id="node3" href="block__dev_8c.html#a99c88b695576b1f18534d738442473cd" title="sb_set_blocksize" alt="" coords="349,208,471,235"/>
<area shape="rect" id="node13" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="124,433,279,460"/>
<area shape="rect" id="node17" href="the__nilfs_8c.html#a7fe98e87527e9147b95f7297f33a5ef9" title="nilfs_release_super\l_block" alt="" coords="343,513,477,554"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a560857e810c70125d485d11641b3c0c2" title="nilfs_store_magic_and\l_option" alt="" coords="125,559,277,601"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a9d331dc8ec752e1d74a637da2a496666" title="nilfs_check_feature\l_compatibility" alt="" coords="134,625,269,666"/>
<area shape="rect" id="node23" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="124,691,279,717"/>
<area shape="rect" id="node26" href="the__nilfs_8c.html#a508ade480e6c15d6e4eb69e60f5ef16a" title="nilfs_max_size" alt="" coords="147,741,256,768"/>
<area shape="rect" id="node27" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0" title="nilfs_store_log_cursor" alt="" coords="127,792,276,819"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a231c691132c8b9317086a17cfe0c14d8" title="nilfs_sysfs_create\l_device_group" alt="" coords="137,843,265,885"/>
<area shape="rect" id="node7" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="853,157,992,184"/>
<area shape="rect" id="node4" href="block__dev_8c.html#ad0a52f9e85426c68b7dd84acfd029875" title="set_blocksize" alt="" coords="543,132,646,159"/>
<area shape="rect" id="node5" href="block__dev_8c.html#aea79c1fb6c378e42eaadb870332355a5" title="sync_blockdev" alt="" coords="696,107,805,133"/>
<area shape="rect" id="node8" href="block__dev_8c.html#a429653607dbd7a1ed6e720416401a0b0" title="kill_bdev" alt="" coords="714,56,787,83"/>
<area shape="rect" id="node6" href="block__dev_8c.html#a3501e35ce465fe5f254e1f0420eef385" title="__sync_blockdev" alt="" coords="861,107,984,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#af8b15597acd224dfa04357309707cfd4" title="invalidate_bh_lrus" alt="" coords="859,56,986,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#a58f08838fd5b5a280918cfa9551bc921" title="has_bh_in_lru" alt="" coords="1075,5,1177,32"/>
<area shape="rect" id="node11" href="buffer_8c.html#ae42cb501946e9788971fc7a5011deac2" title="invalidate_bh_lru" alt="" coords="1067,56,1185,83"/>
<area shape="rect" id="node12" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1040,107,1212,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a40b62ad5e04cb348ddb8f9edf50a765a" title="nilfs_read_super_block" alt="" coords="333,360,487,387"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d" title="nilfs_valid_sb" alt="" coords="359,411,461,437"/>
<area shape="rect" id="node16" href="the__nilfs_8c.html#a6bf9ab796af0877e613972d42d084863" title="nilfs_sb2_bad_offset" alt="" coords="339,461,481,488"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="329,309,491,336"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5c45e6e5ab0745180bde1edbeeb328fa" title="nilfs_set_default_options" alt="" coords="327,629,493,656"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#aaeab43ad53047473bb2e7101890c5e45" title="parse_options" alt="" coords="359,579,461,605"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="339,691,481,717"/>
<area shape="rect" id="node25" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="541,691,648,717"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="339,785,481,826"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_icgraph.png" border="0" usemap="#the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_icgraph" id="the__nilfs_8h_a6b6d8cc428f0a87bffff3afa1127664f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1697,308,1803,335"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="124,232,241,259"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1851,359,1940,385"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="319,308,417,335"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="289,257,447,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="499,257,647,284"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="503,370,642,411"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="495,316,651,343"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="699,156,877,183"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="964,156,1041,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1144,105,1264,132"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1358,105,1473,132"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1350,156,1481,183"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1555,156,1645,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1554,207,1646,233"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1551,55,1649,81"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1557,105,1643,132"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="719,383,857,409"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="938,386,1067,427"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1128,409,1280,436"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1365,409,1465,436"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1328,257,1503,284"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1561,257,1639,284"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="715,324,861,351"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="925,329,1080,356"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1149,359,1259,385"/>
</map>
</div>

</div>
</div>
<a id="acf19b96bd4de0b4bc159d5f7ceca5b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf19b96bd4de0b4bc159d5f7ceca5b3d">&#9670;&nbsp;</a></span>load_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>load_nilfs - load and recover the nilfs : <a class="el" href="structthe__nilfs.html">the_nilfs</a> structure to be released : super block isntance used to recover past segment</p>
<p><a class="el" href="the__nilfs_8c.html#acf19b96bd4de0b4bc159d5f7ceca5b3d">load_nilfs()</a> searches and load the latest super root, attaches the last segment, and does recovery if needed. The caller must call this exclusively for simultaneous mounts. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph.png" border="0" usemap="#the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph" alt=""/></div>
<map name="the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph" id="the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a414a9e70465e7f8a25f7fbe3fec0031b" title="nilfs_valid_fs" alt="" coords="169,192,267,218"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a90140a5e806ed86807a685df437afd24" title="nilfs_init_recovery_info" alt="" coords="141,242,295,269"/>
<area shape="rect" id="node4" href="nilfs2_2recovery_8c.html#a0277d890503e30014aee9b37557917f9" title="nilfs_search_super_root" alt="" coords="355,394,515,421"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d" title="nilfs_valid_sb" alt="" coords="167,909,269,936"/>
<area shape="rect" id="node19" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0" title="nilfs_store_log_cursor" alt="" coords="143,293,293,320"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="145,858,291,885"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="876,808,919,834"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="131,344,305,370"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="149,1305,287,1332"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#af1c2aa5df0d1b266ae2b3007b945358b" title="nilfs_clear_recovery_info" alt="" coords="135,514,301,541"/>
<area shape="rect" id="node5" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="631,488,698,514"/>
<area shape="rect" id="node6" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="850,133,945,160"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="593,67,736,108"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="581,184,748,210"/>
<area shape="rect" id="node9" href="buffer_8c.html#ab4482139a712709454d9a9605818a27c" title="__breadahead" alt="" coords="613,386,716,413"/>
<area shape="rect" id="node12" href="nilfs2_2recovery_8c.html#a3d8c2c650ddfd797f123c53e2f374587" title="nilfs_read_log_header" alt="" coords="591,234,739,261"/>
<area shape="rect" id="node13" href="nilfs2_2recovery_8c.html#a91af8857a8fd8f38883fefccafaff570" title="nilfs_validate_log" alt="" coords="603,437,726,464"/>
<area shape="rect" id="node15" href="nilfs2_2recovery_8c.html#a5a719edb6aac97b7519bc1a0190548ec" title="nilfs_dispose_segment_list" alt="" coords="575,538,754,565"/>
<area shape="rect" id="node16" href="nilfs2_2recovery_8c.html#a84b5fcfc15ade4d11a4ca915643bcb8a" title="nilfs_segment_list_add" alt="" coords="587,285,742,312"/>
<area shape="rect" id="node17" href="nilfs2_2recovery_8c.html#a109c59b06bae1b29692af69694c5ab03" title="nilfs_warn_segment\l_error" alt="" coords="595,590,734,631"/>
<area shape="rect" id="node10" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="854,412,941,438"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1031,386,1169,413"/>
<area shape="rect" id="node14" href="nilfs2_2recovery_8c.html#a259060e9360fc15d85d67af63a41b28b" title="nilfs_compute_checksum" alt="" coords="812,546,983,573"/>
<area shape="rect" id="node21" href="nilfs2_2recovery_8c.html#a1f396e9debfefa7181d7e1f5b8b57a05" title="nilfs_read_super_root\l_block" alt="" coords="362,590,509,631"/>
<area shape="rect" id="node22" href="dat_8c.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="384,1052,487,1078"/>
<area shape="rect" id="node35" href="cpfile_8c.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="377,1178,493,1205"/>
<area shape="rect" id="node36" href="sufile_8c.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="377,1229,493,1256"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="605,1280,724,1306"/>
<area shape="rect" id="node24" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="615,1330,714,1357"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842" title="nilfs_palloc_init_blockgroup" alt="" coords="574,1026,755,1053"/>
<area shape="rect" id="node26" href="dat_8c.html#a234f85bcb51231903d007ece17b912f8" title="NILFS_DAT_I" alt="" coords="612,858,717,885"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b" title="nilfs_palloc_setup\l_cache" alt="" coords="601,910,728,951"/>
<area shape="rect" id="node28" href="mdt_8c.html#af086b786e77eaa33878204ec7e161bb3" title="nilfs_mdt_setup_shadow_map" alt="" coords="565,976,764,1002"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="578,1229,751,1256"/>
<area shape="rect" id="node30" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="833,1128,962,1154"/>
<area shape="rect" id="node32" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="624,1128,705,1154"/>
<area shape="rect" id="node31" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1031,993,1169,1020"/>
<area shape="rect" id="node34" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1063,808,1137,834"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a4d4b07670f241b39a170aea4c12dbd91" title="nilfs_attach_checkpoint" alt="" coords="356,656,515,682"/>
<area shape="rect" id="node39" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="615,706,715,733"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="365,222,506,249"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="359,278,512,319"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="359,68,511,94"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="587,16,742,42"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="353,344,517,370"/>
<area shape="rect" id="node45" href="nilfs2_2recovery_8c.html#a45afe93f318383d5ed3381fa68650a8c" title="nilfs_finish_roll_forward" alt="" coords="356,170,515,197"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="368,1280,503,1306"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#a6cb8ff08bb40fc6f664e18570efacb50" title="nilfs_set_log_cursor" alt="" coords="366,1330,505,1357"/>
<area shape="rect" id="node49" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="368,1381,503,1408"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph.png" border="0" usemap="#the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph" alt=""/></div>
<map name="the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph" id="the__nilfs_8h_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1369,196,1475,223"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="131,229,248,256"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1562,233,1651,260"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="325,204,424,231"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="296,255,453,281"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="505,196,653,223"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="510,247,649,289"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="501,313,657,340"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="705,196,884,223"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="971,95,1048,121"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1151,95,1271,121"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1365,95,1479,121"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1357,44,1487,71"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1562,107,1651,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1561,157,1653,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1557,5,1656,32"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1564,56,1649,83"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="725,251,864,277"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="945,241,1074,282"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1135,247,1287,273"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1372,247,1472,273"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1335,399,1509,425"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="721,309,868,336"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="932,308,1087,335"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1155,348,1266,375"/>
</map>
</div>

</div>
</div>
<a id="a6d64c6b82e4107f17097d08e4f2b933b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d64c6b82e4107f17097d08e4f2b933b">&#9670;&nbsp;</a></span>nilfs_count_free_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_count_free_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_cgraph.png" border="0" usemap="#the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_cgraph" id="the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="581,5,677,32"/>
<area shape="rect" id="node3" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="212,31,395,57"/>
<area shape="rect" id="node4" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="443,31,533,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_icgraph.png" border="0" usemap="#the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_icgraph" id="the__nilfs_8h_a6d64c6b82e4107f17097d08e4f2b933b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a6cb8ff08bb40fc6f664e18570efacb50" title="nilfs_set_log_cursor" alt="" coords="236,183,375,209"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="770,284,887,311"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="262,309,349,336"/>
<area shape="rect" id="node34" href="nilfs2_2sysfs_8c.html#af7c911663115a102ca0afffeb63820ec" title="nilfs_dev_free_blocks_show" alt="" coords="212,360,399,387"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="447,452,584,479"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="965,233,1064,260"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="936,284,1093,311"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="462,81,569,108"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1795,452,1906,479"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#afddf1bc2d6f6a65d34f58c1ab8a363bd" title="nilfs_freeze" alt="" coords="632,503,721,529"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2012,401,2112,428"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="638,343,715,369"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2202,351,2291,377"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2009,275,2115,301"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1145,233,1293,260"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1150,285,1289,326"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1141,351,1297,377"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1345,132,1524,159"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1611,107,1688,133"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1791,81,1911,108"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2005,81,2119,108"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1997,132,2127,159"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2202,56,2291,83"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2201,107,2293,133"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2197,157,2296,184"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2204,5,2289,32"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1365,292,1504,319"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1585,285,1714,326"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1775,300,1927,327"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1975,351,2149,377"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1361,351,1508,377"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1572,351,1727,377"/>
<area shape="rect" id="node32" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="769,81,888,108"/>
</map>
</div>

</div>
</div>
<a id="a39939a13b918d4195e1e2edbdf614d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39939a13b918d4195e1e2edbdf614d40">&#9670;&nbsp;</a></span>nilfs_discard_segments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_discard_segments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_cgraph.png" border="0" usemap="#the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_cgraph" id="the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_cgraph">
<area shape="rect" id="node2" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="262,5,329,32"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="212,56,379,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_icgraph.png" border="0" usemap="#the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_icgraph" id="the__nilfs_8h_a39939a13b918d4195e1e2edbdf614d40_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="587,161,735,188"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="212,237,329,264"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="787,151,965,177"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1052,144,1129,171"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1232,93,1352,120"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1446,93,1561,120"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1438,144,1569,171"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1643,5,1733,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1642,56,1734,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1639,107,1737,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1645,157,1731,184"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="407,212,505,239"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="377,263,535,289"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="591,234,730,275"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="583,300,739,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="807,241,945,268"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1026,234,1155,275"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1216,245,1368,272"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1785,335,1891,361"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1453,233,1553,260"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1416,335,1591,361"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1939,309,2028,336"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1649,448,1727,475"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="803,300,949,327"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1013,300,1168,327"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1237,347,1347,373"/>
</map>
</div>

</div>
</div>
<a id="aa7659acbf3f2fe3722694bfa4633fb75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7659acbf3f2fe3722694bfa4633fb75">&#9670;&nbsp;</a></span>nilfs_fall_back_super_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_fall_back_super_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_aa7659acbf3f2fe3722694bfa4633fb75_icgraph.png" border="0" usemap="#the__nilfs_8h_aa7659acbf3f2fe3722694bfa4633fb75_icgraph" alt=""/></div>
<map name="the__nilfs_8h_aa7659acbf3f2fe3722694bfa4633fb75_icgraph" id="the__nilfs_8h_aa7659acbf3f2fe3722694bfa4633fb75_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="197,720,317,747"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="889,796,1006,823"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="365,695,500,721"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="565,543,669,569"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="548,897,685,924"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1084,695,1183,721"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1055,839,1212,865"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="733,593,840,620"/>
<area shape="rect" id="node49" href="nilfs2_2super_8c.html#ad1bd93bfa62ef944a263d390b0a5cfe0" title="nilfs_setup_super" alt="" coords="1911,695,2035,721"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="901,413,994,440"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1271,251,1405,293"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1479,361,1627,402"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a2db2c217075b59d70517b64fd3ce2337" title="nilfs_bmap_lookup_contig" alt="" coords="1467,427,1639,453"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1491,477,1615,504"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="1479,5,1627,32"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1483,56,1624,83"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="1490,107,1617,133"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="1484,259,1623,285"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a4e4d1e3c6c00e6c90ef028015ab36b42" title="nilfs_bmap_propagate" alt="" coords="1479,157,1628,184"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#ab86d5dcef542a000d11ba96af676b5f0" title="nilfs_bmap_assign" alt="" coords="1488,208,1619,235"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8h.html#aee687b837e89608c14c2697b08fa2a71" title="nilfs_bmap_mark" alt="" coords="1493,309,1614,336"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="1709,361,1831,402"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1691,243,1849,285"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1705,309,1835,336"/>
<area shape="rect" id="node12" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1715,477,1825,504"/>
<area shape="rect" id="node14" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="1724,427,1816,453"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1913,477,2033,504"/>
<area shape="rect" id="node16" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1697,529,1843,570"/>
<area shape="rect" id="node18" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1699,5,1841,32"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1701,124,1839,151"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1918,948,2029,975"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#afddf1bc2d6f6a65d34f58c1ab8a363bd" title="nilfs_freeze" alt="" coords="742,897,831,924"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2135,796,2235,823"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="748,999,825,1025"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2320,821,2409,848"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2132,847,2237,873"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1264,619,1412,645"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1269,831,1407,873"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1260,897,1416,924"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1464,619,1643,645"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1731,619,1809,645"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1484,839,1623,865"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1705,831,1835,873"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1897,847,2049,873"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2097,1049,2272,1076"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1480,897,1627,924"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1693,897,1847,924"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="888,581,1007,608"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a76497fa0cac9d156c73b94dd615621cd" title="nilfs_unfreeze" alt="" coords="2133,695,2236,721"/>
</map>
</div>

</div>
</div>
<a id="a7deeda483b4076a9cdd1b09171f81445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7deeda483b4076a9cdd1b09171f81445">&#9670;&nbsp;</a></span>nilfs_find_or_create_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnilfs__root.html">nilfs_root</a>* nilfs_find_or_create_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_cgraph.png" border="0" usemap="#the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_cgraph" id="the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="221,5,341,32"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a5b852f45dfb6467814b578dd4c30ac2d" title="nilfs_sysfs_create\l_snapshot_group" alt="" coords="217,57,345,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_icgraph.png" border="0" usemap="#the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_icgraph" id="the__nilfs_8h_a7deeda483b4076a9cdd1b09171f81445_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="217,419,376,445"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="844,241,961,268"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="647,495,796,521"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2061,343,2166,369"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="424,368,599,395"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2231,343,2321,369"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="683,292,760,319"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1039,191,1137,217"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1009,241,1167,268"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1219,124,1367,151"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1223,175,1362,217"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1215,241,1371,268"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1419,124,1597,151"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1684,124,1761,151"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1864,81,1984,108"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2056,81,2171,108"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2048,132,2179,159"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2231,107,2321,133"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2230,157,2322,184"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2227,5,2325,32"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2233,56,2319,83"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1439,187,1577,213"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1658,182,1787,223"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1848,191,2000,217"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2063,241,2163,268"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1435,241,1581,268"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1645,343,1800,369"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1869,343,1979,369"/>
</map>
</div>

</div>
</div>
<a id="a8f2cf136125bb291f917d2741a2ecdec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f2cf136125bb291f917d2741a2ecdec">&#9670;&nbsp;</a></span>nilfs_flush_device()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_flush_device </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a8f2cf136125bb291f917d2741a2ecdec_icgraph.png" border="0" usemap="#the__nilfs_8h_a8f2cf136125bb291f917d2741a2ecdec_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a8f2cf136125bb291f917d2741a2ecdec_icgraph" id="the__nilfs_8h_a8f2cf136125bb291f917d2741a2ecdec_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="180,157,285,184"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="183,208,282,235"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a88f66d269c57dae4d6eaf9eae22016b9" title="nilfs_ioctl_sync" alt="" coords="337,259,449,285"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="333,157,453,184"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="509,107,624,133"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="501,157,632,184"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="685,5,774,32"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="683,56,775,83"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="680,107,779,133"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="687,157,772,184"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="691,232,768,259"/>
</map>
</div>

</div>
</div>
<a id="a4af5a977af148ee222180ae10226f487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af5a977af148ee222180ae10226f487">&#9670;&nbsp;</a></span>nilfs_get_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_get_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a4af5a977af148ee222180ae10226f487_icgraph.png" border="0" usemap="#the__nilfs_8h_a4af5a977af148ee222180ae10226f487_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a4af5a977af148ee222180ae10226f487_icgraph" id="the__nilfs_8h_a4af5a977af148ee222180ae10226f487_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ab596c6b27b262ff881fb811a5d25990a" title="nilfs_iget_set" alt="" coords="167,424,266,451"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="153,117,280,144"/>
<area shape="rect" id="node3" href="nilfs_8h.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="328,424,447,451"/>
<area shape="rect" id="node45" href="nilfs_8h.html#ad35645870060c9d83e6c1ca96a402675" title="nilfs_iget_for_gc" alt="" coords="1092,925,1209,952"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1113,224,1188,251"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1285,799,1405,825"/>
<area shape="rect" id="node26" href="cpfile_8h.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="495,449,611,476"/>
<area shape="rect" id="node28" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="501,399,604,425"/>
<area shape="rect" id="node29" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="500,211,605,237"/>
<area shape="rect" id="node35" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="495,535,611,561"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1491,312,1634,339"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1299,144,1390,171"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1287,195,1402,221"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1287,93,1402,120"/>
<area shape="rect" id="node14" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1275,246,1414,287"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1713,275,1862,301"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2071,173,2176,200"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2224,123,2313,149"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1500,173,1625,200"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1500,123,1625,149"/>
<area shape="rect" id="node15" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1492,224,1633,251"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1700,224,1875,251"/>
<area shape="rect" id="node17" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1934,224,2011,251"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1505,773,1620,800"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1497,824,1628,851"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1743,773,1832,800"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1741,824,1833,851"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1738,672,1837,699"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1745,723,1830,749"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1749,899,1826,925"/>
<area shape="rect" id="node27" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="676,424,821,451"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="1483,72,1642,99"/>
<area shape="rect" id="node31" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="670,211,827,237"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="897,160,1027,187"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1085,452,1216,479"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="889,211,1035,237"/>
<area shape="rect" id="node36" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="659,605,839,632"/>
<area shape="rect" id="node37" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="893,656,1031,683"/>
<area shape="rect" id="node38" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="897,707,1027,733"/>
<area shape="rect" id="node39" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="891,758,1033,799"/>
<area shape="rect" id="node40" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="903,824,1021,851"/>
<area shape="rect" id="node41" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="893,413,1031,440"/>
<area shape="rect" id="node42" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="893,465,1031,506"/>
<area shape="rect" id="node43" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="1087,543,1214,569"/>
<area shape="rect" id="node44" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="887,605,1037,632"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#a30a0a343bac14fc5cf5591ee64c4830b" title="nilfs_ioctl_move_blocks" alt="" coords="1264,925,1425,952"/>
<area shape="rect" id="node47" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1473,925,1652,952"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1487,21,1639,48"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1923,21,2023,48"/>
</map>
</div>

</div>
</div>
<a id="a0dc161eb6c4f6bad9212b67517b46a37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc161eb6c4f6bad9212b67517b46a37">&#9670;&nbsp;</a></span>nilfs_get_segment_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_get_segment_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>segnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t *&#160;</td>
          <td class="paramname"><em>seg_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t *&#160;</td>
          <td class="paramname"><em>seg_end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a0dc161eb6c4f6bad9212b67517b46a37_icgraph.png" border="0" usemap="#the__nilfs_8h_a0dc161eb6c4f6bad9212b67517b46a37_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a0dc161eb6c4f6bad9212b67517b46a37_icgraph" id="the__nilfs_8h_a0dc161eb6c4f6bad9212b67517b46a37_icgraph">
<area shape="rect" id="node2" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="447,768,589,795"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#ac35601ebb220d6cce77c5513d0c5ff9a" title="nilfs_search_super_root" alt="" coords="220,819,380,845"/>
<area shape="rect" id="node17" href="segbuf_8h.html#ab9baadb07ea0d7a0e21f94cb5f85e1cc" title="nilfs_segbuf_map" alt="" coords="864,717,988,744"/>
<area shape="rect" id="node26" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="235,317,365,344"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="1479,740,1638,767"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1247,673,1421,700"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1520,673,1597,700"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1735,639,1841,665"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1729,689,1847,716"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1962,639,2051,665"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1957,689,2056,716"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1928,555,2085,581"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2137,613,2285,640"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2142,547,2281,589"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2133,496,2289,523"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2337,537,2516,564"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2564,276,2641,303"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2689,315,2809,341"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1055,653,1189,694"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1051,522,1193,563"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1469,524,1648,551"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1713,441,1863,482"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1696,573,1880,614"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2374,367,2479,393"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1949,448,2065,475"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1263,524,1405,551"/>
<area shape="rect" id="node27" href="nilfs2_2ioctl_8c.html#a8913a80e32e55bd55c20461949a3e6b6" title="nilfs_ioctl_trim_fs" alt="" coords="456,129,580,156"/>
<area shape="rect" id="node28" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="428,317,608,344"/>
<area shape="rect" id="node29" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="663,451,800,477"/>
<area shape="rect" id="node32" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="666,576,797,603"/>
<area shape="rect" id="node37" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="660,89,803,130"/>
<area shape="rect" id="node40" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="867,515,985,541"/>
<area shape="rect" id="node41" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="662,208,801,235"/>
<area shape="rect" id="node44" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="662,310,801,351"/>
<area shape="rect" id="node45" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="863,363,989,389"/>
<area shape="rect" id="node46" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="656,259,807,285"/>
<area shape="rect" id="node48" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="673,157,789,184"/>
<area shape="rect" id="node30" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="866,413,986,440"/>
<area shape="rect" id="node31" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1057,457,1187,498"/>
<area shape="rect" id="node33" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="865,616,987,643"/>
<area shape="rect" id="node35" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="869,565,983,592"/>
<area shape="rect" id="node36" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="855,667,997,693"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1045,587,1199,629"/>
<area shape="rect" id="node38" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1069,203,1175,229"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1266,61,1402,102"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="2354,261,2499,288"/>
<area shape="rect" id="node43" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="855,195,997,237"/>
<area shape="rect" id="node47" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1273,313,1395,354"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1261,177,1407,204"/>
</map>
</div>

</div>
</div>
<a id="a2eaeef6fdc47c7f32d69dc50faddad8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eaeef6fdc47c7f32d69dc50faddad8e">&#9670;&nbsp;</a></span>nilfs_get_segment_start_blocknr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static sector_t nilfs_get_segment_start_blocknr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>segnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a2eaeef6fdc47c7f32d69dc50faddad8e_icgraph.png" border="0" usemap="#the__nilfs_8h_a2eaeef6fdc47c7f32d69dc50faddad8e_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a2eaeef6fdc47c7f32d69dc50faddad8e_icgraph" id="the__nilfs_8h_a2eaeef6fdc47c7f32d69dc50faddad8e_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#aea699cf493d75c5d8ca6e7f5f1457d1d" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="215,345,364,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="606,315,741,357"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="412,374,555,415"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="792,352,971,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1646,286,1795,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1437,411,1595,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1019,345,1203,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1867,200,1973,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1862,301,1978,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2071,149,2191,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2287,107,2401,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2279,208,2409,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2511,157,2600,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2509,5,2601,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2506,56,2605,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2513,107,2598,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2517,232,2594,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1647,352,1795,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1651,403,1790,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1643,469,1799,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2041,352,2220,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1851,411,1989,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2066,403,2195,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2268,411,2420,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2822,436,2927,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2505,512,2605,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2468,461,2643,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2986,499,3075,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2691,461,2768,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2816,575,2933,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2981,575,3080,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1847,469,1993,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2053,469,2208,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2289,563,2399,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1251,185,1389,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1442,352,1590,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1447,149,1585,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1671,99,1771,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1661,149,1780,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1861,251,1979,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1875,99,1965,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2071,235,2190,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2061,286,2200,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2273,309,2415,336"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="603,381,744,408"/>
</map>
</div>

</div>
</div>
<a id="acbe15a8b57f8ecf5e4777294c2f7303d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe15a8b57f8ecf5e4777294c2f7303d">&#9670;&nbsp;</a></span>nilfs_get_segnum_of_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __u64 nilfs_get_segnum_of_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>blocknr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_acbe15a8b57f8ecf5e4777294c2f7303d_icgraph.png" border="0" usemap="#the__nilfs_8h_acbe15a8b57f8ecf5e4777294c2f7303d_icgraph" alt=""/></div>
<map name="the__nilfs_8h_acbe15a8b57f8ecf5e4777294c2f7303d_icgraph" id="the__nilfs_8h_acbe15a8b57f8ecf5e4777294c2f7303d_icgraph">
<area shape="rect" id="node2" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="423,107,565,133"/>
<area shape="rect" id="node13" href="nilfs2_2recovery_8c.html#a45afe93f318383d5ed3381fa68650a8c" title="nilfs_finish_roll_forward" alt="" coords="197,56,355,83"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#ac35601ebb220d6cce77c5513d0c5ff9a" title="nilfs_search_super_root" alt="" coords="196,5,356,32"/>
<area shape="rect" id="node15" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="211,671,341,697"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0" title="nilfs_store_log_cursor" alt="" coords="1261,208,1410,235"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1248,107,1423,133"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1497,157,1575,184"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1655,157,1761,184"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1649,208,1767,235"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1849,157,1938,184"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1844,259,1943,285"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1815,208,1972,235"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2024,149,2172,176"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2029,201,2167,242"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2020,267,2176,293"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a8913a80e32e55bd55c20461949a3e6b6" title="nilfs_ioctl_trim_fs" alt="" coords="432,887,556,913"/>
<area shape="rect" id="node21" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="404,671,584,697"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1073,953,1151,980"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1275,928,1395,955"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1479,928,1593,955"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1471,979,1601,1005"/>
<area shape="rect" id="node22" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="639,620,776,647"/>
<area shape="rect" id="node28" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="642,440,773,467"/>
<area shape="rect" id="node35" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="636,862,779,903"/>
<area shape="rect" id="node38" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="648,520,767,547"/>
<area shape="rect" id="node40" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="638,671,777,697"/>
<area shape="rect" id="node43" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="638,797,777,838"/>
<area shape="rect" id="node44" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="840,812,967,839"/>
<area shape="rect" id="node45" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="632,928,783,955"/>
<area shape="rect" id="node47" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="649,389,765,416"/>
<area shape="rect" id="node23" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="843,644,963,671"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="839,578,968,619"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1041,635,1183,677"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1265,584,1406,611"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1269,457,1401,498"/>
<area shape="rect" id="node29" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="842,259,965,285"/>
<area shape="rect" id="node31" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="847,411,960,437"/>
<area shape="rect" id="node34" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="832,309,975,336"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1035,302,1189,343"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1041,458,1183,499"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1024,407,1200,433"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1059,829,1165,856"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="835,914,971,955"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="836,513,971,554"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="831,761,976,788"/>
<area shape="rect" id="node42" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="832,695,975,737"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="842,979,965,1021"/>
<area shape="rect" id="node48" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1263,157,1408,184"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1501,208,1571,235"/>
</map>
</div>

</div>
</div>
<a id="ade82c185e7dd753033a0bc34b0a14bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade82c185e7dd753033a0bc34b0a14bc9">&#9670;&nbsp;</a></span>nilfs_last_cno()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __u64 nilfs_last_cno </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_ade82c185e7dd753033a0bc34b0a14bc9_icgraph.png" border="0" usemap="#the__nilfs_8h_ade82c185e7dd753033a0bc34b0a14bc9_icgraph" alt=""/></div>
<map name="the__nilfs_8h_ade82c185e7dd753033a0bc34b0a14bc9_icgraph" id="the__nilfs_8h_ade82c185e7dd753033a0bc34b0a14bc9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="156,99,289,141"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="170,165,275,192"/>
<area shape="rect" id="node3" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="337,99,471,141"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="519,99,645,141"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="693,107,771,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="819,81,939,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="995,81,1109,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="987,132,1117,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1170,5,1259,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1169,56,1261,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1165,107,1264,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1172,157,1257,184"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="359,165,449,192"/>
</map>
</div>

</div>
</div>
<a id="ab515063d92ea4e8384e70d37bcaa46ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab515063d92ea4e8384e70d37bcaa46ff">&#9670;&nbsp;</a></span>nilfs_lookup_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnilfs__root.html">nilfs_root</a>* nilfs_lookup_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_ab515063d92ea4e8384e70d37bcaa46ff_icgraph.png" border="0" usemap="#the__nilfs_8h_ab515063d92ea4e8384e70d37bcaa46ff_icgraph" alt=""/></div>
<map name="the__nilfs_8h_ab515063d92ea4e8384e70d37bcaa46ff_icgraph" id="the__nilfs_8h_ab515063d92ea4e8384e70d37bcaa46ff_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="189,179,322,221"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="198,477,313,504"/>
<area shape="rect" id="node16" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="173,325,337,352"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1005,296,1123,323"/>
<area shape="rect" id="node3" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="398,169,531,210"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="815,145,941,186"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1861,133,1939,160"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2041,81,2161,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2233,81,2348,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2225,132,2356,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2409,5,2498,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2407,56,2499,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2404,107,2503,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2411,157,2496,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="402,477,527,504"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="402,528,527,555"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="385,427,544,453"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="989,579,1139,605"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2238,385,2343,412"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="592,427,767,453"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2409,385,2498,412"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="839,376,917,403"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1216,245,1315,272"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1187,296,1344,323"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1396,191,1544,217"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1401,310,1539,351"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1392,259,1548,285"/>
<area shape="rect" id="node27" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1596,191,1775,217"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1616,321,1755,348"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1835,317,1965,358"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2025,335,2177,361"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2241,335,2341,361"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1612,263,1759,289"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1823,264,1977,291"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2046,233,2157,260"/>
</map>
</div>

</div>
</div>
<a id="a90dd6a38fbbe4af1b07031036a6ee500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90dd6a38fbbe4af1b07031036a6ee500">&#9670;&nbsp;</a></span>nilfs_near_disk_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_near_disk_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_cgraph.png" border="0" usemap="#the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_cgraph" id="the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_cgraph">
<area shape="rect" id="node2" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="187,5,369,32"/>
<area shape="rect" id="node3" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="417,5,508,32"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="556,5,652,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_icgraph.png" border="0" usemap="#the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_icgraph" id="the__nilfs_8h_a90dd6a38fbbe4af1b07031036a6ee500_icgraph">
<area shape="rect" id="node2" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="605,576,740,603"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ae4a012a0fc0026d060aa426f15cfb8a7" title="nilfs_transaction_begin" alt="" coords="187,804,341,831"/>
<area shape="rect" id="node45" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="205,1591,323,1617"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="413,905,523,932"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1047,677,1143,704"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1409,904,1498,931"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1407,1179,1499,1205"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1404,259,1503,285"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1411,652,1496,679"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1219,1379,1349,1405"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1058,525,1131,552"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1035,931,1154,957"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="623,1133,723,1160"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="843,1184,933,1211"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="409,1285,527,1312"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="410,1235,526,1261"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="425,373,511,400"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="427,424,509,451"/>
<area shape="rect" id="node33" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1221,1547,1347,1589"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1225,1430,1343,1471"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1212,1496,1356,1523"/>
<area shape="rect" id="node36" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="390,475,546,501"/>
<area shape="rect" id="node5" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="603,880,742,907"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1035,1065,1155,1092"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="619,779,726,805"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="616,829,729,856"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="619,981,726,1008"/>
<area shape="rect" id="node26" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1025,991,1164,1033"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="839,779,937,805"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="837,677,939,704"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="826,829,950,856"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="824,880,952,907"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1227,1053,1341,1080"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1415,1437,1492,1464"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="829,1032,947,1059"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1213,999,1355,1025"/>
<area shape="rect" id="node37" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="603,317,742,344"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="809,342,967,383"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="813,408,963,435"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="811,459,965,501"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="799,159,977,201"/>
<area shape="rect" id="node42" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="811,94,965,135"/>
<area shape="rect" id="node43" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1026,163,1163,189"/>
<area shape="rect" id="node44" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="805,277,971,318"/>
<area shape="rect" id="node46" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="419,1591,517,1617"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="389,1645,547,1672"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="599,1589,747,1616"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="603,1641,742,1682"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="595,1707,751,1733"/>
</map>
</div>

</div>
</div>
<a id="aa7bf85e7bb9022b3680b22d945d17f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bf85e7bb9022b3680b22d945d17f91">&#9670;&nbsp;</a></span>nilfs_nrsvsegs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long nilfs_nrsvsegs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nsegs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_nrsvsegs - calculate the number of reserved segments : nilfs object : total number of segments </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_aa7bf85e7bb9022b3680b22d945d17f91_icgraph.png" border="0" usemap="#the__nilfs_8h_aa7bf85e7bb9022b3680b22d945d17f91_icgraph" alt=""/></div>
<map name="the__nilfs_8h_aa7bf85e7bb9022b3680b22d945d17f91_icgraph" id="the__nilfs_8h_aa7bf85e7bb9022b3680b22d945d17f91_icgraph">
<area shape="rect" id="node2" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="365,485,491,512"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1858,692,1975,718"/>
<area shape="rect" id="node48" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="160,692,303,718"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="998,22,1105,49"/>
<area shape="rect" id="node7" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="553,441,733,468"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1857,17,1976,44"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2673,130,2751,157"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2799,130,2919,157"/>
<area shape="rect" id="node8" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="788,317,925,344"/>
<area shape="rect" id="node22" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="791,378,922,405"/>
<area shape="rect" id="node36" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="785,116,928,158"/>
<area shape="rect" id="node38" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="992,509,1111,536"/>
<area shape="rect" id="node40" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="787,225,926,252"/>
<area shape="rect" id="node43" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="787,606,926,647"/>
<area shape="rect" id="node44" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="781,554,932,581"/>
<area shape="rect" id="node46" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="799,504,915,530"/>
<area shape="rect" id="node9" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="991,306,1111,333"/>
<area shape="rect" id="node20" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="987,240,1116,282"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1188,276,1329,318"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1411,401,1553,428"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1617,401,1796,428"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2037,401,2195,428"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2247,426,2395,453"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2251,310,2390,351"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2243,376,2399,402"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2447,426,2625,453"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2467,317,2605,344"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2463,376,2609,402"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1416,335,1548,376"/>
<area shape="rect" id="node23" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="990,458,1113,485"/>
<area shape="rect" id="node31" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="995,408,1108,434"/>
<area shape="rect" id="node35" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="980,357,1123,384"/>
<area shape="rect" id="node24" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1182,524,1335,566"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1395,561,1569,588"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1668,641,1745,668"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1864,641,1969,668"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2071,641,2161,668"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2067,692,2165,718"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1187,459,1330,500"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1171,342,1347,369"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1183,394,1334,435"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1639,64,1775,106"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1415,474,1549,515"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1844,130,1989,157"/>
<area shape="rect" id="node42" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="980,175,1123,216"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="2055,790,2177,831"/>
<area shape="rect" id="node47" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1409,641,1555,668"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="351,692,505,718"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1671,692,1742,718"/>
</map>
</div>

</div>
</div>
<a id="a59cc4f3286a6c2bdf7626a4093351fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cc4f3286a6c2bdf7626a4093351fd9">&#9670;&nbsp;</a></span>nilfs_put_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_put_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph.png" border="0" usemap="#the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph" id="the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="153,345,280,386"/>
<area shape="rect" id="node3" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="195,411,238,437"/>
<area shape="rect" id="node4" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="328,411,403,437"/>
<area shape="rect" id="node25" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1082,107,1221,133"/>
<area shape="rect" id="node5" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1100,664,1203,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="453,461,571,488"/>
<area shape="rect" id="node19" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="451,309,573,336"/>
<area shape="rect" id="node20" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="487,360,537,387"/>
<area shape="rect" id="node6" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1293,664,1420,691"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="627,461,785,488"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="637,563,775,589"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="839,344,1021,371"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="863,497,997,538"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="841,445,1019,472"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="849,395,1011,421"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="856,563,1004,589"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1107,504,1195,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1307,504,1406,531"/>
<area shape="rect" id="node13" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1481,504,1620,531"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1069,395,1233,421"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="647,411,765,437"/>
<area shape="rect" id="node22" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="645,208,767,235"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="621,360,791,387"/>
<area shape="rect" id="node24" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="886,251,974,277"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="668,512,744,539"/>
<area shape="rect" id="node29" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="668,259,744,285"/>
<area shape="rect" id="node30" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="655,157,757,184"/>
<area shape="rect" id="node27" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="903,613,957,640"/>
<area shape="rect" id="node28" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1082,613,1221,640"/>
<area shape="rect" id="node31" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="871,56,989,83"/>
<area shape="rect" id="node36" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="890,157,970,184"/>
<area shape="rect" id="node32" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1087,5,1215,32"/>
<area shape="rect" id="node33" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1070,56,1233,83"/>
<area shape="rect" id="node34" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1281,56,1432,83"/>
<area shape="rect" id="node35" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1480,56,1621,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph.png" border="0" usemap="#the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph" id="the__nilfs_8h_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="590,217,709,244"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="153,673,312,700"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="373,775,522,801"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1977,623,2083,649"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="360,572,535,599"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="769,420,886,447"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1364,521,1511,548"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="166,303,299,345"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="175,825,290,852"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="768,209,887,236"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1162,151,1282,177"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1380,100,1495,127"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1372,201,1503,228"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1607,5,1697,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1606,56,1698,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1603,107,1701,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1609,157,1695,184"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1613,245,1691,272"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2131,623,2220,649"/>
<area shape="rect" id="node17" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="611,471,688,497"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="968,420,1067,447"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="939,365,1096,392"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1148,303,1296,329"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1153,354,1291,395"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1144,420,1300,447"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1348,303,1527,329"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1368,387,1507,413"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1587,391,1717,433"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1777,420,1929,447"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1980,471,2080,497"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1575,521,1729,548"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1798,572,1909,599"/>
<area shape="rect" id="node33" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="583,279,716,321"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="764,270,891,311"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="385,825,510,852"/>
<area shape="rect" id="node37" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="385,876,510,903"/>
</map>
</div>

</div>
</div>
<a id="a9151c9e879ecd826e57e7a77e249a066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9151c9e879ecd826e57e7a77e249a066">&#9670;&nbsp;</a></span>nilfs_sb_need_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_sb_need_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a9151c9e879ecd826e57e7a77e249a066_icgraph.png" border="0" usemap="#the__nilfs_8h_a9151c9e879ecd826e57e7a77e249a066_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a9151c9e879ecd826e57e7a77e249a066_icgraph" id="the__nilfs_8h_a9151c9e879ecd826e57e7a77e249a066_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1688,413,1867,440"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="201,312,340,339"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1953,437,2031,464"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2117,463,2237,489"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2293,463,2408,489"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2285,412,2416,439"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2469,387,2558,413"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2467,437,2559,464"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2464,488,2563,515"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2471,539,2556,565"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="388,191,517,233"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="565,144,717,171"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2125,93,2230,120"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2127,195,2227,221"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="765,93,940,120"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2306,144,2395,171"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="988,93,1065,120"/>
<area shape="rect" id="node19" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1113,195,1231,221"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1308,195,1407,221"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1279,245,1436,272"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1488,245,1636,272"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1493,297,1631,338"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1484,195,1640,221"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1704,195,1851,221"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1915,144,2069,171"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2122,144,2233,171"/>
</map>
</div>

</div>
</div>
<a id="a896212eecf4577d6ec6f424ce62622d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896212eecf4577d6ec6f424ce62622d3">&#9670;&nbsp;</a></span>nilfs_sb_will_flip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_sb_will_flip </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_cgraph.png" border="0" usemap="#the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_cgraph" id="the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#ac28235da04213613eb5e1e2ec707d8f2" title="nilfs_set_last_segment" alt="" coords="175,261,331,287"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#a3198d9635e21797f660203341e355325" title="alloc_nilfs" alt="" coords="213,311,293,338"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#aaad11cec54b661557ca62709026a72f7" title="destroy_nilfs" alt="" coords="205,362,301,389"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="217,413,288,439"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="214,826,291,853"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="199,1045,306,1071"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="181,1146,324,1173"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a39939a13b918d4195e1e2edbdf614d40" title="nilfs_discard_segments" alt="" coords="395,1247,553,1274"/>
<area shape="rect" id="node39" href="the__nilfs_8h.html#a6d64c6b82e4107f17097d08e4f2b933b" title="nilfs_count_free_blocks" alt="" coords="173,1298,332,1325"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="193,1247,313,1274"/>
<area shape="rect" id="node43" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="171,1399,335,1426"/>
<area shape="rect" id="node46" href="the__nilfs_8h.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="203,1095,303,1122"/>
<area shape="rect" id="node48" href="the__nilfs_8h.html#a90dd6a38fbbe4af1b07031036a6ee500" title="nilfs_near_disk_full" alt="" coords="186,1349,319,1375"/>
<area shape="rect" id="node49" href="the__nilfs_8h.html#aa7659acbf3f2fe3722694bfa4633fb75" title="nilfs_fall_back_super\l_block" alt="" coords="181,1451,325,1492"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#adc41b5847eb3eeacab43d47c8aa744fa" title="nilfs_swap_super_block" alt="" coords="172,1517,333,1543"/>
<area shape="rect" id="node5" href="nilfs_8h.html#ac1661c68bb700422ee697fbe56fa6077" title="nilfs_sysfs_delete\l_device_group" alt="" coords="411,5,537,47"/>
<area shape="rect" id="node7" href="block__dev_8c.html#a4609eddf94630dd52695bed483952128" title="sb_min_blocksize" alt="" coords="411,253,537,279"/>
<area shape="rect" id="node8" href="block__dev_8c.html#a99c88b695576b1f18534d738442473cd" title="sb_set_blocksize" alt="" coords="635,191,758,218"/>
<area shape="rect" id="node10" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="397,303,551,330"/>
<area shape="rect" id="node14" href="the__nilfs_8c.html#a7fe98e87527e9147b95f7297f33a5ef9" title="nilfs_release_super\l_block" alt="" coords="629,445,764,487"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a560857e810c70125d485d11641b3c0c2" title="nilfs_store_magic_and\l_option" alt="" coords="398,71,550,112"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a9d331dc8ec752e1d74a637da2a496666" title="nilfs_check_feature\l_compatibility" alt="" coords="407,405,541,447"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="397,471,551,498"/>
<area shape="rect" id="node21" href="the__nilfs_8c.html#a508ade480e6c15d6e4eb69e60f5ef16a" title="nilfs_max_size" alt="" coords="419,522,529,549"/>
<area shape="rect" id="node22" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0" title="nilfs_store_log_cursor" alt="" coords="399,573,549,599"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a231c691132c8b9317086a17cfe0c14d8" title="nilfs_sysfs_create\l_device_group" alt="" coords="410,136,538,177"/>
<area shape="rect" id="node9" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="828,217,967,243"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a40b62ad5e04cb348ddb8f9edf50a765a" title="nilfs_read_super_block" alt="" coords="619,343,774,370"/>
<area shape="rect" id="node12" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d" title="nilfs_valid_sb" alt="" coords="646,593,747,619"/>
<area shape="rect" id="node13" href="the__nilfs_8c.html#a6bf9ab796af0877e613972d42d084863" title="nilfs_sb2_bad_offset" alt="" coords="625,394,768,421"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="616,293,777,319"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a5c45e6e5ab0745180bde1edbeeb328fa" title="nilfs_set_default_options" alt="" coords="613,53,780,79"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#aaeab43ad53047473bb2e7101890c5e45" title="parse_options" alt="" coords="645,103,748,130"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#a414a9e70465e7f8a25f7fbe3fec0031b" title="nilfs_valid_fs" alt="" coords="425,775,523,802"/>
<area shape="rect" id="node26" href="the__nilfs_8c.html#a90140a5e806ed86807a685df437afd24" title="nilfs_init_recovery_info" alt="" coords="397,826,551,853"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a0277d890503e30014aee9b37557917f9" title="nilfs_search_super_root" alt="" coords="394,1079,554,1106"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="401,877,547,903"/>
<area shape="rect" id="node31" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="675,927,718,954"/>
<area shape="rect" id="node32" href="nilfs2_2recovery_8c.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="387,978,561,1005"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="405,623,543,650"/>
<area shape="rect" id="node34" href="the__nilfs_8c.html#af1c2aa5df0d1b266ae2b3007b945358b" title="nilfs_clear_recovery_info" alt="" coords="391,725,557,751"/>
<area shape="rect" id="node28" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="663,1218,730,1245"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="613,1109,780,1135"/>
<area shape="rect" id="node37" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="421,1197,527,1223"/>
<area shape="rect" id="node40" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="426,1298,522,1325"/>
<area shape="rect" id="node41" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="383,1349,565,1375"/>
<area shape="rect" id="node44" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="414,1399,534,1426"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a5b852f45dfb6467814b578dd4c30ac2d" title="nilfs_sysfs_create\l_snapshot_group" alt="" coords="410,1451,538,1492"/>
<area shape="rect" id="node47" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="411,1131,537,1172"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_icgraph.png" border="0" usemap="#the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_icgraph" id="the__nilfs_8h_a896212eecf4577d6ec6f424ce62622d3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="200,233,299,260"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="171,284,328,311"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="380,204,528,231"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="385,306,523,347"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="376,255,532,281"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="580,204,759,231"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="845,107,923,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1025,107,1145,133"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1239,107,1354,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1231,56,1362,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1437,5,1526,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1435,56,1527,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1432,107,1531,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1439,157,1524,184"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="600,313,739,340"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="819,306,949,347"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1009,309,1161,336"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1579,284,1684,311"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1247,208,1347,235"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1209,360,1384,387"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1732,259,1821,285"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1443,360,1520,387"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="596,255,743,281"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="807,255,961,281"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1030,208,1141,235"/>
</map>
</div>

</div>
</div>
<a id="a51bb53199a62a87f269e03404136d00f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51bb53199a62a87f269e03404136d00f">&#9670;&nbsp;</a></span>nilfs_segment_is_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segment_is_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a51bb53199a62a87f269e03404136d00f_icgraph.png" border="0" usemap="#the__nilfs_8h_a51bb53199a62a87f269e03404136d00f_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a51bb53199a62a87f269e03404136d00f_icgraph" id="the__nilfs_8h_a51bb53199a62a87f269e03404136d00f_icgraph">
<area shape="rect" id="node2" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="216,466,355,507"/>
<area shape="rect" id="node47" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="805,565,956,592"/>
<area shape="rect" id="node3" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="403,473,529,500"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1022,688,1129,715"/>
<area shape="rect" id="node14" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="577,423,757,449"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1223,711,1342,737"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1467,587,1545,613"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2319,536,2439,563"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2509,536,2624,563"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2501,587,2632,613"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2685,460,2774,487"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2683,511,2775,537"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2680,561,2779,588"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2687,612,2772,639"/>
<area shape="rect" id="node15" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="812,397,949,424"/>
<area shape="rect" id="node28" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="815,317,946,344"/>
<area shape="rect" id="node40" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="809,499,952,541"/>
<area shape="rect" id="node42" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1016,149,1135,176"/>
<area shape="rect" id="node44" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="811,448,950,475"/>
<area shape="rect" id="node49" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="823,192,939,219"/>
<area shape="rect" id="node16" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1015,353,1135,380"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1011,405,1140,446"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1212,361,1353,402"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1435,252,1577,279"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1641,260,1820,287"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1885,355,2035,397"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2100,192,2257,219"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1868,269,2052,310"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2126,456,2231,483"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2121,363,2237,389"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2305,192,2453,219"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1440,303,1572,345"/>
<area shape="rect" id="node29" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="1014,200,1137,227"/>
<area shape="rect" id="node35" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="1019,251,1132,277"/>
<area shape="rect" id="node39" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="1004,303,1147,329"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1206,113,1359,154"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1419,123,1593,149"/>
<area shape="rect" id="node32" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1692,120,1769,147"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1907,116,2013,143"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1901,167,2019,193"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1211,178,1354,219"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1195,309,1371,336"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1207,243,1358,285"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1215,579,1351,621"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1439,57,1573,98"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1210,528,1355,555"/>
<area shape="rect" id="node46" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="1004,470,1147,511"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1221,645,1344,686"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1433,5,1579,32"/>
</map>
</div>

</div>
</div>
<a id="ac28235da04213613eb5e1e2ec707d8f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28235da04213613eb5e1e2ec707d8f2">&#9670;&nbsp;</a></span>nilfs_set_last_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_set_last_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_ac28235da04213613eb5e1e2ec707d8f2_icgraph.png" border="0" usemap="#the__nilfs_8h_ac28235da04213613eb5e1e2ec707d8f2_icgraph" alt=""/></div>
<map name="the__nilfs_8h_ac28235da04213613eb5e1e2ec707d8f2_icgraph" id="the__nilfs_8h_ac28235da04213613eb5e1e2ec707d8f2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="209,563,365,605"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2612,259,2729,285"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="413,511,540,537"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="588,481,767,508"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1442,503,1591,545"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1233,343,1391,369"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="815,445,999,486"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1663,537,1769,564"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1658,436,1774,463"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1867,537,1987,564"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2083,537,2197,564"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2075,487,2205,513"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2307,588,2396,615"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2305,639,2397,665"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2302,487,2401,513"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2309,537,2394,564"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2313,436,2390,463"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1443,401,1591,428"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1447,335,1586,377"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1439,284,1595,311"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1837,335,2016,361"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1647,284,1785,311"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1862,171,1991,213"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2064,157,2216,184"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2618,107,2723,133"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2301,5,2401,32"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2264,208,2439,235"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2782,56,2871,83"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2487,208,2564,235"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2777,259,2876,285"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1643,175,1789,201"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1849,112,2004,139"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2085,107,2195,133"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1047,445,1185,486"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1238,393,1386,420"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1243,452,1381,479"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1467,579,1567,605"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1457,452,1576,479"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1657,487,1775,513"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1671,639,1761,665"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1867,487,1986,513"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1857,403,1996,445"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2069,385,2211,412"/>
</map>
</div>

</div>
</div>
<a id="a38632ac69509070865038bf0120a1509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38632ac69509070865038bf0120a1509">&#9670;&nbsp;</a></span>nilfs_set_nsegments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_set_nsegments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nsegs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a38632ac69509070865038bf0120a1509_cgraph.png" border="0" usemap="#the__nilfs_8h_a38632ac69509070865038bf0120a1509_cgraph" alt=""/></div>
<map name="the__nilfs_8h_a38632ac69509070865038bf0120a1509_cgraph" id="the__nilfs_8h_a38632ac69509070865038bf0120a1509_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="196,5,303,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a38632ac69509070865038bf0120a1509_icgraph.png" border="0" usemap="#the__nilfs_8h_a38632ac69509070865038bf0120a1509_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a38632ac69509070865038bf0120a1509_icgraph" id="the__nilfs_8h_a38632ac69509070865038bf0120a1509_icgraph">
<area shape="rect" id="node2" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="210,320,337,347"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1703,548,1821,575"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="196,804,351,831"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="843,25,950,52"/>
<area shape="rect" id="node7" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="399,320,579,347"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1703,13,1821,40"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2545,127,2622,153"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2696,127,2816,153"/>
<area shape="rect" id="node8" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="633,471,771,497"/>
<area shape="rect" id="node23" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="637,345,767,372"/>
<area shape="rect" id="node37" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="631,102,773,143"/>
<area shape="rect" id="node39" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="837,497,956,524"/>
<area shape="rect" id="node41" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="633,244,771,271"/>
<area shape="rect" id="node44" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="633,522,771,563"/>
<area shape="rect" id="node45" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="627,193,777,220"/>
<area shape="rect" id="node47" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="644,295,760,321"/>
<area shape="rect" id="node9" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="837,720,957,747"/>
<area shape="rect" id="node21" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="832,642,961,683"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1033,738,1175,779"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1257,527,1398,553"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1463,497,1641,524"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1883,497,2040,524"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2092,312,2240,339"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2097,519,2235,561"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2088,468,2244,495"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2292,273,2471,300"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2312,527,2451,553"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2519,519,2648,561"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2308,468,2455,495"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1261,461,1393,502"/>
<area shape="rect" id="node24" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="835,396,958,423"/>
<area shape="rect" id="node32" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="840,447,953,473"/>
<area shape="rect" id="node36" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="825,345,968,372"/>
<area shape="rect" id="node25" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1027,389,1181,430"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1240,403,1415,429"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1513,413,1591,440"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1709,419,1815,445"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1917,419,2006,445"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1912,548,2011,575"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1033,519,1175,561"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1016,337,1192,364"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1029,454,1179,495"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1484,61,1620,102"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1260,578,1395,619"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1689,181,1835,208"/>
<area shape="rect" id="node43" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="825,229,968,270"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1900,119,2023,161"/>
<area shape="rect" id="node48" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1255,323,1400,349"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1517,548,1587,575"/>
</map>
</div>

</div>
</div>
<a id="acf48222a83fa3d618b30972ec417a030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf48222a83fa3d618b30972ec417a030">&#9670;&nbsp;</a></span>nilfs_shift_to_next_segment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_shift_to_next_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_acf48222a83fa3d618b30972ec417a030_icgraph.png" border="0" usemap="#the__nilfs_8h_acf48222a83fa3d618b30972ec417a030_icgraph" alt=""/></div>
<map name="the__nilfs_8h_acf48222a83fa3d618b30972ec417a030_icgraph" id="the__nilfs_8h_acf48222a83fa3d618b30972ec417a030_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="181,345,316,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="364,352,543,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1218,286,1367,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1009,411,1167,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="591,345,775,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1439,200,1545,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1434,301,1550,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1643,149,1763,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1859,107,1973,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1851,208,1981,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2083,157,2172,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2081,5,2173,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2078,56,2177,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2085,107,2170,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2089,232,2166,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1219,352,1367,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1223,403,1362,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1215,469,1371,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1613,352,1792,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1423,411,1561,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1638,403,1767,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1840,411,1992,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2394,436,2499,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2077,512,2177,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2040,461,2215,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2558,499,2647,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2263,461,2340,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2388,575,2505,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2553,575,2652,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1419,469,1565,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1625,469,1780,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1861,563,1971,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="823,185,961,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1014,352,1162,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1019,149,1157,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1243,99,1343,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1233,149,1352,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1433,251,1551,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1447,99,1537,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1643,235,1762,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1633,286,1772,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1845,309,1987,336"/>
</map>
</div>

</div>
</div>
<a id="adc41b5847eb3eeacab43d47c8aa744fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc41b5847eb3eeacab43d47c8aa744fa">&#9670;&nbsp;</a></span>nilfs_swap_super_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_swap_super_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_adc41b5847eb3eeacab43d47c8aa744fa_icgraph.png" border="0" usemap="#the__nilfs_8h_adc41b5847eb3eeacab43d47c8aa744fa_icgraph" alt=""/></div>
<map name="the__nilfs_8h_adc41b5847eb3eeacab43d47c8aa744fa_icgraph" id="the__nilfs_8h_adc41b5847eb3eeacab43d47c8aa744fa_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="225,846,359,873"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="741,1023,858,1050"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="215,1099,369,1126"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="747,347,851,374"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="417,846,555,873"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="936,1049,1035,1075"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="907,922,1064,949"/>
<area shape="rect" id="node45" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="433,618,539,645"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#ad1bd93bfa62ef944a263d390b0a5cfe0" title="nilfs_setup_super" alt="" coords="1560,669,1684,695"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="939,311,1032,338"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1123,267,1257,308"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1331,427,1479,468"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a2db2c217075b59d70517b64fd3ce2337" title="nilfs_bmap_lookup_contig" alt="" coords="1319,325,1491,351"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1343,173,1467,199"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="1331,518,1479,545"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1335,21,1476,47"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="1342,122,1469,149"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="1336,71,1475,98"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a4e4d1e3c6c00e6c90ef028015ab36b42" title="nilfs_bmap_propagate" alt="" coords="1331,223,1480,250"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#ab86d5dcef542a000d11ba96af676b5f0" title="nilfs_bmap_assign" alt="" coords="1340,274,1471,301"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8h.html#aee687b837e89608c14c2697b08fa2a71" title="nilfs_bmap_mark" alt="" coords="1345,375,1466,402"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="1561,427,1683,468"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1543,361,1701,403"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1557,493,1687,519"/>
<area shape="rect" id="node11" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1567,259,1677,286"/>
<area shape="rect" id="node13" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="1576,310,1668,337"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1749,310,1869,337"/>
<area shape="rect" id="node15" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1549,165,1695,207"/>
<area shape="rect" id="node17" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1551,543,1693,570"/>
<area shape="rect" id="node19" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1553,71,1691,98"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1559,5,1685,47"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1754,821,1865,847"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#afddf1bc2d6f6a65d34f58c1ab8a363bd" title="nilfs_freeze" alt="" coords="603,871,692,898"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1759,745,1859,771"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="609,973,686,999"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1917,795,2007,822"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1757,871,1862,898"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1116,770,1264,797"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1121,923,1259,964"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1112,871,1268,898"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1316,770,1495,797"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1583,618,1661,645"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1336,930,1475,957"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1557,923,1687,964"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1332,871,1479,898"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1545,871,1699,898"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="740,618,859,645"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#a76497fa0cac9d156c73b94dd615621cd" title="nilfs_unfreeze" alt="" coords="1758,669,1861,695"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="612,1125,683,1151"/>
</map>
</div>

</div>
</div>
<a id="a45205c72b751a5a68b64d428da9370ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45205c72b751a5a68b64d428da9370ed">&#9670;&nbsp;</a></span>nilfs_terminate_segment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_terminate_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>seg_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>seg_end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a45205c72b751a5a68b64d428da9370ed_icgraph.png" border="0" usemap="#the__nilfs_8h_a45205c72b751a5a68b64d428da9370ed_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a45205c72b751a5a68b64d428da9370ed_icgraph" id="the__nilfs_8h_a45205c72b751a5a68b64d428da9370ed_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="217,352,393,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="441,345,573,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="621,352,800,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1475,286,1625,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1267,411,1424,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="848,345,1032,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1697,200,1802,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1691,301,1807,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1900,149,2020,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2116,107,2231,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2108,208,2239,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2340,157,2429,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2339,5,2431,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2335,56,2434,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2342,107,2427,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2346,232,2423,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1476,352,1624,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1481,403,1619,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1472,469,1628,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1871,352,2049,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1680,411,1819,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1895,403,2025,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2097,411,2249,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2651,436,2757,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2335,512,2435,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2297,461,2472,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2815,499,2905,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2520,461,2597,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2645,575,2763,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2811,575,2909,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1676,469,1823,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1883,469,2037,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2118,563,2229,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1080,185,1219,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1271,352,1419,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1276,149,1415,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1500,99,1600,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1491,149,1609,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1690,251,1809,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1704,99,1795,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1901,235,2019,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1891,286,2029,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2103,309,2244,336"/>
</map>
</div>

</div>
</div>
<a id="a414a9e70465e7f8a25f7fbe3fec0031b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414a9e70465e7f8a25f7fbe3fec0031b">&#9670;&nbsp;</a></span>nilfs_valid_fs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_valid_fs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8h_a414a9e70465e7f8a25f7fbe3fec0031b_icgraph.png" border="0" usemap="#the__nilfs_8h_a414a9e70465e7f8a25f7fbe3fec0031b_icgraph" alt=""/></div>
<map name="the__nilfs_8h_a414a9e70465e7f8a25f7fbe3fec0031b_icgraph" id="the__nilfs_8h_a414a9e70465e7f8a25f7fbe3fec0031b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1519,68,1619,95"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="152,268,229,295"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1709,156,1798,183"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1516,220,1621,247"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="277,243,395,269"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="472,243,571,269"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="443,189,600,216"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="652,229,800,256"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="657,97,795,138"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="648,168,804,195"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="852,345,1031,372"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1117,471,1195,497"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1297,509,1417,536"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1511,509,1626,536"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1503,459,1634,485"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1709,535,1798,561"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1707,585,1799,612"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1704,433,1803,460"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1711,484,1796,511"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="872,104,1011,131"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1091,97,1221,138"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1281,93,1433,120"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1481,144,1656,171"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="868,165,1015,192"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1079,163,1233,189"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1302,195,1413,221"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="the__nilfs_8h.html">the_nilfs.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
