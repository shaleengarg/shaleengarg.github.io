<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ntfs/dir.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ntfs_2dir_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dir.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ntfs_2dir_8h_source.html">dir.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ntfs_2aops_8h_source.html">aops.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="attrib_8h_source.html">attrib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mft_8h_source.html">mft.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ntfs_2debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ntfs_8h_source.html">ntfs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dir.c:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c__incl.png" border="0" usemap="#ntfs_2dir_8c" alt=""/></div>
<map name="ntfs_2dir_8c" id="ntfs_2dir_8c">
<area shape="rect" id="node4" href="ntfs_2dir_8h.html" title="dir.h" alt="" coords="399,80,445,107"/>
<area shape="rect" id="node21" href="ntfs_2debug_8h.html" title="debug.h" alt="" coords="449,229,517,256"/>
<area shape="rect" id="node22" href="ntfs_2aops_8h.html" title="aops.h" alt="" coords="1229,80,1290,107"/>
<area shape="rect" id="node25" href="attrib_8h.html" title="attrib.h" alt="" coords="312,80,375,107"/>
<area shape="rect" id="node27" href="mft_8h.html" title="mft.h" alt="" coords="1039,80,1091,107"/>
<area shape="rect" id="node28" href="ntfs_8h.html" title="ntfs.h" alt="" coords="1447,229,1501,256"/>
<area shape="rect" id="node5" href="layout_8h.html" title="layout.h" alt="" coords="377,453,445,480"/>
<area shape="rect" id="node10" href="types_8h.html" title="types.h" alt="" coords="483,528,548,555"/>
<area shape="rect" id="node11" href="ntfs_2inode_8h.html" title="inode.h" alt="" coords="833,155,897,181"/>
<area shape="rect" id="node17" href="volume_8h.html" title="volume.h" alt="" coords="827,379,902,405"/>
<area shape="rect" id="node20" href="runlist_8h.html" title="runlist.h" alt="" coords="449,304,517,331"/>
<area shape="rect" id="node26" href="ntfs_2endian_8h.html" title="endian.h" alt="" coords="5,453,76,480"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9e749d316c242a247306a9c23a468396"><td class="memItemLeft" align="right" valign="top"><a class="el" href="layout_8h.html#ae241e6fcd8dd743bca056ecbdb614973">MFT_REF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntfs_2dir_8c.html#a9e749d316c242a247306a9c23a468396">ntfs_lookup_inode_by_name</a> (<a class="el" href="ntfs_2inode_8h.html#a1c95663e61da6e9ba52c4a8957911f55">ntfs_inode</a> *dir_ni, const <a class="el" href="types_8h.html#a6ee332152a8073f8b12d2ecd6b4aabdd">ntfschar</a> *uname, const int uname_len, ntfs_name **res)</td></tr>
<tr class="separator:a9e749d316c242a247306a9c23a468396"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a23cc03cccf9d903bf1db8ebd9d376e7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a6ee332152a8073f8b12d2ecd6b4aabdd">ntfschar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntfs_2dir_8c.html#a23cc03cccf9d903bf1db8ebd9d376e7d">I30</a> [5]</td></tr>
<tr class="separator:a23cc03cccf9d903bf1db8ebd9d376e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
to the loaded NLS and pass it to the @filldir</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpf346e0d17d307aafa621bcaf99667c2e"></a>callback.</p>
<p>If  is not NULL it is the locked page containing the index allocation block containing the index entry .</p>
<p>Note, we drop (and then reacquire) the page lock on  across the () call otherwise we would deadlock with NFSd when it calls -&gt;lookup since <a class="el" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8">ntfs_lookup()</a> will lock the same page. As an optimization, we do not retake the lock if we are returning a non-zero value as <a class="el" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe">ntfs_readdir()</a> would need to drop the lock immediately anyway. </p>
</td></tr>
<tr class="memitem:a4458078d7c32b655932b4acd6cfc5a06"><td class="memItemLeft" align="right" valign="top">const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntfs_2dir_8c.html#a4458078d7c32b655932b4acd6cfc5a06">ntfs_dir_ops</a></td></tr>
<tr class="separator:a4458078d7c32b655932b4acd6cfc5a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd57954d35adc0896c66f15bb1f38a22"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntfs_2dir_8c.html#acd57954d35adc0896c66f15bb1f38a22">ntfs_filldir</a> (<a class="el" href="structntfs__volume.html">ntfs_volume</a> *vol, <a class="el" href="ntfs_2inode_8h.html#a1c95663e61da6e9ba52c4a8957911f55">ntfs_inode</a> *ndir, struct page *ia_page, INDEX_ENTRY *ie, u8 *<a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>, struct dir_context *actor)</td></tr>
<tr class="separator:acd57954d35adc0896c66f15bb1f38a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bc16b9eb8282df6442679416ef57fe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe">ntfs_readdir</a> (struct file *file, struct dir_context *actor)</td></tr>
<tr class="separator:ab1bc16b9eb8282df6442679416ef57fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2f512e854fae1434d1259c9c77e2b1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntfs_2dir_8c.html#a6a2f512e854fae1434d1259c9c77e2b1">ntfs_dir_open</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *vi, struct file *filp)</td></tr>
<tr class="separator:a6a2f512e854fae1434d1259c9c77e2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6a2f512e854fae1434d1259c9c77e2b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2f512e854fae1434d1259c9c77e2b1">&#9670;&nbsp;</a></span>ntfs_dir_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ntfs_dir_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>vi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ntfs_dir_open - called when an inode is about to be opened : inode to be opened : file structure describing the inode</p>
<p>Limit directory size to the page cache limit on architectures where unsigned long is 32-bits. This is the most we can do for now without overflowing the page cache page index. Doing it this way means we don't run into problems because of existing too large directories. It would be better to allow the user to read the accessible part of the directory but I doubt very much anyone is going to hit this check on a 32-bit architecture, so there is no point in adding the extra complexity required to support this.</p>
<p>On 64-bit architectures, the check is hopefully optimized away by the compiler. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c_a6a2f512e854fae1434d1259c9c77e2b1_cgraph.png" border="0" usemap="#ntfs_2dir_8c_a6a2f512e854fae1434d1259c9c77e2b1_cgraph" alt=""/></div>
<map name="ntfs_2dir_8c_a6a2f512e854fae1434d1259c9c77e2b1_cgraph" id="ntfs_2dir_8c_a6a2f512e854fae1434d1259c9c77e2b1_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a3ce24c611eed82b98fb4775b3db0a8b6" title="ilookup5" alt="" coords="173,583,244,609"/>
<area shape="rect" id="node9" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="352,608,395,635"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="635,709,754,736"/>
<area shape="rect" id="node42" href="ntfs_2inode_8c.html#a6d8b96cf26fa5d3d90420acd32a57453" title="ntfs_test_inode" alt="" coords="153,840,264,867"/>
<area shape="rect" id="node44" href="block__dev_8c.html#aea79c1fb6c378e42eaadb870332355a5" title="sync_blockdev" alt="" coords="154,764,263,791"/>
<area shape="rect" id="node3" href="inode_8c.html#aa28e352a61659eb916065442f9393d3d" title="ilookup5_nowait" alt="" coords="316,119,431,145"/>
<area shape="rect" id="node8" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1286,195,1425,221"/>
<area shape="rect" id="node4" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="498,43,549,69"/>
<area shape="rect" id="node5" href="inode_8c.html#af827e753dda790b4b798f86e933bb380" title="find_inode" alt="" coords="483,93,564,120"/>
<area shape="rect" id="node6" href="inode_8c.html#a6bdbb5661dff23968a2a67170a4ffccf" title="__wait_on_freeing_inode" alt="" coords="612,43,777,69"/>
<area shape="rect" id="node7" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="666,93,723,120"/>
<area shape="rect" id="node10" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="486,608,561,635"/>
<area shape="rect" id="node11" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1304,611,1407,637"/>
<area shape="rect" id="node25" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="633,659,756,685"/>
<area shape="rect" id="node26" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="669,423,720,449"/>
<area shape="rect" id="node12" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1497,611,1624,637"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="831,549,989,576"/>
<area shape="rect" id="node24" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="841,709,979,736"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="1043,520,1225,547"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="1067,698,1201,739"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="1045,469,1223,496"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="1053,419,1215,445"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="1060,571,1208,597"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1311,705,1399,732"/>
<area shape="rect" id="node18" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1511,705,1610,732"/>
<area shape="rect" id="node19" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1685,705,1824,732"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1273,419,1437,445"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="851,347,969,373"/>
<area shape="rect" id="node28" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="849,499,971,525"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="825,397,995,424"/>
<area shape="rect" id="node30" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="1090,245,1178,272"/>
<area shape="rect" id="node31" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="872,600,948,627"/>
<area shape="rect" id="node34" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="872,448,948,475"/>
<area shape="rect" id="node35" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="859,296,961,323"/>
<area shape="rect" id="node32" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="1107,764,1161,791"/>
<area shape="rect" id="node33" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1286,789,1425,816"/>
<area shape="rect" id="node36" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1075,296,1193,323"/>
<area shape="rect" id="node41" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1094,347,1174,373"/>
<area shape="rect" id="node37" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1291,321,1419,348"/>
<area shape="rect" id="node38" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1274,271,1437,297"/>
<area shape="rect" id="node39" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1485,271,1636,297"/>
<area shape="rect" id="node40" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1684,271,1825,297"/>
<area shape="rect" id="node43" href="ntfs_2inode_8h.html#a6efd5f611b35ed752fdf15917c707e6d" title="NTFS_I" alt="" coords="339,865,407,892"/>
<area shape="rect" id="node45" href="block__dev_8c.html#a3501e35ce465fe5f254e1f0420eef385" title="__sync_blockdev" alt="" coords="312,764,435,791"/>
</map>
</div>

</div>
</div>
<a id="acd57954d35adc0896c66f15bb1f38a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd57954d35adc0896c66f15bb1f38a22">&#9670;&nbsp;</a></span>ntfs_filldir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ntfs_filldir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structntfs__volume.html">ntfs_volume</a> *&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ntfs_2inode_8h.html#a1c95663e61da6e9ba52c4a8957911f55">ntfs_inode</a> *&#160;</td>
          <td class="paramname"><em>ndir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>ia_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INDEX_ENTRY *&#160;</td>
          <td class="paramname"><em>ie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dir_context *&#160;</td>
          <td class="paramname"><em>actor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_cgraph.png" border="0" usemap="#ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_cgraph" alt=""/></div>
<map name="ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_cgraph" id="ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_cgraph">
<area shape="rect" id="node2" href="configfs_2dir_8c.html#a610a00f3eae26aab2e1585ea7eccb56b" title="dt_type" alt="" coords="149,5,215,32"/>
<area shape="rect" id="node3" href="ntfs_8h.html#a67e1ba3443809f2cab41ca4f61966471" title="ntfs_ucstonls" alt="" coords="132,56,232,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_icgraph.png" border="0" usemap="#ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_icgraph" alt=""/></div>
<map name="ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_icgraph" id="ntfs_2dir_8c_acd57954d35adc0896c66f15bb1f38a22_icgraph">
<area shape="rect" id="node2" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe" title="ntfs_readdir" alt="" coords="132,5,223,32"/>
</map>
</div>

</div>
</div>
<a id="a9e749d316c242a247306a9c23a468396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e749d316c242a247306a9c23a468396">&#9670;&nbsp;</a></span>ntfs_lookup_inode_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="layout_8h.html#ae241e6fcd8dd743bca056ecbdb614973">MFT_REF</a> ntfs_lookup_inode_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ntfs_2inode_8h.html#a1c95663e61da6e9ba52c4a8957911f55">ntfs_inode</a> *&#160;</td>
          <td class="paramname"><em>dir_ni</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#a6ee332152a8073f8b12d2ecd6b4aabdd">ntfschar</a> *&#160;</td>
          <td class="paramname"><em>uname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>uname_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ntfs_name **&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ntfs_lookup_inode_by_name - find an inode in a directory given its name : ntfs inode of the directory in which to search for the name : Unicode name for which to search in the directory : length of the name  in Unicode characters : return the found file name if necessary (see below)</p>
<p>Look for an inode with name  in the directory with inode . <a class="el" href="ntfs_2dir_8c.html#a9e749d316c242a247306a9c23a468396">ntfs_lookup_inode_by_name()</a> walks the contents of the directory looking for the Unicode name. If the name is found in the directory, the corresponding inode number (&gt;= 0) is returned as a mft reference in cpu format, i.e. it is a 64-bit number containing the sequence number.</p>
<p>On error, a negative value is returned corresponding to the error code. In particular if the inode is not found -ENOENT is returned. Note that you can't just check the return value for being negative, you have to check the inode number for being negative which you can extract using MREC(return value).</p>
<p>Note,  does not include the (optional) terminating NULL character.</p>
<p>Note, we look for a case sensitive match first but we also look for a case insensitive match at the same time. If we find a case insensitive match, we save that for the case that we don't find an exact match, where we return the case insensitive match and setup  (which we allocate!) with the mft reference, the file name type, length and with a copy of the little endian Unicode file name itself. If we match a file name which is in the DOS name space, we only return the mft reference and file name type in . <a class="el" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8">ntfs_lookup()</a> then uses this to find the long file name in the inode itself. This is to avoid polluting the dcache with short file names. We want them to work but we don't care for how quickly one can access them. This also fixes the dcache aliasing issues.</p>
<p>Locking: - Caller must hold i_mutex on the directory.</p><ul>
<li>Each page cache page in the index allocation mapping must be locked whilst being accessed otherwise we may find a corrupt page due to it being under -&gt;writepage at the moment which applies the mst protection fixups before writing out and then removes them again after the write is complete after which it unlocks the page. </li>
</ul>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_cgraph.png" border="0" usemap="#ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_cgraph" alt=""/></div>
<map name="ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_cgraph" id="ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_cgraph">
<area shape="rect" id="node2" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="1081,701,1140,728"/>
<area shape="rect" id="node3" href="mft_8c.html#aab879cd658d486f45345e08fa15f276c" title="map_mft_record" alt="" coords="1053,233,1169,260"/>
<area shape="rect" id="node5" href="ntfs_2aops_8h.html#addce11ccc5af85679488fa76ccc6b622" title="ntfs_map_page" alt="" coords="1478,147,1589,173"/>
<area shape="rect" id="node6" href="ntfs_2aops_8h.html#a1598f6a34c91644e4e765b5b04080784" title="ntfs_unmap_page" alt="" coords="1860,227,1985,253"/>
<area shape="rect" id="node7" href="attrib_8c.html#a790cab56d5e72fa613e5ac57c74d000d" title="ntfs_attr_get_search_ctx" alt="" coords="1027,1579,1194,1605"/>
<area shape="rect" id="node9" href="attrib_8c.html#ad0fa0a5955dbd1e17a84b12d3dc3e5d2" title="ntfs_attr_lookup" alt="" coords="240,1333,355,1360"/>
<area shape="rect" id="node12" href="ntfs_8h.html#aa9de56ad5f4ccba2f91e7bbf3c873910" title="ntfs_are_names_equal" alt="" coords="815,1789,968,1816"/>
<area shape="rect" id="node15" href="ntfs_8h.html#a7abc16b0931427fa8b0500dc0f316f0f" title="ntfs_collate_names" alt="" coords="824,1688,959,1715"/>
<area shape="rect" id="node17" href="ntfs_2endian_8h.html#a2e96c421837ca8d7008130e9d8bdcfdb" title="sle64_to_cpu" alt="" coords="1284,1705,1383,1732"/>
<area shape="rect" id="node22" href="mft_8c.html#acdca69e797b129f8be7643ed91f691bd" title="unmap_mft_record" alt="" coords="1045,904,1176,931"/>
<area shape="rect" id="node46" href="attrib_8c.html#a4959e9081ff22f6912010201efcc1c0b" title="ntfs_attr_put_search_ctx" alt="" coords="808,1181,975,1208"/>
<area shape="rect" id="node48" href="jfs_2xattr_8c.html#af1ece20cee207d0ca5d84fb3a473dd92" title="name_size" alt="" coords="255,1891,340,1917"/>
<area shape="rect" id="node50" href="ntfs_2endian_8h.html#a5004b105857d79fd08e67bd1f5896d88" title="sle64_to_cpup" alt="" coords="244,1941,351,1968"/>
<area shape="rect" id="node4" href="mft_8c.html#ae88ce25e1f8572300849e75a5e157e5b" title="map_mft_record_page" alt="" coords="1258,227,1409,253"/>
<area shape="rect" id="node8" href="attrib_8c.html#abc2c6bb40d94683fcee382267c2db928" title="ntfs_attr_init_search_ctx" alt="" coords="1251,1545,1416,1572"/>
<area shape="rect" id="node10" href="attrib_8c.html#aea2c048b3faf9c5f3b5e3838a5f8b55d" title="ntfs_attr_find" alt="" coords="631,1637,730,1664"/>
<area shape="rect" id="node16" href="attrib_8c.html#aa1ca8eef91a0f2e47720a6e8fafe53c1" title="ntfs_external_attr_find" alt="" coords="403,1435,553,1461"/>
<area shape="rect" id="node11" href="name_8c.html#a6f3e259198a4231f3429f98f2bf02b23" title="upcase" alt="" coords="859,1739,923,1765"/>
<area shape="rect" id="node13" href="unistr_8c.html#a1823d06fadfd193c1d66bc85d1df1fb2" title="ntfs_ucsncmp" alt="" coords="1059,1836,1163,1863"/>
<area shape="rect" id="node14" href="unistr_8c.html#aec0167aec7bdb1b1b1f5e586f3006530" title="ntfs_ucsncasecmp" alt="" coords="1045,1785,1177,1812"/>
<area shape="rect" id="node18" href="mft_8h.html#a811ffb1e431fb1a2eb8646378b4cebe4" title="unmap_extent_mft_record" alt="" coords="1247,1107,1420,1133"/>
<area shape="rect" id="node21" href="mft_8c.html#abf9229d5b335c334e2fc0a9a33eef54b" title="map_extent_mft_record" alt="" coords="601,879,760,905"/>
<area shape="rect" id="node45" href="attrib_8c.html#ae39c510288e49f68010493e93cf02ab8" title="ntfs_attr_reinit_search_ctx" alt="" coords="1023,1309,1199,1336"/>
<area shape="rect" id="node19" href="mft_8h.html#acdca69e797b129f8be7643ed91f691bd" title="unmap_mft_record" alt="" coords="1468,1107,1599,1133"/>
<area shape="rect" id="node20" href="mft_8c.html#a7f853eae19270e8962f1d1e7a910f9b5" title="unmap_mft_record_page" alt="" coords="1647,904,1812,931"/>
<area shape="rect" id="node23" href="ntfs_2inode_8c.html#a22bd60d25a91bd05b32ace0795fcc196" title="ntfs_new_extent_inode" alt="" coords="813,1056,969,1083"/>
<area shape="rect" id="node24" href="ntfs_2inode_8c.html#a43b97ae96340d9713766df90037dacbe" title="ntfs_clear_extent_inode" alt="" coords="811,600,971,627"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="824,347,959,373"/>
<area shape="rect" id="node26" href="itree__common_8c.html#a182737ecd86ab9ca3806858e693d4db9" title="block_end" alt="" coords="851,397,932,424"/>
<area shape="rect" id="node27" href="task__mmu_8c.html#a2f4ec22f05a033fb31002acee65e9364" title="m_start" alt="" coords="858,448,925,475"/>
<area shape="rect" id="node28" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="826,499,957,525"/>
<area shape="rect" id="node29" href="ntfs_2inode_8h.html#a6efd5f611b35ed752fdf15917c707e6d" title="NTFS_I" alt="" coords="857,549,925,576"/>
<area shape="rect" id="node30" href="runlist_8c.html#a9437be86ebe30bd60e86d305679943e1" title="ntfs_rl_vcn_to_lcn" alt="" coords="1469,1360,1597,1387"/>
<area shape="rect" id="node31" href="malloc_8h.html#ab6824be4d6e004aa075b1fe66fd0d737" title="ntfs_free" alt="" coords="1886,1259,1959,1285"/>
<area shape="rect" id="node34" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="815,651,968,677"/>
<area shape="rect" id="node35" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="850,701,933,728"/>
<area shape="rect" id="node36" href="mst_8c.html#adaa9822efa2e93a57fc059a39c8ed7dd" title="post_write_mst_fixup" alt="" coords="818,752,965,779"/>
<area shape="rect" id="node37" href="runlist_8c.html#a88bf16d765cbf410f22d562dcdd92213" title="ntfs_runlists_merge" alt="" coords="1265,1461,1401,1488"/>
<area shape="rect" id="node44" href="ntfs_2endian_8h.html#a32083373aca4ead974dd8f68ff3374eb" title="cpu_to_sle64" alt="" coords="1061,1005,1160,1032"/>
<area shape="rect" id="node32" href="malloc_8h.html#a0ec96764a4b9b46c2cd4a78abea5ed5d" title="ntfs_malloc_nofs" alt="" coords="1862,1461,1983,1488"/>
<area shape="rect" id="node33" href="runlist_8c.html#a7597afce0c5c77abf6cea59dd4c42117" title="ntfs_rl_realloc" alt="" coords="1678,1461,1781,1488"/>
<area shape="rect" id="node38" href="runlist_8c.html#ad42df4c2ba6ae221ea8b478739d8c793" title="ntfs_rl_mm" alt="" coords="1686,1563,1773,1589"/>
<area shape="rect" id="node39" href="runlist_8c.html#afc45c65b1869d9ee3040061160244c55" title="ntfs_rl_replace" alt="" coords="1480,1563,1587,1589"/>
<area shape="rect" id="node40" href="runlist_8c.html#abe25ac97a94bad6afd92c060025790bd" title="ntfs_rl_insert" alt="" coords="1485,1461,1582,1488"/>
<area shape="rect" id="node41" href="runlist_8c.html#ab577964ec6fef984755f055188bb06a7" title="ntfs_rl_append" alt="" coords="1480,1613,1587,1640"/>
<area shape="rect" id="node42" href="runlist_8c.html#ae141990f8ba871617c536c6d239331de" title="ntfs_rl_split" alt="" coords="1489,1512,1578,1539"/>
<area shape="rect" id="node43" href="runlist_8c.html#abf236f92d80fcbb0d32ce6b97d949379" title="ntfs_rl_realloc_nofail" alt="" coords="1659,1259,1800,1285"/>
<area shape="rect" id="node47" href="runlist_8c.html#ac2497788c7a1fae2c52dbca08330804c" title="ntfs_mapping_pairs\l_decompress" alt="" coords="1043,1462,1178,1503"/>
<area shape="rect" id="node49" href="jfs_2xattr_8c.html#aedc59b5bad93e9415471d70e13deb43c" title="is_known_namespace" alt="" coords="403,1891,553,1917"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_icgraph.png" border="0" usemap="#ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_icgraph" alt=""/></div>
<map name="ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_icgraph" id="ntfs_2dir_8c_a9e749d316c242a247306a9c23a468396_icgraph">
<area shape="rect" id="node2" href="ntfs_2dir_8h.html#a9e749d316c242a247306a9c23a468396" title="ntfs_lookup_inode_by_name" alt="" coords="240,50,427,77"/>
<area shape="rect" id="node3" href="ntfs_2super_8c.html#a3ac011e0fc26b08a55c6105af8a6aa9d" title="ntfs_setup_allocators" alt="" coords="475,25,621,51"/>
<area shape="rect" id="node6" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8" title="ntfs_lookup" alt="" coords="503,87,593,114"/>
<area shape="rect" id="node4" href="ntfs_2super_8c.html#a1afed2018068359ea80abae0cf8c4c96" title="ntfs_fill_super" alt="" coords="669,25,772,51"/>
<area shape="rect" id="node5" href="ntfs_2super_8c.html#a56d671e0fc29d48f7d8da76a48de59f2" title="ntfs_mount" alt="" coords="820,25,907,51"/>
</map>
</div>

</div>
</div>
<a id="ab1bc16b9eb8282df6442679416ef57fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bc16b9eb8282df6442679416ef57fe">&#9670;&nbsp;</a></span>ntfs_readdir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ntfs_readdir </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dir_context *&#160;</td>
          <td class="paramname"><em>actor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ntfs_2dir_8c_ab1bc16b9eb8282df6442679416ef57fe_cgraph.png" border="0" usemap="#ntfs_2dir_8c_ab1bc16b9eb8282df6442679416ef57fe_cgraph" alt=""/></div>
<map name="ntfs_2dir_8c_ab1bc16b9eb8282df6442679416ef57fe_cgraph" id="ntfs_2dir_8c_ab1bc16b9eb8282df6442679416ef57fe_cgraph">
<area shape="rect" id="node2" href="ntfs_2inode_8h.html#a6efd5f611b35ed752fdf15917c707e6d" title="NTFS_I" alt="" coords="1403,2068,1471,2095"/>
<area shape="rect" id="node3" href="ntfs_8h.html#a7bd82112df01116e1297aa8165d02ff2" title="NTFS_SB" alt="" coords="519,1443,602,1469"/>
<area shape="rect" id="node17" href="mft_8c.html#aab879cd658d486f45345e08fa15f276c" title="map_mft_record" alt="" coords="1379,245,1495,272"/>
<area shape="rect" id="node19" href="ntfs_2aops_8h.html#addce11ccc5af85679488fa76ccc6b622" title="ntfs_map_page" alt="" coords="1845,195,1955,221"/>
<area shape="rect" id="node20" href="ntfs_2aops_8h.html#a1598f6a34c91644e4e765b5b04080784" title="ntfs_unmap_page" alt="" coords="2031,245,2156,272"/>
<area shape="rect" id="node21" href="attrib_8c.html#a790cab56d5e72fa613e5ac57c74d000d" title="ntfs_attr_get_search_ctx" alt="" coords="1353,397,1520,424"/>
<area shape="rect" id="node23" href="attrib_8c.html#ad0fa0a5955dbd1e17a84b12d3dc3e5d2" title="ntfs_attr_lookup" alt="" coords="503,1187,618,1213"/>
<area shape="rect" id="node29" href="ntfs_2endian_8h.html#a2e96c421837ca8d7008130e9d8bdcfdb" title="sle64_to_cpu" alt="" coords="1633,1188,1732,1215"/>
<area shape="rect" id="node32" href="mft_8c.html#acdca69e797b129f8be7643ed91f691bd" title="unmap_mft_record" alt="" coords="1371,971,1502,997"/>
<area shape="rect" id="node35" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1173,2397,1215,2424"/>
<area shape="rect" id="node41" href="attrib_8c.html#a4959e9081ff22f6912010201efcc1c0b" title="ntfs_attr_put_search_ctx" alt="" coords="1111,573,1277,600"/>
<area shape="rect" id="node43" href="ntfs_2dir_8c.html#acd57954d35adc0896c66f15bb1f38a22" title="ntfs_filldir" alt="" coords="154,1289,233,1316"/>
<area shape="rect" id="node46" href="ntfs_2inode_8c.html#a5cbfd09234c5615f6dbf757587558bd3" title="ntfs_attr_iget" alt="" coords="144,2195,243,2221"/>
<area shape="rect" id="node4" href="ntfs_8h.html#a6f4a2644da3c2e4ce52b8aa1bd836b56" title="ntfs_read_compressed\l_block" alt="" coords="906,1681,1061,1722"/>
<area shape="rect" id="node15" href="ntfs_8h.html#a99985ea0f81bd70c39de9a3958576f03" title="allocate_compression\l_buffers" alt="" coords="696,1435,844,1477"/>
<area shape="rect" id="node16" href="ntfs_8h.html#a1f976e5ac1853d6990f2601819fbb26b" title="free_compression_buffers" alt="" coords="684,1501,856,1528"/>
<area shape="rect" id="node5" href="buffer_8c.html#a60a1eb6418d9f7d63ceb44bc1d1f46c5" title="block_size_bits" alt="" coords="1138,1789,1250,1816"/>
<area shape="rect" id="node6" href="ntfs_2inode_8h.html#ade15d2f33de0865b12ce2a4623dbf58c" title="VFS_I" alt="" coords="1407,869,1466,896"/>
<area shape="rect" id="node7" href="runlist_8c.html#a9437be86ebe30bd60e86d305679943e1" title="ntfs_rl_vcn_to_lcn" alt="" coords="1373,1561,1501,1588"/>
<area shape="rect" id="node9" href="attrib_8c.html#a31d302aa72ec21e818ed6e3d464db190" title="ntfs_map_runlist" alt="" coords="1135,1637,1253,1664"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1144,1688,1244,1715"/>
<area shape="rect" id="node11" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1119,1739,1269,1765"/>
<area shape="rect" id="node12" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1153,1333,1235,1360"/>
<area shape="rect" id="node13" href="ntfs_2compress_8c.html#ad598c82950bdf535a6821904f438c223" title="handle_bounds_compressed_page" alt="" coords="1325,1865,1548,1892"/>
<area shape="rect" id="node14" href="ntfs_2compress_8c.html#a05f789ec69dc95308b1eebe2fc78ef9f" title="ntfs_decompress" alt="" coords="1133,1891,1255,1917"/>
<area shape="rect" id="node8" href="malloc_8h.html#ab6824be4d6e004aa075b1fe66fd0d737" title="ntfs_free" alt="" coords="1863,507,1937,533"/>
<area shape="rect" id="node18" href="mft_8c.html#ae88ce25e1f8572300849e75a5e157e5b" title="map_mft_record_page" alt="" coords="1607,245,1758,272"/>
<area shape="rect" id="node22" href="attrib_8c.html#abc2c6bb40d94683fcee382267c2db928" title="ntfs_attr_init_search_ctx" alt="" coords="1600,667,1765,693"/>
<area shape="rect" id="node24" href="attrib_8c.html#aea2c048b3faf9c5f3b5e3838a5f8b55d" title="ntfs_attr_find" alt="" coords="934,1232,1033,1259"/>
<area shape="rect" id="node28" href="attrib_8c.html#aa1ca8eef91a0f2e47720a6e8fafe53c1" title="ntfs_external_attr_find" alt="" coords="695,1181,845,1208"/>
<area shape="rect" id="node25" href="name_8c.html#a6f3e259198a4231f3429f98f2bf02b23" title="upcase" alt="" coords="1162,1232,1226,1259"/>
<area shape="rect" id="node26" href="ntfs_8h.html#aa9de56ad5f4ccba2f91e7bbf3c873910" title="ntfs_are_names_equal" alt="" coords="1117,1283,1271,1309"/>
<area shape="rect" id="node27" href="ntfs_8h.html#a7abc16b0931427fa8b0500dc0f316f0f" title="ntfs_collate_names" alt="" coords="1127,1181,1261,1208"/>
<area shape="rect" id="node30" href="mft_8h.html#a811ffb1e431fb1a2eb8646378b4cebe4" title="unmap_extent_mft_record" alt="" coords="1596,793,1769,820"/>
<area shape="rect" id="node31" href="mft_8c.html#abf9229d5b335c334e2fc0a9a33eef54b" title="map_extent_mft_record" alt="" coords="904,852,1063,879"/>
<area shape="rect" id="node40" href="attrib_8c.html#ae39c510288e49f68010493e93cf02ab8" title="ntfs_attr_reinit_search_ctx" alt="" coords="1349,768,1525,795"/>
<area shape="rect" id="node34" href="ntfs_2inode_8c.html#a6d8b96cf26fa5d3d90420acd32a57453" title="ntfs_test_inode" alt="" coords="1139,2043,1249,2069"/>
<area shape="rect" id="node38" href="runlist_8c.html#a88bf16d765cbf410f22d562dcdd92213" title="ntfs_runlists_merge" alt="" coords="1615,452,1751,479"/>
<area shape="rect" id="node39" href="ntfs_2endian_8h.html#a32083373aca4ead974dd8f68ff3374eb" title="cpu_to_sle64" alt="" coords="1387,717,1486,744"/>
<area shape="rect" id="node33" href="mft_8c.html#a7f853eae19270e8962f1d1e7a910f9b5" title="unmap_mft_record_page" alt="" coords="1817,764,1983,791"/>
<area shape="rect" id="node36" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1399,2397,1474,2424"/>
<area shape="rect" id="node37" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1367,2347,1506,2373"/>
<area shape="rect" id="node42" href="runlist_8c.html#ac2497788c7a1fae2c52dbca08330804c" title="ntfs_mapping_pairs\l_decompress" alt="" coords="1369,499,1504,541"/>
<area shape="rect" id="node44" href="configfs_2dir_8c.html#a610a00f3eae26aab2e1585ea7eccb56b" title="dt_type" alt="" coords="331,1264,397,1291"/>
<area shape="rect" id="node45" href="ntfs_8h.html#a67e1ba3443809f2cab41ca4f61966471" title="ntfs_ucstonls" alt="" coords="314,1315,414,1341"/>
<area shape="rect" id="node47" href="inode_8c.html#a0e9a0440646ab0424be87f1ee6387c64" title="iget5_locked" alt="" coords="936,2347,1031,2373"/>
<area shape="rect" id="node48" href="ntfs_2inode_8c.html#a7a81decedcd1c604395899479ed81c7b" title="ntfs_init_locked_inode" alt="" coords="485,2195,636,2221"/>
<area shape="rect" id="node49" href="ntfs_2inode_8c.html#ab7dc20a011b54a05dd7a1c0863293565" title="ntfs_read_locked_attr\l_inode" alt="" coords="291,1377,437,1418"/>
<area shape="rect" id="node50" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="496,2245,625,2272"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a23cc03cccf9d903bf1db8ebd9d376e7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23cc03cccf9d903bf1db8ebd9d376e7d">&#9670;&nbsp;</a></span>I30</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a6ee332152a8073f8b12d2ecd6b4aabdd">ntfschar</a> I30[5]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { cpu_to_le16(<span class="charliteral">&#39;$&#39;</span>), cpu_to_le16(<span class="charliteral">&#39;I&#39;</span>),</div><div class="line">        cpu_to_le16(<span class="charliteral">&#39;3&#39;</span>),   cpu_to_le16(<span class="charliteral">&#39;0&#39;</span>), 0 }</div></div><!-- fragment --><p>dir.c - NTFS kernel directory operations. Part of the Linux-NTFS project.</p>
<p>Copyright (c) 2001-2007 Anton Altaparmakov Copyright (c) 2002 Richard Russon</p>
<p>This program/include file is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program/include file is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program (in the main directory of the Linux-NTFS distribution in the file COPYING); if not, write to the Free Software Foundation,Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA The little endian Unicode string $I30 as a global constant. </p>

</div>
</div>
<a id="a4458078d7c32b655932b4acd6cfc5a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4458078d7c32b655932b4acd6cfc5a06">&#9670;&nbsp;</a></span>ntfs_dir_ops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations ntfs_dir_ops</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .llseek     = <a class="code" href="read__write_8c.html#a742084c7905066c90d7a474e8d58123d">generic_file_llseek</a>,  </div><div class="line">    .read       = <a class="code" href="libfs_8c.html#acd1e77da200d3cb21c8502eb482600ba">generic_read_dir</a>, </div><div class="line">    .iterate    = <a class="code" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe">ntfs_readdir</a>,     </div><div class="line"></div><div class="line"></div><div class="line"> </div><div class="line">                </div><div class="line">    .open       = <a class="code" href="ntfs_2dir_8c.html#a6a2f512e854fae1434d1259c9c77e2b1">ntfs_dir_open</a>,    </div><div class="line">}</div><div class="ttc" id="ntfs_2dir_8c_html_a6a2f512e854fae1434d1259c9c77e2b1"><div class="ttname"><a href="ntfs_2dir_8c.html#a6a2f512e854fae1434d1259c9c77e2b1">ntfs_dir_open</a></div><div class="ttdeci">static int ntfs_dir_open(struct inode *vi, struct file *filp)</div><div class="ttdef"><b>Definition:</b> dir.c:1464</div></div>
<div class="ttc" id="libfs_8c_html_acd1e77da200d3cb21c8502eb482600ba"><div class="ttname"><a href="libfs_8c.html#acd1e77da200d3cb21c8502eb482600ba">generic_read_dir</a></div><div class="ttdeci">ssize_t generic_read_dir(struct file *filp, char __user *buf, size_t siz, loff_t *ppos)</div><div class="ttdef"><b>Definition:</b> libfs.c:211</div></div>
<div class="ttc" id="ntfs_2dir_8c_html_ab1bc16b9eb8282df6442679416ef57fe"><div class="ttname"><a href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe">ntfs_readdir</a></div><div class="ttdeci">static int ntfs_readdir(struct file *file, struct dir_context *actor)</div><div class="ttdef"><b>Definition:</b> dir.c:1099</div></div>
<div class="ttc" id="read__write_8c_html_a742084c7905066c90d7a474e8d58123d"><div class="ttname"><a href="read__write_8c.html#a742084c7905066c90d7a474e8d58123d">generic_file_llseek</a></div><div class="ttdeci">loff_t generic_file_llseek(struct file *file, loff_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> read_write.c:144</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_99323eb50d8b7f308e54c5b64a386026.html">ntfs</a></li><li class="navelem"><a class="el" href="ntfs_2dir_8c.html">dir.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
