<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/mdt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mdt_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mdt.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/blockgroup_lock.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nilfs_8h_source.html">nilfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page_8h_source.html">page.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mdt.h:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h__incl.png" border="0" usemap="#nilfs2_2mdt_8h" alt=""/></div>
<map name="nilfs2_2mdt_8h" id="nilfs2_2mdt_8h">
<area shape="rect" id="node4" href="nilfs_8h.html" title="nilfs.h" alt="" coords="795,155,852,181"/>
<area shape="rect" id="node20" href="page_8h.html" title="page.h" alt="" coords="1095,80,1157,107"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="506,304,589,331"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="828,229,893,256"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="911,304,971,331"/>
<area shape="rect" id="node19" href="dat_8h.html" title="dat.h" alt="" coords="835,304,886,331"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h__dep__incl.png" border="0" usemap="#nilfs2_2mdt_8hdep" alt=""/></div>
<map name="nilfs2_2mdt_8hdep" id="nilfs2_2mdt_8hdep">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html" title="nilfs2/alloc.c" alt="" coords="5,80,100,107"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html" title="nilfs2/bmap.c" alt="" coords="124,80,224,107"/>
<area shape="rect" id="node4" href="btnode_8c.html" title="nilfs2/btnode.c" alt="" coords="249,80,355,107"/>
<area shape="rect" id="node5" href="cpfile_8c.html" title="nilfs2/cpfile.c" alt="" coords="379,80,478,107"/>
<area shape="rect" id="node6" href="dat_8c.html" title="nilfs2/dat.c" alt="" coords="503,80,589,107"/>
<area shape="rect" id="node7" href="gcinode_8c.html" title="nilfs2/gcinode.c" alt="" coords="364,155,477,181"/>
<area shape="rect" id="node8" href="ifile_8h.html" title="nilfs2/ifile.h" alt="" coords="766,80,854,107"/>
<area shape="rect" id="node9" href="ifile_8c.html" title="nilfs2/ifile.c" alt="" coords="502,155,590,181"/>
<area shape="rect" id="node10" href="nilfs2_2inode_8c.html" title="nilfs2/inode.c" alt="" coords="614,155,713,181"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html" title="nilfs2/super.c" alt="" coords="880,155,980,181"/>
<area shape="rect" id="node13" href="sufile_8h.html" title="nilfs2/sufile.h" alt="" coords="978,80,1077,107"/>
<area shape="rect" id="node16" href="sufile_8c.html" title="nilfs2/sufile.c" alt="" coords="1403,155,1502,181"/>
<area shape="rect" id="node17" href="nilfs2_2sysfs_8c.html" title="nilfs2/sysfs.c" alt="" coords="1527,155,1627,181"/>
<area shape="rect" id="node19" href="mdt_8c.html" title="nilfs2/mdt.c" alt="" coords="1202,80,1293,107"/>
<area shape="rect" id="node20" href="nilfs2_2page_8c.html" title="nilfs2/page.c" alt="" coords="1317,80,1413,107"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html" title="nilfs2/segment.c" alt="" coords="737,155,856,181"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html" title="nilfs2/ioctl.c" alt="" coords="1004,155,1096,181"/>
<area shape="rect" id="node15" href="nilfs2_2recovery_8c.html" title="nilfs2/recovery.c" alt="" coords="1120,155,1239,181"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html" title="nilfs2/the_nilfs.c" alt="" coords="1262,155,1379,181"/>
</map>
</div>
</div>
<p><a href="mdt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__shadow__map.html">nilfs_shadow_map</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__mdt__info.html">nilfs_mdt_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:affaf36b987d0544867d6787701eb9b42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#affaf36b987d0544867d6787701eb9b42">NILFS_MDT_GFP</a>&#160;&#160;&#160;(__GFP_RECLAIM | __GFP_IO | __GFP_HIGHMEM)</td></tr>
<tr class="separator:affaf36b987d0544867d6787701eb9b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a643a628d0928b0f90712ea026df6cb59"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structnilfs__mdt__info.html">nilfs_mdt_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59">NILFS_MDT</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a643a628d0928b0f90712ea026df6cb59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c48e184ebb4a40a2e03e20d2ccca9f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#ab3c48e184ebb4a40a2e03e20d2ccca9f">nilfs_is_metadata_file_inode</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:ab3c48e184ebb4a40a2e03e20d2ccca9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22a199db78ca4f03ee4558c8b3701cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd">nilfs_mdt_get_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, unsigned long, int, void(*init_block)(struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, struct buffer_head *, void *), struct buffer_head **)</td></tr>
<tr class="separator:af22a199db78ca4f03ee4558c8b3701cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaed5e8667743afd0be01cfa99101c9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f">nilfs_mdt_find_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, unsigned long end, unsigned long *blkoff, struct buffer_head **out_bh)</td></tr>
<tr class="separator:adaed5e8667743afd0be01cfa99101c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee462900ac199be00a3cf832f5f7f154"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154">nilfs_mdt_delete_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, unsigned long)</td></tr>
<tr class="separator:aee462900ac199be00a3cf832f5f7f154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71bd72ea9804bf749362d28977baeaa7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a71bd72ea9804bf749362d28977baeaa7">nilfs_mdt_forget_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, unsigned long)</td></tr>
<tr class="separator:a71bd72ea9804bf749362d28977baeaa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0068a76c65a214c857fceaefe8a7dd8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a0068a76c65a214c857fceaefe8a7dd8a">nilfs_mdt_fetch_dirty</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *)</td></tr>
<tr class="separator:a0068a76c65a214c857fceaefe8a7dd8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d24c6e56a98e581fc30fd8a65841e2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a9d24c6e56a98e581fc30fd8a65841e2a">nilfs_mdt_init</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, gfp_t gfp_mask, size_t objsz)</td></tr>
<tr class="separator:a9d24c6e56a98e581fc30fd8a65841e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e53b80ec84301e3f8c2220cdb237e1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a3e53b80ec84301e3f8c2220cdb237e1e">nilfs_mdt_clear</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a3e53b80ec84301e3f8c2220cdb237e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f06b441f5e108ab81b749523c0881c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a88f06b441f5e108ab81b749523c0881c">nilfs_mdt_destroy</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a88f06b441f5e108ab81b749523c0881c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc039b4d7524445ad87abb5efab9a00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#abdc039b4d7524445ad87abb5efab9a00">nilfs_mdt_set_entry_size</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, unsigned int, unsigned int)</td></tr>
<tr class="separator:abdc039b4d7524445ad87abb5efab9a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af086b786e77eaa33878204ec7e161bb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#af086b786e77eaa33878204ec7e161bb3">nilfs_mdt_setup_shadow_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__shadow__map.html">nilfs_shadow_map</a> *shadow)</td></tr>
<tr class="separator:af086b786e77eaa33878204ec7e161bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b91aea5f3e024d438f92e11efb9309b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a1b91aea5f3e024d438f92e11efb9309b">nilfs_mdt_save_to_shadow_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a1b91aea5f3e024d438f92e11efb9309b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673c8a81a5993668b02111eccc3f2b93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93">nilfs_mdt_restore_from_shadow_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a673c8a81a5993668b02111eccc3f2b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d73bacfcef709cc1cb5956355ee9d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a49d73bacfcef709cc1cb5956355ee9d3">nilfs_mdt_clear_shadow_map</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a49d73bacfcef709cc1cb5956355ee9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c5b4ccdadaa132a86ca0d25f739b09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a93c5b4ccdadaa132a86ca0d25f739b09">nilfs_mdt_freeze_buffer</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *bh)</td></tr>
<tr class="separator:a93c5b4ccdadaa132a86ca0d25f739b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac812454a88416aae4c77cdb630f97716"><td class="memItemLeft" align="right" valign="top">struct buffer_head *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#ac812454a88416aae4c77cdb630f97716">nilfs_mdt_get_frozen_buffer</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *bh)</td></tr>
<tr class="separator:ac812454a88416aae4c77cdb630f97716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9db9c2ce4c61835ac0c297556a1ac9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9">nilfs_mdt_mark_dirty</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a9d9db9c2ce4c61835ac0c297556a1ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421795f7ee0e2e591f2d185ac9cdc3a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a421795f7ee0e2e591f2d185ac9cdc3a5">nilfs_mdt_clear_dirty</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a421795f7ee0e2e591f2d185ac9cdc3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6726d332d6af4468ef3bc1a2ab975b56"><td class="memItemLeft" align="right" valign="top">static __u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56">nilfs_mdt_cno</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a6726d332d6af4468ef3bc1a2ab975b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cdb2c26d17013a183fe241b115dd589"><td class="memItemLeft" align="right" valign="top">static spinlock_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589">nilfs_mdt_bgl_lock</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned int block_group)</td></tr>
<tr class="separator:a3cdb2c26d17013a183fe241b115dd589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="affaf36b987d0544867d6787701eb9b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affaf36b987d0544867d6787701eb9b42">&#9670;&nbsp;</a></span>NILFS_MDT_GFP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_MDT_GFP&#160;&#160;&#160;(__GFP_RECLAIM | __GFP_IO | __GFP_HIGHMEM)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab3c48e184ebb4a40a2e03e20d2ccca9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3c48e184ebb4a40a2e03e20d2ccca9f">&#9670;&nbsp;</a></span>nilfs_is_metadata_file_inode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_is_metadata_file_inode </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_ab3c48e184ebb4a40a2e03e20d2ccca9f_icgraph.png" border="0" usemap="#mdt_8h_ab3c48e184ebb4a40a2e03e20d2ccca9f_icgraph" alt=""/></div>
<map name="mdt_8h_ab3c48e184ebb4a40a2e03e20d2ccca9f_icgraph" id="mdt_8h_ab3c48e184ebb4a40a2e03e20d2ccca9f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="201,360,320,386"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a93b95cdf63310bf3fff0727c1909b7f7" title="nilfs_i_callback" alt="" coords="205,410,316,437"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="585,322,703,349"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1315,286,1435,313"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1505,236,1620,262"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1904,337,2035,364"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1724,236,1813,262"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1723,286,1815,313"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1719,185,1818,212"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1726,84,1811,110"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2910,388,2987,414"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#ad6bb8379d2178b423509a21afeaf1f36" title="nilfs_destroy_inode" alt="" coords="368,410,503,437"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="551,410,737,437"/>
<area shape="rect" id="node15" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="785,461,895,488"/>
<area shape="rect" id="node16" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="943,182,1081,209"/>
<area shape="rect" id="node27" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="945,537,1079,564"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="959,588,1065,614"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="955,638,1069,665"/>
<area shape="rect" id="node30" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1315,486,1434,513"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="959,385,1065,412"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="962,436,1062,462"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1305,538,1444,579"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1144,233,1243,260"/>
<area shape="rect" id="node19" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1143,81,1244,108"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1131,182,1255,209"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1129,132,1257,158"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1327,236,1423,262"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1505,286,1621,313"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1338,33,1411,60"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1321,134,1429,161"/>
<area shape="rect" id="node24" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1519,134,1606,161"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1521,185,1604,212"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1134,486,1253,513"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1148,436,1239,462"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1492,541,1633,568"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1681,540,1856,566"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1931,538,2008,565"/>
<area shape="rect" id="node38" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2089,474,2194,501"/>
<area shape="rect" id="node40" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2083,538,2200,565"/>
<area shape="rect" id="node39" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2282,462,2371,489"/>
<area shape="rect" id="node41" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2277,564,2376,590"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2248,513,2405,540"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2457,445,2605,472"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2462,560,2601,602"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2453,509,2609,536"/>
<area shape="rect" id="node44" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2657,441,2836,468"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2677,568,2816,594"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2884,560,3013,602"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2673,509,2820,536"/>
</map>
</div>

</div>
</div>
<a id="a643a628d0928b0f90712ea026df6cb59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a643a628d0928b0f90712ea026df6cb59">&#9670;&nbsp;</a></span>NILFS_MDT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structnilfs__mdt__info.html">nilfs_mdt_info</a>* NILFS_MDT </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3cdb2c26d17013a183fe241b115dd589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cdb2c26d17013a183fe241b115dd589">&#9670;&nbsp;</a></span>nilfs_mdt_bgl_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static spinlock_t* nilfs_mdt_bgl_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>block_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a3cdb2c26d17013a183fe241b115dd589_cgraph.png" border="0" usemap="#mdt_8h_a3cdb2c26d17013a183fe241b115dd589_cgraph" alt=""/></div>
<map name="mdt_8h_a3cdb2c26d17013a183fe241b115dd589_cgraph" id="mdt_8h_a3cdb2c26d17013a183fe241b115dd589_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="184,5,280,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a3cdb2c26d17013a183fe241b115dd589_icgraph.png" border="0" usemap="#mdt_8h_a3cdb2c26d17013a183fe241b115dd589_icgraph" alt=""/></div>
<map name="mdt_8h_a3cdb2c26d17013a183fe241b115dd589_icgraph" id="mdt_8h_a3cdb2c26d17013a183fe241b115dd589_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="184,308,321,349"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="184,515,321,556"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="191,243,314,284"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="191,606,314,633"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="369,250,524,277"/>
<area shape="rect" id="node16" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="389,304,505,345"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="593,129,728,171"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="577,250,744,277"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="824,5,956,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="821,71,959,112"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="828,137,952,163"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1045,13,1166,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1039,71,1171,112"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1235,78,1381,105"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="824,239,956,280"/>
<area shape="rect" id="node15" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="1031,473,1180,499"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1039,172,1171,213"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1228,133,1388,159"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1048,238,1163,265"/>
<area shape="rect" id="node24" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="582,457,739,483"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1263,335,1353,362"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1262,183,1354,210"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1259,234,1357,261"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1265,285,1351,311"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1248,386,1368,413"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1436,386,1567,413"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="825,515,955,542"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="825,355,955,382"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="817,457,963,483"/>
<area shape="rect" id="node26" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1068,523,1143,550"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1038,289,1173,331"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1047,407,1163,448"/>
<area shape="rect" id="node32" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="371,613,522,639"/>
<area shape="rect" id="node39" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="389,515,504,556"/>
<area shape="rect" id="node33" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="586,629,735,655"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="797,691,983,718"/>
<area shape="rect" id="node37" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="807,629,973,655"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#ac9dbba7bb2a2a145e06683fcd02a4752" title="nilfs_btree_commit\l_delete" alt="" coords="1039,743,1171,784"/>
<area shape="rect" id="node36" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="1042,691,1169,718"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="1039,625,1171,667"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="601,523,720,550"/>
<area shape="rect" id="node42" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="376,198,517,225"/>
<area shape="rect" id="node43" href="nilfs2_2bmap_8h.html#a85dab214f0695b10c68e3383eb543a4a" title="nilfs_bmap_abort_alloc_ptr" alt="" coords="572,78,749,105"/>
<area shape="rect" id="node44" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="584,198,737,225"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#aa8309dc2635d198364319aa97d9f6054" title="nilfs_btree_abort_update_v" alt="" coords="801,187,979,214"/>
<area shape="rect" id="node47" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="393,695,500,722"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="576,743,745,770"/>
<area shape="rect" id="node49" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="827,801,953,843"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1031,859,1179,886"/>
</map>
</div>

</div>
</div>
<a id="a3e53b80ec84301e3f8c2220cdb237e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e53b80ec84301e3f8c2220cdb237e1e">&#9670;&nbsp;</a></span>nilfs_mdt_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_mdt_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_clear - do cleanup for the metadata file : inode of the metadata file </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_cgraph.png" border="0" usemap="#mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_cgraph" alt=""/></div>
<map name="mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_cgraph" id="mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="520,27,616,53"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a7ad556c87d6cf7e18d5b8a276d453cfc" title="nilfs_palloc_destroy\l_cache" alt="" coords="164,27,301,69"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#aa1ef67260a902eaecb3a5aacacdd0ed8" title="nilfs_palloc_clear\l_cache" alt="" coords="349,78,472,119"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_icgraph.png" border="0" usemap="#mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_icgraph" alt=""/></div>
<map name="mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_icgraph" id="mdt_8h_a3e53b80ec84301e3f8c2220cdb237e1e_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="164,139,283,165"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="331,139,449,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="497,139,617,165"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="673,111,788,137"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="665,164,796,191"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="849,5,938,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="847,56,939,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="844,107,943,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="851,157,936,184"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="855,232,932,259"/>
</map>
</div>

</div>
</div>
<a id="a421795f7ee0e2e591f2d185ac9cdc3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a421795f7ee0e2e591f2d185ac9cdc3a5">&#9670;&nbsp;</a></span>nilfs_mdt_clear_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_mdt_clear_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_cgraph.png" border="0" usemap="#mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_cgraph" alt=""/></div>
<map name="mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_cgraph" id="mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="196,5,267,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_icgraph.png" border="0" usemap="#mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_icgraph" alt=""/></div>
<map name="mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_icgraph" id="mdt_8h_a421795f7ee0e2e591f2d185ac9cdc3a5_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a78c98686e38ca6a463b8121558402441" title="nilfs_segctor_clear\l_metadata_dirty" alt="" coords="196,345,327,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="375,345,531,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="579,352,705,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="753,352,932,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1607,286,1757,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1399,411,1556,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="980,345,1164,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1829,200,1934,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1823,301,1939,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2032,149,2152,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2248,107,2363,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2240,208,2371,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2472,157,2561,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2471,5,2563,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2467,56,2566,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2474,107,2559,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2478,232,2555,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1608,352,1756,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1613,403,1751,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1604,469,1760,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2003,352,2181,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1812,411,1951,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2027,403,2157,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2229,411,2381,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2783,436,2889,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2467,512,2567,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2429,461,2604,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2947,499,3037,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2652,461,2729,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2777,575,2895,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2943,575,3041,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1808,469,1955,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2015,469,2169,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2250,563,2361,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1212,185,1351,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1403,352,1551,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1408,149,1547,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1632,99,1732,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1623,149,1741,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1822,251,1941,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1836,99,1927,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2033,235,2151,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2023,286,2161,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2235,309,2376,336"/>
</map>
</div>

</div>
</div>
<a id="a49d73bacfcef709cc1cb5956355ee9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d73bacfcef709cc1cb5956355ee9d3">&#9670;&nbsp;</a></span>nilfs_mdt_clear_shadow_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_mdt_clear_shadow_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_clear_shadow_map - truncate pages in shadow map caches : inode of the metadata file </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_cgraph.png" border="0" usemap="#mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_cgraph" alt=""/></div>
<map name="mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_cgraph" id="mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="269,5,365,32"/>
<area shape="rect" id="node3" href="mdt_8c.html#a3e93261fc9d1372c65be2e8d954f3d0a" title="nilfs_release_frozen\l_buffers" alt="" coords="248,57,387,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_icgraph.png" border="0" usemap="#mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_icgraph" alt=""/></div>
<map name="mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_icgraph" id="mdt_8h_a49d73bacfcef709cc1cb5956355ee9d3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="248,107,396,133"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="444,107,623,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="671,107,748,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="796,81,916,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="972,81,1087,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="964,132,1095,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1147,5,1237,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1146,56,1238,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1143,107,1241,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1149,157,1235,184"/>
</map>
</div>

</div>
</div>
<a id="a6726d332d6af4468ef3bc1a2ab975b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6726d332d6af4468ef3bc1a2ab975b56">&#9670;&nbsp;</a></span>nilfs_mdt_cno()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __u64 nilfs_mdt_cno </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a6726d332d6af4468ef3bc1a2ab975b56_icgraph.png" border="0" usemap="#mdt_8h_a6726d332d6af4468ef3bc1a2ab975b56_icgraph" alt=""/></div>
<map name="mdt_8h_a6726d332d6af4468ef3bc1a2ab975b56_icgraph" id="mdt_8h_a6726d332d6af4468ef3bc1a2ab975b56_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="156,195,335,221"/>
<area shape="rect" id="node17" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="180,334,311,375"/>
<area shape="rect" id="node24" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="165,85,326,112"/>
<area shape="rect" id="node25" href="cpfile_8h.html#a3449472f483c42ad36c89de01f0204d5" title="nilfs_cpfile_get_stat" alt="" coords="176,459,315,485"/>
<area shape="rect" id="node29" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="168,583,323,609"/>
<area shape="rect" id="node34" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="171,717,320,744"/>
<area shape="rect" id="node43" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="178,857,313,884"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="403,81,562,108"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="413,158,552,199"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="870,217,986,258"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="645,5,795,32"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1083,56,1189,83"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="633,107,807,133"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1321,31,1410,57"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="889,107,967,133"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="649,158,791,199"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="857,165,999,192"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1047,195,1225,221"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1291,129,1440,170"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1287,195,1444,221"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1273,246,1457,287"/>
<area shape="rect" id="node18" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="407,283,558,309"/>
<area shape="rect" id="node22" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="419,334,546,375"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="659,275,781,317"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="889,348,967,375"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1076,348,1196,375"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="661,341,779,382"/>
<area shape="rect" id="node26" href="nilfs2_2ioctl_8c.html#a39cf54b1fc6701f6616f08fefcf4260b" title="nilfs_ioctl_get_cpstat" alt="" coords="410,400,555,427"/>
<area shape="rect" id="node27" href="nilfs2_2sysfs_8c.html#afa186f47a96aaf919fc4c5faa1891f19" title="nilfs_checkpoints_checkpoints\l_number_show" alt="" coords="383,451,583,493"/>
<area shape="rect" id="node28" href="nilfs2_2sysfs_8c.html#a3b4893fe04d5a74b5b772943685e5ac7" title="nilfs_checkpoints_snapshots\l_number_show" alt="" coords="387,517,578,558"/>
<area shape="rect" id="node30" href="nilfs2_2btree_8c.html#ae8fd34257f04690a23daa3fb34e4864c" title="nilfs_btree_assign_v" alt="" coords="412,583,553,609"/>
<area shape="rect" id="node32" href="nilfs2_2direct_8c.html#a86e6661436549ae94df47245a39d98ef" title="nilfs_direct_assign_v" alt="" coords="411,633,555,660"/>
<area shape="rect" id="node31" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="657,565,783,592"/>
<area shape="rect" id="node33" href="nilfs2_2direct_8c.html#ab01e002da82f61015e84db7f67bc3fe6" title="nilfs_direct_assign" alt="" coords="655,616,785,643"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="390,717,575,744"/>
<area shape="rect" id="node39" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="399,857,566,884"/>
<area shape="rect" id="node36" href="nilfs2_2btree_8c.html#ac9dbba7bb2a2a145e06683fcd02a4752" title="nilfs_btree_commit\l_delete" alt="" coords="654,667,786,709"/>
<area shape="rect" id="node38" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="657,733,783,760"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="866,733,990,760"/>
<area shape="rect" id="node40" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="654,850,786,891"/>
<area shape="rect" id="node42" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="645,916,795,943"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="862,850,994,891"/>
<area shape="rect" id="node44" href="nilfs2_2bmap_8h.html#a1e7a2d86d72ef55b104863224e28efc9" title="nilfs_bmap_abort_end_ptr" alt="" coords="397,799,568,825"/>
<area shape="rect" id="node46" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="399,916,566,943"/>
<area shape="rect" id="node49" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="406,975,559,1001"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="654,785,786,826"/>
<area shape="rect" id="node47" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="654,967,786,1009"/>
<area shape="rect" id="node48" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="862,997,994,1038"/>
<area shape="rect" id="node50" href="nilfs2_2btree_8c.html#aa8309dc2635d198364319aa97d9f6054" title="nilfs_btree_abort_update_v" alt="" coords="631,1033,809,1060"/>
</map>
</div>

</div>
</div>
<a id="aee462900ac199be00a3cf832f5f7f154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee462900ac199be00a3cf832f5f7f154">&#9670;&nbsp;</a></span>nilfs_mdt_delete_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_delete_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_delete_block - make a hole on the meta data file. : inode of the meta data file : block offset</p>
<p>Return Value: On success, zero is returned. On error, one of the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available.</p>
<p>%-EIO - I/O error </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_aee462900ac199be00a3cf832f5f7f154_cgraph.png" border="0" usemap="#mdt_8h_aee462900ac199be00a3cf832f5f7f154_cgraph" alt=""/></div>
<map name="mdt_8h_aee462900ac199be00a3cf832f5f7f154_cgraph" id="mdt_8h_aee462900ac199be00a3cf832f5f7f154_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="448,204,519,231"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="221,305,348,332"/>
<area shape="rect" id="node27" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="213,255,356,281"/>
<area shape="rect" id="node28" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="208,385,361,412"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="409,321,557,348"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="416,255,551,297"/>
<area shape="rect" id="node5" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="607,314,734,355"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="784,296,905,323"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="790,347,899,373"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="624,251,717,277"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="793,240,897,267"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="953,240,1088,267"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="953,188,1088,215"/>
<area shape="rect" id="node12" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1136,240,1297,267"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1157,185,1277,212"/>
<area shape="rect" id="node15" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1537,184,1673,211"/>
<area shape="rect" id="node25" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1356,133,1479,160"/>
<area shape="rect" id="node26" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1345,235,1489,277"/>
<area shape="rect" id="node16" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1721,300,1875,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2114,212,2253,239"/>
<area shape="rect" id="node20" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1944,401,2044,428"/>
<area shape="rect" id="node21" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1757,132,1839,159"/>
<area shape="rect" id="node17" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1941,300,2047,327"/>
<area shape="rect" id="node18" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1923,234,2065,275"/>
<area shape="rect" id="node22" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1937,31,2051,57"/>
<area shape="rect" id="node23" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2113,5,2253,32"/>
<area shape="rect" id="node24" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2130,56,2237,83"/>
<area shape="rect" id="node29" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="418,378,549,419"/>
<area shape="rect" id="node30" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="420,455,547,481"/>
<area shape="rect" id="node31" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="607,453,735,494"/>
<area shape="rect" id="node32" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="605,518,736,559"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_aee462900ac199be00a3cf832f5f7f154_icgraph.png" border="0" usemap="#mdt_8h_aee462900ac199be00a3cf832f5f7f154_icgraph" alt=""/></div>
<map name="mdt_8h_aee462900ac199be00a3cf832f5f7f154_icgraph" id="mdt_8h_aee462900ac199be00a3cf832f5f7f154_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="223,68,352,109"/>
<area shape="rect" id="node19" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="222,133,353,175"/>
<area shape="rect" id="node24" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="208,253,367,295"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="415,5,544,47"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="415,71,544,112"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="600,15,723,42"/>
<area shape="rect" id="node5" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="789,15,895,42"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="959,15,1128,42"/>
<area shape="rect" id="node7" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1193,36,1320,77"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1380,69,1528,95"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1928,135,2048,162"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1576,69,1755,95"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1803,186,1880,213"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2104,135,2219,162"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2096,186,2227,213"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2279,59,2369,86"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2278,110,2370,137"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2275,161,2373,187"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2281,211,2367,238"/>
<area shape="rect" id="node20" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="779,132,905,173"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="984,67,1103,108"/>
<area shape="rect" id="node22" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="980,132,1107,173"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1606,120,1725,161"/>
<area shape="rect" id="node25" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="592,372,731,413"/>
<area shape="rect" id="node26" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="779,379,905,406"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1401,186,1507,213"/>
<area shape="rect" id="node29" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="953,430,1133,457"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1606,186,1725,213"/>
<area shape="rect" id="node30" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1188,455,1325,482"/>
<area shape="rect" id="node34" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="1191,573,1322,599"/>
<area shape="rect" id="node40" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="1185,264,1328,305"/>
<area shape="rect" id="node42" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1197,674,1316,701"/>
<area shape="rect" id="node44" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1187,350,1326,377"/>
<area shape="rect" id="node47" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1181,405,1332,431"/>
<area shape="rect" id="node49" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1199,725,1315,751"/>
<area shape="rect" id="node31" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1394,455,1514,482"/>
<area shape="rect" id="node33" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1389,507,1519,548"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1595,485,1736,527"/>
<area shape="rect" id="node35" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="1393,573,1515,599"/>
<area shape="rect" id="node37" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="1397,623,1511,650"/>
<area shape="rect" id="node39" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="1383,674,1525,701"/>
<area shape="rect" id="node36" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1589,616,1742,657"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1594,724,1737,765"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1597,237,1733,279"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1387,827,1521,868"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1593,303,1738,330"/>
<area shape="rect" id="node46" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="1383,339,1525,380"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1604,376,1727,417"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1381,893,1527,919"/>
</map>
</div>

</div>
</div>
<a id="a88f06b441f5e108ab81b749523c0881c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f06b441f5e108ab81b749523c0881c">&#9670;&nbsp;</a></span>nilfs_mdt_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_mdt_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_destroy - release resources used by the metadata file : inode of the metadata file </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a88f06b441f5e108ab81b749523c0881c_cgraph.png" border="0" usemap="#mdt_8h_a88f06b441f5e108ab81b749523c0881c_cgraph" alt=""/></div>
<map name="mdt_8h_a88f06b441f5e108ab81b749523c0881c_cgraph" id="mdt_8h_a88f06b441f5e108ab81b749523c0881c_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="179,5,275,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a88f06b441f5e108ab81b749523c0881c_icgraph.png" border="0" usemap="#mdt_8h_a88f06b441f5e108ab81b749523c0881c_icgraph" alt=""/></div>
<map name="mdt_8h_a88f06b441f5e108ab81b749523c0881c_icgraph" id="mdt_8h_a88f06b441f5e108ab81b749523c0881c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a93b95cdf63310bf3fff0727c1909b7f7" title="nilfs_i_callback" alt="" coords="179,540,289,567"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#ad6bb8379d2178b423509a21afeaf1f36" title="nilfs_destroy_inode" alt="" coords="337,540,472,567"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="520,540,707,567"/>
<area shape="rect" id="node5" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="755,540,864,567"/>
<area shape="rect" id="node6" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="912,185,1051,212"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1284,287,1404,313"/>
<area shape="rect" id="node25" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="914,591,1049,617"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="928,641,1035,668"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="925,692,1038,719"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1285,540,1403,567"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="928,743,1035,769"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="931,413,1031,440"/>
<area shape="rect" id="node32" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1275,474,1413,515"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1113,236,1212,263"/>
<area shape="rect" id="node17" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1112,84,1213,111"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1101,185,1225,212"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1099,135,1227,161"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1296,236,1392,263"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1475,236,1589,263"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1873,388,2004,415"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1693,185,1783,212"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1692,236,1784,263"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1689,287,1787,313"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1695,84,1781,111"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2892,388,2969,415"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1474,287,1590,313"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1307,33,1381,60"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1290,135,1398,161"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1489,135,1575,161"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1491,185,1573,212"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1103,439,1222,465"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1117,337,1208,364"/>
<area shape="rect" id="node33" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1461,521,1603,548"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1651,601,1825,628"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1900,565,1977,592"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3256,628,3361,655"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2052,565,2169,592"/>
<area shape="rect" id="node37" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3409,628,3499,655"/>
<area shape="rect" id="node39" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2247,591,2345,617"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2217,540,2375,567"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2427,439,2575,465"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2431,679,2570,721"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2423,552,2579,579"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2627,439,2805,465"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2647,687,2785,713"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2866,679,2995,721"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3056,683,3208,709"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2643,577,2789,604"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2853,628,3008,655"/>
</map>
</div>

</div>
</div>
<a id="a0068a76c65a214c857fceaefe8a7dd8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0068a76c65a214c857fceaefe8a7dd8a">&#9670;&nbsp;</a></span>nilfs_mdt_fetch_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_fetch_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_cgraph.png" border="0" usemap="#mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_cgraph" alt=""/></div>
<map name="mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_cgraph" id="mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="232,5,303,32"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="196,57,339,98"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a5399d2acb05251b7a62d8895ba4d4027" title="nilfs_bmap_dirty" alt="" coords="404,39,521,65"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#acdd57fe8b71bb70aaf1a0cb3c0ad79d6" title="nilfs_bmap_clear_dirty" alt="" coords="387,89,539,116"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_icgraph.png" border="0" usemap="#mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_icgraph" alt=""/></div>
<map name="mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_icgraph" id="mdt_8h_a0068a76c65a214c857fceaefe8a7dd8a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="196,269,332,310"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="625,220,772,247"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="380,301,559,328"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="839,220,996,247"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1264,157,1411,184"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1048,279,1196,305"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1053,213,1191,254"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1044,161,1200,188"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1248,275,1427,301"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1495,299,1573,325"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1659,411,1779,437"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1863,411,1977,437"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1855,309,1985,336"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2087,436,2176,463"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2085,487,2177,513"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2082,335,2181,361"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2089,385,2174,412"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1268,220,1407,247"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1654,227,1783,269"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1844,259,1996,285"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2398,132,2503,159"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2081,56,2181,83"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2044,208,2219,235"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2562,81,2651,108"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2267,107,2344,133"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2392,5,2509,32"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2557,5,2656,32"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1641,157,1796,184"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1865,107,1975,133"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1047,330,1197,371"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="607,378,791,419"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1481,349,1587,376"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1279,325,1395,352"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="848,401,987,442"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="843,276,991,303"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1053,427,1191,453"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1287,485,1387,512"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1475,400,1593,427"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1475,552,1593,579"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1489,451,1579,477"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1659,552,1778,579"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1649,471,1788,513"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1849,360,1991,387"/>
</map>
</div>

</div>
</div>
<a id="adaed5e8667743afd0be01cfa99101c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaed5e8667743afd0be01cfa99101c9f">&#9670;&nbsp;</a></span>nilfs_mdt_find_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_find_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>blkoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>out_bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_find_block - find and get a buffer on meta data file. : inode of the meta data file : start block offset (inclusive) : end block offset (inclusive) : block offset : place to store a pointer to buffer_head struct</p>
<p><a class="el" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f">nilfs_mdt_find_block()</a> looks up an existing block in range of [, ] and stores pointer to a buffer head of the block to , and block offset to , respectively.  and  are substituted only when zero is returned.</p>
<p>Return Value: On success, it returns 0. On error, the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOENT - no block was found in the range </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_adaed5e8667743afd0be01cfa99101c9f_cgraph.png" border="0" usemap="#mdt_8h_adaed5e8667743afd0be01cfa99101c9f_cgraph" alt=""/></div>
<map name="mdt_8h_adaed5e8667743afd0be01cfa99101c9f_cgraph" id="mdt_8h_adaed5e8667743afd0be01cfa99101c9f_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="195,348,340,375"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="625,771,695,797"/>
<area shape="rect" id="node50" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="393,821,541,848"/>
<area shape="rect" id="node3" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="388,348,547,375"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="601,316,719,343"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2452,259,2552,285"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="595,379,725,405"/>
<area shape="rect" id="node27" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="2461,512,2543,539"/>
<area shape="rect" id="node48" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1987,157,2137,184"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1571,360,1729,387"/>
<area shape="rect" id="node6" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1988,309,2136,336"/>
<area shape="rect" id="node14" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1793,411,1923,453"/>
<area shape="rect" id="node15" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="2229,360,2324,387"/>
<area shape="rect" id="node7" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="2211,157,2342,184"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2636,284,2775,311"/>
<area shape="rect" id="node8" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="2440,5,2564,32"/>
<area shape="rect" id="node11" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="2454,208,2550,235"/>
<area shape="rect" id="node12" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="2443,56,2561,83"/>
<area shape="rect" id="node13" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="2416,157,2588,184"/>
<area shape="rect" id="node9" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="2648,31,2763,57"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="773,481,921,522"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="780,379,915,405"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="969,742,1104,783"/>
<area shape="rect" id="node33" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="973,495,1101,521"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="969,444,1104,471"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1179,749,1273,776"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="1383,749,1487,776"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1583,747,1717,773"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1583,797,1717,824"/>
<area shape="rect" id="node23" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1777,659,1939,685"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1798,709,1918,736"/>
<area shape="rect" id="node26" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="2209,411,2345,437"/>
<area shape="rect" id="node31" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="2001,461,2123,488"/>
<area shape="rect" id="node32" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1990,702,2134,743"/>
<area shape="rect" id="node28" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2649,512,2762,539"/>
<area shape="rect" id="node29" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2823,487,2963,513"/>
<area shape="rect" id="node30" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2839,537,2946,564"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="1152,513,1300,554"/>
<area shape="rect" id="node41" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1173,385,1279,412"/>
<area shape="rect" id="node43" href="mdt_8c.html#ac812454a88416aae4c77cdb630f97716" title="nilfs_mdt_get_frozen\l_buffer" alt="" coords="1579,411,1721,453"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab" title="nilfs_palloc_block\l_get_entry" alt="" coords="1373,638,1498,679"/>
<area shape="rect" id="node35" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1810,528,1906,555"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1360,411,1511,437"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1374,567,1497,609"/>
<area shape="rect" id="node37" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1581,309,1719,336"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1587,645,1713,672"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1583,579,1717,621"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1348,360,1523,387"/>
<area shape="rect" id="node49" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="2185,208,2368,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_adaed5e8667743afd0be01cfa99101c9f_icgraph.png" border="0" usemap="#mdt_8h_adaed5e8667743afd0be01cfa99101c9f_icgraph" alt=""/></div>
<map name="mdt_8h_adaed5e8667743afd0be01cfa99101c9f_icgraph" id="mdt_8h_adaed5e8667743afd0be01cfa99101c9f_icgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="195,99,377,141"/>
<area shape="rect" id="node3" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="425,99,556,141"/>
<area shape="rect" id="node4" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="604,76,755,103"/>
<area shape="rect" id="node14" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="616,129,743,170"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="803,66,925,107"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="973,107,1051,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1099,81,1219,108"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1275,81,1389,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1267,132,1397,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1450,5,1539,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1449,56,1541,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1445,107,1544,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1452,157,1537,184"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="805,131,923,173"/>
</map>
</div>

</div>
</div>
<a id="a71bd72ea9804bf749362d28977baeaa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71bd72ea9804bf749362d28977baeaa7">&#9670;&nbsp;</a></span>nilfs_mdt_forget_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_forget_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_forget_block - discard dirty state and try to remove the page : inode of the meta data file : block offset</p>
<p><a class="el" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d">nilfs_mdt_forget_block()</a> clears a dirty flag of the specified buffer, and tries to release the page including the buffer from a page cache.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error code is returned.</p>
<p>%-EBUSY - page has an active buffer.</p>
<p>%-ENOENT - page cache has no page addressed by the offset. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a71bd72ea9804bf749362d28977baeaa7_cgraph.png" border="0" usemap="#mdt_8h_a71bd72ea9804bf749362d28977baeaa7_cgraph" alt=""/></div>
<map name="mdt_8h_a71bd72ea9804bf749362d28977baeaa7_cgraph" id="mdt_8h_a71bd72ea9804bf749362d28977baeaa7_cgraph">
<area shape="rect" id="node2" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="207,12,337,53"/>
<area shape="rect" id="node3" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="209,78,335,105"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="387,5,515,47"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="385,71,516,112"/>
<area shape="rect" id="node6" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="401,137,501,163"/>
<area shape="rect" id="node7" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="564,137,703,163"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a71bd72ea9804bf749362d28977baeaa7_icgraph.png" border="0" usemap="#mdt_8h_a71bd72ea9804bf749362d28977baeaa7_icgraph" alt=""/></div>
<map name="mdt_8h_a71bd72ea9804bf749362d28977baeaa7_icgraph" id="mdt_8h_a71bd72ea9804bf749362d28977baeaa7_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="207,141,361,167"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="424,68,553,109"/>
<area shape="rect" id="node20" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="423,133,554,175"/>
<area shape="rect" id="node25" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="409,253,568,295"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="616,5,745,47"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="616,71,745,112"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="801,15,924,42"/>
<area shape="rect" id="node6" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="990,15,1097,42"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1160,15,1329,42"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1395,36,1521,77"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1581,69,1729,95"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2129,135,2249,162"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1777,69,1956,95"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2004,186,2081,213"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2305,135,2420,162"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2297,186,2428,213"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2481,59,2570,86"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2479,110,2571,137"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2476,161,2575,187"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2483,211,2568,238"/>
<area shape="rect" id="node21" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="980,132,1107,173"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1185,67,1304,108"/>
<area shape="rect" id="node23" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1181,132,1308,173"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1807,120,1926,161"/>
<area shape="rect" id="node26" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="793,372,932,413"/>
<area shape="rect" id="node27" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="980,379,1107,406"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1602,186,1709,213"/>
<area shape="rect" id="node30" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="1155,430,1335,457"/>
<area shape="rect" id="node29" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1807,186,1926,213"/>
<area shape="rect" id="node31" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1389,455,1527,482"/>
<area shape="rect" id="node34" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="1393,573,1523,599"/>
<area shape="rect" id="node40" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="1387,264,1529,305"/>
<area shape="rect" id="node42" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1399,674,1517,701"/>
<area shape="rect" id="node44" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1389,350,1527,377"/>
<area shape="rect" id="node47" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1383,405,1533,431"/>
<area shape="rect" id="node49" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1400,725,1516,751"/>
<area shape="rect" id="node32" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1595,455,1715,482"/>
<area shape="rect" id="node33" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1591,507,1720,548"/>
<area shape="rect" id="node35" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="1594,573,1717,599"/>
<area shape="rect" id="node37" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="1599,623,1712,650"/>
<area shape="rect" id="node39" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="1584,674,1727,701"/>
<area shape="rect" id="node36" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1790,616,1943,657"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1795,724,1938,765"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1799,237,1935,279"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1588,827,1723,868"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1794,303,1939,330"/>
<area shape="rect" id="node46" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="1584,339,1727,380"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1805,376,1928,417"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1583,893,1728,919"/>
</map>
</div>

</div>
</div>
<a id="a93c5b4ccdadaa132a86ca0d25f739b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c5b4ccdadaa132a86ca0d25f739b09">&#9670;&nbsp;</a></span>nilfs_mdt_freeze_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_freeze_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_cgraph.png" border="0" usemap="#mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_cgraph" alt=""/></div>
<map name="mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_cgraph" id="mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="238,157,334,184"/>
<area shape="rect" id="node3" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="212,208,360,235"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="221,310,351,351"/>
<area shape="rect" id="node12" href="nilfs2_2page_8c.html#a085a5536428d574ff189bdd2ba0aaf5b" title="nilfs_copy_buffer" alt="" coords="225,259,347,285"/>
<area shape="rect" id="node4" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="408,107,539,133"/>
<area shape="rect" id="node7" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="807,107,945,133"/>
<area shape="rect" id="node5" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="611,5,735,32"/>
<area shape="rect" id="node8" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="625,107,721,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="613,56,732,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="587,157,759,184"/>
<area shape="rect" id="node6" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="819,31,933,57"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="423,259,523,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_icgraph.png" border="0" usemap="#mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_icgraph" alt=""/></div>
<map name="mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_icgraph" id="mdt_8h_a93c5b4ccdadaa132a86ca0d25f739b09_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="212,5,323,32"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="371,5,519,32"/>
</map>
</div>

</div>
</div>
<a id="af22a199db78ca4f03ee4558c8b3701cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af22a199db78ca4f03ee4558c8b3701cd">&#9670;&nbsp;</a></span>nilfs_mdt_get_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_get_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>blkoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, struct buffer_head *, void *)&#160;</td>
          <td class="paramname"><em>init_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>out_bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_get_block - read or create a buffer on meta data file. : inode of the meta data file : block offset : create flag : initializer used for newly allocated block : output of a pointer to the buffer_head</p>
<p><a class="el" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6">nilfs_mdt_get_block()</a> looks up the specified buffer and tries to create a new buffer if  is not zero. On success, the returned buffer is assured to be either existing or formatted using a buffer lock on success.  is substituted only when zero is returned.</p>
<p>Return Value: On success, it returns 0. On error, the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOENT - the specified block does not exist (hole block)</p>
<p>%-EROFS - Read only filesystem (for create mode) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_cgraph.png" border="0" usemap="#mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_cgraph" alt=""/></div>
<map name="mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_cgraph" id="mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="192,514,337,540"/>
<area shape="rect" id="node27" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="387,734,543,760"/>
<area shape="rect" id="node3" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="385,376,544,403"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="616,456,735,483"/>
<area shape="rect" id="node12" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1080,43,1180,70"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="610,376,741,403"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1095,683,1165,710"/>
<area shape="rect" id="node21" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="600,94,751,120"/>
<area shape="rect" id="node23" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="634,220,717,247"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="819,456,978,483"/>
<area shape="rect" id="node6" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1056,515,1204,542"/>
<area shape="rect" id="node10" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1065,449,1195,490"/>
<area shape="rect" id="node11" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1083,398,1177,424"/>
<area shape="rect" id="node7" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1273,519,1404,546"/>
<area shape="rect" id="node9" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1269,271,1408,298"/>
<area shape="rect" id="node8" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1460,575,1632,602"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="825,340,973,381"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="831,406,966,432"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1063,566,1197,608"/>
<area shape="rect" id="node17" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1066,296,1194,323"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1063,347,1197,374"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1292,574,1385,600"/>
<area shape="rect" id="node22" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="807,43,990,70"/>
<area shape="rect" id="node24" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="842,220,955,247"/>
<area shape="rect" id="node25" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1060,195,1200,222"/>
<area shape="rect" id="node26" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1077,246,1183,272"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="598,919,753,946"/>
<area shape="rect" id="node33" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="603,676,748,717"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="592,810,759,836"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="599,970,752,996"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="807,1003,991,1030"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="832,952,965,979"/>
<area shape="rect" id="node31" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1039,952,1221,979"/>
<area shape="rect" id="node32" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1293,952,1384,979"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="837,531,961,558"/>
<area shape="rect" id="node37" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1069,734,1191,760"/>
<area shape="rect" id="node44" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="827,632,970,659"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1057,632,1203,659"/>
<area shape="rect" id="node36" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1273,625,1405,666"/>
<area shape="rect" id="node38" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1278,691,1399,718"/>
<area shape="rect" id="node39" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1271,742,1406,768"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1456,701,1636,742"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1476,766,1616,808"/>
<area shape="rect" id="node42" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1479,832,1613,873"/>
<area shape="rect" id="node43" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1477,650,1615,676"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="834,886,963,928"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="823,784,975,811"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="817,835,981,862"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1065,835,1195,862"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_icgraph.png" border="0" usemap="#mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_icgraph" alt=""/></div>
<map name="mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_icgraph" id="mdt_8h_af22a199db78ca4f03ee4558c8b3701cd_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="202,267,361,309"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="206,576,357,603"/>
<area shape="rect" id="node21" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="204,815,359,857"/>
<area shape="rect" id="node31" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="192,881,371,922"/>
<area shape="rect" id="node33" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="204,1249,359,1290"/>
<area shape="rect" id="node34" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="439,1053,577,1080"/>
<area shape="rect" id="node45" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="433,1525,583,1552"/>
<area shape="rect" id="node47" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="198,1434,365,1475"/>
<area shape="rect" id="node3" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="445,49,571,90"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="661,56,809,83"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="675,5,795,32"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="662,609,809,650"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="656,543,815,585"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="434,302,582,343"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="880,541,1017,582"/>
<area shape="rect" id="node10" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="880,606,1017,647"/>
<area shape="rect" id="node12" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="887,489,1010,516"/>
<area shape="rect" id="node9" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1077,225,1193,266"/>
<area shape="rect" id="node11" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1078,511,1193,553"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="669,478,802,519"/>
<area shape="rect" id="node16" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="657,157,814,184"/>
<area shape="rect" id="node17" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="680,208,791,235"/>
<area shape="rect" id="node18" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="671,259,799,285"/>
<area shape="rect" id="node19" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="670,309,801,336"/>
<area shape="rect" id="node20" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="667,361,803,402"/>
<area shape="rect" id="node22" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="419,703,597,729"/>
<area shape="rect" id="node26" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="445,754,571,795"/>
<area shape="rect" id="node27" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="443,819,573,861"/>
<area shape="rect" id="node28" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="423,885,593,912"/>
<area shape="rect" id="node29" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="449,937,567,978"/>
<area shape="rect" id="node30" href="cpfile_8h.html#a3449472f483c42ad36c89de01f0204d5" title="nilfs_cpfile_get_stat" alt="" coords="439,652,577,679"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="656,805,815,832"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="666,674,805,715"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="677,739,793,781"/>
<area shape="rect" id="node32" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="427,1003,589,1029"/>
<area shape="rect" id="node36" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="883,1564,1014,1591"/>
<area shape="rect" id="node37" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="889,1217,1008,1244"/>
<area shape="rect" id="node38" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="879,1341,1018,1368"/>
<area shape="rect" id="node39" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="879,1709,1018,1750"/>
<area shape="rect" id="node40" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="1072,1404,1199,1431"/>
<area shape="rect" id="node42" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="891,1291,1007,1317"/>
<area shape="rect" id="node35" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="645,1404,825,1431"/>
<area shape="rect" id="node43" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="675,1053,795,1080"/>
<area shape="rect" id="node44" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="671,987,800,1029"/>
<area shape="rect" id="node41" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="873,1467,1024,1493"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="663,1525,807,1552"/>
<area shape="rect" id="node48" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="432,1357,584,1384"/>
<area shape="rect" id="node49" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="425,1409,591,1450"/>
<area shape="rect" id="node50" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="443,1475,573,1501"/>
</map>
</div>

</div>
</div>
<a id="ac812454a88416aae4c77cdb630f97716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac812454a88416aae4c77cdb630f97716">&#9670;&nbsp;</a></span>nilfs_mdt_get_frozen_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct buffer_head* nilfs_mdt_get_frozen_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_ac812454a88416aae4c77cdb630f97716_cgraph.png" border="0" usemap="#mdt_8h_ac812454a88416aae4c77cdb630f97716_cgraph" alt=""/></div>
<map name="mdt_8h_ac812454a88416aae4c77cdb630f97716_cgraph" id="mdt_8h_ac812454a88416aae4c77cdb630f97716_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="213,5,309,32"/>
<area shape="rect" id="node3" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="196,57,327,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_ac812454a88416aae4c77cdb630f97716_icgraph.png" border="0" usemap="#mdt_8h_ac812454a88416aae4c77cdb630f97716_icgraph" alt=""/></div>
<map name="mdt_8h_ac812454a88416aae4c77cdb630f97716_icgraph" id="mdt_8h_ac812454a88416aae4c77cdb630f97716_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="196,777,324,804"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1006,646,1133,687"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="372,835,520,877"/>
<area shape="rect" id="node29" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="381,901,511,942"/>
<area shape="rect" id="node30" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="377,705,515,746"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="372,770,520,811"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="586,829,709,870"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1405,1135,1563,1177"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="582,909,713,936"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#ae74437bf40467cd7ef392867b1506518" title="nilfs_ioctl_get_bdescs" alt="" coords="1831,813,1981,840"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2256,813,2333,840"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2381,864,2501,891"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2557,864,2672,891"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2549,813,2680,840"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2733,788,2822,815"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2731,839,2823,865"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2728,889,2827,916"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2735,940,2820,967"/>
<area shape="rect" id="node16" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1639,857,1765,898"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1832,763,1980,789"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2029,763,2208,789"/>
<area shape="rect" id="node20" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="775,939,933,965"/>
<area shape="rect" id="node21" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="997,953,1142,980"/>
<area shape="rect" id="node22" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="1207,953,1345,980"/>
<area shape="rect" id="node28" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1205,1004,1347,1031"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1409,953,1559,980"/>
<area shape="rect" id="node24" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1407,1005,1561,1046"/>
<area shape="rect" id="node25" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="1395,1070,1573,1111"/>
<area shape="rect" id="node26" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1407,822,1561,863"/>
<area shape="rect" id="node27" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="1401,887,1567,929"/>
<area shape="rect" id="node31" href="nilfs2_2btree_8c.html#ace0b607680d7332fe492fa4de2a7b64a" title="__nilfs_btree_get_block" alt="" coords="568,533,727,560"/>
<area shape="rect" id="node47" href="nilfs_8h.html#abea96a1095f0c779a0f99f0aa9416c82" title="nilfs_gccache_submit\l_read_node" alt="" coords="573,705,721,746"/>
<area shape="rect" id="node32" href="nilfs2_2btree_8c.html#aa0e496fd5b5c312b2b5fa455c1ac3889" title="nilfs_btree_get_block" alt="" coords="781,173,927,200"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#ad35a2f74dcf9c0bb7f0fdc2eb404aa79" title="nilfs_btree_do_lookup" alt="" coords="780,493,928,520"/>
<area shape="rect" id="node33" href="nilfs2_2btree_8c.html#aeb7662d5fcd14daf1837986756715aef" title="nilfs_btree_do_lookup_last" alt="" coords="981,5,1157,32"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1003,57,1135,98"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="1003,275,1135,317"/>
<area shape="rect" id="node39" href="nilfs2_2btree_8c.html#a4dda190598aa77cec2f6e05cd8b70326" title="nilfs_btree_check_delete" alt="" coords="986,123,1153,149"/>
<area shape="rect" id="node40" href="nilfs2_2btree_8c.html#a60d9b70a37f4805f3735f57148220d44" title="nilfs_btree_gather_data" alt="" coords="991,173,1148,200"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#a47716e3a6902added2c99c940230e6a4" title="nilfs_btree_mark" alt="" coords="1010,341,1129,368"/>
<area shape="rect" id="node34" href="nilfs2_2btree_8c.html#a5d900d285acf703261f2c401e298ccbf" title="nilfs_btree_last_key" alt="" coords="1207,5,1345,32"/>
<area shape="rect" id="node36" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1215,144,1337,171"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1214,413,1338,440"/>
<area shape="rect" id="node43" href="nilfs2_2btree_8c.html#af875fd86471a2ce6b2db190b60611482" title="nilfs_btree_lookup" alt="" coords="1006,493,1133,520"/>
<area shape="rect" id="node44" href="nilfs2_2btree_8c.html#a82c0a1284a0dbaa5f928f64b32c02389" title="nilfs_btree_seek_key" alt="" coords="997,595,1142,621"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="996,392,1143,419"/>
<area shape="rect" id="node46" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="1006,443,1133,469"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#abb151dcfb7c15835996fcfe3f602bb23" title="nilfs_ioctl_move_inode\l_block" alt="" coords="777,705,931,746"/>
<area shape="rect" id="node49" href="nilfs2_2ioctl_8c.html#a30a0a343bac14fc5cf5591ee64c4830b" title="nilfs_ioctl_move_blocks" alt="" coords="1621,712,1783,739"/>
</map>
</div>

</div>
</div>
<a id="a9d24c6e56a98e581fc30fd8a65841e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d24c6e56a98e581fc30fd8a65841e2a">&#9670;&nbsp;</a></span>nilfs_mdt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfp_t&#160;</td>
          <td class="paramname"><em>gfp_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>objsz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a9d24c6e56a98e581fc30fd8a65841e2a_icgraph.png" border="0" usemap="#mdt_8h_a9d24c6e56a98e581fc30fd8a65841e2a_icgraph" alt=""/></div>
<map name="mdt_8h_a9d24c6e56a98e581fc30fd8a65841e2a_icgraph" id="mdt_8h_a9d24c6e56a98e581fc30fd8a65841e2a_icgraph">
<area shape="rect" id="node2" href="cpfile_8h.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="152,289,268,316"/>
<area shape="rect" id="node10" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="159,340,261,367"/>
<area shape="rect" id="node11" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="567,187,672,213"/>
<area shape="rect" id="node28" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="152,441,268,468"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="333,315,479,341"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1410,33,1487,60"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1590,353,1695,380"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1584,33,1701,60"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1799,379,1889,405"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1795,8,1893,35"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1765,59,1923,85"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="948,325,1107,352"/>
<area shape="rect" id="node15" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="743,136,900,163"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1568,404,1717,431"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1155,227,1329,253"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="962,248,1093,275"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="962,109,1093,136"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="954,164,1101,191"/>
<area shape="rect" id="node17" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1205,277,1279,304"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1377,404,1520,431"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1403,252,1494,279"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1391,303,1506,329"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1391,135,1506,161"/>
<area shape="rect" id="node22" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1379,186,1518,227"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1389,84,1509,111"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1175,43,1309,85"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1184,161,1300,202"/>
<area shape="rect" id="node29" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="316,645,496,672"/>
<area shape="rect" id="node30" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="551,592,688,619"/>
<area shape="rect" id="node33" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="554,705,685,732"/>
<area shape="rect" id="node39" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="548,906,691,947"/>
<area shape="rect" id="node42" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="560,355,679,381"/>
<area shape="rect" id="node44" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="550,503,689,529"/>
<area shape="rect" id="node47" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="550,835,689,877"/>
<area shape="rect" id="node48" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="758,857,885,884"/>
<area shape="rect" id="node49" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="544,645,695,672"/>
<area shape="rect" id="node31" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="761,588,881,615"/>
<area shape="rect" id="node32" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="757,522,886,563"/>
<area shape="rect" id="node34" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="760,756,883,783"/>
<area shape="rect" id="node36" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="765,705,878,732"/>
<area shape="rect" id="node38" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="750,807,893,833"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="951,662,1104,703"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="956,450,1099,491"/>
<area shape="rect" id="node40" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="974,916,1081,943"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="753,909,889,950"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="754,289,889,330"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="749,405,894,432"/>
<area shape="rect" id="node46" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="750,457,893,498"/>
<area shape="rect" id="node50" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="760,639,883,681"/>
</map>
</div>

</div>
</div>
<a id="a9d9db9c2ce4c61835ac0c297556a1ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d9db9c2ce4c61835ac0c297556a1ac9">&#9670;&nbsp;</a></span>nilfs_mdt_mark_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_mdt_mark_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_cgraph.png" border="0" usemap="#mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_cgraph" alt=""/></div>
<map name="mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_cgraph" id="mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="196,5,267,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_icgraph.png" border="0" usemap="#mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_icgraph" alt=""/></div>
<map name="mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_icgraph" id="mdt_8h_a9d9db9c2ce4c61835ac0c297556a1ac9_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="218,99,353,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="458,157,574,184"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="437,339,595,381"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="447,791,585,833"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="445,974,587,1015"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8h.html#a26127ca72fe88bef38865b6c0a7027e5" title="nilfs_palloc_commit\l_alloc_entry" alt="" coords="217,463,354,505"/>
<area shape="rect" id="node16" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="458,405,574,446"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="217,581,354,622"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="224,925,347,952"/>
<area shape="rect" id="node24" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="196,824,375,851"/>
<area shape="rect" id="node27" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="222,274,349,315"/>
<area shape="rect" id="node30" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="201,1043,370,1069"/>
<area shape="rect" id="node32" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="226,977,345,1018"/>
<area shape="rect" id="node33" href="dat_8c.html#a296b378ada796279b7287ae62e336ada" title="nilfs_dat_commit_entry" alt="" coords="207,668,364,695"/>
<area shape="rect" id="node36" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="230,1093,341,1120"/>
<area shape="rect" id="node38" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="213,1145,358,1186"/>
<area shape="rect" id="node40" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="208,1211,363,1237"/>
<area shape="rect" id="node41" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="226,1261,345,1288"/>
<area shape="rect" id="node42" href="sufile_8h.html#aff87ff4257115842ff3c7940e5f8e769" title="nilfs_sufile_do_cancel_free" alt="" coords="196,1312,375,1339"/>
<area shape="rect" id="node43" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="213,1363,357,1389"/>
<area shape="rect" id="node44" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="218,1413,353,1440"/>
<area shape="rect" id="node45" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="209,1464,361,1491"/>
<area shape="rect" id="node46" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="202,1515,369,1557"/>
<area shape="rect" id="node47" href="sufile_8h.html#a7e943e59486cd6176a3317bed589b7c9" title="nilfs_sufile_do_set\l_error" alt="" coords="220,1581,351,1622"/>
<area shape="rect" id="node48" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="216,1646,355,1687"/>
<area shape="rect" id="node49" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="453,1683,579,1709"/>
<area shape="rect" id="node50" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="210,1763,361,1789"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="884,236,1004,263"/>
<area shape="rect" id="node6" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="440,56,592,83"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="423,5,609,32"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1052,236,1167,263"/>
<area shape="rect" id="node9" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="683,274,810,315"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="676,791,817,833"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="657,923,836,949"/>
<area shape="rect" id="node15" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="439,471,593,497"/>
<area shape="rect" id="node17" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="668,471,825,497"/>
<area shape="rect" id="node19" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="441,588,591,615"/>
<area shape="rect" id="node21" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="459,522,573,563"/>
<area shape="rect" id="node20" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="672,664,821,691"/>
<area shape="rect" id="node23" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="463,1040,569,1067"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="437,923,595,949"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="458,857,574,898"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="457,274,575,315"/>
<area shape="rect" id="node29" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="453,209,579,250"/>
<area shape="rect" id="node31" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="449,1091,583,1133"/>
<area shape="rect" id="node34" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="439,689,593,716"/>
<area shape="rect" id="node35" href="dat_8h.html#a50e66ddd3e8e97894123fbeeff226897" title="nilfs_dat_mark_dirty" alt="" coords="447,639,585,665"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="442,1157,590,1184"/>
<area shape="rect" id="node39" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="438,1208,594,1235"/>
</map>
</div>

</div>
</div>
<a id="a673c8a81a5993668b02111eccc3f2b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673c8a81a5993668b02111eccc3f2b93">&#9670;&nbsp;</a></span>nilfs_mdt_restore_from_shadow_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_mdt_restore_from_shadow_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_restore_from_shadow_map - restore dirty pages and bmap state : inode of the metadata file </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a673c8a81a5993668b02111eccc3f2b93_cgraph.png" border="0" usemap="#mdt_8h_a673c8a81a5993668b02111eccc3f2b93_cgraph" alt=""/></div>
<map name="mdt_8h_a673c8a81a5993668b02111eccc3f2b93_cgraph" id="mdt_8h_a673c8a81a5993668b02111eccc3f2b93_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="441,16,537,42"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="252,104,323,130"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#aa1ef67260a902eaecb3a5aacacdd0ed8" title="nilfs_palloc_clear\l_cache" alt="" coords="226,38,349,79"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#a32dd4d34ca4d02776c242eb9ff785a87" title="nilfs_clear_dirty_pages" alt="" coords="210,154,365,181"/>
<area shape="rect" id="node10" href="nilfs2_2page_8c.html#ad19e6ab8bc4014fe39746b3dd2c97b90" title="nilfs_copy_back_pages" alt="" coords="208,205,367,232"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#aefd222edab3f6a8ce0617e4f9659472a" title="nilfs_bmap_restore" alt="" coords="221,256,353,282"/>
<area shape="rect" id="node6" href="nilfs2_2page_8c.html#a39eadb85dcf25cb2ceebf0232851674c" title="nilfs_clear_dirty_page" alt="" coords="415,154,563,181"/>
<area shape="rect" id="node7" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="635,180,735,206"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="619,114,750,155"/>
<area shape="rect" id="node8" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1205,281,1344,308"/>
<area shape="rect" id="node11" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712" title="nilfs_copy_page" alt="" coords="431,205,547,232"/>
<area shape="rect" id="node12" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="611,230,759,257"/>
<area shape="rect" id="node13" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="807,332,937,358"/>
<area shape="rect" id="node14" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="1009,332,1133,358"/>
<area shape="rect" id="node16" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="1023,281,1119,308"/>
<area shape="rect" id="node17" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="1012,382,1131,409"/>
<area shape="rect" id="node18" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="985,433,1157,460"/>
<area shape="rect" id="node15" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="1217,357,1332,384"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a673c8a81a5993668b02111eccc3f2b93_icgraph.png" border="0" usemap="#mdt_8h_a673c8a81a5993668b02111eccc3f2b93_icgraph" alt=""/></div>
<map name="mdt_8h_a673c8a81a5993668b02111eccc3f2b93_icgraph" id="mdt_8h_a673c8a81a5993668b02111eccc3f2b93_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="208,107,356,133"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="404,107,583,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="631,107,708,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="756,81,876,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="932,81,1047,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="924,132,1055,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1107,5,1197,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1106,56,1198,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1103,107,1201,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1109,157,1195,184"/>
</map>
</div>

</div>
</div>
<a id="a1b91aea5f3e024d438f92e11efb9309b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b91aea5f3e024d438f92e11efb9309b">&#9670;&nbsp;</a></span>nilfs_mdt_save_to_shadow_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_save_to_shadow_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_save_to_shadow_map - copy bmap and dirty pages to shadow map : inode of the metadata file </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_cgraph.png" border="0" usemap="#mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_cgraph" alt=""/></div>
<map name="mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_cgraph" id="mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="295,132,391,159"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="307,183,378,209"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#ab1f505f6520c69332f0ee920a731e817" title="nilfs_copy_dirty_pages" alt="" coords="265,233,420,260"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8c.html#aa549c9215d24ae7f44f0128fa9d81f98" title="nilfs_bmap_save" alt="" coords="283,284,403,311"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712" title="nilfs_copy_page" alt="" coords="468,233,584,260"/>
<area shape="rect" id="node6" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="632,208,780,235"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="843,259,943,285"/>
<area shape="rect" id="node7" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="828,107,959,133"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1227,107,1365,133"/>
<area shape="rect" id="node8" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="1031,5,1155,32"/>
<area shape="rect" id="node11" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="1045,107,1141,133"/>
<area shape="rect" id="node12" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="1033,56,1152,83"/>
<area shape="rect" id="node13" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1007,157,1179,184"/>
<area shape="rect" id="node9" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="1239,31,1353,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_icgraph.png" border="0" usemap="#mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_icgraph" alt=""/></div>
<map name="mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_icgraph" id="mdt_8h_a1b91aea5f3e024d438f92e11efb9309b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="265,107,413,133"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="461,107,640,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="688,107,765,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="813,81,933,108"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="989,81,1104,108"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="981,132,1112,159"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1165,5,1254,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1163,56,1255,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1160,107,1259,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1167,157,1252,184"/>
</map>
</div>

</div>
</div>
<a id="abdc039b4d7524445ad87abb5efab9a00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc039b4d7524445ad87abb5efab9a00">&#9670;&nbsp;</a></span>nilfs_mdt_set_entry_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_mdt_set_entry_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_abdc039b4d7524445ad87abb5efab9a00_cgraph.png" border="0" usemap="#mdt_8h_abdc039b4d7524445ad87abb5efab9a00_cgraph" alt=""/></div>
<map name="mdt_8h_abdc039b4d7524445ad87abb5efab9a00_cgraph" id="mdt_8h_abdc039b4d7524445ad87abb5efab9a00_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="220,5,316,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_abdc039b4d7524445ad87abb5efab9a00_icgraph.png" border="0" usemap="#mdt_8h_abdc039b4d7524445ad87abb5efab9a00_icgraph" alt=""/></div>
<map name="mdt_8h_abdc039b4d7524445ad87abb5efab9a00_icgraph" id="mdt_8h_abdc039b4d7524445ad87abb5efab9a00_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="220,570,401,597"/>
<area shape="rect" id="node36" href="cpfile_8h.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="253,671,369,698"/>
<area shape="rect" id="node37" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="253,841,369,867"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="473,356,606,397"/>
<area shape="rect" id="node27" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="488,621,591,647"/>
<area shape="rect" id="node32" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="487,570,592,597"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="693,87,846,128"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="933,225,1060,251"/>
<area shape="rect" id="node11" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1132,267,1269,308"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1139,398,1262,425"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="677,337,861,363"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="706,441,833,483"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="915,73,1079,99"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="915,123,1079,150"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="913,22,1080,49"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1139,136,1262,177"/>
<area shape="rect" id="node10" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1138,5,1263,47"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1132,71,1269,112"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1139,201,1262,243"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1132,332,1269,373"/>
<area shape="rect" id="node12" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1317,213,1472,239"/>
<area shape="rect" id="node13" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1337,267,1453,308"/>
<area shape="rect" id="node14" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1520,449,1677,475"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1733,398,1864,425"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1733,449,1864,475"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1725,499,1872,526"/>
<area shape="rect" id="node22" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1341,390,1448,417"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="923,327,1070,368"/>
<area shape="rect" id="node26" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="1324,441,1465,483"/>
<area shape="rect" id="node28" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="697,671,842,698"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1162,659,1239,686"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1342,583,1447,610"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1336,659,1453,686"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="690,595,849,622"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="922,609,1071,635"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="909,659,1084,686"/>
<area shape="rect" id="node38" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="449,898,629,925"/>
<area shape="rect" id="node39" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="701,1015,838,1042"/>
<area shape="rect" id="node42" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="704,773,835,799"/>
<area shape="rect" id="node45" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="698,1067,841,1108"/>
<area shape="rect" id="node46" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="710,1133,829,1159"/>
<area shape="rect" id="node47" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="700,722,839,749"/>
<area shape="rect" id="node48" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="700,949,839,991"/>
<area shape="rect" id="node49" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="933,862,1060,889"/>
<area shape="rect" id="node50" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="694,898,845,925"/>
<area shape="rect" id="node40" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="937,986,1057,1013"/>
<area shape="rect" id="node41" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="932,1037,1061,1079"/>
<area shape="rect" id="node43" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="935,761,1058,787"/>
<area shape="rect" id="node44" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="940,811,1053,838"/>
</map>
</div>

</div>
</div>
<a id="af086b786e77eaa33878204ec7e161bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af086b786e77eaa33878204ec7e161bb3">&#9670;&nbsp;</a></span>nilfs_mdt_setup_shadow_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_mdt_setup_shadow_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__shadow__map.html">nilfs_shadow_map</a> *&#160;</td>
          <td class="paramname"><em>shadow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_mdt_setup_shadow_map - setup shadow map and bind it to metadata file : inode of the metadata file : shadow mapping </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_af086b786e77eaa33878204ec7e161bb3_cgraph.png" border="0" usemap="#mdt_8h_af086b786e77eaa33878204ec7e161bb3_cgraph" alt=""/></div>
<map name="mdt_8h_af086b786e77eaa33878204ec7e161bb3_cgraph" id="mdt_8h_af086b786e77eaa33878204ec7e161bb3_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="289,5,385,32"/>
<area shape="rect" id="node3" href="inode_8c.html#a183235cecd8d20b13b850d733c4646b7" title="address_space_init_once" alt="" coords="252,56,421,83"/>
<area shape="rect" id="node6" href="nilfs2_2page_8c.html#af45dc6fc4ee541d83a508bac51eddfe4" title="nilfs_mapping_init" alt="" coords="273,107,400,133"/>
<area shape="rect" id="node4" href="inode_8c.html#a5f4d750a3d227ec7784c0c724f3a31ea" title="__address_space_init_once" alt="" coords="469,31,652,57"/>
<area shape="rect" id="node5" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="491,81,630,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mdt_8h_af086b786e77eaa33878204ec7e161bb3_icgraph.png" border="0" usemap="#mdt_8h_af086b786e77eaa33878204ec7e161bb3_icgraph" alt=""/></div>
<map name="mdt_8h_af086b786e77eaa33878204ec7e161bb3_icgraph" id="mdt_8h_af086b786e77eaa33878204ec7e161bb3_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="252,229,355,256"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="403,229,548,256"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="596,229,673,256"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1960,196,2065,223"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="721,229,839,256"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2153,233,2242,260"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="916,204,1015,231"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="887,255,1044,281"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1096,196,1244,223"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1101,247,1239,289"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1092,313,1248,340"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1296,196,1475,223"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1561,95,1639,121"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1741,95,1861,121"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1955,95,2070,121"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1947,44,2078,71"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2153,107,2242,133"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2151,157,2243,184"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2148,5,2247,32"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2155,56,2240,83"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1316,251,1455,277"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1535,241,1665,282"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1725,247,1877,273"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1963,247,2063,273"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1925,399,2100,425"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1312,309,1459,336"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1523,308,1677,335"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1746,348,1857,375"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="mdt_8h.html">mdt.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
