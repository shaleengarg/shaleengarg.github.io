<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/segbuf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('segbuf_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">segbuf.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &lt;linux/backing-dev.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="page_8h_source.html">page.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="segbuf_8h_source.html">segbuf.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for segbuf.c:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c__incl.png" border="0" usemap="#nilfs2_2segbuf_8c" alt=""/></div>
<map name="nilfs2_2segbuf_8c" id="nilfs2_2segbuf_8c">
<area shape="rect" id="node7" href="page_8h.html" title="page.h" alt="" coords="1101,80,1162,107"/>
<area shape="rect" id="node22" href="segbuf_8h.html" title="segbuf.h" alt="" coords="1338,304,1410,331"/>
<area shape="rect" id="node8" href="nilfs_8h.html" title="nilfs.h" alt="" coords="412,155,469,181"/>
<area shape="rect" id="node14" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="673,229,755,256"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="28,229,93,256"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="65,304,125,331"/>
<area shape="rect" id="node21" href="dat_8h.html" title="dat.h" alt="" coords="201,304,251,331"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__write__info.html">nilfs_write_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad4043262b1785134acd529754a9e3ea9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9">nilfs_segbuf_write</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:ad4043262b1785134acd529754a9e3ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d762c133389a2d79f61eb797358919"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919">nilfs_segbuf_wait</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf)</td></tr>
<tr class="separator:a74d762c133389a2d79f61eb797358919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fe9d805ced3904d4db3898a2bdaac8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8">nilfs_segbuf_new</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:a50fe9d805ced3904d4db3898a2bdaac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63aa16390b9358fa427baa180df2584f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f">nilfs_segbuf_free</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf)</td></tr>
<tr class="separator:a63aa16390b9358fa427baa180df2584f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa497e69147c7836b3bb0c1fff2bbd08f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f">nilfs_segbuf_map</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, __u64 segnum, unsigned long <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:aa497e69147c7836b3bb0c1fff2bbd08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25d7cf18d0db3708ee6fbd162717ba2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2">nilfs_segbuf_map_cont</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *prev)</td></tr>
<tr class="separator:aa25d7cf18d0db3708ee6fbd162717ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2135c9c49660e18331d4bcc5bf9675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675">nilfs_segbuf_set_next_segnum</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, __u64 nextnum, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:ace2135c9c49660e18331d4bcc5bf9675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af529ffec555c692ff70870d893d799f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0">nilfs_segbuf_extend_segsum</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf)</td></tr>
<tr class="separator:af529ffec555c692ff70870d893d799f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c98ed4ccb2e713f1fc449ff36ac9b9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a2c98ed4ccb2e713f1fc449ff36ac9b9f">nilfs_segbuf_extend_payload</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, struct buffer_head **bhp)</td></tr>
<tr class="separator:a2c98ed4ccb2e713f1fc449ff36ac9b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee5009cc612b5a410f25e9c32460da1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a5ee5009cc612b5a410f25e9c32460da1">nilfs_segbuf_reset</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, unsigned int <a class="el" href="structflags.html">flags</a>, time64_t ctime, __u64 cno)</td></tr>
<tr class="separator:a5ee5009cc612b5a410f25e9c32460da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2408739e4354a5a7c242c36647ad6b84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84">nilfs_segbuf_fill_in_segsum</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf)</td></tr>
<tr class="separator:a2408739e4354a5a7c242c36647ad6b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add50adbbc8d89a0d7b4901315fc2c2a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2">nilfs_segbuf_fill_in_segsum_crc</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, u32 seed)</td></tr>
<tr class="separator:add50adbbc8d89a0d7b4901315fc2c2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75bfe525cc1247c361865def83b3a1a9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9">nilfs_segbuf_fill_in_data_crc</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, u32 seed)</td></tr>
<tr class="separator:a75bfe525cc1247c361865def83b3a1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904c7dc55b4758a75d496dd349476551"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551">nilfs_segbuf_fill_in_super_root_crc</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, u32 seed)</td></tr>
<tr class="separator:a904c7dc55b4758a75d496dd349476551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a276141d258f026d72301ae652198c96e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e">nilfs_release_buffers</a> (struct list_head *<a class="el" href="pnode_8c.html#a4ec303fcaadf9da543d44583b91a12c0">list</a>)</td></tr>
<tr class="separator:a276141d258f026d72301ae652198c96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab061b6f9e4a21469962f8af1d75fd7a4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4">nilfs_segbuf_clear</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf)</td></tr>
<tr class="separator:ab061b6f9e4a21469962f8af1d75fd7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797a3a84dc0d4d37ebdff3a9dd84cb96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96">nilfs_clear_logs</a> (struct list_head *logs)</td></tr>
<tr class="separator:a797a3a84dc0d4d37ebdff3a9dd84cb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75d4afc4cdc2e67447692eed706e48c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#aa75d4afc4cdc2e67447692eed706e48c">nilfs_truncate_logs</a> (struct list_head *logs, struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *last)</td></tr>
<tr class="separator:aa75d4afc4cdc2e67447692eed706e48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50f85fb7783c54553be1109a82c3d14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#ad50f85fb7783c54553be1109a82c3d14">nilfs_write_logs</a> (struct list_head *logs, struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:ad50f85fb7783c54553be1109a82c3d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07df0debf8c9a97127ff086a15f53226"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226">nilfs_wait_on_logs</a> (struct list_head *logs)</td></tr>
<tr class="separator:a07df0debf8c9a97127ff086a15f53226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0badc0950a3433d60184499df2c63e99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99">nilfs_add_checksums_on_logs</a> (struct list_head *logs, u32 seed)</td></tr>
<tr class="separator:a0badc0950a3433d60184499df2c63e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b64bc5ba84b4020918e3e3de507fb5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5">nilfs_end_bio_write</a> (struct bio *bio)</td></tr>
<tr class="separator:a65b64bc5ba84b4020918e3e3de507fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95e7fca0c0addd1eff9273a0d6d8d31"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31">nilfs_segbuf_submit_bio</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, struct <a class="el" href="structnilfs__write__info.html">nilfs_write_info</a> *wi, int mode, int mode_flags)</td></tr>
<tr class="separator:ae95e7fca0c0addd1eff9273a0d6d8d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab1bd14e01bac4f746bc7103b82dae3"><td class="memItemLeft" align="right" valign="top">static struct bio *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3">nilfs_alloc_seg_bio</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, sector_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, int nr_vecs)</td></tr>
<tr class="separator:abab1bd14e01bac4f746bc7103b82dae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2584f9926cc26e313f7477df542f6cba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba">nilfs_segbuf_prepare_write</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, struct <a class="el" href="structnilfs__write__info.html">nilfs_write_info</a> *wi)</td></tr>
<tr class="separator:a2584f9926cc26e313f7477df542f6cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ed59e4d3f008f72bb24c6cdbea9ff3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3">nilfs_segbuf_submit_bh</a> (struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *segbuf, struct <a class="el" href="structnilfs__write__info.html">nilfs_write_info</a> *wi, struct buffer_head *bh, int mode)</td></tr>
<tr class="separator:a99ed59e4d3f008f72bb24c6cdbea9ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0badc0950a3433d60184499df2c63e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0badc0950a3433d60184499df2c63e99">&#9670;&nbsp;</a></span>nilfs_add_checksums_on_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_add_checksums_on_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_add_checksums_on_logs - add checksums on the logs : list of segment buffers storing target logs : checksum seed value </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a0badc0950a3433d60184499df2c63e99_cgraph.png" border="0" usemap="#segbuf_8c_a0badc0950a3433d60184499df2c63e99_cgraph" alt=""/></div>
<map name="segbuf_8c_a0badc0950a3433d60184499df2c63e99_cgraph" id="segbuf_8c_a0badc0950a3433d60184499df2c63e99_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a904c7dc55b4758a75d496dd349476551" title="nilfs_segbuf_fill_in\l_super_root_crc" alt="" coords="201,5,331,47"/>
<area shape="rect" id="node3" href="segbuf_8c.html#add50adbbc8d89a0d7b4901315fc2c2a2" title="nilfs_segbuf_fill_in\l_segsum_crc" alt="" coords="201,71,331,112"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a75bfe525cc1247c361865def83b3a1a9" title="nilfs_segbuf_fill_in\l_data_crc" alt="" coords="201,136,331,177"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a0badc0950a3433d60184499df2c63e99_icgraph.png" border="0" usemap="#segbuf_8c_a0badc0950a3433d60184499df2c63e99_icgraph" alt=""/></div>
<map name="segbuf_8c_a0badc0950a3433d60184499df2c63e99_icgraph" id="segbuf_8c_a0badc0950a3433d60184499df2c63e99_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1349,280,1528,307"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="201,323,345,365"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2203,145,2353,186"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1995,384,2152,411"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1576,273,1760,314"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2425,80,2530,107"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2419,131,2535,157"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2628,181,2748,208"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2844,181,2959,208"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2836,29,2967,56"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3068,80,3157,107"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3067,131,3159,157"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3063,181,3162,208"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3070,232,3155,259"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3074,29,3151,56"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2204,333,2352,360"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2209,435,2347,477"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2200,384,2356,411"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2599,333,2777,360"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2408,443,2547,469"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2623,435,2753,477"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2825,435,2977,461"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3379,397,3485,424"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3063,283,3163,309"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3025,485,3200,512"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3539,321,3628,348"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3248,485,3325,512"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3373,499,3491,525"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2404,384,2551,411"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2611,384,2765,411"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2846,384,2957,411"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1808,237,1947,278"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1999,333,2147,360"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2004,232,2143,259"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2228,232,2328,259"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2219,61,2337,88"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2418,283,2537,309"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2432,232,2523,259"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2629,283,2747,309"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2619,510,2757,551"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2831,536,2972,563"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="393,345,541,386"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="593,453,740,480"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="589,301,744,328"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="593,352,741,379"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="589,403,744,429"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="792,410,923,451"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="971,338,1112,379"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1160,305,1301,332"/>
</map>
</div>

</div>
</div>
<a id="abab1bd14e01bac4f746bc7103b82dae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab1bd14e01bac4f746bc7103b82dae3">&#9670;&nbsp;</a></span>nilfs_alloc_seg_bio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct bio* nilfs_alloc_seg_bio </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_vecs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_alloc_seg_bio - allocate a new bio for writing log : nilfs object : start block number of the bio : request size of page vector.</p>
<p>Return Value: On success, pointer to the struct bio is returned. On error, NULL is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_abab1bd14e01bac4f746bc7103b82dae3_icgraph.png" border="0" usemap="#segbuf_8c_abab1bd14e01bac4f746bc7103b82dae3_icgraph" alt=""/></div>
<map name="segbuf_8c_abab1bd14e01bac4f746bc7103b82dae3_icgraph" id="segbuf_8c_abab1bd14e01bac4f746bc7103b82dae3_icgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="185,292,344,319"/>
<area shape="rect" id="node3" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="392,292,519,319"/>
<area shape="rect" id="node4" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="567,292,679,319"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="927,241,1058,268"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="727,314,871,355"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1875,249,2053,276"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2542,115,2691,157"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2333,340,2491,367"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="2101,242,2285,283"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2962,40,3067,67"/>
<area shape="rect" id="node17" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2758,101,2874,128"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3169,141,3289,168"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3397,107,3511,133"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3389,208,3519,235"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3594,56,3683,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3593,107,3685,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3589,157,3688,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3596,5,3681,32"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3600,232,3677,259"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2543,285,2691,312"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2547,337,2686,378"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2539,403,2695,429"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3140,259,3319,285"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2747,348,2885,375"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2950,345,3079,386"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3153,360,3305,387"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3736,411,3841,437"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3404,335,3504,361"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3367,436,3541,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3889,385,3979,412"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3600,436,3677,463"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2743,407,2889,433"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2937,411,3092,437"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3174,411,3285,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2343,217,2481,258"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2338,285,2486,312"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2547,203,2686,229"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2766,203,2866,229"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2757,152,2875,179"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2955,141,3074,168"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2969,192,3060,219"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="919,314,1067,355"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="1119,372,1265,399"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="1115,423,1269,449"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="1118,271,1266,297"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="1115,321,1269,348"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1317,341,1448,382"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1496,294,1637,335"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1685,275,1827,301"/>
</map>
</div>

</div>
</div>
<a id="a797a3a84dc0d4d37ebdff3a9dd84cb96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797a3a84dc0d4d37ebdff3a9dd84cb96">&#9670;&nbsp;</a></span>nilfs_clear_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_clear_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_cgraph.png" border="0" usemap="#segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_cgraph" alt=""/></div>
<map name="segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_cgraph" id="segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="165,5,292,32"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="340,5,483,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_icgraph.png" border="0" usemap="#segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_icgraph" alt=""/></div>
<map name="segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_icgraph" id="segbuf_8c_a797a3a84dc0d4d37ebdff3a9dd84cb96_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1124,307,1265,333"/>
<area shape="rect" id="node43" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="165,331,309,373"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1313,307,1492,333"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2167,145,2317,186"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1959,384,2116,411"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1540,299,1724,341"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2389,80,2494,107"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2383,131,2499,157"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2592,181,2712,208"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2808,181,2923,208"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2800,29,2931,56"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3032,80,3121,107"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3031,131,3123,157"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3027,181,3126,208"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3034,232,3119,259"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3038,29,3115,56"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2168,333,2316,360"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2173,435,2311,477"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2164,384,2320,411"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2563,333,2741,360"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2372,443,2511,469"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2587,435,2717,477"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2789,435,2941,461"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3343,359,3449,385"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3027,283,3127,309"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2989,485,3164,512"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3503,321,3592,348"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3212,485,3289,512"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3337,536,3455,563"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2368,384,2515,411"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2575,384,2729,411"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2810,384,2921,411"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1772,239,1911,281"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1963,333,2111,360"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1968,232,2107,259"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2192,232,2292,259"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2183,61,2301,88"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2382,283,2501,309"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2396,232,2487,259"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2593,283,2711,309"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2583,510,2721,551"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2795,536,2936,563"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="357,353,505,394"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="557,461,704,488"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="553,309,708,336"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="557,360,705,387"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="553,411,708,437"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="756,382,887,423"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="935,346,1076,387"/>
</map>
</div>

</div>
</div>
<a id="a65b64bc5ba84b4020918e3e3de507fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b64bc5ba84b4020918e3e3de507fb5">&#9670;&nbsp;</a></span>nilfs_end_bio_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_end_bio_write </td>
          <td>(</td>
          <td class="paramtype">struct bio *&#160;</td>
          <td class="paramname"><em>bio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a65b64bc5ba84b4020918e3e3de507fb5_icgraph.png" border="0" usemap="#segbuf_8c_a65b64bc5ba84b4020918e3e3de507fb5_icgraph" alt=""/></div>
<map name="segbuf_8c_a65b64bc5ba84b4020918e3e3de507fb5_icgraph" id="segbuf_8c_a65b64bc5ba84b4020918e3e3de507fb5_icgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="187,311,349,337"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="397,336,556,363"/>
<area shape="rect" id="node4" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="604,311,731,337"/>
<area shape="rect" id="node5" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="779,311,891,337"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="1139,260,1270,287"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="939,333,1083,374"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="2087,268,2265,295"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2754,189,2903,230"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2545,352,2703,379"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="2313,261,2497,302"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="3174,224,3279,251"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2970,243,3086,269"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3381,123,3501,149"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3609,107,3723,133"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3601,208,3731,235"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3806,107,3895,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3805,157,3897,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3801,5,3900,32"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3808,56,3893,83"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3812,232,3889,259"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2755,293,2903,320"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2759,345,2898,386"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2751,411,2907,437"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3352,259,3531,285"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2959,352,3097,379"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="3162,345,3291,386"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3365,360,3517,387"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3613,436,3719,463"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3616,335,3716,361"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3579,385,3753,412"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3806,385,3895,412"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2955,411,3101,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="3149,411,3304,437"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3386,411,3497,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2555,235,2693,277"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2550,301,2698,328"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2759,123,2898,149"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2978,123,3078,149"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2969,47,3087,73"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="3167,123,3286,149"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="3181,173,3272,200"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="1131,333,1279,374"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="1331,441,1477,468"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="1327,289,1481,316"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="1330,340,1478,367"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="1327,391,1481,417"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1529,398,1660,439"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1708,326,1849,367"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1897,293,2039,320"/>
</map>
</div>

</div>
</div>
<a id="a276141d258f026d72301ae652198c96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a276141d258f026d72301ae652198c96e">&#9670;&nbsp;</a></span>nilfs_release_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_release_buffers </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a276141d258f026d72301ae652198c96e_icgraph.png" border="0" usemap="#segbuf_8c_a276141d258f026d72301ae652198c96e_icgraph" alt=""/></div>
<map name="segbuf_8c_a276141d258f026d72301ae652198c96e_icgraph" id="segbuf_8c_a276141d258f026d72301ae652198c96e_icgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="196,403,323,429"/>
<area shape="rect" id="node3" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="380,428,492,455"/>
<area shape="rect" id="node45" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="371,373,501,400"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1512,333,1653,360"/>
<area shape="rect" id="node37" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="549,421,693,462"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1701,224,1880,251"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2369,115,2518,157"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2160,323,2317,349"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1928,217,2112,258"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2590,61,2695,88"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2585,112,2701,139"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2793,157,2913,184"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3009,107,3124,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3001,157,3132,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3233,5,3323,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3232,56,3324,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3229,107,3327,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3235,157,3321,184"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3239,232,3317,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2369,264,2517,291"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2374,315,2513,357"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2365,381,2521,408"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2764,261,2943,288"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2573,335,2712,361"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2789,334,2918,375"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2991,360,3143,387"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3225,321,3331,348"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3228,385,3328,412"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3191,487,3365,513"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2569,399,2716,425"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2776,407,2931,433"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3011,411,3122,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2169,202,2308,243"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2165,268,2313,295"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2374,209,2513,236"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2593,213,2693,240"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2583,163,2702,189"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="743,427,891,469"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="944,485,1091,512"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="940,435,1095,461"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="943,536,1091,563"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="940,384,1095,411"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1143,431,1273,473"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1322,385,1463,426"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="741,338,892,379"/>
<area shape="rect" id="node47" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="1145,245,1271,272"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1321,267,1464,309"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1517,158,1649,199"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1519,224,1646,251"/>
</map>
</div>

</div>
</div>
<a id="ab061b6f9e4a21469962f8af1d75fd7a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab061b6f9e4a21469962f8af1d75fd7a4">&#9670;&nbsp;</a></span>nilfs_segbuf_clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segbuf_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_cgraph.png" border="0" usemap="#segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_cgraph" alt=""/></div>
<map name="segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_cgraph" id="segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="180,5,323,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_icgraph.png" border="0" usemap="#segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_icgraph" alt=""/></div>
<map name="segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_icgraph" id="segbuf_8c_ab061b6f9e4a21469962f8af1d75fd7a4_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="189,501,301,528"/>
<area shape="rect" id="node45" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="180,447,311,473"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1321,407,1463,433"/>
<area shape="rect" id="node37" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="359,494,503,535"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1511,297,1689,324"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2178,286,2327,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1969,403,2127,429"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1737,231,1921,273"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2598,253,2703,280"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2394,301,2510,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2805,156,2925,183"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3033,107,3147,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3025,208,3155,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3230,157,3319,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3229,5,3321,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3225,56,3324,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3232,107,3317,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3236,232,3313,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2179,352,2327,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2183,454,2322,495"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2175,403,2331,429"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2776,259,2955,285"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2383,461,2521,488"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2586,454,2715,495"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2789,461,2941,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3037,360,3143,387"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3040,411,3140,437"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3003,487,3177,513"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2379,403,2525,429"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2573,403,2728,429"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2810,309,2921,336"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1979,202,2117,243"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1974,352,2122,379"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2183,179,2322,205"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2402,179,2502,205"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2591,101,2710,128"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2591,203,2710,229"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="552,501,700,542"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="753,559,900,585"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="749,508,904,535"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="753,609,901,636"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="749,457,904,484"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="952,505,1083,546"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1131,458,1273,499"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="551,411,701,453"/>
<area shape="rect" id="node47" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="954,319,1081,345"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1131,341,1273,382"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1326,231,1458,273"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1329,297,1455,324"/>
</map>
</div>

</div>
</div>
<a id="a2c98ed4ccb2e713f1fc449ff36ac9b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c98ed4ccb2e713f1fc449ff36ac9b9f">&#9670;&nbsp;</a></span>nilfs_segbuf_extend_payload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_segbuf_extend_payload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_cgraph.png" border="0" usemap="#segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_cgraph" alt=""/></div>
<map name="segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_cgraph" id="segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_cgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#a32be375a039ed730165de935b4a90eab" title="nilfs_segbuf_add_payload\l_buffer" alt="" coords="192,5,364,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_icgraph.png" border="0" usemap="#segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_icgraph" alt=""/></div>
<map name="segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_icgraph" id="segbuf_8c_a2c98ed4ccb2e713f1fc449ff36ac9b9f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="192,352,384,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="432,345,573,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="621,352,763,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="811,352,989,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1665,286,1814,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1456,411,1613,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1037,345,1221,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1886,200,1991,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1881,301,1997,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2089,149,2209,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2305,107,2420,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2297,208,2428,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2529,157,2619,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2528,5,2620,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2525,56,2623,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2531,107,2617,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2535,232,2613,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1665,352,1813,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1670,403,1809,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1661,469,1817,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2060,352,2239,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1869,411,2008,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2085,403,2214,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2287,411,2439,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2841,436,2946,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2524,512,2624,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2487,461,2661,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3005,499,3094,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2709,461,2787,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2835,575,2952,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="3000,575,3099,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1865,469,2012,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2072,469,2227,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2307,563,2418,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1269,185,1408,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1461,352,1609,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1465,149,1604,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1689,99,1789,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1680,149,1799,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1879,251,1998,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1893,99,1984,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2090,235,2209,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2080,286,2219,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2292,309,2433,336"/>
</map>
</div>

</div>
</div>
<a id="af529ffec555c692ff70870d893d799f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af529ffec555c692ff70870d893d799f0">&#9670;&nbsp;</a></span>nilfs_segbuf_extend_segsum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_segbuf_extend_segsum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_af529ffec555c692ff70870d893d799f0_cgraph.png" border="0" usemap="#segbuf_8c_af529ffec555c692ff70870d893d799f0_cgraph" alt=""/></div>
<map name="segbuf_8c_af529ffec555c692ff70870d893d799f0_cgraph" id="segbuf_8c_af529ffec555c692ff70870d893d799f0_cgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="192,5,365,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_af529ffec555c692ff70870d893d799f0_icgraph.png" border="0" usemap="#segbuf_8c_af529ffec555c692ff70870d893d799f0_icgraph" alt=""/></div>
<map name="segbuf_8c_af529ffec555c692ff70870d893d799f0_icgraph" id="segbuf_8c_af529ffec555c692ff70870d893d799f0_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="724,390,872,431"/>
<area shape="rect" id="node47" href="segbuf_8h.html#a5692165c064e05142d48fdd4b7340749" title="nilfs_segbuf_reset" alt="" coords="192,337,320,364"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="924,401,1071,428"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="920,503,1075,529"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="923,351,1071,377"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="920,452,1075,479"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1153,377,1284,418"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1363,301,1504,342"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1552,279,1693,305"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1741,279,1920,305"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2409,170,2558,211"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2200,363,2357,389"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1968,271,2152,313"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2829,109,2934,136"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2625,160,2741,187"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3036,157,3156,184"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3263,107,3378,133"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3255,157,3386,184"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3461,107,3550,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3459,157,3551,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3456,5,3555,32"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3463,56,3548,83"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3467,232,3544,259"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2409,312,2557,339"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2414,414,2553,455"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2405,363,2561,389"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3007,256,3185,283"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2613,437,2752,464"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2817,430,2946,471"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3020,459,3172,485"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3603,433,3708,460"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3271,509,3371,536"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3233,357,3408,384"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3756,484,3845,511"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3467,357,3544,384"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2609,365,2756,392"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2804,368,2959,395"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3041,307,3151,333"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2209,246,2348,287"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2205,312,2353,339"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2414,253,2553,280"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2633,211,2733,237"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2623,261,2742,288"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2822,59,2941,85"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2836,160,2927,187"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="3037,59,3155,85"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="368,309,500,350"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="548,309,676,350"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="1123,304,1315,331"/>
</map>
</div>

</div>
</div>
<a id="a75bfe525cc1247c361865def83b3a1a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75bfe525cc1247c361865def83b3a1a9">&#9670;&nbsp;</a></span>nilfs_segbuf_fill_in_data_crc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segbuf_fill_in_data_crc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a75bfe525cc1247c361865def83b3a1a9_icgraph.png" border="0" usemap="#segbuf_8c_a75bfe525cc1247c361865def83b3a1a9_icgraph" alt=""/></div>
<map name="segbuf_8c_a75bfe525cc1247c361865def83b3a1a9_icgraph" id="segbuf_8c_a75bfe525cc1247c361865def83b3a1a9_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="183,251,331,293"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1527,245,1705,272"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="379,281,523,322"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2194,110,2343,151"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1985,333,2143,360"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1753,238,1937,279"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2614,17,2719,44"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2410,24,2526,51"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2808,107,2928,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3024,107,3139,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3016,159,3147,185"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3223,107,3313,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3222,157,3314,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3219,5,3317,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3225,56,3311,83"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3229,232,3307,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2195,275,2343,301"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2199,326,2338,367"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2191,392,2347,419"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2992,272,3171,299"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2399,337,2537,364"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2602,345,2731,386"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2792,376,2944,403"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3371,376,3477,403"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3031,427,3131,453"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2994,503,3169,529"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3531,401,3620,428"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3229,503,3307,529"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3365,528,3483,555"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2395,405,2541,432"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2589,419,2744,445"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2813,427,2923,453"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1995,197,2133,238"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1990,275,2138,301"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2199,176,2338,203"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2418,176,2518,203"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2409,125,2527,152"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2607,220,2726,247"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2621,169,2712,196"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2809,157,2927,184"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2799,209,2937,250"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="571,302,719,343"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="771,411,917,437"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="767,259,921,285"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="770,309,918,336"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="767,360,921,387"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="969,331,1100,373"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1148,295,1289,337"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1337,281,1479,308"/>
</map>
</div>

</div>
</div>
<a id="a2408739e4354a5a7c242c36647ad6b84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2408739e4354a5a7c242c36647ad6b84">&#9670;&nbsp;</a></span>nilfs_segbuf_fill_in_segsum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_segbuf_fill_in_segsum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a2408739e4354a5a7c242c36647ad6b84_icgraph.png" border="0" usemap="#segbuf_8c_a2408739e4354a5a7c242c36647ad6b84_icgraph" alt=""/></div>
<map name="segbuf_8c_a2408739e4354a5a7c242c36647ad6b84_icgraph" id="segbuf_8c_a2408739e4354a5a7c242c36647ad6b84_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="183,352,324,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="372,352,551,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1226,286,1375,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1017,411,1175,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="599,345,783,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1447,200,1553,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1442,301,1558,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1651,149,1771,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1867,107,1981,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1859,208,1989,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2091,157,2180,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2089,5,2181,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2086,56,2185,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2093,107,2178,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2097,232,2174,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1227,352,1375,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1231,403,1370,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1223,469,1379,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1621,352,1800,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1431,411,1569,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1646,403,1775,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1848,411,2000,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2402,436,2507,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2085,512,2185,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2048,461,2223,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2566,499,2655,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2271,461,2348,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2396,575,2513,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2561,575,2660,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1427,469,1573,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1633,469,1788,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1869,563,1979,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="831,185,969,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1022,352,1170,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1027,149,1165,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1251,99,1351,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1241,149,1360,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1441,251,1559,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1455,99,1545,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1651,235,1770,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1641,286,1780,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1853,309,1995,336"/>
</map>
</div>

</div>
</div>
<a id="add50adbbc8d89a0d7b4901315fc2c2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add50adbbc8d89a0d7b4901315fc2c2a2">&#9670;&nbsp;</a></span>nilfs_segbuf_fill_in_segsum_crc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segbuf_fill_in_segsum_crc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_add50adbbc8d89a0d7b4901315fc2c2a2_icgraph.png" border="0" usemap="#segbuf_8c_add50adbbc8d89a0d7b4901315fc2c2a2_icgraph" alt=""/></div>
<map name="segbuf_8c_add50adbbc8d89a0d7b4901315fc2c2a2_icgraph" id="segbuf_8c_add50adbbc8d89a0d7b4901315fc2c2a2_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="183,251,331,293"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1527,245,1705,272"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="379,281,523,322"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2194,110,2343,151"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1985,333,2143,360"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1753,238,1937,279"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2614,17,2719,44"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2410,24,2526,51"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2808,107,2928,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3024,107,3139,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3016,159,3147,185"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3223,107,3313,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3222,157,3314,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3219,5,3317,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3225,56,3311,83"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3229,232,3307,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2195,275,2343,301"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2199,326,2338,367"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2191,392,2347,419"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2992,272,3171,299"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2399,337,2537,364"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2602,345,2731,386"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2792,376,2944,403"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3371,376,3477,403"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3031,427,3131,453"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2994,503,3169,529"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3531,401,3620,428"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3229,503,3307,529"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3365,528,3483,555"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2395,405,2541,432"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2589,419,2744,445"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2813,427,2923,453"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1995,197,2133,238"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1990,275,2138,301"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2199,176,2338,203"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2418,176,2518,203"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2409,125,2527,152"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2607,220,2726,247"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2621,169,2712,196"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2809,157,2927,184"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2799,209,2937,250"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="571,302,719,343"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="771,411,917,437"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="767,259,921,285"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="770,309,918,336"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="767,360,921,387"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="969,331,1100,373"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1148,295,1289,337"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1337,281,1479,308"/>
</map>
</div>

</div>
</div>
<a id="a904c7dc55b4758a75d496dd349476551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a904c7dc55b4758a75d496dd349476551">&#9670;&nbsp;</a></span>nilfs_segbuf_fill_in_super_root_crc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segbuf_fill_in_super_root_crc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a904c7dc55b4758a75d496dd349476551_icgraph.png" border="0" usemap="#segbuf_8c_a904c7dc55b4758a75d496dd349476551_icgraph" alt=""/></div>
<map name="segbuf_8c_a904c7dc55b4758a75d496dd349476551_icgraph" id="segbuf_8c_a904c7dc55b4758a75d496dd349476551_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="183,251,331,293"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1527,245,1705,272"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="379,281,523,322"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2194,110,2343,151"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1985,333,2143,360"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1753,238,1937,279"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2614,17,2719,44"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2410,24,2526,51"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2808,107,2928,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3024,107,3139,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3016,159,3147,185"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3223,107,3313,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3222,157,3314,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3219,5,3317,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3225,56,3311,83"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3229,232,3307,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2195,275,2343,301"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2199,326,2338,367"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2191,392,2347,419"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2992,272,3171,299"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2399,337,2537,364"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2602,345,2731,386"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2792,376,2944,403"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3371,376,3477,403"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3031,427,3131,453"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2994,503,3169,529"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3531,401,3620,428"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3229,503,3307,529"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3365,528,3483,555"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2395,405,2541,432"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2589,419,2744,445"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2813,427,2923,453"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1995,197,2133,238"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1990,275,2138,301"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2199,176,2338,203"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2418,176,2518,203"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2409,125,2527,152"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2607,220,2726,247"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2621,169,2712,196"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2809,157,2927,184"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2799,209,2937,250"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="571,302,719,343"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="771,411,917,437"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="767,259,921,285"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="770,309,918,336"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="767,360,921,387"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="969,331,1100,373"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1148,295,1289,337"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1337,281,1479,308"/>
</map>
</div>

</div>
</div>
<a id="a63aa16390b9358fa427baa180df2584f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63aa16390b9358fa427baa180df2584f">&#9670;&nbsp;</a></span>nilfs_segbuf_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_segbuf_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a63aa16390b9358fa427baa180df2584f_icgraph.png" border="0" usemap="#segbuf_8c_a63aa16390b9358fa427baa180df2584f_icgraph" alt=""/></div>
<map name="segbuf_8c_a63aa16390b9358fa427baa180df2584f_icgraph" id="segbuf_8c_a63aa16390b9358fa427baa180df2584f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="559,29,693,70"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1129,297,1272,338"/>
<area shape="rect" id="node38" href="segbuf_8h.html#aa75d4afc4cdc2e67447692eed706e48c" title="nilfs_truncate_logs" alt="" coords="175,237,305,264"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1509,307,1688,333"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2177,198,2326,239"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1968,391,2125,417"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1736,299,1920,341"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2597,137,2702,164"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2393,188,2509,215"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2804,188,2924,215"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3031,137,3146,164"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3023,239,3154,265"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3229,188,3318,215"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3227,36,3319,63"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3224,87,3323,113"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3231,137,3316,164"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3235,263,3312,289"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2177,340,2325,367"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2182,442,2321,483"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2173,391,2329,417"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2775,284,2953,311"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2381,465,2520,492"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2585,458,2714,499"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2788,487,2940,513"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3036,443,3141,469"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3039,512,3139,539"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3001,357,3176,384"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2377,393,2524,420"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2572,396,2727,423"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2809,436,2919,463"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1977,274,2116,315"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1973,340,2121,367"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2182,281,2321,308"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2401,239,2501,265"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2590,289,2709,316"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2590,239,2709,265"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1320,271,1461,297"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="353,230,504,271"/>
<area shape="rect" id="node40" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="357,151,501,193"/>
<area shape="rect" id="node48" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="953,397,1079,424"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="552,137,700,178"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="752,195,899,221"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="748,43,903,69"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="751,93,899,120"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="748,144,903,171"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="951,179,1081,221"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1130,179,1271,221"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1325,329,1457,370"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1327,407,1454,433"/>
</map>
</div>

</div>
</div>
<a id="aa497e69147c7836b3bb0c1fff2bbd08f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa497e69147c7836b3bb0c1fff2bbd08f">&#9670;&nbsp;</a></span>nilfs_segbuf_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_segbuf_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>segnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_cgraph.png" border="0" usemap="#segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_cgraph" alt=""/></div>
<map name="segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_cgraph" id="segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="177,5,344,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_icgraph.png" border="0" usemap="#segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_icgraph" alt=""/></div>
<map name="segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_icgraph" id="segbuf_8c_aa497e69147c7836b3bb0c1fff2bbd08f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="371,315,506,357"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="177,374,320,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="557,352,736,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1411,286,1561,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1203,411,1360,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="784,345,968,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1633,200,1738,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1627,301,1743,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1836,149,1956,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2052,107,2167,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2044,208,2175,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2276,157,2365,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2275,5,2367,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2271,56,2370,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2278,107,2363,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2282,232,2359,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1412,352,1560,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1417,403,1555,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1408,469,1564,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1807,352,1985,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1616,411,1755,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1831,403,1961,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2033,411,2185,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2587,436,2693,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2271,512,2371,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2233,461,2408,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2751,499,2841,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2456,461,2533,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2581,575,2699,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2747,575,2845,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1612,469,1759,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1819,469,1973,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2054,563,2165,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1016,185,1155,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1207,352,1355,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1212,149,1351,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1436,99,1536,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1427,149,1545,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1626,251,1745,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1640,99,1731,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1837,235,1955,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1827,286,1965,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2039,309,2180,336"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="368,381,509,408"/>
</map>
</div>

</div>
</div>
<a id="aa25d7cf18d0db3708ee6fbd162717ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25d7cf18d0db3708ee6fbd162717ba2">&#9670;&nbsp;</a></span>nilfs_segbuf_map_cont()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_segbuf_map_cont </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>prev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_segbuf_map_cont - map a new log behind a given log : new segment buffer : segment buffer containing a log to be continued </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_aa25d7cf18d0db3708ee6fbd162717ba2_icgraph.png" border="0" usemap="#segbuf_8c_aa25d7cf18d0db3708ee6fbd162717ba2_icgraph" alt=""/></div>
<map name="segbuf_8c_aa25d7cf18d0db3708ee6fbd162717ba2_icgraph" id="segbuf_8c_aa25d7cf18d0db3708ee6fbd162717ba2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="209,345,344,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="392,352,571,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1246,286,1395,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1037,411,1195,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="619,345,803,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1467,200,1573,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1462,301,1578,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1671,149,1791,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1887,107,2001,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1879,208,2009,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2111,157,2200,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2109,5,2201,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2106,56,2205,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2113,107,2198,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2117,232,2194,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1247,352,1395,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1251,403,1390,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1243,469,1399,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1641,352,1820,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1451,411,1589,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1666,403,1795,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1868,411,2020,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2422,436,2527,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2105,512,2205,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2068,461,2243,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2586,499,2675,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2291,461,2368,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2416,575,2533,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2581,575,2680,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1447,469,1593,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1653,469,1808,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1889,563,1999,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="851,185,989,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1042,352,1190,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1047,149,1185,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1271,99,1371,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1261,149,1380,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1461,251,1579,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1475,99,1565,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1671,235,1790,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1661,286,1800,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1873,309,2015,336"/>
</map>
</div>

</div>
</div>
<a id="a50fe9d805ced3904d4db3898a2bdaac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fe9d805ced3904d4db3898a2bdaac8">&#9670;&nbsp;</a></span>nilfs_segbuf_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a>* nilfs_segbuf_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a50fe9d805ced3904d4db3898a2bdaac8_icgraph.png" border="0" usemap="#segbuf_8c_a50fe9d805ced3904d4db3898a2bdaac8_icgraph" alt=""/></div>
<map name="segbuf_8c_a50fe9d805ced3904d4db3898a2bdaac8_icgraph" id="segbuf_8c_a50fe9d805ced3904d4db3898a2bdaac8_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="370,315,505,357"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="176,374,319,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="556,352,735,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1410,286,1559,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1201,411,1359,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="783,345,967,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1631,200,1737,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1626,301,1742,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1835,149,1955,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2051,107,2165,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2043,208,2173,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2275,157,2364,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2273,5,2365,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2270,56,2369,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2277,107,2362,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2281,232,2358,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1411,352,1559,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1415,403,1554,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1407,469,1563,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1805,352,1984,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1615,411,1753,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1830,403,1959,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2032,411,2184,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2586,436,2691,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2269,512,2369,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2232,461,2407,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2750,499,2839,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2455,461,2532,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2580,575,2697,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2745,575,2844,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1611,469,1757,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1817,469,1972,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2053,563,2163,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1015,185,1153,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1206,352,1354,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1211,149,1349,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1435,99,1535,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1425,149,1544,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1625,251,1743,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1639,99,1729,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1835,235,1954,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1825,286,1964,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2037,309,2179,336"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="367,381,508,408"/>
</map>
</div>

</div>
</div>
<a id="a2584f9926cc26e313f7477df542f6cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2584f9926cc26e313f7477df542f6cba">&#9670;&nbsp;</a></span>nilfs_segbuf_prepare_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_segbuf_prepare_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__write__info.html">nilfs_write_info</a> *&#160;</td>
          <td class="paramname"><em>wi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a2584f9926cc26e313f7477df542f6cba_icgraph.png" border="0" usemap="#segbuf_8c_a2584f9926cc26e313f7477df542f6cba_icgraph" alt=""/></div>
<map name="segbuf_8c_a2584f9926cc26e313f7477df542f6cba_icgraph" id="segbuf_8c_a2584f9926cc26e313f7477df542f6cba_icgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="196,272,323,299"/>
<area shape="rect" id="node3" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="371,272,483,299"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="731,221,862,248"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="531,294,675,335"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1679,229,1857,256"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2346,119,2495,161"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2137,315,2295,341"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1905,222,2089,263"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2766,5,2871,32"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2562,107,2678,133"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2973,107,3093,133"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3201,107,3315,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3193,208,3323,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3398,56,3487,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3397,107,3489,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3393,157,3492,184"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3400,5,3485,32"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3404,232,3481,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2347,259,2495,285"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2351,310,2490,351"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2343,376,2499,403"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2944,259,3123,285"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2551,317,2689,344"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2754,310,2883,351"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2957,313,3109,340"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3540,415,3645,441"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3208,516,3308,543"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3171,364,3345,391"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3693,491,3783,517"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3404,389,3481,416"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2547,395,2693,421"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2741,395,2896,421"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2978,415,3089,441"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2147,197,2285,238"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2142,263,2290,289"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2351,204,2490,231"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2570,157,2670,184"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2561,208,2679,235"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2759,56,2878,83"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2773,107,2864,133"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2974,56,3093,83"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="723,294,871,335"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="923,352,1069,379"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="919,403,1073,429"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="922,251,1070,277"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="919,301,1073,328"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1121,321,1252,362"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1300,274,1441,315"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1489,255,1631,281"/>
</map>
</div>

</div>
</div>
<a id="a5ee5009cc612b5a410f25e9c32460da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ee5009cc612b5a410f25e9c32460da1">&#9670;&nbsp;</a></span>nilfs_segbuf_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_segbuf_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time64_t&#160;</td>
          <td class="paramname"><em>ctime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_cgraph.png" border="0" usemap="#segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_cgraph" alt=""/></div>
<map name="segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_cgraph" id="segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#af529ffec555c692ff70870d893d799f0" title="nilfs_segbuf_extend\l_segsum" alt="" coords="181,5,320,47"/>
<area shape="rect" id="node3" href="segbuf_8h.html#aae7eabeb766f1247fd2c136a0207ca2c" title="nilfs_segbuf_add_segsum\l_buffer" alt="" coords="368,5,541,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_icgraph.png" border="0" usemap="#segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_icgraph" alt=""/></div>
<map name="segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_icgraph" id="segbuf_8c_a5ee5009cc612b5a410f25e9c32460da1_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="181,279,313,320"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a9807a7126231dfa8ee7d7f91ba3fc7e1" title="nilfs_segctor_feed\l_segment" alt="" coords="361,308,489,349"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1365,286,1507,313"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a85858fb40e1f103a76c3b687018ed807" title="nilfs_segctor_add_super_root" alt="" coords="936,311,1128,338"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="537,403,685,444"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1176,308,1317,349"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1555,286,1733,313"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2222,216,2371,257"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2013,370,2171,397"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1781,279,1965,320"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2642,249,2747,275"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2438,249,2554,275"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2836,147,2956,174"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3052,147,3167,174"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3044,249,3175,275"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3251,97,3341,123"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3250,147,3342,174"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3247,198,3345,225"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3253,46,3339,73"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3257,273,3335,299"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2223,319,2371,346"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2227,421,2366,463"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2219,370,2375,397"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3020,299,3199,326"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2427,515,2565,542"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2630,533,2759,575"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2820,553,2972,579"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3393,477,3499,503"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3059,401,3159,427"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3022,502,3197,529"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3547,451,3636,478"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3257,502,3335,529"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2423,398,2569,425"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2617,426,2772,453"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2841,401,2951,427"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2023,253,2161,295"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2018,319,2166,346"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2227,147,2366,174"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2446,147,2546,174"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2437,97,2555,123"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2635,46,2754,73"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2649,147,2740,174"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2837,71,2955,98"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2827,5,2965,47"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="737,511,884,538"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="733,359,888,386"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="737,410,885,437"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="733,461,888,487"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="967,435,1097,476"/>
</map>
</div>

</div>
</div>
<a id="ace2135c9c49660e18331d4bcc5bf9675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2135c9c49660e18331d4bcc5bf9675">&#9670;&nbsp;</a></span>nilfs_segbuf_set_next_segnum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_segbuf_set_next_segnum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>nextnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_cgraph.png" border="0" usemap="#segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_cgraph" alt=""/></div>
<map name="segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_cgraph" id="segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a2eaeef6fdc47c7f32d69dc50faddad8e" title="nilfs_get_segment_start\l_blocknr" alt="" coords="203,5,364,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_icgraph.png" border="0" usemap="#segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_icgraph" alt=""/></div>
<map name="segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_icgraph" id="segbuf_8c_ace2135c9c49660e18331d4bcc5bf9675_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="397,315,531,357"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="203,374,345,415"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="583,352,761,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1437,286,1586,327"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1228,411,1385,437"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="809,345,993,386"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1658,200,1763,227"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1653,301,1769,328"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1861,149,1981,176"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2077,107,2192,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2069,208,2200,235"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2301,157,2391,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2300,5,2392,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2297,56,2395,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2303,107,2389,133"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2307,232,2385,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1437,352,1585,379"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1442,403,1581,445"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1433,469,1589,496"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1832,352,2011,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1641,411,1780,437"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1857,403,1986,445"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2059,411,2211,437"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2613,436,2718,463"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2296,512,2396,539"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2259,461,2433,488"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2777,499,2866,525"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2481,461,2559,488"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2607,575,2724,601"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2772,575,2871,601"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1637,469,1784,496"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1844,469,1999,496"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2079,563,2190,589"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1041,185,1180,226"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1233,352,1381,379"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1237,149,1376,176"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1461,99,1561,125"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1452,149,1571,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1651,251,1770,277"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1665,99,1756,125"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1862,235,1981,261"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1852,286,1991,327"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2064,309,2205,336"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="393,381,535,408"/>
</map>
</div>

</div>
</div>
<a id="a99ed59e4d3f008f72bb24c6cdbea9ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ed59e4d3f008f72bb24c6cdbea9ff3">&#9670;&nbsp;</a></span>nilfs_segbuf_submit_bh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segbuf_submit_bh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__write__info.html">nilfs_write_info</a> *&#160;</td>
          <td class="paramname"><em>wi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_cgraph.png" border="0" usemap="#segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_cgraph" alt=""/></div>
<map name="segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_cgraph" id="segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="227,5,359,32"/>
<area shape="rect" id="node3" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="212,56,375,83"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="423,56,556,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_icgraph.png" border="0" usemap="#segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_icgraph" alt=""/></div>
<map name="segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_icgraph" id="segbuf_8c_a99ed59e4d3f008f72bb24c6cdbea9ff3_icgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="212,272,339,299"/>
<area shape="rect" id="node3" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="387,272,499,299"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="747,221,878,248"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="547,294,691,335"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1695,229,1873,256"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2362,119,2511,161"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2153,315,2311,341"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1921,222,2105,263"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2782,5,2887,32"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2578,107,2694,133"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2989,107,3109,133"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3217,107,3331,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3209,208,3339,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3414,56,3503,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3413,107,3505,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3409,157,3508,184"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3416,5,3501,32"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3420,232,3497,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2363,259,2511,285"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2367,310,2506,351"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2359,376,2515,403"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2960,259,3139,285"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2567,317,2705,344"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2770,310,2899,351"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2973,313,3125,340"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3556,415,3661,441"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3224,516,3324,543"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3187,364,3361,391"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3709,491,3799,517"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3420,389,3497,416"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2563,395,2709,421"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2757,395,2912,421"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2994,415,3105,441"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2163,197,2301,238"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2158,263,2306,289"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2367,204,2506,231"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2586,157,2686,184"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2577,208,2695,235"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2775,56,2894,83"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2789,107,2880,133"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2990,56,3109,83"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="739,294,887,335"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="939,352,1085,379"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="935,403,1089,429"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="938,251,1086,277"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="935,301,1089,328"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1137,321,1268,362"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1316,274,1457,315"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1505,255,1647,281"/>
</map>
</div>

</div>
</div>
<a id="ae95e7fca0c0addd1eff9273a0d6d8d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae95e7fca0c0addd1eff9273a0d6d8d31">&#9670;&nbsp;</a></span>nilfs_segbuf_submit_bio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segbuf_submit_bio </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__write__info.html">nilfs_write_info</a> *&#160;</td>
          <td class="paramname"><em>wi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_cgraph.png" border="0" usemap="#segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_cgraph" alt=""/></div>
<map name="segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_cgraph" id="segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="216,5,349,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_icgraph.png" border="0" usemap="#segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_icgraph" alt=""/></div>
<map name="segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_icgraph" id="segbuf_8c_ae95e7fca0c0addd1eff9273a0d6d8d31_icgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="216,317,375,344"/>
<area shape="rect" id="node3" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="423,292,549,319"/>
<area shape="rect" id="node4" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="597,292,709,319"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="958,241,1089,268"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="757,314,901,355"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1905,249,2084,276"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2573,115,2722,157"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2364,340,2521,367"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="2132,242,2316,283"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2993,40,3098,67"/>
<area shape="rect" id="node17" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2789,101,2905,128"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3200,141,3320,168"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3427,107,3542,133"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3419,208,3550,235"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3625,56,3714,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3623,107,3715,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3620,157,3719,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3627,5,3712,32"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3631,232,3708,259"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2573,285,2721,312"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2578,337,2717,378"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2569,403,2725,429"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3171,259,3349,285"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2777,348,2916,375"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2981,345,3110,386"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3184,360,3336,387"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3767,411,3872,437"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3435,335,3535,361"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="3397,436,3572,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3920,385,4009,412"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3631,436,3708,463"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2773,407,2920,433"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2968,411,3123,437"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3205,411,3315,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="2373,217,2512,258"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2369,285,2517,312"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2578,203,2717,229"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2797,203,2897,229"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2787,152,2906,179"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2986,141,3105,168"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="3000,192,3091,219"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="949,314,1097,355"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="1149,372,1296,399"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="1145,423,1300,449"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="1149,271,1297,297"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="1145,321,1300,348"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="1348,341,1479,382"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1527,294,1668,335"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1716,275,1857,301"/>
</map>
</div>

</div>
</div>
<a id="a74d762c133389a2d79f61eb797358919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d762c133389a2d79f61eb797358919">&#9670;&nbsp;</a></span>nilfs_segbuf_wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segbuf_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segbuf_wait - wait for completion of requested BIOs : segment buffer</p>
<p>Return Value: On Success, 0 is returned. On Error, one of the following negative error code is returned.</p>
<p>%-EIO - I/O error </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a74d762c133389a2d79f61eb797358919_icgraph.png" border="0" usemap="#segbuf_8c_a74d762c133389a2d79f61eb797358919_icgraph" alt=""/></div>
<map name="segbuf_8c_a74d762c133389a2d79f61eb797358919_icgraph" id="segbuf_8c_a74d762c133389a2d79f61eb797358919_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="176,237,305,264"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="553,171,685,213"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="946,229,1073,256"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="353,310,497,351"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1501,229,1680,256"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2169,119,2318,161"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1960,315,2117,341"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1728,222,1912,263"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2589,5,2694,32"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2385,107,2501,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2796,107,2916,133"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3023,107,3138,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3015,208,3146,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3221,56,3310,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3219,107,3311,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3216,157,3315,184"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3223,5,3308,32"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3227,232,3304,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2169,259,2317,285"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2174,310,2313,351"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2165,376,2321,403"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2767,259,2945,285"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2373,317,2512,344"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2577,310,2706,351"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2780,313,2932,340"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3363,415,3468,441"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3031,516,3131,543"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2993,364,3168,391"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3516,491,3605,517"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3227,389,3304,416"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2369,395,2516,421"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2564,395,2719,421"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2801,415,2911,441"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1969,197,2108,238"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1965,263,2113,289"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2174,204,2313,231"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2393,157,2493,184"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2383,208,2502,235"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2582,56,2701,83"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2596,107,2687,133"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2797,56,2915,83"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="545,331,693,373"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="745,288,892,315"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="741,339,896,365"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="745,389,893,416"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="741,440,896,467"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="944,281,1075,322"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1123,281,1264,322"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1312,284,1453,311"/>
</map>
</div>

</div>
</div>
<a id="ad4043262b1785134acd529754a9e3ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4043262b1785134acd529754a9e3ea9">&#9670;&nbsp;</a></span>nilfs_segbuf_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_segbuf_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>segbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_segbuf_write - submit write requests of a log : buffer storing a log to be written : nilfs object</p>
<p>Return Value: On Success, 0 is returned. On Error, one of the following negative error code is returned.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ad4043262b1785134acd529754a9e3ea9_cgraph.png" border="0" usemap="#segbuf_8c_ad4043262b1785134acd529754a9e3ea9_cgraph" alt=""/></div>
<map name="segbuf_8c_ad4043262b1785134acd529754a9e3ea9_cgraph" id="segbuf_8c_ad4043262b1785134acd529754a9e3ea9_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="188,5,331,47"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="180,71,339,98"/>
<area shape="rect" id="node5" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="387,122,549,149"/>
<area shape="rect" id="node4" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="402,71,534,98"/>
<area shape="rect" id="node6" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="597,122,731,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ad4043262b1785134acd529754a9e3ea9_icgraph.png" border="0" usemap="#segbuf_8c_ad4043262b1785134acd529754a9e3ea9_icgraph" alt=""/></div>
<map name="segbuf_8c_ad4043262b1785134acd529754a9e3ea9_icgraph" id="segbuf_8c_ad4043262b1785134acd529754a9e3ea9_icgraph">
<area shape="rect" id="node2" href="segbuf_8h.html#ad50f85fb7783c54553be1109a82c3d14" title="nilfs_write_logs" alt="" coords="180,329,292,355"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="541,278,671,305"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="340,351,484,392"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1488,286,1667,313"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2155,216,2305,257"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1947,370,2104,397"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1715,279,1899,320"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2575,249,2681,275"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2371,249,2487,275"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2769,147,2889,174"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2985,147,3100,174"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2977,249,3108,275"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3185,97,3274,123"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3183,147,3275,174"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3180,198,3279,225"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3187,46,3272,73"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3191,273,3268,299"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2156,319,2304,346"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2161,421,2299,463"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2152,370,2308,397"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2953,299,3132,326"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2360,515,2499,542"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2563,533,2693,575"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2753,553,2905,579"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3327,477,3432,503"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2993,401,3093,427"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2955,502,3130,529"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3480,451,3569,478"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3191,502,3268,529"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2356,398,2503,425"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2551,426,2705,453"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2774,401,2885,427"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1956,253,2095,295"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1951,319,2099,346"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2161,147,2299,174"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2379,147,2479,174"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2370,97,2489,123"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2569,46,2687,73"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2583,147,2673,174"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2770,71,2889,98"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2760,5,2899,47"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="532,351,680,392"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="732,409,879,435"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="728,459,883,486"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="731,307,879,334"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="728,358,883,385"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="931,377,1061,419"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1109,331,1251,372"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1299,311,1440,338"/>
</map>
</div>

</div>
</div>
<a id="aa75d4afc4cdc2e67447692eed706e48c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75d4afc4cdc2e67447692eed706e48c">&#9670;&nbsp;</a></span>nilfs_truncate_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_truncate_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__segment__buffer.html">nilfs_segment_buffer</a> *&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_cgraph.png" border="0" usemap="#segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_cgraph" alt=""/></div>
<map name="segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_cgraph" id="segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ab061b6f9e4a21469962f8af1d75fd7a4" title="nilfs_segbuf_clear" alt="" coords="184,5,311,32"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="187,56,308,83"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a276141d258f026d72301ae652198c96e" title="nilfs_release_buffers" alt="" coords="359,5,501,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_icgraph.png" border="0" usemap="#segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_icgraph" alt=""/></div>
<map name="segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_icgraph" id="segbuf_8c_aa75d4afc4cdc2e67447692eed706e48c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="376,358,527,399"/>
<area shape="rect" id="node39" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="184,438,328,479"/>
<area shape="rect" id="node47" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="779,277,906,304"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1147,336,1288,363"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1336,256,1515,283"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="2003,189,2153,230"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1795,352,1952,379"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1563,249,1747,290"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2423,224,2529,251"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2219,243,2335,269"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2631,123,2751,149"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2858,107,2973,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2850,208,2981,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3055,107,3145,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3054,157,3146,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3051,5,3149,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3057,56,3143,83"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3061,232,3139,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2004,293,2152,320"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2009,345,2147,386"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2000,411,2156,437"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2601,259,2780,285"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2208,352,2347,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2411,345,2541,386"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2615,360,2767,387"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2863,436,2968,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2865,335,2965,361"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2828,385,3003,412"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3055,385,3145,412"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2204,411,2351,437"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2399,411,2553,437"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2635,411,2746,437"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1804,235,1943,277"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1799,301,1947,328"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2009,123,2147,149"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2227,123,2327,149"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2218,47,2337,73"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2417,123,2535,149"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2431,173,2521,200"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="377,459,525,501"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="579,467,725,493"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="575,568,729,595"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="578,416,726,443"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="575,517,729,544"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="777,449,908,490"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="957,427,1098,469"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="956,299,1099,341"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1151,190,1283,231"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1154,256,1281,283"/>
</map>
</div>

</div>
</div>
<a id="a07df0debf8c9a97127ff086a15f53226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07df0debf8c9a97127ff086a15f53226">&#9670;&nbsp;</a></span>nilfs_wait_on_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_wait_on_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a07df0debf8c9a97127ff086a15f53226_cgraph.png" border="0" usemap="#segbuf_8c_a07df0debf8c9a97127ff086a15f53226_cgraph" alt=""/></div>
<map name="segbuf_8c_a07df0debf8c9a97127ff086a15f53226_cgraph" id="segbuf_8c_a07df0debf8c9a97127ff086a15f53226_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#a74d762c133389a2d79f61eb797358919" title="nilfs_segbuf_wait" alt="" coords="183,5,305,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_a07df0debf8c9a97127ff086a15f53226_icgraph.png" border="0" usemap="#segbuf_8c_a07df0debf8c9a97127ff086a15f53226_icgraph" alt=""/></div>
<map name="segbuf_8c_a07df0debf8c9a97127ff086a15f53226_icgraph" id="segbuf_8c_a07df0debf8c9a97127ff086a15f53226_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="383,223,515,264"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="775,281,902,307"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="183,361,327,403"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1331,281,1509,307"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1998,213,2147,255"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1789,377,1947,403"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1557,273,1741,315"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2418,249,2523,275"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2214,249,2330,275"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2612,147,2732,174"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2828,147,2943,174"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2820,249,2951,275"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3027,97,3117,123"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3026,147,3118,174"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3023,198,3121,225"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3029,46,3115,73"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3033,273,3111,299"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1999,326,2147,353"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2003,428,2142,469"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1995,377,2151,403"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2796,299,2975,326"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2203,483,2341,510"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2406,523,2535,564"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2596,553,2748,579"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3169,477,3275,503"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2835,401,2935,427"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2798,502,2973,529"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3323,451,3412,478"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3033,502,3111,529"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2199,394,2345,421"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2393,409,2548,435"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2617,401,2727,427"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1799,260,1937,301"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1794,326,1942,353"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="2003,147,2142,174"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2222,147,2322,174"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2213,97,2331,123"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2411,46,2530,73"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2425,147,2516,174"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2613,71,2731,98"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2603,5,2741,47"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="375,383,523,424"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="575,339,721,366"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="571,390,725,417"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="574,441,722,467"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="571,491,725,518"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="773,332,904,373"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="952,332,1093,373"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1141,335,1283,362"/>
</map>
</div>

</div>
</div>
<a id="ad50f85fb7783c54553be1109a82c3d14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad50f85fb7783c54553be1109a82c3d14">&#9670;&nbsp;</a></span>nilfs_write_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_write_logs </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>logs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_cgraph.png" border="0" usemap="#segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_cgraph" alt=""/></div>
<map name="segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_cgraph" id="segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_cgraph">
<area shape="rect" id="node2" href="segbuf_8c.html#ad4043262b1785134acd529754a9e3ea9" title="nilfs_segbuf_write" alt="" coords="165,71,292,98"/>
<area shape="rect" id="node3" href="segbuf_8c.html#a2584f9926cc26e313f7477df542f6cba" title="nilfs_segbuf_prepare\l_write" alt="" coords="348,5,491,47"/>
<area shape="rect" id="node4" href="segbuf_8c.html#a99ed59e4d3f008f72bb24c6cdbea9ff3" title="nilfs_segbuf_submit_bh" alt="" coords="340,71,499,98"/>
<area shape="rect" id="node6" href="segbuf_8c.html#ae95e7fca0c0addd1eff9273a0d6d8d31" title="nilfs_segbuf_submit_bio" alt="" coords="547,122,709,149"/>
<area shape="rect" id="node5" href="segbuf_8c.html#abab1bd14e01bac4f746bc7103b82dae3" title="nilfs_alloc_seg_bio" alt="" coords="562,71,694,98"/>
<area shape="rect" id="node7" href="segbuf_8c.html#a65b64bc5ba84b4020918e3e3de507fb5" title="nilfs_end_bio_write" alt="" coords="757,122,891,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_icgraph.png" border="0" usemap="#segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_icgraph" alt=""/></div>
<map name="segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_icgraph" id="segbuf_8c_ad50f85fb7783c54553be1109a82c3d14_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="366,229,497,256"/>
<area shape="rect" id="node42" href="segbuf_8h.html#a3938d84ff7565ef7145d6fce4412eddc" title="nilfs_segbuf_add_file\l_buffer" alt="" coords="165,302,309,343"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1313,245,1492,272"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1981,110,2130,151"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1772,333,1929,360"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1540,238,1724,279"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2401,17,2506,44"/>
<area shape="rect" id="node14" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2197,24,2313,51"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2595,107,2715,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2811,107,2925,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2803,159,2933,185"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3010,107,3099,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3009,157,3101,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3005,5,3104,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3012,56,3097,83"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3016,232,3093,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1981,275,2129,301"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1986,326,2125,367"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1977,392,2133,419"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2779,272,2957,299"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2185,337,2324,364"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2389,345,2518,386"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2579,376,2731,403"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3158,376,3263,403"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2818,427,2918,453"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2781,503,2955,529"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3317,401,3407,428"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="3016,503,3093,529"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="3152,528,3269,555"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2181,405,2328,432"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2376,419,2531,445"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2599,427,2710,453"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1781,197,1920,238"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1777,275,1925,301"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1986,176,2125,203"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2205,176,2305,203"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2195,125,2314,152"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2394,220,2513,247"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2408,169,2499,196"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2595,157,2714,184"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2585,209,2724,250"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a727dcab7fbe9bc5d59671b2e13acb698" title="nilfs_segctor_add_file\l_block" alt="" coords="357,302,505,343"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="557,411,704,437"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a260078ed7922483f1ce0b0a341f3e2c3" title="nilfs_collect_file_bmap" alt="" coords="553,259,708,285"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="557,309,705,336"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#ab95ed2c78d0657806e26b064925bac9b" title="nilfs_collect_dat_bmap" alt="" coords="553,360,708,387"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="756,331,887,373"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="935,295,1076,337"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1124,281,1265,308"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="segbuf_8c.html">segbuf.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
