<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ocfs2/refcounttree.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('refcounttree_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">refcounttree.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h__dep__incl.png" border="0" usemap="#ocfs2_2refcounttree_8hdep" alt=""/></div>
<map name="ocfs2_2refcounttree_8hdep" id="ocfs2_2refcounttree_8hdep">
<area shape="rect" id="node2" href="ocfs2_2alloc_8c.html" title="ocfs2/alloc.c" alt="" coords="5,80,101,107"/>
<area shape="rect" id="node3" href="ocfs2_2aops_8c.html" title="ocfs2/aops.c" alt="" coords="126,80,223,107"/>
<area shape="rect" id="node4" href="dlmglue_8c.html" title="ocfs2/dlmglue.c" alt="" coords="248,80,363,107"/>
<area shape="rect" id="node5" href="ocfs2_2file_8c.html" title="ocfs2/file.c" alt="" coords="387,80,474,107"/>
<area shape="rect" id="node6" href="ocfs2_2inode_8c.html" title="ocfs2/inode.c" alt="" coords="498,80,598,107"/>
<area shape="rect" id="node7" href="ocfs2_2ioctl_8c.html" title="ocfs2/ioctl.c" alt="" coords="623,80,716,107"/>
<area shape="rect" id="node8" href="move__extents_8c.html" title="ocfs2/move_extents.c" alt="" coords="741,80,891,107"/>
<area shape="rect" id="node9" href="refcounttree_8c.html" title="ocfs2/refcounttree.c" alt="" coords="916,80,1055,107"/>
<area shape="rect" id="node10" href="ocfs2_2super_8c.html" title="ocfs2/super.c" alt="" coords="1079,80,1180,107"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html" title="ocfs2/xattr.c" alt="" coords="1205,80,1299,107"/>
</map>
</div>
</div>
<p><a href="refcounttree_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocfs2__post__refcount.html">ocfs2_post_refcount</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad47816750b49574d4961d423d9f17cf0"><td class="memItemLeft" align="right" valign="top">typedef int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#ad47816750b49574d4961d423d9f17cf0">ocfs2_post_refcount_func</a>(struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, handle_t *handle, void *para)</td></tr>
<tr class="separator:ad47816750b49574d4961d423d9f17cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a39846a496c344da657152e5be134667b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a39846a496c344da657152e5be134667b">ocfs2_purge_refcount_trees</a> (struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *osb)</td></tr>
<tr class="separator:a39846a496c344da657152e5be134667b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d74fc9e3b073359bbd3747bce67b682"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a7d74fc9e3b073359bbd3747bce67b682">ocfs2_lock_refcount_tree</a> (struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *osb, u64 ref_blkno, int rw, struct <a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a> **tree, struct buffer_head **ref_bh)</td></tr>
<tr class="separator:a7d74fc9e3b073359bbd3747bce67b682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7627ae96daac325b588a37af9857dcda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a7627ae96daac325b588a37af9857dcda">ocfs2_unlock_refcount_tree</a> (struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *osb, struct <a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a> *tree, int rw)</td></tr>
<tr class="separator:a7627ae96daac325b588a37af9857dcda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964d437430f4f0b9da888eaa504e7f1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a964d437430f4f0b9da888eaa504e7f1b">ocfs2_decrease_refcount</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, handle_t *handle, u32 cpos, u32 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, struct <a class="el" href="structocfs2__alloc__context.html">ocfs2_alloc_context</a> *meta_ac, struct <a class="el" href="structocfs2__cached__dealloc__ctxt.html">ocfs2_cached_dealloc_ctxt</a> *dealloc, int delete)</td></tr>
<tr class="separator:a964d437430f4f0b9da888eaa504e7f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb03a02618e8ea21e2bd9d0bb77f3d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a3eb03a02618e8ea21e2bd9d0bb77f3d9">ocfs2_prepare_refcount_change_for_del</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 refcount_loc, u64 phys_blkno, u32 clusters, int *credits, int *ref_blocks)</td></tr>
<tr class="separator:a3eb03a02618e8ea21e2bd9d0bb77f3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74fc9d4c56a00ba3af960e8129b4dc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#ab74fc9d4c56a00ba3af960e8129b4dc7">ocfs2_refcount_cow</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *di_bh, u32 cpos, u32 write_len, u32 max_cpos)</td></tr>
<tr class="separator:ab74fc9d4c56a00ba3af960e8129b4dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe82a85fa5fe2f4e1ffbd3f3fa0a0900"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#abe82a85fa5fe2f4e1ffbd3f3fa0a0900">ocfs2_refcounted_xattr_delete_need</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structocfs2__caching__info.html">ocfs2_caching_info</a> *ref_ci, struct buffer_head *ref_root_bh, struct <a class="el" href="structocfs2__xattr__value__root.html">ocfs2_xattr_value_root</a> *xv, int *meta_add, int *credits)</td></tr>
<tr class="separator:abe82a85fa5fe2f4e1ffbd3f3fa0a0900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c7e6c165ce9f645166bde0ebb0d2e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a41c7e6c165ce9f645166bde0ebb0d2e6">ocfs2_refcount_cow_xattr</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structocfs2__dinode.html">ocfs2_dinode</a> *di, struct <a class="el" href="structocfs2__xattr__value__buf.html">ocfs2_xattr_value_buf</a> *vb, struct <a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a> *ref_tree, struct buffer_head *ref_root_bh, u32 cpos, u32 write_len, struct <a class="el" href="structocfs2__post__refcount.html">ocfs2_post_refcount</a> *post)</td></tr>
<tr class="separator:a41c7e6c165ce9f645166bde0ebb0d2e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7e005aa87fe239ba4762b704efdfa3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a5a7e005aa87fe239ba4762b704efdfa3">ocfs2_duplicate_clusters_by_page</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u32 cpos, u32 old_cluster, u32 new_cluster, u32 new_len)</td></tr>
<tr class="separator:a5a7e005aa87fe239ba4762b704efdfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a705978e92ec9cf6d486c72e4dbd26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a71a705978e92ec9cf6d486c72e4dbd26">ocfs2_duplicate_clusters_by_jbd</a> (handle_t *handle, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u32 cpos, u32 old_cluster, u32 new_cluster, u32 new_len)</td></tr>
<tr class="separator:a71a705978e92ec9cf6d486c72e4dbd26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad364892b53e4fc0e3023038fe752b452"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#ad364892b53e4fc0e3023038fe752b452">ocfs2_cow_sync_writeback</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u32 cpos, u32 num_clusters)</td></tr>
<tr class="separator:ad364892b53e4fc0e3023038fe752b452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6cfbdccd2cb8a9024a1f5aac723c562"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#ad6cfbdccd2cb8a9024a1f5aac723c562">ocfs2_add_refcount_flag</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structocfs2__extent__tree.html">ocfs2_extent_tree</a> *data_et, struct <a class="el" href="structocfs2__caching__info.html">ocfs2_caching_info</a> *ref_ci, struct buffer_head *ref_root_bh, u32 cpos, u32 p_cluster, u32 num_clusters, struct <a class="el" href="structocfs2__cached__dealloc__ctxt.html">ocfs2_cached_dealloc_ctxt</a> *dealloc, struct <a class="el" href="structocfs2__post__refcount.html">ocfs2_post_refcount</a> *post)</td></tr>
<tr class="separator:ad6cfbdccd2cb8a9024a1f5aac723c562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5caffc1289ebf9a9c6454660c98e1e3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a5caffc1289ebf9a9c6454660c98e1e3f">ocfs2_remove_refcount_tree</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *di_bh)</td></tr>
<tr class="separator:a5caffc1289ebf9a9c6454660c98e1e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9d1d24f28b164f82445b8b394d8f47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#aec9d1d24f28b164f82445b8b394d8f47">ocfs2_try_remove_refcount_tree</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *di_bh)</td></tr>
<tr class="separator:aec9d1d24f28b164f82445b8b394d8f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d25a3ffb5ea34d3293036119784e14f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#a9d25a3ffb5ea34d3293036119784e14f">ocfs2_increase_refcount</a> (handle_t *handle, struct <a class="el" href="structocfs2__caching__info.html">ocfs2_caching_info</a> *ci, struct buffer_head *ref_root_bh, u64 cpos, u32 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, struct <a class="el" href="structocfs2__alloc__context.html">ocfs2_alloc_context</a> *meta_ac, struct <a class="el" href="structocfs2__cached__dealloc__ctxt.html">ocfs2_cached_dealloc_ctxt</a> *dealloc)</td></tr>
<tr class="separator:a9d25a3ffb5ea34d3293036119784e14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea81895d4cf45213d159bb7062179172"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172">ocfs2_reflink_ioctl</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, const char __user *oldname, const char __user *newname, bool preserve)</td></tr>
<tr class="separator:aea81895d4cf45213d159bb7062179172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8eadc3b04ecb88a74dfdc4645e72d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2">ocfs2_reflink_remap_range</a> (struct file *file_in, loff_t pos_in, struct file *file_out, loff_t pos_out, u64 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, bool is_dedupe)</td></tr>
<tr class="separator:aaf8eadc3b04ecb88a74dfdc4645e72d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ad47816750b49574d4961d423d9f17cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47816750b49574d4961d423d9f17cf0">&#9670;&nbsp;</a></span>ocfs2_post_refcount_func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int() ocfs2_post_refcount_func(struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, handle_t *handle, void *para)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad6cfbdccd2cb8a9024a1f5aac723c562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6cfbdccd2cb8a9024a1f5aac723c562">&#9670;&nbsp;</a></span>ocfs2_add_refcount_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_add_refcount_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__extent__tree.html">ocfs2_extent_tree</a> *&#160;</td>
          <td class="paramname"><em>data_et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__caching__info.html">ocfs2_caching_info</a> *&#160;</td>
          <td class="paramname"><em>ref_ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>ref_root_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>p_cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>num_clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__cached__dealloc__ctxt.html">ocfs2_cached_dealloc_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dealloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__post__refcount.html">ocfs2_post_refcount</a> *&#160;</td>
          <td class="paramname"><em>post</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_cgraph.png" border="0" usemap="#refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_cgraph" alt=""/></div>
<map name="refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_cgraph" id="refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_cgraph">
<area shape="rect" id="node2" href="ocfs2_2alloc_8h.html#a95da12647f3cb6c62609865d60714e3b" title="ocfs2_extend_meta_needed" alt="" coords="693,448,879,475"/>
<area shape="rect" id="node11" href="ocfs2_2journal_8c.html#a06b3009390a9f07ded7596f7e48e0d83" title="ocfs2_start_trans" alt="" coords="1208,977,1331,1004"/>
<area shape="rect" id="node19" href="ocfs2_2journal_8c.html#a54710b63c23f44291afdd1f90d2b9cb9" title="ocfs2_commit_trans" alt="" coords="1199,1028,1339,1055"/>
<area shape="rect" id="node21" href="suballoc_8c.html#af62f2af7b66e6a7e1ea13b1b556cb7c1" title="ocfs2_free_alloc_context" alt="" coords="1186,1079,1353,1105"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a3dfff47bccf3877882f205c72242d29b" title="ocfs2_calc_refcount\l_meta_credits" alt="" coords="237,742,376,783"/>
<area shape="rect" id="node38" href="suballoc_8c.html#a0f85a41915376c3a6c47e8f47439e43e" title="ocfs2_reserve_new_metadata\l_blocks" alt="" coords="929,1173,1125,1214"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#aeb335a92ebe862551a04b0e216558604" title="ocfs2_mark_extent_refcounted" alt="" coords="444,877,645,904"/>
<area shape="rect" id="node47" href="refcounttree_8c.html#ae2364a158168292205a9710defffc77c" title="__ocfs2_increase_refcount" alt="" coords="217,1265,396,1292"/>
<area shape="rect" id="node3" href="ocfs2_2alloc_8h.html#ac80d026eaddde6911666bd15383537ac" title="ocfs2_dinode_new_extent_list" alt="" coords="929,356,1126,383"/>
<area shape="rect" id="node5" href="ocfs2_2alloc_8h.html#ae6bf12ee8f3ef812730ef03a3af4de7c" title="ocfs2_set_inode_data\l_inline" alt="" coords="953,407,1102,449"/>
<area shape="rect" id="node8" href="ocfs2_2alloc_8h.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="957,666,1098,707"/>
<area shape="rect" id="node23" href="ocfs2_2alloc_8h.html#ab3d0dec95e8b711aa46b7453ff2cd3ce" title="ocfs2_truncate_log_init" alt="" coords="949,5,1105,32"/>
<area shape="rect" id="node24" href="ocfs2_2alloc_8h.html#a0f5d1257326643dd958df26d6f7daf9b" title="ocfs2_truncate_log\l_shutdown" alt="" coords="961,57,1093,98"/>
<area shape="rect" id="node25" href="ocfs2_2alloc_8h.html#a22c510ed4e868a35a9261d5686206eba" title="ocfs2_schedule_truncate\l_log_flush" alt="" coords="944,122,1111,163"/>
<area shape="rect" id="node26" href="ocfs2_2alloc_8h.html#ad73e43105443d8bd105d8ce11b040cad" title="ocfs2_flush_truncate_log" alt="" coords="944,188,1111,215"/>
<area shape="rect" id="node27" href="ocfs2_2alloc_8h.html#af87a52ce61d707e4175dee36be4f8605" title="ocfs2_begin_truncate\l_log_recovery" alt="" coords="954,538,1101,579"/>
<area shape="rect" id="node28" href="ocfs2_2alloc_8h.html#a3fea3c5c4174ec72b0ea44bf51685c0d" title="ocfs2_complete_truncate\l_log_recovery" alt="" coords="943,921,1111,962"/>
<area shape="rect" id="node29" href="ocfs2_2alloc_8h.html#ac09620f93bcbf2745b1ee15e6b0124c1" title="ocfs2_truncate_log\l_needs_flush" alt="" coords="961,239,1093,281"/>
<area shape="rect" id="node30" href="ocfs2_2alloc_8h.html#a9e9def9047b802c4223e3e9f4508c593" title="ocfs2_truncate_log\l_append" alt="" coords="961,473,1093,514"/>
<area shape="rect" id="node31" href="ocfs2_2alloc_8h.html#ae2ad77b51044eda9228d7ea599e156e3" title="__ocfs2_flush_truncate_log" alt="" coords="937,775,1118,801"/>
<area shape="rect" id="node32" href="ocfs2_2alloc_8h.html#a863757738c8018d33d856b89fba6b906" title="ocfs2_try_to_free_truncate_log" alt="" coords="927,305,1128,332"/>
<area shape="rect" id="node4" href="ocfs2_2alloc_8c.html#a9fbb05aa83b1c86e504939ed398579b1" title="ocfs2_zero_dinode_id2\l_with_xattr" alt="" coords="1192,222,1347,263"/>
<area shape="rect" id="node6" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1453,775,1530,801"/>
<area shape="rect" id="node7" href="ocfs2__fs_8h.html#a404cf2ea67e7cd0a0aa5f3fa3f9148a3" title="ocfs2_max_inline_data\l_with_xattr" alt="" coords="1192,287,1347,329"/>
<area shape="rect" id="node9" href="ocfs2_8h.html#af964039e12c5dfc294e2ecc328f2cee8" title="ocfs2_pages_per_cluster" alt="" coords="1186,724,1353,751"/>
<area shape="rect" id="node10" href="suballoc_8c.html#a291db6ff2a53d7c4b3723a16d1e1c47d" title="ocfs2_reserve_clusters" alt="" coords="1191,556,1348,583"/>
<area shape="rect" id="node15" href="journal_8h.html#a8fa2cfe3663540fcaf3d3ce63fb422d7" title="ocfs2_inline_to_extents\l_credits" alt="" coords="1190,607,1349,649"/>
<area shape="rect" id="node16" href="ocfs2_2journal_8c.html#adbe5ddac64ed85d991ab4983a5cb4c1e" title="ocfs2_journal_access_di" alt="" coords="1187,455,1352,481"/>
<area shape="rect" id="node17" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="1209,505,1329,532"/>
<area shape="rect" id="node18" href="ocfs2_8h.html#a36a3c44819316b31b7a53a734b50a88b" title="ocfs2_clusters_to_bytes" alt="" coords="1187,673,1351,700"/>
<area shape="rect" id="node12" href="ocfs2_8h.html#a51e1d0086ac2d8afc66a67fb1d1a24df" title="ocfs2_is_hard_readonly" alt="" coords="1412,901,1571,928"/>
<area shape="rect" id="node13" href="jbd2_2transaction_8c.html#a32d2d7a2e76c2636bbf251165982fb14" title="jbd2_journal_start" alt="" coords="1429,952,1553,979"/>
<area shape="rect" id="node14" href="ocfs2_8h.html#a9e7c0045acf58827ffc9bf875f2d31ba" title="ocfs2_mount_local" alt="" coords="1426,1003,1557,1029"/>
<area shape="rect" id="node20" href="jbd2_2transaction_8c.html#a68dd51e8be5ecae5db3d5642ca884035" title="jbd2_journal_stop" alt="" coords="1430,1053,1553,1080"/>
<area shape="rect" id="node22" href="suballoc_8c.html#a07c520e1217b9523b4b1b1e4c356b790" title="ocfs2_free_ac_resource" alt="" coords="1411,1104,1572,1131"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#ac86271444dfa7b1bad7297b515142e5a" title="ocfs2_get_refcount_rec" alt="" coords="707,1245,865,1272"/>
<area shape="rect" id="node36" href="ocfs2_2alloc_8c.html#a61a270630689a250e51fca35ff62431f" title="ocfs2_init_refcount\l_extent_tree" alt="" coords="479,742,611,783"/>
<area shape="rect" id="node37" href="journal_8h.html#a06ec2d68135ee5e4cf254e2c948302e7" title="ocfs2_calc_extend_credits" alt="" coords="456,527,633,553"/>
<area shape="rect" id="node35" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="949,1238,1106,1279"/>
<area shape="rect" id="node39" href="suballoc_8c.html#ac4d986c288738a1ec3b177d82ed6903b" title="ocfs2_get_meta_steal_slot" alt="" coords="1180,1180,1359,1207"/>
<area shape="rect" id="node40" href="suballoc_8c.html#a38a8fa3a8f6e975b58942292bf509eb9" title="ocfs2_block_group_search" alt="" coords="1181,1231,1358,1257"/>
<area shape="rect" id="node41" href="suballoc_8c.html#a441b62d6f7b8fa3f6fa6f28760a16f9d" title="ocfs2_reserve_suballoc_bits" alt="" coords="1176,1281,1363,1308"/>
<area shape="rect" id="node42" href="suballoc_8c.html#a37ab2741203a576e29fb10814a82f4e2" title="ocfs2_init_meta_steal_slot" alt="" coords="1181,1332,1358,1359"/>
<area shape="rect" id="node43" href="suballoc_8c.html#ac35a4565e28484c97880a027418aa66d" title="ocfs2_steal_meta" alt="" coords="1207,1383,1332,1409"/>
<area shape="rect" id="node45" href="ocfs2_8h.html#a77586d88f8ccae045154d7379e23b961" title="ocfs2_refcount_tree" alt="" coords="717,819,855,845"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8c.html#af75c54fab0c776d981a2d509092a6522" title="ocfs2_change_extent_flag" alt="" coords="699,928,873,955"/>
<area shape="rect" id="node48" href="refcounttree_8c.html#a46fc405570c102b4b0fca758314dcb8a" title="ocfs2_change_refcount_rec" alt="" coords="695,1192,877,1219"/>
<area shape="rect" id="node49" href="refcounttree_8c.html#a595e4c6fd2828412048d000c77967985" title="ocfs2_insert_refcount_rec" alt="" coords="459,1291,631,1317"/>
<area shape="rect" id="node50" href="refcounttree_8c.html#acbb4b4c4e412f73794e926979892560a" title="ocfs2_split_refcount_rec" alt="" coords="463,1341,627,1368"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_icgraph.png" border="0" usemap="#refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_icgraph" alt=""/></div>
<map name="refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_icgraph" id="refcounttree_8h_ad6cfbdccd2cb8a9024a1f5aac723c562_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8c.html#a4b2f5c6965f0f7453453e54044b4eee4" title="ocfs2_xattr_value_attach\l_refcount" alt="" coords="217,71,385,112"/>
<area shape="rect" id="node6" href="refcounttree_8c.html#ad74ba2373ab211930bbd72ae7e6ca91c" title="ocfs2_attach_refcount_tree" alt="" coords="1051,107,1231,134"/>
<area shape="rect" id="node13" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="232,188,371,229"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8c.html#a9c2e8053f6e7c3b1948b65d3b25bf110" title="ocfs2_xattr_attach\l_refcount_normal" alt="" coords="437,71,568,112"/>
<area shape="rect" id="node4" href="ocfs2_2xattr_8c.html#a6570b1d5a034e0f5eed5414cff847ef9" title="ocfs2_xattr_inline\l_attach_refcount" alt="" coords="642,5,766,47"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#a94c40b1336601e426579d51f2f1c9d74" title="ocfs2_xattr_block_attach\l_refcount" alt="" coords="620,71,788,112"/>
<area shape="rect" id="node5" href="ocfs2_2xattr_8h.html#a948f323f3203cfd31581d28f4d9b1b0c" title="ocfs2_xattr_attach\l_refcount_tree" alt="" coords="854,71,985,112"/>
<area shape="rect" id="node7" href="refcounttree_8c.html#aff36b539227d81e01b41b7e4bc340a19" title="__ocfs2_reflink" alt="" coords="1279,107,1389,134"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1437,107,1533,134"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1581,107,1703,134"/>
<area shape="rect" id="node10" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="1751,107,1877,134"/>
<area shape="rect" id="node11" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1925,107,2011,134"/>
<area shape="rect" id="node14" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="433,188,572,229"/>
<area shape="rect" id="node15" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="635,188,773,229"/>
<area shape="rect" id="node16" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="842,191,997,218"/>
<area shape="rect" id="node17" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="836,242,1003,269"/>
</map>
</div>

</div>
</div>
<a id="ad364892b53e4fc0e3023038fe752b452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad364892b53e4fc0e3023038fe752b452">&#9670;&nbsp;</a></span>ocfs2_cow_sync_writeback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_cow_sync_writeback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>num_clusters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_cgraph.png" border="0" usemap="#refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_cgraph" alt=""/></div>
<map name="refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_cgraph" id="refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_cgraph">
<area shape="rect" id="node2" href="ocfs2_8h.html#a5fe11e985d0662f483c71c9a00c7592d" title="ocfs2_should_order_data" alt="" coords="236,5,403,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_icgraph.png" border="0" usemap="#refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_icgraph" alt=""/></div>
<map name="refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_icgraph" id="refcounttree_8h_ad364892b53e4fc0e3023038fe752b452_icgraph">
<area shape="rect" id="node2" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="239,64,379,91"/>
<area shape="rect" id="node7" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="241,13,377,40"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a40618f918f0f5670ee554336c3f28005" title="ocfs2_make_clusters\l_writable" alt="" coords="236,126,383,167"/>
<area shape="rect" id="node3" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="431,6,588,47"/>
<area shape="rect" id="node4" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="652,8,795,35"/>
<area shape="rect" id="node5" href="move__extents_8h.html#a8118a964c75a4ea3b2896fd3bd37f5af" title="ocfs2_ioctl_move_extents" alt="" coords="859,5,1033,32"/>
<area shape="rect" id="node6" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1979,119,2065,145"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#ab2bb74d582483f762856506528898a9f" title="ocfs2_replace_cow" alt="" coords="442,155,577,181"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="636,325,811,352"/>
<area shape="rect" id="node39" href="refcounttree_8h.html#a41c7e6c165ce9f645166bde0ebb0d2e6" title="ocfs2_refcount_cow\l_xattr" alt="" coords="654,147,793,189"/>
<area shape="rect" id="node11" href="refcounttree_8h.html#ab74fc9d4c56a00ba3af960e8129b4dc7" title="ocfs2_refcount_cow" alt="" coords="877,423,1015,449"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#aa3f251bd087c39db0675e07076ce3598" title="ocfs2_cow_file_pos" alt="" coords="1091,423,1229,449"/>
<area shape="rect" id="node26" href="ocfs2_2file_8c.html#a29d83dc89dea9c3f9c3f898fb665a4f3" title="ocfs2_zero_extend_get\l_range" alt="" coords="1081,501,1239,542"/>
<area shape="rect" id="node31" href="ocfs2_2aops_8h.html#a3ff7132d9ee29a0eecdec3a95c833f18" title="ocfs2_write_begin_nolock" alt="" coords="1936,649,2108,676"/>
<area shape="rect" id="node36" href="ocfs2_2file_8c.html#ae25143cc5a9e7cd3af6a3c1e631f3ac1" title="ocfs2_prepare_inode\l_for_refcount" alt="" coords="1089,339,1231,381"/>
<area shape="rect" id="node13" href="ocfs2_2file_8c.html#a29696f2a43103ea646a4e9dd791cab23" title="ocfs2_orphan_for_truncate" alt="" coords="1287,439,1463,465"/>
<area shape="rect" id="node20" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="1303,373,1446,414"/>
<area shape="rect" id="node14" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="1737,435,1869,461"/>
<area shape="rect" id="node15" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1973,431,2071,457"/>
<area shape="rect" id="node16" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1953,482,2091,523"/>
<area shape="rect" id="node19" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="1943,380,2101,407"/>
<area shape="rect" id="node17" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="2156,560,2319,587"/>
<area shape="rect" id="node18" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="2381,560,2495,587"/>
<area shape="rect" id="node21" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="1519,307,1661,349"/>
<area shape="rect" id="node24" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="1521,373,1659,414"/>
<area shape="rect" id="node22" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="1718,235,1887,261"/>
<area shape="rect" id="node23" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="1747,315,1858,341"/>
<area shape="rect" id="node25" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1733,369,1872,410"/>
<area shape="rect" id="node27" href="file_8h.html#ac93bb34113f817c3ebb8d60810741827" title="ocfs2_zero_extend" alt="" coords="1309,529,1441,556"/>
<area shape="rect" id="node28" href="file_8h.html#a286882c0771e7dd7cd5bb60e9a635346" title="ocfs2_extend_no_holes" alt="" coords="1511,540,1669,567"/>
<area shape="rect" id="node29" href="ocfs2_2file_8c.html#a036f93658584b3bf043fb99bc004a82d" title="ocfs2_extend_file" alt="" coords="1741,485,1865,512"/>
<area shape="rect" id="node35" href="ocfs2_2aops_8c.html#aa7a0e5944e4a23fb6094a131e9262ab2" title="ocfs2_zero_tail" alt="" coords="1747,603,1858,629"/>
<area shape="rect" id="node30" href="ocfs2_2aops_8c.html#a749e68cf8e8632c010858f5f615b1526" title="ocfs2_expand_nonsparse\l_inode" alt="" coords="1717,537,1888,578"/>
<area shape="rect" id="node32" href="ocfs2_2mmap_8c.html#add2460e181be216e7332706c4ee746f9" title="__ocfs2_page_mkwrite" alt="" coords="2159,687,2315,713"/>
<area shape="rect" id="node34" href="ocfs2_2aops_8c.html#ad61b09eec57341b6d2f7115f4112ab30" title="ocfs2_write_begin" alt="" coords="2174,636,2301,663"/>
<area shape="rect" id="node33" href="ocfs2_2mmap_8c.html#a3aaaae00fd8adc5fb4aebe2dd31726eb" title="ocfs2_page_mkwrite" alt="" coords="2367,687,2509,713"/>
<area shape="rect" id="node37" href="ocfs2_2file_8c.html#af355906d91ed23b9cca0acd2dd67413e" title="ocfs2_prepare_inode\l_for_write" alt="" coords="1303,307,1446,349"/>
<area shape="rect" id="node38" href="ocfs2_2file_8c.html#a725b0f054793fb44e6d15cb7bbfbc057" title="ocfs2_file_write_iter" alt="" coords="1521,256,1659,283"/>
<area shape="rect" id="node40" href="ocfs2_2xattr_8c.html#a03ae7ec53a172dd03c90d08df26c14c2" title="ocfs2_prepare_refcount\l_xattr" alt="" coords="867,147,1025,189"/>
<area shape="rect" id="node41" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="1104,155,1216,181"/>
<area shape="rect" id="node42" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="1323,104,1426,131"/>
<area shape="rect" id="node46" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="1292,155,1457,181"/>
<area shape="rect" id="node47" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="1319,205,1430,232"/>
<area shape="rect" id="node49" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="1295,256,1454,283"/>
<area shape="rect" id="node50" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="1303,53,1447,80"/>
<area shape="rect" id="node43" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="1527,104,1653,131"/>
<area shape="rect" id="node44" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="1741,169,1865,196"/>
<area shape="rect" id="node45" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="1539,53,1641,80"/>
<area shape="rect" id="node48" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="1512,205,1668,232"/>
</map>
</div>

</div>
</div>
<a id="a964d437430f4f0b9da888eaa504e7f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a964d437430f4f0b9da888eaa504e7f1b">&#9670;&nbsp;</a></span>ocfs2_decrease_refcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_decrease_refcount </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__context.html">ocfs2_alloc_context</a> *&#160;</td>
          <td class="paramname"><em>meta_ac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__cached__dealloc__ctxt.html">ocfs2_cached_dealloc_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dealloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_cgraph.png" border="0" usemap="#refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_cgraph" alt=""/></div>
<map name="refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_cgraph" id="refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_cgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="924,105,1087,132"/>
<area shape="rect" id="node4" href="refcounttree_8c.html#a931a9503da3ec5488f149bcb465e3e39" title="ocfs2_get_refcount\l_block" alt="" coords="718,157,851,198"/>
<area shape="rect" id="node13" href="refcounttree_8c.html#a268c9ffb2275286e9d2aa24b836ac07b" title="ocfs2_get_refcount_tree" alt="" coords="924,316,1087,343"/>
<area shape="rect" id="node19" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="1159,510,1299,551"/>
<area shape="rect" id="node40" href="refcounttree_8c.html#a0b7bea01cfe0324d97f7ddbafe52ef0c" title="__ocfs2_decrease_refcount" alt="" coords="221,901,404,928"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1657,5,1735,32"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8c.html#a116c75eb1ad6164b78b79336b036f7a5" title="ocfs2_read_inode_block" alt="" coords="924,160,1087,187"/>
<area shape="rect" id="node6" href="ocfs2_2inode_8c.html#a404bb21b7be250602bb140de5f739862" title="ocfs2_read_inode_block_full" alt="" coords="1136,88,1323,115"/>
<area shape="rect" id="node7" href="buffer__head__io_8c.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="1631,255,1761,281"/>
<area shape="rect" id="node10" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="1405,56,1525,83"/>
<area shape="rect" id="node11" href="ocfs2_2inode_8c.html#a4f243825f98b3dbe2cd57312a306734f" title="ocfs2_validate_inode\l_block" alt="" coords="1393,225,1537,266"/>
<area shape="rect" id="node8" href="ocfs2_8h.html#a00eef5505a2e46ff0b0ba32149a1b802" title="ocfs2_metadata_cache\l_get_super" alt="" coords="1850,990,2007,1031"/>
<area shape="rect" id="node9" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="1850,775,2007,817"/>
<area shape="rect" id="node12" href="blockcheck_8c.html#a7325fea0531f0542e7852b65910296fd" title="ocfs2_validate_meta_ecc" alt="" coords="1611,305,1781,332"/>
<area shape="rect" id="node14" href="refcounttree_8c.html#ab05e76fdb0f2b134c7df401e3a4114ea" title="ocfs2_find_refcount_tree" alt="" coords="1147,189,1312,216"/>
<area shape="rect" id="node15" href="refcounttree_8c.html#a3c7a7216b461f9356a98e8f913212fde" title="ocfs2_allocate_refcount_tree" alt="" coords="1135,139,1324,165"/>
<area shape="rect" id="node23" href="uptodate_8c.html#a919da0b0d68a4ed60464c0897bfdbc90" title="ocfs2_metadata_cache_exit" alt="" coords="1372,291,1557,317"/>
<area shape="rect" id="node24" href="uptodate_8c.html#a55bfc682a481c9bffb1d4259871b293a" title="ocfs2_metadata_cache\l_purge" alt="" coords="1617,189,1775,230"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a2d9ea27ef0d9554e65cd086a6a4137da" title="ocfs2_init_refcount\l_tree_lock" alt="" coords="1163,393,1295,434"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#ad9f019df9239df8e664ed0826a6f1e8f" title="ocfs2_insert_refcount_tree" alt="" coords="1141,291,1317,317"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#af23f9ed91551c4f3c8f71a2a223aa38b" title="ocfs2_free_refcount_tree" alt="" coords="1146,459,1313,485"/>
<area shape="rect" id="node16" href="refcounttree_8c.html#ae8f92e9c89b7d198558363a2ec87fafd" title="ocfs2_init_refcount\l_tree_ci" alt="" coords="1399,107,1531,149"/>
<area shape="rect" id="node17" href="uptodate_8c.html#aa9bfaaa94bdf5d30f06f82de507dc6f3" title="ocfs2_metadata_cache_init" alt="" coords="1605,87,1787,113"/>
<area shape="rect" id="node18" href="uptodate_8c.html#a8e033a043bb31a9bd2e80e54fe799759" title="ocfs2_metadata_cache\l_reset" alt="" coords="1850,102,2007,143"/>
<area shape="rect" id="node20" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="1403,649,1527,676"/>
<area shape="rect" id="node22" href="refcounttree_8c.html#a8e00c4c532cc6aa61020bd2242a14653" title="ocfs2_validate_refcount\l_block" alt="" coords="1385,393,1545,434"/>
<area shape="rect" id="node21" href="buffer__head__io_8h.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="1631,757,1761,784"/>
<area shape="rect" id="node25" href="uptodate_8c.html#a3ec979ed6db1dd9207c685d695c1c696" title="ocfs2_metadata_cache_lock" alt="" coords="1835,233,2023,260"/>
<area shape="rect" id="node26" href="uptodate_8c.html#aa305461d2b0b2eb002e2725fd3b86b18" title="ocfs2_metadata_cache\l_unlock" alt="" coords="1850,285,2007,326"/>
<area shape="rect" id="node27" href="uptodate_8c.html#a3ec83901cda556c8cf351047f7b54e79" title="ocfs2_purge_copied\l_metadata_tree" alt="" coords="1859,167,1998,209"/>
<area shape="rect" id="node29" href="dlmglue_8c.html#a87eacfaa9aaed9138680545a5baf3a17" title="ocfs2_refcount_lock\l_res_init" alt="" coords="1395,458,1534,499"/>
<area shape="rect" id="node30" href="dlmglue_8c.html#a921be977b509be3d94adbde9aef04fae" title="ocfs2_lock_res_init_once" alt="" coords="1611,356,1781,383"/>
<area shape="rect" id="node31" href="dlmglue_8c.html#a0a0d04c4edcd1ffb9c1b722c9b183ad3" title="ocfs2_build_lock_name" alt="" coords="1617,407,1775,433"/>
<area shape="rect" id="node32" href="dlmglue_8c.html#a08e1a5f13a8b4fca8a256fdaf1ae3299" title="ocfs2_lock_res_init\l_common" alt="" coords="1629,458,1763,499"/>
<area shape="rect" id="node35" href="dlmglue_8c.html#a266c19358d548aa367411bec9b5b7c6c" title="ocfs2_simple_drop_lockres" alt="" coords="1375,531,1555,557"/>
<area shape="rect" id="node38" href="dlmglue_8c.html#aa1b849b786c375001acbfc62524f3e3d" title="ocfs2_lock_res_free" alt="" coords="1395,587,1534,613"/>
<area shape="rect" id="node36" href="dlmglue_8c.html#af23494c592bf38b59f3a3aaa370d665c" title="ocfs2_mark_lockres\l_freeing" alt="" coords="1627,523,1765,565"/>
<area shape="rect" id="node37" href="dlmglue_8c.html#a7ff7958fd028f5b1518716b56ddb5bf7" title="ocfs2_drop_lock" alt="" coords="1637,589,1755,616"/>
<area shape="rect" id="node39" href="dlmglue_8c.html#a7b4ebd29285440185a84a09a3f326d9b" title="ocfs2_remove_lockres\l_tracking" alt="" coords="1619,641,1773,682"/>
<area shape="rect" id="node41" href="refcounttree_8c.html#ac86271444dfa7b1bad7297b515142e5a" title="ocfs2_get_refcount_rec" alt="" coords="926,1061,1085,1088"/>
<area shape="rect" id="node45" href="refcounttree_8c.html#a3866941001cec91effaadf576b4ffd9f" title="ocfs2_decrease_refcount_rec" alt="" coords="452,843,645,869"/>
<area shape="rect" id="node49" href="ocfs2_2alloc_8c.html#a112710529cab60c690bc42660f10b38d" title="ocfs2_cache_cluster\l_dealloc" alt="" coords="477,894,620,935"/>
<area shape="rect" id="node50" href="ocfs2_8h.html#ac2f56aa03d88002b636baddba9bee355" title="ocfs2_clusters_to_blocks" alt="" coords="463,960,634,987"/>
<area shape="rect" id="node42" href="refcounttree_8c.html#ac755afa127b398d63c47d621530292fb" title="ocfs2_find_refcount\l_rec_in_rl" alt="" coords="1161,1113,1297,1154"/>
<area shape="rect" id="node43" href="ocfs2_2alloc_8c.html#afcb532375af5e443af3d881f60de906d" title="ocfs2_find_leaf" alt="" coords="1174,1061,1285,1088"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#af91a03212cfd7505b1404cd575a2bc8e" title="ocfs2_get_refcount\l_cpos_end" alt="" coords="1398,1230,1531,1271"/>
<area shape="rect" id="node46" href="refcounttree_8c.html#a46fc405570c102b4b0fca758314dcb8a" title="ocfs2_change_refcount_rec" alt="" coords="693,859,876,885"/>
<area shape="rect" id="node47" href="refcounttree_8c.html#acbb4b4c4e412f73794e926979892560a" title="ocfs2_split_refcount_rec" alt="" coords="703,960,867,987"/>
<area shape="rect" id="node48" href="refcounttree_8c.html#a42120bebf431d052a31fef8ba7cb2743" title="ocfs2_remove_refcount\l_extent" alt="" coords="1617,961,1775,1002"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_icgraph.png" border="0" usemap="#refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_icgraph" alt=""/></div>
<map name="refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_icgraph" id="refcounttree_8h_a964d437430f4f0b9da888eaa504e7f1b_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8c.html#ae6b808966b9f4dc5de011d7b23269e71" title="__ocfs2_remove_xattr\l_range" alt="" coords="221,527,372,568"/>
<area shape="rect" id="node15" href="ocfs2_2alloc_8h.html#a2b9505829bc383022a1739deac61a349" title="ocfs2_remove_btree\l_range" alt="" coords="227,613,367,655"/>
<area shape="rect" id="node45" href="move__extents_8c.html#ad60f679eb32a93385bb4f9516d093bcc" title="__ocfs2_move_extent" alt="" coords="221,863,372,890"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8c.html#af8b3d0ad178d83a6341c5dd8c8620076" title="ocfs2_xattr_shrink_size" alt="" coords="420,334,580,361"/>
<area shape="rect" id="node4" href="ocfs2_2xattr_8c.html#ae89d2205f229677e5d3e426af6ffc0ec" title="ocfs2_xattr_value_truncate" alt="" coords="628,163,807,190"/>
<area shape="rect" id="node5" href="ocfs2_2xattr_8c.html#ad3b8e180fc0520f8682c8179588440bc" title="ocfs2_xa_value_truncate" alt="" coords="860,127,1027,154"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#a38c80db8711f41356a6530f04b9148e1" title="ocfs2_remove_value\l_outside" alt="" coords="872,191,1015,232"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#ada622ddf54b7c2c033d74d86fc67f965" title="ocfs2_xattr_bucket\l_value_truncate" alt="" coords="877,33,1010,75"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8c.html#aa11b6f478a0feaa20360c0c2846be5f6" title="ocfs2_xa_remove" alt="" coords="1321,173,1446,199"/>
<area shape="rect" id="node8" href="ocfs2_2xattr_8c.html#a1ee917d13fb38832b483cf1956203110" title="ocfs2_xa_reuse_entry" alt="" coords="1092,71,1243,98"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8c.html#adc489871f7968ff25a081a8288002681" title="ocfs2_xa_prepare_entry" alt="" coords="1303,122,1464,149"/>
<area shape="rect" id="node7" href="ocfs2_2xattr_8c.html#a3c2f5b07868990c842bd89b7d44bfb0b" title="ocfs2_xa_set" alt="" coords="1512,147,1612,174"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#ab291a6ab7fd5264ac62b23a61ab33ae0" title="ocfs2_xattr_block_remove" alt="" coords="1080,223,1255,250"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#a81b4a2eff09f221223831c65385e1f86" title="ocfs2_xattr_free_block" alt="" coords="1306,223,1461,250"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#a78436dd5c0bf669a5db254bed44c86f0" title="ocfs2_delete_xattr\l_in_bucket" alt="" coords="1103,5,1232,47"/>
<area shape="rect" id="node16" href="ocfs2_2dir_8h.html#a4cae0af69b14f47f94accb37f92a7323" title="ocfs2_dx_dir_truncate" alt="" coords="425,533,575,559"/>
<area shape="rect" id="node29" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="429,748,571,789"/>
<area shape="rect" id="node37" href="ocfs2_2alloc_8h.html#a3838e510209f9373c9f78f76b3ba3e3f" title="ocfs2_commit_truncate" alt="" coords="421,621,579,647"/>
<area shape="rect" id="node17" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="880,533,1007,559"/>
<area shape="rect" id="node20" href="ocfs2_2dir_8h.html#a8f08ca5cefcca5709e496cc10cfb6a08" title="ocfs2_add_entry" alt="" coords="658,406,777,433"/>
<area shape="rect" id="node18" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="1100,533,1235,559"/>
<area shape="rect" id="node19" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1320,533,1447,559"/>
<area shape="rect" id="node21" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="893,330,993,357"/>
<area shape="rect" id="node24" href="ocfs2_2namei_8c.html#a407460229ee2fbf7ab6ee03e7e000407" title="ocfs2_link" alt="" coords="903,381,984,407"/>
<area shape="rect" id="node25" href="ocfs2_2namei_8c.html#a7e52237e2e01c71acd11510cbd85fc93" title="ocfs2_rename" alt="" coords="891,431,995,458"/>
<area shape="rect" id="node26" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="890,482,997,509"/>
<area shape="rect" id="node27" href="namei_8h.html#ac12dc81df6540369f9e03f9547d8e554" title="ocfs2_mv_orphaned_inode\l_to_new" alt="" coords="855,264,1032,305"/>
<area shape="rect" id="node22" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1121,379,1214,406"/>
<area shape="rect" id="node23" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1119,329,1216,355"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1119,274,1215,301"/>
<area shape="rect" id="node30" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="647,748,788,789"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="648,823,787,864"/>
<area shape="rect" id="node31" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="1083,777,1252,803"/>
<area shape="rect" id="node33" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="888,802,999,829"/>
<area shape="rect" id="node32" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1341,835,1426,862"/>
<area shape="rect" id="node35" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="874,853,1013,895"/>
<area shape="rect" id="node36" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1098,853,1237,895"/>
<area shape="rect" id="node38" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="651,650,783,677"/>
<area shape="rect" id="node44" href="ocfs2_2inode_8c.html#a51d2bf400409ed6e8c1addae690d7100" title="ocfs2_truncate_for\l_delete" alt="" coords="652,584,783,625"/>
<area shape="rect" id="node39" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="894,701,993,727"/>
<area shape="rect" id="node40" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="874,584,1013,625"/>
<area shape="rect" id="node42" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="865,650,1022,677"/>
<area shape="rect" id="node41" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="1086,591,1249,618"/>
<area shape="rect" id="node43" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="1082,650,1253,677"/>
<area shape="rect" id="node46" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="430,863,570,890"/>
<area shape="rect" id="node50" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="432,914,568,941"/>
<area shape="rect" id="node47" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="639,907,796,948"/>
<area shape="rect" id="node48" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="872,919,1015,946"/>
<area shape="rect" id="node49" href="move__extents_8h.html#a8118a964c75a4ea3b2896fd3bd37f5af" title="ocfs2_ioctl_move_extents" alt="" coords="1080,919,1255,946"/>
</map>
</div>

</div>
</div>
<a id="a71a705978e92ec9cf6d486c72e4dbd26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a705978e92ec9cf6d486c72e4dbd26">&#9670;&nbsp;</a></span>ocfs2_duplicate_clusters_by_jbd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_duplicate_clusters_by_jbd </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>old_cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>new_cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>new_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_cgraph.png" border="0" usemap="#refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_cgraph" alt=""/></div>
<map name="refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_cgraph" id="refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_cgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="245,169,365,196"/>
<area shape="rect" id="node17" href="ocfs2_8h.html#ac2f56aa03d88002b636baddba9bee355" title="ocfs2_clusters_to_blocks" alt="" coords="220,963,391,989"/>
<area shape="rect" id="node18" href="uptodate_8c.html#a847a81165ab0a3f6bd235d85b1e0d0ea" title="ocfs2_set_new_buffer\l_uptodate" alt="" coords="445,1057,595,1098"/>
<area shape="rect" id="node31" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="243,1013,367,1040"/>
<area shape="rect" id="node39" href="ocfs2_2journal_8c.html#a89549dea017b6122eb0607dd48a97628" title="ocfs2_journal_access" alt="" coords="231,1209,379,1236"/>
<area shape="rect" id="node46" href="ocfs2_2journal_8c.html#ad2121c87e079ebef880f19ab5e11477f" title="ocfs2_journal_dirty" alt="" coords="240,1645,371,1672"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1363,267,1440,293"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="457,321,583,348"/>
<area shape="rect" id="node15" href="ocfs2_2inode_8h.html#a67e39a4048271bf7ac384399f21964ac" title="ocfs2_drop_inode" alt="" coords="458,93,582,120"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="670,372,805,399"/>
<area shape="rect" id="node14" href="ocfs2_2inode_8c.html#a8477d7b86036937128d6171266847e1d" title="ocfs2_clear_inode" alt="" coords="674,169,801,196"/>
<area shape="rect" id="node6" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="907,448,1005,475"/>
<area shape="rect" id="node7" href="ocfs2_2inode_8c.html#ad1aa4efb0d1eaf514734edd1266eabc4" title="ocfs2_inode_is_valid\l_to_delete" alt="" coords="1109,259,1252,301"/>
<area shape="rect" id="node8" href="ocfs2_2inode_8c.html#a30deee7e4e46dc5c4e1063bb3084a7bc" title="ocfs2_cleanup_delete\l_inode" alt="" coords="1107,550,1255,591"/>
<area shape="rect" id="node9" href="dquot_8c.html#a422867fb9275ca3710a055b557602323" title="dquot_initialize" alt="" coords="902,600,1010,627"/>
<area shape="rect" id="node10" href="ocfs2_2super_8c.html#a7a99a6930f8af7302382bcd3d2377ce3" title="ocfs2_block_signals" alt="" coords="886,296,1026,323"/>
<area shape="rect" id="node11" href="dlmglue_8c.html#ac7ab64fe9be06e2172cac68ab1515c15" title="ocfs2_nfs_sync_lock" alt="" coords="883,397,1029,424"/>
<area shape="rect" id="node12" href="ocfs2_2inode_8c.html#aa90cb3a738bcdad1d478d89fc60b5320" title="ocfs2_query_inode_wipe" alt="" coords="873,347,1039,373"/>
<area shape="rect" id="node13" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="893,195,1019,221"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="678,43,797,69"/>
<area shape="rect" id="node19" href="uptodate_8c.html#ad24bce70dd20941b5d2b8072b2b1beb0" title="ocfs2_buffer_cached" alt="" coords="885,883,1027,909"/>
<area shape="rect" id="node25" href="uptodate_8c.html#a92ef3ce72ad4dfa56d3aac437e663e2d" title="ocfs2_metadata_cache\l_io_lock" alt="" coords="659,1187,816,1229"/>
<area shape="rect" id="node26" href="uptodate_8c.html#ad35fc15f8b13914e99fade11efbf471c" title="ocfs2_set_buffer_uptodate" alt="" coords="649,1005,825,1032"/>
<area shape="rect" id="node30" href="uptodate_8c.html#a32a162955f4ad557ca5ce423b2cef357" title="ocfs2_metadata_cache\l_io_unlock" alt="" coords="659,1057,816,1098"/>
<area shape="rect" id="node20" href="uptodate_8c.html#a3ec979ed6db1dd9207c685d695c1c696" title="ocfs2_metadata_cache_lock" alt="" coords="1087,1051,1275,1077"/>
<area shape="rect" id="node21" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="1323,1010,1480,1051"/>
<area shape="rect" id="node22" href="uptodate_8c.html#a0c24dbd61b48c2ee74bbc7817ccaadca" title="ocfs2_search_cache\l_array" alt="" coords="1109,817,1252,858"/>
<area shape="rect" id="node23" href="uptodate_8c.html#a1efe73b51106c3aa296faebd4ff6b6df" title="ocfs2_search_cache_tree" alt="" coords="1095,765,1266,792"/>
<area shape="rect" id="node24" href="uptodate_8c.html#aa305461d2b0b2eb002e2725fd3b86b18" title="ocfs2_metadata_cache\l_unlock" alt="" coords="1102,985,1259,1026"/>
<area shape="rect" id="node27" href="uptodate_8c.html#a9f5e4d1ceab2638a4df0c80df9146aa5" title="ocfs2_insert_can_use\l_array" alt="" coords="1106,1153,1255,1194"/>
<area shape="rect" id="node28" href="uptodate_8c.html#a7224bd579ba4a3bd549b6c9e01f9de41" title="ocfs2_append_cache\l_array" alt="" coords="1108,1218,1253,1259"/>
<area shape="rect" id="node29" href="uptodate_8c.html#a46661a0554ae04169f53e6af69037179" title="__ocfs2_set_buffer\l_uptodate" alt="" coords="889,1094,1023,1135"/>
<area shape="rect" id="node32" href="buffer__head__io_8h.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="455,1005,585,1032"/>
<area shape="rect" id="node33" href="ocfs2_8h.html#a00eef5505a2e46ff0b0ba32149a1b802" title="ocfs2_metadata_cache\l_get_super" alt="" coords="659,1122,816,1163"/>
<area shape="rect" id="node34" href="uptodate_8c.html#a546990503c8102dbfaf2b20906c5dd54" title="ocfs2_buffer_uptodate" alt="" coords="662,904,813,931"/>
<area shape="rect" id="node35" href="uptodate_8c.html#a9ab7505f2a6752f9d99c758bb08c7498" title="ocfs2_buffer_read_ahead" alt="" coords="653,853,821,880"/>
<area shape="rect" id="node36" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="687,1253,787,1280"/>
<area shape="rect" id="node37" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="662,752,813,779"/>
<area shape="rect" id="node38" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="696,803,779,829"/>
<area shape="rect" id="node40" href="ocfs2_2journal_8c.html#ab3908be67651cfbc01bf6b0d25034518" title="__ocfs2_journal_access" alt="" coords="439,1304,601,1331"/>
<area shape="rect" id="node41" href="journal_8h.html#a68aee597ef7de7f1630fb66c8d27180a" title="ocfs2_set_ci_lock_trans" alt="" coords="656,1456,819,1483"/>
<area shape="rect" id="node42" href="jbd2_2transaction_8c.html#aeb23ce74a7607c7e060d1ace62bcb0a5" title="jbd2_journal_get_write\l_access" alt="" coords="662,1507,813,1549"/>
<area shape="rect" id="node43" href="jbd2_2transaction_8c.html#ab1c77617c373f81d7691c0415b16bd3f" title="jbd2_journal_get_undo\l_access" alt="" coords="662,1573,813,1614"/>
<area shape="rect" id="node44" href="ocfs2_8h.html#abfc3ee93060b367faf6a6782e62ae4ac" title="ocfs2_meta_ecc" alt="" coords="678,1355,797,1381"/>
<area shape="rect" id="node45" href="jbd2_2transaction_8c.html#a7f13511c5950d861b72e920d71b1e692" title="jbd2_journal_set_triggers" alt="" coords="654,1405,821,1432"/>
<area shape="rect" id="node47" href="jbd2_2transaction_8c.html#a1161909aa6fe07a94cf6c7d27a26a80f" title="jbd2_journal_dirty\l_metadata" alt="" coords="459,1638,581,1679"/>
<area shape="rect" id="node49" href="jbd2_2journal_8c.html#a80782c5fea59e6374147ba49563f3305" title="jbd2_journal_abort" alt="" coords="457,1704,583,1731"/>
<area shape="rect" id="node48" href="jbd2_2transaction_8c.html#a25831355b4d945f30901155a18f541b1" title="__jbd2_journal_file\l_buffer" alt="" coords="673,1638,802,1679"/>
<area shape="rect" id="node50" href="jbd2_2journal_8c.html#aef4260528f66968c04583866d3632a14" title="__journal_abort_soft" alt="" coords="668,1704,807,1731"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_icgraph.png" border="0" usemap="#refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_icgraph" alt=""/></div>
<map name="refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_icgraph" id="refcounttree_8h_a71a705978e92ec9cf6d486c72e4dbd26_icgraph">
<area shape="rect" id="node2" href="refcounttree_8h.html#a41c7e6c165ce9f645166bde0ebb0d2e6" title="ocfs2_refcount_cow\l_xattr" alt="" coords="220,175,359,217"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8c.html#a03ae7ec53a172dd03c90d08df26c14c2" title="ocfs2_prepare_refcount\l_xattr" alt="" coords="407,175,565,217"/>
<area shape="rect" id="node4" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="613,183,725,209"/>
<area shape="rect" id="node5" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="805,81,907,108"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="773,183,939,209"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="801,132,911,159"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="777,233,935,260"/>
<area shape="rect" id="node23" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="784,284,928,311"/>
<area shape="rect" id="node6" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="1001,107,1128,133"/>
<area shape="rect" id="node7" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="1003,5,1127,32"/>
<area shape="rect" id="node9" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="1013,56,1116,83"/>
<area shape="rect" id="node8" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1207,5,1305,32"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8h.html#a6d965bcdb10f77c4b23347703af28d37" title="ocfs2_init_security\l_and_acl" alt="" coords="1191,107,1321,149"/>
<area shape="rect" id="node15" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="1206,56,1306,83"/>
<area shape="rect" id="node11" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1370,115,1466,141"/>
<area shape="rect" id="node12" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1515,115,1636,141"/>
<area shape="rect" id="node13" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="1684,115,1811,141"/>
<area shape="rect" id="node14" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1859,115,1944,141"/>
<area shape="rect" id="node16" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1371,9,1465,36"/>
<area shape="rect" id="node17" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1369,60,1467,87"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="987,157,1143,184"/>
<area shape="rect" id="node21" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1203,173,1309,200"/>
</map>
</div>

</div>
</div>
<a id="a5a7e005aa87fe239ba4762b704efdfa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7e005aa87fe239ba4762b704efdfa3">&#9670;&nbsp;</a></span>ocfs2_duplicate_clusters_by_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_duplicate_clusters_by_page </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>old_cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>new_cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>new_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_cgraph.png" border="0" usemap="#refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_cgraph" alt=""/></div>
<map name="refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_cgraph" id="refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_cgraph">
<area shape="rect" id="node2" href="ocfs2_8h.html#ac2f56aa03d88002b636baddba9bee355" title="ocfs2_clusters_to_blocks" alt="" coords="667,211,837,238"/>
<area shape="rect" id="node3" href="buffer_8c.html#a3ec843565084d7bd0c0951c1000bf3e1" title="block_read_full_page" alt="" coords="239,1003,383,1030"/>
<area shape="rect" id="node27" href="ocfs2_2aops_8c.html#a0e0775998cac0303bdc35acf24be1918" title="ocfs2_get_block" alt="" coords="252,379,369,406"/>
<area shape="rect" id="node40" href="ocfs2_2aops_8c.html#a6338ab8fbf68e48134aaa2f8ebed7fd5" title="walk_page_buffers" alt="" coords="469,826,599,852"/>
<area shape="rect" id="node42" href="refcounttree_8c.html#afa2bcbe2a7ab076872eaa0de94541de3" title="ocfs2_clear_cow_buffer" alt="" coords="231,1054,391,1080"/>
<area shape="rect" id="node43" href="ocfs2_2alloc_8c.html#ac78ab1cf44d5b137a85d9b8444bfa7f6" title="ocfs2_map_and_dirty_page" alt="" coords="220,750,401,776"/>
<area shape="rect" id="node4" href="buffer_8c.html#a2e30578f16f1324096ab2fa69e9446be" title="create_page_buffers" alt="" coords="464,1003,604,1030"/>
<area shape="rect" id="node7" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1267,902,1405,928"/>
<area shape="rect" id="node8" href="buffer_8c.html#a60a1eb6418d9f7d63ceb44bc1d1f46c5" title="block_size_bits" alt="" coords="478,1256,590,1283"/>
<area shape="rect" id="node9" href="itree__common_8c.html#a0c745202a439570edb94b98997a8ce3b" title="get_block" alt="" coords="495,1206,573,1232"/>
<area shape="rect" id="node22" href="buffer_8c.html#a0998d825337b8ec9610cc82d6fed1d75" title="mark_buffer_async_read" alt="" coords="451,1054,617,1080"/>
<area shape="rect" id="node23" href="buffer_8c.html#a0295f7af7db21307c2cb963c2946ab20" title="end_buffer_async_read" alt="" coords="673,1079,831,1106"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="925,902,1008,928"/>
<area shape="rect" id="node5" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="678,1003,826,1030"/>
<area shape="rect" id="node6" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="901,952,1032,979"/>
<area shape="rect" id="node10" href="itree__v1_8c.html#ae3dde3144b08de81e7f8b29fc12c51e2" title="block_to_path" alt="" coords="915,1408,1018,1435"/>
<area shape="rect" id="node12" href="itree__common_8c.html#a6cac3be19cbce8b7cb9fd0a8dfbac934" title="get_branch" alt="" coords="709,1307,795,1334"/>
<area shape="rect" id="node15" href="itree__v1_8c.html#aeeaa3b78fec6167585884554b041d904" title="block_to_cpu" alt="" coords="917,1206,1016,1232"/>
<area shape="rect" id="node17" href="itree__common_8c.html#a3302137244b175b1df3671b824bc1b6d" title="alloc_branch" alt="" coords="705,1155,799,1182"/>
<area shape="rect" id="node21" href="itree__common_8c.html#ab7968a5fd4e000709c1593a973aa195d" title="splice_branch" alt="" coords="701,1256,803,1283"/>
<area shape="rect" id="node11" href="minix_8h.html#ac6ba967944dbe453727e50ba682dd6a7" title="minix_sb" alt="" coords="1120,1282,1195,1308"/>
<area shape="rect" id="node13" href="itree__common_8c.html#a140935b6253a7aeb4b9a18edd2118688" title="add_chain" alt="" coords="926,1358,1007,1384"/>
<area shape="rect" id="node14" href="itree__v1_8c.html#ac07f31538fad245953ce2a6ef706bcfb" title="i_data" alt="" coords="938,1307,995,1334"/>
<area shape="rect" id="node16" href="itree__common_8c.html#a8e8f2fff858a149931084cb9e72d9069" title="verify_chain" alt="" coords="921,1256,1013,1283"/>
<area shape="rect" id="node18" href="minix_2bitmap_8c.html#a65963ae36c171cdcf4d02a926fda5a87" title="minix_new_block" alt="" coords="905,1155,1028,1182"/>
<area shape="rect" id="node20" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="917,1054,1017,1080"/>
<area shape="rect" id="node19" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1096,750,1219,776"/>
<area shape="rect" id="node24" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="914,1104,1019,1131"/>
<area shape="rect" id="node26" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1101,902,1214,928"/>
<area shape="rect" id="node28" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="507,379,561,406"/>
<area shape="rect" id="node30" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="928,262,1005,288"/>
<area shape="rect" id="node31" href="ocfs2_2aops_8c.html#a67fb60103b1fb0350988c243e9705ad3" title="ocfs2_symlink_get_block" alt="" coords="449,135,619,162"/>
<area shape="rect" id="node35" href="ocfs2_2extent__map_8c.html#a53a303c8785ee2555f07771e3cba97b5" title="ocfs2_extent_map_get\l_blocks" alt="" coords="457,313,611,354"/>
<area shape="rect" id="node38" href="ocfs2_8h.html#a0fbbb775eb8bbce1d617215ace9f7fad" title="ocfs2_sparse_alloc" alt="" coords="899,564,1034,591"/>
<area shape="rect" id="node39" href="ocfs2_8h.html#a3583830ef139f76b49b0d8eb6217575f" title="ocfs2_blocks_for_bytes" alt="" coords="454,430,614,456"/>
<area shape="rect" id="node29" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="693,414,811,440"/>
<area shape="rect" id="node32" href="symlink_8h.html#adc1f2c8f815eee8b953b38539ca85340" title="ocfs2_inode_is_fast\l_symlink" alt="" coords="683,44,821,85"/>
<area shape="rect" id="node33" href="ocfs2_2inode_8c.html#a116c75eb1ad6164b78b79336b036f7a5" title="ocfs2_read_inode_block" alt="" coords="885,312,1048,339"/>
<area shape="rect" id="node34" href="journal_8h.html#ab4d436698e253ab85f11aaf5f5eed3e7" title="ocfs2_inode_is_new" alt="" coords="682,110,822,136"/>
<area shape="rect" id="node36" href="ocfs2_8h.html#aa43491b3279a3977bcc7a2417f534b4f" title="ocfs2_blocks_to_clusters" alt="" coords="667,363,837,390"/>
<area shape="rect" id="node37" href="ocfs2_2extent__map_8c.html#a7278b9927aa491a4ba3d34be8e465fb5" title="ocfs2_get_clusters" alt="" coords="686,312,818,339"/>
<area shape="rect" id="node41" href="itree__common_8c.html#a182737ecd86ab9ca3806858e693d4db9" title="block_end" alt="" coords="711,851,793,878"/>
<area shape="rect" id="node44" href="ocfs2_2aops_8c.html#a9b8dfe256f7f5727d81576e732168168" title="ocfs2_map_page_blocks" alt="" coords="451,775,617,802"/>
<area shape="rect" id="node47" href="ocfs2_2alloc_8c.html#ab7b1a58e0acfd30360f35e89ecbe9130" title="ocfs2_zero_func" alt="" coords="475,724,593,751"/>
<area shape="rect" id="node48" href="ocfs2_8h.html#a5fe11e985d0662f483c71c9a00c7592d" title="ocfs2_should_order_data" alt="" coords="451,674,617,700"/>
<area shape="rect" id="node49" href="journal_8h.html#aad0d19a27bbf4863c7000ae8fc2d8cbc" title="ocfs2_jbd2_file_inode" alt="" coords="461,590,607,616"/>
<area shape="rect" id="node45" href="ocfs2_2aops_8c.html#ac09c5e66196ae4b8aa760ef7c6cc8ce0" title="ocfs2_should_read_blk" alt="" coords="675,648,829,675"/>
<area shape="rect" id="node46" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="709,800,795,827"/>
<area shape="rect" id="node50" href="jbd2_2transaction_8c.html#a88c8a432ecccc179b578d9b809f097c5" title="jbd2_journal_inode\l_add_write" alt="" coords="687,582,817,624"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_icgraph.png" border="0" usemap="#refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_icgraph" alt=""/></div>
<map name="refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_icgraph" id="refcounttree_8h_a5a7e005aa87fe239ba4762b704efdfa3_icgraph">
<area shape="rect" id="node2" href="move__extents_8c.html#ad60f679eb32a93385bb4f9516d093bcc" title="__ocfs2_move_extent" alt="" coords="232,117,383,144"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="220,179,395,205"/>
<area shape="rect" id="node3" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="443,67,583,93"/>
<area shape="rect" id="node8" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="445,117,581,144"/>
<area shape="rect" id="node4" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="631,59,788,101"/>
<area shape="rect" id="node5" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="853,21,995,48"/>
<area shape="rect" id="node6" href="move__extents_8h.html#a8118a964c75a4ea3b2896fd3bd37f5af" title="ocfs2_ioctl_move_extents" alt="" coords="1060,8,1235,35"/>
<area shape="rect" id="node7" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1545,29,1630,56"/>
<area shape="rect" id="node10" href="refcounttree_8h.html#ab74fc9d4c56a00ba3af960e8129b4dc7" title="ocfs2_refcount_cow" alt="" coords="443,235,582,261"/>
<area shape="rect" id="node11" href="ocfs2_2file_8c.html#aa3f251bd087c39db0675e07076ce3598" title="ocfs2_cow_file_pos" alt="" coords="641,235,778,261"/>
<area shape="rect" id="node33" href="ocfs2_2file_8c.html#a29d83dc89dea9c3f9c3f898fb665a4f3" title="ocfs2_zero_extend_get\l_range" alt="" coords="631,333,788,374"/>
<area shape="rect" id="node38" href="ocfs2_2aops_8h.html#a3ff7132d9ee29a0eecdec3a95c833f18" title="ocfs2_write_begin_nolock" alt="" coords="1501,595,1673,621"/>
<area shape="rect" id="node48" href="ocfs2_2file_8c.html#ae25143cc5a9e7cd3af6a3c1e631f3ac1" title="ocfs2_prepare_inode\l_for_refcount" alt="" coords="638,139,781,181"/>
<area shape="rect" id="node12" href="ocfs2_2file_8c.html#a29696f2a43103ea646a4e9dd791cab23" title="ocfs2_orphan_for_truncate" alt="" coords="836,241,1012,268"/>
<area shape="rect" id="node24" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="853,175,995,217"/>
<area shape="rect" id="node13" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="1302,235,1434,261"/>
<area shape="rect" id="node14" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1538,289,1637,316"/>
<area shape="rect" id="node15" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1518,223,1657,265"/>
<area shape="rect" id="node18" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="1509,172,1666,199"/>
<area shape="rect" id="node16" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="1725,505,1888,532"/>
<area shape="rect" id="node17" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="1956,505,2071,532"/>
<area shape="rect" id="node19" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="1721,172,1892,199"/>
<area shape="rect" id="node20" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="1940,147,2087,173"/>
<area shape="rect" id="node22" href="journal_8h.html#a1f4038c3558ccccf97b75aeeb079c898" title="ocfs2_ci_set_new" alt="" coords="1950,197,2077,224"/>
<area shape="rect" id="node21" href="ocfs2_2super_8c.html#aae09c84567eb36b012612fa7f187c3ee" title="ocfs2_fill_super" alt="" coords="2157,147,2271,173"/>
<area shape="rect" id="node23" href="ocfs2_2namei_8c.html#abfcd967c07c863371ac05be77b16c47b" title="__ocfs2_mknod_locked" alt="" coords="2135,197,2293,224"/>
<area shape="rect" id="node25" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="1077,110,1218,151"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="1078,175,1217,217"/>
<area shape="rect" id="node26" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="1283,64,1453,91"/>
<area shape="rect" id="node27" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="1313,117,1423,144"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1299,169,1437,210"/>
<area shape="rect" id="node30" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1518,106,1657,147"/>
<area shape="rect" id="node31" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="1729,117,1884,144"/>
<area shape="rect" id="node32" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="1723,67,1890,93"/>
<area shape="rect" id="node34" href="file_8h.html#ac93bb34113f817c3ebb8d60810741827" title="ocfs2_zero_extend" alt="" coords="858,365,990,392"/>
<area shape="rect" id="node35" href="file_8h.html#a286882c0771e7dd7cd5bb60e9a635346" title="ocfs2_extend_no_holes" alt="" coords="1068,379,1227,405"/>
<area shape="rect" id="node36" href="ocfs2_2file_8c.html#a036f93658584b3bf043fb99bc004a82d" title="ocfs2_extend_file" alt="" coords="1306,289,1430,316"/>
<area shape="rect" id="node47" href="ocfs2_2aops_8c.html#aa7a0e5944e4a23fb6094a131e9262ab2" title="ocfs2_zero_tail" alt="" coords="1313,573,1423,600"/>
<area shape="rect" id="node37" href="ocfs2_2aops_8c.html#a749e68cf8e8632c010858f5f615b1526" title="ocfs2_expand_nonsparse\l_inode" alt="" coords="1283,507,1453,549"/>
<area shape="rect" id="node42" href="quota__global_8c.html#ad6bb179ee20b575ef71007f5653b0fb0" title="ocfs2_acquire_dquot" alt="" coords="1942,340,2085,367"/>
<area shape="rect" id="node43" href="quota__local_8c.html#a69678330f53909990329af8c06f5dee0" title="ocfs2_local_quota_add\l_chunk" alt="" coords="1291,442,1445,483"/>
<area shape="rect" id="node44" href="quota__local_8c.html#a4f5cb31f25853e535ff9d96c75b55d09" title="ocfs2_extend_local\l_quota_file" alt="" coords="1520,391,1655,433"/>
<area shape="rect" id="node39" href="ocfs2_2mmap_8c.html#add2460e181be216e7332706c4ee746f9" title="__ocfs2_page_mkwrite" alt="" coords="1729,632,1885,659"/>
<area shape="rect" id="node41" href="ocfs2_2aops_8c.html#ad61b09eec57341b6d2f7115f4112ab30" title="ocfs2_write_begin" alt="" coords="1743,581,1870,608"/>
<area shape="rect" id="node40" href="ocfs2_2mmap_8c.html#a3aaaae00fd8adc5fb4aebe2dd31726eb" title="ocfs2_page_mkwrite" alt="" coords="1942,632,2085,659"/>
<area shape="rect" id="node45" href="quota__local_8c.html#ab9b675ca1ebfc1283e35b9b043665fe2" title="ocfs2_create_local\l_dquot" alt="" coords="1741,391,1872,433"/>
<area shape="rect" id="node46" href="ocfs2_2quota_8h.html#a4bdd398b5685cb125a06aa5e27b30a1c" title="ocfs2_global_release\l_dquot" alt="" coords="1941,391,2085,433"/>
<area shape="rect" id="node49" href="ocfs2_2file_8c.html#af355906d91ed23b9cca0acd2dd67413e" title="ocfs2_prepare_inode\l_for_write" alt="" coords="853,85,995,126"/>
<area shape="rect" id="node50" href="ocfs2_2file_8c.html#a725b0f054793fb44e6d15cb7bbfbc057" title="ocfs2_file_write_iter" alt="" coords="1078,59,1217,85"/>
</map>
</div>

</div>
</div>
<a id="a9d25a3ffb5ea34d3293036119784e14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d25a3ffb5ea34d3293036119784e14f">&#9670;&nbsp;</a></span>ocfs2_increase_refcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_increase_refcount </td>
          <td>(</td>
          <td class="paramtype">handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__caching__info.html">ocfs2_caching_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>ref_root_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__alloc__context.html">ocfs2_alloc_context</a> *&#160;</td>
          <td class="paramname"><em>meta_ac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__cached__dealloc__ctxt.html">ocfs2_cached_dealloc_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dealloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_cgraph.png" border="0" usemap="#refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_cgraph" alt=""/></div>
<map name="refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_cgraph" id="refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_cgraph">
<area shape="rect" id="node2" href="refcounttree_8c.html#ae2364a158168292205a9710defffc77c" title="__ocfs2_increase_refcount" alt="" coords="217,871,396,897"/>
<area shape="rect" id="node3" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="2227,305,2384,346"/>
<area shape="rect" id="node4" href="refcounttree_8c.html#ac86271444dfa7b1bad7297b515142e5a" title="ocfs2_get_refcount_rec" alt="" coords="689,581,847,608"/>
<area shape="rect" id="node36" href="refcounttree_8c.html#a46fc405570c102b4b0fca758314dcb8a" title="ocfs2_change_refcount_rec" alt="" coords="444,871,627,897"/>
<area shape="rect" id="node43" href="refcounttree_8c.html#a595e4c6fd2828412048d000c77967985" title="ocfs2_insert_refcount_rec" alt="" coords="449,972,621,999"/>
<area shape="rect" id="node50" href="refcounttree_8c.html#acbb4b4c4e412f73794e926979892560a" title="ocfs2_split_refcount_rec" alt="" coords="453,1067,617,1093"/>
<area shape="rect" id="node5" href="ocfs2_8h.html#a00eef5505a2e46ff0b0ba32149a1b802" title="ocfs2_metadata_cache\l_get_super" alt="" coords="2227,627,2384,669"/>
<area shape="rect" id="node6" href="refcounttree_8c.html#ac755afa127b398d63c47d621530292fb" title="ocfs2_find_refcount\l_rec_in_rl" alt="" coords="929,639,1065,681"/>
<area shape="rect" id="node7" href="ocfs2_2alloc_8c.html#afcb532375af5e443af3d881f60de906d" title="ocfs2_find_leaf" alt="" coords="941,312,1052,339"/>
<area shape="rect" id="node16" href="refcounttree_8c.html#af91a03212cfd7505b1404cd575a2bc8e" title="ocfs2_get_refcount\l_cpos_end" alt="" coords="930,574,1063,615"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="927,203,1067,245"/>
<area shape="rect" id="node8" href="ocfs2_2alloc_8c.html#aa400630d5a3286b90dd42aedaf7b9d13" title="__ocfs2_find_path" alt="" coords="1384,464,1512,491"/>
<area shape="rect" id="node15" href="ocfs2_2alloc_8c.html#a796d1f6b08e483a8be1771097663a295" title="find_leaf_ins" alt="" coords="1176,261,1271,288"/>
<area shape="rect" id="node9" href="ocfs2_2alloc_8h.html#a7c922efc185f61b6dde52779ee0fdaf3" title="ocfs2_rec_clusters" alt="" coords="1599,464,1731,491"/>
<area shape="rect" id="node10" href="ocfs2_2alloc_8c.html#a2916fac51e64301d487eeb6059ab6689" title="ocfs2_read_extent_block" alt="" coords="1581,413,1748,440"/>
<area shape="rect" id="node11" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="1819,413,1943,440"/>
<area shape="rect" id="node12" href="buffer__head__io_8h.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="2029,464,2160,491"/>
<area shape="rect" id="node13" href="uptodate_8c.html#a92ef3ce72ad4dfa56d3aac437e663e2d" title="ocfs2_metadata_cache\l_io_lock" alt="" coords="2227,526,2384,567"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2255,468,2355,495"/>
<area shape="rect" id="node17" href="ocfs2_2alloc_8c.html#a61a270630689a250e51fca35ff62431f" title="ocfs2_init_refcount\l_extent_tree" alt="" coords="1157,886,1289,927"/>
<area shape="rect" id="node24" href="ocfs2_2alloc_8c.html#afd577350f7eb5ecb06b0e238aee36787" title="ocfs2_new_path_from_et" alt="" coords="1139,632,1307,659"/>
<area shape="rect" id="node26" href="ocfs2_2alloc_8c.html#a0d55288c927e2553938f4b70da851986" title="ocfs2_find_path" alt="" coords="1166,581,1281,608"/>
<area shape="rect" id="node28" href="ocfs2_2alloc_8c.html#aedcf73b778d4e47de30434e2f3daeded" title="ocfs2_new_path_from_path" alt="" coords="1132,464,1315,491"/>
<area shape="rect" id="node29" href="ocfs2_2alloc_8c.html#aad3ef728d2ff34e99bd16e38f9e9198b" title="ocfs2_find_cpos_for\l_right_leaf" alt="" coords="1154,515,1293,557"/>
<area shape="rect" id="node30" href="ocfs2_2alloc_8c.html#ad72f775b4a96e1e4c4dd07c5d18f254f" title="ocfs2_find_subtree_root" alt="" coords="1584,312,1745,339"/>
<area shape="rect" id="node31" href="ocfs2_2alloc_8c.html#a71eb5a216a4a024d636e2702cf52cfa9" title="ocfs2_free_path" alt="" coords="1166,733,1281,760"/>
<area shape="rect" id="node18" href="ocfs2_2alloc_8c.html#abff2756478def2e234b593664f079031" title="__ocfs2_init_extent_tree" alt="" coords="1366,893,1530,920"/>
<area shape="rect" id="node19" href="ocfs2_2journal_8c.html#a7b5e644e5506f1537029ae2c3dac5b98" title="ocfs2_journal_access_rb" alt="" coords="1365,1028,1531,1055"/>
<area shape="rect" id="node20" href="ocfs2_2journal_8c.html#ab3908be67651cfbc01bf6b0d25034518" title="__ocfs2_journal_access" alt="" coords="2013,733,2176,760"/>
<area shape="rect" id="node21" href="journal_8h.html#a68aee597ef7de7f1630fb66c8d27180a" title="ocfs2_set_ci_lock_trans" alt="" coords="2224,824,2387,851"/>
<area shape="rect" id="node22" href="jbd2_2transaction_8c.html#aeb23ce74a7607c7e060d1ace62bcb0a5" title="jbd2_journal_get_write\l_access" alt="" coords="2230,693,2381,734"/>
<area shape="rect" id="node23" href="jbd2_2transaction_8c.html#ab1c77617c373f81d7691c0415b16bd3f" title="jbd2_journal_get_undo\l_access" alt="" coords="2230,758,2381,799"/>
<area shape="rect" id="node25" href="ocfs2_2alloc_8c.html#a018357ed56fedb25afadad6231f07216" title="ocfs2_new_path" alt="" coords="1389,565,1507,592"/>
<area shape="rect" id="node27" href="ocfs2_2alloc_8c.html#a999aa12f00d437180d543e7d78f9ac8e" title="find_path_ins" alt="" coords="1399,616,1497,643"/>
<area shape="rect" id="node32" href="ocfs2_2alloc_8c.html#a43c85b7f87d6e100805efe057779f896" title="ocfs2_reinit_path" alt="" coords="1387,733,1509,760"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#a8e00c4c532cc6aa61020bd2242a14653" title="ocfs2_validate_refcount\l_block" alt="" coords="1143,145,1303,186"/>
<area shape="rect" id="node35" href="blockcheck_8c.html#a7325fea0531f0542e7852b65910296fd" title="ocfs2_validate_meta_ecc" alt="" coords="1363,152,1533,179"/>
<area shape="rect" id="node37" href="refcounttree_8c.html#a2496613b14b71ba170ab3e03f5c40f20" title="ocfs2_refcount_rec\l_merge" alt="" coords="701,1023,835,1065"/>
<area shape="rect" id="node40" href="ocfs2_2journal_8c.html#ad2121c87e079ebef880f19ab5e11477f" title="ocfs2_journal_dirty" alt="" coords="1158,1205,1289,1232"/>
<area shape="rect" id="node38" href="refcounttree_8c.html#a218ad421761f289cf53424c25274397e" title="ocfs2_refcount_rec\l_contig" alt="" coords="930,1038,1063,1079"/>
<area shape="rect" id="node39" href="refcounttree_8c.html#ad4ded5c2224cf5952250b9aef0eac294" title="ocfs2_rotate_refcount\l_rec_left" alt="" coords="923,973,1071,1014"/>
<area shape="rect" id="node41" href="jbd2_2transaction_8c.html#a1161909aa6fe07a94cf6c7d27a26a80f" title="jbd2_journal_dirty\l_metadata" alt="" coords="1387,1165,1509,1206"/>
<area shape="rect" id="node42" href="jbd2_2journal_8c.html#a80782c5fea59e6374147ba49563f3305" title="jbd2_journal_abort" alt="" coords="1385,1231,1511,1257"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#ae65782b91d95ea4f8f9feb1341e86af7" title="ocfs2_expand_refcount_tree" alt="" coords="675,1209,861,1236"/>
<area shape="rect" id="node47" href="refcounttree_8c.html#a54b38f8c24b564aeb3fb022c4190ad87" title="ocfs2_adjust_refcount_rec" alt="" coords="909,769,1084,796"/>
<area shape="rect" id="node45" href="refcounttree_8c.html#afc719f961dbe6896f61aa02b6882ff85" title="ocfs2_expand_inline\l_ref_root" alt="" coords="927,1323,1067,1365"/>
<area shape="rect" id="node46" href="refcounttree_8c.html#a6cafcbd3d7ba3dbf5d3652ef6b9146ac" title="ocfs2_new_leaf_refcount\l_block" alt="" coords="913,1206,1080,1247"/>
<area shape="rect" id="node48" href="ocfs2_2journal_8c.html#a94d4ba9f938b03e9a6f89d53540abafe" title="ocfs2_extend_trans" alt="" coords="1155,835,1291,861"/>
<area shape="rect" id="node49" href="ocfs2_2journal_8c.html#aaa5db7f07c2b0c2eddd4f15f734a65f2" title="ocfs2_journal_access_eb" alt="" coords="1796,759,1965,785"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_icgraph.png" border="0" usemap="#refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_icgraph" alt=""/></div>
<map name="refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_icgraph" id="refcounttree_8h_a9d25a3ffb5ea34d3293036119784e14f_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8c.html#a2f4efbb40d338d2048c274c5792be682" title="ocfs2_reflink_xattr\l_header" alt="" coords="228,69,357,110"/>
<area shape="rect" id="node16" href="refcounttree_8c.html#ac6c71598086263407c7a6e76d68a3871" title="ocfs2_add_refcounted\l_extent" alt="" coords="217,159,368,201"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8c.html#ab453dafa694f61e57d1f2696dfc29ec5" title="ocfs2_reflink_xattr\l_inline" alt="" coords="1248,7,1377,49"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#a04400b8672b731f7ea358223329cbc35" title="ocfs2_reflink_xattr\l_block" alt="" coords="843,43,973,85"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#a48978df2ee558156f183381dbc97591e" title="ocfs2_reflink_xattr\l_bucket" alt="" coords="421,101,550,142"/>
<area shape="rect" id="node4" href="ocfs2_2xattr_8h.html#ad9ca1e7e3135555466255da0faf0838e" title="ocfs2_reflink_xattrs" alt="" coords="1445,103,1581,129"/>
<area shape="rect" id="node5" href="refcounttree_8c.html#aff36b539227d81e01b41b7e4bc340a19" title="__ocfs2_reflink" alt="" coords="1648,132,1759,159"/>
<area shape="rect" id="node6" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1807,132,1903,159"/>
<area shape="rect" id="node7" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1951,132,2072,159"/>
<area shape="rect" id="node8" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="2120,132,2247,159"/>
<area shape="rect" id="node9" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="2295,132,2380,159"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#acc9e393e955b0070ea8c15ad308ff91a" title="ocfs2_reflink_xattr\l_in_block" alt="" coords="1248,95,1377,137"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#a1614bac11f5b3e5c8457161e9ac8c6b1" title="ocfs2_reflink_xattr\l_buckets" alt="" coords="628,101,757,142"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#ae69e17a025208abd3603ee7ac7e0c248" title="ocfs2_reflink_xattr_rec" alt="" coords="831,109,985,136"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#a7f4a14716dac8bce14e5c31b0c4f4b6d" title="ocfs2_reflink_xattr_tree" alt="" coords="1037,104,1196,131"/>
<area shape="rect" id="node17" href="refcounttree_8c.html#aa9d1cd18ac906114f8d3e85cded66f33" title="ocfs2_duplicate_extent_list" alt="" coords="603,167,783,193"/>
<area shape="rect" id="node19" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="416,218,555,259"/>
<area shape="rect" id="node18" href="refcounttree_8c.html#ab7d4e69a0e46294321e899a21b872363" title="ocfs2_create_reflink_node" alt="" coords="1425,157,1600,184"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="623,218,762,259"/>
<area shape="rect" id="node21" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="839,218,977,259"/>
<area shape="rect" id="node22" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="1039,219,1194,245"/>
<area shape="rect" id="node23" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="1033,269,1200,296"/>
</map>
</div>

</div>
</div>
<a id="a7d74fc9e3b073359bbd3747bce67b682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d74fc9e3b073359bbd3747bce67b682">&#9670;&nbsp;</a></span>ocfs2_lock_refcount_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_lock_refcount_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *&#160;</td>
          <td class="paramname"><em>osb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ref_blkno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a> **&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>ref_bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_cgraph.png" border="0" usemap="#refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_cgraph" alt=""/></div>
<map name="refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_cgraph" id="refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_cgraph">
<area shape="rect" id="node2" href="refcounttree_8c.html#a268c9ffb2275286e9d2aa24b836ac07b" title="ocfs2_get_refcount_tree" alt="" coords="689,283,852,309"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="951,493,1091,534"/>
<area shape="rect" id="node37" href="refcounttree_8c.html#a945392b51d0c0289499c745124be12f4" title="ocfs2_refcount_tree_get" alt="" coords="231,587,394,613"/>
<area shape="rect" id="node38" href="refcounttree_8c.html#a6cdd72ca599da67275d103f350a81333" title="__ocfs2_lock_refcount_tree" alt="" coords="221,536,404,563"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#aacc13eaaba0752eb0f150920e930c6d8" title="ocfs2_refcount_tree_put" alt="" coords="452,384,615,411"/>
<area shape="rect" id="node46" href="refcounttree_8c.html#a7627ae96daac325b588a37af9857dcda" title="ocfs2_unlock_refcount_tree" alt="" coords="221,435,404,461"/>
<area shape="rect" id="node49" href="refcounttree_8c.html#ad4ba8cd64d83ecf43ffa6292c30b8c37" title="ocfs2_erase_refcount\l_tree_from_list" alt="" coords="239,638,386,679"/>
<area shape="rect" id="node3" href="refcounttree_8c.html#ab05e76fdb0f2b134c7df401e3a4114ea" title="ocfs2_find_refcount_tree" alt="" coords="939,64,1104,91"/>
<area shape="rect" id="node4" href="refcounttree_8c.html#a3c7a7216b461f9356a98e8f913212fde" title="ocfs2_allocate_refcount_tree" alt="" coords="927,181,1116,208"/>
<area shape="rect" id="node20" href="uptodate_8c.html#a919da0b0d68a4ed60464c0897bfdbc90" title="ocfs2_metadata_cache_exit" alt="" coords="1164,232,1349,259"/>
<area shape="rect" id="node21" href="uptodate_8c.html#a55bfc682a481c9bffb1d4259871b293a" title="ocfs2_metadata_cache\l_purge" alt="" coords="1409,275,1567,317"/>
<area shape="rect" id="node25" href="refcounttree_8c.html#a2d9ea27ef0d9554e65cd086a6a4137da" title="ocfs2_init_refcount\l_tree_lock" alt="" coords="955,115,1087,157"/>
<area shape="rect" id="node30" href="refcounttree_8c.html#ad9f019df9239df8e664ed0826a6f1e8f" title="ocfs2_insert_refcount_tree" alt="" coords="933,333,1109,360"/>
<area shape="rect" id="node31" href="refcounttree_8c.html#af23f9ed91551c4f3c8f71a2a223aa38b" title="ocfs2_free_refcount_tree" alt="" coords="938,384,1105,411"/>
<area shape="rect" id="node5" href="refcounttree_8c.html#ae8f92e9c89b7d198558363a2ec87fafd" title="ocfs2_init_refcount\l_tree_ci" alt="" coords="1191,166,1323,207"/>
<area shape="rect" id="node6" href="uptodate_8c.html#aa9bfaaa94bdf5d30f06f82de507dc6f3" title="ocfs2_metadata_cache_init" alt="" coords="1397,173,1579,200"/>
<area shape="rect" id="node7" href="uptodate_8c.html#a8e033a043bb31a9bd2e80e54fe799759" title="ocfs2_metadata_cache\l_reset" alt="" coords="1642,162,1799,203"/>
<area shape="rect" id="node9" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="1195,583,1319,609"/>
<area shape="rect" id="node18" href="refcounttree_8c.html#a8e00c4c532cc6aa61020bd2242a14653" title="ocfs2_validate_refcount\l_block" alt="" coords="1177,501,1337,542"/>
<area shape="rect" id="node10" href="buffer__head__io_8h.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="1423,591,1553,617"/>
<area shape="rect" id="node11" href="ocfs2_8h.html#a00eef5505a2e46ff0b0ba32149a1b802" title="ocfs2_metadata_cache\l_get_super" alt="" coords="1642,475,1799,517"/>
<area shape="rect" id="node12" href="uptodate_8c.html#a92ef3ce72ad4dfa56d3aac437e663e2d" title="ocfs2_metadata_cache\l_io_lock" alt="" coords="1642,541,1799,582"/>
<area shape="rect" id="node13" href="uptodate_8c.html#a32a162955f4ad557ca5ce423b2cef357" title="ocfs2_metadata_cache\l_io_unlock" alt="" coords="1642,606,1799,647"/>
<area shape="rect" id="node14" href="uptodate_8c.html#a546990503c8102dbfaf2b20906c5dd54" title="ocfs2_buffer_uptodate" alt="" coords="1645,672,1796,699"/>
<area shape="rect" id="node15" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="1642,410,1799,451"/>
<area shape="rect" id="node16" href="uptodate_8c.html#a9ab7505f2a6752f9d99c758bb08c7498" title="ocfs2_buffer_read_ahead" alt="" coords="1637,723,1805,749"/>
<area shape="rect" id="node17" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1671,773,1771,800"/>
<area shape="rect" id="node19" href="blockcheck_8c.html#a7325fea0531f0542e7852b65910296fd" title="ocfs2_validate_meta_ecc" alt="" coords="1403,523,1573,549"/>
<area shape="rect" id="node22" href="uptodate_8c.html#a3ec979ed6db1dd9207c685d695c1c696" title="ocfs2_metadata_cache_lock" alt="" coords="1627,228,1815,255"/>
<area shape="rect" id="node23" href="uptodate_8c.html#aa305461d2b0b2eb002e2725fd3b86b18" title="ocfs2_metadata_cache\l_unlock" alt="" coords="1642,279,1799,321"/>
<area shape="rect" id="node24" href="uptodate_8c.html#a3ec83901cda556c8cf351047f7b54e79" title="ocfs2_purge_copied\l_metadata_tree" alt="" coords="1651,345,1790,386"/>
<area shape="rect" id="node26" href="dlmglue_8c.html#a87eacfaa9aaed9138680545a5baf3a17" title="ocfs2_refcount_lock\l_res_init" alt="" coords="1187,75,1326,117"/>
<area shape="rect" id="node27" href="dlmglue_8c.html#a921be977b509be3d94adbde9aef04fae" title="ocfs2_lock_res_init_once" alt="" coords="1403,5,1573,32"/>
<area shape="rect" id="node28" href="dlmglue_8c.html#a0a0d04c4edcd1ffb9c1b722c9b183ad3" title="ocfs2_build_lock_name" alt="" coords="1409,56,1567,83"/>
<area shape="rect" id="node29" href="dlmglue_8c.html#a08e1a5f13a8b4fca8a256fdaf1ae3299" title="ocfs2_lock_res_init\l_common" alt="" coords="1421,107,1555,149"/>
<area shape="rect" id="node32" href="dlmglue_8c.html#a266c19358d548aa367411bec9b5b7c6c" title="ocfs2_simple_drop_lockres" alt="" coords="1167,413,1347,440"/>
<area shape="rect" id="node35" href="dlmglue_8c.html#aa1b849b786c375001acbfc62524f3e3d" title="ocfs2_lock_res_free" alt="" coords="1187,355,1326,381"/>
<area shape="rect" id="node33" href="dlmglue_8c.html#af23494c592bf38b59f3a3aaa370d665c" title="ocfs2_mark_lockres\l_freeing" alt="" coords="1419,406,1557,447"/>
<area shape="rect" id="node34" href="dlmglue_8c.html#a7ff7958fd028f5b1518716b56ddb5bf7" title="ocfs2_drop_lock" alt="" coords="1429,472,1547,499"/>
<area shape="rect" id="node36" href="dlmglue_8c.html#a7b4ebd29285440185a84a09a3f326d9b" title="ocfs2_remove_lockres\l_tracking" alt="" coords="1411,341,1565,382"/>
<area shape="rect" id="node39" href="dlmglue_8c.html#a2e5acb480fe23ec40a67f68086f94ea8" title="ocfs2_refcount_lock" alt="" coords="464,561,603,588"/>
<area shape="rect" id="node40" href="ocfs2_8h.html#a51e1d0086ac2d8afc66a67fb1d1a24df" title="ocfs2_is_hard_readonly" alt="" coords="691,587,850,613"/>
<area shape="rect" id="node41" href="ocfs2_8h.html#a9e7c0045acf58827ffc9bf875f2d31ba" title="ocfs2_mount_local" alt="" coords="705,536,836,563"/>
<area shape="rect" id="node42" href="dlmglue_8c.html#aeb468b623f6a01cacb1886e30528a2e9" title="ocfs2_cluster_lock" alt="" coords="705,637,836,664"/>
<area shape="rect" id="node43" href="dlmglue_8c.html#a4f52f49215c512866e4361635b48a88e" title="__ocfs2_cluster_lock" alt="" coords="949,637,1094,664"/>
<area shape="rect" id="node45" href="refcounttree_8c.html#a90918732a83d41d70ba680f933806ccb" title="ocfs2_kref_remove_refcount_tree" alt="" coords="663,384,879,411"/>
<area shape="rect" id="node47" href="dlmglue_8c.html#a98da24ffc7e31bc17006267d5d4ddf94" title="ocfs2_refcount_unlock" alt="" coords="457,435,610,461"/>
<area shape="rect" id="node48" href="dlmglue_8c.html#a4f616c4944213537551ed3ffd6a18d56" title="ocfs2_cluster_unlock" alt="" coords="698,435,843,461"/>
<area shape="rect" id="node50" href="refcounttree_8c.html#a118c94b3293a8365642b555c856ca234" title="ocfs2_erase_refcount\l_tree_from_list_no_lock" alt="" coords="453,638,613,679"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_icgraph.png" border="0" usemap="#refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_icgraph" alt=""/></div>
<map name="refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_icgraph" id="refcounttree_8h_a7d74fc9e3b073359bbd3747bce67b682_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8h.html#ad349a9842e74c6957ded49a7b5e8e703" title="ocfs2_xattr_remove" alt="" coords="492,5,629,32"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8c.html#a03ae7ec53a172dd03c90d08df26c14c2" title="ocfs2_prepare_refcount\l_xattr" alt="" coords="235,459,394,501"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8h.html#ad9ca1e7e3135555466255da0faf0838e" title="ocfs2_reflink_xattrs" alt="" coords="493,863,629,889"/>
<area shape="rect" id="node23" href="ocfs2_2alloc_8h.html#a2b9505829bc383022a1739deac61a349" title="ocfs2_remove_btree\l_range" alt="" coords="245,347,385,389"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="1155,645,1294,686"/>
<area shape="rect" id="node31" href="ocfs2_2alloc_8h.html#a3838e510209f9373c9f78f76b3ba3e3f" title="ocfs2_commit_truncate" alt="" coords="481,173,640,200"/>
<area shape="rect" id="node36" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="245,964,385,991"/>
<area shape="rect" id="node39" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="247,913,383,940"/>
<area shape="rect" id="node40" href="refcounttree_8c.html#ae379130647207806872013fdbe514b9d" title="ocfs2_set_refcount_tree" alt="" coords="233,711,396,737"/>
<area shape="rect" id="node41" href="refcounttree_8c.html#ab7d4e69a0e46294321e899a21b872363" title="ocfs2_create_reflink_node" alt="" coords="473,761,648,788"/>
<area shape="rect" id="node42" href="refcounttree_8h.html#a5caffc1289ebf9a9c6454660c98e1e3f" title="ocfs2_remove_refcount_tree" alt="" coords="221,275,408,301"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="227,580,402,607"/>
<area shape="rect" id="node50" href="refcounttree_8c.html#ad74ba2373ab211930bbd72ae7e6ca91c" title="ocfs2_attach_refcount_tree" alt="" coords="471,812,651,839"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="953,31,1079,57"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="1157,31,1292,57"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1357,31,1483,57"/>
<area shape="rect" id="node7" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="743,325,855,352"/>
<area shape="rect" id="node8" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="965,351,1067,377"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="933,452,1099,479"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="961,300,1071,327"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="937,503,1095,529"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="944,401,1088,428"/>
<area shape="rect" id="node9" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="1161,401,1288,428"/>
<area shape="rect" id="node10" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="1163,351,1287,377"/>
<area shape="rect" id="node12" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="1173,300,1276,327"/>
<area shape="rect" id="node11" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1371,300,1469,327"/>
<area shape="rect" id="node13" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="1370,199,1470,225"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="1147,199,1303,225"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#aff36b539227d81e01b41b7e4bc340a19" title="__ocfs2_reflink" alt="" coords="744,812,855,839"/>
<area shape="rect" id="node21" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="968,812,1064,839"/>
<area shape="rect" id="node22" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1164,812,1285,839"/>
<area shape="rect" id="node24" href="ocfs2_2dir_8h.html#a4cae0af69b14f47f94accb37f92a7323" title="ocfs2_dx_dir_truncate" alt="" coords="724,173,875,200"/>
<area shape="rect" id="node26" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="945,554,1087,595"/>
<area shape="rect" id="node25" href="ocfs2_2dir_8h.html#a8f08ca5cefcca5709e496cc10cfb6a08" title="ocfs2_add_entry" alt="" coords="1165,115,1284,141"/>
<area shape="rect" id="node27" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="1154,554,1295,595"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1351,674,1489,715"/>
<area shape="rect" id="node30" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1537,674,1676,715"/>
<area shape="rect" id="node32" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="733,224,865,251"/>
<area shape="rect" id="node35" href="ocfs2_2inode_8c.html#a51d2bf400409ed6e8c1addae690d7100" title="ocfs2_truncate_for\l_delete" alt="" coords="734,107,865,149"/>
<area shape="rect" id="node33" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="947,133,1085,174"/>
<area shape="rect" id="node34" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="937,199,1095,225"/>
<area shape="rect" id="node37" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="482,935,639,977"/>
<area shape="rect" id="node38" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="728,943,871,969"/>
<area shape="rect" id="node43" href="refcounttree_8h.html#aec9d1d24f28b164f82445b8b394d8f47" title="ocfs2_try_remove_refcount_tree" alt="" coords="456,275,665,301"/>
<area shape="rect" id="node45" href="refcounttree_8h.html#ab74fc9d4c56a00ba3af960e8129b4dc7" title="ocfs2_refcount_cow" alt="" coords="491,551,630,577"/>
<area shape="rect" id="node46" href="ocfs2_2file_8c.html#aa3f251bd087c39db0675e07076ce3598" title="ocfs2_cow_file_pos" alt="" coords="731,427,868,453"/>
<area shape="rect" id="node47" href="ocfs2_2file_8c.html#a29d83dc89dea9c3f9c3f898fb665a4f3" title="ocfs2_zero_extend_get\l_range" alt="" coords="721,478,878,519"/>
<area shape="rect" id="node48" href="ocfs2_2file_8c.html#ae25143cc5a9e7cd3af6a3c1e631f3ac1" title="ocfs2_prepare_inode\l_for_refcount" alt="" coords="728,543,871,585"/>
<area shape="rect" id="node49" href="ocfs2_2aops_8h.html#a3ff7132d9ee29a0eecdec3a95c833f18" title="ocfs2_write_begin_nolock" alt="" coords="713,609,885,636"/>
</map>
</div>

</div>
</div>
<a id="a3eb03a02618e8ea21e2bd9d0bb77f3d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb03a02618e8ea21e2bd9d0bb77f3d9">&#9670;&nbsp;</a></span>ocfs2_prepare_refcount_change_for_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_prepare_refcount_change_for_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>refcount_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>phys_blkno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>credits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ref_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_cgraph.png" border="0" usemap="#refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_cgraph" alt=""/></div>
<map name="refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_cgraph" id="refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_cgraph">
<area shape="rect" id="node2" href="ocfs2_8h.html#aa43491b3279a3977bcc7a2417f534b4f" title="ocfs2_blocks_to_clusters" alt="" coords="1131,21,1301,48"/>
<area shape="rect" id="node3" href="ocfs2_8h.html#a77586d88f8ccae045154d7379e23b961" title="ocfs2_refcount_tree" alt="" coords="225,1092,362,1119"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="212,436,375,463"/>
<area shape="rect" id="node6" href="refcounttree_8c.html#a268c9ffb2275286e9d2aa24b836ac07b" title="ocfs2_get_refcount_tree" alt="" coords="430,1268,593,1295"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="673,1042,813,1083"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#a3dfff47bccf3877882f205c72242d29b" title="ocfs2_calc_refcount\l_meta_credits" alt="" coords="224,845,363,886"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1177,332,1255,359"/>
<area shape="rect" id="node7" href="refcounttree_8c.html#ab05e76fdb0f2b134c7df401e3a4114ea" title="ocfs2_find_refcount_tree" alt="" coords="660,1479,825,1505"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a3c7a7216b461f9356a98e8f913212fde" title="ocfs2_allocate_refcount_tree" alt="" coords="648,1209,837,1236"/>
<area shape="rect" id="node17" href="uptodate_8c.html#a919da0b0d68a4ed60464c0897bfdbc90" title="ocfs2_metadata_cache_exit" alt="" coords="891,1375,1077,1401"/>
<area shape="rect" id="node18" href="uptodate_8c.html#a55bfc682a481c9bffb1d4259871b293a" title="ocfs2_metadata_cache\l_purge" alt="" coords="1137,1193,1295,1234"/>
<area shape="rect" id="node23" href="refcounttree_8c.html#a2d9ea27ef0d9554e65cd086a6a4137da" title="ocfs2_init_refcount\l_tree_lock" alt="" coords="677,1261,809,1302"/>
<area shape="rect" id="node25" href="refcounttree_8c.html#ad9f019df9239df8e664ed0826a6f1e8f" title="ocfs2_insert_refcount_tree" alt="" coords="655,1327,831,1353"/>
<area shape="rect" id="node26" href="refcounttree_8c.html#af23f9ed91551c4f3c8f71a2a223aa38b" title="ocfs2_free_refcount_tree" alt="" coords="659,1428,826,1455"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#ae8f92e9c89b7d198558363a2ec87fafd" title="ocfs2_init_refcount\l_tree_ci" alt="" coords="918,1210,1050,1251"/>
<area shape="rect" id="node11" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="922,1041,1046,1068"/>
<area shape="rect" id="node15" href="refcounttree_8c.html#a8e00c4c532cc6aa61020bd2242a14653" title="ocfs2_validate_refcount\l_block" alt="" coords="904,1093,1064,1134"/>
<area shape="rect" id="node12" href="buffer__head__io_8h.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="1151,1025,1281,1052"/>
<area shape="rect" id="node13" href="ocfs2_8h.html#a00eef5505a2e46ff0b0ba32149a1b802" title="ocfs2_metadata_cache\l_get_super" alt="" coords="1365,866,1522,907"/>
<area shape="rect" id="node14" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="1365,1069,1522,1110"/>
<area shape="rect" id="node16" href="blockcheck_8c.html#a7325fea0531f0542e7852b65910296fd" title="ocfs2_validate_meta_ecc" alt="" coords="1131,1127,1301,1153"/>
<area shape="rect" id="node20" href="uptodate_8c.html#a8e033a043bb31a9bd2e80e54fe799759" title="ocfs2_metadata_cache\l_reset" alt="" coords="1365,1337,1522,1378"/>
<area shape="rect" id="node19" href="uptodate_8c.html#a3ec979ed6db1dd9207c685d695c1c696" title="ocfs2_metadata_cache_lock" alt="" coords="1349,1141,1537,1168"/>
<area shape="rect" id="node21" href="uptodate_8c.html#aa305461d2b0b2eb002e2725fd3b86b18" title="ocfs2_metadata_cache\l_unlock" alt="" coords="1365,1193,1522,1234"/>
<area shape="rect" id="node22" href="uptodate_8c.html#a3ec83901cda556c8cf351047f7b54e79" title="ocfs2_purge_copied\l_metadata_tree" alt="" coords="1374,1258,1513,1299"/>
<area shape="rect" id="node24" href="dlmglue_8c.html#a87eacfaa9aaed9138680545a5baf3a17" title="ocfs2_refcount_lock\l_res_init" alt="" coords="915,1275,1053,1317"/>
<area shape="rect" id="node27" href="dlmglue_8c.html#a266c19358d548aa367411bec9b5b7c6c" title="ocfs2_simple_drop_lockres" alt="" coords="894,1428,1074,1455"/>
<area shape="rect" id="node28" href="dlmglue_8c.html#aa1b849b786c375001acbfc62524f3e3d" title="ocfs2_lock_res_free" alt="" coords="915,1479,1053,1505"/>
<area shape="rect" id="node30" href="refcounttree_8c.html#ac86271444dfa7b1bad7297b515142e5a" title="ocfs2_get_refcount_rec" alt="" coords="432,852,591,879"/>
<area shape="rect" id="node34" href="ocfs2_2alloc_8c.html#a61a270630689a250e51fca35ff62431f" title="ocfs2_init_refcount\l_extent_tree" alt="" coords="918,925,1050,966"/>
<area shape="rect" id="node37" href="ocfs2_2alloc_8h.html#a95da12647f3cb6c62609865d60714e3b" title="ocfs2_extend_meta_needed" alt="" coords="650,513,835,540"/>
<area shape="rect" id="node50" href="journal_8h.html#a06ec2d68135ee5e4cf254e2c948302e7" title="ocfs2_calc_extend_credits" alt="" coords="423,629,600,656"/>
<area shape="rect" id="node31" href="refcounttree_8c.html#ac755afa127b398d63c47d621530292fb" title="ocfs2_find_refcount\l_rec_in_rl" alt="" coords="675,706,811,747"/>
<area shape="rect" id="node32" href="ocfs2_2alloc_8c.html#afcb532375af5e443af3d881f60de906d" title="ocfs2_find_leaf" alt="" coords="687,772,798,799"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#af91a03212cfd7505b1404cd575a2bc8e" title="ocfs2_get_refcount\l_cpos_end" alt="" coords="676,874,809,915"/>
<area shape="rect" id="node35" href="ocfs2_2alloc_8c.html#abff2756478def2e234b593664f079031" title="__ocfs2_init_extent_tree" alt="" coords="1134,975,1298,1001"/>
<area shape="rect" id="node36" href="ocfs2_2journal_8c.html#a7b5e644e5506f1537029ae2c3dac5b98" title="ocfs2_journal_access_rb" alt="" coords="1133,924,1299,951"/>
<area shape="rect" id="node38" href="ocfs2_2alloc_8h.html#ac80d026eaddde6911666bd15383537ac" title="ocfs2_dinode_new_extent_list" alt="" coords="885,488,1083,515"/>
<area shape="rect" id="node39" href="ocfs2_2alloc_8h.html#ae6bf12ee8f3ef812730ef03a3af4de7c" title="ocfs2_set_inode_data\l_inline" alt="" coords="909,291,1059,333"/>
<area shape="rect" id="node40" href="ocfs2_2alloc_8h.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="913,357,1055,398"/>
<area shape="rect" id="node41" href="ocfs2_2alloc_8h.html#ab3d0dec95e8b711aa46b7453ff2cd3ce" title="ocfs2_truncate_log_init" alt="" coords="906,539,1062,565"/>
<area shape="rect" id="node42" href="ocfs2_2alloc_8h.html#a0f5d1257326643dd958df26d6f7daf9b" title="ocfs2_truncate_log\l_shutdown" alt="" coords="918,590,1050,631"/>
<area shape="rect" id="node43" href="ocfs2_2alloc_8h.html#a22c510ed4e868a35a9261d5686206eba" title="ocfs2_schedule_truncate\l_log_flush" alt="" coords="901,655,1067,697"/>
<area shape="rect" id="node44" href="ocfs2_2alloc_8h.html#ad73e43105443d8bd105d8ce11b040cad" title="ocfs2_flush_truncate_log" alt="" coords="901,721,1067,748"/>
<area shape="rect" id="node45" href="ocfs2_2alloc_8h.html#af87a52ce61d707e4175dee36be4f8605" title="ocfs2_begin_truncate\l_log_recovery" alt="" coords="911,161,1057,202"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8h.html#a3fea3c5c4174ec72b0ea44bf51685c0d" title="ocfs2_complete_truncate\l_log_recovery" alt="" coords="900,422,1068,463"/>
<area shape="rect" id="node47" href="ocfs2_2alloc_8h.html#ac09620f93bcbf2745b1ee15e6b0124c1" title="ocfs2_truncate_log\l_needs_flush" alt="" coords="918,226,1050,267"/>
<area shape="rect" id="node48" href="ocfs2_2alloc_8h.html#a9e9def9047b802c4223e3e9f4508c593" title="ocfs2_truncate_log\l_append" alt="" coords="918,43,1050,85"/>
<area shape="rect" id="node49" href="ocfs2_2alloc_8h.html#ae2ad77b51044eda9228d7ea599e156e3" title="__ocfs2_flush_truncate_log" alt="" coords="893,772,1075,799"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_icgraph.png" border="0" usemap="#refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_icgraph" alt=""/></div>
<map name="refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_icgraph" id="refcounttree_8h_a3eb03a02618e8ea21e2bd9d0bb77f3d9_icgraph">
<area shape="rect" id="node2" href="ocfs2_2alloc_8h.html#a2b9505829bc383022a1739deac61a349" title="ocfs2_remove_btree\l_range" alt="" coords="212,136,352,177"/>
<area shape="rect" id="node49" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="405,63,545,90"/>
<area shape="rect" id="node50" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="599,13,735,39"/>
<area shape="rect" id="node3" href="ocfs2_2dir_8h.html#a4cae0af69b14f47f94accb37f92a7323" title="ocfs2_dx_dir_truncate" alt="" coords="400,507,551,534"/>
<area shape="rect" id="node15" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="1325,71,1468,112"/>
<area shape="rect" id="node34" href="ocfs2_2alloc_8h.html#a3838e510209f9373c9f78f76b3ba3e3f" title="ocfs2_commit_truncate" alt="" coords="1317,187,1476,214"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="603,533,730,559"/>
<area shape="rect" id="node47" href="ocfs2_2dir_8h.html#a8f08ca5cefcca5709e496cc10cfb6a08" title="ocfs2_add_entry" alt="" coords="1141,867,1259,894"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="783,533,917,559"/>
<area shape="rect" id="node6" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="965,533,1092,559"/>
<area shape="rect" id="node7" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="1140,482,1260,509"/>
<area shape="rect" id="node8" href="ocfs2_2acl_8c.html#ad8155a643e529db15d8918377f98abd8" title="ocfs2_acl_set_mode" alt="" coords="1325,238,1468,265"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8c.html#a96c43b719a7120c59e84896221db877d" title="ocfs2_init_xattr_bucket" alt="" coords="1318,289,1475,315"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#ad1aa05ef05d854e39ea3cd5ec6a50827" title="ocfs2_read_xattr_bucket" alt="" coords="1314,339,1479,366"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#aa07bd6873d99f2122a3b550bf277be6f" title="ocfs2_xattr_bucket\l_journal_access" alt="" coords="1330,391,1463,432"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#a42d360253b794d1a8e5e52b1c3036700" title="ocfs2_read_xattr_block" alt="" coords="1318,457,1475,483"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="1330,559,1463,600"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#ae6b808966b9f4dc5de011d7b23269e71" title="__ocfs2_remove_xattr\l_range" alt="" coords="1321,624,1472,665"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="1535,459,1674,500"/>
<area shape="rect" id="node25" href="ocfs2_2inode_8c.html#a51d2bf400409ed6e8c1addae690d7100" title="ocfs2_truncate_for\l_delete" alt="" coords="1539,683,1670,724"/>
<area shape="rect" id="node26" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="1347,893,1447,919"/>
<area shape="rect" id="node29" href="ocfs2_2namei_8c.html#a407460229ee2fbf7ab6ee03e7e000407" title="ocfs2_link" alt="" coords="1356,842,1437,869"/>
<area shape="rect" id="node30" href="ocfs2_2namei_8c.html#a7e52237e2e01c71acd11510cbd85fc93" title="ocfs2_rename" alt="" coords="1345,741,1449,767"/>
<area shape="rect" id="node31" href="namei_8h.html#ac12dc81df6540369f9e03f9547d8e554" title="ocfs2_mv_orphaned_inode\l_to_new" alt="" coords="1308,944,1485,985"/>
<area shape="rect" id="node44" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="1318,5,1475,47"/>
<area shape="rect" id="node45" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="1533,137,1676,163"/>
<area shape="rect" id="node16" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="1534,71,1675,112"/>
<area shape="rect" id="node17" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="1727,31,1896,58"/>
<area shape="rect" id="node19" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="1756,82,1867,109"/>
<area shape="rect" id="node18" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1989,82,2075,109"/>
<area shape="rect" id="node21" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1742,459,1881,500"/>
<area shape="rect" id="node22" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1963,459,2101,500"/>
<area shape="rect" id="node23" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="2171,441,2326,467"/>
<area shape="rect" id="node24" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="2165,491,2332,518"/>
<area shape="rect" id="node27" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1558,846,1651,873"/>
<area shape="rect" id="node28" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1556,897,1653,923"/>
<area shape="rect" id="node32" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1557,951,1653,978"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1751,951,1872,978"/>
<area shape="rect" id="node35" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="1539,217,1671,243"/>
<area shape="rect" id="node36" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1762,183,1861,210"/>
<area shape="rect" id="node37" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1742,235,1881,276"/>
<area shape="rect" id="node40" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="1733,301,1890,327"/>
<area shape="rect" id="node38" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="1951,242,2113,269"/>
<area shape="rect" id="node39" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="2191,242,2306,269"/>
<area shape="rect" id="node41" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="1947,301,2117,327"/>
<area shape="rect" id="node42" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="2175,347,2322,374"/>
<area shape="rect" id="node43" href="journal_8h.html#a1f4038c3558ccccf97b75aeeb079c898" title="ocfs2_ci_set_new" alt="" coords="2185,297,2312,323"/>
<area shape="rect" id="node46" href="move__extents_8h.html#a8118a964c75a4ea3b2896fd3bd37f5af" title="ocfs2_ioctl_move_extents" alt="" coords="1724,133,1899,159"/>
<area shape="rect" id="node48" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1343,1010,1450,1037"/>
</map>
</div>

</div>
</div>
<a id="a39846a496c344da657152e5be134667b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39846a496c344da657152e5be134667b">&#9670;&nbsp;</a></span>ocfs2_purge_refcount_trees()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_purge_refcount_trees </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *&#160;</td>
          <td class="paramname"><em>osb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a39846a496c344da657152e5be134667b_cgraph.png" border="0" usemap="#refcounttree_8h_a39846a496c344da657152e5be134667b_cgraph" alt=""/></div>
<map name="refcounttree_8h_a39846a496c344da657152e5be134667b_cgraph" id="refcounttree_8h_a39846a496c344da657152e5be134667b_cgraph">
<area shape="rect" id="node2" href="refcounttree_8c.html#af23f9ed91551c4f3c8f71a2a223aa38b" title="ocfs2_free_refcount_tree" alt="" coords="200,839,367,866"/>
<area shape="rect" id="node3" href="uptodate_8c.html#a919da0b0d68a4ed60464c0897bfdbc90" title="ocfs2_metadata_cache_exit" alt="" coords="415,130,600,157"/>
<area shape="rect" id="node10" href="dlmglue_8c.html#a266c19358d548aa367411bec9b5b7c6c" title="ocfs2_simple_drop_lockres" alt="" coords="417,839,597,866"/>
<area shape="rect" id="node40" href="dlmglue_8c.html#aa1b849b786c375001acbfc62524f3e3d" title="ocfs2_lock_res_free" alt="" coords="438,966,577,993"/>
<area shape="rect" id="node4" href="uptodate_8c.html#a55bfc682a481c9bffb1d4259871b293a" title="ocfs2_metadata_cache\l_purge" alt="" coords="648,123,805,164"/>
<area shape="rect" id="node7" href="uptodate_8c.html#a8e033a043bb31a9bd2e80e54fe799759" title="ocfs2_metadata_cache\l_reset" alt="" coords="870,5,1027,47"/>
<area shape="rect" id="node5" href="uptodate_8c.html#a3ec979ed6db1dd9207c685d695c1c696" title="ocfs2_metadata_cache_lock" alt="" coords="855,71,1043,98"/>
<area shape="rect" id="node6" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="870,123,1027,164"/>
<area shape="rect" id="node8" href="uptodate_8c.html#aa305461d2b0b2eb002e2725fd3b86b18" title="ocfs2_metadata_cache\l_unlock" alt="" coords="870,188,1027,229"/>
<area shape="rect" id="node9" href="uptodate_8c.html#a3ec83901cda556c8cf351047f7b54e79" title="ocfs2_purge_copied\l_metadata_tree" alt="" coords="879,253,1018,295"/>
<area shape="rect" id="node11" href="dlmglue_8c.html#af23494c592bf38b59f3a3aaa370d665c" title="ocfs2_mark_lockres\l_freeing" alt="" coords="657,973,796,1015"/>
<area shape="rect" id="node36" href="dlmglue_8c.html#a7ff7958fd028f5b1518716b56ddb5bf7" title="ocfs2_drop_lock" alt="" coords="668,697,785,723"/>
<area shape="rect" id="node12" href="dlmglue_8c.html#a1c795587f9164f980a3dca17d8218b1d" title="ocfs2_init_mask_waiter" alt="" coords="869,1082,1028,1109"/>
<area shape="rect" id="node14" href="dlmglue_8c.html#ae0c086cef1ceb87e2b3dadeb0222258e" title="ocfs2_process_blocked_lock" alt="" coords="853,762,1044,789"/>
<area shape="rect" id="node34" href="dlmglue_8c.html#a5bc90657ee342036e5612ae76b66b839" title="lockres_add_mask_waiter" alt="" coords="862,981,1035,1007"/>
<area shape="rect" id="node35" href="dlmglue_8c.html#a789c2e0bfa3f61b08c05fc40d4a7df12" title="ocfs2_wait_for_mask" alt="" coords="875,1031,1022,1058"/>
<area shape="rect" id="node13" href="dlmglue_8c.html#a3c5c92adb50e2850cd150ef1137b4e5f" title="ocfs2_init_start_time" alt="" coords="1119,1133,1261,1159"/>
<area shape="rect" id="node15" href="dlmglue_8c.html#a591501bc47276f16fa703e42fc165787" title="ocfs2_unblock_lock" alt="" coords="1121,762,1259,789"/>
<area shape="rect" id="node21" href="dlmglue_8c.html#a71013118b51255ce41c8148bd3ae1256" title="lockres_clear_flags" alt="" coords="2007,873,2142,899"/>
<area shape="rect" id="node33" href="dlmglue_8c.html#ac499e65b7d9e5fa49e5faa6037ed3fe8" title="ocfs2_schedule_blocked_lock" alt="" coords="1092,571,1288,598"/>
<area shape="rect" id="node16" href="dlmglue_8c.html#a3f385409e2ec9e78f9ac7d8425378741" title="ocfs2_prepare_cancel\l_convert" alt="" coords="1354,849,1503,891"/>
<area shape="rect" id="node17" href="dlmglue_8c.html#a53832fee850f1a585baae052d488cf76" title="ocfs2_cancel_convert" alt="" coords="1354,798,1503,825"/>
<area shape="rect" id="node23" href="dlmglue_8c.html#a0e2e370be399914913425c2e0ec95f95" title="ocfs2_highest_compat\l_lock_level" alt="" coords="1352,915,1505,956"/>
<area shape="rect" id="node24" href="dlmglue_8c.html#a622a34c98262f90f92e8b17d015f0b9b" title="ocfs2_prepare_downconvert" alt="" coords="1336,471,1521,498"/>
<area shape="rect" id="node27" href="dlmglue_8c.html#a3cfa93f943ff421aa94f9cab53f014e5" title="ocfs2_downconvert_lock" alt="" coords="1345,646,1512,673"/>
<area shape="rect" id="node18" href="stackglue_8c.html#a6d77aad5198c0b357fe9e39148ac2131" title="ocfs2_dlm_unlock" alt="" coords="1581,797,1708,823"/>
<area shape="rect" id="node20" href="dlmglue_8c.html#a566034c585bf11c1a1d496d66bab9586" title="ocfs2_recover_from\l_dlm_error" alt="" coords="1576,899,1713,940"/>
<area shape="rect" id="node19" href="stackglue_8c.html#a15052933b776705ee3821e1804f38e1f" title="EXPORT_SYMBOL_GPL" alt="" coords="1768,693,1940,719"/>
<area shape="rect" id="node22" href="dlmglue_8c.html#a2f5ae82be6decde9f94541fcdf939d75" title="lockres_set_flags" alt="" coords="2209,741,2333,767"/>
<area shape="rect" id="node25" href="dlmglue_8c.html#abc90cbec96bfe0b692d9a781ec798723" title="lockres_or_flags" alt="" coords="1795,421,1913,447"/>
<area shape="rect" id="node26" href="dlmglue_8c.html#ab25bcf9d4de96c53cdbcfdcccfa74f54" title="lockres_set_pending" alt="" coords="1574,471,1715,498"/>
<area shape="rect" id="node28" href="stackglue_8c.html#a308b2d39d10f726065c8394cdfd886ea" title="ocfs2_is_o2cb_active" alt="" coords="1571,722,1719,749"/>
<area shape="rect" id="node29" href="stackglue_8c.html#abcc03082f5844e9d4a6c19ddc3249131" title="ocfs2_dlm_lock" alt="" coords="1588,647,1701,674"/>
<area shape="rect" id="node30" href="dlmglue_8c.html#a57af20088d743da331d9bad5c5f905d7" title="lockres_clear_pending" alt="" coords="1569,522,1720,549"/>
<area shape="rect" id="node31" href="dlmglue_8c.html#a78422d0adcd56812aa2bd9d153a77488" title="__lockres_clear_pending" alt="" coords="1771,567,1937,594"/>
<area shape="rect" id="node32" href="dlmglue_8c.html#adab2a2238011759a09a4406d6a93bed8" title="ocfs2_wake_downconvert\l_thread" alt="" coords="1988,560,2161,601"/>
<area shape="rect" id="node37" href="dlmglue_8c.html#a2d4038bf018d268fe9a2a8a3de3c2f9a" title="ocfs2_wait_on_busy_lock" alt="" coords="863,558,1035,585"/>
<area shape="rect" id="node39" href="stackglue_8c.html#a513a952d80b15cfa95d8bfa8159a802b" title="ocfs2_dlm_dump_lksb" alt="" coords="1114,646,1266,673"/>
<area shape="rect" id="node38" href="dlmglue_8c.html#af6a5a646a5bbfe85ba1241bae7686d74" title="ocfs2_check_wait_flag" alt="" coords="1113,521,1267,547"/>
<area shape="rect" id="node41" href="dlmglue_8c.html#a7b4ebd29285440185a84a09a3f326d9b" title="ocfs2_remove_lockres\l_tracking" alt="" coords="650,1176,803,1217"/>
<area shape="rect" id="node42" href="dlmglue_8c.html#a6f0334d5bd7f4db6f82d49fb52817190" title="ocfs2_init_lock_stats" alt="" coords="876,1285,1021,1311"/>
<area shape="rect" id="node43" href="dlmglue_8c.html#a371a57db50fd320eb4cbb6e3c558012a" title="ocfs2_update_lock_stats" alt="" coords="865,1133,1032,1159"/>
<area shape="rect" id="node44" href="dlmglue_8c.html#afbaaff863c41afadce23838f78bc303a" title="ocfs2_track_lock_refresh" alt="" coords="865,1234,1033,1261"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a39846a496c344da657152e5be134667b_icgraph.png" border="0" usemap="#refcounttree_8h_a39846a496c344da657152e5be134667b_icgraph" alt=""/></div>
<map name="refcounttree_8h_a39846a496c344da657152e5be134667b_icgraph" id="refcounttree_8h_a39846a496c344da657152e5be134667b_icgraph">
<area shape="rect" id="node2" href="ocfs2_2super_8c.html#ab8ac59c1ccfd6cef5e59b3a07541d4a7" title="ocfs2_dismount_volume" alt="" coords="200,31,363,57"/>
<area shape="rect" id="node3" href="ocfs2_2super_8c.html#aae09c84567eb36b012612fa7f187c3ee" title="ocfs2_fill_super" alt="" coords="413,5,527,32"/>
<area shape="rect" id="node5" href="ocfs2_2super_8c.html#a1ca57750a666c39bec18126d25fcf956" title="ocfs2_put_super" alt="" coords="411,56,529,83"/>
<area shape="rect" id="node4" href="ocfs2_2super_8c.html#aca38f76e33cde96ed91b51148bcdc947" title="ocfs2_mount" alt="" coords="577,5,675,32"/>
</map>
</div>

</div>
</div>
<a id="ab74fc9d4c56a00ba3af960e8129b4dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab74fc9d4c56a00ba3af960e8129b4dc7">&#9670;&nbsp;</a></span>ocfs2_refcount_cow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_refcount_cow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>di_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>write_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>max_cpos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_cgraph.png" border="0" usemap="#refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_cgraph" alt=""/></div>
<map name="refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_cgraph" id="refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_cgraph">
<area shape="rect" id="node2" href="ocfs2_2extent__map_8c.html#a7278b9927aa491a4ba3d34be8e465fb5" title="ocfs2_get_clusters" alt="" coords="683,504,815,531"/>
<area shape="rect" id="node24" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="192,823,367,849"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1807,624,1884,651"/>
<area shape="rect" id="node4" href="ocfs2_2extent__map_8c.html#ad453a07d18a6afae72ab99d5c999fbed" title="ocfs2_extent_map_lookup" alt="" coords="897,341,1072,368"/>
<area shape="rect" id="node6" href="ocfs2_2inode_8c.html#a116c75eb1ad6164b78b79336b036f7a5" title="ocfs2_read_inode_block" alt="" coords="903,584,1066,611"/>
<area shape="rect" id="node11" href="ocfs2_2extent__map_8c.html#abd2b946ac36f6e29f60db86dc4981542" title="ocfs2_get_clusters\l_nocache" alt="" coords="919,497,1051,538"/>
<area shape="rect" id="node19" href="ocfs2_2extent__map_8c.html#adca7bcdf932658095eada461712a0efa" title="ocfs2_relative_extent\l_offsets" alt="" coords="911,27,1058,69"/>
<area shape="rect" id="node21" href="ocfs2_2extent__map_8c.html#aa718b2baf39ee46e983bf73f11af90b5" title="ocfs2_extent_map_insert_rec" alt="" coords="888,123,1081,149"/>
<area shape="rect" id="node5" href="ocfs2_2extent__map_8c.html#a27564bf16a85af7e7f581ca3c62a597d" title="__ocfs2_extent_map\l_lookup" alt="" coords="1151,275,1294,317"/>
<area shape="rect" id="node7" href="ocfs2_2inode_8c.html#a404bb21b7be250602bb140de5f739862" title="ocfs2_read_inode_block_full" alt="" coords="1129,595,1316,621"/>
<area shape="rect" id="node8" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="1387,624,1507,651"/>
<area shape="rect" id="node9" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1605,573,1732,600"/>
<area shape="rect" id="node10" href="ocfs2_2inode_8h.html#a67e39a4048271bf7ac384399f21964ac" title="ocfs2_drop_inode" alt="" coords="1607,624,1731,651"/>
<area shape="rect" id="node12" href="ocfs2_2alloc_8c.html#afcb532375af5e443af3d881f60de906d" title="ocfs2_find_leaf" alt="" coords="1392,725,1503,752"/>
<area shape="rect" id="node13" href="ocfs2_2alloc_8c.html#a1bc6a132a6423a314f5e1d5d62a80fc2" title="ocfs2_search_extent_list" alt="" coords="1139,392,1306,419"/>
<area shape="rect" id="node14" href="ocfs2_2alloc_8h.html#a7c922efc185f61b6dde52779ee0fdaf3" title="ocfs2_rec_clusters" alt="" coords="1381,417,1513,444"/>
<area shape="rect" id="node15" href="ocfs2_2extent__map_8c.html#a7db27e78a3e1fb8e1f92ff31e373f748" title="ocfs2_figure_hole_clusters" alt="" coords="1134,493,1311,520"/>
<area shape="rect" id="node17" href="ocfs2_2extent__map_8c.html#a7160879ee75e674e4fed921de5c037ed" title="ocfs2_last_eb_is_empty" alt="" coords="1141,645,1304,672"/>
<area shape="rect" id="node16" href="ocfs2_2alloc_8c.html#a2916fac51e64301d487eeb6059ab6689" title="ocfs2_read_extent_block" alt="" coords="1364,573,1531,600"/>
<area shape="rect" id="node18" href="ocfs2_2alloc_8h.html#aed06d66566f65fb35d3c7983e789657e" title="ocfs2_is_empty_extent" alt="" coords="1369,675,1526,701"/>
<area shape="rect" id="node20" href="ocfs2_8h.html#aa43491b3279a3977bcc7a2417f534b4f" title="ocfs2_blocks_to_clusters" alt="" coords="1137,5,1308,32"/>
<area shape="rect" id="node22" href="ocfs2_2extent__map_8c.html#af7d32c101c4ccd56a0c7a336417dfe92" title="ocfs2_try_to_merge\l_extent_map" alt="" coords="1154,57,1291,98"/>
<area shape="rect" id="node23" href="ocfs2_2extent__map_8c.html#a183ada1ee594bc67ee9a68f48026a8a9" title="ocfs2_copy_emi_fields" alt="" coords="1370,93,1525,120"/>
<area shape="rect" id="node25" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="1587,903,1750,929"/>
<area shape="rect" id="node26" href="refcounttree_8c.html#ad988b5e217efc1df0e64b2ef54eefbaf" title="ocfs2_refcount_cal\l_cow_clusters" alt="" coords="1157,798,1289,839"/>
<area shape="rect" id="node30" href="refcounttree_8c.html#a47f2e77e556b503b9b1628d2a1148e02" title="ocfs2_lock_refcount_tree" alt="" coords="428,1025,596,1052"/>
<area shape="rect" id="node36" href="refcounttree_8c.html#a7627ae96daac325b588a37af9857dcda" title="ocfs2_unlock_refcount_tree" alt="" coords="657,899,840,925"/>
<area shape="rect" id="node38" href="refcounttree_8c.html#a5a7e005aa87fe239ba4762b704efdfa3" title="ocfs2_duplicate_clusters\l_by_page" alt="" coords="429,1465,595,1506"/>
<area shape="rect" id="node45" href="refcounttree_8c.html#a2795f1b29af00bb48c04f8b5dada5b3e" title="ocfs2_di_get_clusters" alt="" coords="437,631,587,657"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8c.html#a2a0a375592f79f3b152e7d91094ca39a" title="ocfs2_init_dinode_extent_tree" alt="" coords="415,453,609,480"/>
<area shape="rect" id="node49" href="refcounttree_8c.html#ab2bb74d582483f762856506528898a9f" title="ocfs2_replace_cow" alt="" coords="445,797,579,824"/>
<area shape="rect" id="node50" href="ocfs2_2extent__map_8c.html#ad32d248efc9ba93083000a833d41a8bf" title="ocfs2_extent_map_trunc" alt="" coords="1586,1121,1751,1148"/>
<area shape="rect" id="node27" href="refcounttree_8c.html#ace914ee309424915338168c6cd4a5a51" title="ocfs2_cow_contig_clusters" alt="" coords="1579,801,1759,828"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a0005a73ad57cafc1bc96803c2311a782" title="ocfs2_cow_align_length" alt="" coords="1367,776,1528,803"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#ab94a08687211ab90d910d3e16c755e4e" title="ocfs2_cow_align_start" alt="" coords="1371,877,1523,904"/>
<area shape="rect" id="node31" href="refcounttree_8c.html#a268c9ffb2275286e9d2aa24b836ac07b" title="ocfs2_get_refcount_tree" alt="" coords="667,1000,830,1027"/>
<area shape="rect" id="node32" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="915,1102,1055,1143"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a945392b51d0c0289499c745124be12f4" title="ocfs2_refcount_tree_get" alt="" coords="667,1051,830,1077"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#a6cdd72ca599da67275d103f350a81333" title="__ocfs2_lock_refcount_tree" alt="" coords="657,1101,840,1128"/>
<area shape="rect" id="node35" href="refcounttree_8c.html#aacc13eaaba0752eb0f150920e930c6d8" title="ocfs2_refcount_tree_put" alt="" coords="903,933,1066,960"/>
<area shape="rect" id="node37" href="refcounttree_8c.html#ad4ba8cd64d83ecf43ffa6292c30b8c37" title="ocfs2_erase_refcount\l_tree_from_list" alt="" coords="675,1153,822,1194"/>
<area shape="rect" id="node39" href="ocfs2_8h.html#ac2f56aa03d88002b636baddba9bee355" title="ocfs2_clusters_to_blocks" alt="" coords="663,1421,834,1448"/>
<area shape="rect" id="node40" href="buffer_8c.html#a3ec843565084d7bd0c0951c1000bf3e1" title="block_read_full_page" alt="" coords="677,1472,821,1499"/>
<area shape="rect" id="node41" href="ocfs2_2aops_8c.html#a0e0775998cac0303bdc35acf24be1918" title="ocfs2_get_block" alt="" coords="1610,1371,1727,1397"/>
<area shape="rect" id="node42" href="ocfs2_2aops_8c.html#a6338ab8fbf68e48134aaa2f8ebed7fd5" title="walk_page_buffers" alt="" coords="919,1573,1050,1600"/>
<area shape="rect" id="node43" href="refcounttree_8c.html#afa2bcbe2a7ab076872eaa0de94541de3" title="ocfs2_clear_cow_buffer" alt="" coords="669,1573,829,1600"/>
<area shape="rect" id="node44" href="ocfs2_2alloc_8c.html#ac78ab1cf44d5b137a85d9b8444bfa7f6" title="ocfs2_map_and_dirty_page" alt="" coords="658,1523,839,1549"/>
<area shape="rect" id="node47" href="ocfs2_2alloc_8c.html#abff2756478def2e234b593664f079031" title="__ocfs2_init_extent_tree" alt="" coords="667,403,831,429"/>
<area shape="rect" id="node48" href="ocfs2_2journal_8c.html#adbe5ddac64ed85d991ab4983a5cb4c1e" title="ocfs2_journal_access_di" alt="" coords="666,453,831,480"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_icgraph.png" border="0" usemap="#refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_icgraph" alt=""/></div>
<map name="refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_icgraph" id="refcounttree_8h_ab74fc9d4c56a00ba3af960e8129b4dc7_icgraph">
<area shape="rect" id="node2" href="ocfs2_2file_8c.html#aa3f251bd087c39db0675e07076ce3598" title="ocfs2_cow_file_pos" alt="" coords="400,215,537,241"/>
<area shape="rect" id="node30" href="ocfs2_2file_8c.html#a29d83dc89dea9c3f9c3f898fb665a4f3" title="ocfs2_zero_extend_get\l_range" alt="" coords="192,478,349,519"/>
<area shape="rect" id="node35" href="ocfs2_2aops_8h.html#a3ff7132d9ee29a0eecdec3a95c833f18" title="ocfs2_write_begin_nolock" alt="" coords="1031,589,1203,616"/>
<area shape="rect" id="node48" href="ocfs2_2file_8c.html#ae25143cc5a9e7cd3af6a3c1e631f3ac1" title="ocfs2_prepare_inode\l_for_refcount" alt="" coords="199,653,342,694"/>
<area shape="rect" id="node3" href="ocfs2_2file_8c.html#a29696f2a43103ea646a4e9dd791cab23" title="ocfs2_orphan_for_truncate" alt="" coords="588,215,764,241"/>
<area shape="rect" id="node20" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="605,135,747,177"/>
<area shape="rect" id="node4" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="831,215,963,241"/>
<area shape="rect" id="node5" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1067,316,1166,343"/>
<area shape="rect" id="node6" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1047,250,1186,291"/>
<area shape="rect" id="node9" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="1867,228,2024,255"/>
<area shape="rect" id="node7" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="1251,500,1413,527"/>
<area shape="rect" id="node8" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="1487,500,1602,527"/>
<area shape="rect" id="node10" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="2072,287,2243,313"/>
<area shape="rect" id="node11" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="2291,260,2437,287"/>
<area shape="rect" id="node14" href="journal_8h.html#a1f4038c3558ccccf97b75aeeb079c898" title="ocfs2_ci_set_new" alt="" coords="2301,312,2427,339"/>
<area shape="rect" id="node12" href="ocfs2_2super_8c.html#aae09c84567eb36b012612fa7f187c3ee" title="ocfs2_fill_super" alt="" coords="2508,257,2621,284"/>
<area shape="rect" id="node13" href="ocfs2_2super_8c.html#aca38f76e33cde96ed91b51148bcdc947" title="ocfs2_mount" alt="" coords="2716,253,2813,280"/>
<area shape="rect" id="node15" href="ocfs2_2namei_8c.html#abfcd967c07c863371ac05be77b16c47b" title="__ocfs2_mknod_locked" alt="" coords="2485,312,2644,339"/>
<area shape="rect" id="node16" href="ocfs2_2namei_8c.html#a3431706f8cc24382fc0c00d07f95c24b" title="ocfs2_mknod_locked" alt="" coords="2692,371,2837,397"/>
<area shape="rect" id="node19" href="namei_8h.html#a33ecd2392f71252d3c6e3b31f53ae74a" title="ocfs2_create_inode\l_in_orphan" alt="" coords="2697,305,2832,346"/>
<area shape="rect" id="node17" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="2889,345,2989,372"/>
<area shape="rect" id="node18" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="2885,396,2992,423"/>
<area shape="rect" id="node21" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="827,70,968,111"/>
<area shape="rect" id="node25" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="828,135,967,177"/>
<area shape="rect" id="node22" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="1032,29,1201,56"/>
<area shape="rect" id="node24" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="1061,80,1172,107"/>
<area shape="rect" id="node23" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1289,29,1375,56"/>
<area shape="rect" id="node26" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1047,133,1186,174"/>
<area shape="rect" id="node27" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1263,133,1401,174"/>
<area shape="rect" id="node28" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="1467,144,1622,171"/>
<area shape="rect" id="node29" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="1461,93,1628,120"/>
<area shape="rect" id="node31" href="file_8h.html#ac93bb34113f817c3ebb8d60810741827" title="ocfs2_zero_extend" alt="" coords="403,455,535,481"/>
<area shape="rect" id="node32" href="file_8h.html#a286882c0771e7dd7cd5bb60e9a635346" title="ocfs2_extend_no_holes" alt="" coords="597,408,755,435"/>
<area shape="rect" id="node33" href="ocfs2_2file_8c.html#a036f93658584b3bf043fb99bc004a82d" title="ocfs2_extend_file" alt="" coords="835,265,959,292"/>
<area shape="rect" id="node47" href="ocfs2_2aops_8c.html#aa7a0e5944e4a23fb6094a131e9262ab2" title="ocfs2_zero_tail" alt="" coords="842,551,953,577"/>
<area shape="rect" id="node34" href="ocfs2_2aops_8c.html#a749e68cf8e8632c010858f5f615b1526" title="ocfs2_expand_nonsparse\l_inode" alt="" coords="812,485,983,526"/>
<area shape="rect" id="node39" href="quota__global_8c.html#ad6bb179ee20b575ef71007f5653b0fb0" title="ocfs2_acquire_dquot" alt="" coords="1473,417,1616,444"/>
<area shape="rect" id="node40" href="quota__local_8c.html#a69678330f53909990329af8c06f5dee0" title="ocfs2_local_quota_add\l_chunk" alt="" coords="820,317,975,358"/>
<area shape="rect" id="node41" href="quota__local_8c.html#a4f5cb31f25853e535ff9d96c75b55d09" title="ocfs2_extend_local\l_quota_file" alt="" coords="1049,367,1184,409"/>
<area shape="rect" id="node36" href="ocfs2_2mmap_8c.html#add2460e181be216e7332706c4ee746f9" title="__ocfs2_page_mkwrite" alt="" coords="1254,627,1410,653"/>
<area shape="rect" id="node38" href="ocfs2_2aops_8c.html#ad61b09eec57341b6d2f7115f4112ab30" title="ocfs2_write_begin" alt="" coords="1269,576,1395,603"/>
<area shape="rect" id="node37" href="ocfs2_2mmap_8c.html#a3aaaae00fd8adc5fb4aebe2dd31726eb" title="ocfs2_page_mkwrite" alt="" coords="1473,627,1616,653"/>
<area shape="rect" id="node42" href="quota__local_8c.html#ab9b675ca1ebfc1283e35b9b043665fe2" title="ocfs2_create_local\l_dquot" alt="" coords="1267,367,1397,409"/>
<area shape="rect" id="node43" href="ocfs2_2quota_8h.html#a4bdd398b5685cb125a06aa5e27b30a1c" title="ocfs2_global_release\l_dquot" alt="" coords="1473,334,1617,375"/>
<area shape="rect" id="node44" href="quota__global_8c.html#a07c2c8e202275e37e4febcf5d194e3dd" title="ocfs2_release_dquot" alt="" coords="1676,283,1819,309"/>
<area shape="rect" id="node45" href="quota__local_8c.html#abab370e3351647a1152378d977e44d9d" title="ocfs2_recover_local\l_quota_file" alt="" coords="1678,334,1817,375"/>
<area shape="rect" id="node46" href="quota__local_8c.html#a0060584c1ddea53f7db0ffab9e5dedf4" title="ocfs2_finish_quota\l_recovery" alt="" coords="1880,309,2011,350"/>
<area shape="rect" id="node49" href="ocfs2_2file_8c.html#af355906d91ed23b9cca0acd2dd67413e" title="ocfs2_prepare_inode\l_for_write" alt="" coords="397,653,540,694"/>
<area shape="rect" id="node50" href="ocfs2_2file_8c.html#a725b0f054793fb44e6d15cb7bbfbc057" title="ocfs2_file_write_iter" alt="" coords="607,660,745,687"/>
</map>
</div>

</div>
</div>
<a id="a41c7e6c165ce9f645166bde0ebb0d2e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c7e6c165ce9f645166bde0ebb0d2e6">&#9670;&nbsp;</a></span>ocfs2_refcount_cow_xattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_refcount_cow_xattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__dinode.html">ocfs2_dinode</a> *&#160;</td>
          <td class="paramname"><em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__xattr__value__buf.html">ocfs2_xattr_value_buf</a> *&#160;</td>
          <td class="paramname"><em>vb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a> *&#160;</td>
          <td class="paramname"><em>ref_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>ref_root_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>cpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>write_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__post__refcount.html">ocfs2_post_refcount</a> *&#160;</td>
          <td class="paramname"><em>post</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_cgraph.png" border="0" usemap="#refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_cgraph" alt=""/></div>
<map name="refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_cgraph" id="refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_cgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="192,571,355,597"/>
<area shape="rect" id="node4" href="refcounttree_8c.html#ad988b5e217efc1df0e64b2ef54eefbaf" title="ocfs2_refcount_cal\l_cow_clusters" alt="" coords="425,310,557,351"/>
<area shape="rect" id="node19" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="652,385,772,412"/>
<area shape="rect" id="node30" href="refcounttree_8c.html#a71a705978e92ec9cf6d486c72e4dbd26" title="ocfs2_duplicate_clusters\l_by_jbd" alt="" coords="407,795,574,837"/>
<area shape="rect" id="node31" href="ocfs2_8h.html#ac2f56aa03d88002b636baddba9bee355" title="ocfs2_clusters_to_blocks" alt="" coords="627,1035,797,1061"/>
<area shape="rect" id="node38" href="refcounttree_8c.html#a27c5e65d690f210ffb7e853372798149" title="ocfs2_xattr_value_get\l_clusters" alt="" coords="198,657,349,698"/>
<area shape="rect" id="node42" href="ocfs2_2alloc_8c.html#a50a9957165a685017a5a504bd3ba8679" title="ocfs2_init_xattr_value\l_extent_tree" alt="" coords="199,913,348,954"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#ab2bb74d582483f762856506528898a9f" title="ocfs2_replace_cow" alt="" coords="206,1092,341,1119"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1339,335,1416,361"/>
<area shape="rect" id="node5" href="refcounttree_8c.html#ace914ee309424915338168c6cd4a5a51" title="ocfs2_cow_contig_clusters" alt="" coords="1075,56,1255,83"/>
<area shape="rect" id="node7" href="ocfs2_2alloc_8c.html#afcb532375af5e443af3d881f60de906d" title="ocfs2_find_leaf" alt="" coords="657,563,767,589"/>
<area shape="rect" id="node10" href="ocfs2_2alloc_8c.html#a2916fac51e64301d487eeb6059ab6689" title="ocfs2_read_extent_block" alt="" coords="1081,613,1248,640"/>
<area shape="rect" id="node24" href="ocfs2_2alloc_8h.html#aed06d66566f65fb35d3c7983e789657e" title="ocfs2_is_empty_extent" alt="" coords="633,208,791,235"/>
<area shape="rect" id="node27" href="refcounttree_8c.html#a0005a73ad57cafc1bc96803c2311a782" title="ocfs2_cow_align_length" alt="" coords="631,5,793,32"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#ab94a08687211ab90d910d3e16c755e4e" title="ocfs2_cow_align_start" alt="" coords="636,56,788,83"/>
<area shape="rect" id="node6" href="ocfs2_8h.html#aa13df839327494a44a4959512e26b8ca" title="ocfs2_clusters_for\l_bytes" alt="" coords="1313,49,1442,90"/>
<area shape="rect" id="node8" href="ocfs2_2alloc_8c.html#aa400630d5a3286b90dd42aedaf7b9d13" title="__ocfs2_find_path" alt="" coords="872,613,1000,640"/>
<area shape="rect" id="node18" href="ocfs2_2alloc_8c.html#a796d1f6b08e483a8be1771097663a295" title="find_leaf_ins" alt="" coords="889,563,983,589"/>
<area shape="rect" id="node9" href="ocfs2_2alloc_8h.html#a7c922efc185f61b6dde52779ee0fdaf3" title="ocfs2_rec_clusters" alt="" coords="1099,664,1231,691"/>
<area shape="rect" id="node11" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="1315,929,1439,956"/>
<area shape="rect" id="node17" href="ocfs2_2alloc_8c.html#a715a86c67abf4b71b32018f59616ac39" title="ocfs2_validate_extent\l_block" alt="" coords="1303,606,1452,647"/>
<area shape="rect" id="node12" href="buffer__head__io_8h.html#a663fad6780925dd0acc5b41ea3c1b03c" title="ocfs2_read_blocks" alt="" coords="1516,929,1647,956"/>
<area shape="rect" id="node13" href="uptodate_8c.html#a92ef3ce72ad4dfa56d3aac437e663e2d" title="ocfs2_metadata_cache\l_io_lock" alt="" coords="1720,922,1877,963"/>
<area shape="rect" id="node14" href="uptodate_8c.html#a32a162955f4ad557ca5ce423b2cef357" title="ocfs2_metadata_cache\l_io_unlock" alt="" coords="1720,857,1877,898"/>
<area shape="rect" id="node15" href="uptodate_8c.html#ad35fc15f8b13914e99fade11efbf471c" title="ocfs2_set_buffer_uptodate" alt="" coords="1711,988,1887,1015"/>
<area shape="rect" id="node16" href="uptodate_8c.html#ad24bce70dd20941b5d2b8072b2b1beb0" title="ocfs2_buffer_cached" alt="" coords="1935,1013,2077,1040"/>
<area shape="rect" id="node20" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="873,309,999,336"/>
<area shape="rect" id="node23" href="ocfs2_2inode_8h.html#a67e39a4048271bf7ac384399f21964ac" title="ocfs2_drop_inode" alt="" coords="1103,411,1227,437"/>
<area shape="rect" id="node21" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="1097,309,1232,336"/>
<area shape="rect" id="node22" href="ocfs2_2inode_8c.html#a8477d7b86036937128d6171266847e1d" title="ocfs2_clear_inode" alt="" coords="1101,360,1228,387"/>
<area shape="rect" id="node25" href="ocfs2_2alloc_8h.html#aa2fdfde8b2ce4bc1fcf828d4d697c405" title="ocfs2_grab_pages" alt="" coords="872,208,1000,235"/>
<area shape="rect" id="node26" href="ocfs2_2alloc_8h.html#ac78ab1cf44d5b137a85d9b8444bfa7f6" title="ocfs2_map_and_dirty_page" alt="" coords="845,157,1027,184"/>
<area shape="rect" id="node28" href="refcounttree_8c.html#a237171adaebaf5bf635f5cb0fcbd9494" title="ocfs2_cow_contig_mask" alt="" coords="853,56,1019,83"/>
<area shape="rect" id="node32" href="uptodate_8c.html#a847a81165ab0a3f6bd235d85b1e0d0ea" title="ocfs2_set_new_buffer\l_uptodate" alt="" coords="1506,981,1657,1022"/>
<area shape="rect" id="node33" href="ocfs2_2journal_8c.html#a89549dea017b6122eb0607dd48a97628" title="ocfs2_journal_access" alt="" coords="1303,879,1451,905"/>
<area shape="rect" id="node35" href="ocfs2_2journal_8c.html#ad2121c87e079ebef880f19ab5e11477f" title="ocfs2_journal_dirty" alt="" coords="647,803,777,829"/>
<area shape="rect" id="node34" href="ocfs2_2journal_8c.html#ab3908be67651cfbc01bf6b0d25034518" title="__ocfs2_journal_access" alt="" coords="1500,879,1663,905"/>
<area shape="rect" id="node36" href="jbd2_2transaction_8c.html#a1161909aa6fe07a94cf6c7d27a26a80f" title="jbd2_journal_dirty\l_metadata" alt="" coords="875,766,997,807"/>
<area shape="rect" id="node37" href="jbd2_2journal_8c.html#a80782c5fea59e6374147ba49563f3305" title="jbd2_journal_abort" alt="" coords="873,832,999,859"/>
<area shape="rect" id="node39" href="ocfs2_2extent__map_8c.html#a597d07ed84a3432a63e75ba8b3fcbe73" title="ocfs2_xattr_get_clusters" alt="" coords="408,639,573,665"/>
<area shape="rect" id="node40" href="ocfs2_2alloc_8c.html#a1bc6a132a6423a314f5e1d5d62a80fc2" title="ocfs2_search_extent_list" alt="" coords="853,664,1019,691"/>
<area shape="rect" id="node41" href="ocfs2_8h.html#aa43491b3279a3977bcc7a2417f534b4f" title="ocfs2_blocks_to_clusters" alt="" coords="627,613,797,640"/>
<area shape="rect" id="node43" href="ocfs2_2alloc_8c.html#abff2756478def2e234b593664f079031" title="__ocfs2_init_extent_tree" alt="" coords="409,916,573,943"/>
<area shape="rect" id="node45" href="ocfs2_8h.html#a77586d88f8ccae045154d7379e23b961" title="ocfs2_refcount_tree" alt="" coords="422,1201,559,1228"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8h.html#aab6b03c3e1b9245d8686a21d00a26278" title="ocfs2_init_dealloc_ctxt" alt="" coords="413,1252,568,1279"/>
<area shape="rect" id="node47" href="refcounttree_8c.html#a40618f918f0f5670ee554336c3f28005" title="ocfs2_make_clusters\l_writable" alt="" coords="417,967,564,1009"/>
<area shape="rect" id="node48" href="ocfs2_2alloc_8h.html#adba89be676b770d5503f87948b68773a" title="ocfs2_dealloc_has_cluster" alt="" coords="403,1033,579,1060"/>
<area shape="rect" id="node49" href="ocfs2_2alloc_8c.html#a22c510ed4e868a35a9261d5686206eba" title="ocfs2_schedule_truncate\l_log_flush" alt="" coords="407,1085,574,1126"/>
<area shape="rect" id="node50" href="ocfs2_2alloc_8c.html#a9dae8fdb098ee4f1a1a18635067e0c31" title="ocfs2_run_deallocs" alt="" coords="423,1151,558,1177"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_icgraph.png" border="0" usemap="#refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_icgraph" alt=""/></div>
<map name="refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_icgraph" id="refcounttree_8h_a41c7e6c165ce9f645166bde0ebb0d2e6_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8c.html#a03ae7ec53a172dd03c90d08df26c14c2" title="ocfs2_prepare_refcount\l_xattr" alt="" coords="192,175,351,217"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="399,183,511,209"/>
<area shape="rect" id="node4" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="590,81,693,108"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="559,183,724,209"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="586,132,697,159"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="562,233,721,260"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="569,284,713,311"/>
<area shape="rect" id="node5" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="787,107,913,133"/>
<area shape="rect" id="node6" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="788,5,912,32"/>
<area shape="rect" id="node8" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="799,56,901,83"/>
<area shape="rect" id="node7" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="992,5,1091,32"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8h.html#a6d965bcdb10f77c4b23347703af28d37" title="ocfs2_init_security\l_and_acl" alt="" coords="976,107,1107,149"/>
<area shape="rect" id="node14" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="991,56,1091,83"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1155,115,1251,141"/>
<area shape="rect" id="node11" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1300,115,1421,141"/>
<area shape="rect" id="node12" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="1469,115,1596,141"/>
<area shape="rect" id="node13" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1644,115,1729,141"/>
<area shape="rect" id="node15" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1157,9,1250,36"/>
<area shape="rect" id="node16" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1155,60,1252,87"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="772,157,928,184"/>
<area shape="rect" id="node20" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="988,173,1095,200"/>
</map>
</div>

</div>
</div>
<a id="abe82a85fa5fe2f4e1ffbd3f3fa0a0900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe82a85fa5fe2f4e1ffbd3f3fa0a0900">&#9670;&nbsp;</a></span>ocfs2_refcounted_xattr_delete_need()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_refcounted_xattr_delete_need </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__caching__info.html">ocfs2_caching_info</a> *&#160;</td>
          <td class="paramname"><em>ref_ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>ref_root_bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__xattr__value__root.html">ocfs2_xattr_value_root</a> *&#160;</td>
          <td class="paramname"><em>xv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>meta_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>credits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_cgraph.png" border="0" usemap="#refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_cgraph" alt=""/></div>
<map name="refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_cgraph" id="refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_cgraph">
<area shape="rect" id="node2" href="ocfs2_2extent__map_8c.html#a597d07ed84a3432a63e75ba8b3fcbe73" title="ocfs2_xattr_get_clusters" alt="" coords="443,724,609,751"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#ac86271444dfa7b1bad7297b515142e5a" title="ocfs2_get_refcount_rec" alt="" coords="217,429,376,456"/>
<area shape="rect" id="node23" href="ocfs2_2alloc_8c.html#a61a270630689a250e51fca35ff62431f" title="ocfs2_init_refcount\l_extent_tree" alt="" coords="701,43,833,85"/>
<area shape="rect" id="node35" href="journal_8h.html#a06ec2d68135ee5e4cf254e2c948302e7" title="ocfs2_calc_extend_credits" alt="" coords="208,1223,385,1249"/>
<area shape="rect" id="node3" href="ocfs2_2alloc_8c.html#afcb532375af5e443af3d881f60de906d" title="ocfs2_find_leaf" alt="" coords="712,648,823,675"/>
<area shape="rect" id="node7" href="ocfs2_2alloc_8h.html#a7c922efc185f61b6dde52779ee0fdaf3" title="ocfs2_rec_clusters" alt="" coords="1163,699,1295,725"/>
<area shape="rect" id="node11" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="947,1256,1067,1283"/>
<area shape="rect" id="node18" href="ocfs2_2alloc_8c.html#a1bc6a132a6423a314f5e1d5d62a80fc2" title="ocfs2_search_extent_list" alt="" coords="923,749,1090,776"/>
<area shape="rect" id="node19" href="ocfs2_8h.html#aa43491b3279a3977bcc7a2417f534b4f" title="ocfs2_blocks_to_clusters" alt="" coords="921,829,1092,856"/>
<area shape="rect" id="node4" href="ocfs2_2alloc_8c.html#aa400630d5a3286b90dd42aedaf7b9d13" title="__ocfs2_find_path" alt="" coords="943,517,1071,544"/>
<area shape="rect" id="node10" href="ocfs2_2alloc_8c.html#a796d1f6b08e483a8be1771097663a295" title="find_leaf_ins" alt="" coords="959,648,1054,675"/>
<area shape="rect" id="node5" href="ocfs2_8h.html#a00eef5505a2e46ff0b0ba32149a1b802" title="ocfs2_metadata_cache\l_get_super" alt="" coords="1365,381,1523,422"/>
<area shape="rect" id="node6" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="1365,178,1523,219"/>
<area shape="rect" id="node8" href="ocfs2_2alloc_8c.html#a2916fac51e64301d487eeb6059ab6689" title="ocfs2_read_extent_block" alt="" coords="1145,545,1312,572"/>
<area shape="rect" id="node9" href="buffer__head__io_8h.html#a41c4cbc072dc2340c68c142850d8352b" title="ocfs2_read_block" alt="" coords="1382,571,1506,597"/>
<area shape="rect" id="node12" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1576,1357,1653,1384"/>
<area shape="rect" id="node13" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1165,1332,1292,1359"/>
<area shape="rect" id="node16" href="ocfs2_2inode_8h.html#a67e39a4048271bf7ac384399f21964ac" title="ocfs2_drop_inode" alt="" coords="1167,1231,1291,1257"/>
<area shape="rect" id="node14" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="1377,1383,1511,1409"/>
<area shape="rect" id="node15" href="ocfs2_2inode_8c.html#a8477d7b86036937128d6171266847e1d" title="ocfs2_clear_inode" alt="" coords="1381,1281,1507,1308"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1385,1231,1503,1257"/>
<area shape="rect" id="node21" href="refcounttree_8c.html#ac755afa127b398d63c47d621530292fb" title="ocfs2_find_refcount\l_rec_in_rl" alt="" coords="458,230,594,271"/>
<area shape="rect" id="node22" href="refcounttree_8c.html#af91a03212cfd7505b1404cd575a2bc8e" title="ocfs2_get_refcount\l_cpos_end" alt="" coords="459,295,593,337"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="456,531,596,573"/>
<area shape="rect" id="node27" href="ocfs2_2alloc_8c.html#afd577350f7eb5ecb06b0e238aee36787" title="ocfs2_new_path_from_et" alt="" coords="683,328,851,355"/>
<area shape="rect" id="node28" href="ocfs2_2alloc_8c.html#a0d55288c927e2553938f4b70da851986" title="ocfs2_find_path" alt="" coords="710,480,825,507"/>
<area shape="rect" id="node29" href="ocfs2_2alloc_8c.html#aedcf73b778d4e47de30434e2f3daeded" title="ocfs2_new_path_from_path" alt="" coords="676,109,859,136"/>
<area shape="rect" id="node30" href="ocfs2_2alloc_8c.html#aad3ef728d2ff34e99bd16e38f9e9198b" title="ocfs2_find_cpos_for\l_right_leaf" alt="" coords="698,211,837,253"/>
<area shape="rect" id="node31" href="ocfs2_2alloc_8c.html#ad72f775b4a96e1e4c4dd07c5d18f254f" title="ocfs2_find_subtree_root" alt="" coords="1148,160,1309,187"/>
<area shape="rect" id="node32" href="ocfs2_2alloc_8c.html#a71eb5a216a4a024d636e2702cf52cfa9" title="ocfs2_free_path" alt="" coords="710,277,825,304"/>
<area shape="rect" id="node24" href="ocfs2_2alloc_8c.html#abff2756478def2e234b593664f079031" title="__ocfs2_init_extent_tree" alt="" coords="925,51,1089,77"/>
<area shape="rect" id="node25" href="ocfs2_2journal_8c.html#a7b5e644e5506f1537029ae2c3dac5b98" title="ocfs2_journal_access_rb" alt="" coords="923,105,1090,132"/>
<area shape="rect" id="node26" href="ocfs2_2journal_8c.html#ab3908be67651cfbc01bf6b0d25034518" title="__ocfs2_journal_access" alt="" coords="1147,211,1310,237"/>
<area shape="rect" id="node34" href="refcounttree_8c.html#a8e00c4c532cc6aa61020bd2242a14653" title="ocfs2_validate_refcount\l_block" alt="" coords="687,531,847,573"/>
<area shape="rect" id="node36" href="ocfs2_2alloc_8h.html#a95da12647f3cb6c62609865d60714e3b" title="ocfs2_extend_meta_needed" alt="" coords="433,1223,619,1249"/>
<area shape="rect" id="node50" href="journal_8h.html#a391304dfb5d31cd15d53a18e459e0194" title="ocfs2_quota_trans_credits" alt="" coords="439,1273,613,1300"/>
<area shape="rect" id="node37" href="ocfs2_2alloc_8h.html#ac80d026eaddde6911666bd15383537ac" title="ocfs2_dinode_new_extent_list" alt="" coords="669,1019,866,1045"/>
<area shape="rect" id="node38" href="ocfs2_2alloc_8h.html#ae6bf12ee8f3ef812730ef03a3af4de7c" title="ocfs2_set_inode_data\l_inline" alt="" coords="1154,1485,1303,1526"/>
<area shape="rect" id="node39" href="ocfs2_2alloc_8h.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="697,1434,838,1475"/>
<area shape="rect" id="node40" href="ocfs2_2alloc_8h.html#ab3d0dec95e8b711aa46b7453ff2cd3ce" title="ocfs2_truncate_log_init" alt="" coords="689,1069,845,1096"/>
<area shape="rect" id="node41" href="ocfs2_2alloc_8h.html#a0f5d1257326643dd958df26d6f7daf9b" title="ocfs2_truncate_log\l_shutdown" alt="" coords="701,1121,833,1162"/>
<area shape="rect" id="node42" href="ocfs2_2alloc_8h.html#a22c510ed4e868a35a9261d5686206eba" title="ocfs2_schedule_truncate\l_log_flush" alt="" coords="684,1186,851,1227"/>
<area shape="rect" id="node43" href="ocfs2_2alloc_8h.html#ad73e43105443d8bd105d8ce11b040cad" title="ocfs2_flush_truncate_log" alt="" coords="684,1252,851,1279"/>
<area shape="rect" id="node44" href="ocfs2_2alloc_8h.html#af87a52ce61d707e4175dee36be4f8605" title="ocfs2_begin_truncate\l_log_recovery" alt="" coords="694,1369,841,1410"/>
<area shape="rect" id="node45" href="ocfs2_2alloc_8h.html#a3fea3c5c4174ec72b0ea44bf51685c0d" title="ocfs2_complete_truncate\l_log_recovery" alt="" coords="1360,1535,1528,1577"/>
<area shape="rect" id="node46" href="ocfs2_2alloc_8h.html#ac09620f93bcbf2745b1ee15e6b0124c1" title="ocfs2_truncate_log\l_needs_flush" alt="" coords="701,1303,833,1345"/>
<area shape="rect" id="node47" href="ocfs2_2alloc_8h.html#a9e9def9047b802c4223e3e9f4508c593" title="ocfs2_truncate_log\l_append" alt="" coords="701,851,833,893"/>
<area shape="rect" id="node48" href="ocfs2_2alloc_8h.html#ae2ad77b51044eda9228d7ea599e156e3" title="__ocfs2_flush_truncate_log" alt="" coords="916,1601,1097,1628"/>
<area shape="rect" id="node49" href="ocfs2_2alloc_8h.html#a863757738c8018d33d856b89fba6b906" title="ocfs2_try_to_free_truncate_log" alt="" coords="667,968,868,995"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_icgraph.png" border="0" usemap="#refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_icgraph" alt=""/></div>
<map name="refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_icgraph" id="refcounttree_8h_abe82a85fa5fe2f4e1ffbd3f3fa0a0900_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8c.html#aa26275d95bbcae979f430e068dba3d47" title="ocfs2_lock_xattr_remove\l_allocators" alt="" coords="208,495,376,537"/>
<area shape="rect" id="node50" href="ocfs2_2xattr_8c.html#a03ae7ec53a172dd03c90d08df26c14c2" title="ocfs2_prepare_refcount\l_xattr" alt="" coords="623,789,781,830"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8c.html#a38c80db8711f41356a6530f04b9148e1" title="ocfs2_remove_value\l_outside" alt="" coords="424,495,567,537"/>
<area shape="rect" id="node49" href="ocfs2_2xattr_8c.html#a78436dd5c0bf669a5db254bed44c86f0" title="ocfs2_delete_xattr\l_in_bucket" alt="" coords="850,251,979,293"/>
<area shape="rect" id="node4" href="ocfs2_2xattr_8c.html#ab291a6ab7fd5264ac62b23a61ab33ae0" title="ocfs2_xattr_block_remove" alt="" coords="615,503,789,529"/>
<area shape="rect" id="node5" href="ocfs2_2xattr_8c.html#a81b4a2eff09f221223831c65385e1f86" title="ocfs2_xattr_free_block" alt="" coords="837,564,992,591"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8h.html#ad349a9842e74c6957ded49a7b5e8e703" title="ocfs2_xattr_remove" alt="" coords="1040,564,1177,591"/>
<area shape="rect" id="node7" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="1225,513,1352,540"/>
<area shape="rect" id="node8" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="1400,513,1535,540"/>
<area shape="rect" id="node9" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1583,513,1709,540"/>
<area shape="rect" id="node10" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="1757,539,1877,565"/>
<area shape="rect" id="node11" href="ocfs2_2acl_8c.html#ad8155a643e529db15d8918377f98abd8" title="ocfs2_acl_set_mode" alt="" coords="2363,740,2506,767"/>
<area shape="rect" id="node19" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="2785,755,2885,781"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#a96c43b719a7120c59e84896221db877d" title="ocfs2_init_xattr_bucket" alt="" coords="1932,640,2089,667"/>
<area shape="rect" id="node23" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="2159,633,2289,674"/>
<area shape="rect" id="node24" href="ocfs2_2xattr_8c.html#ad1aa05ef05d854e39ea3cd5ec6a50827" title="ocfs2_read_xattr_bucket" alt="" coords="1928,808,2093,835"/>
<area shape="rect" id="node25" href="ocfs2_2xattr_8c.html#aa07bd6873d99f2122a3b550bf277be6f" title="ocfs2_xattr_bucket\l_journal_access" alt="" coords="1944,691,2077,733"/>
<area shape="rect" id="node26" href="ocfs2_2xattr_8c.html#a42d360253b794d1a8e5e52b1c3036700" title="ocfs2_read_xattr_block" alt="" coords="1932,1041,2089,1068"/>
<area shape="rect" id="node27" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="1944,859,2077,901"/>
<area shape="rect" id="node28" href="ocfs2_2xattr_8c.html#ae6b808966b9f4dc5de011d7b23269e71" title="__ocfs2_remove_xattr\l_range" alt="" coords="1935,925,2086,966"/>
<area shape="rect" id="node29" href="ocfs2_2xattr_8c.html#af8b3d0ad178d83a6341c5dd8c8620076" title="ocfs2_xattr_shrink_size" alt="" coords="2144,844,2304,871"/>
<area shape="rect" id="node30" href="ocfs2_2xattr_8c.html#ac2013e7127a758c673c4e7faa736d89c" title="ocfs2_xattr_get_value\l_outside" alt="" coords="1935,57,2086,98"/>
<area shape="rect" id="node31" href="ocfs2_2xattr_8c.html#a2b2bfbe075c28e54871f8e5394ff2c31" title="__ocfs2_xattr_set_value\l_outside" alt="" coords="1929,122,2093,163"/>
<area shape="rect" id="node32" href="ocfs2_2xattr_8c.html#a8b5477ce21819f1571f7904cc35a074d" title="ocfs2_xa_block_journal\l_access" alt="" coords="1931,187,2090,229"/>
<area shape="rect" id="node33" href="ocfs2_2xattr_8c.html#a5f12f936020f785dfea81bbbed31c034" title="ocfs2_xattr_ibody_init" alt="" coords="1936,253,2085,280"/>
<area shape="rect" id="node34" href="ocfs2_2xattr_8c.html#a2f294522ecc0c1d114fd653629f40dc9" title="ocfs2_create_xattr\l_block" alt="" coords="1945,305,2076,346"/>
<area shape="rect" id="node35" href="ocfs2_2xattr_8c.html#a88a615fcba1dcdc06f12cba3b5d276e7" title="__ocfs2_xattr_set_handle" alt="" coords="1925,991,2096,1017"/>
<area shape="rect" id="node46" href="ocfs2_2xattr_8c.html#ac584486f06a45340008c3f6f4ffae483" title="ocfs2_xattr_get_rec" alt="" coords="1942,371,2079,397"/>
<area shape="rect" id="node47" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="1937,422,2084,463"/>
<area shape="rect" id="node48" href="ocfs2_2xattr_8c.html#a5b5f9f1d85918bcfe3fbb25c55020799" title="ocfs2_rm_xattr_cluster" alt="" coords="1933,5,2088,32"/>
<area shape="rect" id="node12" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="2580,869,2707,896"/>
<area shape="rect" id="node13" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="2592,760,2695,787"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8h.html#a6d965bcdb10f77c4b23347703af28d37" title="ocfs2_init_security\l_and_acl" alt="" coords="2769,806,2900,847"/>
<area shape="rect" id="node15" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="2949,813,3045,840"/>
<area shape="rect" id="node16" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="3093,813,3215,840"/>
<area shape="rect" id="node17" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="3263,813,3389,840"/>
<area shape="rect" id="node18" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="3437,813,3523,840"/>
<area shape="rect" id="node20" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="2950,708,3043,735"/>
<area shape="rect" id="node21" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="2948,759,3045,785"/>
<area shape="rect" id="node36" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="2168,943,2280,969"/>
<area shape="rect" id="node37" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="2383,943,2486,969"/>
<area shape="rect" id="node40" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="2352,993,2517,1020"/>
<area shape="rect" id="node41" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="2379,841,2490,868"/>
<area shape="rect" id="node44" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="2355,791,2514,817"/>
<area shape="rect" id="node45" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="2363,892,2507,919"/>
<area shape="rect" id="node38" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="2581,943,2705,969"/>
<area shape="rect" id="node39" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="2785,943,2884,969"/>
<area shape="rect" id="node42" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="2565,817,2721,844"/>
<area shape="rect" id="node43" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="2781,872,2888,899"/>
</map>
</div>

</div>
</div>
<a id="aea81895d4cf45213d159bb7062179172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea81895d4cf45213d159bb7062179172">&#9670;&nbsp;</a></span>ocfs2_reflink_ioctl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_reflink_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&#160;</td>
          <td class="paramname"><em>oldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&#160;</td>
          <td class="paramname"><em>newname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preserve</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_aea81895d4cf45213d159bb7062179172_cgraph.png" border="0" usemap="#refcounttree_8h_aea81895d4cf45213d159bb7062179172_cgraph" alt=""/></div>
<map name="refcounttree_8h_aea81895d4cf45213d159bb7062179172_cgraph" id="refcounttree_8h_aea81895d4cf45213d159bb7062179172_cgraph">
<area shape="rect" id="node2" href="ocfs2_8h.html#a77586d88f8ccae045154d7379e23b961" title="ocfs2_refcount_tree" alt="" coords="548,696,685,722"/>
<area shape="rect" id="node3" href="namei_8c.html#ab20f8e7570273cbd45fd8611f63dd484" title="user_path_create" alt="" coords="180,1089,303,1116"/>
<area shape="rect" id="node22" href="namei_8c.html#ae4afc8c3199001d6fa4689242cbfa107" title="path_put" alt="" coords="581,1025,653,1052"/>
<area shape="rect" id="node29" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="181,785,302,812"/>
<area shape="rect" id="node50" href="namei_8c.html#acd92b8f1e90f1908242842fb3a8d3788" title="done_path_create" alt="" coords="353,1025,478,1052"/>
<area shape="rect" id="node4" href="namei_8c.html#af40fcd9fe7fa569e2d5348a69893e2fb" title="filename_create" alt="" coords="358,1202,473,1229"/>
<area shape="rect" id="node26" href="namei_8c.html#ab6c058e9d297eedc75d075f53d48d3f5" title="EXPORT_SYMBOL" alt="" coords="770,949,909,976"/>
<area shape="rect" id="node27" href="namei_8c.html#ac4ca3e70306345a625eb4ad1ab4495da" title="getname" alt="" coords="379,1380,451,1406"/>
<area shape="rect" id="node5" href="namei_8c.html#a0968c3454fcc548da5e367947fb8e977" title="filename_parentat" alt="" coords="554,1380,679,1406"/>
<area shape="rect" id="node8" href="namei_8c.html#aac854a0771f5a95d47bec346023b206b" title="putname" alt="" coords="803,1481,875,1508"/>
<area shape="rect" id="node10" href="namespace_8c.html#a2c0a3afe7d7fd224c265b7f408b1d5f0" title="mnt_want_write" alt="" coords="559,1278,674,1305"/>
<area shape="rect" id="node14" href="namei_8c.html#ae6ca93881c535044b81981c1cf631f9e" title="__lookup_hash" alt="" coords="562,1177,671,1204"/>
<area shape="rect" id="node15" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="816,1126,863,1153"/>
<area shape="rect" id="node20" href="namespace_8c.html#a01e4f35001da2ad0ef5fbdf4468a2cd9" title="mnt_drop_write" alt="" coords="561,1228,672,1254"/>
<area shape="rect" id="node6" href="namei_8c.html#a5348858e09a26e63419ad6e1df9988dd" title="set_nameidata" alt="" coords="786,1329,893,1356"/>
<area shape="rect" id="node7" href="namei_8c.html#aa6e32291098a8cab5fb86a117b83b06f" title="path_parentat" alt="" coords="789,1380,890,1406"/>
<area shape="rect" id="node9" href="namei_8c.html#a851ca78ef20e612be400913602785b5a" title="restore_nameidata" alt="" coords="775,1430,904,1457"/>
<area shape="rect" id="node11" href="namespace_8c.html#ae8d4c494f66a0cda8744bf47ebeba01f" title="__mnt_want_write" alt="" coords="775,1278,903,1305"/>
<area shape="rect" id="node13" href="namespace_8c.html#a14b50b29ea751e02e86a7c9a2fa01128" title="EXPORT_SYMBOL_GPL" alt="" coords="753,1228,925,1254"/>
<area shape="rect" id="node12" href="mount_8h.html#a799ce35ff6ad0c45266cbe2b631ac610" title="real_mount" alt="" coords="999,1278,1086,1305"/>
<area shape="rect" id="node16" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="1005,1076,1081,1102"/>
<area shape="rect" id="node17" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1160,1152,1257,1178"/>
<area shape="rect" id="node18" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="1002,1177,1083,1204"/>
<area shape="rect" id="node19" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="973,1228,1112,1254"/>
<area shape="rect" id="node21" href="namespace_8c.html#ad990c81af66b82e8c66b009dd531b77b" title="__mnt_drop_write" alt="" coords="777,1177,902,1204"/>
<area shape="rect" id="node23" href="namespace_8c.html#ae602f571f97bd6ee2b158ae949a914b9" title="mntput" alt="" coords="808,1025,871,1052"/>
<area shape="rect" id="node24" href="namespace_8c.html#a8d66bef8eb1be747dcb5c373b2d6ea71" title="mntput_no_expire" alt="" coords="980,974,1105,1001"/>
<area shape="rect" id="node25" href="namespace_8c.html#aaa6b04953fbfe2185e8e0f5431d89c79" title="EXPORT_SYMBOL" alt="" coords="973,1025,1112,1052"/>
<area shape="rect" id="node28" href="namei_8c.html#a2af8dcbe84f6398baeae66fd880ed102" title="getname_flags" alt="" coords="563,1481,670,1508"/>
<area shape="rect" id="node30" href="refcounttree_8c.html#acac68910034c04c79c8eb4e4763e8408" title="ocfs2_may_create" alt="" coords="351,734,480,761"/>
<area shape="rect" id="node31" href="namei_8c.html#a62cb14cabd13a7720eccf273235df9cb" title="inode_permission" alt="" coords="555,772,678,798"/>
<area shape="rect" id="node34" href="dquot_8c.html#a422867fb9275ca3710a055b557602323" title="dquot_initialize" alt="" coords="361,836,469,862"/>
<area shape="rect" id="node37" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="367,372,463,398"/>
<area shape="rect" id="node32" href="namei_8c.html#ac29bcd8ad12e1d5c61d3f071c9d49c0d" title="sb_permission" alt="" coords="786,746,893,773"/>
<area shape="rect" id="node33" href="namei_8c.html#a4c3f3a91fb708d6b8db89cb6ad2d0379" title="do_inode_permission" alt="" coords="767,797,911,824"/>
<area shape="rect" id="node35" href="dquot_8c.html#a2b47a891d4b3897e45a2cccbfd16332d" title="__dquot_initialize" alt="" coords="555,822,678,849"/>
<area shape="rect" id="node36" href="dquot_8c.html#aa55d5209dd35fd9f5ae8aa87141918ee" title="EXPORT_SYMBOL" alt="" coords="547,873,686,900"/>
<area shape="rect" id="node38" href="ocfs2_2namei_8c.html#a33ecd2392f71252d3c6e3b31f53ae74a" title="ocfs2_create_inode\l_in_orphan" alt="" coords="549,579,684,620"/>
<area shape="rect" id="node39" href="dlmglue_8c.html#a446b45f6f86321ba09f31aaf47062ba1" title="ocfs2_inode_unlock" alt="" coords="771,404,908,430"/>
<area shape="rect" id="node40" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1004,229,1081,256"/>
<area shape="rect" id="node41" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="818,586,861,613"/>
<area shape="rect" id="node42" href="dlmglue_8c.html#afd2408b8bb2ea9740740c752bf3dba53" title="ocfs2_rw_lock" alt="" coords="786,77,893,104"/>
<area shape="rect" id="node43" href="dlmglue_8c.html#af1361c9c91d419a23b23c1705f852e85" title="ocfs2_rw_unlock" alt="" coords="779,128,899,154"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#aff36b539227d81e01b41b7e4bc340a19" title="__ocfs2_reflink" alt="" coords="561,280,672,306"/>
<area shape="rect" id="node45" href="dlmglue_8c.html#a77438b9b092c5a891b70c5a979e4c0cb" title="ocfs2_inode_lock_tracker" alt="" coords="754,178,925,205"/>
<area shape="rect" id="node46" href="ocfs2_2xattr_8c.html#a6d965bcdb10f77c4b23347703af28d37" title="ocfs2_init_security\l_and_acl" alt="" coords="551,396,682,438"/>
<area shape="rect" id="node47" href="ocfs2_2namei_8c.html#a0f839c9eb2e60dce10af58ce23807d52" title="ocfs2_mv_orphaned_inode\l_to_new" alt="" coords="528,514,705,555"/>
<area shape="rect" id="node48" href="dlmglue_8c.html#a4f5d1adf333e2e6dc18c022a88964098" title="ocfs2_inode_unlock\l_tracker" alt="" coords="548,331,685,372"/>
<area shape="rect" id="node49" href="dlmglue_8c.html#a0ca45ff9a27f2dfd10817b98f82b772a" title="ocfs2_open_unlock" alt="" coords="549,229,684,256"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_aea81895d4cf45213d159bb7062179172_icgraph.png" border="0" usemap="#refcounttree_8h_aea81895d4cf45213d159bb7062179172_icgraph" alt=""/></div>
<map name="refcounttree_8h_aea81895d4cf45213d159bb7062179172_icgraph" id="refcounttree_8h_aea81895d4cf45213d159bb7062179172_icgraph">
<area shape="rect" id="node2" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="180,29,265,56"/>
</map>
</div>

</div>
</div>
<a id="aaf8eadc3b04ecb88a74dfdc4645e72d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf8eadc3b04ecb88a74dfdc4645e72d2">&#9670;&nbsp;</a></span>ocfs2_reflink_remap_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_reflink_remap_range </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_dedupe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_cgraph.png" border="0" usemap="#refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_cgraph" alt=""/></div>
<map name="refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_cgraph" id="refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_cgraph">
<area shape="rect" id="node2" href="ocfs2_8h.html#a77586d88f8ccae045154d7379e23b961" title="ocfs2_refcount_tree" alt="" coords="211,71,348,98"/>
<area shape="rect" id="node3" href="ocfs2_8h.html#a51e1d0086ac2d8afc66a67fb1d1a24df" title="ocfs2_is_hard_readonly" alt="" coords="889,350,1048,377"/>
<area shape="rect" id="node4" href="ocfs2_8h.html#a7889c84bca8d56eaeb6945c1eb4d36c4" title="ocfs2_is_soft_readonly" alt="" coords="201,173,357,199"/>
<area shape="rect" id="node5" href="refcounttree_8c.html#addc75b2de07c5457a29a67eb6b3a4c46" title="ocfs2_reflink_inodes_lock" alt="" coords="420,426,592,453"/>
<area shape="rect" id="node9" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="930,1142,1007,1169"/>
<area shape="rect" id="node16" href="read__write_8c.html#a2f34cc52cd47667179f68fca824b8811" title="vfs_clone_file_prep\l_inodes" alt="" coords="439,85,573,127"/>
<area shape="rect" id="node22" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="210,1252,349,1293"/>
<area shape="rect" id="node45" href="ocfs2_2extent__map_8c.html#ad32d248efc9ba93083000a833d41a8bf" title="ocfs2_extent_map_trunc" alt="" coords="197,1722,362,1749"/>
<area shape="rect" id="node47" href="refcounttree_8c.html#a3728dd1665f4c258ac0bdeabf13e60a4" title="ocfs2_reflink_update_dest" alt="" coords="192,965,367,991"/>
<area shape="rect" id="node50" href="refcounttree_8c.html#ade961a4653eacc03a66e0c1a634de09b" title="ocfs2_reflink_inodes\l_unlock" alt="" coords="435,360,577,401"/>
<area shape="rect" id="node6" href="inode_8c.html#a0450e7ec7d21f64741624080bf933a3e" title="lock_two_nondirectories" alt="" coords="662,325,825,351"/>
<area shape="rect" id="node8" href="dlmglue_8c.html#afd2408b8bb2ea9740740c752bf3dba53" title="ocfs2_rw_lock" alt="" coords="690,477,797,503"/>
<area shape="rect" id="node12" href="dlmglue_8c.html#a446b45f6f86321ba09f31aaf47062ba1" title="ocfs2_inode_unlock" alt="" coords="675,375,812,402"/>
<area shape="rect" id="node14" href="dlmglue_8c.html#af1361c9c91d419a23b23c1705f852e85" title="ocfs2_rw_unlock" alt="" coords="683,426,803,453"/>
<area shape="rect" id="node15" href="inode_8c.html#a66c9b16a1b1a6b9c7897f4ad24943b8d" title="unlock_two_nondirectories" alt="" coords="655,274,831,301"/>
<area shape="rect" id="node7" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="899,223,1038,250"/>
<area shape="rect" id="node10" href="ocfs2_8h.html#a9e7c0045acf58827ffc9bf875f2d31ba" title="ocfs2_mount_local" alt="" coords="903,451,1034,478"/>
<area shape="rect" id="node11" href="dlmglue_8c.html#aeb468b623f6a01cacb1886e30528a2e9" title="ocfs2_cluster_lock" alt="" coords="903,502,1034,529"/>
<area shape="rect" id="node13" href="dlmglue_8c.html#a4f616c4944213537551ed3ffd6a18d56" title="ocfs2_cluster_unlock" alt="" coords="896,401,1041,427"/>
<area shape="rect" id="node17" href="inode_8c.html#a1c16bda802e88520b0ac13fef62c8b16" title="inode_dio_wait" alt="" coords="689,122,797,149"/>
<area shape="rect" id="node19" href="read__write_8c.html#ad1047e23868beb2d7739f24f285db9c3" title="vfs_dedupe_file_range\l_compare" alt="" coords="667,5,819,47"/>
<area shape="rect" id="node21" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="899,67,1038,94"/>
<area shape="rect" id="node18" href="inode_8c.html#ae30987e28c31f85d4a90865b1a914d22" title="__inode_dio_wait" alt="" coords="907,122,1030,149"/>
<area shape="rect" id="node20" href="read__write_8c.html#ab349127d1859f4ddd87e53368aec56a0" title="vfs_dedupe_get_page" alt="" coords="894,13,1043,39"/>
<area shape="rect" id="node23" href="ocfs2_2alloc_8h.html#aab6b03c3e1b9245d8686a21d00a26278" title="ocfs2_init_dealloc_ctxt" alt="" coords="429,1453,583,1479"/>
<area shape="rect" id="node26" href="refcounttree_8c.html#adf4e141fd30e7739292f085cdf52d88a" title="ocfs2_duplicate_inline_data" alt="" coords="415,1117,597,1143"/>
<area shape="rect" id="node32" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="662,797,825,823"/>
<area shape="rect" id="node33" href="refcounttree_8c.html#a08b2c4fc6f245fbd073a28cdb1152e58" title="ocfs2_create_refcount_tree" alt="" coords="416,914,596,941"/>
<area shape="rect" id="node38" href="refcounttree_8c.html#ae379130647207806872013fdbe514b9d" title="ocfs2_set_refcount_tree" alt="" coords="425,1066,587,1093"/>
<area shape="rect" id="node39" href="ocfs2_2alloc_8c.html#a7c7496f9183fe97d721d5fc631e2d98a" title="ocfs2_convert_inline\l_data_to_extents" alt="" coords="435,1168,577,1209"/>
<area shape="rect" id="node41" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="437,1336,575,1377"/>
<area shape="rect" id="node42" href="ocfs2_2alloc_8h.html#adba89be676b770d5503f87948b68773a" title="ocfs2_dealloc_has_cluster" alt="" coords="418,1621,594,1647"/>
<area shape="rect" id="node43" href="ocfs2_2alloc_8c.html#a22c510ed4e868a35a9261d5686206eba" title="ocfs2_schedule_truncate\l_log_flush" alt="" coords="423,1504,589,1545"/>
<area shape="rect" id="node44" href="ocfs2_2alloc_8c.html#a9dae8fdb098ee4f1a1a18635067e0c31" title="ocfs2_run_deallocs" alt="" coords="439,1570,573,1597"/>
<area shape="rect" id="node24" href="ocfs2_2alloc_8h.html#a112710529cab60c690bc42660f10b38d" title="ocfs2_cache_cluster\l_dealloc" alt="" coords="672,1539,815,1580"/>
<area shape="rect" id="node25" href="ocfs2_2alloc_8h.html#a6af83e05abd6d99e3ab6294fafb824d8" title="ocfs2_cache_block_dealloc" alt="" coords="652,1605,835,1631"/>
<area shape="rect" id="node27" href="ocfs2_2journal_8c.html#a06b3009390a9f07ded7596f7e48e0d83" title="ocfs2_start_trans" alt="" coords="682,965,805,991"/>
<area shape="rect" id="node28" href="ocfs2_2journal_8c.html#adbe5ddac64ed85d991ab4983a5cb4c1e" title="ocfs2_journal_access_di" alt="" coords="661,1117,826,1143"/>
<area shape="rect" id="node29" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="683,1269,803,1295"/>
<area shape="rect" id="node30" href="ocfs2_2journal_8c.html#ad2121c87e079ebef880f19ab5e11477f" title="ocfs2_journal_dirty" alt="" coords="678,1167,809,1194"/>
<area shape="rect" id="node31" href="ocfs2_2journal_8c.html#a54710b63c23f44291afdd1f90d2b9cb9" title="ocfs2_commit_trans" alt="" coords="673,1015,813,1042"/>
<area shape="rect" id="node34" href="suballoc_8c.html#a0f85a41915376c3a6c47e8f47439e43e" title="ocfs2_reserve_new_metadata\l_blocks" alt="" coords="645,848,841,889"/>
<area shape="rect" id="node35" href="suballoc_8c.html#ae730042eea3956e58d55773f4c2a1967" title="ocfs2_claim_metadata" alt="" coords="667,629,820,655"/>
<area shape="rect" id="node36" href="refcounttree_8c.html#a3c7a7216b461f9356a98e8f913212fde" title="ocfs2_allocate_refcount_tree" alt="" coords="649,679,838,706"/>
<area shape="rect" id="node37" href="uptodate_8c.html#a847a81165ab0a3f6bd235d85b1e0d0ea" title="ocfs2_set_new_buffer\l_uptodate" alt="" coords="668,731,819,772"/>
<area shape="rect" id="node40" href="ocfs2_2inode_8h.html#af2a41150c2de1dde47708f4217372dce" title="ocfs2_inode_sector\l_count" alt="" coords="676,1371,811,1412"/>
<area shape="rect" id="node46" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="459,1722,553,1749"/>
<area shape="rect" id="node48" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="459,173,553,199"/>
<area shape="rect" id="node49" href="ocfs2_2inode_8c.html#a4099b289cd9a7a788ab230c473af15e9" title="ocfs2_mark_inode_dirty" alt="" coords="426,1234,586,1261"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_icgraph.png" border="0" usemap="#refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_icgraph" alt=""/></div>
<map name="refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_icgraph" id="refcounttree_8h_aaf8eadc3b04ecb88a74dfdc4645e72d2_icgraph">
<area shape="rect" id="node2" href="ocfs2_2file_8c.html#a6d59726fff4cfa0065651b68f5ad5cec" title="ocfs2_file_clone_range" alt="" coords="198,5,353,32"/>
<area shape="rect" id="node3" href="ocfs2_2file_8c.html#a61f2c323da194bfc2f8ee0efc8fd2505" title="ocfs2_file_dedupe_range" alt="" coords="192,56,359,83"/>
</map>
</div>

</div>
</div>
<a id="a5caffc1289ebf9a9c6454660c98e1e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5caffc1289ebf9a9c6454660c98e1e3f">&#9670;&nbsp;</a></span>ocfs2_remove_refcount_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_remove_refcount_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>di_bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_cgraph.png" border="0" usemap="#refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_cgraph" alt=""/></div>
<map name="refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_cgraph" id="refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_cgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1188,917,1265,944"/>
<area shape="rect" id="node3" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="281,777,367,804"/>
<area shape="rect" id="node7" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="243,727,405,753"/>
<area shape="rect" id="node8" href="refcounttree_8c.html#a47f2e77e556b503b9b1628d2a1148e02" title="ocfs2_lock_refcount_tree" alt="" coords="240,233,408,260"/>
<area shape="rect" id="node18" href="refcounttree_8c.html#aacc13eaaba0752eb0f150920e930c6d8" title="ocfs2_refcount_tree_put" alt="" coords="700,5,863,32"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#a7627ae96daac325b588a37af9857dcda" title="ocfs2_unlock_refcount_tree" alt="" coords="456,332,639,359"/>
<area shape="rect" id="node24" href="refcounttree_8c.html#ad4ba8cd64d83ecf43ffa6292c30b8c37" title="ocfs2_erase_refcount\l_tree_from_list" alt="" coords="474,442,621,483"/>
<area shape="rect" id="node26" href="suballoc_8h.html#af43ce95780bacaf1315fb8a6bc5a8aec" title="ocfs2_which_suballoc\l_group" alt="" coords="249,661,399,702"/>
<area shape="rect" id="node27" href="sysfile_8c.html#a89f735537589670db02566a0a8205b9f" title="ocfs2_get_system_file\l_inode" alt="" coords="247,829,401,870"/>
<area shape="rect" id="node32" href="ocfs2_2journal_8c.html#a06b3009390a9f07ded7596f7e48e0d83" title="ocfs2_start_trans" alt="" coords="720,559,843,585"/>
<area shape="rect" id="node35" href="ocfs2_2journal_8c.html#adbe5ddac64ed85d991ab4983a5cb4c1e" title="ocfs2_journal_access_di" alt="" coords="699,1116,864,1143"/>
<area shape="rect" id="node37" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="721,1217,841,1244"/>
<area shape="rect" id="node40" href="ocfs2_2journal_8c.html#a7b5e644e5506f1537029ae2c3dac5b98" title="ocfs2_journal_access_rb" alt="" coords="241,1040,407,1067"/>
<area shape="rect" id="node41" href="ocfs2_2journal_8c.html#ad2121c87e079ebef880f19ab5e11477f" title="ocfs2_journal_dirty" alt="" coords="716,1319,847,1345"/>
<area shape="rect" id="node44" href="suballoc_8c.html#a16043d5e46714ca3f158039516a79bef" title="ocfs2_free_suballoc_bits" alt="" coords="241,1167,407,1193"/>
<area shape="rect" id="node46" href="ocfs2_2journal_8c.html#a54710b63c23f44291afdd1f90d2b9cb9" title="ocfs2_commit_trans" alt="" coords="254,1217,394,1244"/>
<area shape="rect" id="node48" href="dlmglue_8c.html#a446b45f6f86321ba09f31aaf47062ba1" title="ocfs2_inode_unlock" alt="" coords="713,508,850,535"/>
<area shape="rect" id="node49" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="303,964,345,991"/>
<area shape="rect" id="node4" href="inode_8c.html#a844185001176cf3da6e2195a24931015" title="inode_init_always" alt="" coords="485,761,610,788"/>
<area shape="rect" id="node5" href="inode_8c.html#a585882dc429befcbe4638a49bc11dff6" title="no_open" alt="" coords="746,761,817,788"/>
<area shape="rect" id="node6" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="712,812,851,839"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a268c9ffb2275286e9d2aa24b836ac07b" title="ocfs2_get_refcount_tree" alt="" coords="466,259,629,285"/>
<area shape="rect" id="node12" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="711,57,851,98"/>
<area shape="rect" id="node16" href="refcounttree_8c.html#a945392b51d0c0289499c745124be12f4" title="ocfs2_refcount_tree_get" alt="" coords="466,208,629,235"/>
<area shape="rect" id="node17" href="refcounttree_8c.html#a6cdd72ca599da67275d103f350a81333" title="__ocfs2_lock_refcount_tree" alt="" coords="456,107,639,133"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#ab05e76fdb0f2b134c7df401e3a4114ea" title="ocfs2_find_refcount_tree" alt="" coords="699,188,864,215"/>
<area shape="rect" id="node11" href="refcounttree_8c.html#a3c7a7216b461f9356a98e8f913212fde" title="ocfs2_allocate_refcount_tree" alt="" coords="687,239,876,265"/>
<area shape="rect" id="node13" href="uptodate_8c.html#a919da0b0d68a4ed60464c0897bfdbc90" title="ocfs2_metadata_cache_exit" alt="" coords="689,340,874,367"/>
<area shape="rect" id="node14" href="uptodate_8c.html#a55bfc682a481c9bffb1d4259871b293a" title="ocfs2_metadata_cache\l_purge" alt="" coords="953,286,1111,327"/>
<area shape="rect" id="node15" href="refcounttree_8c.html#a2d9ea27ef0d9554e65cd086a6a4137da" title="ocfs2_init_refcount\l_tree_lock" alt="" coords="715,122,847,163"/>
<area shape="rect" id="node19" href="refcounttree_8c.html#a90918732a83d41d70ba680f933806ccb" title="ocfs2_kref_remove_refcount_tree" alt="" coords="924,5,1140,32"/>
<area shape="rect" id="node21" href="dlmglue_8c.html#a98da24ffc7e31bc17006267d5d4ddf94" title="ocfs2_refcount_unlock" alt="" coords="705,391,858,417"/>
<area shape="rect" id="node22" href="ocfs2_8h.html#a9e7c0045acf58827ffc9bf875f2d31ba" title="ocfs2_mount_local" alt="" coords="967,407,1097,433"/>
<area shape="rect" id="node23" href="dlmglue_8c.html#a4f616c4944213537551ed3ffd6a18d56" title="ocfs2_cluster_unlock" alt="" coords="959,356,1105,383"/>
<area shape="rect" id="node25" href="refcounttree_8c.html#a118c94b3293a8365642b555c856ca234" title="ocfs2_erase_refcount\l_tree_from_list_no_lock" alt="" coords="701,442,861,483"/>
<area shape="rect" id="node28" href="sysfile_8c.html#a44cd64c693a18f8b997a96f2bc01efa2" title="is_global_system_inode" alt="" coords="467,913,628,940"/>
<area shape="rect" id="node29" href="sysfile_8c.html#ab229927cc9dce260505f14a3751f7763" title="get_local_system_inode" alt="" coords="466,863,629,889"/>
<area shape="rect" id="node30" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="522,812,573,839"/>
<area shape="rect" id="node31" href="sysfile_8c.html#a13c36594d1899e45c9d5da1e3cf8b50e" title="_ocfs2_get_system_file\l_inode" alt="" coords="952,810,1112,851"/>
<area shape="rect" id="node33" href="ocfs2_8h.html#a51e1d0086ac2d8afc66a67fb1d1a24df" title="ocfs2_is_hard_readonly" alt="" coords="953,508,1111,535"/>
<area shape="rect" id="node34" href="jbd2_2transaction_8c.html#a32d2d7a2e76c2636bbf251165982fb14" title="jbd2_journal_start" alt="" coords="970,559,1094,585"/>
<area shape="rect" id="node36" href="ocfs2_2journal_8c.html#ab3908be67651cfbc01bf6b0d25034518" title="__ocfs2_journal_access" alt="" coords="951,1065,1113,1092"/>
<area shape="rect" id="node38" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="969,1268,1095,1295"/>
<area shape="rect" id="node39" href="ocfs2_2inode_8h.html#a67e39a4048271bf7ac384399f21964ac" title="ocfs2_drop_inode" alt="" coords="970,1167,1094,1193"/>
<area shape="rect" id="node42" href="jbd2_2transaction_8c.html#a1161909aa6fe07a94cf6c7d27a26a80f" title="jbd2_journal_dirty\l_metadata" alt="" coords="971,1370,1093,1411"/>
<area shape="rect" id="node43" href="jbd2_2journal_8c.html#a80782c5fea59e6374147ba49563f3305" title="jbd2_journal_abort" alt="" coords="969,1319,1095,1345"/>
<area shape="rect" id="node45" href="suballoc_8c.html#a1cde664708daad7aa9660e522a8bfec5" title="_ocfs2_free_suballoc_bits" alt="" coords="461,1167,634,1193"/>
<area shape="rect" id="node47" href="jbd2_2transaction_8c.html#a68dd51e8be5ecae5db3d5642ca884035" title="jbd2_journal_stop" alt="" coords="486,1217,609,1244"/>
<area shape="rect" id="node50" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="510,1015,585,1041"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_icgraph.png" border="0" usemap="#refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_icgraph" alt=""/></div>
<map name="refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_icgraph" id="refcounttree_8h_a5caffc1289ebf9a9c6454660c98e1e3f_icgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="240,712,367,739"/>
<area shape="rect" id="node45" href="refcounttree_8h.html#aec9d1d24f28b164f82445b8b394d8f47" title="ocfs2_try_remove_refcount_tree" alt="" coords="940,1596,1149,1623"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="415,712,549,739"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="597,712,724,739"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="772,737,892,764"/>
<area shape="rect" id="node6" href="ocfs2_2acl_8c.html#ad8155a643e529db15d8918377f98abd8" title="ocfs2_acl_set_mode" alt="" coords="1417,1315,1559,1341"/>
<area shape="rect" id="node9" href="ocfs2_2xattr_8c.html#a96c43b719a7120c59e84896221db877d" title="ocfs2_init_xattr_bucket" alt="" coords="966,325,1123,352"/>
<area shape="rect" id="node10" href="ocfs2_2xattr_8c.html#a360b62ce90457bb05d41fd632556acfa" title="ocfs2_xattr_create\l_index_block" alt="" coords="1212,427,1343,469"/>
<area shape="rect" id="node11" href="ocfs2_2xattr_8c.html#ad1aa05ef05d854e39ea3cd5ec6a50827" title="ocfs2_read_xattr_bucket" alt="" coords="962,712,1127,739"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8c.html#aa07bd6873d99f2122a3b550bf277be6f" title="ocfs2_xattr_bucket\l_journal_access" alt="" coords="978,427,1111,469"/>
<area shape="rect" id="node13" href="ocfs2_2xattr_8c.html#a42d360253b794d1a8e5e52b1c3036700" title="ocfs2_read_xattr_block" alt="" coords="966,763,1123,789"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#a6855272478331c67ea3b5e824547c6c5" title="ocfs2_xattr_extend\l_allocation" alt="" coords="978,814,1111,855"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#ae6b808966b9f4dc5de011d7b23269e71" title="__ocfs2_remove_xattr\l_range" alt="" coords="969,595,1120,637"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8c.html#af8b3d0ad178d83a6341c5dd8c8620076" title="ocfs2_xattr_shrink_size" alt="" coords="1197,573,1357,600"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#ac2013e7127a758c673c4e7faa736d89c" title="ocfs2_xattr_get_value\l_outside" alt="" coords="969,997,1120,1038"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#a2b2bfbe075c28e54871f8e5394ff2c31" title="__ocfs2_xattr_set_value\l_outside" alt="" coords="963,1062,1127,1103"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8c.html#a8b5477ce21819f1571f7904cc35a074d" title="ocfs2_xa_block_journal\l_access" alt="" coords="965,1127,1124,1169"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8h.html#ad349a9842e74c6957ded49a7b5e8e703" title="ocfs2_xattr_remove" alt="" coords="976,5,1113,32"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#a5f12f936020f785dfea81bbbed31c034" title="ocfs2_xattr_ibody_init" alt="" coords="970,1193,1119,1220"/>
<area shape="rect" id="node22" href="ocfs2_2xattr_8c.html#a2f294522ecc0c1d114fd653629f40dc9" title="ocfs2_create_xattr\l_block" alt="" coords="979,1245,1110,1286"/>
<area shape="rect" id="node23" href="ocfs2_2xattr_8c.html#a88a615fcba1dcdc06f12cba3b5d276e7" title="__ocfs2_xattr_set_handle" alt="" coords="959,1545,1130,1572"/>
<area shape="rect" id="node33" href="ocfs2_2xattr_8c.html#ac584486f06a45340008c3f6f4ffae483" title="ocfs2_xattr_get_rec" alt="" coords="976,1311,1113,1337"/>
<area shape="rect" id="node34" href="ocfs2_2xattr_8c.html#abfcb6018db0af4c44a03a3c2fd0fedd5" title="ocfs2_add_new_xattr\l_cluster" alt="" coords="971,1362,1118,1403"/>
<area shape="rect" id="node35" href="ocfs2_2xattr_8c.html#a5b5f9f1d85918bcfe3fbb25c55020799" title="ocfs2_rm_xattr_cluster" alt="" coords="967,1428,1122,1455"/>
<area shape="rect" id="node36" href="ocfs2_2xattr_8c.html#a9c2e8053f6e7c3b1948b65d3b25bf110" title="ocfs2_xattr_attach\l_refcount_normal" alt="" coords="979,1479,1110,1521"/>
<area shape="rect" id="node37" href="ocfs2_2xattr_8c.html#a2f4efbb40d338d2048c274c5792be682" title="ocfs2_reflink_xattr\l_header" alt="" coords="980,879,1109,921"/>
<area shape="rect" id="node38" href="ocfs2_2xattr_8c.html#ab453dafa694f61e57d1f2696dfc29ec5" title="ocfs2_reflink_xattr\l_inline" alt="" coords="1213,909,1342,950"/>
<area shape="rect" id="node39" href="ocfs2_2xattr_8c.html#a04400b8672b731f7ea358223329cbc35" title="ocfs2_reflink_xattr\l_block" alt="" coords="1213,734,1342,775"/>
<area shape="rect" id="node40" href="ocfs2_2xattr_8c.html#ae69e17a025208abd3603ee7ac7e0c248" title="ocfs2_reflink_xattr_rec" alt="" coords="967,56,1122,83"/>
<area shape="rect" id="node41" href="ocfs2_2dir_8c.html#a64f25cc8db0406bc150978e54dec8223" title="ocfs2_dx_dir_link_trailer" alt="" coords="963,107,1126,133"/>
<area shape="rect" id="node42" href="ocfs2_2dir_8c.html#aabf78ff526bcd0f34cfbe58a5e56b591" title="ocfs2_read_dir_block\l_direct" alt="" coords="972,158,1117,199"/>
<area shape="rect" id="node43" href="ocfs2_2dir_8c.html#ad74676c5881b47d4a36f1844b3133697" title="ocfs2_read_dx_root" alt="" coords="977,275,1113,301"/>
<area shape="rect" id="node44" href="ocfs2_2dir_8c.html#a3e94dba701dbc0dac544e9b63588a21f" title="ocfs2_read_dx_leaf" alt="" coords="977,376,1112,403"/>
<area shape="rect" id="node7" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="1641,1328,1767,1355"/>
<area shape="rect" id="node8" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="1653,1404,1755,1431"/>
<area shape="rect" id="node24" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="1221,1517,1333,1544"/>
<area shape="rect" id="node25" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="1437,1416,1539,1443"/>
<area shape="rect" id="node28" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="1405,1467,1571,1493"/>
<area shape="rect" id="node29" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="1433,1568,1543,1595"/>
<area shape="rect" id="node31" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="1409,1517,1567,1544"/>
<area shape="rect" id="node32" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="1416,1365,1560,1392"/>
<area shape="rect" id="node26" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="1642,1480,1766,1507"/>
<area shape="rect" id="node27" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1837,1556,1936,1583"/>
<area shape="rect" id="node30" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="1626,1568,1782,1595"/>
<area shape="rect" id="node46" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="1211,1651,1343,1677"/>
<area shape="rect" id="node47" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1419,1670,1557,1711"/>
<area shape="rect" id="node49" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="1409,1736,1567,1763"/>
<area shape="rect" id="node48" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="1623,1677,1785,1704"/>
<area shape="rect" id="node50" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="1619,1736,1789,1763"/>
</map>
</div>

</div>
</div>
<a id="aec9d1d24f28b164f82445b8b394d8f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec9d1d24f28b164f82445b8b394d8f47">&#9670;&nbsp;</a></span>ocfs2_try_remove_refcount_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ocfs2_try_remove_refcount_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>di_bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_cgraph.png" border="0" usemap="#refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_cgraph" alt=""/></div>
<map name="refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_cgraph" id="refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_cgraph">
<area shape="rect" id="node2" href="ocfs2_2inode_8h.html#ad355602d6e917df63ae06c1734f0f203" title="OCFS2_I" alt="" coords="1445,948,1523,975"/>
<area shape="rect" id="node3" href="ocfs2_2xattr_8c.html#ac9bb797dd21271ffa2e9edd5dd0fb542" title="ocfs2_has_inline_xattr\l_value_outside" alt="" coords="280,309,432,350"/>
<area shape="rect" id="node5" href="refcounttree_8c.html#a5caffc1289ebf9a9c6454660c98e1e3f" title="ocfs2_remove_refcount_tree" alt="" coords="263,679,449,705"/>
<area shape="rect" id="node4" href="ocfs2__fs_8h.html#aa7d5e5cf522695c005a659fbe92f2998" title="ocfs2_xattr_is_local" alt="" coords="512,67,651,93"/>
<area shape="rect" id="node6" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="538,168,625,195"/>
<area shape="rect" id="node10" href="ocfs2_2inode_8h.html#a963d14be98b70999fccef131f3bdf824" title="ocfs2_is_refcount_inode" alt="" coords="500,117,663,144"/>
<area shape="rect" id="node11" href="refcounttree_8c.html#a47f2e77e556b503b9b1628d2a1148e02" title="ocfs2_lock_refcount_tree" alt="" coords="497,755,665,781"/>
<area shape="rect" id="node18" href="refcounttree_8c.html#aacc13eaaba0752eb0f150920e930c6d8" title="ocfs2_refcount_tree_put" alt="" coords="957,653,1120,680"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#a7627ae96daac325b588a37af9857dcda" title="ocfs2_unlock_refcount_tree" alt="" coords="713,577,896,604"/>
<area shape="rect" id="node24" href="refcounttree_8c.html#ad4ba8cd64d83ecf43ffa6292c30b8c37" title="ocfs2_erase_refcount\l_tree_from_list" alt="" coords="731,933,878,974"/>
<area shape="rect" id="node26" href="suballoc_8h.html#af43ce95780bacaf1315fb8a6bc5a8aec" title="ocfs2_which_suballoc\l_group" alt="" coords="506,1101,657,1142"/>
<area shape="rect" id="node27" href="sysfile_8c.html#a89f735537589670db02566a0a8205b9f" title="ocfs2_get_system_file\l_inode" alt="" coords="505,367,658,409"/>
<area shape="rect" id="node32" href="ocfs2_2journal_8c.html#a06b3009390a9f07ded7596f7e48e0d83" title="ocfs2_start_trans" alt="" coords="977,577,1100,604"/>
<area shape="rect" id="node35" href="ocfs2_2journal_8c.html#adbe5ddac64ed85d991ab4983a5cb4c1e" title="ocfs2_journal_access_di" alt="" coords="956,1100,1121,1127"/>
<area shape="rect" id="node37" href="ocfs2_2inode_8h.html#a0791983e73fe57087cd4d98585dcead8" title="INODE_CACHE" alt="" coords="979,999,1099,1025"/>
<area shape="rect" id="node40" href="ocfs2_2journal_8c.html#a7b5e644e5506f1537029ae2c3dac5b98" title="ocfs2_journal_access_rb" alt="" coords="498,1167,665,1193"/>
<area shape="rect" id="node41" href="ocfs2_2journal_8c.html#ad2121c87e079ebef880f19ab5e11477f" title="ocfs2_journal_dirty" alt="" coords="973,1213,1104,1240"/>
<area shape="rect" id="node44" href="suballoc_8c.html#a16043d5e46714ca3f158039516a79bef" title="ocfs2_free_suballoc_bits" alt="" coords="498,999,665,1025"/>
<area shape="rect" id="node46" href="ocfs2_2journal_8c.html#a54710b63c23f44291afdd1f90d2b9cb9" title="ocfs2_commit_trans" alt="" coords="511,219,651,245"/>
<area shape="rect" id="node48" href="dlmglue_8c.html#a446b45f6f86321ba09f31aaf47062ba1" title="ocfs2_inode_unlock" alt="" coords="970,476,1107,503"/>
<area shape="rect" id="node49" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="560,269,603,296"/>
<area shape="rect" id="node7" href="inode_8c.html#a844185001176cf3da6e2195a24931015" title="inode_init_always" alt="" coords="742,71,867,97"/>
<area shape="rect" id="node8" href="inode_8c.html#a585882dc429befcbe4638a49bc11dff6" title="no_open" alt="" coords="1003,71,1074,97"/>
<area shape="rect" id="node9" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="969,223,1108,249"/>
<area shape="rect" id="node12" href="refcounttree_8c.html#a268c9ffb2275286e9d2aa24b836ac07b" title="ocfs2_get_refcount_tree" alt="" coords="723,881,886,908"/>
<area shape="rect" id="node15" href="refcounttree_8c.html#a3dd4cca7c99dbb501f768468ce714f8b" title="ocfs2_read_refcount\l_block" alt="" coords="969,765,1109,806"/>
<area shape="rect" id="node16" href="refcounttree_8c.html#a945392b51d0c0289499c745124be12f4" title="ocfs2_refcount_tree_get" alt="" coords="723,831,886,857"/>
<area shape="rect" id="node17" href="refcounttree_8c.html#a6cdd72ca599da67275d103f350a81333" title="__ocfs2_lock_refcount_tree" alt="" coords="713,729,896,756"/>
<area shape="rect" id="node13" href="refcounttree_8c.html#ab05e76fdb0f2b134c7df401e3a4114ea" title="ocfs2_find_refcount_tree" alt="" coords="956,831,1121,857"/>
<area shape="rect" id="node14" href="refcounttree_8c.html#a3c7a7216b461f9356a98e8f913212fde" title="ocfs2_allocate_refcount_tree" alt="" coords="944,881,1133,908"/>
<area shape="rect" id="node19" href="refcounttree_8c.html#a90918732a83d41d70ba680f933806ccb" title="ocfs2_kref_remove_refcount_tree" alt="" coords="1181,679,1397,705"/>
<area shape="rect" id="node21" href="dlmglue_8c.html#a98da24ffc7e31bc17006267d5d4ddf94" title="ocfs2_refcount_unlock" alt="" coords="962,527,1115,553"/>
<area shape="rect" id="node22" href="ocfs2_8h.html#a9e7c0045acf58827ffc9bf875f2d31ba" title="ocfs2_mount_local" alt="" coords="1224,577,1355,604"/>
<area shape="rect" id="node23" href="dlmglue_8c.html#a4f616c4944213537551ed3ffd6a18d56" title="ocfs2_cluster_unlock" alt="" coords="1217,476,1362,503"/>
<area shape="rect" id="node25" href="refcounttree_8c.html#a118c94b3293a8365642b555c856ca234" title="ocfs2_erase_refcount\l_tree_from_list_no_lock" alt="" coords="959,933,1119,974"/>
<area shape="rect" id="node28" href="sysfile_8c.html#a44cd64c693a18f8b997a96f2bc01efa2" title="is_global_system_inode" alt="" coords="724,425,885,452"/>
<area shape="rect" id="node29" href="sysfile_8c.html#ab229927cc9dce260505f14a3751f7763" title="get_local_system_inode" alt="" coords="723,375,886,401"/>
<area shape="rect" id="node30" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="779,273,830,300"/>
<area shape="rect" id="node31" href="sysfile_8c.html#a13c36594d1899e45c9d5da1e3cf8b50e" title="_ocfs2_get_system_file\l_inode" alt="" coords="1209,338,1369,379"/>
<area shape="rect" id="node33" href="ocfs2_8h.html#a51e1d0086ac2d8afc66a67fb1d1a24df" title="ocfs2_is_hard_readonly" alt="" coords="1210,527,1369,553"/>
<area shape="rect" id="node34" href="jbd2_2transaction_8c.html#a32d2d7a2e76c2636bbf251165982fb14" title="jbd2_journal_start" alt="" coords="1227,628,1351,655"/>
<area shape="rect" id="node36" href="ocfs2_2journal_8c.html#ab3908be67651cfbc01bf6b0d25034518" title="__ocfs2_journal_access" alt="" coords="1208,1100,1371,1127"/>
<area shape="rect" id="node38" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1226,948,1353,975"/>
<area shape="rect" id="node39" href="ocfs2_2inode_8h.html#a67e39a4048271bf7ac384399f21964ac" title="ocfs2_drop_inode" alt="" coords="1227,999,1351,1025"/>
<area shape="rect" id="node42" href="jbd2_2transaction_8c.html#a1161909aa6fe07a94cf6c7d27a26a80f" title="jbd2_journal_dirty\l_metadata" alt="" coords="1228,1151,1351,1193"/>
<area shape="rect" id="node43" href="jbd2_2journal_8c.html#a80782c5fea59e6374147ba49563f3305" title="jbd2_journal_abort" alt="" coords="1226,1217,1353,1244"/>
<area shape="rect" id="node45" href="suballoc_8c.html#a1cde664708daad7aa9660e522a8bfec5" title="_ocfs2_free_suballoc_bits" alt="" coords="718,1049,891,1076"/>
<area shape="rect" id="node47" href="jbd2_2transaction_8c.html#a68dd51e8be5ecae5db3d5642ca884035" title="jbd2_journal_stop" alt="" coords="743,121,866,148"/>
<area shape="rect" id="node50" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="767,172,842,199"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_icgraph.png" border="0" usemap="#refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_icgraph" alt=""/></div>
<map name="refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_icgraph" id="refcounttree_8h_aec9d1d24f28b164f82445b8b394d8f47_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="677,132,789,159"/>
<area shape="rect" id="node22" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="263,237,395,264"/>
<area shape="rect" id="node3" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="898,107,1001,133"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="867,157,1032,184"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="894,259,1005,285"/>
<area shape="rect" id="node20" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="870,5,1029,32"/>
<area shape="rect" id="node21" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="877,56,1021,83"/>
<area shape="rect" id="node4" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="1096,127,1223,153"/>
<area shape="rect" id="node5" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="1097,76,1221,103"/>
<area shape="rect" id="node7" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="1108,259,1211,285"/>
<area shape="rect" id="node6" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1310,76,1409,103"/>
<area shape="rect" id="node8" href="ocfs2_2xattr_8h.html#a6d965bcdb10f77c4b23347703af28d37" title="ocfs2_init_security\l_and_acl" alt="" coords="1294,127,1425,169"/>
<area shape="rect" id="node13" href="ocfs2_2namei_8c.html#a5a8fa945d08fb2eafc24f39630a6fa17" title="ocfs2_mknod" alt="" coords="1483,309,1583,336"/>
<area shape="rect" id="node9" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1485,168,1581,195"/>
<area shape="rect" id="node10" href="refcounttree_8c.html#a361ae2a79adeb5fe8a05c925e48b2c1a" title="ocfs2_vfs_reflink" alt="" coords="1635,168,1756,195"/>
<area shape="rect" id="node11" href="refcounttree_8h.html#aea81895d4cf45213d159bb7062179172" title="ocfs2_reflink_ioctl" alt="" coords="1804,168,1931,195"/>
<area shape="rect" id="node12" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1979,168,2064,195"/>
<area shape="rect" id="node14" href="ocfs2_2namei_8c.html#a2cfeba05a2658265d1b4f4d135fe8a95" title="ocfs2_mkdir" alt="" coords="1649,335,1742,361"/>
<area shape="rect" id="node15" href="ocfs2_2namei_8c.html#a5941207e141e5d428728f560689f1398" title="ocfs2_create" alt="" coords="1647,284,1744,311"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="1081,309,1237,336"/>
<area shape="rect" id="node19" href="ocfs2_2namei_8c.html#a0089f75e44a9fd46e4b5f8b313d0af1e" title="ocfs2_symlink" alt="" coords="1480,385,1587,412"/>
<area shape="rect" id="node23" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="452,267,591,309"/>
<area shape="rect" id="node26" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="443,351,600,377"/>
<area shape="rect" id="node24" href="ocfs2_2aops_8c.html#a62285e9f85b08e2890ad6d40f73fbe3a" title="ocfs2_dio_wr_get_block" alt="" coords="652,292,815,319"/>
<area shape="rect" id="node25" href="ocfs2_2aops_8c.html#a34403509b19366144ea3c92c7f2760c8" title="ocfs2_direct_IO" alt="" coords="892,309,1007,336"/>
<area shape="rect" id="node27" href="journal_8h.html#af2c9c1b7d9fba66a98c7b8d1399add60" title="ocfs2_complete_recovery" alt="" coords="648,372,819,399"/>
<area shape="rect" id="node28" href="ocfs2_2super_8c.html#acde5a063bcd0ae6340db5ad59b6230ba" title="ocfs2_initialize_super" alt="" coords="876,423,1023,449"/>
<area shape="rect" id="node31" href="journal_8h.html#a1f4038c3558ccccf97b75aeeb079c898" title="ocfs2_ci_set_new" alt="" coords="886,372,1013,399"/>
<area shape="rect" id="node29" href="ocfs2_2super_8c.html#aae09c84567eb36b012612fa7f187c3ee" title="ocfs2_fill_super" alt="" coords="1103,448,1216,475"/>
<area shape="rect" id="node30" href="ocfs2_2super_8c.html#aca38f76e33cde96ed91b51148bcdc947" title="ocfs2_mount" alt="" coords="1311,461,1408,488"/>
<area shape="rect" id="node32" href="ocfs2_2namei_8c.html#abfcd967c07c863371ac05be77b16c47b" title="__ocfs2_mknod_locked" alt="" coords="1080,372,1239,399"/>
<area shape="rect" id="node33" href="ocfs2_2namei_8c.html#a3431706f8cc24382fc0c00d07f95c24b" title="ocfs2_mknod_locked" alt="" coords="1287,411,1432,437"/>
<area shape="rect" id="node34" href="namei_8h.html#a33ecd2392f71252d3c6e3b31f53ae74a" title="ocfs2_create_inode\l_in_orphan" alt="" coords="1292,193,1427,234"/>
</map>
</div>

</div>
</div>
<a id="a7627ae96daac325b588a37af9857dcda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7627ae96daac325b588a37af9857dcda">&#9670;&nbsp;</a></span>ocfs2_unlock_refcount_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ocfs2_unlock_refcount_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structocfs2__super.html">ocfs2_super</a> *&#160;</td>
          <td class="paramname"><em>osb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structocfs2__refcount__tree.html">ocfs2_refcount_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a7627ae96daac325b588a37af9857dcda_cgraph.png" border="0" usemap="#refcounttree_8h_a7627ae96daac325b588a37af9857dcda_cgraph" alt=""/></div>
<map name="refcounttree_8h_a7627ae96daac325b588a37af9857dcda_cgraph" id="refcounttree_8h_a7627ae96daac325b588a37af9857dcda_cgraph">
<area shape="rect" id="node2" href="dlmglue_8c.html#a98da24ffc7e31bc17006267d5d4ddf94" title="ocfs2_refcount_unlock" alt="" coords="1383,523,1536,550"/>
<area shape="rect" id="node19" href="refcounttree_8c.html#aacc13eaaba0752eb0f150920e930c6d8" title="ocfs2_refcount_tree_put" alt="" coords="236,633,399,659"/>
<area shape="rect" id="node3" href="ocfs2_8h.html#a9e7c0045acf58827ffc9bf875f2d31ba" title="ocfs2_mount_local" alt="" coords="1615,422,1745,449"/>
<area shape="rect" id="node4" href="dlmglue_8c.html#a4f616c4944213537551ed3ffd6a18d56" title="ocfs2_cluster_unlock" alt="" coords="1607,523,1753,550"/>
<area shape="rect" id="node5" href="dlmglue_8c.html#a3b080f7efae375bc53a6c2725b7cd6f6" title="__ocfs2_cluster_unlock" alt="" coords="1824,269,1983,295"/>
<area shape="rect" id="node9" href="dlmglue_8c.html#a30ca94c1c2a0fa36b7a4e581276a8f88" title="ocfs2_generic_handle\l_downconvert_action" alt="" coords="1829,655,1977,696"/>
<area shape="rect" id="node13" href="dlmglue_8c.html#aa1f76e902f7c08990d5559707cd40853" title="ocfs2_generic_handle\l_convert_action" alt="" coords="1829,421,1977,463"/>
<area shape="rect" id="node15" href="dlmglue_8c.html#a02b64fabcb3154262c4320264be6757e" title="ocfs2_generic_handle\l_attach_action" alt="" coords="1829,487,1977,528"/>
<area shape="rect" id="node16" href="dlmglue_8c.html#a2c7beb56c67c69b680b5066f6beca919" title="ocfs2_generic_handle_bast" alt="" coords="1813,553,1993,579"/>
<area shape="rect" id="node17" href="dlmglue_8c.html#ac499e65b7d9e5fa49e5faa6037ed3fe8" title="ocfs2_schedule_blocked_lock" alt="" coords="1805,370,2001,397"/>
<area shape="rect" id="node18" href="dlmglue_8c.html#a566034c585bf11c1a1d496d66bab9586" title="ocfs2_recover_from\l_dlm_error" alt="" coords="2059,764,2196,805"/>
<area shape="rect" id="node6" href="dlmglue_8c.html#ab2ae1bcf802cd36b532cead7bffbc9ad" title="ocfs2_dec_holders" alt="" coords="2062,298,2193,325"/>
<area shape="rect" id="node7" href="dlmglue_8c.html#a0be32480d10293c7cb3c07086624eb28" title="ocfs2_downconvert_on\l_unlock" alt="" coords="2049,232,2205,273"/>
<area shape="rect" id="node8" href="dlmglue_8c.html#adab2a2238011759a09a4406d6a93bed8" title="ocfs2_wake_downconvert\l_thread" alt="" coords="2253,232,2427,273"/>
<area shape="rect" id="node10" href="dlmglue_8c.html#a0e2e370be399914913425c2e0ec95f95" title="ocfs2_highest_compat\l_lock_level" alt="" coords="2051,596,2204,637"/>
<area shape="rect" id="node11" href="dlmglue_8c.html#a71013118b51255ce41c8148bd3ae1256" title="lockres_clear_flags" alt="" coords="2273,687,2407,714"/>
<area shape="rect" id="node12" href="dlmglue_8c.html#a2f5ae82be6decde9f94541fcdf939d75" title="lockres_set_flags" alt="" coords="2475,621,2599,647"/>
<area shape="rect" id="node14" href="dlmglue_8c.html#abc90cbec96bfe0b692d9a781ec798723" title="lockres_or_flags" alt="" coords="2069,494,2186,521"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#a90918732a83d41d70ba680f933806ccb" title="ocfs2_kref_remove_refcount_tree" alt="" coords="447,771,663,798"/>
<area shape="rect" id="node21" href="refcounttree_8c.html#af23f9ed91551c4f3c8f71a2a223aa38b" title="ocfs2_free_refcount_tree" alt="" coords="711,771,877,798"/>
<area shape="rect" id="node22" href="uptodate_8c.html#a919da0b0d68a4ed60464c0897bfdbc90" title="ocfs2_metadata_cache_exit" alt="" coords="925,261,1111,287"/>
<area shape="rect" id="node29" href="dlmglue_8c.html#a266c19358d548aa367411bec9b5b7c6c" title="ocfs2_simple_drop_lockres" alt="" coords="928,771,1108,798"/>
<area shape="rect" id="node46" href="dlmglue_8c.html#aa1b849b786c375001acbfc62524f3e3d" title="ocfs2_lock_res_free" alt="" coords="949,979,1087,1006"/>
<area shape="rect" id="node23" href="uptodate_8c.html#a55bfc682a481c9bffb1d4259871b293a" title="ocfs2_metadata_cache\l_purge" alt="" coords="1159,165,1316,207"/>
<area shape="rect" id="node26" href="uptodate_8c.html#a8e033a043bb31a9bd2e80e54fe799759" title="ocfs2_metadata_cache\l_reset" alt="" coords="1381,253,1538,295"/>
<area shape="rect" id="node24" href="uptodate_8c.html#a3ec979ed6db1dd9207c685d695c1c696" title="ocfs2_metadata_cache_lock" alt="" coords="1365,202,1553,229"/>
<area shape="rect" id="node25" href="uptodate_8c.html#a57a5820f1e935d5d08cdd118b756c94a" title="ocfs2_metadata_cache\l_owner" alt="" coords="1381,5,1538,47"/>
<area shape="rect" id="node27" href="uptodate_8c.html#aa305461d2b0b2eb002e2725fd3b86b18" title="ocfs2_metadata_cache\l_unlock" alt="" coords="1381,71,1538,112"/>
<area shape="rect" id="node28" href="uptodate_8c.html#a3ec83901cda556c8cf351047f7b54e79" title="ocfs2_purge_copied\l_metadata_tree" alt="" coords="1390,136,1529,177"/>
<area shape="rect" id="node30" href="dlmglue_8c.html#af23494c592bf38b59f3a3aaa370d665c" title="ocfs2_mark_lockres\l_freeing" alt="" coords="1168,979,1307,1020"/>
<area shape="rect" id="node42" href="dlmglue_8c.html#a7ff7958fd028f5b1518716b56ddb5bf7" title="ocfs2_drop_lock" alt="" coords="1179,771,1296,798"/>
<area shape="rect" id="node31" href="dlmglue_8c.html#a1c795587f9164f980a3dca17d8218b1d" title="ocfs2_init_mask_waiter" alt="" coords="1380,1087,1539,1114"/>
<area shape="rect" id="node33" href="dlmglue_8c.html#ae0c086cef1ceb87e2b3dadeb0222258e" title="ocfs2_process_blocked_lock" alt="" coords="1364,822,1555,849"/>
<area shape="rect" id="node40" href="dlmglue_8c.html#a5bc90657ee342036e5612ae76b66b839" title="lockres_add_mask_waiter" alt="" coords="1373,986,1546,1013"/>
<area shape="rect" id="node41" href="dlmglue_8c.html#a789c2e0bfa3f61b08c05fc40d4a7df12" title="ocfs2_wait_for_mask" alt="" coords="1386,1037,1533,1063"/>
<area shape="rect" id="node32" href="dlmglue_8c.html#a3c5c92adb50e2850cd150ef1137b4e5f" title="ocfs2_init_start_time" alt="" coords="1609,1131,1751,1158"/>
<area shape="rect" id="node34" href="dlmglue_8c.html#a591501bc47276f16fa703e42fc165787" title="ocfs2_unblock_lock" alt="" coords="1611,918,1749,945"/>
<area shape="rect" id="node35" href="dlmglue_8c.html#a3f385409e2ec9e78f9ac7d8425378741" title="ocfs2_prepare_cancel\l_convert" alt="" coords="1829,1025,1978,1067"/>
<area shape="rect" id="node36" href="dlmglue_8c.html#a53832fee850f1a585baae052d488cf76" title="ocfs2_cancel_convert" alt="" coords="1829,923,1978,950"/>
<area shape="rect" id="node39" href="dlmglue_8c.html#a622a34c98262f90f92e8b17d015f0b9b" title="ocfs2_prepare_downconvert" alt="" coords="1811,603,1996,630"/>
<area shape="rect" id="node37" href="stackglue_8c.html#a6d77aad5198c0b357fe9e39148ac2131" title="ocfs2_dlm_unlock" alt="" coords="2064,1091,2191,1118"/>
<area shape="rect" id="node38" href="stackglue_8c.html#a15052933b776705ee3821e1804f38e1f" title="EXPORT_SYMBOL_GPL" alt="" coords="2254,1117,2426,1143"/>
<area shape="rect" id="node43" href="dlmglue_8c.html#a2d4038bf018d268fe9a2a8a3de3c2f9a" title="ocfs2_wait_on_busy_lock" alt="" coords="1373,670,1545,697"/>
<area shape="rect" id="node45" href="stackglue_8c.html#a513a952d80b15cfa95d8bfa8159a802b" title="ocfs2_dlm_dump_lksb" alt="" coords="1604,1059,1756,1086"/>
<area shape="rect" id="node44" href="dlmglue_8c.html#af6a5a646a5bbfe85ba1241bae7686d74" title="ocfs2_check_wait_flag" alt="" coords="1603,670,1757,697"/>
<area shape="rect" id="node47" href="dlmglue_8c.html#a7b4ebd29285440185a84a09a3f326d9b" title="ocfs2_remove_lockres\l_tracking" alt="" coords="1161,1181,1314,1223"/>
<area shape="rect" id="node48" href="dlmglue_8c.html#a6f0334d5bd7f4db6f82d49fb52817190" title="ocfs2_init_lock_stats" alt="" coords="1387,1189,1532,1215"/>
<area shape="rect" id="node49" href="dlmglue_8c.html#a371a57db50fd320eb4cbb6e3c558012a" title="ocfs2_update_lock_stats" alt="" coords="1376,1239,1543,1266"/>
<area shape="rect" id="node50" href="dlmglue_8c.html#afbaaff863c41afadce23838f78bc303a" title="ocfs2_track_lock_refresh" alt="" coords="1375,1290,1543,1317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="refcounttree_8h_a7627ae96daac325b588a37af9857dcda_icgraph.png" border="0" usemap="#refcounttree_8h_a7627ae96daac325b588a37af9857dcda_icgraph" alt=""/></div>
<map name="refcounttree_8h_a7627ae96daac325b588a37af9857dcda_icgraph" id="refcounttree_8h_a7627ae96daac325b588a37af9857dcda_icgraph">
<area shape="rect" id="node2" href="ocfs2_2xattr_8h.html#ad349a9842e74c6957ded49a7b5e8e703" title="ocfs2_xattr_remove" alt="" coords="477,55,614,82"/>
<area shape="rect" id="node6" href="ocfs2_2xattr_8h.html#af4a93f7abb698a9e384d92ddcba2d1b1" title="ocfs2_xattr_set" alt="" coords="974,308,1086,335"/>
<area shape="rect" id="node19" href="ocfs2_2xattr_8h.html#ad9ca1e7e3135555466255da0faf0838e" title="ocfs2_reflink_xattrs" alt="" coords="477,628,613,655"/>
<area shape="rect" id="node21" href="ocfs2_2alloc_8h.html#a2b9505829bc383022a1739deac61a349" title="ocfs2_remove_btree\l_range" alt="" coords="475,157,615,198"/>
<area shape="rect" id="node26" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="1386,746,1525,788"/>
<area shape="rect" id="node29" href="ocfs2_2alloc_8h.html#a3838e510209f9373c9f78f76b3ba3e3f" title="ocfs2_commit_truncate" alt="" coords="712,156,871,183"/>
<area shape="rect" id="node34" href="move__extents_8c.html#a45483cc32964abae5b5ccc77263ef577" title="ocfs2_defrag_extent" alt="" coords="475,831,615,858"/>
<area shape="rect" id="node37" href="move__extents_8c.html#a5ec9efed916cbf5026af9849f15f0458" title="ocfs2_move_extent" alt="" coords="477,882,613,908"/>
<area shape="rect" id="node38" href="refcounttree_8h.html#a7d74fc9e3b073359bbd3747bce67b682" title="ocfs2_lock_refcount_tree" alt="" coords="236,502,404,528"/>
<area shape="rect" id="node40" href="refcounttree_8c.html#ae379130647207806872013fdbe514b9d" title="ocfs2_set_refcount_tree" alt="" coords="464,730,627,756"/>
<area shape="rect" id="node41" href="refcounttree_8c.html#ab7d4e69a0e46294321e899a21b872363" title="ocfs2_create_reflink_node" alt="" coords="704,578,879,604"/>
<area shape="rect" id="node42" href="refcounttree_8h.html#a5caffc1289ebf9a9c6454660c98e1e3f" title="ocfs2_remove_refcount_tree" alt="" coords="452,274,639,300"/>
<area shape="rect" id="node44" href="refcounttree_8c.html#a0d1153e266bfd86b78e61beae3f858b8" title="ocfs2_refcount_cow_hunk" alt="" coords="458,375,633,402"/>
<area shape="rect" id="node50" href="refcounttree_8c.html#ad74ba2373ab211930bbd72ae7e6ca91c" title="ocfs2_attach_refcount_tree" alt="" coords="455,679,635,706"/>
<area shape="rect" id="node3" href="ocfs2_2inode_8c.html#a6dfc1c5d53fd31fa6d39f4519c7784c4" title="ocfs2_wipe_inode" alt="" coords="1183,90,1310,116"/>
<area shape="rect" id="node4" href="ocfs2_2inode_8c.html#a516b02472ed63e1b03cfede88953a879" title="ocfs2_delete_inode" alt="" coords="1388,90,1523,116"/>
<area shape="rect" id="node5" href="ocfs2_2inode_8h.html#a398f5bc1cb20e16c8a7b72e21e5844b1" title="ocfs2_evict_inode" alt="" coords="1587,90,1714,116"/>
<area shape="rect" id="node7" href="ocfs2_2acl_8c.html#ac0e3d0a9cf8809ee435952ceade8499d" title="ocfs2_set_acl" alt="" coords="1195,410,1298,436"/>
<area shape="rect" id="node14" href="ocfs2_2xattr_8c.html#aa558c41b9befb2cc0ac8ac09b75506d0" title="ocfs2_xattr_security_set" alt="" coords="1164,308,1329,335"/>
<area shape="rect" id="node15" href="ocfs2_2xattr_8c.html#aa667c8747ca4d12b71300f4fa6d1015e" title="ocfs2_initxattrs" alt="" coords="1191,511,1302,538"/>
<area shape="rect" id="node17" href="ocfs2_2xattr_8c.html#a8e609af13128951d0470e86869b65812" title="ocfs2_xattr_trusted_set" alt="" coords="1167,359,1326,386"/>
<area shape="rect" id="node18" href="ocfs2_2xattr_8c.html#a6fe1011764dc1189797f6ac9cc509100" title="ocfs2_xattr_user_set" alt="" coords="1175,460,1319,487"/>
<area shape="rect" id="node8" href="ocfs2_2acl_8h.html#aaa83824f4413facb817e26dc477e0411" title="ocfs2_iop_set_acl" alt="" coords="1392,410,1519,436"/>
<area shape="rect" id="node9" href="ocfs2_2acl_8h.html#a746e421e0d74ee58ed07c02cebe2178e" title="ocfs2_acl_chmod" alt="" coords="1393,300,1517,327"/>
<area shape="rect" id="node11" href="ocfs2_2acl_8h.html#a7dd27631f379ab4682f2c93a3ca2ff7f" title="ocfs2_init_acl" alt="" coords="1404,460,1507,487"/>
<area shape="rect" id="node10" href="file_8h.html#af5c1379892500b3459265e8626233699" title="ocfs2_setattr" alt="" coords="1601,246,1700,272"/>
<area shape="rect" id="node12" href="ocfs2_2xattr_8h.html#a6d965bcdb10f77c4b23347703af28d37" title="ocfs2_init_security\l_and_acl" alt="" coords="1585,504,1716,545"/>
<area shape="rect" id="node13" href="refcounttree_8c.html#a101167830b0fff3f5d3811f8d17eafb3" title="ocfs2_reflink" alt="" coords="1789,632,1885,659"/>
<area shape="rect" id="node16" href="ocfs2_2xattr_8h.html#a215328b0e16e1d40bd20a36f20617ce7" title="ocfs2_init_security_get" alt="" coords="1377,511,1533,538"/>
<area shape="rect" id="node20" href="refcounttree_8c.html#aff36b539227d81e01b41b7e4bc340a19" title="__ocfs2_reflink" alt="" coords="975,695,1085,722"/>
<area shape="rect" id="node22" href="ocfs2_2dir_8h.html#a4cae0af69b14f47f94accb37f92a7323" title="ocfs2_dx_dir_truncate" alt="" coords="716,90,867,116"/>
<area shape="rect" id="node24" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="1175,578,1318,620"/>
<area shape="rect" id="node23" href="ocfs2_2dir_8h.html#a8f08ca5cefcca5709e496cc10cfb6a08" title="ocfs2_add_entry" alt="" coords="971,39,1089,66"/>
<area shape="rect" id="node25" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="1385,578,1526,620"/>
<area shape="rect" id="node27" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1581,776,1720,817"/>
<area shape="rect" id="node28" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1768,776,1907,817"/>
<area shape="rect" id="node30" href="file_8h.html#a5095e24e4ba4a79cedec44d039b4993b" title="ocfs2_truncate_file" alt="" coords="964,258,1096,284"/>
<area shape="rect" id="node33" href="ocfs2_2inode_8c.html#a51d2bf400409ed6e8c1addae690d7100" title="ocfs2_truncate_for\l_delete" alt="" coords="965,141,1095,182"/>
<area shape="rect" id="node31" href="namei_8h.html#a9d23468f45a1c03b6102ea7f6796829e" title="ocfs2_add_inode_to\l_orphan" alt="" coords="1177,242,1316,284"/>
<area shape="rect" id="node32" href="ocfs2_2journal_8c.html#a1ec7d1a5692c51e500d209f9f1bbf7dd" title="ocfs2_recover_orphans" alt="" coords="1168,140,1325,167"/>
<area shape="rect" id="node35" href="move__extents_8c.html#ab5f4989a68ed7cc026ae3de927b5279e" title="__ocfs2_move_extents\l_range" alt="" coords="713,865,870,906"/>
<area shape="rect" id="node36" href="move__extents_8c.html#a7092fc7606a9b5fa37904e18fd039651" title="ocfs2_move_extents" alt="" coords="959,872,1101,899"/>
<area shape="rect" id="node39" href="ocfs2_2xattr_8c.html#a03ae7ec53a172dd03c90d08df26c14c2" title="ocfs2_prepare_refcount\l_xattr" alt="" coords="712,360,871,401"/>
<area shape="rect" id="node43" href="refcounttree_8h.html#aec9d1d24f28b164f82445b8b394d8f47" title="ocfs2_try_remove_refcount_tree" alt="" coords="687,258,896,284"/>
<area shape="rect" id="node45" href="refcounttree_8h.html#ab74fc9d4c56a00ba3af960e8129b4dc7" title="ocfs2_refcount_cow" alt="" coords="722,476,861,503"/>
<area shape="rect" id="node46" href="ocfs2_2file_8c.html#aa3f251bd087c39db0675e07076ce3598" title="ocfs2_cow_file_pos" alt="" coords="961,594,1099,620"/>
<area shape="rect" id="node47" href="ocfs2_2file_8c.html#a29d83dc89dea9c3f9c3f898fb665a4f3" title="ocfs2_zero_extend_get\l_range" alt="" coords="951,528,1109,569"/>
<area shape="rect" id="node48" href="ocfs2_2file_8c.html#ae25143cc5a9e7cd3af6a3c1e631f3ac1" title="ocfs2_prepare_inode\l_for_refcount" alt="" coords="959,410,1101,452"/>
<area shape="rect" id="node49" href="ocfs2_2aops_8h.html#a3ff7132d9ee29a0eecdec3a95c833f18" title="ocfs2_write_begin_nolock" alt="" coords="944,476,1116,503"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_be0bb2a89c3680926f7eb84069ee534c.html">ocfs2</a></li><li class="navelem"><a class="el" href="refcounttree_8h.html">refcounttree.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
