<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: gfs2/log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/list.h&gt;</code><br />
<code>#include &lt;linux/spinlock.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &quot;<a class="el" href="incore_8h_source.html">incore.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for log.h:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h__incl.png" border="0" usemap="#gfs2_2log_8h" alt=""/></div>
<map name="gfs2_2log_8h" id="gfs2_2log_8h">
<area shape="rect" id="node5" href="incore_8h.html" title="incore.h" alt="" coords="817,80,885,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h__dep__incl.png" border="0" usemap="#gfs2_2log_8hdep" alt=""/></div>
<map name="gfs2_2log_8hdep" id="gfs2_2log_8hdep">
<area shape="rect" id="node2" href="gfs2_2aops_8c.html" title="gfs2/aops.c" alt="" coords="5,80,96,107"/>
<area shape="rect" id="node3" href="gfs2_2bmap_8c.html" title="gfs2/bmap.c" alt="" coords="121,80,215,107"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html" title="gfs2/file.c" alt="" coords="239,80,318,107"/>
<area shape="rect" id="node5" href="glops_8c.html" title="gfs2/glops.c" alt="" coords="343,80,436,107"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html" title="gfs2/log.c" alt="" coords="461,80,539,107"/>
<area shape="rect" id="node7" href="lops_8c.html" title="gfs2/lops.c" alt="" coords="563,80,650,107"/>
<area shape="rect" id="node8" href="meta__io_8c.html" title="gfs2/meta_io.c" alt="" coords="674,80,782,107"/>
<area shape="rect" id="node9" href="ops__fstype_8c.html" title="gfs2/ops_fstype.c" alt="" coords="806,80,933,107"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html" title="gfs2/quota.c" alt="" coords="957,80,1051,107"/>
<area shape="rect" id="node11" href="gfs2_2recovery_8c.html" title="gfs2/recovery.c" alt="" coords="1076,80,1188,107"/>
<area shape="rect" id="node12" href="rgrp_8c.html" title="gfs2/rgrp.c" alt="" coords="1213,80,1297,107"/>
<area shape="rect" id="node13" href="gfs2_2super_8c.html" title="gfs2/super.c" alt="" coords="1321,80,1415,107"/>
<area shape="rect" id="node14" href="gfs2_2trans_8c.html" title="gfs2/trans.c" alt="" coords="1440,80,1531,107"/>
</map>
</div>
</div>
<p><a href="log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa07bf7138b0cab8cb509eacdcc9df3bc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc">gfs2_log_lock</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp) __acquires(&amp;sdp -&gt; sd_log_lock)</td></tr>
<tr class="separator:aa07bf7138b0cab8cb509eacdcc9df3bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5568969fed5701427061a1a6f44e99"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99">gfs2_log_unlock</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp) __releases(&amp;sdp -&gt; sd_log_lock)</td></tr>
<tr class="separator:a9e5568969fed5701427061a1a6f44e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a354fe327da972e2a6e00ab478b4efb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a2a354fe327da972e2a6e00ab478b4efb">gfs2_log_pointers_init</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, unsigned int value)</td></tr>
<tr class="separator:a2a354fe327da972e2a6e00ab478b4efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97051294a11e01063ffb8426b12156ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a97051294a11e01063ffb8426b12156ac">gfs2_ordered_add_inode</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:a97051294a11e01063ffb8426b12156ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60b82653a5d3ddb7cb5e8e14b8dd98a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a">gfs2_ordered_del_inode</a> (struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *ip)</td></tr>
<tr class="separator:ac60b82653a5d3ddb7cb5e8e14b8dd98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0405f8f650be2abe1aa7d713402120da"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0405f8f650be2abe1aa7d713402120da">gfs2_struct2blk</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, unsigned int nstruct, unsigned int ssize)</td></tr>
<tr class="separator:a0405f8f650be2abe1aa7d713402120da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf927ed7efebf3e8f204b0ac4d934ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0cf927ed7efebf3e8f204b0ac4d934ac">gfs2_log_release</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, unsigned int blks)</td></tr>
<tr class="separator:a0cf927ed7efebf3e8f204b0ac4d934ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13302c169f75b545635a877c5dcfffd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a13302c169f75b545635a877c5dcfffd7">gfs2_log_reserve</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, unsigned int blks)</td></tr>
<tr class="separator:a13302c169f75b545635a877c5dcfffd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85f98254492840f41e8e4af6d9c1fb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac85f98254492840f41e8e4af6d9c1fb1">gfs2_write_log_header</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *jd, u64 seq, u32 tail, u32 <a class="el" href="structflags.html">flags</a>, int op_flags)</td></tr>
<tr class="separator:ac85f98254492840f41e8e4af6d9c1fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d3ae189d1c4809cf72babe10a2f375"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375">gfs2_log_flush</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structgfs2__glock.html">gfs2_glock</a> *gl, u32 <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:ad6d3ae189d1c4809cf72babe10a2f375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f65d81947f613b6bc8a72eee3a3914"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ae8f65d81947f613b6bc8a72eee3a3914">gfs2_log_commit</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structgfs2__trans.html">gfs2_trans</a> *trans)</td></tr>
<tr class="separator:ae8f65d81947f613b6bc8a72eee3a3914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537c4042c63a9f1f940830c2314c91e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a537c4042c63a9f1f940830c2314c91e9">gfs2_ail1_flush</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct writeback_control *wbc)</td></tr>
<tr class="separator:a537c4042c63a9f1f940830c2314c91e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e221e3466b3ef401126e11a7e14ee9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a05e221e3466b3ef401126e11a7e14ee9">gfs2_log_shutdown</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp)</td></tr>
<tr class="separator:a05e221e3466b3ef401126e11a7e14ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae934c02d570412321b236ff11310315b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ae934c02d570412321b236ff11310315b">gfs2_logd</a> (void *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:ae934c02d570412321b236ff11310315b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0297e2aea09918000f7fa38e5c5bdd1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0297e2aea09918000f7fa38e5c5bdd1a">gfs2_add_revoke</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp, struct <a class="el" href="structgfs2__bufdata.html">gfs2_bufdata</a> *bd)</td></tr>
<tr class="separator:a0297e2aea09918000f7fa38e5c5bdd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e46234b65750a6c63ac54cc636f75d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ab7e46234b65750a6c63ac54cc636f75d">gfs2_write_revokes</a> (struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *sdp)</td></tr>
<tr class="separator:ab7e46234b65750a6c63ac54cc636f75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0297e2aea09918000f7fa38e5c5bdd1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0297e2aea09918000f7fa38e5c5bdd1a">&#9670;&nbsp;</a></span>gfs2_add_revoke()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_add_revoke </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__bufdata.html">gfs2_bufdata</a> *&#160;</td>
          <td class="paramname"><em>bd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_cgraph.png" border="0" usemap="#log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_cgraph" alt=""/></div>
<map name="log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_cgraph" id="log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="175,5,325,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_icgraph.png" border="0" usemap="#log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_icgraph" alt=""/></div>
<map name="log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_icgraph" id="log_8h_a0297e2aea09918000f7fa38e5c5bdd1a_icgraph">
<area shape="rect" id="node2" href="log_8h.html#ab7e46234b65750a6c63ac54cc636f75d" title="gfs2_write_revokes" alt="" coords="186,353,321,380"/>
<area shape="rect" id="node3" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="386,303,549,329"/>
<area shape="rect" id="node36" href="trans_8h.html#a6700eb467725f078417aeea7e280a30b" title="gfs2_trans_add_revoke" alt="" coords="175,467,332,493"/>
<area shape="rect" id="node35" href="lops_8c.html#a1d7b01c4d02d78872765b5909186a04c" title="revoke_lo_before_commit" alt="" coords="382,353,553,380"/>
<area shape="rect" id="node4" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="603,277,745,304"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="797,163,957,189"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="793,467,960,493"/>
<area shape="rect" id="node28" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="807,99,947,125"/>
<area shape="rect" id="node30" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="799,315,955,341"/>
<area shape="rect" id="node33" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1227,271,1337,297"/>
<area shape="rect" id="node6" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="1011,156,1163,183"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#affcbbfb7179f0171210e1054502215f4" title="gfs2_adjust_quota" alt="" coords="1218,131,1346,157"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1417,220,1488,247"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1397,119,1508,145"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1559,195,1674,221"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1574,347,1659,373"/>
<area shape="rect" id="node11" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1727,397,1858,424"/>
<area shape="rect" id="node24" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1556,144,1677,171"/>
<area shape="rect" id="node12" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1912,347,2039,373"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1908,43,2043,69"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1917,397,2034,424"/>
<area shape="rect" id="node19" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1932,549,2019,576"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1938,448,2013,475"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1927,499,2024,525"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1915,245,2035,272"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1920,600,2031,627"/>
<area shape="rect" id="node13" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="2114,347,2174,373"/>
<area shape="rect" id="node14" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="2091,296,2197,323"/>
<area shape="rect" id="node15" href="gfs2_2xattr_8c.html#afc59858cf4ea407d66877a34c85ff455" title="ea_set_i" alt="" coords="2245,347,2316,373"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2093,549,2195,576"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="1008,467,1167,493"/>
<area shape="rect" id="node29" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="1018,87,1157,113"/>
<area shape="rect" id="node31" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="1045,315,1129,341"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1215,423,1349,449"/>
<area shape="rect" id="node34" href="gfs2_2inode_8c.html#ab5bae37494d6403aa6c9cd6c52783e64" title="gfs2_trans_da_blks" alt="" coords="1725,499,1860,525"/>
<area shape="rect" id="node37" href="glops_8c.html#ab588cec64175e5a0424c986a057cc750" title="__gfs2_ail_flush" alt="" coords="409,720,525,747"/>
<area shape="rect" id="node45" href="meta__io_8h.html#a2f501135aab70c4aee6c7371ea1213b4" title="gfs2_remove_from_journal" alt="" coords="380,517,555,544"/>
<area shape="rect" id="node38" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="611,821,737,848"/>
<area shape="rect" id="node41" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="623,720,725,747"/>
<area shape="rect" id="node39" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="827,872,927,899"/>
<area shape="rect" id="node40" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="822,821,931,848"/>
<area shape="rect" id="node42" href="gfs2_2file_8c.html#a144b09519526867771c32ae62a920a85" title="gfs2_fsync" alt="" coords="833,669,920,696"/>
<area shape="rect" id="node43" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="817,720,937,747"/>
<area shape="rect" id="node44" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="814,771,939,797"/>
<area shape="rect" id="node46" href="gfs2_2aops_8c.html#ade1105609982e2feaed8b6a714ba08b5" title="gfs2_discard" alt="" coords="626,517,722,544"/>
<area shape="rect" id="node48" href="meta__io_8h.html#aded81d4aaa53da2be7a6cca126884933" title="gfs2_meta_wipe" alt="" coords="615,568,733,595"/>
<area shape="rect" id="node47" href="gfs2_2aops_8c.html#aa49f3926e5e496f7e9992aa3feb811a2" title="gfs2_invalidatepage" alt="" coords="808,517,945,544"/>
<area shape="rect" id="node49" href="rgrp_8h.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="809,568,944,595"/>
<area shape="rect" id="node50" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="830,619,923,645"/>
</map>
</div>

</div>
</div>
<a id="a537c4042c63a9f1f940830c2314c91e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537c4042c63a9f1f940830c2314c91e9">&#9670;&nbsp;</a></span>gfs2_ail1_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_ail1_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct writeback_control *&#160;</td>
          <td class="paramname"><em>wbc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_ail1_flush - start writeback of some ail1 entries : The super block : The writeback control structure</p>
<p>Writes back some ail1 entries, according to the limits in the writeback control structure </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a537c4042c63a9f1f940830c2314c91e9_cgraph.png" border="0" usemap="#log_8h_a537c4042c63a9f1f940830c2314c91e9_cgraph" alt=""/></div>
<map name="log_8h_a537c4042c63a9f1f940830c2314c91e9_cgraph" id="log_8h_a537c4042c63a9f1f940830c2314c91e9_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#afc80eab990b37e175da66b9dba5fe74b" title="gfs2_ail1_start_one" alt="" coords="163,5,297,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a537c4042c63a9f1f940830c2314c91e9_icgraph.png" border="0" usemap="#log_8h_a537c4042c63a9f1f940830c2314c91e9_icgraph" alt=""/></div>
<map name="log_8h_a537c4042c63a9f1f940830c2314c91e9_icgraph" id="log_8h_a537c4042c63a9f1f940830c2314c91e9_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="488,639,608,665"/>
<area shape="rect" id="node3" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="163,1715,269,1741"/>
<area shape="rect" id="node37" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="672,1892,835,1919"/>
<area shape="rect" id="node4" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="317,1512,424,1539"/>
<area shape="rect" id="node35" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="509,1943,587,1969"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1093,1309,1221,1336"/>
<area shape="rect" id="node7" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1635,1588,1757,1615"/>
<area shape="rect" id="node10" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1646,1385,1746,1412"/>
<area shape="rect" id="node11" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1291,1411,1411,1437"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1315,752,1386,779"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a31e30c7a244982463a28412453628849" title="gfs2_jdata_writepages" alt="" coords="472,1487,624,1513"/>
<area shape="rect" id="node27" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="1093,1639,1220,1665"/>
<area shape="rect" id="node28" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="1301,1613,1401,1640"/>
<area shape="rect" id="node29" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="1296,1664,1405,1691"/>
<area shape="rect" id="node30" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="1105,1461,1208,1488"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="1288,1525,1413,1552"/>
<area shape="rect" id="node33" href="glops_8c.html#acf5b31d2c2adb86139a92accb6eae65b" title="inode_go_inval" alt="" coords="494,1791,602,1817"/>
<area shape="rect" id="node34" href="glops_8c.html#afd47fa2040dec70e0903efb2253480e7" title="freeze_go_sync" alt="" coords="491,1841,605,1868"/>
<area shape="rect" id="node45" href="ops__fstype_8c.html#a4428abe555f02cb1178a565b9ba31deb" title="gfs2_kill_sb" alt="" coords="503,689,593,716"/>
<area shape="rect" id="node46" href="rgrp_8h.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="1084,575,1229,601"/>
<area shape="rect" id="node47" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="899,980,1009,1007"/>
<area shape="rect" id="node6" href="gfs2_2file_8c.html#acac22cfc591d426487800c3619821d1f" title="gfs2_set_flags" alt="" coords="1297,1309,1404,1336"/>
<area shape="rect" id="node8" href="gfs2_2super_8c.html#abb52774f6c832a6ab150b154fc5232a6" title="gfs2_put_super" alt="" coords="1821,1563,1932,1589"/>
<area shape="rect" id="node9" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="1817,1613,1936,1640"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1465,752,1579,779"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1479,448,1565,475"/>
<area shape="rect" id="node15" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1631,448,1761,475"/>
<area shape="rect" id="node25" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1461,1411,1583,1437"/>
<area shape="rect" id="node16" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1813,549,1940,576"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1809,727,1944,753"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1818,992,1935,1019"/>
<area shape="rect" id="node19" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1829,93,1924,120"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1833,195,1920,221"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1839,296,1914,323"/>
<area shape="rect" id="node22" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1828,347,1925,373"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1817,1132,1937,1159"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1841,448,1912,475"/>
<area shape="rect" id="node31" href="gfs2_2file_8c.html#a144b09519526867771c32ae62a920a85" title="gfs2_fsync" alt="" coords="1307,1461,1394,1488"/>
<area shape="rect" id="node36" href="gfs2_2super_8c.html#ac24d305e2af8bf54b0dd8b92fc5c1da9" title="init_threads" alt="" coords="709,1943,798,1969"/>
<area shape="rect" id="node38" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="883,1880,1025,1907"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="1077,1917,1237,1944"/>
<area shape="rect" id="node40" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="1073,1968,1240,1995"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="1087,1816,1227,1843"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="1079,1867,1235,1893"/>
<area shape="rect" id="node43" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1101,1107,1212,1133"/>
<area shape="rect" id="node44" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1295,904,1406,931"/>
<area shape="rect" id="node48" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="1084,1005,1229,1032"/>
<area shape="rect" id="node49" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="1079,1056,1234,1083"/>
<area shape="rect" id="node50" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="1090,701,1223,728"/>
</map>
</div>

</div>
</div>
<a id="ae8f65d81947f613b6bc8a72eee3a3914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f65d81947f613b6bc8a72eee3a3914">&#9670;&nbsp;</a></span>gfs2_log_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_log_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__trans.html">gfs2_trans</a> *&#160;</td>
          <td class="paramname"><em>tr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_log_commit - Commit a transaction to the log : the filesystem : the transaction</p>
<p>We wake up gfs2_logd if the number of pinned blocks exceed thresh1 or the total number of used blocks (pinned blocks plus AIL blocks) is greater than thresh2.</p>
<p>At mount time thresh1 is 1/3rd of journal size, thresh2 is 2/3rd of journal size.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ae8f65d81947f613b6bc8a72eee3a3914_cgraph.png" border="0" usemap="#log_8h_ae8f65d81947f613b6bc8a72eee3a3914_cgraph" alt=""/></div>
<map name="log_8h_ae8f65d81947f613b6bc8a72eee3a3914_cgraph" id="log_8h_ae8f65d81947f613b6bc8a72eee3a3914_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="175,81,257,108"/>
<area shape="rect" id="node3" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="317,5,420,32"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a9f559589696422c428e0165d95b14aba" title="gfs2_merge_trans" alt="" coords="305,56,432,83"/>
<area shape="rect" id="node5" href="gfs2_2log_8c.html#a3dc8092ed1bcb8a756d91301455724e9" title="calc_reserved" alt="" coords="317,107,420,133"/>
<area shape="rect" id="node9" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="311,157,427,184"/>
<area shape="rect" id="node6" href="lops_8h.html#a9431187bbb4bb7c67bf9be81fde06cbf" title="buf_limit" alt="" coords="500,56,571,83"/>
<area shape="rect" id="node7" href="lops_8h.html#a583154abacd4f872639e17b83cef1663" title="databuf_limit" alt="" coords="487,107,583,133"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="480,157,591,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ae8f65d81947f613b6bc8a72eee3a3914_icgraph.png" border="0" usemap="#log_8h_ae8f65d81947f613b6bc8a72eee3a3914_icgraph" alt=""/></div>
<map name="log_8h_ae8f65d81947f613b6bc8a72eee3a3914_icgraph" id="log_8h_ae8f65d81947f613b6bc8a72eee3a3914_icgraph">
<area shape="rect" id="node2" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="175,500,337,527"/>
<area shape="rect" id="node18" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="401,1196,512,1223"/>
<area shape="rect" id="node3" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="385,233,528,260"/>
<area shape="rect" id="node4" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="583,5,743,32"/>
<area shape="rect" id="node5" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="579,56,746,83"/>
<area shape="rect" id="node7" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="593,259,733,285"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="585,208,741,235"/>
<area shape="rect" id="node11" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="607,715,718,741"/>
<area shape="rect" id="node6" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="822,107,933,133"/>
<area shape="rect" id="node9" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="835,309,919,336"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1005,436,1140,463"/>
<area shape="rect" id="node12" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="814,613,941,640"/>
<area shape="rect" id="node13" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="810,664,945,691"/>
<area shape="rect" id="node14" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="819,740,936,767"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="842,804,913,831"/>
<area shape="rect" id="node16" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="822,861,933,888"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="817,915,937,941"/>
<area shape="rect" id="node19" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="590,968,735,995"/>
<area shape="rect" id="node21" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="585,1019,740,1045"/>
<area shape="rect" id="node22" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="596,1069,729,1096"/>
<area shape="rect" id="node23" href="gfs2_2xattr_8c.html#a82a651a0d1b72c986a53497c9fd5ddf1" title="ea_dealloc_indirect" alt="" coords="596,1120,729,1147"/>
<area shape="rect" id="node24" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="601,1171,724,1197"/>
<area shape="rect" id="node25" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="617,1221,708,1248"/>
<area shape="rect" id="node26" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="599,1272,727,1299"/>
<area shape="rect" id="node27" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="615,1373,710,1400"/>
<area shape="rect" id="node28" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="813,1373,941,1400"/>
<area shape="rect" id="node29" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="619,1424,706,1451"/>
<area shape="rect" id="node30" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="625,1475,700,1501"/>
<area shape="rect" id="node31" href="gfs2_2inode_8c.html#a873924358141bf9b1aa2fdc0e8427865" title="gfs2_unlink" alt="" coords="619,1525,707,1552"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="614,1576,711,1603"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="607,1627,718,1653"/>
<area shape="rect" id="node34" href="gfs2_2inode_8h.html#a2bbbbf0de5ec747be2f040ba2ae7d3d4" title="gfs2_setattr_simple" alt="" coords="595,1728,731,1755"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="825,1703,929,1729"/>
<area shape="rect" id="node36" href="gfs2_2super_8h.html#a14d22b00dab4b0e2289e41420df684fa" title="gfs2_statfs_sync" alt="" coords="601,1779,724,1805"/>
<area shape="rect" id="node37" href="gfs2_2super_8c.html#a8f4bb0ccf572f73b364294ef5b126e10" title="gfs2_dirty_inode" alt="" coords="604,1829,721,1856"/>
<area shape="rect" id="node38" href="gfs2_2super_8c.html#ae19730493d94443d1756b8a18ee4cbe2" title="gfs2_dinode_dealloc" alt="" coords="593,1931,733,1957"/>
<area shape="rect" id="node39" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="817,1931,937,1957"/>
<area shape="rect" id="node40" href="gfs2_2aops_8c.html#a83dbff3c51e1b0b0f684b981ec0d1a46" title="gfs2_write_jdata_pagevec" alt="" coords="576,2032,749,2059"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#a59939ebdad46a770b82d6e5bdf0a5202" title="gfs2_stuffed_write_end" alt="" coords="584,157,741,184"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="583,360,743,387"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="593,512,732,539"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="833,461,921,488"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="623,2083,702,2109"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="627,2133,698,2160"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f" title="gfs2_journaled_truncate\l_range" alt="" coords="797,530,957,571"/>
<area shape="rect" id="node48" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="599,2184,726,2211"/>
<area shape="rect" id="node49" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="611,1981,714,2008"/>
<area shape="rect" id="node50" href="rgrp_8h.html#aac7dcffbb3945ebd6cc9e9be95773ccf" title="gfs2_fitrim" alt="" coords="621,2235,704,2261"/>
<area shape="rect" id="node20" href="gfs2_2xattr_8c.html#a6f7c67f82371a5ca0d5a8f6a1908ca6f" title="ea_remove_unstuffed" alt="" coords="804,968,951,995"/>
</map>
</div>

</div>
</div>
<a id="ad6d3ae189d1c4809cf72babe10a2f375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d3ae189d1c4809cf72babe10a2f375">&#9670;&nbsp;</a></span>gfs2_log_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_log_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__glock.html">gfs2_glock</a> *&#160;</td>
          <td class="paramname"><em>gl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_log_flush - flush incore transaction(s) : the filesystem : The glock structure to flush. If NULL, flush the whole incore log : The log header flags: GFS2_LOG_HEAD_FLUSH_* and debug flags </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ad6d3ae189d1c4809cf72babe10a2f375_cgraph.png" border="0" usemap="#log_8h_ad6d3ae189d1c4809cf72babe10a2f375_cgraph" alt=""/></div>
<map name="log_8h_ad6d3ae189d1c4809cf72babe10a2f375_cgraph" id="log_8h_ad6d3ae189d1c4809cf72babe10a2f375_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="163,31,295,57"/>
<area shape="rect" id="node5" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="160,81,299,108"/>
<area shape="rect" id="node6" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="1102,272,1233,299"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="743,81,848,108"/>
<area shape="rect" id="node8" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="359,284,479,311"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="573,183,659,209"/>
<area shape="rect" id="node29" href="lops_8h.html#ad96d3ea38c0beedc913e5b7eeca56b18" title="lops_after_commit" alt="" coords="165,335,294,361"/>
<area shape="rect" id="node30" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="178,385,281,412"/>
<area shape="rect" id="node31" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="171,436,287,463"/>
<area shape="rect" id="node32" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="176,588,283,615"/>
<area shape="rect" id="node35" href="gfs2_2log_8c.html#a3e998c1de5a5981c17e89c648074f7d3" title="gfs2_ail1_wait" alt="" coords="177,537,282,564"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="171,639,288,665"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="162,233,297,260"/>
<area shape="rect" id="node3" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="372,5,467,32"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a26cfe0abf0cced133f2abd09dc261847" title="ip_cmp" alt="" coords="387,56,451,83"/>
<area shape="rect" id="node10" href="gfs2_2log_8c.html#a4d821307bb895f69552a6a5c37794191" title="gfs2_ordered_wait" alt="" coords="552,335,680,361"/>
<area shape="rect" id="node11" href="gfs2_2log_8c.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="540,284,692,311"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#adf47b926f204e1ea3e77b139ae572a7a" title="log_pull_tail" alt="" coords="571,385,661,412"/>
<area shape="rect" id="node12" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="770,284,821,311"/>
<area shape="rect" id="node13" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="740,233,851,260"/>
<area shape="rect" id="node15" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="762,183,829,209"/>
<area shape="rect" id="node16" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="742,132,849,159"/>
<area shape="rect" id="node14" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="904,259,1039,285"/>
<area shape="rect" id="node17" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="911,157,1031,184"/>
<area shape="rect" id="node18" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="1103,132,1232,159"/>
<area shape="rect" id="node19" href="lops_8c.html#a0386b4ce47583a1b48e799572b0f1334" title="gfs2_end_log_write" alt="" coords="1291,132,1425,159"/>
<area shape="rect" id="node20" href="lops_8c.html#a6d5779c1b8df9425e3f87628f383df64" title="gfs2_end_log_write_bh" alt="" coords="1473,132,1628,159"/>
<area shape="rect" id="node21" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1676,95,1819,137"/>
<area shape="rect" id="node23" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1697,161,1797,188"/>
<area shape="rect" id="node22" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1867,132,2005,159"/>
<area shape="rect" id="node25" href="gfs2_2log_8c.html#ad202942c733c941e48733e3aa32b9e4c" title="log_distance" alt="" coords="748,385,843,412"/>
<area shape="rect" id="node26" href="gfs2_2log_8c.html#a248bd91deb3732b401c8910c6bea3014" title="ail2_empty" alt="" coords="753,436,838,463"/>
<area shape="rect" id="node27" href="gfs2_2log_8c.html#a8f895ec0382a4780074b922d5dd6b03b" title="gfs2_ail2_empty_one" alt="" coords="899,436,1044,463"/>
<area shape="rect" id="node28" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="1092,436,1243,463"/>
<area shape="rect" id="node33" href="gfs2_2log_8c.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="365,588,474,615"/>
<area shape="rect" id="node34" href="gfs2_2log_8c.html#afc80eab990b37e175da66b9dba5fe74b" title="gfs2_ail1_start_one" alt="" coords="549,588,683,615"/>
<area shape="rect" id="node37" href="gfs2_2log_8c.html#a516d43611084cc573e7ae237c710f405" title="gfs2_ail1_empty_one" alt="" coords="347,639,492,665"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ad6d3ae189d1c4809cf72babe10a2f375_icgraph.png" border="0" usemap="#log_8h_ad6d3ae189d1c4809cf72babe10a2f375_icgraph" alt=""/></div>
<map name="log_8h_ad6d3ae189d1c4809cf72babe10a2f375_icgraph" id="log_8h_ad6d3ae189d1c4809cf72babe10a2f375_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="377,81,505,108"/>
<area shape="rect" id="node4" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="176,2057,296,2084"/>
<area shape="rect" id="node5" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="765,1728,888,1755"/>
<area shape="rect" id="node8" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="777,1272,877,1299"/>
<area shape="rect" id="node9" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="582,183,702,209"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="406,993,477,1020"/>
<area shape="rect" id="node25" href="gfs2_2aops_8c.html#a31e30c7a244982463a28412453628849" title="gfs2_jdata_writepages" alt="" coords="160,2108,312,2135"/>
<area shape="rect" id="node26" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="378,1905,505,1932"/>
<area shape="rect" id="node27" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="592,1917,692,1944"/>
<area shape="rect" id="node28" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="587,1993,697,2020"/>
<area shape="rect" id="node29" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="390,132,493,159"/>
<area shape="rect" id="node31" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="579,31,705,57"/>
<area shape="rect" id="node32" href="glops_8c.html#acf5b31d2c2adb86139a92accb6eae65b" title="inode_go_inval" alt="" coords="182,2159,290,2185"/>
<area shape="rect" id="node33" href="glops_8c.html#afd47fa2040dec70e0903efb2253480e7" title="freeze_go_sync" alt="" coords="179,2209,293,2236"/>
<area shape="rect" id="node34" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="197,2260,275,2287"/>
<area shape="rect" id="node36" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="360,2311,523,2337"/>
<area shape="rect" id="node38" href="ops__fstype_8c.html#a4428abe555f02cb1178a565b9ba31deb" title="gfs2_kill_sb" alt="" coords="191,2361,281,2388"/>
<area shape="rect" id="node39" href="rgrp_8h.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="163,512,309,539"/>
<area shape="rect" id="node41" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="181,1221,291,1248"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#acac22cfc591d426487800c3619821d1f" title="gfs2_set_flags" alt="" coords="589,81,695,108"/>
<area shape="rect" id="node6" href="gfs2_2super_8c.html#abb52774f6c832a6ab150b154fc5232a6" title="gfs2_put_super" alt="" coords="952,1689,1063,1716"/>
<area shape="rect" id="node7" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="948,1740,1067,1767"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="585,904,699,931"/>
<area shape="rect" id="node12" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="599,955,685,981"/>
<area shape="rect" id="node13" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="761,803,892,829"/>
<area shape="rect" id="node24" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="581,1247,703,1273"/>
<area shape="rect" id="node14" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="944,651,1071,677"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="940,701,1075,728"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="949,803,1066,829"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="960,879,1055,905"/>
<area shape="rect" id="node19" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="964,955,1051,981"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="970,1005,1045,1032"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="959,1056,1056,1083"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="947,549,1067,576"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="972,600,1043,627"/>
<area shape="rect" id="node18" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1123,955,1251,981"/>
<area shape="rect" id="node30" href="gfs2_2file_8c.html#a144b09519526867771c32ae62a920a85" title="gfs2_fsync" alt="" coords="599,132,685,159"/>
<area shape="rect" id="node35" href="gfs2_2super_8c.html#ac24d305e2af8bf54b0dd8b92fc5c1da9" title="init_threads" alt="" coords="397,2260,486,2287"/>
<area shape="rect" id="node37" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="571,2311,713,2337"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="386,689,497,716"/>
<area shape="rect" id="node42" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="369,1551,514,1577"/>
<area shape="rect" id="node43" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="364,1601,519,1628"/>
<area shape="rect" id="node44" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="375,1703,508,1729"/>
<area shape="rect" id="node45" href="gfs2_2xattr_8c.html#a82a651a0d1b72c986a53497c9fd5ddf1" title="ea_dealloc_indirect" alt="" coords="375,1095,508,1121"/>
<area shape="rect" id="node46" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="380,1196,503,1223"/>
<area shape="rect" id="node47" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="396,1247,487,1273"/>
<area shape="rect" id="node48" href="gfs2_2inode_8c.html#a873924358141bf9b1aa2fdc0e8427865" title="gfs2_unlink" alt="" coords="397,1297,485,1324"/>
<area shape="rect" id="node49" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="386,1399,497,1425"/>
<area shape="rect" id="node50" href="gfs2_2inode_8h.html#a2bbbbf0de5ec747be2f040ba2ae7d3d4" title="gfs2_setattr_simple" alt="" coords="373,1449,509,1476"/>
</map>
</div>

</div>
</div>
<a id="aa07bf7138b0cab8cb509eacdcc9df3bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07bf7138b0cab8cb509eacdcc9df3bc">&#9670;&nbsp;</a></span>gfs2_log_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_log_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td> &amp; -&gt; sd_log_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_log_lock - acquire the right to mess with the log manager : the filesystem </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_aa07bf7138b0cab8cb509eacdcc9df3bc_icgraph.png" border="0" usemap="#log_8h_aa07bf7138b0cab8cb509eacdcc9df3bc_icgraph" alt=""/></div>
<map name="log_8h_aa07bf7138b0cab8cb509eacdcc9df3bc_icgraph" id="log_8h_aa07bf7138b0cab8cb509eacdcc9df3bc_icgraph">
<area shape="rect" id="node2" href="gfs2_2aops_8c.html#ade1105609982e2feaed8b6a714ba08b5" title="gfs2_discard" alt="" coords="178,5,274,32"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#a66531227153530cb97b4b66d88a1c456" title="gfs2_releasepage" alt="" coords="164,56,288,83"/>
<area shape="rect" id="node5" href="glops_8c.html#ab588cec64175e5a0424c986a057cc750" title="__gfs2_ail_flush" alt="" coords="590,461,706,488"/>
<area shape="rect" id="node12" href="log_8h.html#ab7e46234b65750a6c63ac54cc636f75d" title="gfs2_write_revokes" alt="" coords="159,1196,293,1223"/>
<area shape="rect" id="node14" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="783,1069,926,1096"/>
<area shape="rect" id="node22" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="173,639,279,665"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="185,1120,267,1147"/>
<area shape="rect" id="node38" href="lops_8c.html#a4f6582e4497e6f40e27250e4c88458ab" title="gfs2_before_commit" alt="" coords="156,1652,296,1679"/>
<area shape="rect" id="node41" href="meta__io_8h.html#aded81d4aaa53da2be7a6cca126884933" title="gfs2_meta_wipe" alt="" coords="373,1601,490,1628"/>
<area shape="rect" id="node44" href="trans_8h.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="358,1449,505,1476"/>
<area shape="rect" id="node50" href="trans_8h.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="346,1323,517,1349"/>
<area shape="rect" id="node3" href="gfs2_2aops_8c.html#aa49f3926e5e496f7e9992aa3feb811a2" title="gfs2_invalidatepage" alt="" coords="363,5,500,32"/>
<area shape="rect" id="node6" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="791,512,918,539"/>
<area shape="rect" id="node9" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="803,715,906,741"/>
<area shape="rect" id="node7" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="1013,563,1113,589"/>
<area shape="rect" id="node8" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="1009,461,1118,488"/>
<area shape="rect" id="node10" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1003,765,1123,792"/>
<area shape="rect" id="node11" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="1001,689,1126,716"/>
<area shape="rect" id="node13" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="567,1069,729,1096"/>
<area shape="rect" id="node21" href="lops_8c.html#a1d7b01c4d02d78872765b5909186a04c" title="revoke_lo_before_commit" alt="" coords="346,1221,517,1248"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="983,968,1143,995"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="980,1019,1147,1045"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="993,1069,1133,1096"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="985,1120,1141,1147"/>
<area shape="rect" id="node19" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1008,1171,1119,1197"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1195,639,1265,665"/>
<area shape="rect" id="node23" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="791,816,919,843"/>
<area shape="rect" id="node24" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="371,968,491,995"/>
<area shape="rect" id="node25" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="370,1019,493,1045"/>
<area shape="rect" id="node26" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="381,208,481,235"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a31e30c7a244982463a28412453628849" title="gfs2_jdata_writepages" alt="" coords="355,259,507,285"/>
<area shape="rect" id="node28" href="glops_8c.html#acf5b31d2c2adb86139a92accb6eae65b" title="inode_go_inval" alt="" coords="377,309,485,336"/>
<area shape="rect" id="node29" href="glops_8c.html#afd47fa2040dec70e0903efb2253480e7" title="freeze_go_sync" alt="" coords="374,512,489,539"/>
<area shape="rect" id="node30" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="392,917,471,944"/>
<area shape="rect" id="node31" href="ops__fstype_8c.html#a4428abe555f02cb1178a565b9ba31deb" title="gfs2_kill_sb" alt="" coords="386,563,477,589"/>
<area shape="rect" id="node32" href="rgrp_8h.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="782,360,927,387"/>
<area shape="rect" id="node33" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="593,892,703,919"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="782,1272,927,1299"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="777,1399,932,1425"/>
<area shape="rect" id="node37" href="log_8h.html#ae8f65d81947f613b6bc8a72eee3a3914" title="gfs2_log_commit" alt="" coords="371,1069,492,1096"/>
<area shape="rect" id="node39" href="lops_8c.html#a3f7d3866db581f468ec6982c38afac47" title="buf_lo_before_commit" alt="" coords="356,1652,507,1679"/>
<area shape="rect" id="node40" href="lops_8c.html#ad0a4eb99b2bde1c020bfae63ddeb34df" title="databuf_lo_before_commit" alt="" coords="344,1703,519,1729"/>
<area shape="rect" id="node42" href="rgrp_8h.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="581,1728,715,1755"/>
<area shape="rect" id="node43" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="601,1677,695,1704"/>
<area shape="rect" id="node45" href="gfs2_2xattr_8c.html#abe1c8e2ed68bc18f21521081bfc28f58" title="gfs2_iter_unstuffed" alt="" coords="581,1576,715,1603"/>
<area shape="rect" id="node46" href="gfs2_2xattr_8c.html#a6a32244c6bde85c82128b3ffe16ed1c3" title="ea_alloc_blk" alt="" coords="601,1221,695,1248"/>
<area shape="rect" id="node47" href="gfs2_2xattr_8c.html#aec5d299a0c2e81a7e1b7fb737dff04e2" title="ea_write" alt="" coords="613,1424,683,1451"/>
<area shape="rect" id="node48" href="gfs2_2xattr_8c.html#ae6cc5fa91641685b7190ba4cd1ed95f4" title="ea_set_simple_alloc" alt="" coords="785,1475,925,1501"/>
<area shape="rect" id="node49" href="gfs2_2xattr_8c.html#a320014cb9ec650af3095587d5420cb14" title="ea_set_remove_stuffed" alt="" coords="569,1475,727,1501"/>
</map>
</div>

</div>
</div>
<a id="a2a354fe327da972e2a6e00ab478b4efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a354fe327da972e2a6e00ab478b4efb">&#9670;&nbsp;</a></span>gfs2_log_pointers_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_log_pointers_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a2a354fe327da972e2a6e00ab478b4efb_icgraph.png" border="0" usemap="#log_8h_a2a354fe327da972e2a6e00ab478b4efb_icgraph" alt=""/></div>
<map name="log_8h_a2a354fe327da972e2a6e00ab478b4efb_icgraph" id="log_8h_a2a354fe327da972e2a6e00ab478b4efb_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8h.html#a109f406a58320724679b20663b96e26d" title="gfs2_make_fs_rw" alt="" coords="210,645,335,672"/>
<area shape="rect" id="node50" href="glops_8c.html#ad5b7aab585bde011a547a37fea9b8d10" title="freeze_go_xmote_bh" alt="" coords="201,696,344,723"/>
<area shape="rect" id="node3" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="392,595,511,621"/>
<area shape="rect" id="node4" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="392,1183,511,1209"/>
<area shape="rect" id="node25" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="919,625,994,652"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="559,1157,644,1184"/>
<area shape="rect" id="node23" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="559,911,643,937"/>
<area shape="rect" id="node6" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="692,1208,828,1235"/>
<area shape="rect" id="node16" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="695,860,825,887"/>
<area shape="rect" id="node7" href="gfs2_2super_8h.html#a3ce0fa0419bd4dbc544f7b96f518b3bf" title="gfs2_statfs_change_in" alt="" coords="880,1385,1033,1412"/>
<area shape="rect" id="node8" href="gfs2_2aops_8c.html#a6e42e76eda752ef746a5bc16edf34eea" title="adjust_fs_space" alt="" coords="1242,1284,1359,1311"/>
<area shape="rect" id="node9" href="gfs2_2super_8c.html#a762d8971db81110322914fdc2eb4116b" title="gfs2_statfs_change_out" alt="" coords="876,1233,1037,1260"/>
<area shape="rect" id="node10" href="gfs2_2super_8h.html#ad1759c08b61c0c232954445e557c9637" title="update_statfs" alt="" coords="1085,1284,1187,1311"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="913,1132,1001,1159"/>
<area shape="rect" id="node12" href="rgrp_8h.html#a042e80118132df5b52d7c6f071c8e9aa" title="gfs2_alloc_blocks" alt="" coords="893,1081,1020,1108"/>
<area shape="rect" id="node14" href="rgrp_8h.html#ab097defbd7c6bfd800ea27512dee3d8e" title="gfs2_free_meta" alt="" coords="901,1335,1013,1361"/>
<area shape="rect" id="node15" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="910,1031,1003,1057"/>
<area shape="rect" id="node13" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1089,955,1183,981"/>
<area shape="rect" id="node17" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="893,980,1020,1007"/>
<area shape="rect" id="node18" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="889,676,1024,703"/>
<area shape="rect" id="node19" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="898,727,1015,753"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="913,777,1000,804"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="919,879,994,905"/>
<area shape="rect" id="node22" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="908,929,1005,956"/>
<area shape="rect" id="node24" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="718,733,802,760"/>
<area shape="rect" id="node26" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="1097,56,1175,83"/>
<area shape="rect" id="node29" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="1086,360,1186,387"/>
<area shape="rect" id="node40" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="1087,740,1185,767"/>
<area shape="rect" id="node49" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="1091,791,1181,817"/>
<area shape="rect" id="node27" href="proc_2root_8c.html#ae359089dc83c7b9937b8df39cac6903a" title="proc_mount" alt="" coords="1255,56,1346,83"/>
<area shape="rect" id="node28" href="nfsctl_8c.html#adc29b76a00688fc347cbd7df9ff7f3f3" title="nfsd_mount" alt="" coords="1255,5,1346,32"/>
<area shape="rect" id="node30" href="coda_2inode_8c.html#a294a578266689b95d871c0c6ff7ff8ce" title="coda_mount" alt="" coords="1254,259,1347,285"/>
<area shape="rect" id="node31" href="devpts_2inode_8c.html#ad7ce99ca84346ab56c36b3fd1e1abec2" title="devpts_mount" alt="" coords="1249,309,1353,336"/>
<area shape="rect" id="node32" href="fuse_2inode_8c.html#a6b38e60a57f582004180814f86df65d8" title="fuse_mount" alt="" coords="1255,360,1346,387"/>
<area shape="rect" id="node33" href="hugetlbfs_2inode_8c.html#ac2e79ea5f30c2cb42b610b21f6b35190" title="hugetlbfs_mount" alt="" coords="1241,411,1360,437"/>
<area shape="rect" id="node34" href="ramfs_2inode_8c.html#ad7471b5e90bd5259c7c120a4510575b9" title="ramfs_mount" alt="" coords="1251,461,1350,488"/>
<area shape="rect" id="node35" href="exofs_2super_8c.html#a0e31d261657c630b458225ebe799f39c" title="exofs_mount" alt="" coords="1252,512,1349,539"/>
<area shape="rect" id="node36" href="overlayfs_2super_8c.html#a45212ef365fb5aead6ac0d4ce69ce1ca" title="ovl_mount" alt="" coords="1259,563,1342,589"/>
<area shape="rect" id="node37" href="init_8c.html#acf72374d35a5334ed31ff59915a24c9a" title="autofs_mount" alt="" coords="1250,107,1351,133"/>
<area shape="rect" id="node38" href="hostfs__kern_8c.html#add75143c4d6f1ecad34c7d7b1c374bc7" title="hostfs_read_sb" alt="" coords="1245,157,1356,184"/>
<area shape="rect" id="node39" href="dlmfs_8c.html#abc979045a0115b27d308b3462af040fc" title="dlmfs_mount" alt="" coords="1252,208,1349,235"/>
<area shape="rect" id="node41" href="debugfs_2inode_8c.html#ab4a637147d7368aca52f1bd0748ffc2c" title="debug_mount" alt="" coords="1251,968,1351,995"/>
<area shape="rect" id="node42" href="openpromfs_2inode_8c.html#a0d56efdc6be502f57fe406dc36022c93" title="openprom_mount" alt="" coords="1239,613,1362,640"/>
<area shape="rect" id="node43" href="pstore_2inode_8c.html#af5ca74b98740d3baefff72190910057b" title="pstore_mount" alt="" coords="1250,664,1351,691"/>
<area shape="rect" id="node44" href="tracefs_2inode_8c.html#afdb933991b659728847f4743dae30c59" title="trace_mount" alt="" coords="1253,715,1348,741"/>
<area shape="rect" id="node45" href="efivarfs_2super_8c.html#a4f2fa0d7e3a8acf226ce86d917f860ad" title="efivarfs_mount" alt="" coords="1247,765,1355,792"/>
<area shape="rect" id="node46" href="binfmt__misc_8c.html#aaa2bae63db10649cff06adca320062ad" title="bm_mount" alt="" coords="1259,816,1342,843"/>
<area shape="rect" id="node47" href="configfs_2mount_8c.html#ac68d8a0be8b5e96fcd332bc0562a1f57" title="configfs_do_mount" alt="" coords="1235,867,1367,893"/>
<area shape="rect" id="node48" href="control_8c.html#a8e178f77e89ffbc888cca466bf4d3a1a" title="fuse_ctl_mount" alt="" coords="1245,917,1356,944"/>
</map>
</div>

</div>
</div>
<a id="a0cf927ed7efebf3e8f204b0ac4d934ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf927ed7efebf3e8f204b0ac4d934ac">&#9670;&nbsp;</a></span>gfs2_log_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_log_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>blks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_log_release - Release a given number of log blocks : The GFS2 superblock : The number of blocks </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a0cf927ed7efebf3e8f204b0ac4d934ac_icgraph.png" border="0" usemap="#log_8h_a0cf927ed7efebf3e8f204b0ac4d934ac_icgraph" alt=""/></div>
<map name="log_8h_a0cf927ed7efebf3e8f204b0ac4d934ac_icgraph" id="log_8h_a0cf927ed7efebf3e8f204b0ac4d934ac_icgraph">
<area shape="rect" id="node2" href="log_8h.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="173,1380,295,1406"/>
<area shape="rect" id="node6" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="343,1430,505,1457"/>
<area shape="rect" id="node48" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="569,1068,680,1094"/>
<area shape="rect" id="node3" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="767,181,894,208"/>
<area shape="rect" id="node16" href="trans_8h.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="564,1717,685,1744"/>
<area shape="rect" id="node4" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="983,220,1083,246"/>
<area shape="rect" id="node5" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="978,169,1087,196"/>
<area shape="rect" id="node7" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="553,2528,696,2554"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="751,2730,911,2757"/>
<area shape="rect" id="node9" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="775,2528,886,2554"/>
<area shape="rect" id="node10" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="969,2426,1096,2453"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="965,2477,1100,2504"/>
<area shape="rect" id="node12" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="974,2629,1091,2656"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="997,2528,1068,2554"/>
<area shape="rect" id="node14" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="977,2578,1088,2605"/>
<area shape="rect" id="node15" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="973,2376,1093,2402"/>
<area shape="rect" id="node17" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="758,1666,903,1693"/>
<area shape="rect" id="node18" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="753,1717,908,1744"/>
<area shape="rect" id="node19" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="764,1768,897,1794"/>
<area shape="rect" id="node20" href="gfs2_2xattr_8c.html#a82a651a0d1b72c986a53497c9fd5ddf1" title="ea_dealloc_indirect" alt="" coords="764,1920,897,1946"/>
<area shape="rect" id="node21" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="769,1970,892,1997"/>
<area shape="rect" id="node22" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="785,2021,876,2048"/>
<area shape="rect" id="node23" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="767,840,895,866"/>
<area shape="rect" id="node24" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="783,1261,878,1288"/>
<area shape="rect" id="node25" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="969,1246,1097,1273"/>
<area shape="rect" id="node26" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="787,1210,874,1237"/>
<area shape="rect" id="node27" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="793,941,868,968"/>
<area shape="rect" id="node28" href="gfs2_2inode_8c.html#a873924358141bf9b1aa2fdc0e8427865" title="gfs2_unlink" alt="" coords="787,992,875,1018"/>
<area shape="rect" id="node29" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="782,1312,879,1338"/>
<area shape="rect" id="node30" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="775,1362,886,1389"/>
<area shape="rect" id="node31" href="gfs2_2inode_8h.html#a2bbbbf0de5ec747be2f040ba2ae7d3d4" title="gfs2_setattr_simple" alt="" coords="763,1818,899,1845"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="981,1818,1085,1845"/>
<area shape="rect" id="node33" href="gfs2_2super_8h.html#a14d22b00dab4b0e2289e41420df684fa" title="gfs2_statfs_sync" alt="" coords="769,1464,892,1490"/>
<area shape="rect" id="node34" href="gfs2_2super_8c.html#a8f4bb0ccf572f73b364294ef5b126e10" title="gfs2_dirty_inode" alt="" coords="772,1514,889,1541"/>
<area shape="rect" id="node35" href="gfs2_2super_8c.html#ae19730493d94443d1756b8a18ee4cbe2" title="gfs2_dinode_dealloc" alt="" coords="761,282,901,309"/>
<area shape="rect" id="node36" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="973,662,1093,689"/>
<area shape="rect" id="node37" href="gfs2_2aops_8c.html#a83dbff3c51e1b0b0f684b981ec0d1a46" title="gfs2_write_jdata_pagevec" alt="" coords="744,1565,917,1592"/>
<area shape="rect" id="node38" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="751,1093,911,1120"/>
<area shape="rect" id="node39" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="991,1093,1075,1120"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="761,1869,900,1896"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="989,1869,1077,1896"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1148,1510,1283,1537"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="791,890,870,917"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="795,1413,866,1440"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f" title="gfs2_journaled_truncate\l_range" alt="" coords="751,1144,911,1186"/>
<area shape="rect" id="node46" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="779,1042,882,1069"/>
<area shape="rect" id="node47" href="rgrp_8h.html#aac7dcffbb3945ebd6cc9e9be95773ccf" title="gfs2_fitrim" alt="" coords="789,1616,872,1642"/>
<area shape="rect" id="node49" href="gfs2_2aops_8c.html#a59939ebdad46a770b82d6e5bdf0a5202" title="gfs2_stuffed_write_end" alt="" coords="752,130,909,157"/>
<area shape="rect" id="node50" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="977,105,1088,132"/>
</map>
</div>

</div>
</div>
<a id="a13302c169f75b545635a877c5dcfffd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13302c169f75b545635a877c5dcfffd7">&#9670;&nbsp;</a></span>gfs2_log_reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_log_reserve </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>blks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_log_reserve - Make a log reservation : The GFS2 superblock : The number of blocks to reserve</p>
<p>Note that we never give out the last few blocks of the journal. Thats due to the fact that there is a small number of header blocks associated with each log flush. The exact number can't be known until flush time, so we ensure that we have just enough free blocks at all times to avoid running out during a log flush.</p>
<p>We no longer flush the log here, instead we wake up logd to do that for us. To avoid the thundering herd and to ensure that we deal fairly with queued waiters, we use an exclusive wait. This means that when we get woken with enough journal space to get our reservation, we need to wake the next waiter on the list.</p>
<p>Returns: errno </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a13302c169f75b545635a877c5dcfffd7_cgraph.png" border="0" usemap="#log_8h_a13302c169f75b545635a877c5dcfffd7_cgraph" alt=""/></div>
<map name="log_8h_a13302c169f75b545635a877c5dcfffd7_cgraph" id="log_8h_a13302c169f75b545635a877c5dcfffd7_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="175,5,295,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a13302c169f75b545635a877c5dcfffd7_icgraph.png" border="0" usemap="#log_8h_a13302c169f75b545635a877c5dcfffd7_icgraph" alt=""/></div>
<map name="log_8h_a13302c169f75b545635a877c5dcfffd7_icgraph" id="log_8h_a13302c169f75b545635a877c5dcfffd7_icgraph">
<area shape="rect" id="node2" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="193,81,319,108"/>
<area shape="rect" id="node5" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="175,132,337,159"/>
<area shape="rect" id="node20" href="trans_8h.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="396,1120,517,1147"/>
<area shape="rect" id="node3" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="407,31,507,57"/>
<area shape="rect" id="node4" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="402,81,511,108"/>
<area shape="rect" id="node6" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="385,132,528,159"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="583,5,743,32"/>
<area shape="rect" id="node8" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="579,56,746,83"/>
<area shape="rect" id="node9" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="593,107,733,133"/>
<area shape="rect" id="node10" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="585,157,741,184"/>
<area shape="rect" id="node13" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="607,613,718,640"/>
<area shape="rect" id="node11" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="835,208,919,235"/>
<area shape="rect" id="node12" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1005,335,1140,361"/>
<area shape="rect" id="node14" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="814,512,941,539"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="810,563,945,589"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="819,639,936,665"/>
<area shape="rect" id="node17" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="842,703,913,729"/>
<area shape="rect" id="node18" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="822,760,933,787"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="817,813,937,840"/>
<area shape="rect" id="node21" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="590,867,735,893"/>
<area shape="rect" id="node23" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="585,917,740,944"/>
<area shape="rect" id="node24" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="596,968,729,995"/>
<area shape="rect" id="node25" href="gfs2_2xattr_8c.html#a82a651a0d1b72c986a53497c9fd5ddf1" title="ea_dealloc_indirect" alt="" coords="596,1019,729,1045"/>
<area shape="rect" id="node26" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="601,1069,724,1096"/>
<area shape="rect" id="node27" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="617,1120,708,1147"/>
<area shape="rect" id="node28" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="599,1171,727,1197"/>
<area shape="rect" id="node29" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="615,1272,710,1299"/>
<area shape="rect" id="node30" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="813,1272,941,1299"/>
<area shape="rect" id="node31" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="619,1323,706,1349"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="625,1373,700,1400"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a873924358141bf9b1aa2fdc0e8427865" title="gfs2_unlink" alt="" coords="619,1424,707,1451"/>
<area shape="rect" id="node34" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="614,1475,711,1501"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="607,1525,718,1552"/>
<area shape="rect" id="node36" href="gfs2_2inode_8h.html#a2bbbbf0de5ec747be2f040ba2ae7d3d4" title="gfs2_setattr_simple" alt="" coords="595,1627,731,1653"/>
<area shape="rect" id="node37" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="825,1601,929,1628"/>
<area shape="rect" id="node38" href="gfs2_2super_8h.html#a14d22b00dab4b0e2289e41420df684fa" title="gfs2_statfs_sync" alt="" coords="601,1677,724,1704"/>
<area shape="rect" id="node39" href="gfs2_2super_8c.html#a8f4bb0ccf572f73b364294ef5b126e10" title="gfs2_dirty_inode" alt="" coords="604,1728,721,1755"/>
<area shape="rect" id="node40" href="gfs2_2super_8c.html#ae19730493d94443d1756b8a18ee4cbe2" title="gfs2_dinode_dealloc" alt="" coords="593,1829,733,1856"/>
<area shape="rect" id="node41" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="817,1829,937,1856"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a83dbff3c51e1b0b0f684b981ec0d1a46" title="gfs2_write_jdata_pagevec" alt="" coords="576,1931,749,1957"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="583,259,743,285"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="593,411,732,437"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="833,360,921,387"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="623,1981,702,2008"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="627,2032,698,2059"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f" title="gfs2_journaled_truncate\l_range" alt="" coords="797,429,957,470"/>
<area shape="rect" id="node49" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="611,1880,714,1907"/>
<area shape="rect" id="node50" href="rgrp_8h.html#aac7dcffbb3945ebd6cc9e9be95773ccf" title="gfs2_fitrim" alt="" coords="621,2083,704,2109"/>
<area shape="rect" id="node22" href="gfs2_2xattr_8c.html#a6f7c67f82371a5ca0d5a8f6a1908ca6f" title="ea_remove_unstuffed" alt="" coords="804,867,951,893"/>
</map>
</div>

</div>
</div>
<a id="a05e221e3466b3ef401126e11a7e14ee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e221e3466b3ef401126e11a7e14ee9">&#9670;&nbsp;</a></span>gfs2_log_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_log_shutdown </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_log_shutdown - write a shutdown header into a journal : the filesystem </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a05e221e3466b3ef401126e11a7e14ee9_cgraph.png" border="0" usemap="#log_8h_a05e221e3466b3ef401126e11a7e14ee9_cgraph" alt=""/></div>
<map name="log_8h_a05e221e3466b3ef401126e11a7e14ee9_cgraph" id="log_8h_a05e221e3466b3ef401126e11a7e14ee9_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="188,107,308,133"/>
<area shape="rect" id="node3" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="389,5,475,32"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a4d821307bb895f69552a6a5c37794191" title="gfs2_ordered_wait" alt="" coords="368,56,496,83"/>
<area shape="rect" id="node5" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="559,31,664,57"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="356,157,508,184"/>
<area shape="rect" id="node20" href="gfs2_2log_8c.html#adf47b926f204e1ea3e77b139ae572a7a" title="log_pull_tail" alt="" coords="387,335,477,361"/>
<area shape="rect" id="node7" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="586,233,637,260"/>
<area shape="rect" id="node8" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="556,284,667,311"/>
<area shape="rect" id="node10" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="578,81,645,108"/>
<area shape="rect" id="node11" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="558,183,665,209"/>
<area shape="rect" id="node13" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="918,183,1049,209"/>
<area shape="rect" id="node9" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="720,335,855,361"/>
<area shape="rect" id="node12" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="727,233,847,260"/>
<area shape="rect" id="node14" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="919,259,1048,285"/>
<area shape="rect" id="node15" href="lops_8c.html#a0386b4ce47583a1b48e799572b0f1334" title="gfs2_end_log_write" alt="" coords="1107,259,1241,285"/>
<area shape="rect" id="node16" href="lops_8c.html#a6d5779c1b8df9425e3f87628f383df64" title="gfs2_end_log_write_bh" alt="" coords="1289,259,1444,285"/>
<area shape="rect" id="node17" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1492,222,1635,263"/>
<area shape="rect" id="node19" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1513,288,1613,315"/>
<area shape="rect" id="node18" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1683,259,1821,285"/>
<area shape="rect" id="node21" href="gfs2_2log_8c.html#ad202942c733c941e48733e3aa32b9e4c" title="log_distance" alt="" coords="564,335,659,361"/>
<area shape="rect" id="node22" href="gfs2_2log_8c.html#a248bd91deb3732b401c8910c6bea3014" title="ail2_empty" alt="" coords="569,385,654,412"/>
<area shape="rect" id="node23" href="gfs2_2log_8c.html#a8f895ec0382a4780074b922d5dd6b03b" title="gfs2_ail2_empty_one" alt="" coords="715,385,860,412"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="908,385,1059,412"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a05e221e3466b3ef401126e11a7e14ee9_icgraph.png" border="0" usemap="#log_8h_a05e221e3466b3ef401126e11a7e14ee9_icgraph" alt=""/></div>
<map name="log_8h_a05e221e3466b3ef401126e11a7e14ee9_icgraph" id="log_8h_a05e221e3466b3ef401126e11a7e14ee9_icgraph">
<area shape="rect" id="node2" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="188,1804,295,1831"/>
<area shape="rect" id="node37" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="543,2235,705,2261"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="560,107,688,133"/>
<area shape="rect" id="node5" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="359,1981,479,2008"/>
<area shape="rect" id="node6" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="948,1779,1071,1805"/>
<area shape="rect" id="node9" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="959,1348,1059,1375"/>
<area shape="rect" id="node10" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="765,208,885,235"/>
<area shape="rect" id="node11" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="589,1019,659,1045"/>
<area shape="rect" id="node26" href="gfs2_2aops_8c.html#a31e30c7a244982463a28412453628849" title="gfs2_jdata_writepages" alt="" coords="343,2032,495,2059"/>
<area shape="rect" id="node27" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="561,1880,687,1907"/>
<area shape="rect" id="node28" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="775,1892,875,1919"/>
<area shape="rect" id="node29" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="770,1968,879,1995"/>
<area shape="rect" id="node30" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="573,157,675,184"/>
<area shape="rect" id="node32" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="762,56,887,83"/>
<area shape="rect" id="node33" href="glops_8c.html#acf5b31d2c2adb86139a92accb6eae65b" title="inode_go_inval" alt="" coords="365,2083,473,2109"/>
<area shape="rect" id="node34" href="glops_8c.html#afd47fa2040dec70e0903efb2253480e7" title="freeze_go_sync" alt="" coords="361,2133,476,2160"/>
<area shape="rect" id="node35" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="379,2184,458,2211"/>
<area shape="rect" id="node39" href="ops__fstype_8c.html#a4428abe555f02cb1178a565b9ba31deb" title="gfs2_kill_sb" alt="" coords="373,5,464,32"/>
<area shape="rect" id="node40" href="rgrp_8h.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="346,537,491,564"/>
<area shape="rect" id="node42" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="363,1221,474,1248"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#acac22cfc591d426487800c3619821d1f" title="gfs2_set_flags" alt="" coords="771,107,878,133"/>
<area shape="rect" id="node7" href="gfs2_2super_8c.html#abb52774f6c832a6ab150b154fc5232a6" title="gfs2_put_super" alt="" coords="1135,1728,1245,1755"/>
<area shape="rect" id="node8" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="1131,1779,1249,1805"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="767,943,882,969"/>
<area shape="rect" id="node13" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="782,993,867,1020"/>
<area shape="rect" id="node14" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="944,841,1075,868"/>
<area shape="rect" id="node25" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="764,1323,885,1349"/>
<area shape="rect" id="node15" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1127,639,1253,665"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1123,689,1257,716"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1131,740,1249,767"/>
<area shape="rect" id="node18" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1143,841,1237,868"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1147,892,1233,919"/>
<area shape="rect" id="node21" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1153,993,1227,1020"/>
<area shape="rect" id="node22" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1141,1044,1239,1071"/>
<area shape="rect" id="node23" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1130,1095,1250,1121"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1155,588,1225,615"/>
<area shape="rect" id="node19" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1305,892,1433,919"/>
<area shape="rect" id="node31" href="gfs2_2file_8c.html#a144b09519526867771c32ae62a920a85" title="gfs2_fsync" alt="" coords="781,157,868,184"/>
<area shape="rect" id="node36" href="gfs2_2super_8c.html#ac24d305e2af8bf54b0dd8b92fc5c1da9" title="init_threads" alt="" coords="579,2184,669,2211"/>
<area shape="rect" id="node38" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="753,2235,896,2261"/>
<area shape="rect" id="node41" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="569,715,679,741"/>
<area shape="rect" id="node43" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="551,1627,697,1653"/>
<area shape="rect" id="node44" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="547,1120,701,1147"/>
<area shape="rect" id="node45" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="557,1171,691,1197"/>
<area shape="rect" id="node46" href="gfs2_2xattr_8c.html#a82a651a0d1b72c986a53497c9fd5ddf1" title="ea_dealloc_indirect" alt="" coords="557,1272,691,1299"/>
<area shape="rect" id="node47" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="563,1323,685,1349"/>
<area shape="rect" id="node48" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="579,1373,669,1400"/>
<area shape="rect" id="node49" href="gfs2_2inode_8c.html#a873924358141bf9b1aa2fdc0e8427865" title="gfs2_unlink" alt="" coords="580,1475,668,1501"/>
<area shape="rect" id="node50" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="569,1525,679,1552"/>
</map>
</div>

</div>
</div>
<a id="a9e5568969fed5701427061a1a6f44e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5568969fed5701427061a1a6f44e99">&#9670;&nbsp;</a></span>gfs2_log_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_log_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td> &amp; -&gt; sd_log_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gfs2_log_unlock - release the right to mess with the log manager : the filesystem </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a9e5568969fed5701427061a1a6f44e99_icgraph.png" border="0" usemap="#log_8h_a9e5568969fed5701427061a1a6f44e99_icgraph" alt=""/></div>
<map name="log_8h_a9e5568969fed5701427061a1a6f44e99_icgraph" id="log_8h_a9e5568969fed5701427061a1a6f44e99_icgraph">
<area shape="rect" id="node2" href="gfs2_2aops_8c.html#ade1105609982e2feaed8b6a714ba08b5" title="gfs2_discard" alt="" coords="191,5,287,32"/>
<area shape="rect" id="node4" href="gfs2_2inode_8h.html#a66531227153530cb97b4b66d88a1c456" title="gfs2_releasepage" alt="" coords="177,56,301,83"/>
<area shape="rect" id="node5" href="glops_8c.html#ab588cec64175e5a0424c986a057cc750" title="__gfs2_ail_flush" alt="" coords="603,461,719,488"/>
<area shape="rect" id="node12" href="log_8h.html#ab7e46234b65750a6c63ac54cc636f75d" title="gfs2_write_revokes" alt="" coords="172,1196,307,1223"/>
<area shape="rect" id="node14" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="797,1069,939,1096"/>
<area shape="rect" id="node22" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="186,639,293,665"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="198,1120,281,1147"/>
<area shape="rect" id="node38" href="lops_8c.html#a4f6582e4497e6f40e27250e4c88458ab" title="gfs2_before_commit" alt="" coords="169,1652,309,1679"/>
<area shape="rect" id="node41" href="meta__io_8h.html#aded81d4aaa53da2be7a6cca126884933" title="gfs2_meta_wipe" alt="" coords="386,1601,503,1628"/>
<area shape="rect" id="node44" href="trans_8h.html#a5f07b96445fa973a4897137fe3cbb7a1" title="gfs2_trans_add_meta" alt="" coords="371,1449,518,1476"/>
<area shape="rect" id="node50" href="trans_8h.html#a09f064401d0bc69c5ccd9ddc0334eb7f" title="gfs2_trans_add_unrevoke" alt="" coords="359,1323,530,1349"/>
<area shape="rect" id="node3" href="gfs2_2aops_8c.html#aa49f3926e5e496f7e9992aa3feb811a2" title="gfs2_invalidatepage" alt="" coords="376,5,513,32"/>
<area shape="rect" id="node6" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="805,512,931,539"/>
<area shape="rect" id="node9" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="817,715,919,741"/>
<area shape="rect" id="node7" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="1027,563,1127,589"/>
<area shape="rect" id="node8" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="1022,461,1131,488"/>
<area shape="rect" id="node10" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1017,765,1137,792"/>
<area shape="rect" id="node11" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="1014,689,1139,716"/>
<area shape="rect" id="node13" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="580,1069,743,1096"/>
<area shape="rect" id="node21" href="lops_8c.html#a1d7b01c4d02d78872765b5909186a04c" title="revoke_lo_before_commit" alt="" coords="359,1221,530,1248"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="997,968,1157,995"/>
<area shape="rect" id="node16" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="993,1019,1160,1045"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="1007,1069,1147,1096"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="999,1120,1155,1147"/>
<area shape="rect" id="node19" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1021,1171,1132,1197"/>
<area shape="rect" id="node20" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1208,639,1279,665"/>
<area shape="rect" id="node23" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="804,816,932,843"/>
<area shape="rect" id="node24" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="385,968,505,995"/>
<area shape="rect" id="node25" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="383,1019,506,1045"/>
<area shape="rect" id="node26" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="395,208,495,235"/>
<area shape="rect" id="node27" href="gfs2_2aops_8c.html#a31e30c7a244982463a28412453628849" title="gfs2_jdata_writepages" alt="" coords="369,259,521,285"/>
<area shape="rect" id="node28" href="glops_8c.html#acf5b31d2c2adb86139a92accb6eae65b" title="inode_go_inval" alt="" coords="391,309,499,336"/>
<area shape="rect" id="node29" href="glops_8c.html#afd47fa2040dec70e0903efb2253480e7" title="freeze_go_sync" alt="" coords="387,512,502,539"/>
<area shape="rect" id="node30" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="405,917,484,944"/>
<area shape="rect" id="node31" href="ops__fstype_8c.html#a4428abe555f02cb1178a565b9ba31deb" title="gfs2_kill_sb" alt="" coords="399,563,490,589"/>
<area shape="rect" id="node32" href="rgrp_8h.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="795,360,941,387"/>
<area shape="rect" id="node33" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="606,892,717,919"/>
<area shape="rect" id="node34" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="795,1272,941,1299"/>
<area shape="rect" id="node35" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="791,1399,945,1425"/>
<area shape="rect" id="node37" href="log_8h.html#ae8f65d81947f613b6bc8a72eee3a3914" title="gfs2_log_commit" alt="" coords="384,1069,505,1096"/>
<area shape="rect" id="node39" href="lops_8c.html#a3f7d3866db581f468ec6982c38afac47" title="buf_lo_before_commit" alt="" coords="369,1652,520,1679"/>
<area shape="rect" id="node40" href="lops_8c.html#ad0a4eb99b2bde1c020bfae63ddeb34df" title="databuf_lo_before_commit" alt="" coords="357,1703,532,1729"/>
<area shape="rect" id="node42" href="rgrp_8h.html#a34d3533334f235dfbb6624fb2692d83e" title="__gfs2_free_blocks" alt="" coords="594,1728,729,1755"/>
<area shape="rect" id="node43" href="rgrp_8h.html#a6012c27c584465d8be7fb091a215b01c" title="gfs2_free_di" alt="" coords="615,1677,708,1704"/>
<area shape="rect" id="node45" href="gfs2_2xattr_8c.html#abe1c8e2ed68bc18f21521081bfc28f58" title="gfs2_iter_unstuffed" alt="" coords="595,1576,728,1603"/>
<area shape="rect" id="node46" href="gfs2_2xattr_8c.html#a6a32244c6bde85c82128b3ffe16ed1c3" title="ea_alloc_blk" alt="" coords="614,1221,709,1248"/>
<area shape="rect" id="node47" href="gfs2_2xattr_8c.html#aec5d299a0c2e81a7e1b7fb737dff04e2" title="ea_write" alt="" coords="626,1424,697,1451"/>
<area shape="rect" id="node48" href="gfs2_2xattr_8c.html#ae6cc5fa91641685b7190ba4cd1ed95f4" title="ea_set_simple_alloc" alt="" coords="798,1475,938,1501"/>
<area shape="rect" id="node49" href="gfs2_2xattr_8c.html#a320014cb9ec650af3095587d5420cb14" title="ea_set_remove_stuffed" alt="" coords="582,1475,741,1501"/>
</map>
</div>

</div>
</div>
<a id="ae934c02d570412321b236ff11310315b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae934c02d570412321b236ff11310315b">&#9670;&nbsp;</a></span>gfs2_logd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfs2_logd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_logd - Update log tail as Active Items get flushed to in-place blocks : Pointer to GFS2 superblock</p>
<p>Also, periodically check to make sure that we're using the most recent journal index. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ae934c02d570412321b236ff11310315b_cgraph.png" border="0" usemap="#log_8h_ae934c02d570412321b236ff11310315b_cgraph" alt=""/></div>
<map name="log_8h_ae934c02d570412321b236ff11310315b_cgraph" id="log_8h_ae934c02d570412321b236ff11310315b_cgraph">
<area shape="rect" id="node2" href="gfs2_2util_8c.html#a588a88d957873449ef017a942ac8f112" title="gfs2_lm_withdraw" alt="" coords="138,183,265,209"/>
<area shape="rect" id="node3" href="gfs2_2log_8c.html#ae8ca8653f026389e8f82b993672245c7" title="gfs2_jrnl_flush_reqd" alt="" coords="132,233,271,260"/>
<area shape="rect" id="node4" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="329,5,447,32"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="148,335,255,361"/>
<area shape="rect" id="node37" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="335,563,441,589"/>
<area shape="rect" id="node40" href="gfs2_2log_8c.html#a3e998c1de5a5981c17e89c648074f7d3" title="gfs2_ail1_wait" alt="" coords="335,613,441,640"/>
<area shape="rect" id="node42" href="gfs2_2log_8c.html#afb7853eef869062a608f592f63a55e42" title="gfs2_ail_flush_reqd" alt="" coords="134,487,269,513"/>
<area shape="rect" id="node5" href="gfs2_2log_8c.html#a516d43611084cc573e7ae237c710f405" title="gfs2_ail1_empty_one" alt="" coords="505,5,651,32"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="322,309,454,336"/>
<area shape="rect" id="node10" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="319,411,457,437"/>
<area shape="rect" id="node11" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="1261,373,1391,400"/>
<area shape="rect" id="node12" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="901,183,1007,209"/>
<area shape="rect" id="node13" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="518,461,638,488"/>
<area shape="rect" id="node14" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="731,284,818,311"/>
<area shape="rect" id="node34" href="lops_8h.html#ad96d3ea38c0beedc913e5b7eeca56b18" title="lops_after_commit" alt="" coords="323,157,453,184"/>
<area shape="rect" id="node35" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="337,208,439,235"/>
<area shape="rect" id="node36" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="330,259,446,285"/>
<area shape="rect" id="node41" href="gfs2_2log_8c.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="321,512,455,539"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="531,259,625,285"/>
<area shape="rect" id="node9" href="gfs2_2log_8c.html#a26cfe0abf0cced133f2abd09dc261847" title="ip_cmp" alt="" coords="546,309,610,336"/>
<area shape="rect" id="node15" href="gfs2_2log_8c.html#a4d821307bb895f69552a6a5c37794191" title="gfs2_ordered_wait" alt="" coords="711,512,839,539"/>
<area shape="rect" id="node16" href="gfs2_2log_8c.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="699,385,851,412"/>
<area shape="rect" id="node29" href="gfs2_2log_8c.html#adf47b926f204e1ea3e77b139ae572a7a" title="log_pull_tail" alt="" coords="729,461,820,488"/>
<area shape="rect" id="node17" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="929,284,979,311"/>
<area shape="rect" id="node18" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="899,233,1009,260"/>
<area shape="rect" id="node20" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="921,436,987,463"/>
<area shape="rect" id="node21" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="901,385,1007,412"/>
<area shape="rect" id="node19" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="1063,233,1197,260"/>
<area shape="rect" id="node22" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="1070,436,1190,463"/>
<area shape="rect" id="node23" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="1261,449,1391,476"/>
<area shape="rect" id="node24" href="lops_8c.html#a0386b4ce47583a1b48e799572b0f1334" title="gfs2_end_log_write" alt="" coords="1449,449,1584,476"/>
<area shape="rect" id="node25" href="lops_8c.html#a6d5779c1b8df9425e3f87628f383df64" title="gfs2_end_log_write_bh" alt="" coords="1632,449,1787,476"/>
<area shape="rect" id="node26" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1835,413,1977,454"/>
<area shape="rect" id="node28" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1856,479,1956,505"/>
<area shape="rect" id="node27" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2025,449,2164,476"/>
<area shape="rect" id="node30" href="gfs2_2log_8c.html#ad202942c733c941e48733e3aa32b9e4c" title="log_distance" alt="" coords="907,537,1001,564"/>
<area shape="rect" id="node31" href="gfs2_2log_8c.html#a248bd91deb3732b401c8910c6bea3014" title="ail2_empty" alt="" coords="911,487,997,513"/>
<area shape="rect" id="node32" href="gfs2_2log_8c.html#a8f895ec0382a4780074b922d5dd6b03b" title="gfs2_ail2_empty_one" alt="" coords="1057,537,1203,564"/>
<area shape="rect" id="node33" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="1251,537,1401,564"/>
<area shape="rect" id="node38" href="gfs2_2log_8c.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="523,563,633,589"/>
<area shape="rect" id="node39" href="gfs2_2log_8c.html#afc80eab990b37e175da66b9dba5fe74b" title="gfs2_ail1_start_one" alt="" coords="707,563,842,589"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ae934c02d570412321b236ff11310315b_icgraph.png" border="0" usemap="#log_8h_ae934c02d570412321b236ff11310315b_icgraph" alt=""/></div>
<map name="log_8h_ae934c02d570412321b236ff11310315b_icgraph" id="log_8h_ae934c02d570412321b236ff11310315b_icgraph">
<area shape="rect" id="node2" href="gfs2_2super_8c.html#ac24d305e2af8bf54b0dd8b92fc5c1da9" title="init_threads" alt="" coords="169,609,258,636"/>
<area shape="rect" id="node36" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="132,736,295,763"/>
<area shape="rect" id="node3" href="gfs2_2super_8h.html#a109f406a58320724679b20663b96e26d" title="gfs2_make_fs_rw" alt="" coords="554,549,679,576"/>
<area shape="rect" id="node4" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="768,524,887,551"/>
<area shape="rect" id="node5" href="gfs2_2super_8h.html#a9f116488133f8aaa1170939cf2e954e5" title="gfs2_jindex_size" alt="" coords="768,575,887,601"/>
<area shape="rect" id="node16" href="ops__fstype_8c.html#ad49da92415943dc6c99a987208642679" title="fill_super" alt="" coords="1359,487,1434,513"/>
<area shape="rect" id="node6" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="982,828,1067,855"/>
<area shape="rect" id="node14" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="983,563,1067,589"/>
<area shape="rect" id="node7" href="gfs2_2super_8h.html#af4b694099fb0dd36a34d5f147d5eb173" title="gfs2_statfs_change" alt="" coords="1144,727,1280,753"/>
<area shape="rect" id="node8" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1147,879,1277,905"/>
<area shape="rect" id="node9" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1333,1031,1460,1057"/>
<area shape="rect" id="node10" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1329,777,1464,804"/>
<area shape="rect" id="node11" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1338,955,1455,981"/>
<area shape="rect" id="node12" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1337,879,1457,905"/>
<area shape="rect" id="node13" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1341,1107,1452,1133"/>
<area shape="rect" id="node15" href="ops__fstype_8c.html#a3a6e4e72f843e61618a49d5b8a1e7a30" title="init_inodes" alt="" coords="1170,537,1254,564"/>
<area shape="rect" id="node17" href="super_8c.html#a15fd80ca1e01c2f2a579c81e096f41c7" title="mount_ns" alt="" coords="1523,56,1601,83"/>
<area shape="rect" id="node20" href="super_8c.html#a1584ff69a2fb2ff90ce2de27dd98e357" title="mount_nodev" alt="" coords="1512,360,1612,387"/>
<area shape="rect" id="node31" href="super_8c.html#a45eea331e85eef24ccfd29e1ce986024" title="mount_single" alt="" coords="1513,613,1611,640"/>
<area shape="rect" id="node35" href="ops__fstype_8c.html#a92db505a1da8007d5273a93bcb2d166e" title="gfs2_mount" alt="" coords="1517,664,1607,691"/>
<area shape="rect" id="node18" href="proc_2root_8c.html#ae359089dc83c7b9937b8df39cac6903a" title="proc_mount" alt="" coords="1676,56,1767,83"/>
<area shape="rect" id="node19" href="nfsctl_8c.html#adc29b76a00688fc347cbd7df9ff7f3f3" title="nfsd_mount" alt="" coords="1676,5,1767,32"/>
<area shape="rect" id="node21" href="coda_2inode_8c.html#a294a578266689b95d871c0c6ff7ff8ce" title="coda_mount" alt="" coords="1675,360,1768,387"/>
<area shape="rect" id="node22" href="devpts_2inode_8c.html#ad7ce99ca84346ab56c36b3fd1e1abec2" title="devpts_mount" alt="" coords="1669,411,1773,437"/>
<area shape="rect" id="node23" href="fuse_2inode_8c.html#a6b38e60a57f582004180814f86df65d8" title="fuse_mount" alt="" coords="1676,461,1767,488"/>
<area shape="rect" id="node24" href="hugetlbfs_2inode_8c.html#ac2e79ea5f30c2cb42b610b21f6b35190" title="hugetlbfs_mount" alt="" coords="1662,512,1781,539"/>
<area shape="rect" id="node25" href="ramfs_2inode_8c.html#ad7471b5e90bd5259c7c120a4510575b9" title="ramfs_mount" alt="" coords="1672,563,1771,589"/>
<area shape="rect" id="node26" href="exofs_2super_8c.html#a0e31d261657c630b458225ebe799f39c" title="exofs_mount" alt="" coords="1673,107,1770,133"/>
<area shape="rect" id="node27" href="overlayfs_2super_8c.html#a45212ef365fb5aead6ac0d4ce69ce1ca" title="ovl_mount" alt="" coords="1680,157,1763,184"/>
<area shape="rect" id="node28" href="init_8c.html#acf72374d35a5334ed31ff59915a24c9a" title="autofs_mount" alt="" coords="1671,208,1772,235"/>
<area shape="rect" id="node29" href="hostfs__kern_8c.html#add75143c4d6f1ecad34c7d7b1c374bc7" title="hostfs_read_sb" alt="" coords="1666,259,1777,285"/>
<area shape="rect" id="node30" href="dlmfs_8c.html#abc979045a0115b27d308b3462af040fc" title="dlmfs_mount" alt="" coords="1673,309,1770,336"/>
<area shape="rect" id="node32" href="debugfs_2inode_8c.html#ab4a637147d7368aca52f1bd0748ffc2c" title="debug_mount" alt="" coords="1671,613,1771,640"/>
<area shape="rect" id="node33" href="openpromfs_2inode_8c.html#a0d56efdc6be502f57fe406dc36022c93" title="openprom_mount" alt="" coords="1660,664,1783,691"/>
<area shape="rect" id="node34" href="pstore_2inode_8c.html#af5ca74b98740d3baefff72190910057b" title="pstore_mount" alt="" coords="1671,715,1772,741"/>
<area shape="rect" id="node37" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="343,888,485,915"/>
<area shape="rect" id="node38" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="537,1037,697,1064"/>
<area shape="rect" id="node40" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="533,1183,700,1209"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="955,715,1095,741"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="539,676,695,703"/>
<area shape="rect" id="node47" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="561,911,672,937"/>
<area shape="rect" id="node39" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="751,1132,903,1159"/>
<area shape="rect" id="node41" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="748,1233,907,1260"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="1143,676,1281,703"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="785,625,869,652"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="760,676,895,703"/>
<area shape="rect" id="node48" href="gfs2_2inode_8c.html#ab5bae37494d6403aa6c9cd6c52783e64" title="gfs2_trans_da_blks" alt="" coords="760,828,895,855"/>
<area shape="rect" id="node49" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="792,879,863,905"/>
<area shape="rect" id="node50" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="772,980,883,1007"/>
</map>
</div>

</div>
</div>
<a id="a97051294a11e01063ffb8426b12156ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97051294a11e01063ffb8426b12156ac">&#9670;&nbsp;</a></span>gfs2_ordered_add_inode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfs2_ordered_add_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a97051294a11e01063ffb8426b12156ac_cgraph.png" border="0" usemap="#log_8h_a97051294a11e01063ffb8426b12156ac_cgraph" alt=""/></div>
<map name="log_8h_a97051294a11e01063ffb8426b12156ac_cgraph" id="log_8h_a97051294a11e01063ffb8426b12156ac_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="451,22,533,48"/>
<area shape="rect" id="node3" href="log_8h.html#ac60b82653a5d3ddb7cb5e8e14b8dd98a" title="gfs2_ordered_del_inode" alt="" coords="216,47,375,74"/>
<area shape="rect" id="node4" href="log_8h.html#a0405f8f650be2abe1aa7d713402120da" title="gfs2_struct2blk" alt="" coords="240,98,351,124"/>
<area shape="rect" id="node5" href="log_8h.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="235,148,355,175"/>
<area shape="rect" id="node6" href="log_8h.html#a13302c169f75b545635a877c5dcfffd7" title="gfs2_log_reserve" alt="" coords="235,199,356,226"/>
<area shape="rect" id="node8" href="log_8h.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="995,1010,1147,1036"/>
<area shape="rect" id="node18" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="439,630,545,656"/>
<area shape="rect" id="node38" href="log_8h.html#ae8f65d81947f613b6bc8a72eee3a3914" title="gfs2_log_commit" alt="" coords="235,351,356,378"/>
<area shape="rect" id="node40" href="log_8h.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="817,1314,926,1340"/>
<area shape="rect" id="node41" href="log_8h.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="228,300,363,327"/>
<area shape="rect" id="node42" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="256,832,335,859"/>
<area shape="rect" id="node47" href="log_8h.html#a0297e2aea09918000f7fa38e5c5bdd1a" title="gfs2_add_revoke" alt="" coords="235,250,356,276"/>
<area shape="rect" id="node49" href="log_8h.html#ab7e46234b65750a6c63ac54cc636f75d" title="gfs2_write_revokes" alt="" coords="425,402,559,428"/>
<area shape="rect" id="node7" href="gfs2_2log_8c.html#a0cf927ed7efebf3e8f204b0ac4d934ac" title="gfs2_log_release" alt="" coords="432,148,552,175"/>
<area shape="rect" id="node9" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1225,858,1275,884"/>
<area shape="rect" id="node10" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="1195,959,1305,986"/>
<area shape="rect" id="node12" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="1217,908,1283,935"/>
<area shape="rect" id="node13" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="1197,1010,1303,1036"/>
<area shape="rect" id="node15" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="1536,1035,1667,1062"/>
<area shape="rect" id="node17" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="1197,756,1303,783"/>
<area shape="rect" id="node11" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="1353,959,1488,986"/>
<area shape="rect" id="node14" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="1361,1162,1481,1188"/>
<area shape="rect" id="node16" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="1537,1187,1666,1214"/>
<area shape="rect" id="node19" href="gfs2_2log_8c.html#abf30c4ef32fd6294f6f1d192056c330b" title="gfs2_ordered_write" alt="" coords="613,908,745,935"/>
<area shape="rect" id="node22" href="lops_8h.html#aa4e053c7744ce50b0c51dcfa8ad93a5c" title="lops_before_commit" alt="" coords="609,706,748,732"/>
<area shape="rect" id="node23" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="811,807,931,834"/>
<area shape="rect" id="node24" href="gfs2_2log_8c.html#ae32434a4032c123a24ef0feedf10d39f" title="current_tail" alt="" coords="1027,959,1114,986"/>
<area shape="rect" id="node28" href="lops_8h.html#ad96d3ea38c0beedc913e5b7eeca56b18" title="lops_after_commit" alt="" coords="614,756,743,783"/>
<area shape="rect" id="node29" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="627,402,730,428"/>
<area shape="rect" id="node30" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="621,351,737,378"/>
<area shape="rect" id="node31" href="gfs2_2log_8c.html#a5321a22f5a73ccfa4a03196f2a107e6b" title="gfs2_ail1_start" alt="" coords="625,1162,732,1188"/>
<area shape="rect" id="node34" href="gfs2_2log_8c.html#a3e998c1de5a5981c17e89c648074f7d3" title="gfs2_ail1_wait" alt="" coords="626,1010,731,1036"/>
<area shape="rect" id="node35" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="620,452,737,479"/>
<area shape="rect" id="node37" href="gfs2_2log_8c.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="611,655,746,682"/>
<area shape="rect" id="node20" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="824,908,919,935"/>
<area shape="rect" id="node21" href="gfs2_2log_8c.html#a26cfe0abf0cced133f2abd09dc261847" title="ip_cmp" alt="" coords="839,858,903,884"/>
<area shape="rect" id="node25" href="gfs2_2log_8c.html#a4d821307bb895f69552a6a5c37794191" title="gfs2_ordered_wait" alt="" coords="1007,807,1135,834"/>
<area shape="rect" id="node26" href="gfs2_2log_8c.html#ac85f98254492840f41e8e4af6d9c1fb1" title="gfs2_write_log_header" alt="" coords="995,908,1147,935"/>
<area shape="rect" id="node27" href="gfs2_2log_8c.html#adf47b926f204e1ea3e77b139ae572a7a" title="log_pull_tail" alt="" coords="1025,858,1116,884"/>
<area shape="rect" id="node32" href="gfs2_2log_8c.html#a537c4042c63a9f1f940830c2314c91e9" title="gfs2_ail1_flush" alt="" coords="817,1263,926,1290"/>
<area shape="rect" id="node33" href="gfs2_2log_8c.html#afc80eab990b37e175da66b9dba5fe74b" title="gfs2_ail1_start_one" alt="" coords="1003,1288,1138,1315"/>
<area shape="rect" id="node36" href="gfs2_2log_8c.html#a516d43611084cc573e7ae237c710f405" title="gfs2_ail1_empty_one" alt="" coords="799,452,944,479"/>
<area shape="rect" id="node39" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="451,351,533,378"/>
<area shape="rect" id="node43" href="gfs2_2util_8c.html#a588a88d957873449ef017a942ac8f112" title="gfs2_lm_withdraw" alt="" coords="429,756,555,783"/>
<area shape="rect" id="node44" href="gfs2_2log_8c.html#ae8ca8653f026389e8f82b993672245c7" title="gfs2_jrnl_flush_reqd" alt="" coords="423,858,561,884"/>
<area shape="rect" id="node45" href="gfs2_2log_8c.html#a0f11c41ecd1d1b9022cfad0717e108b8" title="gfs2_log_flush" alt="" coords="439,807,545,834"/>
<area shape="rect" id="node46" href="gfs2_2log_8c.html#afb7853eef869062a608f592f63a55e42" title="gfs2_ail_flush_reqd" alt="" coords="425,908,559,935"/>
<area shape="rect" id="node48" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="796,250,947,276"/>
<area shape="rect" id="node50" href="gfs2_2log_8c.html#a0297e2aea09918000f7fa38e5c5bdd1a" title="gfs2_add_revoke" alt="" coords="618,300,739,327"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a97051294a11e01063ffb8426b12156ac_icgraph.png" border="0" usemap="#log_8h_a97051294a11e01063ffb8426b12156ac_icgraph" alt=""/></div>
<map name="log_8h_a97051294a11e01063ffb8426b12156ac_icgraph" id="log_8h_a97051294a11e01063ffb8426b12156ac_icgraph">
<area shape="rect" id="node2" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="216,626,359,652"/>
<area shape="rect" id="node3" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="410,398,570,424"/>
<area shape="rect" id="node28" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="407,676,573,703"/>
<area shape="rect" id="node33" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="420,626,560,652"/>
<area shape="rect" id="node40" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="1256,1119,1412,1146"/>
<area shape="rect" id="node49" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="859,384,970,411"/>
<area shape="rect" id="node4" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="625,366,777,392"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#affcbbfb7179f0171210e1054502215f4" title="gfs2_adjust_quota" alt="" coords="851,334,979,360"/>
<area shape="rect" id="node6" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1093,359,1164,386"/>
<area shape="rect" id="node26" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="2247,106,2357,132"/>
<area shape="rect" id="node7" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1277,258,1391,284"/>
<area shape="rect" id="node8" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1291,410,1377,436"/>
<area shape="rect" id="node9" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1462,410,1593,436"/>
<area shape="rect" id="node27" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1273,308,1395,335"/>
<area shape="rect" id="node10" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1654,460,1781,487"/>
<area shape="rect" id="node14" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="2235,460,2369,487"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="2417,714,2535,740"/>
<area shape="rect" id="node17" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1674,207,1761,234"/>
<area shape="rect" id="node18" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1680,258,1755,284"/>
<area shape="rect" id="node19" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1669,308,1766,335"/>
<area shape="rect" id="node20" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="2242,815,2362,842"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1662,562,1773,588"/>
<area shape="rect" id="node22" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1682,764,1753,791"/>
<area shape="rect" id="node11" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="1881,460,1941,487"/>
<area shape="rect" id="node12" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="1858,511,1965,538"/>
<area shape="rect" id="node13" href="gfs2_2xattr_8c.html#afc59858cf4ea407d66877a34c85ff455" title="ea_set_i" alt="" coords="2073,460,2144,487"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2583,916,2685,943"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1850,764,1973,791"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="2031,726,2187,752"/>
<area shape="rect" id="node25" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="2241,739,2363,766"/>
<area shape="rect" id="node29" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="621,1068,780,1095"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a90568f12fb8097b346362fc40b525cc5" title="gfs2_jdata_writepage" alt="" coords="842,1068,987,1095"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a83dbff3c51e1b0b0f684b981ec0d1a46" title="gfs2_write_jdata_pagevec" alt="" coords="828,1119,1001,1146"/>
<area shape="rect" id="node32" href="gfs2_2aops_8c.html#a56f578ea8155930045c13073cf026985" title="gfs2_write_cache_jdata" alt="" coords="1049,1119,1208,1146"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="631,739,770,766"/>
<area shape="rect" id="node35" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="847,840,982,867"/>
<area shape="rect" id="node39" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1471,1018,1584,1044"/>
<area shape="rect" id="node36" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="1081,916,1176,943"/>
<area shape="rect" id="node37" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="1063,815,1194,842"/>
<area shape="rect" id="node38" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="1083,866,1174,892"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="1485,1119,1569,1146"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1844,1068,1979,1095"/>
<area shape="rect" id="node42" href="ocfs2_2file_8c.html#ab1f194ddafdc364e98d2685f39dc2286" title="ocfs2_calc_trunc_pos" alt="" coords="1643,1119,1792,1146"/>
<area shape="rect" id="node43" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="1840,1152,1983,1193"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="1678,866,1757,892"/>
<area shape="rect" id="node44" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="2038,1141,2179,1182"/>
<area shape="rect" id="node45" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="2039,1206,2178,1248"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="1851,866,1972,892"/>
<area shape="rect" id="node50" href="gfs2_2inode_8c.html#ab5bae37494d6403aa6c9cd6c52783e64" title="gfs2_trans_da_blks" alt="" coords="1460,232,1595,259"/>
</map>
</div>

</div>
</div>
<a id="ac60b82653a5d3ddb7cb5e8e14b8dd98a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60b82653a5d3ddb7cb5e8e14b8dd98a">&#9670;&nbsp;</a></span>gfs2_ordered_del_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_ordered_del_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__inode.html">gfs2_inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_cgraph.png" border="0" usemap="#log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_cgraph" alt=""/></div>
<map name="log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_cgraph" id="log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_cgraph">
<area shape="rect" id="node2" href="incore_8h.html#a6e654b7e928c4d42d33bb0e5bf975339" title="GFS2_SB" alt="" coords="212,5,293,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_icgraph.png" border="0" usemap="#log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_icgraph" alt=""/></div>
<map name="log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_icgraph" id="log_8h_ac60b82653a5d3ddb7cb5e8e14b8dd98a_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1685,46,1813,73"/>
<area shape="rect" id="node6" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="233,46,353,73"/>
<area shape="rect" id="node7" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1689,97,1809,123"/>
<area shape="rect" id="node8" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="868,515,947,542"/>
<area shape="rect" id="node38" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="212,647,375,674"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#acac22cfc591d426487800c3619821d1f" title="gfs2_set_flags" alt="" coords="1871,59,1977,86"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a774061dde76a13f2775ca80995822548" title="gfs2_ioctl" alt="" coords="2403,439,2481,466"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="2541,831,2688,858"/>
<area shape="rect" id="node9" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="1041,713,1183,755"/>
<area shape="rect" id="node17" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="1073,527,1151,554"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8h.html#aa63fdaa0c472efdf4a6afa24d0297529" title="gfs2_truncatei_resume" alt="" coords="1035,451,1189,478"/>
<area shape="rect" id="node10" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="1255,779,1397,820"/>
<area shape="rect" id="node14" href="refcounttree_8c.html#a97036184ce987aa59b667ec2ad26cac7" title="ocfs2_reflink_remap\l_extent" alt="" coords="1257,713,1395,755"/>
<area shape="rect" id="node11" href="file_8h.html#af4c99f98a67833a1076658ae4a048697" title="ocfs2_change_file_space" alt="" coords="1463,946,1632,973"/>
<area shape="rect" id="node13" href="ocfs2_2file_8c.html#afa7d4cd6ace12ff88f43e8df02eec9ed" title="ocfs2_fallocate" alt="" coords="1492,786,1603,813"/>
<area shape="rect" id="node12" href="ocfs2_2ioctl_8h.html#a0d3e986b070b7d2532c25ef751dc0aee" title="ocfs2_ioctl" alt="" coords="1707,1099,1792,1126"/>
<area shape="rect" id="node15" href="refcounttree_8c.html#a51c4ce9619eba3c168b623473bd2daad" title="ocfs2_reflink_remap\l_blocks" alt="" coords="1478,717,1617,759"/>
<area shape="rect" id="node16" href="refcounttree_8h.html#aaf8eadc3b04ecb88a74dfdc4645e72d2" title="ocfs2_reflink_remap\l_range" alt="" coords="1680,1009,1819,1051"/>
<area shape="rect" id="node18" href="gfs2_2bmap_8h.html#a331a33f7fee55ff1b471c9effa059659" title="gfs2_trim_blocks" alt="" coords="1265,553,1387,579"/>
<area shape="rect" id="node32" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="1265,502,1387,529"/>
<area shape="rect" id="node19" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="2215,325,2335,351"/>
<area shape="rect" id="node20" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="1469,502,1625,529"/>
<area shape="rect" id="node21" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="2208,578,2343,605"/>
<area shape="rect" id="node22" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="2034,755,2155,782"/>
<area shape="rect" id="node23" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="2217,857,2334,883"/>
<area shape="rect" id="node25" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1714,603,1785,630"/>
<area shape="rect" id="node31" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1694,451,1805,478"/>
<area shape="rect" id="node24" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2391,857,2493,883"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1867,553,1981,579"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1881,654,1967,681"/>
<area shape="rect" id="node28" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="2029,654,2160,681"/>
<area shape="rect" id="node29" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="2212,730,2339,757"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="2220,1029,2331,1055"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a7eb427620ed48a422e514dd3768cc6e9" title="gfs2_setattr" alt="" coords="1704,198,1795,225"/>
<area shape="rect" id="node35" href="glock_8h.html#ac6515277fc7a7b94e5ed8a01e366f8e5" title="gfs2_glock_finish_truncate" alt="" coords="1237,198,1415,225"/>
<area shape="rect" id="node36" href="gfs2_2quota_8c.html#aff7d89447e02848c958b2dfbc1191356" title="quotad_check_trunc_list" alt="" coords="1466,198,1629,225"/>
<area shape="rect" id="node37" href="glock_8h.html#a1baa67d99645a172582d742b7a95f522" title="gfs2_glock_nq_init" alt="" coords="1482,147,1613,174"/>
<area shape="rect" id="node39" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="423,689,565,715"/>
<area shape="rect" id="node40" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="617,798,777,825"/>
<area shape="rect" id="node42" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="613,1150,780,1177"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="627,426,767,453"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="619,717,775,743"/>
<area shape="rect" id="node49" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1492,663,1603,690"/>
<area shape="rect" id="node41" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="831,830,983,857"/>
<area shape="rect" id="node43" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="828,1201,987,1227"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="1257,401,1395,427"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="865,717,949,743"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1259,845,1393,871"/>
<area shape="rect" id="node50" href="gfs2_2inode_8c.html#ab5bae37494d6403aa6c9cd6c52783e64" title="gfs2_trans_da_blks" alt="" coords="1682,958,1817,985"/>
</map>
</div>

</div>
</div>
<a id="a0405f8f650be2abe1aa7d713402120da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0405f8f650be2abe1aa7d713402120da">&#9670;&nbsp;</a></span>gfs2_struct2blk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gfs2_struct2blk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nstruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ssize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gfs2_struct2blk - compute stuff : the filesystem : the number of structures : the size of the structures</p>
<p>Compute the number of log descriptor blocks needed to hold a certain number of structures of a certain size.</p>
<p>Returns: the number of blocks needed (minimum is always 1) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_a0405f8f650be2abe1aa7d713402120da_icgraph.png" border="0" usemap="#log_8h_a0405f8f650be2abe1aa7d713402120da_icgraph" alt=""/></div>
<map name="log_8h_a0405f8f650be2abe1aa7d713402120da_icgraph" id="log_8h_a0405f8f650be2abe1aa7d713402120da_icgraph">
<area shape="rect" id="node2" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="186,461,313,488"/>
<area shape="rect" id="node5" href="gfs2_2log_8c.html#a3dc8092ed1bcb8a756d91301455724e9" title="calc_reserved" alt="" coords="198,563,301,589"/>
<area shape="rect" id="node8" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="709,512,872,539"/>
<area shape="rect" id="node18" href="lops_8c.html#a1d7b01c4d02d78872765b5909186a04c" title="revoke_lo_before_commit" alt="" coords="164,664,335,691"/>
<area shape="rect" id="node19" href="trans_8h.html#a33bdc0c0d85908f99d83f7c17125795b" title="gfs2_trans_begin" alt="" coords="931,968,1052,995"/>
<area shape="rect" id="node3" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="387,411,487,437"/>
<area shape="rect" id="node4" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="383,461,492,488"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#af4e94e4bd500d97b781ee20217e26971" title="log_refund" alt="" coords="396,563,479,589"/>
<area shape="rect" id="node7" href="log_8h.html#ae8f65d81947f613b6bc8a72eee3a3914" title="gfs2_log_commit" alt="" coords="540,563,661,589"/>
<area shape="rect" id="node9" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="920,157,1063,184"/>
<area shape="rect" id="node10" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="1117,5,1277,32"/>
<area shape="rect" id="node11" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1142,157,1253,184"/>
<area shape="rect" id="node12" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1349,69,1475,96"/>
<area shape="rect" id="node13" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="1345,145,1479,172"/>
<area shape="rect" id="node14" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="1353,203,1471,229"/>
<area shape="rect" id="node15" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1377,307,1447,333"/>
<area shape="rect" id="node16" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="1357,383,1467,409"/>
<area shape="rect" id="node17" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="1352,473,1472,500"/>
<area shape="rect" id="node20" href="gfs2_2xattr_8c.html#a3950aef6858da3bae5bf4934d5db1647" title="ea_dealloc_unstuffed" alt="" coords="1125,613,1270,640"/>
<area shape="rect" id="node21" href="gfs2_2xattr_8c.html#abfaf842832c0f7dd6904b421f1a90d3c" title="ea_set_simple_noalloc" alt="" coords="1120,664,1275,691"/>
<area shape="rect" id="node22" href="gfs2_2xattr_8c.html#a93063e9e64675184aa7ec07ca48490b1" title="ea_remove_stuffed" alt="" coords="1131,715,1264,741"/>
<area shape="rect" id="node23" href="gfs2_2xattr_8c.html#a82a651a0d1b72c986a53497c9fd5ddf1" title="ea_dealloc_indirect" alt="" coords="1131,765,1264,792"/>
<area shape="rect" id="node24" href="gfs2_2xattr_8c.html#a55a61004ebb6a4ab29bef595fcf78805" title="ea_dealloc_block" alt="" coords="1136,816,1259,843"/>
<area shape="rect" id="node25" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="1152,867,1243,893"/>
<area shape="rect" id="node26" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="1133,917,1261,944"/>
<area shape="rect" id="node27" href="gfs2_2inode_8c.html#a27bc61bf5532d6ab625340074a88ca81" title="alloc_dinode" alt="" coords="1150,968,1245,995"/>
<area shape="rect" id="node28" href="gfs2_2inode_8c.html#a4a4f57601c6fa8ff580fc24d933bad6a" title="gfs2_create_inode" alt="" coords="1348,1019,1476,1045"/>
<area shape="rect" id="node29" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1154,1019,1241,1045"/>
<area shape="rect" id="node30" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1160,1120,1235,1147"/>
<area shape="rect" id="node31" href="gfs2_2inode_8c.html#a873924358141bf9b1aa2fdc0e8427865" title="gfs2_unlink" alt="" coords="1153,1171,1241,1197"/>
<area shape="rect" id="node32" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1149,1221,1246,1248"/>
<area shape="rect" id="node33" href="gfs2_2inode_8c.html#a811483fa4ad09d3edcedf8ad8c879121" title="gfs2_exchange" alt="" coords="1142,1272,1253,1299"/>
<area shape="rect" id="node34" href="gfs2_2inode_8h.html#a2bbbbf0de5ec747be2f040ba2ae7d3d4" title="gfs2_setattr_simple" alt="" coords="1129,1323,1265,1349"/>
<area shape="rect" id="node35" href="gfs2_2inode_8c.html#a4788c34c1446846c0aaafeccb43a1be9" title="setattr_chown" alt="" coords="1360,1348,1464,1375"/>
<area shape="rect" id="node36" href="gfs2_2super_8h.html#a14d22b00dab4b0e2289e41420df684fa" title="gfs2_statfs_sync" alt="" coords="1136,1424,1259,1451"/>
<area shape="rect" id="node37" href="gfs2_2super_8c.html#a8f4bb0ccf572f73b364294ef5b126e10" title="gfs2_dirty_inode" alt="" coords="1139,1475,1256,1501"/>
<area shape="rect" id="node38" href="gfs2_2super_8c.html#ae19730493d94443d1756b8a18ee4cbe2" title="gfs2_dinode_dealloc" alt="" coords="1127,1525,1267,1552"/>
<area shape="rect" id="node39" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1352,1576,1472,1603"/>
<area shape="rect" id="node40" href="gfs2_2aops_8c.html#a83dbff3c51e1b0b0f684b981ec0d1a46" title="gfs2_write_jdata_pagevec" alt="" coords="1111,1677,1284,1704"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a3798960910ce0c83d83d01ab9bad0fd9" title="gfs2_journaled_truncate" alt="" coords="1117,1728,1277,1755"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="1370,1773,1454,1800"/>
<area shape="rect" id="node43" href="gfs2_2bmap_8c.html#a176e236e3a36c04b455e3e8a3df17b07" title="sweep_bh_for_rgrps" alt="" coords="1128,1829,1267,1856"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#a93f97755d47766a48ec4df929863efb4" title="punch_hole" alt="" coords="1368,1835,1456,1861"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="1540,1835,1675,1861"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#a6a4a123552788f37e9c996b878e44218" title="trunc_end" alt="" coords="1158,259,1237,285"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1162,309,1233,336"/>
<area shape="rect" id="node48" href="gfs2_2bmap_8c.html#acc866fb7aa272ffb43d247c8a3e7f36f" title="gfs2_journaled_truncate\l_range" alt="" coords="1332,1907,1492,1949"/>
<area shape="rect" id="node49" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="1146,1576,1249,1603"/>
<area shape="rect" id="node50" href="rgrp_8h.html#aac7dcffbb3945ebd6cc9e9be95773ccf" title="gfs2_fitrim" alt="" coords="1156,411,1239,437"/>
</map>
</div>

</div>
</div>
<a id="ac85f98254492840f41e8e4af6d9c1fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85f98254492840f41e8e4af6d9c1fb1">&#9670;&nbsp;</a></span>gfs2_write_log_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_write_log_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgfs2__jdesc.html">gfs2_jdesc</a> *&#160;</td>
          <td class="paramname"><em>jd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>tail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>write_log_header - Write a journal log header buffer at sd_log_flush_head : The GFS2 superblock : journal descriptor of the journal to which we are writing : sequence number : tail of the log : log header flags GFS2_LOG_HEAD_* : flags to pass to the bio</p>
<p>Returns: the initialized log buffer descriptor </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ac85f98254492840f41e8e4af6d9c1fb1_cgraph.png" border="0" usemap="#log_8h_ac85f98254492840f41e8e4af6d9c1fb1_cgraph" alt=""/></div>
<map name="log_8h_ac85f98254492840f41e8e4af6d9c1fb1_cgraph" id="log_8h_ac85f98254492840f41e8e4af6d9c1fb1_cgraph">
<area shape="rect" id="node2" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="235,5,286,32"/>
<area shape="rect" id="node3" href="lops_8c.html#ae9d767f11f0da097a2491fa12c71acb3" title="gfs2_log_bmap" alt="" coords="205,56,316,83"/>
<area shape="rect" id="node5" href="incore_8h.html#af3bc95dcc324ad1e1c784c03e41049c6" title="GFS2_I" alt="" coords="227,107,294,133"/>
<area shape="rect" id="node6" href="lops_8c.html#a0eeedde58b40f0f6dd778e881e7515a2" title="gfs2_log_write" alt="" coords="207,157,314,184"/>
<area shape="rect" id="node8" href="lops_8c.html#a7efd831bb681ad573f60d6309f4aa619" title="gfs2_log_flush_bio" alt="" coords="547,183,677,209"/>
<area shape="rect" id="node15" href="gfs2_2log_8c.html#aca28ade45a136e16df8f2a34aacf5ad0" title="log_flush_wait" alt="" coords="208,284,313,311"/>
<area shape="rect" id="node4" href="lops_8c.html#a996380e3dad2e894cfbb12bfa31a3c8e" title="gfs2_log_incr_head" alt="" coords="364,31,499,57"/>
<area shape="rect" id="node7" href="lops_8c.html#a584d970529c4e587ec1b24a64498c4b4" title="gfs2_log_get_bio" alt="" coords="371,132,491,159"/>
<area shape="rect" id="node9" href="lops_8c.html#ab5844f9d98332eb33c521fb0c7b15a5c" title="gfs2_log_alloc_bio" alt="" coords="547,107,677,133"/>
<area shape="rect" id="node10" href="lops_8c.html#a0386b4ce47583a1b48e799572b0f1334" title="gfs2_end_log_write" alt="" coords="725,107,860,133"/>
<area shape="rect" id="node11" href="lops_8c.html#a6d5779c1b8df9425e3f87628f383df64" title="gfs2_end_log_write_bh" alt="" coords="908,107,1063,133"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1111,70,1253,111"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1132,136,1232,163"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1301,107,1440,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ac85f98254492840f41e8e4af6d9c1fb1_icgraph.png" border="0" usemap="#log_8h_ac85f98254492840f41e8e4af6d9c1fb1_icgraph" alt=""/></div>
<map name="log_8h_ac85f98254492840f41e8e4af6d9c1fb1_icgraph" id="log_8h_ac85f98254492840f41e8e4af6d9c1fb1_icgraph">
<area shape="rect" id="node2" href="gfs2_2recovery_8c.html#aece44f5b840a4164271292380e3a7bba" title="clean_journal" alt="" coords="216,157,315,184"/>
<area shape="rect" id="node11" href="gfs2_2log_8c.html#a6eb677bf415816e99015b04b0229d8f5" title="log_write_header" alt="" coords="205,411,325,437"/>
<area shape="rect" id="node40" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="971,360,1133,387"/>
<area shape="rect" id="node3" href="recovery_8h.html#a694e7952cec81ece9ae29b217be8c836" title="gfs2_recover_func" alt="" coords="376,157,505,184"/>
<area shape="rect" id="node4" href="ops__fstype_8c.html#a0a1a516458d25780b5d5c485ec671c18" title="gfs2_jindex_hold" alt="" coords="567,208,686,235"/>
<area shape="rect" id="node6" href="recovery_8h.html#a1aba8c6577196b77fa30054b89455572" title="gfs2_replay_incr_blk" alt="" coords="556,107,697,133"/>
<area shape="rect" id="node5" href="ops__fstype_8c.html#af45ac455e847988f4b3b9092a964fcdd" title="init_journal" alt="" coords="792,208,876,235"/>
<area shape="rect" id="node7" href="gfs2_2recovery_8c.html#a7700c051a64d506a6556b5a8f1200ed5" title="foreach_descriptor" alt="" coords="769,157,899,184"/>
<area shape="rect" id="node8" href="lops_8c.html#ace4c0a2710d0572aec439a9e4c8e7046" title="buf_lo_scan_elements" alt="" coords="758,107,910,133"/>
<area shape="rect" id="node9" href="lops_8c.html#adefd7d2f659de00d9a44aeb894a8acbc" title="revoke_lo_scan_elements" alt="" coords="747,5,921,32"/>
<area shape="rect" id="node10" href="lops_8c.html#ae978a4a96602c1a225dcea409bb50201" title="databuf_lo_scan_elements" alt="" coords="745,56,923,83"/>
<area shape="rect" id="node12" href="log_8h.html#ad6d3ae189d1c4809cf72babe10a2f375" title="gfs2_log_flush" alt="" coords="573,765,680,792"/>
<area shape="rect" id="node50" href="log_8h.html#a05e221e3466b3ef401126e11a7e14ee9" title="gfs2_log_shutdown" alt="" coords="373,411,508,437"/>
<area shape="rect" id="node13" href="gfs2_2file_8c.html#a4bb38d66b4e7c9cd2cafca708028556f" title="do_gfs2_set_flags" alt="" coords="988,715,1116,741"/>
<area shape="rect" id="node15" href="gfs2_2super_8c.html#a9faafbd4e606144a4086fb5a3ccdcce7" title="gfs2_write_inode" alt="" coords="774,664,894,691"/>
<area shape="rect" id="node16" href="gfs2_2super_8c.html#a48226f6950e604296230790ba2ccc789" title="gfs2_make_fs_ro" alt="" coords="1879,1120,2001,1147"/>
<area shape="rect" id="node19" href="gfs2_2super_8c.html#a8a268f1dd62b181a1b608af5d557d3e2" title="gfs2_sync_fs" alt="" coords="1890,791,1990,817"/>
<area shape="rect" id="node20" href="gfs2_2super_8c.html#a6f6b6c71d7acdd698a23e42cfa67d3f8" title="gfs2_evict_inode" alt="" coords="1193,1069,1313,1096"/>
<area shape="rect" id="node21" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1587,613,1657,640"/>
<area shape="rect" id="node29" href="gfs2_2aops_8c.html#a31e30c7a244982463a28412453628849" title="gfs2_jdata_writepages" alt="" coords="758,1069,910,1096"/>
<area shape="rect" id="node30" href="glops_8c.html#ad6279497c9b3bcf0aa7c8ab61ba5d037" title="gfs2_ail_empty_gl" alt="" coords="989,1272,1115,1299"/>
<area shape="rect" id="node31" href="glops_8c.html#a9f34a0472f217d536b0e25d940158bc8" title="rgrp_go_sync" alt="" coords="1203,1233,1303,1260"/>
<area shape="rect" id="node32" href="glops_8c.html#a0404b9ee561ac698ab5dfb6b83366e3a" title="inode_go_sync" alt="" coords="1198,1297,1307,1324"/>
<area shape="rect" id="node33" href="glops_8h.html#a26fda2852f7f8d6706786153e9ec9ca6" title="gfs2_ail_flush" alt="" coords="1001,1120,1103,1147"/>
<area shape="rect" id="node35" href="trace__gfs2_8h.html#a8b09e3387bdcf4693480883b706ae0c5" title="glock_trace_state" alt="" coords="1190,1171,1315,1197"/>
<area shape="rect" id="node36" href="glops_8c.html#acf5b31d2c2adb86139a92accb6eae65b" title="inode_go_inval" alt="" coords="780,1373,888,1400"/>
<area shape="rect" id="node37" href="glops_8c.html#afd47fa2040dec70e0903efb2253480e7" title="freeze_go_sync" alt="" coords="777,411,891,437"/>
<area shape="rect" id="node38" href="log_8h.html#ae934c02d570412321b236ff11310315b" title="gfs2_logd" alt="" coords="795,461,873,488"/>
<area shape="rect" id="node47" href="ops__fstype_8c.html#a4428abe555f02cb1178a565b9ba31deb" title="gfs2_kill_sb" alt="" coords="789,512,879,539"/>
<area shape="rect" id="node48" href="rgrp_8h.html#a89fd42949f5f89b0ce9f307cd9ca33dd" title="gfs2_inplace_reserve" alt="" coords="1383,613,1528,640"/>
<area shape="rect" id="node49" href="trans_8h.html#a862ca9ca129720cc796f84e93934c81b" title="gfs2_trans_end" alt="" coords="779,892,889,919"/>
<area shape="rect" id="node14" href="gfs2_2file_8c.html#acac22cfc591d426487800c3619821d1f" title="gfs2_set_flags" alt="" coords="1199,715,1306,741"/>
<area shape="rect" id="node17" href="gfs2_2super_8c.html#abb52774f6c832a6ab150b154fc5232a6" title="gfs2_put_super" alt="" coords="2065,1069,2176,1096"/>
<area shape="rect" id="node18" href="gfs2_2super_8c.html#a70fdd3a9707528a14e7a13272638d65c" title="gfs2_remount_fs" alt="" coords="2061,1120,2180,1147"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1709,613,1823,640"/>
<area shape="rect" id="node23" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1723,664,1809,691"/>
<area shape="rect" id="node24" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1875,537,2005,564"/>
<area shape="rect" id="node28" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1705,816,1827,843"/>
<area shape="rect" id="node25" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="2057,411,2184,437"/>
<area shape="rect" id="node26" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="2053,613,2188,640"/>
<area shape="rect" id="node27" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="2062,816,2179,843"/>
<area shape="rect" id="node34" href="gfs2_2file_8c.html#a144b09519526867771c32ae62a920a85" title="gfs2_fsync" alt="" coords="1209,1120,1296,1147"/>
<area shape="rect" id="node39" href="gfs2_2super_8c.html#ac24d305e2af8bf54b0dd8b92fc5c1da9" title="init_threads" alt="" coords="1007,461,1097,488"/>
<area shape="rect" id="node41" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="1181,360,1324,387"/>
<area shape="rect" id="node42" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="1375,309,1535,336"/>
<area shape="rect" id="node43" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="1372,360,1539,387"/>
<area shape="rect" id="node44" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="1385,411,1525,437"/>
<area shape="rect" id="node45" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="1377,259,1533,285"/>
<area shape="rect" id="node46" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1400,512,1511,539"/>
</map>
</div>

</div>
</div>
<a id="ab7e46234b65750a6c63ac54cc636f75d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7e46234b65750a6c63ac54cc636f75d">&#9670;&nbsp;</a></span>gfs2_write_revokes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfs2_write_revokes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgfs2__sbd.html">gfs2_sbd</a> *&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ab7e46234b65750a6c63ac54cc636f75d_cgraph.png" border="0" usemap="#log_8h_ab7e46234b65750a6c63ac54cc636f75d_cgraph" alt=""/></div>
<map name="log_8h_ab7e46234b65750a6c63ac54cc636f75d_cgraph" id="log_8h_ab7e46234b65750a6c63ac54cc636f75d_cgraph">
<area shape="rect" id="node2" href="gfs2_2log_8c.html#a404efcc11a05efe779a7cbdf948b2843" title="gfs2_ail1_empty" alt="" coords="190,5,307,32"/>
<area shape="rect" id="node4" href="log_8h.html#aa07bf7138b0cab8cb509eacdcc9df3bc" title="gfs2_log_lock" alt="" coords="197,56,300,83"/>
<area shape="rect" id="node5" href="gfs2_2log_8c.html#a0297e2aea09918000f7fa38e5c5bdd1a" title="gfs2_add_revoke" alt="" coords="188,107,309,133"/>
<area shape="rect" id="node7" href="log_8h.html#a9e5568969fed5701427061a1a6f44e99" title="gfs2_log_unlock" alt="" coords="191,157,307,184"/>
<area shape="rect" id="node3" href="gfs2_2log_8c.html#a516d43611084cc573e7ae237c710f405" title="gfs2_ail1_empty_one" alt="" coords="360,5,505,32"/>
<area shape="rect" id="node6" href="gfs2_2log_8c.html#aee6d361614f7d594dbcd3752227abde0" title="gfs2_remove_from_ail" alt="" coords="357,107,508,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h_ab7e46234b65750a6c63ac54cc636f75d_icgraph.png" border="0" usemap="#log_8h_ab7e46234b65750a6c63ac54cc636f75d_icgraph" alt=""/></div>
<map name="log_8h_ab7e46234b65750a6c63ac54cc636f75d_icgraph" id="log_8h_ab7e46234b65750a6c63ac54cc636f75d_icgraph">
<area shape="rect" id="node2" href="log_8h.html#a97051294a11e01063ffb8426b12156ac" title="gfs2_ordered_add_inode" alt="" coords="192,664,355,691"/>
<area shape="rect" id="node50" href="lops_8c.html#a1d7b01c4d02d78872765b5909186a04c" title="revoke_lo_before_commit" alt="" coords="188,715,359,741"/>
<area shape="rect" id="node3" href="trans_8h.html#af402056a91cc0145ce05c5a593621688" title="gfs2_trans_add_data" alt="" coords="407,664,549,691"/>
<area shape="rect" id="node4" href="gfs2_2quota_8c.html#aaf2d602f129a04d0d5283068465757a0" title="gfs2_write_buf_to_page" alt="" coords="601,943,761,969"/>
<area shape="rect" id="node29" href="gfs2_2aops_8c.html#a77229507aa1956e214eb65ebe9433df1" title="gfs2_page_add_databufs" alt="" coords="597,107,764,133"/>
<area shape="rect" id="node34" href="gfs2_2bmap_8c.html#acc5d25d638ba966a4b7c8b1751eb17ea" title="gfs2_unstuffer_page" alt="" coords="611,588,751,615"/>
<area shape="rect" id="node41" href="gfs2_2bmap_8c.html#a2f51ee15c5c60ef70973886f8eb5e6cb" title="gfs2_block_zero_range" alt="" coords="1447,1272,1603,1299"/>
<area shape="rect" id="node48" href="trans_8h.html#afe947009943047dc594ba8bf96c405e7" title="gfs2_rg_blocks" alt="" coords="1050,664,1161,691"/>
<area shape="rect" id="node5" href="gfs2_2quota_8c.html#a33f198f3710960b5a82c0ef80c51147c" title="gfs2_write_disk_quota" alt="" coords="815,1057,967,1084"/>
<area shape="rect" id="node6" href="gfs2_2quota_8c.html#affcbbfb7179f0171210e1054502215f4" title="gfs2_adjust_quota" alt="" coords="1041,1171,1169,1197"/>
<area shape="rect" id="node7" href="gfs2_2quota_8c.html#ab203c1761fe39b543f8b7bbfc2b2840d" title="do_sync" alt="" coords="1284,917,1355,944"/>
<area shape="rect" id="node27" href="gfs2_2quota_8c.html#a7c15374f73e8ffe1125a8afffe3b59f1" title="gfs2_set_dqblk" alt="" coords="2437,1120,2548,1147"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="1467,917,1582,944"/>
<area shape="rect" id="node9" href="gfs2_2quota_8c.html#a851d183825319ecf4da58979565166e7" title="need_sync" alt="" coords="1482,765,1567,792"/>
<area shape="rect" id="node10" href="gfs2_2quota_8h.html#af831aef11763b7e7448ad1e0ac62f411" title="gfs2_quota_unlock" alt="" coords="1653,715,1783,741"/>
<area shape="rect" id="node28" href="gfs2_2quota_8h.html#a7a77740bc046bd9ed6018c88589cfaf2" title="gfs2_quota_sync" alt="" coords="1464,968,1585,995"/>
<area shape="rect" id="node11" href="gfs2_2xattr_8c.html#ae8f21c1037167942265393049d1664ff" title="ea_alloc_skeleton" alt="" coords="1845,588,1971,615"/>
<area shape="rect" id="node15" href="gfs2_2file_8c.html#a060d6b4abdb7136f44c218a3fddb48e2" title="gfs2_page_mkwrite" alt="" coords="2425,335,2560,361"/>
<area shape="rect" id="node16" href="gfs2_2file_8c.html#a65b34af1dd687621818a92b9294989cf" title="__gfs2_fallocate" alt="" coords="2608,917,2725,944"/>
<area shape="rect" id="node18" href="gfs2_2inode_8c.html#ae191be798a91d418202ef83f843f391f" title="link_dinode" alt="" coords="1865,740,1951,767"/>
<area shape="rect" id="node19" href="gfs2_2inode_8c.html#ae1ca634afc3f7e151f5ce2e8135478e8" title="gfs2_link" alt="" coords="1871,791,1945,817"/>
<area shape="rect" id="node20" href="gfs2_2inode_8c.html#a369dfa0e850673184bb7ebe339c69d2d" title="gfs2_rename" alt="" coords="1859,841,1957,868"/>
<area shape="rect" id="node21" href="gfs2_2aops_8c.html#a14d3f30dddb86040db9cbe7e0a21808b" title="gfs2_write_begin" alt="" coords="2433,487,2553,513"/>
<area shape="rect" id="node22" href="gfs2_2aops_8c.html#a6484853315246e47ac1b6d37e56fd925" title="gfs2_write_end" alt="" coords="1853,487,1963,513"/>
<area shape="rect" id="node23" href="gfs2_2bmap_8c.html#a2c3a47d3b5cddf03756b02f4331c80ae" title="do_grow" alt="" coords="1873,1069,1943,1096"/>
<area shape="rect" id="node12" href="gfs2_2xattr_8c.html#aa7846973e5a7b0838ef273941372217c" title="ea_init" alt="" coords="2072,588,2132,615"/>
<area shape="rect" id="node13" href="gfs2_2xattr_8c.html#a274583d8a0b67d04b1feb8cd8554ece9" title="ea_set_simple" alt="" coords="2049,487,2155,513"/>
<area shape="rect" id="node14" href="gfs2_2xattr_8c.html#afc59858cf4ea407d66877a34c85ff455" title="ea_set_i" alt="" coords="2264,512,2335,539"/>
<area shape="rect" id="node17" href="gfs2_2file_8c.html#a1d9335e767079ebc2cb0cdf70866355b" title="gfs2_fallocate" alt="" coords="2773,1069,2876,1096"/>
<area shape="rect" id="node24" href="gfs2_2bmap_8h.html#a2564f5a24fe6b77f822b70aff7c53c3c" title="gfs2_setattr_size" alt="" coords="2041,1069,2163,1096"/>
<area shape="rect" id="node25" href="gfs2_2bmap_8h.html#a8cc7e2d2d99ec1db0927080ea7908b88" title="gfs2_write_calc_reserv" alt="" coords="2221,993,2377,1020"/>
<area shape="rect" id="node26" href="gfs2_2file_8c.html#af97c1b97678cc79ba09b590bb9be5fe1" title="calc_max_reserv" alt="" coords="2432,993,2553,1020"/>
<area shape="rect" id="node30" href="gfs2_2aops_8c.html#aea1e430ce316a7cae64dff6cef183fcb" title="__gfs2_jdata_writepage" alt="" coords="812,56,971,83"/>
<area shape="rect" id="node31" href="gfs2_2aops_8c.html#a90568f12fb8097b346362fc40b525cc5" title="gfs2_jdata_writepage" alt="" coords="1033,5,1178,32"/>
<area shape="rect" id="node32" href="gfs2_2aops_8c.html#a83dbff3c51e1b0b0f684b981ec0d1a46" title="gfs2_write_jdata_pagevec" alt="" coords="1019,56,1192,83"/>
<area shape="rect" id="node33" href="gfs2_2aops_8c.html#a56f578ea8155930045c13073cf026985" title="gfs2_write_cache_jdata" alt="" coords="1240,56,1399,83"/>
<area shape="rect" id="node35" href="gfs2_2bmap_8h.html#ad0fa6c41a0efa993273ca30b3ecb4b9d" title="gfs2_unstuff_dinode" alt="" coords="822,537,961,564"/>
<area shape="rect" id="node36" href="gfs2_2dir_8c.html#a9da6517491beef3d53c8ae68838aeadb" title="gfs2_dir_write_data" alt="" coords="1038,436,1173,463"/>
<area shape="rect" id="node40" href="gfs2_2file_8c.html#a85fb181fda98e70c8da06b07a68772a7" title="fallocate_chunk" alt="" coords="1661,157,1775,184"/>
<area shape="rect" id="node37" href="gfs2_2dir_8c.html#a0aa861ea2528effffc20bcbfc1cf55b5" title="dir_split_leaf" alt="" coords="1272,411,1367,437"/>
<area shape="rect" id="node38" href="gfs2_2dir_8c.html#aaec956c54788e0793891621d3808a475" title="dir_double_exhash" alt="" coords="1254,461,1385,488"/>
<area shape="rect" id="node39" href="gfs2_2dir_8c.html#abd7038c6013fe777d348152309108428" title="leaf_dealloc" alt="" coords="1274,360,1365,387"/>
<area shape="rect" id="node42" href="gfs2_2bmap_8c.html#a5deec801489ba923431972f1e35f3537" title="trunc_start" alt="" coords="1676,1323,1760,1349"/>
<area shape="rect" id="node47" href="gfs2_2bmap_8h.html#a3ed92c6adeb7c13c7081279a66556d0c" title="__gfs2_punch_hole" alt="" coords="2035,1221,2169,1248"/>
<area shape="rect" id="node43" href="ocfs2_2file_8c.html#ab1f194ddafdc364e98d2685f39dc2286" title="ocfs2_calc_trunc_pos" alt="" coords="1833,1373,1983,1400"/>
<area shape="rect" id="node44" href="file_8h.html#a3dd0a2f7984df7c4b3e6eb9261721486" title="ocfs2_remove_inode\l_range" alt="" coords="2031,1341,2173,1382"/>
<area shape="rect" id="node46" href="gfs2_2bmap_8c.html#abd428e8882c78733b72a0e3ebc5f2373" title="do_shrink" alt="" coords="1869,1221,1947,1248"/>
<area shape="rect" id="node45" href="ocfs2_2file_8c.html#ac2c9c4e55b03aed68fa9a18942658d92" title="__ocfs2_change_file\l_space" alt="" coords="2229,1341,2370,1382"/>
<area shape="rect" id="node49" href="gfs2_2inode_8c.html#ab5bae37494d6403aa6c9cd6c52783e64" title="gfs2_trans_da_blks" alt="" coords="1651,765,1785,792"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_41299403da4ddc3e223d1f20eb0b3a42.html">gfs2</a></li><li class="navelem"><a class="el" href="log_8h.html">log.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
