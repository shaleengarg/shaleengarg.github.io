<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: xfs/libxfs/xfs_da_format.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xfs__da__format_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">xfs_da_format.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="xfs__da__format_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2000-2001,2005 Silicon Graphics, Inc.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2013 Red Hat, Inc.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * All Rights Reserved.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU General Public License as</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * published by the Free Software Foundation.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This program is distributed in the hope that it would be useful,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * along with this program; if not, write the Free Software Foundation,</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * Inc.,  51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef __XFS_DA_FORMAT_H__</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define __XFS_DA_FORMAT_H__</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * This structure is common to both leaf nodes and non-leaf nodes in the Btree.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * It is used to manage a doubly linked list of all blocks at the same</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * level in the Btree, and to identify which type of block this is.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a142b2517594077ff536300098ec0af52">   28</a></span>&#160;<span class="preprocessor">#define XFS_DA_NODE_MAGIC   0xfebe  </span><span class="comment">/* magic number: non-leaf blocks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ad92a1a31174a8bc6e2234cafc3532705">   29</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_LEAF_MAGIC 0xfbee  </span><span class="comment">/* magic number: attribute leaf blks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aad770442f3b3f0be9571292de76ed2eb">   30</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_LEAF1_MAGIC    0xd2f1  </span><span class="comment">/* magic number: v2 dirlf single blks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ae7b1f8ec2c0c9755be5a319f6d8767a5">   31</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_LEAFN_MAGIC    0xd2ff  </span><span class="comment">/* magic number: v2 dirlf multi blks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="structxfs__da__blkinfo.html">   33</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__da__blkinfo.html">xfs_da_blkinfo</a> {</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="structxfs__da__blkinfo.html#a09f7751740a4f6e4b041e9a322b5af33">   34</a></span>&#160;    __be32      <a class="code" href="structxfs__da__blkinfo.html#a09f7751740a4f6e4b041e9a322b5af33">forw</a>;           <span class="comment">/* previous block in list */</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structxfs__da__blkinfo.html#a70404e0221cdefa510353cec6b61e1f4">   35</a></span>&#160;    __be32      <a class="code" href="structxfs__da__blkinfo.html#a70404e0221cdefa510353cec6b61e1f4">back</a>;           <span class="comment">/* following block in list */</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structxfs__da__blkinfo.html#af4b150bfaf0dc99efb2218272e089e2a">   36</a></span>&#160;    __be16      <a class="code" href="structxfs__da__blkinfo.html#af4b150bfaf0dc99efb2218272e089e2a">magic</a>;          <span class="comment">/* validity check on block */</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structxfs__da__blkinfo.html#a88da5bc5447b7bbbb7d37f47844ebc3d">   37</a></span>&#160;    __be16      <a class="code" href="structxfs__da__blkinfo.html#a88da5bc5447b7bbbb7d37f47844ebc3d">pad</a>;            <span class="comment">/* unused */</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a5b85a8f84423d2af1eba24b44d412167">xfs_da_blkinfo_t</a>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * CRC enabled directory structure types</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * The headers change size for the additional verification information, but</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * otherwise the tree layouts and contents are unchanged. Hence the da btree</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * code can use the struct xfs_da_blkinfo for manipulating the tree links and</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * magic numbers without modification for both v2 and v3 nodes.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ab9ec60346f73ed4ffccdc30f0e5b147c">   48</a></span>&#160;<span class="preprocessor">#define XFS_DA3_NODE_MAGIC  0x3ebe  </span><span class="comment">/* magic number: non-leaf blocks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ab2377420eb1238c67ed7bfb4c038b692">   49</a></span>&#160;<span class="preprocessor">#define XFS_ATTR3_LEAF_MAGIC    0x3bee  </span><span class="comment">/* magic number: attribute leaf blks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ad3e2269eab5b50517f3d6094df77c718">   50</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_LEAF1_MAGIC    0x3df1  </span><span class="comment">/* magic number: v2 dirlf single blks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a822bdb06cfb8c86d0a56fe3260812de3">   51</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_LEAFN_MAGIC    0x3dff  </span><span class="comment">/* magic number: v2 dirlf multi blks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html">   53</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__da3__blkinfo.html">xfs_da3_blkinfo</a> {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">     * the node link manipulation code relies on the fact that the first</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">     * element of this structure is the struct xfs_da_blkinfo so it can</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">     * ignore the differences in the rest of the structures.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html#a368184a7e1508159a9630a9a164fc5fa">   59</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da__blkinfo.html">xfs_da_blkinfo</a>   <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html#a4dfe1d8dce154cd4b02a28f8ff95ad29">   60</a></span>&#160;    __be32          <a class="code" href="structxfs__da3__blkinfo.html#a4dfe1d8dce154cd4b02a28f8ff95ad29">crc</a>;    <span class="comment">/* CRC of block */</span></div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html#a1f4575bfcc561b96d53dc9144ffcb03a">   61</a></span>&#160;    __be64          <a class="code" href="structxfs__da3__blkinfo.html#a1f4575bfcc561b96d53dc9144ffcb03a">blkno</a>;  <span class="comment">/* first block of the buffer */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html#aceecd9673ac864f1b6718b3f2fea966b">   62</a></span>&#160;    __be64          <a class="code" href="structxfs__da3__blkinfo.html#aceecd9673ac864f1b6718b3f2fea966b">lsn</a>;    <span class="comment">/* sequence number of last write */</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html#aaa4834c766af6a24ca41bc876f943294">   63</a></span>&#160;    uuid_t          <a class="code" href="structxfs__da3__blkinfo.html#aaa4834c766af6a24ca41bc876f943294">uuid</a>;   <span class="comment">/* filesystem we belong to */</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structxfs__da3__blkinfo.html#aa0ca3a70fc4c751a3b68d3dadba8d408">   64</a></span>&#160;    __be64          <a class="code" href="structxfs__da3__blkinfo.html#aa0ca3a70fc4c751a3b68d3dadba8d408">owner</a>;  <span class="comment">/* inode that owns the block */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * This is the structure of the root and intermediate nodes in the Btree.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> * The leaf nodes are defined above.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> * Entries are not packed.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * Since we have duplicate keys, use a binary search but always follow</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> * all match in the block, not just the first match found.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ada133688a6ed40b42402a126603312fc">   76</a></span>&#160;<span class="preprocessor">#define XFS_DA_NODE_MAXDEPTH    5   </span><span class="comment">/* max depth of Btree */</span><span class="preprocessor"></span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structxfs__da__node__hdr.html">   78</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__da__node__hdr.html">xfs_da_node_hdr</a> {</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structxfs__da__node__hdr.html#a13c126904fc9b275d0ad381d3868e6bf">   79</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da__blkinfo.html">xfs_da_blkinfo</a>   info;   <span class="comment">/* block type, links, etc. */</span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structxfs__da__node__hdr.html#a037d94afa2370d4af542b381b5e4d372">   80</a></span>&#160;    __be16          <a class="code" href="structxfs__da__node__hdr.html#a037d94afa2370d4af542b381b5e4d372">__count</a>; <span class="comment">/* count of active entries */</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structxfs__da__node__hdr.html#a4c5c30e829ebbdc140e36a53ec62c97d">   81</a></span>&#160;    __be16          <a class="code" href="structxfs__da__node__hdr.html#a4c5c30e829ebbdc140e36a53ec62c97d">__level</a>; <span class="comment">/* level above leaves (leaf == 0) */</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;} <a class="code" href="xfs__da__format_8h.html#ae240bd5a8e9308681e9628f030d11592">xfs_da_node_hdr_t</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structxfs__da3__node__hdr.html">   84</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__da3__node__hdr.html">xfs_da3_node_hdr</a> {</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structxfs__da3__node__hdr.html#a68db26fd1ffda8ceaf52b3aa690050f8">   85</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da3__blkinfo.html">xfs_da3_blkinfo</a>  info;   <span class="comment">/* block type, links, etc. */</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structxfs__da3__node__hdr.html#a87fa1726a7a5bacc7e837aace7460815">   86</a></span>&#160;    __be16          <a class="code" href="structxfs__da3__node__hdr.html#a87fa1726a7a5bacc7e837aace7460815">__count</a>; <span class="comment">/* count of active entries */</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structxfs__da3__node__hdr.html#ada6cc5ae3dfe99df02eec8517f8d815b">   87</a></span>&#160;    __be16          <a class="code" href="structxfs__da3__node__hdr.html#ada6cc5ae3dfe99df02eec8517f8d815b">__level</a>; <span class="comment">/* level above leaves (leaf == 0) */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structxfs__da3__node__hdr.html#a832c223141b4112e94142b7bb565f7a4">   88</a></span>&#160;    __be32          <a class="code" href="structxfs__da3__node__hdr.html#a832c223141b4112e94142b7bb565f7a4">__pad32</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;};</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a29981198f1c01c3b548e9b6f5a3fe74f">   91</a></span>&#160;<span class="preprocessor">#define XFS_DA3_NODE_CRC_OFF    (offsetof(struct xfs_da3_node_hdr, info.crc))</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structxfs__da__node__entry.html">   93</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__da__node__entry.html">xfs_da_node_entry</a> {</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structxfs__da__node__entry.html#a11c0cda8211dc628665433c8f5d0a6fc">   94</a></span>&#160;    __be32  <a class="code" href="structxfs__da__node__entry.html#a11c0cda8211dc628665433c8f5d0a6fc">hashval</a>;    <span class="comment">/* hash value for this descendant */</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structxfs__da__node__entry.html#ac8fef3371e48db68302095f62bc0cd5f">   95</a></span>&#160;    __be32  <a class="code" href="structxfs__da__node__entry.html#ac8fef3371e48db68302095f62bc0cd5f">before</a>;     <span class="comment">/* Btree block before this key */</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;} <a class="code" href="xfs__da__format_8h.html#aa9a678fe25e591d4e084a0d47a985a99">xfs_da_node_entry_t</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structxfs__da__intnode.html">   98</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__da__intnode.html">xfs_da_intnode</a> {</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structxfs__da__intnode.html#affc3d93cf2a89fdac409e105685724c7">   99</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da__node__hdr.html">xfs_da_node_hdr</a>  <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structxfs__da__intnode.html#ac11c269f09bfd8c806ee306975398276">  100</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da__node__entry.html">xfs_da_node_entry</a> __btree[];</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a73b24a0741ad4ae7ac108d1e94ab72b0">xfs_da_intnode_t</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structxfs__da3__intnode.html">  103</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__da3__intnode.html">xfs_da3_intnode</a> {</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structxfs__da3__intnode.html#abc454047cf488b3048d7a11aac993c73">  104</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da3__node__hdr.html">xfs_da3_node_hdr</a> <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structxfs__da3__intnode.html#adbc274aa815301a4ed4dc0c578568eda">  105</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da__node__entry.html">xfs_da_node_entry</a> __btree[];</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;};</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> * In-core version of the node header to abstract the differences in the v2 and</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"> * v3 disk format of the headers. Callers need to convert to/from disk format as</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> * appropriate.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structxfs__da3__icnode__hdr.html">  113</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__da3__icnode__hdr.html">xfs_da3_icnode_hdr</a> {</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structxfs__da3__icnode__hdr.html#a1fec5c69d8d9751af654adc667f2e0bb">  114</a></span>&#160;    uint32_t    <a class="code" href="structxfs__da3__icnode__hdr.html#a1fec5c69d8d9751af654adc667f2e0bb">forw</a>;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structxfs__da3__icnode__hdr.html#ab4d92565ed2b0e0dca68a25aa87cd955">  115</a></span>&#160;    uint32_t    <a class="code" href="structxfs__da3__icnode__hdr.html#ab4d92565ed2b0e0dca68a25aa87cd955">back</a>;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structxfs__da3__icnode__hdr.html#ac6a93f8af2f602f0fcc86b7b26948c5e">  116</a></span>&#160;    uint16_t    <a class="code" href="structxfs__da3__icnode__hdr.html#ac6a93f8af2f602f0fcc86b7b26948c5e">magic</a>;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structxfs__da3__icnode__hdr.html#a3d2d05e6b70c97a4eeb5ff3ab8654d3c">  117</a></span>&#160;    uint16_t    <a class="code" href="structxfs__da3__icnode__hdr.html#a3d2d05e6b70c97a4eeb5ff3ab8654d3c">count</a>;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structxfs__da3__icnode__hdr.html#af5266db50bb9a30133ea28cff46285bd">  118</a></span>&#160;    uint16_t    <a class="code" href="structxfs__da3__icnode__hdr.html#af5266db50bb9a30133ea28cff46285bd">level</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"> * Directory version 2.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"> * There are 4 possible formats:</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"> *  - shortform - embedded into the inode</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"> *  - single block - data with embedded leaf at the end</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> *  - multiple data blocks, single leaf+freeindex block</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> *  - data blocks, node and leaf blocks (btree), freeindex blocks</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"> * Note: many node blocks structures and constants are shared with the attr</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * code and defined in xfs_da_btree.h.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ac7d05357d8858ec81a6785f43a11281c">  134</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_BLOCK_MAGIC    0x58443242  </span><span class="comment">/* XD2B: single block dirs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a324054fbd5b9c07b20d0670fbf7f8056">  135</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_MAGIC 0x58443244  </span><span class="comment">/* XD2D: multiblock dirs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a996096a385888770230f8b295062d33d">  136</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_FREE_MAGIC 0x58443246  </span><span class="comment">/* XD2F: free index blocks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"> * Directory Version 3 With CRCs.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"> * The tree formats are the same as for version 2 directories.  The difference</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"> * is in the block header and dirent formats. In many cases the v3 structures</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> * use v2 definitions as they are no different and this makes code sharing much</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> * easier.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> * Also, the xfs_dir3_*() functions handle both v2 and v3 formats - if the</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> * format is v2 then they switch to the existing v2 code, or the format is v3</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"> * they implement the v3 functionality. This means the existing dir2 is a mix of</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"> * xfs_dir2/xfs_dir3 calls and functions. The xfs_dir3 functions are called</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"> * where there is a difference in the formats, otherwise the code is unchanged.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"> * Where it is possible, the code decides what to do based on the magic numbers</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"> * in the blocks rather than feature bits in the superblock. This means the code</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"> * is as independent of the external XFS code as possible as doesn&#39;t require</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"> * passing struct xfs_mount pointers into places where it isn&#39;t really</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"> * necessary.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"> * Version 3 includes:</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"> *  - a larger block header for CRC and identification purposes and so the</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"> *  offsets of all the structures inside the blocks are different.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> *  - new magic numbers to be able to detect the v2/v3 types on the fly.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa1f33e91e6573caa9ef52a172c592131">  166</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_BLOCK_MAGIC    0x58444233  </span><span class="comment">/* XDB3: single block dirs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa89d012ad41e348f4f9c7fb3a054d3b7">  167</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_DATA_MAGIC 0x58444433  </span><span class="comment">/* XDD3: multiblock dirs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#acd8c66119d06f3220f45f956b52408de">  168</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FREE_MAGIC 0x58444633  </span><span class="comment">/* XDF3: free index blocks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> * Dirents in version 3 directories have a file type field. Additions to this</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> * list are an on-disk format change, requiring feature bits. Valid values</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"> * are as follows:</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a290808acf22a203b063f625a2d93d592">  175</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_UNKNOWN     0</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#afc91c22a90a6822902a461f46361e0b4">  176</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_REG_FILE        1</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a0c8428b1f79a6bcff4e295d9b98f0fb5">  177</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_DIR         2</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5fc0f417afa835b29e6c9630ec9a524b">  178</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_CHRDEV      3</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ae9189b7ac49752d1a96c2d8d121a512a">  179</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_BLKDEV      4</span></div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a17fea902cb381491eb2edcb6c8fd43d3">  180</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_FIFO        5</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a2cb081460de57037e7b0eeb0bb3c2056">  181</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_SOCK        6</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a24c940000715eb2347fe5d7a649b81aa">  182</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_SYMLINK     7</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af7c785dae42f8b648948800a536ba24a">  183</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_WHT         8</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a97895294d45df471ae93e8619ab11154">  185</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FT_MAX         9</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> * Byte offset in data block and shortform entry.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a8c6e30d63bef069e7e05b123b96a9d47">  190</a></span>&#160;<span class="keyword">typedef</span> uint16_t    <a class="code" href="xfs__da__format_8h.html#a8c6e30d63bef069e7e05b123b96a9d47">xfs_dir2_data_off_t</a>;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af3ad432745297736e41dc8d357646c65">  191</a></span>&#160;<span class="preprocessor">#define NULLDATAOFF 0xffffU</span></div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aac199194b0ec2c3964925eb13b51d61f">  192</a></span>&#160;<span class="keyword">typedef</span> uint        <a class="code" href="xfs__da__format_8h.html#aac199194b0ec2c3964925eb13b51d61f">xfs_dir2_data_aoff_t</a>;   <span class="comment">/* argument form */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> * Offset in data space of a data entry.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a62f58e4ff1f64939a3889b3fd483662d">  197</a></span>&#160;<span class="keyword">typedef</span> uint32_t    <a class="code" href="xfs__da__format_8h.html#a62f58e4ff1f64939a3889b3fd483662d">xfs_dir2_dataptr_t</a>;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#accf760f65e74c4bde08e127f188e0e4e">  198</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_MAX_DATAPTR    ((xfs_dir2_dataptr_t)0xffffffff)</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a1cc31905df5cce8e4377f61c12318823">  199</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_NULL_DATAPTR   ((xfs_dir2_dataptr_t)0)</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> * Byte offset in a directory.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a6bd44c76385ffec9433e9ba84f9d6c03">  204</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a>   <a class="code" href="xfs__da__format_8h.html#a6bd44c76385ffec9433e9ba84f9d6c03">xfs_dir2_off_t</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"> * Directory block number (logical dirblk in file)</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a910aa2bccba2499002b431ac4288891b">  209</a></span>&#160;<span class="keyword">typedef</span> uint32_t    <a class="code" href="xfs__da__format_8h.html#a910aa2bccba2499002b431ac4288891b">xfs_dir2_db_t</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ae67146eeede146c1a55646b924e9ae99">  211</a></span>&#160;<span class="preprocessor">#define XFS_INO32_SIZE  4</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#acbb7b391cf3f338dc5a2bd4d34b5b1da">  212</a></span>&#160;<span class="preprocessor">#define XFS_INO64_SIZE  8</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ad04b7eaa2b376f08830b8d2c3d64ea1f">  213</a></span>&#160;<span class="preprocessor">#define XFS_INO64_DIFF  (XFS_INO64_SIZE - XFS_INO32_SIZE)</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5e6e01598c3b779276f9b0886fd1ca8c">  215</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_MAX_SHORT_INUM ((xfs_ino_t)0xffffffffULL)</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * Directory layout when stored internal to an inode.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> * Small directories are packed as tightly as possible so as to fit into the</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> * literal area of the inode.  These &quot;shortform&quot; directories consist of a</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"> * single xfs_dir2_sf_hdr header followed by zero or more xfs_dir2_sf_entry</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> * structures.  Due the different inode number storage size and the variable</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * length name field in the xfs_dir2_sf_entry all these structure are</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> * variable length, and the accessors in this file should be used to iterate</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> * over them.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__hdr.html">  228</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__sf__hdr.html">xfs_dir2_sf_hdr</a> {</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__hdr.html#abcc2b16306e1cc92bfa39fd1c3460ec8">  229</a></span>&#160;    uint8_t         <a class="code" href="structxfs__dir2__sf__hdr.html#abcc2b16306e1cc92bfa39fd1c3460ec8">count</a>;      <span class="comment">/* count of entries */</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__hdr.html#ab10efb46fa380a65d612d023d7bf5b9a">  230</a></span>&#160;    uint8_t         <a class="code" href="structxfs__dir2__sf__hdr.html#ab10efb46fa380a65d612d023d7bf5b9a">i8count</a>;    <span class="comment">/* count of 8-byte inode #s */</span></div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__hdr.html#aa4422b2bff25384d84092d391d7fc832">  231</a></span>&#160;    uint8_t         parent[8];  <span class="comment">/* parent dir inode number */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;} <a class="code" href="union____packed.html">__packed</a> <a class="code" href="xfs__da__format_8h.html#a35586bea48b6fe8761a58bac0d5e465e">xfs_dir2_sf_hdr_t</a>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__entry.html">  234</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__sf__entry.html">xfs_dir2_sf_entry</a> {</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__entry.html#a2fbc09b428af3719560a972052fe7942">  235</a></span>&#160;    __u8            <a class="code" href="structxfs__dir2__sf__entry.html#a2fbc09b428af3719560a972052fe7942">namelen</a>;    <span class="comment">/* actual name length */</span></div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__entry.html#ae661055d5caec0604753fdb65d9c8241">  236</a></span>&#160;    __u8            <a class="code" href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>[2];  <span class="comment">/* saved offset */</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structxfs__dir2__sf__entry.html#a558dcb7ce2a5b01ff669f11ab5e2de81">  237</a></span>&#160;    __u8            <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[];     <span class="comment">/* name, variable size */</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">     * A single byte containing the file type field follows the inode</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">     * number for version 3 directory entries.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">     * A 64-bit or 32-bit inode number follows here, at a variable offset</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     * after the name.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a61ce4a378c0eaee0ec1127420e3169e4">xfs_dir2_sf_entry_t</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af89f870d444e16b13bf9106e0bbb7e60">  247</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="xfs__da__format_8h.html#af89f870d444e16b13bf9106e0bbb7e60">xfs_dir2_sf_hdr_size</a>(<span class="keywordtype">int</span> i8count)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structxfs__dir2__sf__hdr.html">xfs_dir2_sf_hdr</a>) -</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        (i8count == 0) * <a class="code" href="xfs__da__format_8h.html#ad04b7eaa2b376f08830b8d2c3d64ea1f">XFS_INO64_DIFF</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="xfs__da__format_8h.html#aac199194b0ec2c3964925eb13b51d61f">xfs_dir2_data_aoff_t</a></div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ae1e30da023e0ed9689f97dd3331bd0f0">  254</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#ae1e30da023e0ed9689f97dd3331bd0f0">xfs_dir2_sf_get_offset</a>(<a class="code" href="structxfs__dir2__sf__entry.html">xfs_dir2_sf_entry_t</a> *sfep)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> get_unaligned_be16(sfep-&gt;<a class="code" href="structxfs__dir2__sf__entry.html#ae661055d5caec0604753fdb65d9c8241">offset</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a077e3fd230646804cc0c1377e48396d7">  260</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#a077e3fd230646804cc0c1377e48396d7">xfs_dir2_sf_put_offset</a>(<a class="code" href="structxfs__dir2__sf__entry.html">xfs_dir2_sf_entry_t</a> *sfep, <a class="code" href="xfs__da__format_8h.html#aac199194b0ec2c3964925eb13b51d61f">xfs_dir2_data_aoff_t</a> off)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    put_unaligned_be16(off, sfep-&gt;<a class="code" href="structxfs__dir2__sf__entry.html#ae661055d5caec0604753fdb65d9c8241">offset</a>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__sf__entry.html">xfs_dir2_sf_entry</a> *</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a509c9093a8983e049fa6a22cf73b75e8">  266</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#a509c9093a8983e049fa6a22cf73b75e8">xfs_dir2_sf_firstentry</a>(<span class="keyword">struct</span> <a class="code" href="structxfs__dir2__sf__hdr.html">xfs_dir2_sf_hdr</a> *<a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structxfs__dir2__sf__entry.html">xfs_dir2_sf_entry</a> *)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        ((<span class="keywordtype">char</span> *)hdr + <a class="code" href="xfs__da__format_8h.html#af89f870d444e16b13bf9106e0bbb7e60">xfs_dir2_sf_hdr_size</a>(hdr-&gt;<a class="code" href="structxfs__dir2__sf__hdr.html#ab10efb46fa380a65d612d023d7bf5b9a">i8count</a>));</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"> * Data block structures.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"> * A pure data block looks like the following drawing on disk:</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> *    | xfs_dir2_data_hdr_t                             |</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> *    | xfs_dir2_data_entry_t OR xfs_dir2_data_unused_t |</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"> *    | xfs_dir2_data_entry_t OR xfs_dir2_data_unused_t |</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> *    | xfs_dir2_data_entry_t OR xfs_dir2_data_unused_t |</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> *    | ...                                             |</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"> *    | unused space                                    |</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> * As all the entries are variable size structures the accessors below should</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> * be used to iterate over them.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"> * In addition to the pure data blocks for the data and node formats,</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> * most structures are also used for the combined data/freespace &quot;block&quot;</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"> * format below.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa24503a6fed4f84c1f622e38a290bed0">  296</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_ALIGN_LOG 3       </span><span class="comment">/* i.e., 8 bytes */</span><span class="preprocessor"></span></div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa067e46d22cc14f47747c2367d483d29">  297</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_ALIGN (1 &lt;&lt; XFS_DIR2_DATA_ALIGN_LOG)</span></div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a472dddf20a08f8ad43b61f4a0b3de2c1">  298</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_FREE_TAG  0xffff</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa83cbd927515638535fa25a80d6d4d2b">  299</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_FD_COUNT  3</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> * Directory address space divided into sections,</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> * spaces separated by 32GB.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ad079621207bebc98e7ba62f4ff9206e9">  305</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_SPACE_SIZE (1ULL &lt;&lt; (32 + XFS_DIR2_DATA_ALIGN_LOG))</span></div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a0248ead27e927e0681896990fb031601">  306</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_SPACE 0</span></div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aded43536b6f4296c48ef68f81893c6bd">  307</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_DATA_OFFSET    (XFS_DIR2_DATA_SPACE * XFS_DIR2_SPACE_SIZE)</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> * Describe a free area in the data block.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> * The freespace will be formatted as a xfs_dir2_data_unused_t.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__free.html">  314</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__data__free.html">xfs_dir2_data_free</a> {</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__free.html#acb11086a0369b6d972097bb8f08942a7">  315</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__data__free.html#acb11086a0369b6d972097bb8f08942a7">offset</a>;     <span class="comment">/* start of freespace */</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__free.html#af227f6c764e103a8de57c8fbb2c243b0">  316</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__data__free.html#af227f6c764e103a8de57c8fbb2c243b0">length</a>;     <span class="comment">/* length of freespace */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;} <a class="code" href="xfs__da__format_8h.html#ac71f7cba18222e5df0f47c3b3cc16e2f">xfs_dir2_data_free_t</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * Header for the data blocks.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * The code knows that XFS_DIR2_DATA_FD_COUNT is 3.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__hdr.html">  324</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__data__hdr.html">xfs_dir2_data_hdr</a> {</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__hdr.html#adfc9a8998be23fb387b3155995c08580">  325</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__data__hdr.html#adfc9a8998be23fb387b3155995c08580">magic</a>;      <span class="comment">/* XFS_DIR2_DATA_MAGIC or */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <span class="comment">/* XFS_DIR2_BLOCK_MAGIC */</span></div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__hdr.html#a553fb277da364e31e8b52f9714357d40">  327</a></span>&#160;    <a class="code" href="structxfs__dir2__data__free.html">xfs_dir2_data_free_t</a>    bestfree[<a class="code" href="xfs__da__format_8h.html#aa83cbd927515638535fa25a80d6d4d2b">XFS_DIR2_DATA_FD_COUNT</a>];</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;} <a class="code" href="xfs__da__format_8h.html#af41d1acc6b377003384af7075be91212">xfs_dir2_data_hdr_t</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * define a structure for all the verification fields we are adding to the</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> * directory block structures. This will be used in several structures.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * The magic number must be the first entry to align with all the dir2</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> * structures so we determine how to decode them just by the magic number.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html">  336</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__blk__hdr.html">xfs_dir3_blk_hdr</a> {</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html#ae18105ce9670c99bc1b7be4e0c467631">  337</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__blk__hdr.html#ae18105ce9670c99bc1b7be4e0c467631">magic</a>;  <span class="comment">/* magic number */</span></div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html#a3fedddc75a9dfd48670d4fef858c569d">  338</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__blk__hdr.html#a3fedddc75a9dfd48670d4fef858c569d">crc</a>;    <span class="comment">/* CRC of block */</span></div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html#acca63ddd33cf4d5ce7d223221fc4c5cc">  339</a></span>&#160;    __be64          <a class="code" href="structxfs__dir3__blk__hdr.html#acca63ddd33cf4d5ce7d223221fc4c5cc">blkno</a>;  <span class="comment">/* first block of the buffer */</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html#a048d30b2c3d0288f062cacb367fce173">  340</a></span>&#160;    __be64          <a class="code" href="structxfs__dir3__blk__hdr.html#a048d30b2c3d0288f062cacb367fce173">lsn</a>;    <span class="comment">/* sequence number of last write */</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html#aeee967ef82f53fcb13cff01180b7579d">  341</a></span>&#160;    uuid_t          <a class="code" href="structxfs__dir3__blk__hdr.html#aeee967ef82f53fcb13cff01180b7579d">uuid</a>;   <span class="comment">/* filesystem we belong to */</span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structxfs__dir3__blk__hdr.html#a7ee943abd19131ec5dc8f6fbf41f3e7f">  342</a></span>&#160;    __be64          <a class="code" href="structxfs__dir3__blk__hdr.html#a7ee943abd19131ec5dc8f6fbf41f3e7f">owner</a>;  <span class="comment">/* inode that owns the block */</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;};</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="structxfs__dir3__data__hdr.html">  345</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__data__hdr.html">xfs_dir3_data_hdr</a> {</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="structxfs__dir3__data__hdr.html#a5203bb57251bab70e33f2a2378583fac">  346</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__dir3__blk__hdr.html">xfs_dir3_blk_hdr</a> <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structxfs__dir3__data__hdr.html#a04c4292fbae8b1b0c5131b86fc84fda4">  347</a></span>&#160;    <a class="code" href="structxfs__dir2__data__free.html">xfs_dir2_data_free_t</a>    best_free[<a class="code" href="xfs__da__format_8h.html#aa83cbd927515638535fa25a80d6d4d2b">XFS_DIR2_DATA_FD_COUNT</a>];</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="structxfs__dir3__data__hdr.html#a0c399b7884f83fd9e75f1ee842afc665">  348</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__data__hdr.html#a0c399b7884f83fd9e75f1ee842afc665">pad</a>;    <span class="comment">/* 64 bit alignment */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;};</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a4f88653b8b70f2fbddfe644ae2190ef4">  351</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_DATA_CRC_OFF  offsetof(struct xfs_dir3_data_hdr, hdr.crc)</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"> * Active entry in a data block.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"> * Aligned to 8 bytes.  After the variable length name field there is a</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> * 2 byte tag field, which can be accessed using xfs_dir3_data_entry_tag_p.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> * For dir3 structures, there is file type field between the name and the tag.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> * This can only be manipulated by helper functions. It is packed hard against</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> * the end of the name so any padding for rounding is between the file type and</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> * the tag.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__entry.html">  364</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__data__entry.html">xfs_dir2_data_entry</a> {</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__entry.html#a6046a195b87febd661f03c090feee636">  365</a></span>&#160;    __be64          <a class="code" href="structxfs__dir2__data__entry.html#a6046a195b87febd661f03c090feee636">inumber</a>;    <span class="comment">/* inode number */</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__entry.html#a697eb47532b2dc69e8e3a54664e04d77">  366</a></span>&#160;    __u8            <a class="code" href="structxfs__dir2__data__entry.html#a697eb47532b2dc69e8e3a54664e04d77">namelen</a>;    <span class="comment">/* name length */</span></div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__entry.html#a4e18ba3d1e483f7a5d124604d928f82a">  367</a></span>&#160;    __u8            <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[];     <span class="comment">/* name bytes, no null */</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;     <span class="comment">/* __u8            filetype; */</span>    <span class="comment">/* type of inode we point to */</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;     <span class="comment">/* __be16                  tag; */</span>     <span class="comment">/* starting offset of us */</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a34a6026c0bb7f08165b6dcdc1097ce40">xfs_dir2_data_entry_t</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * Unused entry in a data block.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> * Aligned to 8 bytes.  Tag appears as the last 2 bytes and must be accessed</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> * using xfs_dir2_data_unused_tag_p.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__unused.html">  378</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__data__unused.html">xfs_dir2_data_unused</a> {</div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__unused.html#a5387a616f7c5a0b026d3c4e3817a8e2a">  379</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__data__unused.html#a5387a616f7c5a0b026d3c4e3817a8e2a">freetag</a>;    <span class="comment">/* XFS_DIR2_DATA_FREE_TAG */</span></div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__unused.html#af4f11b9a315f656c1184ecaec665d199">  380</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__data__unused.html#af4f11b9a315f656c1184ecaec665d199">length</a>;     <span class="comment">/* total free length */</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        <span class="comment">/* variable offset */</span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="structxfs__dir2__data__unused.html#a8df008961e97bc9f58eb4098075f5401">  382</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__data__unused.html#a8df008961e97bc9f58eb4098075f5401">tag</a>;        <span class="comment">/* starting offset of us */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a04fc7fced5bf062239a4407f94c0ea22">xfs_dir2_data_unused_t</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"> * Pointer to a freespace&#39;s tag word.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __be16 *</div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#adff25b72f5096a9b0b038abc9e84c969">  389</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#adff25b72f5096a9b0b038abc9e84c969">xfs_dir2_data_unused_tag_p</a>(<span class="keyword">struct</span> <a class="code" href="structxfs__dir2__data__unused.html">xfs_dir2_data_unused</a> *dup)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> (__be16 *)((<span class="keywordtype">char</span> *)dup +</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            be16_to_cpu(dup-&gt;<a class="code" href="structxfs__dir2__data__unused.html#af4f11b9a315f656c1184ecaec665d199">length</a>) - <span class="keyword">sizeof</span>(__be16));</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"> * Leaf block structures.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> * A pure leaf block looks like the following drawing on disk:</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> *    +---------------------------+</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_hdr_t       |</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> *    +---------------------------+</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_entry_t     |</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_entry_t     |</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_entry_t     |</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_entry_t     |</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"> *    | ...                       |</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"> *    +---------------------------+</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"> *    | xfs_dir2_data_off_t       |</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment"> *    | xfs_dir2_data_off_t       |</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment"> *    | xfs_dir2_data_off_t       |</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"> *    | ...                       |</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"> *    +---------------------------+</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_tail_t      |</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"> *    +---------------------------+</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> * The xfs_dir2_data_off_t members (bests) and tail are at the end of the block</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"> * for single-leaf (magic = XFS_DIR2_LEAF1_MAGIC) blocks only, but not present</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"> * for directories with separate leaf nodes and free space blocks</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"> * (magic = XFS_DIR2_LEAFN_MAGIC).</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> * As all the entries are variable size structures the accessors below should</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> * be used to iterate over them.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> * Offset of the leaf/node space.  First block in this space</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> * is the btree root.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a2f10a257033018da594683668b196707">  430</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_LEAF_SPACE 1</span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5911210fadcad63c50214a9b38ba0f77">  431</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_LEAF_OFFSET    (XFS_DIR2_LEAF_SPACE * XFS_DIR2_SPACE_SIZE)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> * Leaf block header.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__hdr.html">  436</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__leaf__hdr.html">xfs_dir2_leaf_hdr</a> {</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__hdr.html#a38996a3bc318f4134185450befdc4650">  437</a></span>&#160;    <a class="code" href="structxfs__da__blkinfo.html">xfs_da_blkinfo_t</a>    <a class="code" href="structxfs__dir2__leaf__hdr.html#a38996a3bc318f4134185450befdc4650">info</a>;       <span class="comment">/* header for da routines */</span></div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__hdr.html#ac8cf77d63b7a24fc5c9d825b751a2ff1">  438</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__leaf__hdr.html#ac8cf77d63b7a24fc5c9d825b751a2ff1">count</a>;      <span class="comment">/* count of entries */</span></div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__hdr.html#a575c81a84ab9625ad6b4dfd4d50848c2">  439</a></span>&#160;    __be16          <a class="code" href="structxfs__dir2__leaf__hdr.html#a575c81a84ab9625ad6b4dfd4d50848c2">stale</a>;      <span class="comment">/* count of stale entries */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a9ee9039ef153b061c45ec29cbe09a51c">xfs_dir2_leaf_hdr_t</a>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf__hdr.html">  442</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__leaf__hdr.html">xfs_dir3_leaf_hdr</a> {</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf__hdr.html#a155cc123e169cde47d0a24e93e9a5304">  443</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da3__blkinfo.html">xfs_da3_blkinfo</a>  info;       <span class="comment">/* header for da routines */</span></div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf__hdr.html#a700b172894554d29e6f429a47c22e3f8">  444</a></span>&#160;    __be16          <a class="code" href="structxfs__dir3__leaf__hdr.html#a700b172894554d29e6f429a47c22e3f8">count</a>;      <span class="comment">/* count of entries */</span></div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf__hdr.html#a27e5e378f17ad9c7c4fd8dee026c30ba">  445</a></span>&#160;    __be16          <a class="code" href="structxfs__dir3__leaf__hdr.html#a27e5e378f17ad9c7c4fd8dee026c30ba">stale</a>;      <span class="comment">/* count of stale entries */</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf__hdr.html#afd1f7fc2e400b99dad1413bb7b612061">  446</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__leaf__hdr.html#afd1f7fc2e400b99dad1413bb7b612061">pad</a>;        <span class="comment">/* 64 bit alignment */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;};</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="structxfs__dir3__icleaf__hdr.html">  449</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__icleaf__hdr.html">xfs_dir3_icleaf_hdr</a> {</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="structxfs__dir3__icleaf__hdr.html#a7fa99b19aeb6679e2d61c86cd670e9df">  450</a></span>&#160;    uint32_t        <a class="code" href="structxfs__dir3__icleaf__hdr.html#a7fa99b19aeb6679e2d61c86cd670e9df">forw</a>;</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="structxfs__dir3__icleaf__hdr.html#a07a91cde13699c74c31bdc6f5c90002f">  451</a></span>&#160;    uint32_t        <a class="code" href="structxfs__dir3__icleaf__hdr.html#a07a91cde13699c74c31bdc6f5c90002f">back</a>;</div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="structxfs__dir3__icleaf__hdr.html#a62e7699e985873145739bf87dd0283d9">  452</a></span>&#160;    uint16_t        <a class="code" href="structxfs__dir3__icleaf__hdr.html#a62e7699e985873145739bf87dd0283d9">magic</a>;</div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="structxfs__dir3__icleaf__hdr.html#a27fc00fffe7a906c3ebe9539299b3332">  453</a></span>&#160;    uint16_t        <a class="code" href="structxfs__dir3__icleaf__hdr.html#a27fc00fffe7a906c3ebe9539299b3332">count</a>;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="structxfs__dir3__icleaf__hdr.html#ab7033f00d5179ae26b3bc40f5a0363c4">  454</a></span>&#160;    uint16_t        <a class="code" href="structxfs__dir3__icleaf__hdr.html#ab7033f00d5179ae26b3bc40f5a0363c4">stale</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;};</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> * Leaf block entry.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__entry.html">  460</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__leaf__entry.html">xfs_dir2_leaf_entry</a> {</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__entry.html#a7c07d19dd586e2b93f066fc06734b2b8">  461</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__leaf__entry.html#a7c07d19dd586e2b93f066fc06734b2b8">hashval</a>;    <span class="comment">/* hash value of name */</span></div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__entry.html#a74fb63ec69e894ce3f1bda6fba886c4c">  462</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__leaf__entry.html#a74fb63ec69e894ce3f1bda6fba886c4c">address</a>;    <span class="comment">/* address of data entry */</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a916e369a4758633e0bbfb423349117be">xfs_dir2_leaf_entry_t</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> * Leaf block tail.</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__tail.html">  468</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__leaf__tail.html">xfs_dir2_leaf_tail</a> {</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf__tail.html#a5de85f05975bddc88e82bb5ea51e938c">  469</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__leaf__tail.html#a5de85f05975bddc88e82bb5ea51e938c">bestcount</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a0bb3cb7fbb2ef16cfa7b71d1a5104c34">xfs_dir2_leaf_tail_t</a>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> * Leaf block.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf.html">  475</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__leaf.html">xfs_dir2_leaf</a> {</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf.html#a144cc297e964ec04acac3bd3340ab11b">  476</a></span>&#160;    <a class="code" href="structxfs__dir2__leaf__hdr.html">xfs_dir2_leaf_hdr_t</a> <a class="code" href="structxfs__dir2__leaf.html#a144cc297e964ec04acac3bd3340ab11b">hdr</a>;            <span class="comment">/* leaf header */</span></div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="structxfs__dir2__leaf.html#a6ff7506c593ec8438356f055fec8acd2">  477</a></span>&#160;    <a class="code" href="structxfs__dir2__leaf__entry.html">xfs_dir2_leaf_entry_t</a>   __ents[];       <span class="comment">/* entries */</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;} <a class="code" href="xfs__da__format_8h.html#aee8554ca236c393f916ca21d7f21fe15">xfs_dir2_leaf_t</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf.html">  480</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__leaf.html">xfs_dir3_leaf</a> {</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf.html#a43321841046438f1beec1420bfe44b17">  481</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__dir3__leaf__hdr.html">xfs_dir3_leaf_hdr</a>    <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;        <span class="comment">/* leaf header */</span></div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="structxfs__dir3__leaf.html#ae8900c4208df23400f61f4a894d745c0">  482</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__dir2__leaf__entry.html">xfs_dir2_leaf_entry</a>  __ents[];   <span class="comment">/* entries */</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;};</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a38fe9261086197ae9275307b5bc6a34a">  485</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_LEAF_CRC_OFF  offsetof(struct xfs_dir3_leaf_hdr, info.crc)</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> * Get address of the bests array in the single-leaf block.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __be16 *</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa9d054751bf3cae6dbf6d8b5e8abe2ea">  491</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#aa9d054751bf3cae6dbf6d8b5e8abe2ea">xfs_dir2_leaf_bests_p</a>(<span class="keyword">struct</span> <a class="code" href="structxfs__dir2__leaf__tail.html">xfs_dir2_leaf_tail</a> *ltp)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> (__be16 *)ltp - be32_to_cpu(ltp-&gt;<a class="code" href="structxfs__dir2__leaf__tail.html#a5de85f05975bddc88e82bb5ea51e938c">bestcount</a>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> * Free space block defintions for the node format.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> * Offset of the freespace index.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa63ea8b2d4ce3cef1186d014cb5b77ca">  503</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_FREE_SPACE 2</span></div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aa4d9d8c104b8bff1da08bf98a6959c6b">  504</a></span>&#160;<span class="preprocessor">#define XFS_DIR2_FREE_OFFSET    (XFS_DIR2_FREE_SPACE * XFS_DIR2_SPACE_SIZE)</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="structxfs__dir2__free__hdr.html">  506</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__free__hdr.html">xfs_dir2_free_hdr</a> {</div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="structxfs__dir2__free__hdr.html#ad099f4e0e55b7f5bd459aaef236c435b">  507</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__free__hdr.html#ad099f4e0e55b7f5bd459aaef236c435b">magic</a>;      <span class="comment">/* XFS_DIR2_FREE_MAGIC */</span></div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="structxfs__dir2__free__hdr.html#ac6ff3dbfea8e6dbf97baf916ba0590b6">  508</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__free__hdr.html#ac6ff3dbfea8e6dbf97baf916ba0590b6">firstdb</a>;    <span class="comment">/* db of first entry */</span></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="structxfs__dir2__free__hdr.html#a4c564bde1bb22871a1ddd815251b9395">  509</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__free__hdr.html#a4c564bde1bb22871a1ddd815251b9395">nvalid</a>;     <span class="comment">/* count of valid entries */</span></div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="structxfs__dir2__free__hdr.html#ab10e4c8c78826479cad5633d9b6c639d">  510</a></span>&#160;    __be32          <a class="code" href="structxfs__dir2__free__hdr.html#ab10e4c8c78826479cad5633d9b6c639d">nused</a>;      <span class="comment">/* count of used entries */</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;} <a class="code" href="xfs__da__format_8h.html#aa2369c79bc7d9e6e78992e03185aa103">xfs_dir2_free_hdr_t</a>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="structxfs__dir2__free.html">  513</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__free.html">xfs_dir2_free</a> {</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="structxfs__dir2__free.html#add39ef92649fd014bff70c68e2ea554a">  514</a></span>&#160;    <a class="code" href="structxfs__dir2__free__hdr.html">xfs_dir2_free_hdr_t</a> <a class="code" href="structxfs__dir2__free.html#add39ef92649fd014bff70c68e2ea554a">hdr</a>;        <span class="comment">/* block header */</span></div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="structxfs__dir2__free.html#a3c7f492155a7b33d3c95c45b67532e50">  515</a></span>&#160;    __be16          bests[];    <span class="comment">/* best free counts */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                        <span class="comment">/* unused entries are -1 */</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;} <a class="code" href="xfs__da__format_8h.html#ae560ab65cba9c17ce94ffa09badb8680">xfs_dir2_free_t</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="structxfs__dir3__free__hdr.html">  519</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__free__hdr.html">xfs_dir3_free_hdr</a> {</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="structxfs__dir3__free__hdr.html#acc2a53c1258a35514ed116fdcebbdeb7">  520</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__dir3__blk__hdr.html">xfs_dir3_blk_hdr</a> <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="structxfs__dir3__free__hdr.html#a1440d9a8236383dabf5a02ee17211a1d">  521</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__free__hdr.html#a1440d9a8236383dabf5a02ee17211a1d">firstdb</a>;    <span class="comment">/* db of first entry */</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="structxfs__dir3__free__hdr.html#a8271c41af8b698432c0e12e9379fe31c">  522</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__free__hdr.html#a8271c41af8b698432c0e12e9379fe31c">nvalid</a>;     <span class="comment">/* count of valid entries */</span></div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="structxfs__dir3__free__hdr.html#a65f180d5ebfd22505a0b2a5ef118b3b7">  523</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__free__hdr.html#a65f180d5ebfd22505a0b2a5ef118b3b7">nused</a>;      <span class="comment">/* count of used entries */</span></div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="structxfs__dir3__free__hdr.html#ad8efa46a241d0fe6795fd536cf727ab8">  524</a></span>&#160;    __be32          <a class="code" href="structxfs__dir3__free__hdr.html#ad8efa46a241d0fe6795fd536cf727ab8">pad</a>;        <span class="comment">/* 64 bit alignment */</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;};</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="structxfs__dir3__free.html">  527</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__free.html">xfs_dir3_free</a> {</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="structxfs__dir3__free.html#af4ff8fc548dbf3d20fd8e02f4c114943">  528</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__dir3__free__hdr.html">xfs_dir3_free_hdr</a> <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="structxfs__dir3__free.html#a2a2dfd03a86fb264d25debf3c9f3cc45">  529</a></span>&#160;    __be16          bests[];    <span class="comment">/* best free counts */</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                        <span class="comment">/* unused entries are -1 */</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;};</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af1ea7e5cb49f02c062d4510b89d3ace7">  533</a></span>&#160;<span class="preprocessor">#define XFS_DIR3_FREE_CRC_OFF  offsetof(struct xfs_dir3_free, hdr.hdr.crc)</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> * In core version of the free block header, abstracted away from on-disk format</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> * differences. Use this in the code, and convert to/from the disk version using</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> * xfs_dir3_free_hdr_from_disk/xfs_dir3_free_hdr_to_disk.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="structxfs__dir3__icfree__hdr.html">  540</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__dir3__icfree__hdr.html">xfs_dir3_icfree_hdr</a> {</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="structxfs__dir3__icfree__hdr.html#a68a4c68de8610c9e25aabe41b8c57af2">  541</a></span>&#160;    uint32_t    <a class="code" href="structxfs__dir3__icfree__hdr.html#a68a4c68de8610c9e25aabe41b8c57af2">magic</a>;</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="structxfs__dir3__icfree__hdr.html#a1f3f8b277377ff66f8e4838185814aaf">  542</a></span>&#160;    uint32_t    <a class="code" href="structxfs__dir3__icfree__hdr.html#a1f3f8b277377ff66f8e4838185814aaf">firstdb</a>;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="structxfs__dir3__icfree__hdr.html#a449745c0767f8e9318229c8409779f07">  543</a></span>&#160;    uint32_t    <a class="code" href="structxfs__dir3__icfree__hdr.html#a449745c0767f8e9318229c8409779f07">nvalid</a>;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="structxfs__dir3__icfree__hdr.html#a9e0477dc6f6e3f67dcabb8e3baca6bc1">  544</a></span>&#160;    uint32_t    <a class="code" href="structxfs__dir3__icfree__hdr.html#a9e0477dc6f6e3f67dcabb8e3baca6bc1">nused</a>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;};</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> * Single block format.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * The single block format looks like the following drawing on disk:</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> *    | xfs_dir2_data_hdr_t                             |</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> *    | xfs_dir2_data_entry_t OR xfs_dir2_data_unused_t |</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> *    | xfs_dir2_data_entry_t OR xfs_dir2_data_unused_t |</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> *    | xfs_dir2_data_entry_t OR xfs_dir2_data_unused_t :</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> *    | ...                                             |</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> *    | unused space                                    |</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> *    | ...                                             |</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_entry_t                           |</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> *    | xfs_dir2_leaf_entry_t                           |</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> *    | xfs_dir2_block_tail_t                           |</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> *    +-------------------------------------------------+</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> * As all the entries are variable size structures the accessors below should</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> * be used to iterate over them.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="structxfs__dir2__block__tail.html">  574</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__block__tail.html">xfs_dir2_block_tail</a> {</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="structxfs__dir2__block__tail.html#ac92f79dc67ed72ee92995c9fb7e28085">  575</a></span>&#160;    __be32      <a class="code" href="structxfs__dir2__block__tail.html#ac92f79dc67ed72ee92995c9fb7e28085">count</a>;          <span class="comment">/* count of leaf entries */</span></div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="structxfs__dir2__block__tail.html#ae4846b9d545aa5afd45f9d77dcb75a60">  576</a></span>&#160;    __be32      <a class="code" href="structxfs__dir2__block__tail.html#ae4846b9d545aa5afd45f9d77dcb75a60">stale</a>;          <span class="comment">/* count of stale lf entries */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a640c0f9d08beb91411907a691082b8e2">xfs_dir2_block_tail_t</a>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * Pointer to the leaf entries embedded in a data block (1-block format)</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structxfs__dir2__leaf__entry.html">xfs_dir2_leaf_entry</a> *</div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aeb60286c05f7dfaea8ad0d570d7735c2">  583</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#aeb60286c05f7dfaea8ad0d570d7735c2">xfs_dir2_block_leaf_p</a>(<span class="keyword">struct</span> <a class="code" href="structxfs__dir2__block__tail.html">xfs_dir2_block_tail</a> *btp)</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> ((<span class="keyword">struct</span> <a class="code" href="structxfs__dir2__leaf__entry.html">xfs_dir2_leaf_entry</a> *)btp) - be32_to_cpu(btp-&gt;count);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> * Attribute storage layout</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment"> * Attribute lists are structured around Btrees where all the data</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"> * elements are in the leaf nodes.  Attribute names are hashed into an int,</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * then that int is used as the index into the Btree.  Since the hashval</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * of an attribute name may not be unique, we may have duplicate keys.  The</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"> * internal links in the Btree are logical block offsets into the file.</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment"> * Struct leaf_entry&#39;s are packed from the top.  Name/values grow from the</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"> * bottom but are not packed.  The freemap contains run-length-encoded entries</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment"> * for the free bytes after the leaf_entry&#39;s, but only the N largest such,</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"> * smaller runs are dropped.  When the freemap doesn&#39;t show enough space</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment"> * for an allocation, we compact the name/value area and try again.  If we</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment"> * still don&#39;t have enough space, then we have to split the block.  The</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"> * name/value structs (both local and remote versions) must be 32bit aligned.</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"> * Since we have duplicate hash keys, for each key that matches, compare</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"> * the actual name string.  The root and intermediate node search always</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"> * takes the first-in-the-block key match found, so we should only have</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"> * to work &quot;forw&quot;ard.  If none matches, continue with the &quot;forw&quot;ard leaf</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> * nodes until the hash key changes or the attribute name is found.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"> * We store the fact that an attribute is a ROOT/USER/SECURE attribute in</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"> * the leaf_entry.  The namespaces are independent only because we also look</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * at the namespace bit when we are looking for a matching attribute name.</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> * We also store an &quot;incomplete&quot; bit in the leaf_entry.  It shows that an</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> * attribute is in the middle of being created and should not be shown to</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> * the user if we crash during the time that the bit is set.  We clear the</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> * bit when we have finished setting up the attribute.  We do this because</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> * we cannot create some large attributes inside a single transaction, and we</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> * need some indication that we weren&#39;t finished if we crash in the middle.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a8ae04232c5e4b1cfb98b36fae5a1bc0f">  623</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_LEAF_MAPSIZE   3   </span><span class="comment">/* how many freespace slots */</span><span class="preprocessor"></span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"> * Entries are packed toward the top as tight as possible.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform.html">  628</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__shortform.html">xfs_attr_shortform</a> {</div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html">  629</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html">xfs_attr_sf_hdr</a> {    <span class="comment">/* constant-structure header block */</span></div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#adea84bfa5a31fe3e1a4554d9df6b83b5">  630</a></span>&#160;        __be16  <a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#adea84bfa5a31fe3e1a4554d9df6b83b5">totsize</a>;    <span class="comment">/* total bytes in shortform list */</span></div><div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#ae9d1dad496750fea1d278986f7277441">  631</a></span>&#160;        __u8    <a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#ae9d1dad496750fea1d278986f7277441">count</a>;  <span class="comment">/* count of active entries */</span></div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#a9f173b2ee54408044a82bd68fc6650e2">  632</a></span>&#160;        __u8    <a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#a9f173b2ee54408044a82bd68fc6650e2">padding</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    } <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html">  634</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html">xfs_attr_sf_entry</a> {</div><div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#ab9f25c7c6e4b512a00c25bd0e63583fc">  635</a></span>&#160;        uint8_t <a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#ab9f25c7c6e4b512a00c25bd0e63583fc">namelen</a>;    <span class="comment">/* actual length of name (no NULL) */</span></div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#a10a1f4d8bce2d8db7dbbe8fe00e1f9b4">  636</a></span>&#160;        uint8_t <a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#a10a1f4d8bce2d8db7dbbe8fe00e1f9b4">valuelen</a>;   <span class="comment">/* actual length of value (no NULL) */</span></div><div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#a686dc41424bb229d8fa36ff2f6c85c87">  637</a></span>&#160;        uint8_t <a class="code" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#a686dc41424bb229d8fa36ff2f6c85c87">flags</a>;  <span class="comment">/* flags bits (see xfs_attr_leaf.h) */</span></div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#aa1c4ecb5dc61e6c5c66477290ff7bfad">  638</a></span>&#160;        uint8_t nameval[1]; <span class="comment">/* name &amp; value bytes concatenated */</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    } <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>[1];          <span class="comment">/* variable sized array */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;} <a class="code" href="xfs__da__format_8h.html#aeae5eef25e350fae44e2cfe4f688f1c1">xfs_attr_shortform_t</a>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__map.html">  642</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__map.html">xfs_attr_leaf_map</a> {  <span class="comment">/* RLE map of free bytes */</span></div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__map.html#a9188fd5bf836f3a511aba3e0b0b0b4fe">  643</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__map.html#a9188fd5bf836f3a511aba3e0b0b0b4fe">base</a>;             <span class="comment">/* base of free region */</span></div><div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__map.html#a64f1e4834c18cb23fb5ffb28a7497881">  644</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__map.html#a64f1e4834c18cb23fb5ffb28a7497881">size</a>;             <span class="comment">/* length of free region */</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;} <a class="code" href="xfs__da__format_8h.html#afc87297f915e74dac91d824a8bb42471">xfs_attr_leaf_map_t</a>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html">  647</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__hdr.html">xfs_attr_leaf_hdr</a> {  <span class="comment">/* constant-structure header block */</span></div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#a7267e6a65d5940de9ab82e46d00da889">  648</a></span>&#160;    <a class="code" href="structxfs__da__blkinfo.html">xfs_da_blkinfo_t</a> <a class="code" href="structxfs__attr__leaf__hdr.html#a7267e6a65d5940de9ab82e46d00da889">info</a>;      <span class="comment">/* block type, links, etc. */</span></div><div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#a1de8a499325b5b16a34fb939b7a5d589">  649</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__hdr.html#a1de8a499325b5b16a34fb939b7a5d589">count</a>;          <span class="comment">/* count of active leaf_entry&#39;s */</span></div><div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#aacb3280c09969576f71cfbd50f538485">  650</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__hdr.html#aacb3280c09969576f71cfbd50f538485">usedbytes</a>;      <span class="comment">/* num bytes of names/values stored */</span></div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#ab52c2d1b8abeea3c1e00a5af4f27bc6d">  651</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__hdr.html#ab52c2d1b8abeea3c1e00a5af4f27bc6d">firstused</a>;      <span class="comment">/* first used byte in name area */</span></div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#a196cf1450d07b8aa49ed6fb482b4afab">  652</a></span>&#160;    __u8    <a class="code" href="structxfs__attr__leaf__hdr.html#a196cf1450d07b8aa49ed6fb482b4afab">holes</a>;          <span class="comment">/* != 0 if blk needs compaction */</span></div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#a2d019427fa935ad7bdf329f3e88c9a07">  653</a></span>&#160;    __u8    <a class="code" href="structxfs__attr__leaf__hdr.html#a2d019427fa935ad7bdf329f3e88c9a07">pad1</a>;</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__hdr.html#ab9f36a231937e1fc570473d02ac31b61">  654</a></span>&#160;    <a class="code" href="structxfs__attr__leaf__map.html">xfs_attr_leaf_map_t</a> freemap[<a class="code" href="xfs__da__format_8h.html#a8ae04232c5e4b1cfb98b36fae5a1bc0f">XFS_ATTR_LEAF_MAPSIZE</a>];</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                    <span class="comment">/* N largest free regions */</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;} <a class="code" href="xfs__da__format_8h.html#aeacebcaecb29b65c76f43c504edea2e8">xfs_attr_leaf_hdr_t</a>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__entry.html">  658</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__entry.html">xfs_attr_leaf_entry</a> {    <span class="comment">/* sorted on key, not name */</span></div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__entry.html#ace1e6d03c2b5a581098ca7378a0f7bcb">  659</a></span>&#160;    __be32  <a class="code" href="structxfs__attr__leaf__entry.html#ace1e6d03c2b5a581098ca7378a0f7bcb">hashval</a>;        <span class="comment">/* hash value of name */</span></div><div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__entry.html#a6fa83eec133082cd360fb5f3c2bccc66">  660</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__entry.html#a6fa83eec133082cd360fb5f3c2bccc66">nameidx</a>;        <span class="comment">/* index into buffer of name/value */</span></div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__entry.html#a899531e39175f7a0e6cb9feaa2bf9ace">  661</a></span>&#160;    __u8    <a class="code" href="structxfs__attr__leaf__entry.html#a899531e39175f7a0e6cb9feaa2bf9ace">flags</a>;          <span class="comment">/* LOCAL/ROOT/SECURE/INCOMPLETE flag */</span></div><div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__entry.html#a94625b57980e827a85385124de6432b0">  662</a></span>&#160;    __u8    <a class="code" href="structxfs__attr__leaf__entry.html#a94625b57980e827a85385124de6432b0">pad2</a>;           <span class="comment">/* unused pad byte */</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;} <a class="code" href="xfs__da__format_8h.html#abac61a53ac25111780e5748ecdc51807">xfs_attr_leaf_entry_t</a>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__local.html">  665</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__name__local.html">xfs_attr_leaf_name_local</a> {</div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__local.html#acf6c1fa16798a22d8383fb01f08384d4">  666</a></span>&#160;    __be16  <a class="code" href="structxfs__attr__leaf__name__local.html#acf6c1fa16798a22d8383fb01f08384d4">valuelen</a>;       <span class="comment">/* number of bytes in value */</span></div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__local.html#a7b3d6325315985af7112ed52ba3ba1b2">  667</a></span>&#160;    __u8    <a class="code" href="structxfs__attr__leaf__name__local.html#a7b3d6325315985af7112ed52ba3ba1b2">namelen</a>;        <span class="comment">/* length of name bytes */</span></div><div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__local.html#a6ca165e1bc95d53e847fd874c0db27f0">  668</a></span>&#160;    __u8    nameval[1];     <span class="comment">/* name/value bytes */</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a59b4ad83e4d410b896b2d1461582050c">xfs_attr_leaf_name_local_t</a>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__remote.html">  671</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__name__remote.html">xfs_attr_leaf_name_remote</a> {</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__remote.html#a8e97428aceae4fe9fcd8a7aa54cd4e3a">  672</a></span>&#160;    __be32  <a class="code" href="structxfs__attr__leaf__name__remote.html#a8e97428aceae4fe9fcd8a7aa54cd4e3a">valueblk</a>;       <span class="comment">/* block number of value bytes */</span></div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__remote.html#a7034d9aa5cf5849898e149f99aa6f4e1">  673</a></span>&#160;    __be32  <a class="code" href="structxfs__attr__leaf__name__remote.html#a7034d9aa5cf5849898e149f99aa6f4e1">valuelen</a>;       <span class="comment">/* number of bytes in value */</span></div><div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__remote.html#a531f99b1cd5e5311614c8f61d1e6036d">  674</a></span>&#160;    __u8    <a class="code" href="structxfs__attr__leaf__name__remote.html#a531f99b1cd5e5311614c8f61d1e6036d">namelen</a>;        <span class="comment">/* length of name bytes */</span></div><div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="structxfs__attr__leaf__name__remote.html#af401995a125cfbce636d09ec00bd5c04">  675</a></span>&#160;    __u8    <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[1];        <span class="comment">/* name bytes */</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a11ade4269622ee07fd97e1e14b7d9ec8">xfs_attr_leaf_name_remote_t</a>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="structxfs__attr__leafblock.html">  678</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leafblock.html">xfs_attr_leafblock</a> {</div><div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="structxfs__attr__leafblock.html#a75b6c2e63f270345ce1bc7859e044323">  679</a></span>&#160;    <a class="code" href="structxfs__attr__leaf__hdr.html">xfs_attr_leaf_hdr_t</a> <a class="code" href="structxfs__attr__leafblock.html#a75b6c2e63f270345ce1bc7859e044323">hdr</a>;    <span class="comment">/* constant-structure header block */</span></div><div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="structxfs__attr__leafblock.html#a7c46c0fc37fb59a3fd53a1c4c9a968c5">  680</a></span>&#160;    <a class="code" href="structxfs__attr__leaf__entry.html">xfs_attr_leaf_entry_t</a>   entries[1]; <span class="comment">/* sorted on key, not name */</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     * The rest of the block contains the following structures after the</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">     * leaf entries, growing from the bottom up. The variables are never</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">     * referenced and definining them can actually make gcc optimize away</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">     * accesses to the &#39;entries&#39; array above index 0 so don&#39;t do that.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">     * xfs_attr_leaf_name_local_t namelist;</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">     * xfs_attr_leaf_name_remote_t valuelist;</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;} <a class="code" href="xfs__da__format_8h.html#a2dafd2cc3e76dc04050eeb14dd0efb7f">xfs_attr_leafblock_t</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment"> * CRC enabled leaf structures. Called &quot;version 3&quot; structures to match the</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"> * version number of the directory and dablk structures for this feature, and</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"> * attr2 is already taken by the variable inode attribute fork size feature.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html">  697</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__attr3__leaf__hdr.html">xfs_attr3_leaf_hdr</a> {</div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#ab2e41a083456d8e9e64c357a02dc77d0">  698</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__da3__blkinfo.html">xfs_da3_blkinfo</a>  info;</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#a3084eebc5bf8d2ef516b4a64c8aa01a2">  699</a></span>&#160;    __be16          <a class="code" href="structxfs__attr3__leaf__hdr.html#a3084eebc5bf8d2ef516b4a64c8aa01a2">count</a>;</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#a24d6bdb0593b4c0a5014d2623298ad97">  700</a></span>&#160;    __be16          <a class="code" href="structxfs__attr3__leaf__hdr.html#a24d6bdb0593b4c0a5014d2623298ad97">usedbytes</a>;</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#a8f2a49739c4739ffc63d37b3f33bf250">  701</a></span>&#160;    __be16          <a class="code" href="structxfs__attr3__leaf__hdr.html#a8f2a49739c4739ffc63d37b3f33bf250">firstused</a>;</div><div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#ac83cc10a84e7e0080106081027edcf48">  702</a></span>&#160;    __u8            <a class="code" href="structxfs__attr3__leaf__hdr.html#ac83cc10a84e7e0080106081027edcf48">holes</a>;</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#a975c5b33d9bb0e11899a70fdbcb6d322">  703</a></span>&#160;    __u8            <a class="code" href="structxfs__attr3__leaf__hdr.html#a975c5b33d9bb0e11899a70fdbcb6d322">pad1</a>;</div><div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#a42303d558b5a0ef6810b25f45ad4bc3f">  704</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__map.html">xfs_attr_leaf_map</a> freemap[<a class="code" href="xfs__da__format_8h.html#a8ae04232c5e4b1cfb98b36fae5a1bc0f">XFS_ATTR_LEAF_MAPSIZE</a>];</div><div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="structxfs__attr3__leaf__hdr.html#aea1978a888d5c8fdf14a2ead8ef82d61">  705</a></span>&#160;    __be32          <a class="code" href="structxfs__attr3__leaf__hdr.html#aea1978a888d5c8fdf14a2ead8ef82d61">pad2</a>;       <span class="comment">/* 64 bit alignment */</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;};</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ae5ce68b6c6130af4dcb846454afd3c08">  708</a></span>&#160;<span class="preprocessor">#define XFS_ATTR3_LEAF_CRC_OFF  (offsetof(struct xfs_attr3_leaf_hdr, info.crc))</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="structxfs__attr3__leafblock.html">  710</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__attr3__leafblock.html">xfs_attr3_leafblock</a> {</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="structxfs__attr3__leafblock.html#ab1363aa80bc9048cc88b80119383e311">  711</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__attr3__leaf__hdr.html">xfs_attr3_leaf_hdr</a>   <a class="code" href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a>;</div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="structxfs__attr3__leafblock.html#a2f508eab6b4fa5979b4e41fdc9cb97ec">  712</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__entry.html">xfs_attr_leaf_entry</a>  entries[1];</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">     * The rest of the block contains the following structures after the</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">     * leaf entries, growing from the bottom up. The variables are never</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">     * referenced, the locations accessed purely from helper functions.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">     * struct xfs_attr_leaf_name_local</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">     * struct xfs_attr_leaf_name_remote</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;};</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"> * incore, neutral version of the attribute leaf header</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html">  727</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__attr3__icleaf__hdr.html">xfs_attr3_icleaf_hdr</a> {</div><div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a059748bf42c7407d507955b74ba07464">  728</a></span>&#160;    uint32_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#a059748bf42c7407d507955b74ba07464">forw</a>;</div><div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a3cf5d18fb2db63be89271d4da997df29">  729</a></span>&#160;    uint32_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#a3cf5d18fb2db63be89271d4da997df29">back</a>;</div><div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#aafb06d8187c0cc24595bf6c6e569cc98">  730</a></span>&#160;    uint16_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#aafb06d8187c0cc24595bf6c6e569cc98">magic</a>;</div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a54d4a44042edc4cda23c60db96c014b8">  731</a></span>&#160;    uint16_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#a54d4a44042edc4cda23c60db96c014b8">count</a>;</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a60551b21f462d691a1ffc128bd92e666">  732</a></span>&#160;    uint16_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#a60551b21f462d691a1ffc128bd92e666">usedbytes</a>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">     * firstused is 32-bit here instead of 16-bit like the on-disk variant</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">     * to support maximum fsb size of 64k without overflow issues throughout</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">     * the attr code. Instead, the overflow condition is handled on</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">     * conversion to/from disk.</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#aad0723d54a4d1b34230991c25a0cd079">  739</a></span>&#160;    uint32_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#aad0723d54a4d1b34230991c25a0cd079">firstused</a>;</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a6db2b76a96c81df26627ff797609fe3f">  740</a></span>&#160;    __u8        <a class="code" href="structxfs__attr3__icleaf__hdr.html#a6db2b76a96c81df26627ff797609fe3f">holes</a>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a83f4f81128576088bcf6f43e66c6cfc3">  742</a></span>&#160;        uint16_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#a83f4f81128576088bcf6f43e66c6cfc3">base</a>;</div><div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="structxfs__attr3__icleaf__hdr.html#a87f1f9050f7b8788d375f3828f5629a7">  743</a></span>&#160;        uint16_t    <a class="code" href="structxfs__attr3__icleaf__hdr.html#a87f1f9050f7b8788d375f3828f5629a7">size</a>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    } freemap[<a class="code" href="xfs__da__format_8h.html#a8ae04232c5e4b1cfb98b36fae5a1bc0f">XFS_ATTR_LEAF_MAPSIZE</a>];</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;};</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"> * Special value to represent fs block size in the leaf header firstused field.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"> * Only used when block size overflows the 2-bytes available on disk.</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a835e4e00afdc400288c988166874b4f7">  751</a></span>&#160;<span class="preprocessor">#define XFS_ATTR3_LEAF_NULLOFF  0</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"> * Flags used in the leaf_entry[i].flags field.</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"> * NOTE: the INCOMPLETE bit must not collide with the flags bits specified</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> * on the system call, they are &quot;or&quot;ed together for various operations.</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a8a3764215f8346fa7ff6ad6dab9947a7">  758</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_LOCAL_BIT  0   </span><span class="comment">/* attr is stored locally */</span><span class="preprocessor"></span></div><div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a796aa58cb0a817b837abe37a7ed3e4a4">  759</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_ROOT_BIT   1   </span><span class="comment">/* limit access to trusted attrs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a6296819b454e66a1cb2958f0d8ae47b2">  760</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_SECURE_BIT 2   </span><span class="comment">/* limit access to secure attrs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a188df74d981ba2cf90d1237eb1a69105">  761</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_INCOMPLETE_BIT 7   </span><span class="comment">/* attr in middle of create/delete */</span><span class="preprocessor"></span></div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af01fa112fa6c19cea18a12ea5e326034">  762</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_LOCAL      (1 &lt;&lt; XFS_ATTR_LOCAL_BIT)</span></div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a70b4259918b073a0ec77f8f0d969ebfa">  763</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_ROOT       (1 &lt;&lt; XFS_ATTR_ROOT_BIT)</span></div><div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a74da46e6ccbfd8012cd203fdc10199a0">  764</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_SECURE     (1 &lt;&lt; XFS_ATTR_SECURE_BIT)</span></div><div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a96de9d6668ba95191e31bb585bfaf7fd">  765</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_INCOMPLETE (1 &lt;&lt; XFS_ATTR_INCOMPLETE_BIT)</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"> * Conversion macros for converting namespace bits from argument flags</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment"> * to ondisk flags.</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5081e24d2af8845ea6d0b8d39a7eeca1">  771</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_NSP_ARGS_MASK      (ATTR_ROOT | ATTR_SECURE)</span></div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a1041d711c49285e7a2b814096e6170f4">  772</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_NSP_ONDISK_MASK    (XFS_ATTR_ROOT | XFS_ATTR_SECURE)</span></div><div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ac36093d63fd9299abf0668b42c856b43">  773</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_NSP_ONDISK(flags)  ((flags) &amp; XFS_ATTR_NSP_ONDISK_MASK)</span></div><div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ad84c9b16b25b49bebd5363e725c8bd5a">  774</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_NSP_ARGS(flags)    ((flags) &amp; XFS_ATTR_NSP_ARGS_MASK)</span></div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af86df821f09996db8c2121c5f8ea7dfe">  775</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_NSP_ARGS_TO_ONDISK(x)  (((x) &amp; ATTR_ROOT ? XFS_ATTR_ROOT : 0) |\</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="preprocessor">                     ((x) &amp; ATTR_SECURE ? XFS_ATTR_SECURE : 0))</span></div><div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a3cb9ee3f891983c50b464edde590b199">  777</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_NSP_ONDISK_TO_ARGS(x)  (((x) &amp; XFS_ATTR_ROOT ? ATTR_ROOT : 0) |\</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">                     ((x) &amp; XFS_ATTR_SECURE ? ATTR_SECURE : 0))</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment"> * Alignment for namelist and valuelist entries (since they are mixed</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment"> * there can be only one alignment value)</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#af5837a956db95ed6e8b6ecdc6bc1c03a">  784</a></span>&#160;<span class="preprocessor">#define XFS_ATTR_LEAF_NAME_ALIGN    ((uint)sizeof(xfs_dablk_t))</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a44bd8b8dbed5d614c1de76fba22a1693">  787</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#a44bd8b8dbed5d614c1de76fba22a1693">xfs_attr3_leaf_hdr_size</a>(<span class="keyword">struct</span> <a class="code" href="structxfs__attr__leafblock.html">xfs_attr_leafblock</a> *leafp)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;{</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span> (leafp-&gt;<a class="code" href="structxfs__attr__leafblock.html#a75b6c2e63f270345ce1bc7859e044323">hdr</a>.<a class="code" href="structxfs__attr__leaf__hdr.html#a7267e6a65d5940de9ab82e46d00da889">info</a>.<a class="code" href="structxfs__da__blkinfo.html#af4b150bfaf0dc99efb2218272e089e2a">magic</a> == cpu_to_be16(<a class="code" href="xfs__da__format_8h.html#ab2377420eb1238c67ed7bfb4c038b692">XFS_ATTR3_LEAF_MAGIC</a>))</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structxfs__attr3__leaf__hdr.html">xfs_attr3_leaf_hdr</a>);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__hdr.html">xfs_attr_leaf_hdr</a>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__entry.html">xfs_attr_leaf_entry</a> *</div><div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a23b42f83bb3fb7360ef3c1a1dc08472d">  795</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#a23b42f83bb3fb7360ef3c1a1dc08472d">xfs_attr3_leaf_entryp</a>(<a class="code" href="structxfs__attr__leafblock.html">xfs_attr_leafblock_t</a> *leafp)</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;{</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (leafp-&gt;<a class="code" href="structxfs__attr__leafblock.html#a75b6c2e63f270345ce1bc7859e044323">hdr</a>.<a class="code" href="structxfs__attr__leaf__hdr.html#a7267e6a65d5940de9ab82e46d00da889">info</a>.<a class="code" href="structxfs__da__blkinfo.html#af4b150bfaf0dc99efb2218272e089e2a">magic</a> == cpu_to_be16(<a class="code" href="xfs__da__format_8h.html#ab2377420eb1238c67ed7bfb4c038b692">XFS_ATTR3_LEAF_MAGIC</a>))</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">return</span> &amp;((<span class="keyword">struct </span><a class="code" href="structxfs__attr3__leafblock.html">xfs_attr3_leafblock</a> *)leafp)-&gt;entries[0];</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">return</span> &amp;leafp-&gt;entries[0];</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment"> * Cast typed pointers for &quot;local&quot; and &quot;remote&quot; name/value structs.</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5a282f9d08725caa08ed5c036b2bd592">  806</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#a5a282f9d08725caa08ed5c036b2bd592">xfs_attr3_leaf_name</a>(<a class="code" href="structxfs__attr__leafblock.html">xfs_attr_leafblock_t</a> *leafp, <span class="keywordtype">int</span> idx)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;{</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keyword">struct </span><a class="code" href="structxfs__attr__leaf__entry.html">xfs_attr_leaf_entry</a> *entries = <a class="code" href="xfs__da__format_8h.html#a23b42f83bb3fb7360ef3c1a1dc08472d">xfs_attr3_leaf_entryp</a>(leafp);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> &amp;((<span class="keywordtype">char</span> *)leafp)[be16_to_cpu(entries[idx].<a class="code" href="structxfs__attr__leaf__entry.html#a6fa83eec133082cd360fb5f3c2bccc66">nameidx</a>)];</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structxfs__attr__leaf__name__remote.html">xfs_attr_leaf_name_remote_t</a> *</div><div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ad0bc451a24d56a391ff641182dbed446">  814</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#ad0bc451a24d56a391ff641182dbed446">xfs_attr3_leaf_name_remote</a>(<a class="code" href="structxfs__attr__leafblock.html">xfs_attr_leafblock_t</a> *leafp, <span class="keywordtype">int</span> idx)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;{</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="structxfs__attr__leaf__name__remote.html">xfs_attr_leaf_name_remote_t</a> *)<a class="code" href="xfs__da__format_8h.html#a5a282f9d08725caa08ed5c036b2bd592">xfs_attr3_leaf_name</a>(leafp, idx);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structxfs__attr__leaf__name__local.html">xfs_attr_leaf_name_local_t</a> *</div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5888d571256d5aab2ae3dad14034a781">  820</a></span>&#160;<a class="code" href="xfs__da__format_8h.html#a5888d571256d5aab2ae3dad14034a781">xfs_attr3_leaf_name_local</a>(<a class="code" href="structxfs__attr__leafblock.html">xfs_attr_leafblock_t</a> *leafp, <span class="keywordtype">int</span> idx)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;{</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="structxfs__attr__leaf__name__local.html">xfs_attr_leaf_name_local_t</a> *)<a class="code" href="xfs__da__format_8h.html#a5a282f9d08725caa08ed5c036b2bd592">xfs_attr3_leaf_name</a>(leafp, idx);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> * Calculate total bytes used (including trailing pad for alignment) for</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * a &quot;local&quot; name/value structure, a &quot;remote&quot; name/value structure, and</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * a pointer which might be either.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ac5993ee22247ebc70987514d9a7e3371">  830</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="xfs__da__format_8h.html#ac5993ee22247ebc70987514d9a7e3371">xfs_attr_leaf_entsize_remote</a>(<span class="keywordtype">int</span> nlen)</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">return</span> ((uint)<span class="keyword">sizeof</span>(<a class="code" href="structxfs__attr__leaf__name__remote.html">xfs_attr_leaf_name_remote_t</a>) - 1 + (nlen) + \</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="xfs__da__format_8h.html#af5837a956db95ed6e8b6ecdc6bc1c03a">XFS_ATTR_LEAF_NAME_ALIGN</a> - 1) &amp; ~(<a class="code" href="xfs__da__format_8h.html#af5837a956db95ed6e8b6ecdc6bc1c03a">XFS_ATTR_LEAF_NAME_ALIGN</a> - 1);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a8bee164b5dc20a90ab80f7ee6abfe777">  836</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="xfs__da__format_8h.html#a8bee164b5dc20a90ab80f7ee6abfe777">xfs_attr_leaf_entsize_local</a>(<span class="keywordtype">int</span> nlen, <span class="keywordtype">int</span> vlen)</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;{</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span> ((uint)<span class="keyword">sizeof</span>(<a class="code" href="structxfs__attr__leaf__name__local.html">xfs_attr_leaf_name_local_t</a>) - 1 + (nlen) + (vlen) +</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <a class="code" href="xfs__da__format_8h.html#af5837a956db95ed6e8b6ecdc6bc1c03a">XFS_ATTR_LEAF_NAME_ALIGN</a> - 1) &amp; ~(<a class="code" href="xfs__da__format_8h.html#af5837a956db95ed6e8b6ecdc6bc1c03a">XFS_ATTR_LEAF_NAME_ALIGN</a> - 1);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a6a09ad6f12933ae216e5e414b487149c">  842</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="xfs__da__format_8h.html#a6a09ad6f12933ae216e5e414b487149c">xfs_attr_leaf_entsize_local_max</a>(<span class="keywordtype">int</span> bsize)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span> (((bsize) &gt;&gt; 1) + ((bsize) &gt;&gt; 2));</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"> * Remote attribute block format definition</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"> * There is one of these headers per filesystem block in a remote attribute.</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"> * This is done to ensure there is a 1:1 mapping between the attribute value</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment"> * length and the number of blocks needed to store the attribute. This makes the</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment"> * verification of a buffer a little more complex, but greatly simplifies the</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment"> * allocation, reading and writing of these attributes as we don&#39;t have to guess</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment"> * the number of blocks needed to store the attribute data.</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a238ee1b172c12a3f26db19379d4b184a">  859</a></span>&#160;<span class="preprocessor">#define XFS_ATTR3_RMT_MAGIC 0x5841524d  </span><span class="comment">/* XARM */</span><span class="preprocessor"></span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html">  861</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structxfs__attr3__rmt__hdr.html">xfs_attr3_rmt_hdr</a> {</div><div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a1bd010179d64a619b53c1091b7f3e029">  862</a></span>&#160;    __be32  <a class="code" href="structxfs__attr3__rmt__hdr.html#a1bd010179d64a619b53c1091b7f3e029">rm_magic</a>;</div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a8ac1bb4bb31a526aa1b1f3691438d373">  863</a></span>&#160;    __be32  <a class="code" href="structxfs__attr3__rmt__hdr.html#a8ac1bb4bb31a526aa1b1f3691438d373">rm_offset</a>;</div><div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a2a364f6c9e72b04154abfc053d0c8a83">  864</a></span>&#160;    __be32  <a class="code" href="structxfs__attr3__rmt__hdr.html#a2a364f6c9e72b04154abfc053d0c8a83">rm_bytes</a>;</div><div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a8755808b035709e3528ee1139932ba72">  865</a></span>&#160;    __be32  <a class="code" href="structxfs__attr3__rmt__hdr.html#a8755808b035709e3528ee1139932ba72">rm_crc</a>;</div><div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a9ee648e7d2404bb1e66205eadda4d624">  866</a></span>&#160;    uuid_t  <a class="code" href="structxfs__attr3__rmt__hdr.html#a9ee648e7d2404bb1e66205eadda4d624">rm_uuid</a>;</div><div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a6b189a9b31a07e31079557222d875ed4">  867</a></span>&#160;    __be64  <a class="code" href="structxfs__attr3__rmt__hdr.html#a6b189a9b31a07e31079557222d875ed4">rm_owner</a>;</div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a55004dc0494e0d8440cbdbdc321192e5">  868</a></span>&#160;    __be64  <a class="code" href="structxfs__attr3__rmt__hdr.html#a55004dc0494e0d8440cbdbdc321192e5">rm_blkno</a>;</div><div class="line"><a name="l00869"></a><span class="lineno"><a class="line" href="structxfs__attr3__rmt__hdr.html#a9fed9bdf4d3a79015f4cd1fd382048bf">  869</a></span>&#160;    __be64  <a class="code" href="structxfs__attr3__rmt__hdr.html#a9fed9bdf4d3a79015f4cd1fd382048bf">rm_lsn</a>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;};</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#ace193029958c3b2044d52436d6aedb90">  872</a></span>&#160;<span class="preprocessor">#define XFS_ATTR3_RMT_CRC_OFF   offsetof(struct xfs_attr3_rmt_hdr, rm_crc)</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#aec2e6082bbf0914d1e648a47bd2d2d9d">  874</a></span>&#160;<span class="preprocessor">#define XFS_ATTR3_RMT_BUF_SPACE(mp, bufsize)    \</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="preprocessor">    ((bufsize) - (xfs_sb_version_hascrc(&amp;(mp)-&gt;m_sb) ? \</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">            sizeof(struct xfs_attr3_rmt_hdr) : 0))</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">/* Number of bytes in a directory block. */</span></div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="xfs__da__format_8h.html#a5c43ea770407cedfafca805595892382">  879</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="xfs__da__format_8h.html#a5c43ea770407cedfafca805595892382">xfs_dir2_dirblock_bytes</a>(<span class="keyword">struct</span> <a class="code" href="structxfs__sb.html">xfs_sb</a> *sbp)</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;{</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">return</span> 1 &lt;&lt; (sbp-&gt;<a class="code" href="structxfs__sb.html#a6bfa697f12f62e400eff6fa1938f89bb">sb_blocklog</a> + sbp-&gt;<a class="code" href="structxfs__sb.html#a622a651ead5ad634405e293abf72a931">sb_dirblklog</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __XFS_DA_FORMAT_H__ */</span><span class="preprocessor"></span></div><div class="ttc" id="structxfs__dir2__data__entry_html_a697eb47532b2dc69e8e3a54664e04d77"><div class="ttname"><a href="structxfs__dir2__data__entry.html#a697eb47532b2dc69e8e3a54664e04d77">xfs_dir2_data_entry::namelen</a></div><div class="ttdeci">__u8 namelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:366</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a6a09ad6f12933ae216e5e414b487149c"><div class="ttname"><a href="xfs__da__format_8h.html#a6a09ad6f12933ae216e5e414b487149c">xfs_attr_leaf_entsize_local_max</a></div><div class="ttdeci">static int xfs_attr_leaf_entsize_local_max(int bsize)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:842</div></div>
<div class="ttc" id="structxfs__dir3__free__hdr_html_a8271c41af8b698432c0e12e9379fe31c"><div class="ttname"><a href="structxfs__dir3__free__hdr.html#a8271c41af8b698432c0e12e9379fe31c">xfs_dir3_free_hdr::nvalid</a></div><div class="ttdeci">__be32 nvalid</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:522</div></div>
<div class="ttc" id="structxfs__dir3__icleaf__hdr_html"><div class="ttname"><a href="structxfs__dir3__icleaf__hdr.html">xfs_dir3_icleaf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:449</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a6b189a9b31a07e31079557222d875ed4"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a6b189a9b31a07e31079557222d875ed4">xfs_attr3_rmt_hdr::rm_owner</a></div><div class="ttdeci">__be64 rm_owner</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:867</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aac199194b0ec2c3964925eb13b51d61f"><div class="ttname"><a href="xfs__da__format_8h.html#aac199194b0ec2c3964925eb13b51d61f">xfs_dir2_data_aoff_t</a></div><div class="ttdeci">uint xfs_dir2_data_aoff_t</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:192</div></div>
<div class="ttc" id="structxfs__dir2__leaf_html"><div class="ttname"><a href="structxfs__dir2__leaf.html">xfs_dir2_leaf</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:475</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a83f4f81128576088bcf6f43e66c6cfc3"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a83f4f81128576088bcf6f43e66c6cfc3">xfs_attr3_icleaf_hdr::base</a></div><div class="ttdeci">uint16_t base</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:742</div></div>
<div class="ttc" id="structxfs__dir2__free_html"><div class="ttname"><a href="structxfs__dir2__free.html">xfs_dir2_free</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:513</div></div>
<div class="ttc" id="structxfs__dir3__icfree__hdr_html_a68a4c68de8610c9e25aabe41b8c57af2"><div class="ttname"><a href="structxfs__dir3__icfree__hdr.html#a68a4c68de8610c9e25aabe41b8c57af2">xfs_dir3_icfree_hdr::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:541</div></div>
<div class="ttc" id="structxfs__dir2__leaf__hdr_html_ac8cf77d63b7a24fc5c9d825b751a2ff1"><div class="ttname"><a href="structxfs__dir2__leaf__hdr.html#ac8cf77d63b7a24fc5c9d825b751a2ff1">xfs_dir2_leaf_hdr::count</a></div><div class="ttdeci">__be16 count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:438</div></div>
<div class="ttc" id="structxfs__da__blkinfo_html_a70404e0221cdefa510353cec6b61e1f4"><div class="ttname"><a href="structxfs__da__blkinfo.html#a70404e0221cdefa510353cec6b61e1f4">xfs_da_blkinfo::back</a></div><div class="ttdeci">__be32 back</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:35</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html_a975c5b33d9bb0e11899a70fdbcb6d322"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html#a975c5b33d9bb0e11899a70fdbcb6d322">xfs_attr3_leaf_hdr::pad1</a></div><div class="ttdeci">__u8 pad1</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:703</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ac71f7cba18222e5df0f47c3b3cc16e2f"><div class="ttname"><a href="xfs__da__format_8h.html#ac71f7cba18222e5df0f47c3b3cc16e2f">xfs_dir2_data_free_t</a></div><div class="ttdeci">struct xfs_dir2_data_free xfs_dir2_data_free_t</div></div>
<div class="ttc" id="structxfs__dir2__sf__hdr_html"><div class="ttname"><a href="structxfs__dir2__sf__hdr.html">xfs_dir2_sf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:228</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a8bee164b5dc20a90ab80f7ee6abfe777"><div class="ttname"><a href="xfs__da__format_8h.html#a8bee164b5dc20a90ab80f7ee6abfe777">xfs_attr_leaf_entsize_local</a></div><div class="ttdeci">static int xfs_attr_leaf_entsize_local(int nlen, int vlen)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:836</div></div>
<div class="ttc" id="structxfs__dir2__data__free_html_acb11086a0369b6d972097bb8f08942a7"><div class="ttname"><a href="structxfs__dir2__data__free.html#acb11086a0369b6d972097bb8f08942a7">xfs_dir2_data_free::offset</a></div><div class="ttdeci">__be16 offset</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:315</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a059748bf42c7407d507955b74ba07464"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a059748bf42c7407d507955b74ba07464">xfs_attr3_icleaf_hdr::forw</a></div><div class="ttdeci">uint32_t forw</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:728</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html_ae18105ce9670c99bc1b7be4e0c467631"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html#ae18105ce9670c99bc1b7be4e0c467631">xfs_dir3_blk_hdr::magic</a></div><div class="ttdeci">__be32 magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:337</div></div>
<div class="ttc" id="structxfs__dir2__data__unused_html_a5387a616f7c5a0b026d3c4e3817a8e2a"><div class="ttname"><a href="structxfs__dir2__data__unused.html#a5387a616f7c5a0b026d3c4e3817a8e2a">xfs_dir2_data_unused::freetag</a></div><div class="ttdeci">__be16 freetag</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:379</div></div>
<div class="ttc" id="structxfs__da3__node__hdr_html"><div class="ttname"><a href="structxfs__da3__node__hdr.html">xfs_da3_node_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:84</div></div>
<div class="ttc" id="structxfs__attr__leaf__map_html"><div class="ttname"><a href="structxfs__attr__leaf__map.html">xfs_attr_leaf_map</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:642</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__hdr_html_adea84bfa5a31fe3e1a4554d9df6b83b5"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#adea84bfa5a31fe3e1a4554d9df6b83b5">xfs_attr_shortform::xfs_attr_sf_hdr::totsize</a></div><div class="ttdeci">__be16 totsize</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:630</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a61ce4a378c0eaee0ec1127420e3169e4"><div class="ttname"><a href="xfs__da__format_8h.html#a61ce4a378c0eaee0ec1127420e3169e4">xfs_dir2_sf_entry_t</a></div><div class="ttdeci">struct xfs_dir2_sf_entry xfs_dir2_sf_entry_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aa9a678fe25e591d4e084a0d47a985a99"><div class="ttname"><a href="xfs__da__format_8h.html#aa9a678fe25e591d4e084a0d47a985a99">xfs_da_node_entry_t</a></div><div class="ttdeci">struct xfs_da_node_entry xfs_da_node_entry_t</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html">xfs_dir3_blk_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:336</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aeb60286c05f7dfaea8ad0d570d7735c2"><div class="ttname"><a href="xfs__da__format_8h.html#aeb60286c05f7dfaea8ad0d570d7735c2">xfs_dir2_block_leaf_p</a></div><div class="ttdeci">static struct xfs_dir2_leaf_entry * xfs_dir2_block_leaf_p(struct xfs_dir2_block_tail *btp)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:583</div></div>
<div class="ttc" id="structxfs__da__node__entry_html"><div class="ttname"><a href="structxfs__da__node__entry.html">xfs_da_node_entry</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:93</div></div>
<div class="ttc" id="structxfs__dir2__free__hdr_html_ac6ff3dbfea8e6dbf97baf916ba0590b6"><div class="ttname"><a href="structxfs__dir2__free__hdr.html#ac6ff3dbfea8e6dbf97baf916ba0590b6">xfs_dir2_free_hdr::firstdb</a></div><div class="ttdeci">__be32 firstdb</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:508</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__remote_html"><div class="ttname"><a href="structxfs__attr__leaf__name__remote.html">xfs_attr_leaf_name_remote</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:671</div></div>
<div class="ttc" id="structxfs__dir2__leaf__entry_html_a74fb63ec69e894ce3f1bda6fba886c4c"><div class="ttname"><a href="structxfs__dir2__leaf__entry.html#a74fb63ec69e894ce3f1bda6fba886c4c">xfs_dir2_leaf_entry::address</a></div><div class="ttdeci">__be32 address</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:462</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a6bd44c76385ffec9433e9ba84f9d6c03"><div class="ttname"><a href="xfs__da__format_8h.html#a6bd44c76385ffec9433e9ba84f9d6c03">xfs_dir2_off_t</a></div><div class="ttdeci">xfs_off_t xfs_dir2_off_t</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:204</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__local_html_a7b3d6325315985af7112ed52ba3ba1b2"><div class="ttname"><a href="structxfs__attr__leaf__name__local.html#a7b3d6325315985af7112ed52ba3ba1b2">xfs_attr_leaf_name_local::namelen</a></div><div class="ttdeci">__u8 namelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:667</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__entry_html"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html">xfs_attr_shortform::xfs_attr_sf_entry</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:634</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html">xfs_attr_leaf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:647</div></div>
<div class="ttc" id="structxfs__attr__shortform_html"><div class="ttname"><a href="structxfs__attr__shortform.html">xfs_attr_shortform</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:628</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html_a7267e6a65d5940de9ab82e46d00da889"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html#a7267e6a65d5940de9ab82e46d00da889">xfs_attr_leaf_hdr::info</a></div><div class="ttdeci">xfs_da_blkinfo_t info</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:648</div></div>
<div class="ttc" id="structxfs__dir3__icfree__hdr_html"><div class="ttname"><a href="structxfs__dir3__icfree__hdr.html">xfs_dir3_icfree_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:540</div></div>
<div class="ttc" id="structxfs__dir2__leaf__tail_html"><div class="ttname"><a href="structxfs__dir2__leaf__tail.html">xfs_dir2_leaf_tail</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:468</div></div>
<div class="ttc" id="structxfs__dir2__data__entry_html"><div class="ttname"><a href="structxfs__dir2__data__entry.html">xfs_dir2_data_entry</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:364</div></div>
<div class="ttc" id="structxfs__attr__leaf__map_html_a9188fd5bf836f3a511aba3e0b0b0b4fe"><div class="ttname"><a href="structxfs__attr__leaf__map.html#a9188fd5bf836f3a511aba3e0b0b0b4fe">xfs_attr_leaf_map::base</a></div><div class="ttdeci">__be16 base</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:643</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html">xfs_attr3_icleaf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:727</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html_acca63ddd33cf4d5ce7d223221fc4c5cc"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html#acca63ddd33cf4d5ce7d223221fc4c5cc">xfs_dir3_blk_hdr::blkno</a></div><div class="ttdeci">__be64 blkno</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:339</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html_aacb3280c09969576f71cfbd50f538485"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html#aacb3280c09969576f71cfbd50f538485">xfs_attr_leaf_hdr::usedbytes</a></div><div class="ttdeci">__be16 usedbytes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:650</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a55004dc0494e0d8440cbdbdc321192e5"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a55004dc0494e0d8440cbdbdc321192e5">xfs_attr3_rmt_hdr::rm_blkno</a></div><div class="ttdeci">__be64 rm_blkno</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:868</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aa83cbd927515638535fa25a80d6d4d2b"><div class="ttname"><a href="xfs__da__format_8h.html#aa83cbd927515638535fa25a80d6d4d2b">XFS_DIR2_DATA_FD_COUNT</a></div><div class="ttdeci">#define XFS_DIR2_DATA_FD_COUNT</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:299</div></div>
<div class="ttc" id="structxfs__dir3__free__hdr_html_a65f180d5ebfd22505a0b2a5ef118b3b7"><div class="ttname"><a href="structxfs__dir3__free__hdr.html#a65f180d5ebfd22505a0b2a5ef118b3b7">xfs_dir3_free_hdr::nused</a></div><div class="ttdeci">__be32 nused</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:523</div></div>
<div class="ttc" id="structxfs__da3__node__hdr_html_a87fa1726a7a5bacc7e837aace7460815"><div class="ttname"><a href="structxfs__da3__node__hdr.html#a87fa1726a7a5bacc7e837aace7460815">xfs_da3_node_hdr::__count</a></div><div class="ttdeci">__be16 __count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:86</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a44bd8b8dbed5d614c1de76fba22a1693"><div class="ttname"><a href="xfs__da__format_8h.html#a44bd8b8dbed5d614c1de76fba22a1693">xfs_attr3_leaf_hdr_size</a></div><div class="ttdeci">static int xfs_attr3_leaf_hdr_size(struct xfs_attr_leafblock *leafp)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:787</div></div>
<div class="ttc" id="structxfs__da3__blkinfo_html_a4dfe1d8dce154cd4b02a28f8ff95ad29"><div class="ttname"><a href="structxfs__da3__blkinfo.html#a4dfe1d8dce154cd4b02a28f8ff95ad29">xfs_da3_blkinfo::crc</a></div><div class="ttdeci">__be32 crc</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:60</div></div>
<div class="ttc" id="structxfs__attr__leaf__entry_html"><div class="ttname"><a href="structxfs__attr__leaf__entry.html">xfs_attr_leaf_entry</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:658</div></div>
<div class="ttc" id="structxfs__dir3__leaf__hdr_html_a700b172894554d29e6f429a47c22e3f8"><div class="ttname"><a href="structxfs__dir3__leaf__hdr.html#a700b172894554d29e6f429a47c22e3f8">xfs_dir3_leaf_hdr::count</a></div><div class="ttdeci">__be16 count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:444</div></div>
<div class="ttc" id="structxfs__da__node__hdr_html_a037d94afa2370d4af542b381b5e4d372"><div class="ttname"><a href="structxfs__da__node__hdr.html#a037d94afa2370d4af542b381b5e4d372">xfs_da_node_hdr::__count</a></div><div class="ttdeci">__be16 __count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:80</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__hdr_html_a9f173b2ee54408044a82bd68fc6650e2"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#a9f173b2ee54408044a82bd68fc6650e2">xfs_attr_shortform::xfs_attr_sf_hdr::padding</a></div><div class="ttdeci">__u8 padding</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:632</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a077e3fd230646804cc0c1377e48396d7"><div class="ttname"><a href="xfs__da__format_8h.html#a077e3fd230646804cc0c1377e48396d7">xfs_dir2_sf_put_offset</a></div><div class="ttdeci">static void xfs_dir2_sf_put_offset(xfs_dir2_sf_entry_t *sfep, xfs_dir2_data_aoff_t off)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:260</div></div>
<div class="ttc" id="structxfs__sb_html_a6bfa697f12f62e400eff6fa1938f89bb"><div class="ttname"><a href="structxfs__sb.html#a6bfa697f12f62e400eff6fa1938f89bb">xfs_sb::sb_blocklog</a></div><div class="ttdeci">uint8_t sb_blocklog</div><div class="ttdef"><b>Definition:</b> xfs_format.h:126</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html_a048d30b2c3d0288f062cacb367fce173"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html#a048d30b2c3d0288f062cacb367fce173">xfs_dir3_blk_hdr::lsn</a></div><div class="ttdeci">__be64 lsn</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:340</div></div>
<div class="ttc" id="structxfs__dir3__data__hdr_html_a0c399b7884f83fd9e75f1ee842afc665"><div class="ttname"><a href="structxfs__dir3__data__hdr.html#a0c399b7884f83fd9e75f1ee842afc665">xfs_dir3_data_hdr::pad</a></div><div class="ttdeci">__be32 pad</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:348</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a34a6026c0bb7f08165b6dcdc1097ce40"><div class="ttname"><a href="xfs__da__format_8h.html#a34a6026c0bb7f08165b6dcdc1097ce40">xfs_dir2_data_entry_t</a></div><div class="ttdeci">struct xfs_dir2_data_entry xfs_dir2_data_entry_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a8ae04232c5e4b1cfb98b36fae5a1bc0f"><div class="ttname"><a href="xfs__da__format_8h.html#a8ae04232c5e4b1cfb98b36fae5a1bc0f">XFS_ATTR_LEAF_MAPSIZE</a></div><div class="ttdeci">#define XFS_ATTR_LEAF_MAPSIZE</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:623</div></div>
<div class="ttc" id="structxfs__dir3__leaf__hdr_html_a27e5e378f17ad9c7c4fd8dee026c30ba"><div class="ttname"><a href="structxfs__dir3__leaf__hdr.html#a27e5e378f17ad9c7c4fd8dee026c30ba">xfs_dir3_leaf_hdr::stale</a></div><div class="ttdeci">__be16 stale</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:445</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html_ab52c2d1b8abeea3c1e00a5af4f27bc6d"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html#ab52c2d1b8abeea3c1e00a5af4f27bc6d">xfs_attr_leaf_hdr::firstused</a></div><div class="ttdeci">__be16 firstused</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:651</div></div>
<div class="ttc" id="structxfs__dir2__leaf__hdr_html"><div class="ttname"><a href="structxfs__dir2__leaf__hdr.html">xfs_dir2_leaf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:436</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aeae5eef25e350fae44e2cfe4f688f1c1"><div class="ttname"><a href="xfs__da__format_8h.html#aeae5eef25e350fae44e2cfe4f688f1c1">xfs_attr_shortform_t</a></div><div class="ttdeci">struct xfs_attr_shortform xfs_attr_shortform_t</div></div>
<div class="ttc" id="union____packed_html"><div class="ttname"><a href="union____packed.html">__packed</a></div><div class="ttdef"><b>Definition:</b> hfsplus_raw.h:325</div></div>
<div class="ttc" id="structxfs__da__node__hdr_html_a4c5c30e829ebbdc140e36a53ec62c97d"><div class="ttname"><a href="structxfs__da__node__hdr.html#a4c5c30e829ebbdc140e36a53ec62c97d">xfs_da_node_hdr::__level</a></div><div class="ttdeci">__be16 __level</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:81</div></div>
<div class="ttc" id="structxfs__da3__icnode__hdr_html_ab4d92565ed2b0e0dca68a25aa87cd955"><div class="ttname"><a href="structxfs__da3__icnode__hdr.html#ab4d92565ed2b0e0dca68a25aa87cd955">xfs_da3_icnode_hdr::back</a></div><div class="ttdeci">uint32_t back</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:115</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ad0bc451a24d56a391ff641182dbed446"><div class="ttname"><a href="xfs__da__format_8h.html#ad0bc451a24d56a391ff641182dbed446">xfs_attr3_leaf_name_remote</a></div><div class="ttdeci">static xfs_attr_leaf_name_remote_t * xfs_attr3_leaf_name_remote(xfs_attr_leafblock_t *leafp, int idx)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:814</div></div>
<div class="ttc" id="structxfs__attr__leaf__entry_html_ace1e6d03c2b5a581098ca7378a0f7bcb"><div class="ttname"><a href="structxfs__attr__leaf__entry.html#ace1e6d03c2b5a581098ca7378a0f7bcb">xfs_attr_leaf_entry::hashval</a></div><div class="ttdeci">__be32 hashval</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:659</div></div>
<div class="ttc" id="structxfs__da__node__hdr_html"><div class="ttname"><a href="structxfs__da__node__hdr.html">xfs_da_node_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:78</div></div>
<div class="ttc" id="structxfs__da__node__entry_html_ac8fef3371e48db68302095f62bc0cd5f"><div class="ttname"><a href="structxfs__da__node__entry.html#ac8fef3371e48db68302095f62bc0cd5f">xfs_da_node_entry::before</a></div><div class="ttdeci">__be32 before</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:95</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__local_html"><div class="ttname"><a href="structxfs__attr__leaf__name__local.html">xfs_attr_leaf_name_local</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:665</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html_a1de8a499325b5b16a34fb939b7a5d589"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html#a1de8a499325b5b16a34fb939b7a5d589">xfs_attr_leaf_hdr::count</a></div><div class="ttdeci">__be16 count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:649</div></div>
<div class="ttc" id="structxfs__da3__icnode__hdr_html"><div class="ttname"><a href="structxfs__da3__icnode__hdr.html">xfs_da3_icnode_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:113</div></div>
<div class="ttc" id="structxfs__dir3__icfree__hdr_html_a1f3f8b277377ff66f8e4838185814aaf"><div class="ttname"><a href="structxfs__dir3__icfree__hdr.html#a1f3f8b277377ff66f8e4838185814aaf">xfs_dir3_icfree_hdr::firstdb</a></div><div class="ttdeci">uint32_t firstdb</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:542</div></div>
<div class="ttc" id="structxfs__attr__leafblock_html"><div class="ttname"><a href="structxfs__attr__leafblock.html">xfs_attr_leafblock</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:678</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__local_html_acf6c1fa16798a22d8383fb01f08384d4"><div class="ttname"><a href="structxfs__attr__leaf__name__local.html#acf6c1fa16798a22d8383fb01f08384d4">xfs_attr_leaf_name_local::valuelen</a></div><div class="ttdeci">__be16 valuelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:666</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html_a3084eebc5bf8d2ef516b4a64c8aa01a2"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html#a3084eebc5bf8d2ef516b4a64c8aa01a2">xfs_attr3_leaf_hdr::count</a></div><div class="ttdeci">__be16 count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:699</div></div>
<div class="ttc" id="structxfs__da3__node__hdr_html_a832c223141b4112e94142b7bb565f7a4"><div class="ttname"><a href="structxfs__da3__node__hdr.html#a832c223141b4112e94142b7bb565f7a4">xfs_da3_node_hdr::__pad32</a></div><div class="ttdeci">__be32 __pad32</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:88</div></div>
<div class="ttc" id="structxfs__dir2__free__hdr_html_ab10e4c8c78826479cad5633d9b6c639d"><div class="ttname"><a href="structxfs__dir2__free__hdr.html#ab10e4c8c78826479cad5633d9b6c639d">xfs_dir2_free_hdr::nused</a></div><div class="ttdeci">__be32 nused</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:510</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a2a364f6c9e72b04154abfc053d0c8a83"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a2a364f6c9e72b04154abfc053d0c8a83">xfs_attr3_rmt_hdr::rm_bytes</a></div><div class="ttdeci">__be32 rm_bytes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:864</div></div>
<div class="ttc" id="structxfs__da3__node__hdr_html_ada6cc5ae3dfe99df02eec8517f8d815b"><div class="ttname"><a href="structxfs__da3__node__hdr.html#ada6cc5ae3dfe99df02eec8517f8d815b">xfs_da3_node_hdr::__level</a></div><div class="ttdeci">__be16 __level</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:87</div></div>
<div class="ttc" id="structxfs__dir2__sf__entry_html"><div class="ttname"><a href="structxfs__dir2__sf__entry.html">xfs_dir2_sf_entry</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:234</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a54d4a44042edc4cda23c60db96c014b8"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a54d4a44042edc4cda23c60db96c014b8">xfs_attr3_icleaf_hdr::count</a></div><div class="ttdeci">uint16_t count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:731</div></div>
<div class="ttc" id="structxfs__dir2__free__hdr_html_ad099f4e0e55b7f5bd459aaef236c435b"><div class="ttname"><a href="structxfs__dir2__free__hdr.html#ad099f4e0e55b7f5bd459aaef236c435b">xfs_dir2_free_hdr::magic</a></div><div class="ttdeci">__be32 magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:507</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a8c6e30d63bef069e7e05b123b96a9d47"><div class="ttname"><a href="xfs__da__format_8h.html#a8c6e30d63bef069e7e05b123b96a9d47">xfs_dir2_data_off_t</a></div><div class="ttdeci">uint16_t xfs_dir2_data_off_t</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:190</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a5c43ea770407cedfafca805595892382"><div class="ttname"><a href="xfs__da__format_8h.html#a5c43ea770407cedfafca805595892382">xfs_dir2_dirblock_bytes</a></div><div class="ttdeci">static unsigned int xfs_dir2_dirblock_bytes(struct xfs_sb *sbp)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:879</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ae560ab65cba9c17ce94ffa09badb8680"><div class="ttname"><a href="xfs__da__format_8h.html#ae560ab65cba9c17ce94ffa09badb8680">xfs_dir2_free_t</a></div><div class="ttdeci">struct xfs_dir2_free xfs_dir2_free_t</div></div>
<div class="ttc" id="structxfs__da__blkinfo_html_a88da5bc5447b7bbbb7d37f47844ebc3d"><div class="ttname"><a href="structxfs__da__blkinfo.html#a88da5bc5447b7bbbb7d37f47844ebc3d">xfs_da_blkinfo::pad</a></div><div class="ttdeci">__be16 pad</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:37</div></div>
<div class="ttc" id="structxfs__attr__leafblock_html_a75b6c2e63f270345ce1bc7859e044323"><div class="ttname"><a href="structxfs__attr__leafblock.html#a75b6c2e63f270345ce1bc7859e044323">xfs_attr_leafblock::hdr</a></div><div class="ttdeci">xfs_attr_leaf_hdr_t hdr</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:679</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a640c0f9d08beb91411907a691082b8e2"><div class="ttname"><a href="xfs__da__format_8h.html#a640c0f9d08beb91411907a691082b8e2">xfs_dir2_block_tail_t</a></div><div class="ttdeci">struct xfs_dir2_block_tail xfs_dir2_block_tail_t</div></div>
<div class="ttc" id="structxfs__da3__blkinfo_html_aaa4834c766af6a24ca41bc876f943294"><div class="ttname"><a href="structxfs__da3__blkinfo.html#aaa4834c766af6a24ca41bc876f943294">xfs_da3_blkinfo::uuid</a></div><div class="ttdeci">uuid_t uuid</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:63</div></div>
<div class="ttc" id="structxfs__attr__leaf__entry_html_a6fa83eec133082cd360fb5f3c2bccc66"><div class="ttname"><a href="structxfs__attr__leaf__entry.html#a6fa83eec133082cd360fb5f3c2bccc66">xfs_attr_leaf_entry::nameidx</a></div><div class="ttdeci">__be16 nameidx</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:660</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aa9d054751bf3cae6dbf6d8b5e8abe2ea"><div class="ttname"><a href="xfs__da__format_8h.html#aa9d054751bf3cae6dbf6d8b5e8abe2ea">xfs_dir2_leaf_bests_p</a></div><div class="ttdeci">static __be16 * xfs_dir2_leaf_bests_p(struct xfs_dir2_leaf_tail *ltp)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:491</div></div>
<div class="ttc" id="structxfs__da3__icnode__hdr_html_a1fec5c69d8d9751af654adc667f2e0bb"><div class="ttname"><a href="structxfs__da3__icnode__hdr.html#a1fec5c69d8d9751af654adc667f2e0bb">xfs_da3_icnode_hdr::forw</a></div><div class="ttdeci">uint32_t forw</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:114</div></div>
<div class="ttc" id="structxfs__dir2__data__unused_html_af4f11b9a315f656c1184ecaec665d199"><div class="ttname"><a href="structxfs__dir2__data__unused.html#af4f11b9a315f656c1184ecaec665d199">xfs_dir2_data_unused::length</a></div><div class="ttdeci">__be16 length</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:380</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a8ac1bb4bb31a526aa1b1f3691438d373"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a8ac1bb4bb31a526aa1b1f3691438d373">xfs_attr3_rmt_hdr::rm_offset</a></div><div class="ttdeci">__be32 rm_offset</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:863</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a6db2b76a96c81df26627ff797609fe3f"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a6db2b76a96c81df26627ff797609fe3f">xfs_attr3_icleaf_hdr::holes</a></div><div class="ttdeci">__u8 holes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:740</div></div>
<div class="ttc" id="structxfs__dir3__icfree__hdr_html_a449745c0767f8e9318229c8409779f07"><div class="ttname"><a href="structxfs__dir3__icfree__hdr.html#a449745c0767f8e9318229c8409779f07">xfs_dir3_icfree_hdr::nvalid</a></div><div class="ttdeci">uint32_t nvalid</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:543</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ac5993ee22247ebc70987514d9a7e3371"><div class="ttname"><a href="xfs__da__format_8h.html#ac5993ee22247ebc70987514d9a7e3371">xfs_attr_leaf_entsize_remote</a></div><div class="ttdeci">static int xfs_attr_leaf_entsize_remote(int nlen)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:830</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a35586bea48b6fe8761a58bac0d5e465e"><div class="ttname"><a href="xfs__da__format_8h.html#a35586bea48b6fe8761a58bac0d5e465e">xfs_dir2_sf_hdr_t</a></div><div class="ttdeci">struct xfs_dir2_sf_hdr xfs_dir2_sf_hdr_t</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a8755808b035709e3528ee1139932ba72"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a8755808b035709e3528ee1139932ba72">xfs_attr3_rmt_hdr::rm_crc</a></div><div class="ttdeci">__be32 rm_crc</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:865</div></div>
<div class="ttc" id="structxfs__dir3__icleaf__hdr_html_a27fc00fffe7a906c3ebe9539299b3332"><div class="ttname"><a href="structxfs__dir3__icleaf__hdr.html#a27fc00fffe7a906c3ebe9539299b3332">xfs_dir3_icleaf_hdr::count</a></div><div class="ttdeci">uint16_t count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:453</div></div>
<div class="ttc" id="structxfs__da3__icnode__hdr_html_af5266db50bb9a30133ea28cff46285bd"><div class="ttname"><a href="structxfs__da3__icnode__hdr.html#af5266db50bb9a30133ea28cff46285bd">xfs_da3_icnode_hdr::level</a></div><div class="ttdeci">uint16_t level</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:118</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html_a24d6bdb0593b4c0a5014d2623298ad97"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html#a24d6bdb0593b4c0a5014d2623298ad97">xfs_attr3_leaf_hdr::usedbytes</a></div><div class="ttdeci">__be16 usedbytes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:700</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__entry_html_a686dc41424bb229d8fa36ff2f6c85c87"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#a686dc41424bb229d8fa36ff2f6c85c87">xfs_attr_shortform::xfs_attr_sf_entry::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:637</div></div>
<div class="ttc" id="xfs__linux_8h_html_a4b518f8560ac0abcb2df9a7afad1c216"><div class="ttname"><a href="xfs__linux_8h.html#a4b518f8560ac0abcb2df9a7afad1c216">xfs_off_t</a></div><div class="ttdeci">__s64 xfs_off_t</div><div class="ttdef"><b>Definition:</b> xfs_linux.h:28</div></div>
<div class="ttc" id="structxfs__dir3__icfree__hdr_html_a9e0477dc6f6e3f67dcabb8e3baca6bc1"><div class="ttname"><a href="structxfs__dir3__icfree__hdr.html#a9e0477dc6f6e3f67dcabb8e3baca6bc1">xfs_dir3_icfree_hdr::nused</a></div><div class="ttdeci">uint32_t nused</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:544</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a9ee9039ef153b061c45ec29cbe09a51c"><div class="ttname"><a href="xfs__da__format_8h.html#a9ee9039ef153b061c45ec29cbe09a51c">xfs_dir2_leaf_hdr_t</a></div><div class="ttdeci">struct xfs_dir2_leaf_hdr xfs_dir2_leaf_hdr_t</div></div>
<div class="ttc" id="structxfs__dir2__block__tail_html_ae4846b9d545aa5afd45f9d77dcb75a60"><div class="ttname"><a href="structxfs__dir2__block__tail.html#ae4846b9d545aa5afd45f9d77dcb75a60">xfs_dir2_block_tail::stale</a></div><div class="ttdeci">__be32 stale</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:576</div></div>
<div class="ttc" id="structxfs__da3__blkinfo_html_a1f4575bfcc561b96d53dc9144ffcb03a"><div class="ttname"><a href="structxfs__da3__blkinfo.html#a1f4575bfcc561b96d53dc9144ffcb03a">xfs_da3_blkinfo::blkno</a></div><div class="ttdeci">__be64 blkno</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:61</div></div>
<div class="ttc" id="structxfs__dir3__leaf_html"><div class="ttname"><a href="structxfs__dir3__leaf.html">xfs_dir3_leaf</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:480</div></div>
<div class="ttc" id="structxfs__da__blkinfo_html"><div class="ttname"><a href="structxfs__da__blkinfo.html">xfs_da_blkinfo</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:33</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a11ade4269622ee07fd97e1e14b7d9ec8"><div class="ttname"><a href="xfs__da__format_8h.html#a11ade4269622ee07fd97e1e14b7d9ec8">xfs_attr_leaf_name_remote_t</a></div><div class="ttdeci">struct xfs_attr_leaf_name_remote xfs_attr_leaf_name_remote_t</div></div>
<div class="ttc" id="structxfs__da__blkinfo_html_af4b150bfaf0dc99efb2218272e089e2a"><div class="ttname"><a href="structxfs__da__blkinfo.html#af4b150bfaf0dc99efb2218272e089e2a">xfs_da_blkinfo::magic</a></div><div class="ttdeci">__be16 magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:36</div></div>
<div class="ttc" id="structxfs__dir2__sf__entry_html_ae661055d5caec0604753fdb65d9c8241"><div class="ttname"><a href="structxfs__dir2__sf__entry.html#ae661055d5caec0604753fdb65d9c8241">xfs_dir2_sf_entry::offset</a></div><div class="ttdeci">__u8 offset[2]</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:236</div></div>
<div class="ttc" id="cifspdu_8h_html_a2c3fea65ca28d35418a685da0c7c4ebe"><div class="ttname"><a href="cifspdu_8h.html#a2c3fea65ca28d35418a685da0c7c4ebe">hdr</a></div><div class="ttdeci">struct smb_hdr hdr</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="structxfs__dir2__leaf__entry_html"><div class="ttname"><a href="structxfs__dir2__leaf__entry.html">xfs_dir2_leaf_entry</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:460</div></div>
<div class="ttc" id="structxfs__dir3__icleaf__hdr_html_ab7033f00d5179ae26b3bc40f5a0363c4"><div class="ttname"><a href="structxfs__dir3__icleaf__hdr.html#ab7033f00d5179ae26b3bc40f5a0363c4">xfs_dir3_icleaf_hdr::stale</a></div><div class="ttdeci">uint16_t stale</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:454</div></div>
<div class="ttc" id="structxfs__da3__icnode__hdr_html_a3d2d05e6b70c97a4eeb5ff3ab8654d3c"><div class="ttname"><a href="structxfs__da3__icnode__hdr.html#a3d2d05e6b70c97a4eeb5ff3ab8654d3c">xfs_da3_icnode_hdr::count</a></div><div class="ttdeci">uint16_t count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:117</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_aafb06d8187c0cc24595bf6c6e569cc98"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#aafb06d8187c0cc24595bf6c6e569cc98">xfs_attr3_icleaf_hdr::magic</a></div><div class="ttdeci">uint16_t magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:730</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__remote_html_a531f99b1cd5e5311614c8f61d1e6036d"><div class="ttname"><a href="structxfs__attr__leaf__name__remote.html#a531f99b1cd5e5311614c8f61d1e6036d">xfs_attr_leaf_name_remote::namelen</a></div><div class="ttdeci">__u8 namelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:674</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ae240bd5a8e9308681e9628f030d11592"><div class="ttname"><a href="xfs__da__format_8h.html#ae240bd5a8e9308681e9628f030d11592">xfs_da_node_hdr_t</a></div><div class="ttdeci">struct xfs_da_node_hdr xfs_da_node_hdr_t</div></div>
<div class="ttc" id="structxfs__sb_html_a622a651ead5ad634405e293abf72a931"><div class="ttname"><a href="structxfs__sb.html#a622a651ead5ad634405e293abf72a931">xfs_sb::sb_dirblklog</a></div><div class="ttdeci">uint8_t sb_dirblklog</div><div class="ttdef"><b>Definition:</b> xfs_format.h:155</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a1bd010179d64a619b53c1091b7f3e029"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a1bd010179d64a619b53c1091b7f3e029">xfs_attr3_rmt_hdr::rm_magic</a></div><div class="ttdeci">__be32 rm_magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:862</div></div>
<div class="ttc" id="structxfs__da__node__entry_html_a11c0cda8211dc628665433c8f5d0a6fc"><div class="ttname"><a href="structxfs__da__node__entry.html#a11c0cda8211dc628665433c8f5d0a6fc">xfs_da_node_entry::hashval</a></div><div class="ttdeci">__be32 hashval</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:94</div></div>
<div class="ttc" id="structxfs__dir2__data__unused_html"><div class="ttname"><a href="structxfs__dir2__data__unused.html">xfs_dir2_data_unused</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:378</div></div>
<div class="ttc" id="structxfs__dir2__data__hdr_html"><div class="ttname"><a href="structxfs__dir2__data__hdr.html">xfs_dir2_data_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:324</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a0bb3cb7fbb2ef16cfa7b71d1a5104c34"><div class="ttname"><a href="xfs__da__format_8h.html#a0bb3cb7fbb2ef16cfa7b71d1a5104c34">xfs_dir2_leaf_tail_t</a></div><div class="ttdeci">struct xfs_dir2_leaf_tail xfs_dir2_leaf_tail_t</div></div>
<div class="ttc" id="structxfs__attr__leaf__map_html_a64f1e4834c18cb23fb5ffb28a7497881"><div class="ttname"><a href="structxfs__attr__leaf__map.html#a64f1e4834c18cb23fb5ffb28a7497881">xfs_attr_leaf_map::size</a></div><div class="ttdeci">__be16 size</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:644</div></div>
<div class="ttc" id="structxfs__dir3__leaf__hdr_html_afd1f7fc2e400b99dad1413bb7b612061"><div class="ttname"><a href="structxfs__dir3__leaf__hdr.html#afd1f7fc2e400b99dad1413bb7b612061">xfs_dir3_leaf_hdr::pad</a></div><div class="ttdeci">__be32 pad</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:446</div></div>
<div class="ttc" id="structxfs__da3__icnode__hdr_html_ac6a93f8af2f602f0fcc86b7b26948c5e"><div class="ttname"><a href="structxfs__da3__icnode__hdr.html#ac6a93f8af2f602f0fcc86b7b26948c5e">xfs_da3_icnode_hdr::magic</a></div><div class="ttdeci">uint16_t magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:116</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html_a196cf1450d07b8aa49ed6fb482b4afab"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html#a196cf1450d07b8aa49ed6fb482b4afab">xfs_attr_leaf_hdr::holes</a></div><div class="ttdeci">__u8 holes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:652</div></div>
<div class="ttc" id="structxfs__dir2__data__unused_html_a8df008961e97bc9f58eb4098075f5401"><div class="ttname"><a href="structxfs__dir2__data__unused.html#a8df008961e97bc9f58eb4098075f5401">xfs_dir2_data_unused::tag</a></div><div class="ttdeci">__be16 tag</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:382</div></div>
<div class="ttc" id="xfs__da__format_8h_html_abac61a53ac25111780e5748ecdc51807"><div class="ttname"><a href="xfs__da__format_8h.html#abac61a53ac25111780e5748ecdc51807">xfs_attr_leaf_entry_t</a></div><div class="ttdeci">struct xfs_attr_leaf_entry xfs_attr_leaf_entry_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a5a282f9d08725caa08ed5c036b2bd592"><div class="ttname"><a href="xfs__da__format_8h.html#a5a282f9d08725caa08ed5c036b2bd592">xfs_attr3_leaf_name</a></div><div class="ttdeci">static char * xfs_attr3_leaf_name(xfs_attr_leafblock_t *leafp, int idx)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:806</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html_aeee967ef82f53fcb13cff01180b7579d"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html#aeee967ef82f53fcb13cff01180b7579d">xfs_dir3_blk_hdr::uuid</a></div><div class="ttdeci">uuid_t uuid</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:341</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a3cf5d18fb2db63be89271d4da997df29"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a3cf5d18fb2db63be89271d4da997df29">xfs_attr3_icleaf_hdr::back</a></div><div class="ttdeci">uint32_t back</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:729</div></div>
<div class="ttc" id="structxfs__dir2__free_html_add39ef92649fd014bff70c68e2ea554a"><div class="ttname"><a href="structxfs__dir2__free.html#add39ef92649fd014bff70c68e2ea554a">xfs_dir2_free::hdr</a></div><div class="ttdeci">xfs_dir2_free_hdr_t hdr</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:514</div></div>
<div class="ttc" id="structxfs__dir2__leaf__entry_html_a7c07d19dd586e2b93f066fc06734b2b8"><div class="ttname"><a href="structxfs__dir2__leaf__entry.html#a7c07d19dd586e2b93f066fc06734b2b8">xfs_dir2_leaf_entry::hashval</a></div><div class="ttdeci">__be32 hashval</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:461</div></div>
<div class="ttc" id="structxfs__dir2__data__hdr_html_adfc9a8998be23fb387b3155995c08580"><div class="ttname"><a href="structxfs__dir2__data__hdr.html#adfc9a8998be23fb387b3155995c08580">xfs_dir2_data_hdr::magic</a></div><div class="ttdeci">__be32 magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:325</div></div>
<div class="ttc" id="xfs__da__format_8h_html_afc87297f915e74dac91d824a8bb42471"><div class="ttname"><a href="xfs__da__format_8h.html#afc87297f915e74dac91d824a8bb42471">xfs_attr_leaf_map_t</a></div><div class="ttdeci">struct xfs_attr_leaf_map xfs_attr_leaf_map_t</div></div>
<div class="ttc" id="structxfs__da3__blkinfo_html_aa0ca3a70fc4c751a3b68d3dadba8d408"><div class="ttname"><a href="structxfs__da3__blkinfo.html#aa0ca3a70fc4c751a3b68d3dadba8d408">xfs_da3_blkinfo::owner</a></div><div class="ttdeci">__be64 owner</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:64</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html">xfs_attr3_leaf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:697</div></div>
<div class="ttc" id="xfs__da__format_8h_html_af89f870d444e16b13bf9106e0bbb7e60"><div class="ttname"><a href="xfs__da__format_8h.html#af89f870d444e16b13bf9106e0bbb7e60">xfs_dir2_sf_hdr_size</a></div><div class="ttdeci">static int xfs_dir2_sf_hdr_size(int i8count)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:247</div></div>
<div class="ttc" id="structxfs__da3__blkinfo_html"><div class="ttname"><a href="structxfs__da3__blkinfo.html">xfs_da3_blkinfo</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:53</div></div>
<div class="ttc" id="structxfs__sb_html"><div class="ttname"><a href="structxfs__sb.html">xfs_sb</a></div><div class="ttdef"><b>Definition:</b> xfs_format.h:105</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html_a8f2a49739c4739ffc63d37b3f33bf250"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html#a8f2a49739c4739ffc63d37b3f33bf250">xfs_attr3_leaf_hdr::firstused</a></div><div class="ttdeci">__be16 firstused</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:701</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html_ac83cc10a84e7e0080106081027edcf48"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html#ac83cc10a84e7e0080106081027edcf48">xfs_attr3_leaf_hdr::holes</a></div><div class="ttdeci">__u8 holes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:702</div></div>
<div class="ttc" id="structxfs__dir3__data__hdr_html"><div class="ttname"><a href="structxfs__dir3__data__hdr.html">xfs_dir3_data_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:345</div></div>
<div class="ttc" id="structxfs__attr__leaf__entry_html_a94625b57980e827a85385124de6432b0"><div class="ttname"><a href="structxfs__attr__leaf__entry.html#a94625b57980e827a85385124de6432b0">xfs_attr_leaf_entry::pad2</a></div><div class="ttdeci">__u8 pad2</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:662</div></div>
<div class="ttc" id="structxfs__da3__intnode_html"><div class="ttname"><a href="structxfs__da3__intnode.html">xfs_da3_intnode</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:103</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a9ee648e7d2404bb1e66205eadda4d624"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a9ee648e7d2404bb1e66205eadda4d624">xfs_attr3_rmt_hdr::rm_uuid</a></div><div class="ttdeci">uuid_t rm_uuid</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:866</div></div>
<div class="ttc" id="structxfs__dir3__free__hdr_html_ad8efa46a241d0fe6795fd536cf727ab8"><div class="ttname"><a href="structxfs__dir3__free__hdr.html#ad8efa46a241d0fe6795fd536cf727ab8">xfs_dir3_free_hdr::pad</a></div><div class="ttdeci">__be32 pad</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:524</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__hdr_html_ae9d1dad496750fea1d278986f7277441"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html#ae9d1dad496750fea1d278986f7277441">xfs_attr_shortform::xfs_attr_sf_hdr::count</a></div><div class="ttdeci">__u8 count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:631</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__hdr_html"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__hdr.html">xfs_attr_shortform::xfs_attr_sf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:629</div></div>
<div class="ttc" id="structxfs__dir2__leaf_html_a144cc297e964ec04acac3bd3340ab11b"><div class="ttname"><a href="structxfs__dir2__leaf.html#a144cc297e964ec04acac3bd3340ab11b">xfs_dir2_leaf::hdr</a></div><div class="ttdeci">xfs_dir2_leaf_hdr_t hdr</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:476</div></div>
<div class="ttc" id="structxfs__dir2__block__tail_html"><div class="ttname"><a href="structxfs__dir2__block__tail.html">xfs_dir2_block_tail</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:574</div></div>
<div class="ttc" id="structxfs__da3__blkinfo_html_aceecd9673ac864f1b6718b3f2fea966b"><div class="ttname"><a href="structxfs__da3__blkinfo.html#aceecd9673ac864f1b6718b3f2fea966b">xfs_da3_blkinfo::lsn</a></div><div class="ttdeci">__be64 lsn</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:62</div></div>
<div class="ttc" id="structxfs__attr3__leaf__hdr_html_aea1978a888d5c8fdf14a2ead8ef82d61"><div class="ttname"><a href="structxfs__attr3__leaf__hdr.html#aea1978a888d5c8fdf14a2ead8ef82d61">xfs_attr3_leaf_hdr::pad2</a></div><div class="ttdeci">__be32 pad2</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:705</div></div>
<div class="ttc" id="xfs__da__format_8h_html_adff25b72f5096a9b0b038abc9e84c969"><div class="ttname"><a href="xfs__da__format_8h.html#adff25b72f5096a9b0b038abc9e84c969">xfs_dir2_data_unused_tag_p</a></div><div class="ttdeci">static __be16 * xfs_dir2_data_unused_tag_p(struct xfs_dir2_data_unused *dup)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:389</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a87f1f9050f7b8788d375f3828f5629a7"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a87f1f9050f7b8788d375f3828f5629a7">xfs_attr3_icleaf_hdr::size</a></div><div class="ttdeci">uint16_t size</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:743</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aa2369c79bc7d9e6e78992e03185aa103"><div class="ttname"><a href="xfs__da__format_8h.html#aa2369c79bc7d9e6e78992e03185aa103">xfs_dir2_free_hdr_t</a></div><div class="ttdeci">struct xfs_dir2_free_hdr xfs_dir2_free_hdr_t</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__entry_html_a10a1f4d8bce2d8db7dbbe8fe00e1f9b4"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#a10a1f4d8bce2d8db7dbbe8fe00e1f9b4">xfs_attr_shortform::xfs_attr_sf_entry::valuelen</a></div><div class="ttdeci">uint8_t valuelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:636</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aeacebcaecb29b65c76f43c504edea2e8"><div class="ttname"><a href="xfs__da__format_8h.html#aeacebcaecb29b65c76f43c504edea2e8">xfs_attr_leaf_hdr_t</a></div><div class="ttdeci">struct xfs_attr_leaf_hdr xfs_attr_leaf_hdr_t</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_a60551b21f462d691a1ffc128bd92e666"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#a60551b21f462d691a1ffc128bd92e666">xfs_attr3_icleaf_hdr::usedbytes</a></div><div class="ttdeci">uint16_t usedbytes</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:732</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a2dafd2cc3e76dc04050eeb14dd0efb7f"><div class="ttname"><a href="xfs__da__format_8h.html#a2dafd2cc3e76dc04050eeb14dd0efb7f">xfs_attr_leafblock_t</a></div><div class="ttdeci">struct xfs_attr_leafblock xfs_attr_leafblock_t</div></div>
<div class="ttc" id="structxfs__dir3__free__hdr_html_a1440d9a8236383dabf5a02ee17211a1d"><div class="ttname"><a href="structxfs__dir3__free__hdr.html#a1440d9a8236383dabf5a02ee17211a1d">xfs_dir3_free_hdr::firstdb</a></div><div class="ttdeci">__be32 firstdb</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:521</div></div>
<div class="ttc" id="structxfs__dir2__data__free_html_af227f6c764e103a8de57c8fbb2c243b0"><div class="ttname"><a href="structxfs__dir2__data__free.html#af227f6c764e103a8de57c8fbb2c243b0">xfs_dir2_data_free::length</a></div><div class="ttdeci">__be16 length</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:316</div></div>
<div class="ttc" id="structxfs__dir2__leaf__tail_html_a5de85f05975bddc88e82bb5ea51e938c"><div class="ttname"><a href="structxfs__dir2__leaf__tail.html#a5de85f05975bddc88e82bb5ea51e938c">xfs_dir2_leaf_tail::bestcount</a></div><div class="ttdeci">__be32 bestcount</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:469</div></div>
<div class="ttc" id="structxfs__dir2__free__hdr_html_a4c564bde1bb22871a1ddd815251b9395"><div class="ttname"><a href="structxfs__dir2__free__hdr.html#a4c564bde1bb22871a1ddd815251b9395">xfs_dir2_free_hdr::nvalid</a></div><div class="ttdeci">__be32 nvalid</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:509</div></div>
<div class="ttc" id="structxfs__attr__leaf__hdr_html_a2d019427fa935ad7bdf329f3e88c9a07"><div class="ttname"><a href="structxfs__attr__leaf__hdr.html#a2d019427fa935ad7bdf329f3e88c9a07">xfs_attr_leaf_hdr::pad1</a></div><div class="ttdeci">__u8 pad1</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:653</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a509c9093a8983e049fa6a22cf73b75e8"><div class="ttname"><a href="xfs__da__format_8h.html#a509c9093a8983e049fa6a22cf73b75e8">xfs_dir2_sf_firstentry</a></div><div class="ttdeci">static struct xfs_dir2_sf_entry * xfs_dir2_sf_firstentry(struct xfs_dir2_sf_hdr *hdr)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:266</div></div>
<div class="ttc" id="structxfs__attr__leaf__entry_html_a899531e39175f7a0e6cb9feaa2bf9ace"><div class="ttname"><a href="structxfs__attr__leaf__entry.html#a899531e39175f7a0e6cb9feaa2bf9ace">xfs_attr_leaf_entry::flags</a></div><div class="ttdeci">__u8 flags</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:661</div></div>
<div class="ttc" id="structxfs__attr3__icleaf__hdr_html_aad0723d54a4d1b34230991c25a0cd079"><div class="ttname"><a href="structxfs__attr3__icleaf__hdr.html#aad0723d54a4d1b34230991c25a0cd079">xfs_attr3_icleaf_hdr::firstused</a></div><div class="ttdeci">uint32_t firstused</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:739</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a59b4ad83e4d410b896b2d1461582050c"><div class="ttname"><a href="xfs__da__format_8h.html#a59b4ad83e4d410b896b2d1461582050c">xfs_attr_leaf_name_local_t</a></div><div class="ttdeci">struct xfs_attr_leaf_name_local xfs_attr_leaf_name_local_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ab2377420eb1238c67ed7bfb4c038b692"><div class="ttname"><a href="xfs__da__format_8h.html#ab2377420eb1238c67ed7bfb4c038b692">XFS_ATTR3_LEAF_MAGIC</a></div><div class="ttdeci">#define XFS_ATTR3_LEAF_MAGIC</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:49</div></div>
<div class="ttc" id="structxfs__dir2__sf__hdr_html_abcc2b16306e1cc92bfa39fd1c3460ec8"><div class="ttname"><a href="structxfs__dir2__sf__hdr.html#abcc2b16306e1cc92bfa39fd1c3460ec8">xfs_dir2_sf_hdr::count</a></div><div class="ttdeci">uint8_t count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:229</div></div>
<div class="ttc" id="structxfs__dir2__free__hdr_html"><div class="ttname"><a href="structxfs__dir2__free__hdr.html">xfs_dir2_free_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:506</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ae1e30da023e0ed9689f97dd3331bd0f0"><div class="ttname"><a href="xfs__da__format_8h.html#ae1e30da023e0ed9689f97dd3331bd0f0">xfs_dir2_sf_get_offset</a></div><div class="ttdeci">static xfs_dir2_data_aoff_t xfs_dir2_sf_get_offset(xfs_dir2_sf_entry_t *sfep)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:254</div></div>
<div class="ttc" id="structxfs__dir3__icleaf__hdr_html_a62e7699e985873145739bf87dd0283d9"><div class="ttname"><a href="structxfs__dir3__icleaf__hdr.html#a62e7699e985873145739bf87dd0283d9">xfs_dir3_icleaf_hdr::magic</a></div><div class="ttdeci">uint16_t magic</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:452</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a5b85a8f84423d2af1eba24b44d412167"><div class="ttname"><a href="xfs__da__format_8h.html#a5b85a8f84423d2af1eba24b44d412167">xfs_da_blkinfo_t</a></div><div class="ttdeci">struct xfs_da_blkinfo xfs_da_blkinfo_t</div></div>
<div class="ttc" id="structxfs__attr__shortform_1_1xfs__attr__sf__entry_html_ab9f25c7c6e4b512a00c25bd0e63583fc"><div class="ttname"><a href="structxfs__attr__shortform_1_1xfs__attr__sf__entry.html#ab9f25c7c6e4b512a00c25bd0e63583fc">xfs_attr_shortform::xfs_attr_sf_entry::namelen</a></div><div class="ttdeci">uint8_t namelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:635</div></div>
<div class="ttc" id="structxfs__da__blkinfo_html_a09f7751740a4f6e4b041e9a322b5af33"><div class="ttname"><a href="structxfs__da__blkinfo.html#a09f7751740a4f6e4b041e9a322b5af33">xfs_da_blkinfo::forw</a></div><div class="ttdeci">__be32 forw</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:34</div></div>
<div class="ttc" id="xfs__da__format_8h_html_aee8554ca236c393f916ca21d7f21fe15"><div class="ttname"><a href="xfs__da__format_8h.html#aee8554ca236c393f916ca21d7f21fe15">xfs_dir2_leaf_t</a></div><div class="ttdeci">struct xfs_dir2_leaf xfs_dir2_leaf_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a73b24a0741ad4ae7ac108d1e94ab72b0"><div class="ttname"><a href="xfs__da__format_8h.html#a73b24a0741ad4ae7ac108d1e94ab72b0">xfs_da_intnode_t</a></div><div class="ttdeci">struct xfs_da_intnode xfs_da_intnode_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_af5837a956db95ed6e8b6ecdc6bc1c03a"><div class="ttname"><a href="xfs__da__format_8h.html#af5837a956db95ed6e8b6ecdc6bc1c03a">XFS_ATTR_LEAF_NAME_ALIGN</a></div><div class="ttdeci">#define XFS_ATTR_LEAF_NAME_ALIGN</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:784</div></div>
<div class="ttc" id="xfs__da__format_8h_html_af41d1acc6b377003384af7075be91212"><div class="ttname"><a href="xfs__da__format_8h.html#af41d1acc6b377003384af7075be91212">xfs_dir2_data_hdr_t</a></div><div class="ttdeci">struct xfs_dir2_data_hdr xfs_dir2_data_hdr_t</div></div>
<div class="ttc" id="xfs__da__format_8h_html_ad04b7eaa2b376f08830b8d2c3d64ea1f"><div class="ttname"><a href="xfs__da__format_8h.html#ad04b7eaa2b376f08830b8d2c3d64ea1f">XFS_INO64_DIFF</a></div><div class="ttdeci">#define XFS_INO64_DIFF</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:213</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__remote_html_a8e97428aceae4fe9fcd8a7aa54cd4e3a"><div class="ttname"><a href="structxfs__attr__leaf__name__remote.html#a8e97428aceae4fe9fcd8a7aa54cd4e3a">xfs_attr_leaf_name_remote::valueblk</a></div><div class="ttdeci">__be32 valueblk</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:672</div></div>
<div class="ttc" id="structxfs__da__intnode_html"><div class="ttname"><a href="structxfs__da__intnode.html">xfs_da_intnode</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:98</div></div>
<div class="ttc" id="structxfs__dir2__sf__hdr_html_ab10efb46fa380a65d612d023d7bf5b9a"><div class="ttname"><a href="structxfs__dir2__sf__hdr.html#ab10efb46fa380a65d612d023d7bf5b9a">xfs_dir2_sf_hdr::i8count</a></div><div class="ttdeci">uint8_t i8count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:230</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html">xfs_attr3_rmt_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:861</div></div>
<div class="ttc" id="structxfs__attr__leaf__name__remote_html_a7034d9aa5cf5849898e149f99aa6f4e1"><div class="ttname"><a href="structxfs__attr__leaf__name__remote.html#a7034d9aa5cf5849898e149f99aa6f4e1">xfs_attr_leaf_name_remote::valuelen</a></div><div class="ttdeci">__be32 valuelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:673</div></div>
<div class="ttc" id="cifspdu_8h_html_a7e28d0d49fe972b6aea4a399c7bc0cb0"><div class="ttname"><a href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a></div><div class="ttdeci">struct gea list[1]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="structxfs__dir3__leaf__hdr_html"><div class="ttname"><a href="structxfs__dir3__leaf__hdr.html">xfs_dir3_leaf_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:442</div></div>
<div class="ttc" id="structxfs__dir3__icleaf__hdr_html_a07a91cde13699c74c31bdc6f5c90002f"><div class="ttname"><a href="structxfs__dir3__icleaf__hdr.html#a07a91cde13699c74c31bdc6f5c90002f">xfs_dir3_icleaf_hdr::back</a></div><div class="ttdeci">uint32_t back</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:451</div></div>
<div class="ttc" id="structxfs__dir2__sf__entry_html_a2fbc09b428af3719560a972052fe7942"><div class="ttname"><a href="structxfs__dir2__sf__entry.html#a2fbc09b428af3719560a972052fe7942">xfs_dir2_sf_entry::namelen</a></div><div class="ttdeci">__u8 namelen</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:235</div></div>
<div class="ttc" id="structxfs__dir3__icleaf__hdr_html_a7fa99b19aeb6679e2d61c86cd670e9df"><div class="ttname"><a href="structxfs__dir3__icleaf__hdr.html#a7fa99b19aeb6679e2d61c86cd670e9df">xfs_dir3_icleaf_hdr::forw</a></div><div class="ttdeci">uint32_t forw</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:450</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a5888d571256d5aab2ae3dad14034a781"><div class="ttname"><a href="xfs__da__format_8h.html#a5888d571256d5aab2ae3dad14034a781">xfs_attr3_leaf_name_local</a></div><div class="ttdeci">static xfs_attr_leaf_name_local_t * xfs_attr3_leaf_name_local(xfs_attr_leafblock_t *leafp, int idx)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:820</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a62f58e4ff1f64939a3889b3fd483662d"><div class="ttname"><a href="xfs__da__format_8h.html#a62f58e4ff1f64939a3889b3fd483662d">xfs_dir2_dataptr_t</a></div><div class="ttdeci">uint32_t xfs_dir2_dataptr_t</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:197</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a916e369a4758633e0bbfb423349117be"><div class="ttname"><a href="xfs__da__format_8h.html#a916e369a4758633e0bbfb423349117be">xfs_dir2_leaf_entry_t</a></div><div class="ttdeci">struct xfs_dir2_leaf_entry xfs_dir2_leaf_entry_t</div></div>
<div class="ttc" id="structxfs__dir2__leaf__hdr_html_a38996a3bc318f4134185450befdc4650"><div class="ttname"><a href="structxfs__dir2__leaf__hdr.html#a38996a3bc318f4134185450befdc4650">xfs_dir2_leaf_hdr::info</a></div><div class="ttdeci">xfs_da_blkinfo_t info</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:437</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a910aa2bccba2499002b431ac4288891b"><div class="ttname"><a href="xfs__da__format_8h.html#a910aa2bccba2499002b431ac4288891b">xfs_dir2_db_t</a></div><div class="ttdeci">uint32_t xfs_dir2_db_t</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:209</div></div>
<div class="ttc" id="structxfs__dir2__leaf__hdr_html_a575c81a84ab9625ad6b4dfd4d50848c2"><div class="ttname"><a href="structxfs__dir2__leaf__hdr.html#a575c81a84ab9625ad6b4dfd4d50848c2">xfs_dir2_leaf_hdr::stale</a></div><div class="ttdeci">__be16 stale</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:439</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html_a7ee943abd19131ec5dc8f6fbf41f3e7f"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html#a7ee943abd19131ec5dc8f6fbf41f3e7f">xfs_dir3_blk_hdr::owner</a></div><div class="ttdeci">__be64 owner</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:342</div></div>
<div class="ttc" id="cifspdu_8h_html_a4a06ef9aaffd2c58a6d395fd433cde26"><div class="ttname"><a href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="structxfs__dir3__free__hdr_html"><div class="ttname"><a href="structxfs__dir3__free__hdr.html">xfs_dir3_free_hdr</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:519</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a04fc7fced5bf062239a4407f94c0ea22"><div class="ttname"><a href="xfs__da__format_8h.html#a04fc7fced5bf062239a4407f94c0ea22">xfs_dir2_data_unused_t</a></div><div class="ttdeci">struct xfs_dir2_data_unused xfs_dir2_data_unused_t</div></div>
<div class="ttc" id="structxfs__dir3__blk__hdr_html_a3fedddc75a9dfd48670d4fef858c569d"><div class="ttname"><a href="structxfs__dir3__blk__hdr.html#a3fedddc75a9dfd48670d4fef858c569d">xfs_dir3_blk_hdr::crc</a></div><div class="ttdeci">__be32 crc</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:338</div></div>
<div class="ttc" id="structxfs__dir3__free_html"><div class="ttname"><a href="structxfs__dir3__free.html">xfs_dir3_free</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:527</div></div>
<div class="ttc" id="structxfs__dir2__block__tail_html_ac92f79dc67ed72ee92995c9fb7e28085"><div class="ttname"><a href="structxfs__dir2__block__tail.html#ac92f79dc67ed72ee92995c9fb7e28085">xfs_dir2_block_tail::count</a></div><div class="ttdeci">__be32 count</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:575</div></div>
<div class="ttc" id="ctree_8h_html_a3875b4f2ee8a9d27ac3b3b145f934f86"><div class="ttname"><a href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a></div><div class="ttdeci">__le32 offset</div><div class="ttdef"><b>Definition:</b> ctree.h:106</div></div>
<div class="ttc" id="structxfs__attr3__leafblock_html"><div class="ttname"><a href="structxfs__attr3__leafblock.html">xfs_attr3_leafblock</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:710</div></div>
<div class="ttc" id="structxfs__attr3__rmt__hdr_html_a9fed9bdf4d3a79015f4cd1fd382048bf"><div class="ttname"><a href="structxfs__attr3__rmt__hdr.html#a9fed9bdf4d3a79015f4cd1fd382048bf">xfs_attr3_rmt_hdr::rm_lsn</a></div><div class="ttdeci">__be64 rm_lsn</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:869</div></div>
<div class="ttc" id="xfs__da__format_8h_html_a23b42f83bb3fb7360ef3c1a1dc08472d"><div class="ttname"><a href="xfs__da__format_8h.html#a23b42f83bb3fb7360ef3c1a1dc08472d">xfs_attr3_leaf_entryp</a></div><div class="ttdeci">static struct xfs_attr_leaf_entry * xfs_attr3_leaf_entryp(xfs_attr_leafblock_t *leafp)</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:795</div></div>
<div class="ttc" id="structxfs__dir2__data__entry_html_a6046a195b87febd661f03c090feee636"><div class="ttname"><a href="structxfs__dir2__data__entry.html#a6046a195b87febd661f03c090feee636">xfs_dir2_data_entry::inumber</a></div><div class="ttdeci">__be64 inumber</div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:365</div></div>
<div class="ttc" id="structxfs__dir2__data__free_html"><div class="ttname"><a href="structxfs__dir2__data__free.html">xfs_dir2_data_free</a></div><div class="ttdef"><b>Definition:</b> xfs_da_format.h:314</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_15e8a4ee4af8c535e941e32d10316bb7.html">xfs</a></li><li class="navelem"><a class="el" href="dir_701f1920f78669028446df42f913c41c.html">libxfs</a></li><li class="navelem"><a class="el" href="xfs__da__format_8h.html">xfs_da_format.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
