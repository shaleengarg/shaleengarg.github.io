<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/scan.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ubifs_2scan_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">scan.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for scan.c:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c__incl.png" border="0" usemap="#ubifs_2scan_8c" alt=""/></div>
<map name="ubifs_2scan_8c" id="ubifs_2scan_8c">
<area shape="rect" id="node2" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1225,80,1287,107"/>
<area shape="rect" id="node20" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node22" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node23" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93a80ae9e3252efb52d991f4abc7152a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a">scan_padding_bytes</a> (void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a93a80ae9e3252efb52d991f4abc7152a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab974ec909e594f54f7773880688a2334"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334">ubifs_scan_a_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs, int quiet)</td></tr>
<tr class="separator:ab974ec909e594f54f7773880688a2334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e61563282a3ab80fa1947e24f1726e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e">ubifs_start_scan</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf)</td></tr>
<tr class="separator:ac9e61563282a3ab80fa1947e24f1726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a20ae4d7200218e4b1b4ce3cd803b21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21">ubifs_end_scan</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *sleb, int lnum, int offs)</td></tr>
<tr class="separator:a7a20ae4d7200218e4b1b4ce3cd803b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582c1d1b35a0fe0cd1d73f2f88adaa67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67">ubifs_add_snod</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *sleb, void *buf, int offs)</td></tr>
<tr class="separator:a582c1d1b35a0fe0cd1d73f2f88adaa67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18197e05567059efbb981ebe037255bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb">ubifs_scanned_corruption</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *buf)</td></tr>
<tr class="separator:a18197e05567059efbb981ebe037255bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1689915d09ec86f76b30ee598b10f34e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e">ubifs_scan</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf, int quiet)</td></tr>
<tr class="separator:a1689915d09ec86f76b30ee598b10f34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e559a0c70f1f17d0886f600cd59a639"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639">ubifs_scan_destroy</a> (struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *sleb)</td></tr>
<tr class="separator:a7e559a0c70f1f17d0886f600cd59a639"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a93a80ae9e3252efb52d991f4abc7152a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93a80ae9e3252efb52d991f4abc7152a">&#9670;&nbsp;</a></span>scan_padding_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_padding_bytes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_padding_bytes - scan for padding bytes. : buffer to scan : length of buffer</p>
<p>This function returns the number of padding bytes on success and SCANNED_GARBAGE on failure. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a93a80ae9e3252efb52d991f4abc7152a_icgraph.png" border="0" usemap="#ubifs_2scan_8c_a93a80ae9e3252efb52d991f4abc7152a_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a93a80ae9e3252efb52d991f4abc7152a_icgraph" id="ubifs_2scan_8c_a93a80ae9e3252efb52d991f4abc7152a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="195,157,329,184"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="391,95,514,121"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="391,208,515,235"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="399,157,506,184"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="377,37,528,64"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="410,411,495,437"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="576,81,759,108"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="825,284,954,311"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1030,132,1157,159"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1235,360,1328,387"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1215,157,1348,184"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1235,208,1328,235"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1240,259,1323,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1237,5,1326,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1233,56,1329,83"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1230,107,1333,133"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1417,157,1491,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1406,233,1502,260"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1411,284,1497,311"/>
<area shape="rect" id="node18" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="622,233,713,260"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="593,183,741,209"/>
<area shape="rect" id="node23" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="625,335,710,361"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="1020,233,1167,260"/>
<area shape="rect" id="node21" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="837,335,942,361"/>
<area shape="rect" id="node22" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1025,335,1162,361"/>
<area shape="rect" id="node24" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="843,385,935,412"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="830,31,949,57"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1031,436,1156,463"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1220,436,1343,463"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="611,607,724,633"/>
<area shape="rect" id="node40" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="833,588,946,615"/>
<area shape="rect" id="node42" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="602,765,733,792"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="581,436,753,463"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="816,537,963,564"/>
<area shape="rect" id="node48" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="608,284,727,311"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="601,695,734,721"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="807,639,972,665"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1218,639,1345,665"/>
<area shape="rect" id="node33" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="1049,588,1138,615"/>
<area shape="rect" id="node34" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1051,639,1136,665"/>
<area shape="rect" id="node35" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1051,689,1136,716"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1403,588,1505,615"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1396,639,1512,665"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1397,689,1511,716"/>
<area shape="rect" id="node41" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1030,537,1157,564"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="820,841,959,868"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="815,487,963,513"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="811,436,968,463"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="835,791,944,817"/>
</map>
</div>

</div>
</div>
<a id="a582c1d1b35a0fe0cd1d73f2f88adaa67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582c1d1b35a0fe0cd1d73f2f88adaa67">&#9670;&nbsp;</a></span>ubifs_add_snod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_add_snod </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td>
          <td class="paramname"><em>sleb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_snod - add a scanned node to LEB scanning information. <code></code>: UBIFS file-system description object : scanning information : buffer containing node : offset of node on flash</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph.png" border="0" usemap="#ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph" id="ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="185,5,259,32"/>
<area shape="rect" id="node3" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="167,56,277,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph.png" border="0" usemap="#ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph" id="ubifs_2scan_8c_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="167,208,291,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="186,385,271,412"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="379,259,470,285"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="351,157,499,184"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="796,107,923,133"/>
<area shape="rect" id="node20" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="382,208,467,235"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="786,208,933,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1015,360,1108,387"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1179,360,1289,387"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="589,157,694,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="791,157,928,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="995,5,1128,32"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1015,56,1108,83"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1020,107,1103,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1017,157,1106,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1013,208,1109,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1010,259,1113,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1197,5,1271,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1186,132,1282,159"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1191,81,1277,108"/>
<area shape="rect" id="node21" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="595,208,687,235"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="368,664,481,691"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="585,613,698,640"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="359,563,490,589"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="339,360,511,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="568,360,715,387"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="365,461,484,488"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="358,512,491,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="559,740,724,767"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="998,639,1125,665"/>
<area shape="rect" id="node25" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="815,816,904,843"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="817,715,902,741"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="817,765,902,792"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1183,563,1285,589"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1176,613,1292,640"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1177,664,1291,691"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1185,715,1283,741"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="796,613,923,640"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1018,576,1105,603"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="572,563,711,589"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="772,563,947,589"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="567,411,715,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="563,309,720,336"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="806,461,913,488"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="829,411,890,437"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="797,309,922,336"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1000,309,1123,336"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="577,461,706,488"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="587,512,696,539"/>
</map>
</div>

</div>
</div>
<a id="a7a20ae4d7200218e4b1b4ce3cd803b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a20ae4d7200218e4b1b4ce3cd803b21">&#9670;&nbsp;</a></span>ubifs_end_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_end_scan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td>
          <td class="paramname"><em>sleb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_end_scan - update LEB scanning information at end of scan. <code></code>: UBIFS file-system description object : scanning information : logical eraseblock number : offset to start at (usually zero) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph.png" border="0" usemap="#ubifs_2scan_8c_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph" id="ubifs_2scan_8c_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="167,208,291,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="186,385,271,412"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="379,259,470,285"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="351,157,499,184"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="796,107,923,133"/>
<area shape="rect" id="node20" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="382,208,467,235"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="786,208,933,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1015,360,1108,387"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1179,360,1289,387"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="589,157,694,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="791,157,928,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="995,5,1128,32"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1015,56,1108,83"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1020,107,1103,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1017,157,1106,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1013,208,1109,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1010,259,1113,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1197,5,1271,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1186,132,1282,159"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1191,81,1277,108"/>
<area shape="rect" id="node21" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="595,208,687,235"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="368,664,481,691"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="585,613,698,640"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="359,563,490,589"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="339,360,511,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="568,360,715,387"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="365,461,484,488"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="358,512,491,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="559,740,724,767"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="998,639,1125,665"/>
<area shape="rect" id="node25" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="815,816,904,843"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="817,715,902,741"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="817,765,902,792"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1183,563,1285,589"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1176,613,1292,640"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1177,664,1291,691"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1185,715,1283,741"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="796,613,923,640"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1018,576,1105,603"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="572,563,711,589"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="772,563,947,589"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="567,411,715,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="563,309,720,336"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="806,461,913,488"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="829,411,890,437"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="797,309,922,336"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1000,309,1123,336"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="577,461,706,488"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="587,512,696,539"/>
</map>
</div>

</div>
</div>
<a id="a1689915d09ec86f76b30ee598b10f34e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1689915d09ec86f76b30ee598b10f34e">&#9670;&nbsp;</a></span>ubifs_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a>* ubifs_scan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scan - scan a logical eraseblock. <code></code>: UBIFS file-system description object : logical eraseblock number : offset to start at (usually zero) : scan buffer (must be of <code></code>-&gt;leb_size bytes in size) : print no messages</p>
<p>This function scans LEB number  and returns complete information about its contents. Returns the scanned information in case of success and, %-EUCLEAN if the LEB neads recovery, and other negative error codes in case of failure.</p>
<p>If  is non-zero, this function does not print large and scary error messages and flash dumps in case of errors. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_cgraph.png" border="0" usemap="#ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_cgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_cgraph" id="ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="147,80,265,107"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="566,105,638,132"/>
<area shape="rect" id="node5" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="139,257,273,284"/>
<area shape="rect" id="node22" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="149,308,263,335"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="149,359,263,385"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="321,131,492,157"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="139,409,273,436"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="353,80,460,107"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="336,384,477,411"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="890,295,973,321"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="343,232,470,259"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="540,409,664,436"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="735,384,810,411"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="721,536,824,563"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="725,333,820,360"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="735,587,810,613"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="712,485,833,512"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="713,435,833,461"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="890,371,973,397"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="894,523,969,549"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="892,573,971,600"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="881,624,981,651"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="892,421,971,448"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="891,472,972,499"/>
<area shape="rect" id="node23" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="351,435,462,461"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_icgraph.png" border="0" usemap="#ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_icgraph" id="ubifs_2scan_8c_a1689915d09ec86f76b30ee598b10f34e_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="156,271,269,297"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="965,372,1137,399"/>
<area shape="rect" id="node32" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="361,335,474,361"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="167,600,258,627"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="147,448,278,475"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="139,752,287,779"/>
<area shape="rect" id="node41" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="365,701,470,728"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1191,448,1337,475"/>
<area shape="rect" id="node44" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="785,549,903,576"/>
<area shape="rect" id="node46" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="170,651,255,677"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="146,803,279,829"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="335,220,500,247"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="781,144,907,171"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="591,245,680,272"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1221,245,1307,272"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1584,93,1669,120"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="796,245,892,272"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1190,347,1338,373"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1185,397,1343,424"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1400,347,1507,373"/>
<area shape="rect" id="node17" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1423,397,1484,424"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1564,308,1689,335"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1748,308,1864,335"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1737,359,1875,385"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1943,460,2036,487"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1948,257,2031,284"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1945,308,2034,335"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1941,359,2037,385"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1938,409,2041,436"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1407,549,1500,576"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1391,499,1516,525"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1743,423,1869,449"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1572,549,1681,576"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1565,499,1688,525"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1923,511,2056,537"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1000,144,1103,171"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="993,195,1109,221"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="995,43,1108,69"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1002,93,1101,120"/>
<area shape="rect" id="node33" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="572,335,699,361"/>
<area shape="rect" id="node34" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="801,397,887,424"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="771,600,917,627"/>
<area shape="rect" id="node38" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="348,448,487,475"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="548,448,723,475"/>
<area shape="rect" id="node42" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="567,651,704,677"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1199,549,1329,576"/>
<area shape="rect" id="node47" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="371,651,463,677"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="363,803,472,829"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="582,803,689,829"/>
</map>
</div>

</div>
</div>
<a id="ab974ec909e594f54f7773880688a2334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab974ec909e594f54f7773880688a2334">&#9670;&nbsp;</a></span>ubifs_scan_a_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_scan_a_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scan_a_node - scan for a node or padding. <code></code>: UBIFS file-system description object : buffer to scan : length of buffer : logical eraseblock number : offset within the logical eraseblock : print no messages</p>
<p>This function returns a scanning code to indicate what was scanned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_cgraph.png" border="0" usemap="#ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_cgraph" alt=""/></div>
<map name="ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_cgraph" id="ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="188,5,329,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="727,56,810,83"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="195,157,322,184"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="403,132,475,159"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="377,208,501,235"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="573,107,647,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="559,157,661,184"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="563,208,657,235"/>
<area shape="rect" id="node11" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="573,259,647,285"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="549,309,671,336"/>
<area shape="rect" id="node18" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="550,360,670,387"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="727,107,810,133"/>
<area shape="rect" id="node13" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="731,208,806,235"/>
<area shape="rect" id="node14" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="729,259,808,285"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="719,309,819,336"/>
<area shape="rect" id="node16" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="729,360,808,387"/>
<area shape="rect" id="node17" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="728,411,809,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_icgraph.png" border="0" usemap="#ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_icgraph" id="ubifs_2scan_8c_ab974ec909e594f54f7773880688a2334_icgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="202,81,325,108"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="201,195,325,221"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="210,144,317,171"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="188,24,339,51"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="221,397,306,424"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="387,68,569,95"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="635,271,765,297"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="841,119,967,145"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1045,335,1139,361"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1025,157,1159,184"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1045,208,1139,235"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1051,259,1133,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1047,5,1137,32"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1044,56,1140,83"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1041,107,1143,133"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1228,157,1301,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1217,284,1313,311"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1221,233,1308,260"/>
<area shape="rect" id="node17" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="433,220,523,247"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="404,169,552,196"/>
<area shape="rect" id="node22" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="435,321,521,348"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="831,220,977,247"/>
<area shape="rect" id="node20" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="647,321,753,348"/>
<area shape="rect" id="node21" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="835,321,973,348"/>
<area shape="rect" id="node23" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="654,372,746,399"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="641,17,759,44"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="841,423,967,449"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1031,423,1153,449"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="421,593,535,620"/>
<area shape="rect" id="node40" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="643,575,757,601"/>
<area shape="rect" id="node42" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="413,752,543,779"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="392,423,564,449"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="627,524,773,551"/>
<area shape="rect" id="node48" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="419,271,537,297"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="411,681,545,708"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="617,625,783,652"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1029,625,1155,652"/>
<area shape="rect" id="node32" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="859,575,949,601"/>
<area shape="rect" id="node33" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="861,625,947,652"/>
<area shape="rect" id="node34" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="861,676,947,703"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1213,600,1316,627"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1207,651,1323,677"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1208,701,1321,728"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1215,549,1314,576"/>
<area shape="rect" id="node41" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="841,524,967,551"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="631,828,769,855"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="626,473,774,500"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="621,423,779,449"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="645,777,755,804"/>
</map>
</div>

</div>
</div>
<a id="a7e559a0c70f1f17d0886f600cd59a639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e559a0c70f1f17d0886f600cd59a639">&#9670;&nbsp;</a></span>ubifs_scan_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_scan_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td>
          <td class="paramname"><em>sleb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scan_destroy - destroy LEB scanning information. : scanning information to free </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a7e559a0c70f1f17d0886f600cd59a639_icgraph.png" border="0" usemap="#ubifs_2scan_8c_a7e559a0c70f1f17d0886f600cd59a639_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a7e559a0c70f1f17d0886f600cd59a639_icgraph" id="ubifs_2scan_8c_a7e559a0c70f1f17d0886f600cd59a639_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="377,217,491,244"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1187,369,1359,396"/>
<area shape="rect" id="node30" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="582,268,695,295"/>
<area shape="rect" id="node33" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="389,724,479,751"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="369,369,499,396"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="188,775,312,801"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="360,825,508,852"/>
<area shape="rect" id="node40" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="586,825,691,852"/>
<area shape="rect" id="node42" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="391,775,477,801"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1412,395,1559,421"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="207,572,293,599"/>
<area shape="rect" id="node46" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="375,420,493,447"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="367,673,501,700"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="556,116,721,143"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1002,167,1129,193"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="812,217,901,244"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="814,116,899,143"/>
<area shape="rect" id="node24" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="814,65,899,92"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="1017,217,1113,244"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1411,344,1559,371"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1407,503,1564,529"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1622,319,1729,345"/>
<area shape="rect" id="node10" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1645,369,1706,396"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1791,293,1916,320"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1629,533,1722,560"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1613,420,1738,447"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1612,876,1739,903"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1799,533,1908,560"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1792,420,1915,447"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1787,901,1920,928"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1807,952,1900,979"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1812,1003,1895,1029"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1809,749,1898,776"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1805,800,1901,827"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1802,851,1905,877"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1221,167,1324,193"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1215,217,1331,244"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1216,65,1329,92"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1223,116,1322,143"/>
<area shape="rect" id="node31" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="793,268,920,295"/>
<area shape="rect" id="node32" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1022,420,1109,447"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="992,699,1139,725"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="569,395,708,421"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="769,408,944,435"/>
<area shape="rect" id="node41" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="788,775,925,801"/>
<area shape="rect" id="node43" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="593,775,685,801"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1421,565,1550,592"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="584,673,693,700"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="803,673,910,700"/>
</map>
</div>

</div>
</div>
<a id="a18197e05567059efbb981ebe037255bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18197e05567059efbb981ebe037255bb">&#9670;&nbsp;</a></span>ubifs_scanned_corruption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_scanned_corruption </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scanned_corruption - print information after UBIFS scanned corruption. <code></code>: UBIFS file-system description object : LEB number of corruption : offset of corruption : buffer containing corruption </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_cgraph.png" border="0" usemap="#ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_cgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_cgraph" id="ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="224,5,296,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_icgraph.png" border="0" usemap="#ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_icgraph" id="ubifs_2scan_8c_a18197e05567059efbb981ebe037255bb_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="237,284,361,311"/>
<area shape="rect" id="node21" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="224,157,375,184"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="257,487,342,513"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="463,309,554,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="435,259,583,285"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="880,157,1007,184"/>
<area shape="rect" id="node19" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="466,411,551,437"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="870,309,1017,336"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1099,487,1192,513"/>
<area shape="rect" id="node7" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="673,461,778,488"/>
<area shape="rect" id="node8" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="875,461,1012,488"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1079,157,1212,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1099,208,1192,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1104,259,1187,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1101,5,1190,32"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1097,56,1193,83"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1094,107,1197,133"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1281,157,1355,184"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1270,284,1366,311"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1275,233,1361,260"/>
<area shape="rect" id="node20" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="679,411,771,437"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="666,107,785,133"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="881,208,1006,235"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1084,309,1207,336"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="452,715,565,741"/>
<area shape="rect" id="node36" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="669,664,782,691"/>
<area shape="rect" id="node38" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="443,816,574,843"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="423,360,595,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="652,563,799,589"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="449,613,568,640"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="442,512,575,539"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="643,715,808,741"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1082,715,1209,741"/>
<area shape="rect" id="node28" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="899,765,988,792"/>
<area shape="rect" id="node29" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="901,664,986,691"/>
<area shape="rect" id="node30" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="901,715,986,741"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1267,689,1369,716"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1260,740,1376,767"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1261,791,1375,817"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1269,639,1367,665"/>
<area shape="rect" id="node37" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="880,613,1007,640"/>
<area shape="rect" id="node39" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="656,867,795,893"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="856,867,1031,893"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="651,360,799,387"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="647,259,804,285"/>
<area shape="rect" id="node43" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="890,411,997,437"/>
<area shape="rect" id="node44" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="913,360,974,387"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="661,613,790,640"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="671,512,780,539"/>
</map>
</div>

</div>
</div>
<a id="ac9e61563282a3ab80fa1947e24f1726e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e61563282a3ab80fa1947e24f1726e">&#9670;&nbsp;</a></span>ubifs_start_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a>* ubifs_start_scan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_start_scan - create LEB scanning information at start of scan. <code></code>: UBIFS file-system description object : logical eraseblock number : offset to start at (usually zero) : scan buffer (must be c-&gt;leb_size)</p>
<p>This function returns the scanned information on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_cgraph.png" border="0" usemap="#ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_cgraph" alt=""/></div>
<map name="ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_cgraph" id="ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="172,5,279,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="327,31,399,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_icgraph.png" border="0" usemap="#ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_icgraph" alt=""/></div>
<map name="ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_icgraph" id="ubifs_2scan_8c_ac9e61563282a3ab80fa1947e24f1726e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="172,208,296,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="191,385,277,412"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="385,259,475,285"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="356,157,504,184"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="801,107,928,133"/>
<area shape="rect" id="node20" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="387,208,473,235"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="791,208,938,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1020,360,1113,387"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1185,360,1294,387"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="594,157,699,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="796,157,933,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1000,5,1133,32"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1020,56,1113,83"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1025,107,1108,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1022,157,1111,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1019,208,1115,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1015,259,1118,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1203,5,1276,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1191,132,1287,159"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1196,81,1283,108"/>
<area shape="rect" id="node21" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="601,208,693,235"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="373,664,487,691"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="590,613,703,640"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="365,563,495,589"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="344,360,516,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="573,360,720,387"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="371,461,489,488"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="363,512,497,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="564,740,729,767"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1003,639,1130,665"/>
<area shape="rect" id="node25" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="820,816,909,843"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="822,715,907,741"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="822,765,907,792"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1188,563,1291,589"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1181,613,1297,640"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1183,664,1296,691"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1190,715,1289,741"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="801,613,928,640"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1023,576,1110,603"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="577,563,716,589"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="777,563,952,589"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="573,411,721,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="568,309,725,336"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="811,461,918,488"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="834,411,895,437"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="802,309,927,336"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1005,309,1128,336"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="582,461,711,488"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="592,512,701,539"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="ubifs_2scan_8c.html">scan.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
